var Aoe=Object.create;var F2=Object.defineProperty;var Moe=Object.getOwnPropertyDescriptor;var Poe=Object.getOwnPropertyNames;var Eoe=Object.getPrototypeOf,qoe=Object.prototype.hasOwnProperty;var bn=(e=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(e,{get:(r,t)=>(typeof require!="undefined"?require:r)[t]}):e)(function(e){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')});var D=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports),Ri=(e,r)=>{for(var t in r)F2(e,t,{get:r[t],enumerable:!0})},Ioe=(e,r,t,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let i of Poe(r))!qoe.call(e,i)&&i!==t&&F2(e,i,{get:()=>r[i],enumerable:!(n=Moe(r,i))||n.enumerable});return e};var Boe=(e,r,t)=>(t=e!=null?Aoe(Eoe(e)):{},Ioe(r||!e||!e.__esModule?F2(t,"default",{value:e,enumerable:!0}):t,e));var So=D(L2=>{"use strict";Object.defineProperty(L2,"__esModule",{value:!0});L2.transpose=koe;function koe(e){for(var r=e.length,t=e[0].length,n=0;n<r;n++)if(e[n].length!=t)throw new Error("Array dimension error: must be 2d array with equal row lengths");for(var i=new Array(t),c=0;c<t;c++){i[c]=new Array(r);for(var u=0;u<r;u++)i[c][u]=e[u][c]}return i}});var Sa=D(U2=>{"use strict";Object.defineProperty(U2,"__esModule",{value:!0});U2.nextpow2=joe;function joe(e){return Math.ceil(Math.log2(Math.abs(e)))}});var Od=D((KUr,zk)=>{"use strict";function _n(e){if(this.size=e|0,this.size<=1||(this.size&this.size-1)!==0)throw new Error("FFT size must be a power of two and bigger than 1");this._csize=e<<1;for(var r=new Array(this.size*2),t=0;t<r.length;t+=2){let s=Math.PI*t/this.size;r[t]=Math.cos(s),r[t+1]=-Math.sin(s)}this.table=r;for(var n=0,i=1;this.size>i;i<<=1)n++;this._width=n%2===0?n-1:n,this._bitrev=new Array(1<<this._width);for(var c=0;c<this._bitrev.length;c++){this._bitrev[c]=0;for(var u=0;u<this._width;u+=2){var a=this._width-u-2;this._bitrev[c]|=(c>>>u&3)<<a}}this._out=null,this._data=null,this._inv=0}zk.exports=_n;_n.prototype.fromComplexArray=function(r,t){for(var n=t||new Array(r.length>>>1),i=0;i<r.length;i+=2)n[i>>>1]=r[i];return n};_n.prototype.createComplexArray=function(){let r=new Array(this._csize);for(var t=0;t<r.length;t++)r[t]=0;return r};_n.prototype.toComplexArray=function(r,t){for(var n=t||this.createComplexArray(),i=0;i<n.length;i+=2)n[i]=r[i>>>1],n[i+1]=0;return n};_n.prototype.completeSpectrum=function(r){for(var t=this._csize,n=t>>>1,i=2;i<n;i+=2)r[t-i]=r[i],r[t-i+1]=-r[i+1]};_n.prototype.transform=function(r,t){if(r===t)throw new Error("Input and output buffers must be different");this._out=r,this._data=t,this._inv=0,this._transform4(),this._out=null,this._data=null};_n.prototype.realTransform=function(r,t){if(r===t)throw new Error("Input and output buffers must be different");this._out=r,this._data=t,this._inv=0,this._realTransform4(),this._out=null,this._data=null};_n.prototype.inverseTransform=function(r,t){if(r===t)throw new Error("Input and output buffers must be different");this._out=r,this._data=t,this._inv=1,this._transform4();for(var n=0;n<r.length;n++)r[n]/=this.size;this._out=null,this._data=null};_n.prototype._transform4=function(){var r=this._out,t=this._csize,n=this._width,i=1<<n,c=t/i<<1,u,a,s=this._bitrev;if(c===4)for(u=0,a=0;u<t;u+=c,a++){let h=s[a];this._singleTransform2(u,h,i)}else for(u=0,a=0;u<t;u+=c,a++){let h=s[a];this._singleTransform4(u,h,i)}var o=this._inv?-1:1,l=this.table;for(i>>=2;i>=2;i>>=2){c=t/i<<1;var d=c>>>2;for(u=0;u<t;u+=c)for(var p=u+d,f=u,v=0;f<p;f+=2,v+=i){let h=f,m=h+d,y=m+d,g=y+d,b=r[h],_=r[h+1],S=r[m],w=r[m+1],O=r[y],x=r[y+1],N=r[g],M=r[g+1],I=b,q=_,z=l[v],R=o*l[v+1],j=S*z-w*R,L=S*R+w*z,P=l[2*v],V=o*l[2*v+1],E=O*P-x*V,Z=O*V+x*P,ue=l[3*v],ye=o*l[3*v+1],X=N*ue-M*ye,le=N*ye+M*ue,Oe=I+E,ne=q+Z,fe=I-E,Me=q-Z,me=j+X,Ce=L+le,Be=o*(j-X),je=o*(L-le),We=Oe+me,Ge=ne+Ce,ie=Oe-me,pe=ne-Ce,te=fe+je,ce=Me-Be,ge=fe-je,ve=Me+Be;r[h]=We,r[h+1]=Ge,r[m]=te,r[m+1]=ce,r[y]=ie,r[y+1]=pe,r[g]=ge,r[g+1]=ve}}};_n.prototype._singleTransform2=function(r,t,n){let i=this._out,c=this._data,u=c[t],a=c[t+1],s=c[t+n],o=c[t+n+1],l=u+s,d=a+o,p=u-s,f=a-o;i[r]=l,i[r+1]=d,i[r+2]=p,i[r+3]=f};_n.prototype._singleTransform4=function(r,t,n){let i=this._out,c=this._data,u=this._inv?-1:1,a=n*2,s=n*3,o=c[t],l=c[t+1],d=c[t+n],p=c[t+n+1],f=c[t+a],v=c[t+a+1],h=c[t+s],m=c[t+s+1],y=o+f,g=l+v,b=o-f,_=l-v,S=d+h,w=p+m,O=u*(d-h),x=u*(p-m),N=y+S,M=g+w,I=b+x,q=_-O,z=y-S,R=g-w,j=b-x,L=_+O;i[r]=N,i[r+1]=M,i[r+2]=I,i[r+3]=q,i[r+4]=z,i[r+5]=R,i[r+6]=j,i[r+7]=L};_n.prototype._realTransform4=function(){var r=this._out,t=this._csize,n=this._width,i=1<<n,c=t/i<<1,u,a,s=this._bitrev;if(c===4)for(u=0,a=0;u<t;u+=c,a++){let Dt=s[a];this._singleRealTransform2(u,Dt>>>1,i>>>1)}else for(u=0,a=0;u<t;u+=c,a++){let Dt=s[a];this._singleRealTransform4(u,Dt>>>1,i>>>1)}var o=this._inv?-1:1,l=this.table;for(i>>=2;i>=2;i>>=2){c=t/i<<1;var d=c>>>1,p=d>>>1,f=p>>>1;for(u=0;u<t;u+=c)for(var v=0,h=0;v<=f;v+=2,h+=i){var m=u+v,y=m+p,g=y+p,b=g+p,_=r[m],S=r[m+1],w=r[y],O=r[y+1],x=r[g],N=r[g+1],M=r[b],I=r[b+1],q=_,z=S,R=l[h],j=o*l[h+1],L=w*R-O*j,P=w*j+O*R,V=l[2*h],E=o*l[2*h+1],Z=x*V-N*E,ue=x*E+N*V,ye=l[3*h],X=o*l[3*h+1],le=M*ye-I*X,Oe=M*X+I*ye,ne=q+Z,fe=z+ue,Me=q-Z,me=z-ue,Ce=L+le,Be=P+Oe,je=o*(L-le),We=o*(P-Oe),Ge=ne+Ce,ie=fe+Be,pe=Me+We,te=me-je;if(r[m]=Ge,r[m+1]=ie,r[y]=pe,r[y+1]=te,v===0){var ce=ne-Ce,ge=fe-Be;r[g]=ce,r[g+1]=ge;continue}if(v!==f){var ve=Me,Pe=-me,ke=ne,Te=-fe,$e=-o*We,Ue=-o*je,Ze=-o*Be,Pr=-o*Ce,Qr=ve+$e,Gr=Pe+Ue,wt=ke+Pr,cn=Te-Ze,Bt=u+p-v,un=u+d-v;r[Bt]=Qr,r[Bt+1]=Gr,r[un]=wt,r[un+1]=cn}}}};_n.prototype._singleRealTransform2=function(r,t,n){let i=this._out,c=this._data,u=c[t],a=c[t+n],s=u+a,o=u-a;i[r]=s,i[r+1]=0,i[r+2]=o,i[r+3]=0};_n.prototype._singleRealTransform4=function(r,t,n){let i=this._out,c=this._data,u=this._inv?-1:1,a=n*2,s=n*3,o=c[t],l=c[t+n],d=c[t+a],p=c[t+s],f=o+d,v=o-d,h=l+p,m=u*(l-p),y=f+h,g=v,b=-m,_=f-h,S=v,w=m;i[r]=y,i[r+1]=0,i[r+2]=g,i[r+3]=b,i[r+4]=_,i[r+5]=0,i[r+6]=S,i[r+7]=w}});var V2=D(J2=>{"use strict";Object.defineProperty(J2,"__esModule",{value:!0});J2.psd=Loe;var Toe=Sa(),Roe=Foe(Od());function Foe(e){return e&&e.__esModule?e:{default:e}}var z2={};function Loe(e,r){var t=Object.assign({fftSize:Math.pow(2,(0,Toe.nextpow2)(e.length)),truncate:!1},r),n=t.fftSize,i=t.truncate,c;z2.hasOwnProperty(n)?c=z2[n]:(c=new Roe.default(n),z2[n]=c),e.length<n&&(e=e.concat(Array(n-e.length).fill(0)));var u=c.createComplexArray();if(c.realTransform(u,e),c.completeSpectrum(u),i)var a=Jk(u,u.length/2);else var a=Jk(u,u.length);return a}function Jk(e,r){for(var t=[],n=0;n<r-1;n+=2)t.push(Math.sqrt(e[n]*e[n]+e[n+1]*e[n+1]));return t}});var H2=D(G2=>{"use strict";Object.defineProperty(G2,"__esModule",{value:!0});G2.psdBandPower=zoe;var Uoe=Sa();function zoe(e,r,t){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;n===null&&(n=Math.pow(2,(0,Uoe.nextpow2)(e.length)));var i={delta:[1,3],theta:[4,7],alpha:[8,12],beta:[13,30],gamma:[31,50]};(typeof t=="string"||t instanceof String)&&(t=i[t]);for(var c=Math.floor(t[0]/r*n),u=Math.min(Math.ceil(t[1]/r*n),e.length-1),a=0,s=c;s<u+1;s++)a+=e[s];return a/(u-c+1)}});var $2=D(W2=>{"use strict";Object.defineProperty(W2,"__esModule",{value:!0});W2.signalBandPower=Woe;var Joe=V2(),Voe=H2(),Goe=Sa(),Hoe=So();function Woe(e,r,t,n){typeof n=="number"&&(n={fftSize:n});var i=Object.assign({fftSize:Math.pow(2,(0,Goe.nextpow2)(e.length)),averageChannels:!1},n),c=i.fftSize,u=i.averageChannels;function a(h,m){var y=(0,Joe.psd)(h,{fftSize:c});return(0,Voe.psdBandPower)(y,r,m,c)}var s=typeof t=="string"||!Array.isArray(t[0])&&typeof t[0]!="string";s&&(t=[t]);var o;if(Array.isArray(e[0])){var l=e[0].length,d=(0,Hoe.transpose)(e);o=new Array(t.length);for(var p=0;p<t.length;p++){o[p]=new Array(l);for(var f=0;f<l;f++)o[p][f]=a(d[f],t[p])}}else{o=new Array(t.length);for(var v=0;v<t.length;v++)o[v]=a(e,t[v])}return s?o[0]:o}});var Vk=D(Q2=>{"use strict";Object.defineProperty(Q2,"__esModule",{value:!0});Q2.averageBandPowers=Yoe;var $oe=So(),Qoe=$2();function Yoe(e,r,t){for(var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,i=new Array(t.length),c=0;c<t.length;c++)i[c]=0;for(var u=(0,$oe.transpose)(e),a=0;a<u.length;a++)for(var s=0;s<t.length;s++){var o=(0,Qoe.signalBandPower)(u[a],r,t[s],n);i[s]+=o}for(var l=0;l<t.length;l++)i[l]=i[l]/u.length;return i}});var Nd=D(Dd=>{"use strict";Object.defineProperty(Dd,"__esModule",{value:!0});Dd.DEFAULT_CONFIG=void 0;var Zoe={epsilon:1e-12,matrix:"Matrix",number:"number",precision:64,predictable:!1,randomSeed:null};Dd.DEFAULT_CONFIG=Zoe});var He=D(br=>{"use strict";Object.defineProperty(br,"__esModule",{value:!0});br.isNumber=Xoe;br.isBigNumber=Gk;br.isComplex=Y2;br.isFraction=Z2;br.isUnit=Hk;br.isString=Koe;br.isMatrix=X2;br.isCollection=rce;br.isDenseMatrix=tce;br.isSparseMatrix=nce;br.isRange=Wk;br.isIndex=$k;br.isBoolean=ice;br.isResultSet=Qk;br.isHelp=Yk;br.isFunction=ace;br.isDate=sce;br.isRegExp=oce;br.isObject=cce;br.isNull=uce;br.isUndefined=lce;br.isAccessorNode=dce;br.isArrayNode=pce;br.isAssignmentNode=fce;br.isBlockNode=hce;br.isConditionalNode=vce;br.isConstantNode=mce;br.isFunctionAssignmentNode=yce;br.isFunctionNode=gce;br.isIndexNode=bce;br.isNode=Zk;br.isObjectNode=_ce;br.isOperatorNode=wce;br.isParenthesisNode=Sce;br.isRangeNode=xce;br.isSymbolNode=Oce;br.isChain=Xk;br.typeOf=Dce;br.isArray=void 0;function ws(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ws=function(t){return typeof t}:ws=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ws(e)}function Xoe(e){return typeof e=="number"}function Gk(e){return e&&e.constructor.prototype.isBigNumber===!0||!1}function Y2(e){return e&&ws(e)==="object"&&Object.getPrototypeOf(e).isComplex===!0||!1}function Z2(e){return e&&ws(e)==="object"&&Object.getPrototypeOf(e).isFraction===!0||!1}function Hk(e){return e&&e.constructor.prototype.isUnit===!0||!1}function Koe(e){return typeof e=="string"}var ece=Array.isArray;br.isArray=ece;function X2(e){return e&&e.constructor.prototype.isMatrix===!0||!1}function rce(e){return Array.isArray(e)||X2(e)}function tce(e){return e&&e.isDenseMatrix&&e.constructor.prototype.isMatrix===!0||!1}function nce(e){return e&&e.isSparseMatrix&&e.constructor.prototype.isMatrix===!0||!1}function Wk(e){return e&&e.constructor.prototype.isRange===!0||!1}function $k(e){return e&&e.constructor.prototype.isIndex===!0||!1}function ice(e){return typeof e=="boolean"}function Qk(e){return e&&e.constructor.prototype.isResultSet===!0||!1}function Yk(e){return e&&e.constructor.prototype.isHelp===!0||!1}function ace(e){return typeof e=="function"}function sce(e){return e instanceof Date}function oce(e){return e instanceof RegExp}function cce(e){return!!(e&&ws(e)==="object"&&e.constructor===Object&&!Y2(e)&&!Z2(e))}function uce(e){return e===null}function lce(e){return e===void 0}function dce(e){return e&&e.isAccessorNode===!0&&e.constructor.prototype.isNode===!0||!1}function pce(e){return e&&e.isArrayNode===!0&&e.constructor.prototype.isNode===!0||!1}function fce(e){return e&&e.isAssignmentNode===!0&&e.constructor.prototype.isNode===!0||!1}function hce(e){return e&&e.isBlockNode===!0&&e.constructor.prototype.isNode===!0||!1}function vce(e){return e&&e.isConditionalNode===!0&&e.constructor.prototype.isNode===!0||!1}function mce(e){return e&&e.isConstantNode===!0&&e.constructor.prototype.isNode===!0||!1}function yce(e){return e&&e.isFunctionAssignmentNode===!0&&e.constructor.prototype.isNode===!0||!1}function gce(e){return e&&e.isFunctionNode===!0&&e.constructor.prototype.isNode===!0||!1}function bce(e){return e&&e.isIndexNode===!0&&e.constructor.prototype.isNode===!0||!1}function Zk(e){return e&&e.isNode===!0&&e.constructor.prototype.isNode===!0||!1}function _ce(e){return e&&e.isObjectNode===!0&&e.constructor.prototype.isNode===!0||!1}function wce(e){return e&&e.isOperatorNode===!0&&e.constructor.prototype.isNode===!0||!1}function Sce(e){return e&&e.isParenthesisNode===!0&&e.constructor.prototype.isNode===!0||!1}function xce(e){return e&&e.isRangeNode===!0&&e.constructor.prototype.isNode===!0||!1}function Oce(e){return e&&e.isSymbolNode===!0&&e.constructor.prototype.isNode===!0||!1}function Xk(e){return e&&e.constructor.prototype.isChain===!0||!1}function Dce(e){var r=ws(e);return r==="object"?e===null?"null":Array.isArray(e)?"Array":e instanceof Date?"Date":e instanceof RegExp?"RegExp":Gk(e)?"BigNumber":Y2(e)?"Complex":Z2(e)?"Fraction":X2(e)?"Matrix":Hk(e)?"Unit":$k(e)?"Index":Wk(e)?"Range":Qk(e)?"ResultSet":Zk(e)?e.type:Xk(e)?"Chain":Yk(e)?"Help":"Object":r==="function"?"Function":r}});var yr=D(Nt=>{"use strict";Object.defineProperty(Nt,"__esModule",{value:!0});Nt.clone=K2;Nt.mapObject=Kk;Nt.extend=Cce;Nt.deepExtend=ej;Nt.deepStrictEqual=Cd;Nt.deepFlatten=Ace;Nt.canDefineProperty=Mce;Nt.lazy=Pce;Nt.traverse=tj;Nt.hasOwnProperty=hu;Nt.isLegacyFactory=Ece;Nt.get=eC;Nt.set=rC;Nt.pick=qce;Nt.pickShallow=Ice;Nt.values=Bce;var Nce=He();function fu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?fu=function(t){return typeof t}:fu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fu(e)}function K2(e){var r=fu(e);if(r==="number"||r==="string"||r==="boolean"||e===null||e===void 0)return e;if(typeof e.clone=="function")return e.clone();if(Array.isArray(e))return e.map(function(t){return K2(t)});if(e instanceof Date)return new Date(e.valueOf());if((0,Nce.isBigNumber)(e))return e;if(e instanceof RegExp)throw new TypeError("Cannot clone "+e);return Kk(e,K2)}function Kk(e,r){var t={};for(var n in e)hu(e,n)&&(t[n]=r(e[n]));return t}function Cce(e,r){for(var t in r)hu(r,t)&&(e[t]=r[t]);return e}function ej(e,r){if(Array.isArray(r))throw new TypeError("Arrays are not supported by deepExtend");for(var t in r)if(hu(r,t))if(r[t]&&r[t].constructor===Object)e[t]===void 0&&(e[t]={}),e[t]&&e[t].constructor===Object?ej(e[t],r[t]):e[t]=r[t];else{if(Array.isArray(r[t]))throw new TypeError("Arrays are not supported by deepExtend");e[t]=r[t]}return e}function Cd(e,r){var t,n,i;if(Array.isArray(e)){if(!Array.isArray(r)||e.length!==r.length)return!1;for(n=0,i=e.length;n<i;n++)if(!Cd(e[n],r[n]))return!1;return!0}else{if(typeof e=="function")return e===r;if(e instanceof Object){if(Array.isArray(r)||!(r instanceof Object))return!1;for(t in e)if(!(t in r)||!Cd(e[t],r[t]))return!1;for(t in r)if(!(t in e)||!Cd(e[t],r[t]))return!1;return!0}else return e===r}}function Ace(e){var r={};return rj(e,r),r}function rj(e,r){for(var t in e)if(hu(e,t)){var n=e[t];fu(n)==="object"&&n!==null?rj(n,r):r[t]=n}}function Mce(){try{if(Object.defineProperty)return Object.defineProperty({},"x",{get:function(){}}),!0}catch{}return!1}function Pce(e,r,t){var n=!0,i;Object.defineProperty(e,r,{get:function(){return n&&(i=t(),n=!1),i},set:function(u){i=u,n=!1},configurable:!0,enumerable:!0})}function tj(e,r){if(r&&typeof r=="string")return tj(e,r.split("."));var t=e;if(r)for(var n=0;n<r.length;n++){var i=r[n];i in t||(t[i]={}),t=t[i]}return t}function hu(e,r){return e&&Object.hasOwnProperty.call(e,r)}function Ece(e){return e&&typeof e.factory=="function"}function eC(e,r){if(typeof r=="string")return nj(r)?eC(e,r.split(".")):e[r];for(var t=e,n=0;n<r.length;n++){var i=r[n];t=t?t[i]:void 0}return t}function rC(e,r,t){if(typeof r=="string")return nj(r)?rC(e,r.split("."),t):(e[r]=t,e);for(var n=e,i=0;i<r.length-1;i++){var c=r[i];n[c]===void 0&&(n[c]={}),n=n[c]}if(r.length>0){var u=r[r.length-1];n[u]=t}return e}function qce(e,r,t){for(var n={},i=0;i<r.length;i++){var c=r[i],u=eC(e,c);u!==void 0&&rC(n,c,t?t(u,c):u)}return n}function Ice(e,r){for(var t={},n=0;n<r.length;n++){var i=r[n],c=e[i];c!==void 0&&(t[i]=c)}return t}function Bce(e){return Object.keys(e).map(function(r){return e[r]})}function nj(e){return e.indexOf(".")!==-1}});var iC=D(Ss=>{"use strict";Object.defineProperty(Ss,"__esModule",{value:!0});Ss.configFactory=jce;Ss.NUMBER_OPTIONS=Ss.MATRIX_OPTIONS=void 0;var Fi=yr(),kce=Nd(),tC=["Matrix","Array"];Ss.MATRIX_OPTIONS=tC;var nC=["number","BigNumber","Fraction"];Ss.NUMBER_OPTIONS=nC;function jce(e,r){function t(n){if(n){var i=(0,Fi.mapObject)(e,Fi.clone);ij(n,"matrix",tC),ij(n,"number",nC),(0,Fi.deepExtend)(e,n);var c=(0,Fi.mapObject)(e,Fi.clone),u=(0,Fi.mapObject)(n,Fi.clone);return r("config",c,i,u),c}else return(0,Fi.mapObject)(e,Fi.clone)}return t.MATRIX_OPTIONS=tC,t.NUMBER_OPTIONS=nC,Object.keys(kce.DEFAULT_CONFIG).forEach(function(n){Object.defineProperty(t,n,{get:function(){return e[n]},enumerable:!0,configurable:!0})}),t}function Tce(e,r){return e.indexOf(r)!==-1}function Rce(e,r){return e.map(function(t){return t.toLowerCase()}).indexOf(r.toLowerCase())}function ij(e,r,t){if(e[r]!==void 0&&!Tce(t,e[r])){var n=Rce(t,e[r]);n!==-1?(console.warn('Warning: Wrong casing for configuration option "'+r+'", should be "'+t[n]+'" instead of "'+e[r]+'".'),e[r]=t[n]):console.warn('Warning: Unknown value "'+e[r]+'" for configuration option "'+r+'". Available options: '+t.map(JSON.stringify).join(", ")+".")}}});var Md=D(Ad=>{"use strict";Object.defineProperty(Ad,"__esModule",{value:!0});Ad.config=void 0;var sj=Nd(),aj=iC();function aC(){return aC=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},aC.apply(this,arguments)}var oj=function(r){if(r)throw new Error(`The global config is readonly. 
Please create a mathjs instance if you want to change the default configuration. 
Example:

  import { create, all } from 'mathjs';
  const mathjs = create(all);
  mathjs.config({ number: 'BigNumber' });
`);return Object.freeze(sj.DEFAULT_CONFIG)};Ad.config=oj;aC(oj,sj.DEFAULT_CONFIG,{MATRIX_OPTIONS:aj.MATRIX_OPTIONS,NUMBER_OPTIONS:aj.NUMBER_OPTIONS})});var uj=D((sC,cj)=>{"use strict";(function(e,r){typeof define=="function"&&define.amd?define([],r):typeof sC=="object"?cj.exports=r():e.typed=r()})(sC,function(){function e(){return!0}function r(){return!1}function t(){}function n(){var i=[{name:"number",test:function(te){return typeof te=="number"}},{name:"string",test:function(te){return typeof te=="string"}},{name:"boolean",test:function(te){return typeof te=="boolean"}},{name:"Function",test:function(te){return typeof te=="function"}},{name:"Array",test:Array.isArray},{name:"Date",test:function(te){return te instanceof Date}},{name:"RegExp",test:function(te){return te instanceof RegExp}},{name:"Object",test:function(te){return typeof te=="object"&&te!==null&&te.constructor===Object}},{name:"null",test:function(te){return te===null}},{name:"undefined",test:function(te){return te===void 0}}],c={name:"any",test:e},u=[],a=[],s={types:i,conversions:a,ignore:u};function o(te){var ce=je(s.types,function(ve){return ve.name===te});if(ce)return ce;if(te==="any")return c;var ge=je(s.types,function(ve){return ve.name.toLowerCase()===te.toLowerCase()});throw new TypeError('Unknown type "'+te+'"'+(ge?'. Did you mean "'+ge.name+'"?':""))}function l(te){return te===c?999:s.types.indexOf(te)}function d(te){var ce=je(s.types,function(ge){return ge.test(te)});if(ce)return ce.name;throw new TypeError("Value has unknown type. Value: "+te)}function p(te,ce){if(!te.signatures)throw new TypeError("Function is no typed-function");var ge;if(typeof ce=="string"){ge=ce.split(",");for(var ve=0;ve<ge.length;ve++)ge[ve]=ge[ve].trim()}else if(Array.isArray(ce))ge=ce;else throw new TypeError("String array or a comma separated string expected");var Pe=ge.join(","),ke=te.signatures[Pe];if(ke)return ke;throw new TypeError("Signature not found (signature: "+(te.name||"unnamed")+"("+ge.join(", ")+"))")}function f(te,ce){var ge=d(te);if(ce===ge)return te;for(var ve=0;ve<s.conversions.length;ve++){var Pe=s.conversions[ve];if(Pe.from===ge&&Pe.to===ce)return Pe.convert(te)}throw new Error("Cannot convert from "+ge+" to "+ce)}function v(te){return te.map(function(ce){var ge=ce.types.map(O);return(ce.restParam?"...":"")+ge.join("|")}).join(",")}function h(te,ce){var ge=te.indexOf("...")===0,ve=ge?te.length>3?te.slice(3):"any":te,Pe=ve.split("|").map(X).filter(le).filter(ye),ke=j(ce,Pe),Te=Pe.map(function(Ue){var Ze=o(Ue);return{name:Ue,typeIndex:l(Ze),test:Ze.test,conversion:null,conversionIndex:-1}}),$e=ke.map(function(Ue){var Ze=o(Ue.from);return{name:Ue.from,typeIndex:l(Ze),test:Ze.test,conversion:Ue,conversionIndex:ce.indexOf(Ue)}});return{types:Te.concat($e),restParam:ge}}function m(te,ce,ge){var ve=[];return te.trim()!==""&&(ve=te.split(",").map(X).map(function(Pe,ke,Te){var $e=h(Pe,ge);if($e.restParam&&ke!==Te.length-1)throw new SyntaxError('Unexpected rest parameter "'+Pe+'": only allowed for the last parameter');return $e})),ve.some(ne)?null:{params:ve,fn:ce}}function y(te){var ce=Me(te);return ce?ce.restParam:!1}function g(te){return te.types.some(function(ce){return ce.conversion!=null})}function b(te){if(!te||te.types.length===0)return e;if(te.types.length===1)return o(te.types[0].name).test;if(te.types.length===2){var ce=o(te.types[0].name).test,ge=o(te.types[1].name).test;return function(ke){return ce(ke)||ge(ke)}}else{var ve=te.types.map(function(Pe){return o(Pe.name).test});return function(ke){for(var Te=0;Te<ve.length;Te++)if(ve[Te](ke))return!0;return!1}}}function _(te){var ce,ge,ve;if(y(te)){ce=fe(te).map(b);var Pe=ce.length,ke=b(Me(te)),Te=function($e){for(var Ue=Pe;Ue<$e.length;Ue++)if(!ke($e[Ue]))return!1;return!0};return function(Ue){for(var Ze=0;Ze<ce.length;Ze++)if(!ce[Ze](Ue[Ze]))return!1;return Te(Ue)&&Ue.length>=Pe+1}}else return te.length===0?function(Ue){return Ue.length===0}:te.length===1?(ge=b(te[0]),function(Ue){return ge(Ue[0])&&Ue.length===1}):te.length===2?(ge=b(te[0]),ve=b(te[1]),function(Ue){return ge(Ue[0])&&ve(Ue[1])&&Ue.length===2}):(ce=te.map(b),function(Ue){for(var Ze=0;Ze<ce.length;Ze++)if(!ce[Ze](Ue[Ze]))return!1;return Ue.length===ce.length})}function S(te,ce){return ce<te.params.length?te.params[ce]:y(te.params)?Me(te.params):null}function w(te,ce,ge){var ve=S(te,ce),Pe=ve?ge?ve.types.filter(x):ve.types:[];return Pe.map(O)}function O(te){return te.name}function x(te){return te.conversion===null||te.conversion===void 0}function N(te,ce){var ge=We(Ge(te,function(ve){return w(ve,ce,!1)}));return ge.indexOf("any")!==-1?["any"]:ge}function M(te,ce,ge){var ve,Pe,ke=te||"unnamed",Te=ge,$e;for($e=0;$e<ce.length;$e++){var Ue=Te.filter(function(Gr){var wt=b(S(Gr,$e));return($e<Gr.params.length||y(Gr.params))&&wt(ce[$e])});if(Ue.length===0){if(Pe=N(Te,$e),Pe.length>0){var Ze=d(ce[$e]);return ve=new TypeError("Unexpected type of argument in function "+ke+" (expected: "+Pe.join(" or ")+", actual: "+Ze+", index: "+$e+")"),ve.data={category:"wrongType",fn:ke,index:$e,actual:Ze,expected:Pe},ve}}else Te=Ue}var Pr=Te.map(function(Gr){return y(Gr.params)?1/0:Gr.params.length});if(ce.length<Math.min.apply(null,Pr))return Pe=N(Te,$e),ve=new TypeError("Too few arguments in function "+ke+" (expected: "+Pe.join(" or ")+", index: "+ce.length+")"),ve.data={category:"tooFewArgs",fn:ke,index:ce.length,expected:Pe},ve;var Qr=Math.max.apply(null,Pr);return ce.length>Qr?(ve=new TypeError("Too many arguments in function "+ke+" (expected: "+Qr+", actual: "+ce.length+")"),ve.data={category:"tooManyArgs",fn:ke,index:ce.length,expectedLength:Qr},ve):(ve=new TypeError('Arguments of type "'+ce.join(", ")+'" do not match any of the defined signatures of function '+ke+"."),ve.data={category:"mismatch",actual:ce.map(d)},ve)}function I(te){for(var ce=999,ge=0;ge<te.types.length;ge++)x(te.types[ge])&&(ce=Math.min(ce,te.types[ge].typeIndex));return ce}function q(te){for(var ce=999,ge=0;ge<te.types.length;ge++)x(te.types[ge])||(ce=Math.min(ce,te.types[ge].conversionIndex));return ce}function z(te,ce){var ge;return ge=te.restParam-ce.restParam,ge!==0||(ge=g(te)-g(ce),ge!==0)||(ge=I(te)-I(ce),ge!==0)?ge:q(te)-q(ce)}function R(te,ce){var ge=Math.min(te.params.length,ce.params.length),ve,Pe;if(Pe=te.params.some(g)-ce.params.some(g),Pe!==0)return Pe;for(ve=0;ve<ge;ve++)if(Pe=g(te.params[ve])-g(ce.params[ve]),Pe!==0)return Pe;for(ve=0;ve<ge;ve++)if(Pe=z(te.params[ve],ce.params[ve]),Pe!==0)return Pe;return te.params.length-ce.params.length}function j(te,ce){var ge={};return te.forEach(function(ve){ce.indexOf(ve.from)===-1&&ce.indexOf(ve.to)!==-1&&!ge[ve.from]&&(ge[ve.from]=ve)}),Object.keys(ge).map(function(ve){return ge[ve]})}function L(te,ce){var ge=ce;if(te.some(g)){var ve=y(te),Pe=te.map(P);ge=function(){for(var Ue=[],Ze=ve?arguments.length-1:arguments.length,Pr=0;Pr<Ze;Pr++)Ue[Pr]=Pe[Pr](arguments[Pr]);return ve&&(Ue[Ze]=arguments[Ze].map(Pe[Ze])),ce.apply(null,Ue)}}var ke=ge;if(y(te)){var Te=te.length-1;ke=function(){return ge.apply(null,me(arguments,0,Te).concat([me(arguments,Te)]))}}return ke}function P(te){var ce,ge,ve,Pe,ke=[],Te=[];switch(te.types.forEach(function($e){$e.conversion&&(ke.push(o($e.conversion.from).test),Te.push($e.conversion.convert))}),Te.length){case 0:return function(Ue){return Ue};case 1:return ce=ke[0],ve=Te[0],function(Ue){return ce(Ue)?ve(Ue):Ue};case 2:return ce=ke[0],ge=ke[1],ve=Te[0],Pe=Te[1],function(Ue){return ce(Ue)?ve(Ue):ge(Ue)?Pe(Ue):Ue};default:return function(Ue){for(var Ze=0;Ze<Te.length;Ze++)if(ke[Ze](Ue))return Te[Ze](Ue);return Ue}}}function V(te){var ce={};return te.forEach(function(ge){ge.params.some(g)||E(ge.params,!0).forEach(function(ve){ce[v(ve)]=ge.fn})}),ce}function E(te,ce){function ge(ve,Pe,ke){if(Pe<ve.length){var Te=ve[Pe],$e=ce?Te.types.filter(x):Te.types,Ue;if(Te.restParam){var Ze=$e.filter(x);Ue=Ze.length<$e.length?[Ze,$e]:[$e]}else Ue=$e.map(function(Qr){return[Qr]});return Ge(Ue,function(Qr){return ge(ve,Pe+1,ke.concat([Qr]))})}else{var Pr=ke.map(function(Qr,Gr){return{types:Qr,restParam:Gr===ve.length-1&&y(ve)}});return[Pr]}}return ge(te,0,[])}function Z(te,ce){for(var ge=Math.max(te.params.length,ce.params.length),ve=0;ve<ge;ve++){var Pe=w(te,ve,!0),ke=w(ce,ve,!0);if(!Be(Pe,ke))return!1}var Te=te.params.length,$e=ce.params.length,Ue=y(te.params),Ze=y(ce.params);return Ue?Ze?Te===$e:$e>=Te:Ze?Te>=$e:Te===$e}function ue(te,ce){if(Object.keys(ce).length===0)throw new SyntaxError("No signatures provided");var ge=[];Object.keys(ce).map(function(it){return m(it,ce[it],s.conversions)}).filter(Oe).forEach(function(it){var ut=je(ge,function(Lt){return Z(Lt,it)});if(ut)throw new TypeError('Conflicting signatures "'+v(ut.params)+'" and "'+v(it.params)+'".');ge.push(it)});var ve=Ge(ge,function(it){var ut=it?E(it.params,!1):[];return ut.map(function(Lt){return{params:Lt,fn:it.fn}})}).filter(Oe);ve.sort(R);var Pe=ve[0]&&ve[0].params.length<=2&&!y(ve[0].params),ke=ve[1]&&ve[1].params.length<=2&&!y(ve[1].params),Te=ve[2]&&ve[2].params.length<=2&&!y(ve[2].params),$e=ve[3]&&ve[3].params.length<=2&&!y(ve[3].params),Ue=ve[4]&&ve[4].params.length<=2&&!y(ve[4].params),Ze=ve[5]&&ve[5].params.length<=2&&!y(ve[5].params),Pr=Pe&&ke&&Te&&$e&&Ue&&Ze,Qr=ve.map(function(it){return _(it.params)}),Gr=Pe?b(ve[0].params[0]):r,wt=ke?b(ve[1].params[0]):r,cn=Te?b(ve[2].params[0]):r,Bt=$e?b(ve[3].params[0]):r,un=Ue?b(ve[4].params[0]):r,Dt=Ze?b(ve[5].params[0]):r,Br=Pe?b(ve[0].params[1]):r,gn=ke?b(ve[1].params[1]):r,J=Te?b(ve[2].params[1]):r,be=$e?b(ve[3].params[1]):r,qe=Ue?b(ve[4].params[1]):r,ze=Ze?b(ve[5].params[1]):r,lr=ve.map(function(it){return L(it.params,it.fn)}),_r=Pe?lr[0]:t,ln=ke?lr[1]:t,ki=Te?lr[2]:t,us=$e?lr[3]:t,ls=Ue?lr[4]:t,ds=Ze?lr[5]:t,ps=Pe?ve[0].params.length:-1,fs=ke?ve[1].params.length:-1,hs=Te?ve[2].params.length:-1,vs=$e?ve[3].params.length:-1,ms=Ue?ve[4].params.length:-1,ys=Ze?ve[5].params.length:-1,gs=Pr?6:0,bs=ve.length,_s=function(){"use strict";for(var ut=gs;ut<bs;ut++)if(Qr[ut](arguments))return lr[ut].apply(null,arguments);throw M(te,arguments,ve)},ji=function(ut,Lt){"use strict";return arguments.length===ps&&Gr(ut)&&Br(Lt)?_r.apply(null,arguments):arguments.length===fs&&wt(ut)&&gn(Lt)?ln.apply(null,arguments):arguments.length===hs&&cn(ut)&&J(Lt)?ki.apply(null,arguments):arguments.length===vs&&Bt(ut)&&be(Lt)?us.apply(null,arguments):arguments.length===ms&&un(ut)&&qe(Lt)?ls.apply(null,arguments):arguments.length===ys&&Dt(ut)&&ze(Lt)?ds.apply(null,arguments):_s.apply(null,arguments)};try{Object.defineProperty(ji,"name",{value:te})}catch{}return ji.signatures=V(ve),ji}function ye(te){return s.ignore.indexOf(te)===-1}function X(te){return te.trim()}function le(te){return!!te}function Oe(te){return te!==null}function ne(te){return te.types.length===0}function fe(te){return te.slice(0,te.length-1)}function Me(te){return te[te.length-1]}function me(te,ce,ge){return Array.prototype.slice.call(te,ce,ge)}function Ce(te,ce){return te.indexOf(ce)!==-1}function Be(te,ce){for(var ge=0;ge<te.length;ge++)if(Ce(ce,te[ge]))return!0;return!1}function je(te,ce){for(var ge=0;ge<te.length;ge++)if(ce(te[ge]))return te[ge]}function We(te){for(var ce={},ge=0;ge<te.length;ge++)ce[te[ge]]=!0;return Object.keys(ce)}function Ge(te,ce){return Array.prototype.concat.apply([],te.map(ce))}function ie(te){for(var ce="",ge=0;ge<te.length;ge++){var ve=te[ge];if((typeof ve.signatures=="object"||typeof ve.signature=="string")&&ve.name!==""){if(ce==="")ce=ve.name;else if(ce!==ve.name){var Pe=new Error("Function names do not match (expected: "+ce+", actual: "+ve.name+")");throw Pe.data={actual:ve.name,expected:ce},Pe}}}return ce}function pe(te){var ce,ge={};function ve($e,Ue){if(ge.hasOwnProperty($e)&&Ue!==ge[$e])throw ce=new Error('Signature "'+$e+'" is defined twice'),ce.data={signature:$e},ce}for(var Pe=0;Pe<te.length;Pe++){var ke=te[Pe];if(typeof ke.signatures=="object")for(var Te in ke.signatures)ke.signatures.hasOwnProperty(Te)&&(ve(Te,ke.signatures[Te]),ge[Te]=ke.signatures[Te]);else if(typeof ke.signature=="string")ve(ke.signature,ke),ge[ke.signature]=ke;else throw ce=new TypeError("Function is no typed-function (index: "+Pe+")"),ce.data={index:Pe},ce}return ge}return s=ue("typed",{"string, Object":ue,Object:function(te){var ce=[];for(var ge in te)te.hasOwnProperty(ge)&&ce.push(te[ge]);var ve=ie(ce);return ue(ve,te)},"...Function":function(te){return ue(ie(te),pe(te))},"string, ...Function":function(te,ce){return ue(te,pe(ce))}}),s.create=n,s.types=i,s.conversions=a,s.ignore=u,s.convert=f,s.find=p,s.addType=function(te,ce){if(!te||typeof te.name!="string"||typeof te.test!="function")throw new TypeError("Object with properties {name: string, test: function} expected");if(ce!==!1){for(var ge=0;ge<s.types.length;ge++)if(s.types[ge].name==="Object"){s.types.splice(ge,0,te);return}}s.types.push(te)},s.addConversion=function(te){if(!te||typeof te.from!="string"||typeof te.to!="string"||typeof te.convert!="function")throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");s.conversions.push(te)},s}return n()})});var gr=D(xr=>{"use strict";Object.defineProperty(xr,"__esModule",{value:!0});xr.isInteger=Lce;xr.format=Wce;xr.splitNumber=vu;xr.toEngineering=lj;xr.toFixed=dj;xr.toExponential=cC;xr.toPrecision=oC;xr.roundDigits=mu;xr.digits=$ce;xr.nearlyEqual=Qce;xr.tanh=xr.sinh=xr.cosh=xr.atanh=xr.asinh=xr.acosh=xr.DBL_EPSILON=xr.expm1=xr.cbrt=xr.log1p=xr.log10=xr.log2=xr.sign=void 0;var Fce=yr(),Pd=He();function Lce(e){return typeof e=="boolean"?!0:isFinite(e)?e===Math.round(e):!1}var Uce=Math.sign||function(e){return e>0?1:e<0?-1:0};xr.sign=Uce;var zce=Math.log2||function(r){return Math.log(r)/Math.LN2};xr.log2=zce;var Jce=Math.log10||function(r){return Math.log(r)/Math.LN10};xr.log10=Jce;var Vce=Math.log1p||function(e){return Math.log(e+1)};xr.log1p=Vce;var Gce=Math.cbrt||function(r){if(r===0)return r;var t=r<0,n;return t&&(r=-r),isFinite(r)?(n=Math.exp(Math.log(r)/3),n=(r/(n*n)+2*n)/3):n=r,t?-n:n};xr.cbrt=Gce;var Hce=Math.expm1||function(r){return r>=2e-4||r<=-2e-4?Math.exp(r)-1:r+r*r/2+r*r*r/6};xr.expm1=Hce;function Wce(e,r){if(typeof r=="function")return r(e);if(e===1/0)return"Infinity";if(e===-1/0)return"-Infinity";if(isNaN(e))return"NaN";var t="auto",n;switch(r&&(r.notation&&(t=r.notation),(0,Pd.isNumber)(r)?n=r:(0,Pd.isNumber)(r.precision)&&(n=r.precision)),t){case"fixed":return dj(e,n);case"exponential":return cC(e,n);case"engineering":return lj(e,n);case"auto":if(r&&r.exponential&&(r.exponential.lower!==void 0||r.exponential.upper!==void 0)){var i=(0,Fce.mapObject)(r,function(c){return c});return i.exponential=void 0,r.exponential.lower!==void 0&&(i.lowerExp=Math.round(Math.log(r.exponential.lower)/Math.LN10)),r.exponential.upper!==void 0&&(i.upperExp=Math.round(Math.log(r.exponential.upper)/Math.LN10)),console.warn("Deprecation warning: Formatting options exponential.lower and exponential.upper (minimum and maximum value) are replaced with exponential.lowerExp and exponential.upperExp (minimum and maximum exponent) since version 4.0.0. Replace "+JSON.stringify(r)+" with "+JSON.stringify(i)),oC(e,n,i)}return oC(e,n,r&&r).replace(/((\.\d*?)(0+))($|e)/,function(){var c=arguments[2],u=arguments[4];return c!=="."?c+u:u});default:throw new Error('Unknown notation "'+t+'". Choose "auto", "exponential", or "fixed".')}}function vu(e){var r=String(e).toLowerCase().match(/^0*?(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!r)throw new SyntaxError("Invalid number "+e);var t=r[1],n=r[2],i=parseFloat(r[4]||"0"),c=n.indexOf(".");i+=c!==-1?c-1:n.length-1;var u=n.replace(".","").replace(/^0*/,function(a){return i-=a.length,""}).replace(/0*$/,"").split("").map(function(a){return parseInt(a)});return u.length===0&&(u.push(0),i++),{sign:t,coefficients:u,exponent:i}}function lj(e,r){if(isNaN(e)||!isFinite(e))return String(e);var t=vu(e),n=mu(t,r),i=n.exponent,c=n.coefficients,u=i%3===0?i:i<0?i-3-i%3:i-i%3;if((0,Pd.isNumber)(r))for(;r>c.length||i-u+1>c.length;)c.push(0);else for(var a=Math.abs(i-u)-(c.length-1),s=0;s<a;s++)c.push(0);for(var o=Math.abs(i-u),l=1;o>0;)l++,o--;var d=c.slice(l).join(""),p=(0,Pd.isNumber)(r)&&d.length||d.match(/[1-9]/)?"."+d:"",f=c.slice(0,l).join("")+p+"e"+(i>=0?"+":"")+u.toString();return n.sign+f}function dj(e,r){if(isNaN(e)||!isFinite(e))return String(e);var t=vu(e),n=typeof r=="number"?mu(t,t.exponent+1+r):t,i=n.coefficients,c=n.exponent+1,u=c+(r||0);return i.length<u&&(i=i.concat(xo(u-i.length))),c<0&&(i=xo(-c+1).concat(i),c=1),c<i.length&&i.splice(c,0,c===0?"0.":"."),n.sign+i.join("")}function cC(e,r){if(isNaN(e)||!isFinite(e))return String(e);var t=vu(e),n=r?mu(t,r):t,i=n.coefficients,c=n.exponent;i.length<r&&(i=i.concat(xo(r-i.length)));var u=i.shift();return n.sign+u+(i.length>0?"."+i.join(""):"")+"e"+(c>=0?"+":"")+c}function oC(e,r,t){if(isNaN(e)||!isFinite(e))return String(e);var n=t&&t.lowerExp!==void 0?t.lowerExp:-3,i=t&&t.upperExp!==void 0?t.upperExp:5,c=vu(e),u=r?mu(c,r):c;if(u.exponent<n||u.exponent>=i)return cC(e,r);var a=u.coefficients,s=u.exponent;a.length<r&&(a=a.concat(xo(r-a.length))),a=a.concat(xo(s-a.length+1+(a.length<r?r-a.length:0))),a=xo(-s).concat(a);var o=s>0?s:0;return o<a.length-1&&a.splice(o+1,0,"."),u.sign+a.join("")}function mu(e,r){for(var t={sign:e.sign,coefficients:e.coefficients,exponent:e.exponent},n=t.coefficients;r<=0;)n.unshift(0),t.exponent++,r++;if(n.length>r){var i=n.splice(r,n.length-r);if(i[0]>=5){var c=r-1;for(n[c]++;n[c]===10;)n.pop(),c===0&&(n.unshift(0),t.exponent++,c++),c--,n[c]++}}return t}function xo(e){for(var r=[],t=0;t<e;t++)r.push(0);return r}function $ce(e){return e.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length}var pj=Number.EPSILON||2220446049250313e-31;xr.DBL_EPSILON=pj;function Qce(e,r,t){if(t==null)return e===r;if(e===r)return!0;if(isNaN(e)||isNaN(r))return!1;if(isFinite(e)&&isFinite(r)){var n=Math.abs(e-r);return n<pj?!0:n<=Math.max(Math.abs(e),Math.abs(r))*t}return!1}var Yce=Math.acosh||function(e){return Math.log(Math.sqrt(e*e-1)+e)};xr.acosh=Yce;var Zce=Math.asinh||function(e){return Math.log(Math.sqrt(e*e+1)+e)};xr.asinh=Zce;var Xce=Math.atanh||function(e){return Math.log((1+e)/(1-e))/2};xr.atanh=Xce;var Kce=Math.cosh||function(e){return(Math.exp(e)+Math.exp(-e))/2};xr.cosh=Kce;var eue=Math.sinh||function(e){return(Math.exp(e)-Math.exp(-e))/2};xr.sinh=eue;var rue=Math.tanh||function(e){var r=Math.exp(2*e);return(r-1)/(r+1)};xr.tanh=rue});var mj=D(Oo=>{"use strict";Object.defineProperty(Oo,"__esModule",{value:!0});Oo.format=fj;Oo.toEngineering=hj;Oo.toExponential=uC;Oo.toFixed=vj;var tue=yr();function fj(e,r){if(typeof r=="function")return r(e);if(!e.isFinite())return e.isNaN()?"NaN":e.gt(0)?"Infinity":"-Infinity";var t="auto",n;switch(r!==void 0&&(r.notation&&(t=r.notation),typeof r=="number"?n=r:r.precision&&(n=r.precision)),t){case"fixed":return vj(e,n);case"exponential":return uC(e,n);case"engineering":return hj(e,n);case"auto":{if(r&&r.exponential&&(r.exponential.lower!==void 0||r.exponential.upper!==void 0)){var i=(0,tue.mapObject)(r,function(l){return l});return i.exponential=void 0,r.exponential.lower!==void 0&&(i.lowerExp=Math.round(Math.log(r.exponential.lower)/Math.LN10)),r.exponential.upper!==void 0&&(i.upperExp=Math.round(Math.log(r.exponential.upper)/Math.LN10)),console.warn("Deprecation warning: Formatting options exponential.lower and exponential.upper (minimum and maximum value) are replaced with exponential.lowerExp and exponential.upperExp (minimum and maximum exponent) since version 4.0.0. Replace "+JSON.stringify(r)+" with "+JSON.stringify(i)),fj(e,i)}var c=r&&r.lowerExp!==void 0?r.lowerExp:-3,u=r&&r.upperExp!==void 0?r.upperExp:5;if(e.isZero())return"0";var a,s=e.toSignificantDigits(n),o=s.e;return o>=c&&o<u?a=s.toFixed():a=uC(e,n),a.replace(/((\.\d*?)(0+))($|e)/,function(){var l=arguments[2],d=arguments[4];return l!=="."?l+d:d})}default:throw new Error('Unknown notation "'+t+'". Choose "auto", "exponential", or "fixed".')}}function hj(e,r){var t=e.e,n=t%3===0?t:t<0?t-3-t%3:t-t%3,i=e.mul(Math.pow(10,-n)),c=i.toPrecision(r);return c.indexOf("e")!==-1&&(c=i.toString()),c+"e"+(t>=0?"+":"")+n.toString()}function uC(e,r){return r!==void 0?e.toExponential(r-1):e.toExponential()}function vj(e,r){return e.toFixed(r)}});var Xr=D(xs=>{"use strict";Object.defineProperty(xs,"__esModule",{value:!0});xs.endsWith=aue;xs.format=lC;xs.stringify=sue;xs.escape=oue;xs.compareText=uue;var Do=He(),nue=gr(),iue=mj();function yu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?yu=function(t){return typeof t}:yu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yu(e)}function aue(e,r){var t=e.length-r.length,n=e.length;return e.substring(t,n)===r}function lC(e,r){if(typeof e=="number")return(0,nue.format)(e,r);if((0,Do.isBigNumber)(e))return(0,iue.format)(e,r);if(cue(e))return!r||r.fraction!=="decimal"?e.s*e.n+"/"+e.d:e.toString();if(Array.isArray(e))return yj(e,r);if((0,Do.isString)(e))return'"'+e+'"';if(typeof e=="function")return e.syntax?String(e.syntax):"function";if(e&&yu(e)==="object"){if(typeof e.format=="function")return e.format(r);if(e&&e.toString(r)!=={}.toString())return e.toString(r);var t=Object.keys(e).map(function(n){return'"'+n+'": '+lC(e[n],r)});return"{"+t.join(", ")+"}"}return String(e)}function sue(e){for(var r=String(e),t="",n=0;n<r.length;){var i=r.charAt(n);i==="\\"?(t+=i,n++,i=r.charAt(n),(i===""||'"\\/bfnrtu'.indexOf(i)===-1)&&(t+="\\"),t+=i):i==='"'?t+='\\"':t+=i,n++}return'"'+t+'"'}function oue(e){var r=String(e);return r=r.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),r}function yj(e,r){if(Array.isArray(e)){for(var t="[",n=e.length,i=0;i<n;i++)i!==0&&(t+=", "),t+=yj(e[i],r);return t+="]",t}else return lC(e,r)}function cue(e){return e&&yu(e)==="object"&&typeof e.s=="number"&&typeof e.n=="number"&&typeof e.d=="number"||!1}function uue(e,r){if(!(0,Do.isString)(e))throw new TypeError("Unexpected type of argument in function compareText (expected: string or Array or Matrix, actual: "+(0,Do.typeOf)(e)+", index: 0)");if(!(0,Do.isString)(r))throw new TypeError("Unexpected type of argument in function compareText (expected: string or Array or Matrix, actual: "+(0,Do.typeOf)(r)+", index: 1)");return e===r?0:e>r?1:-1}});var vt=D(dC=>{"use strict";Object.defineProperty(dC,"__esModule",{value:!0});dC.DimensionError=No;function No(e,r,t){if(!(this instanceof No))throw new SyntaxError("Constructor must be called with the new operator");this.actual=e,this.expected=r,this.relation=t,this.message="Dimension mismatch ("+(Array.isArray(e)?"["+e.join(", ")+"]":e)+" "+(this.relation||"!=")+" "+(Array.isArray(r)?"["+r.join(", ")+"]":r)+")",this.stack=new Error().stack}No.prototype=new RangeError;No.prototype.constructor=RangeError;No.prototype.name="DimensionError";No.prototype.isDimensionError=!0});var Li=D(pC=>{"use strict";Object.defineProperty(pC,"__esModule",{value:!0});pC.IndexError=Co;function Co(e,r,t){if(!(this instanceof Co))throw new SyntaxError("Constructor must be called with the new operator");this.index=e,arguments.length<3?(this.min=0,this.max=r):(this.min=r,this.max=t),this.min!==void 0&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":this.max!==void 0&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=new Error().stack}Co.prototype=new RangeError;Co.prototype.constructor=RangeError;Co.prototype.name="IndexError";Co.prototype.isIndexError=!0});var er=D(mt=>{"use strict";Object.defineProperty(mt,"__esModule",{value:!0});mt.arraySize=Oa;mt.validate=pue;mt.validateIndex=fue;mt.resize=hue;mt.reshape=vue;mt.squeeze=yue;mt.unsqueeze=gue;mt.flatten=xj;mt.map=bue;mt.forEach=_ue;mt.filter=wue;mt.filterRegExp=Sue;mt.join=xue;mt.identify=Oue;mt.generalize=Due;mt.getArrayDataType=Oj;mt.last=Nue;mt.initial=Cue;mt.contains=Aue;var gj=gr(),bj=He(),lue=Xr(),xa=vt(),due=Li();function Oa(e){for(var r=[];Array.isArray(e);)r.push(e.length),e=e[0];return r}function _j(e,r,t){var n,i=e.length;if(i!==r[t])throw new xa.DimensionError(i,r[t]);if(t<r.length-1){var c=t+1;for(n=0;n<i;n++){var u=e[n];if(!Array.isArray(u))throw new xa.DimensionError(r.length-1,r.length,"<");_j(e[n],r,c)}}else for(n=0;n<i;n++)if(Array.isArray(e[n]))throw new xa.DimensionError(r.length+1,r.length,">")}function pue(e,r){var t=r.length===0;if(t){if(Array.isArray(e))throw new xa.DimensionError(e.length,0)}else _j(e,r,0)}function fue(e,r){if(!(0,bj.isNumber)(e)||!(0,gj.isInteger)(e))throw new TypeError("Index must be an integer (value: "+e+")");if(e<0||typeof r=="number"&&e>=r)throw new due.IndexError(e,r)}function hue(e,r,t){if(!Array.isArray(e)||!Array.isArray(r))throw new TypeError("Array expected");if(r.length===0)throw new Error("Resizing to scalar is not supported");r.forEach(function(i){if(!(0,bj.isNumber)(i)||!(0,gj.isInteger)(i)||i<0)throw new TypeError("Invalid size, must contain positive integers (size: "+(0,lue.format)(r)+")")});var n=t!==void 0?t:0;return fC(e,r,0,n),e}function fC(e,r,t,n){var i,c,u=e.length,a=r[t],s=Math.min(u,a);if(e.length=a,t<r.length-1){var o=t+1;for(i=0;i<s;i++)c=e[i],Array.isArray(c)||(c=[c],e[i]=c),fC(c,r,o,n);for(i=s;i<a;i++)c=[],e[i]=c,fC(c,r,o,n)}else{for(i=0;i<s;i++)for(;Array.isArray(e[i]);)e[i]=e[i][0];for(i=s;i<a;i++)e[i]=n}}function vue(e,r){var t=xj(e),n;function i(a){return a.reduce(function(s,o){return s*o})}if(!Array.isArray(e)||!Array.isArray(r))throw new TypeError("Array expected");if(r.length===0)throw new xa.DimensionError(0,i(Oa(e)),"!=");for(var c=1,u=0;u<r.length;u++)c*=r[u];if(t.length!==c)throw new xa.DimensionError(i(r),i(Oa(e)),"!=");try{n=mue(t,r)}catch(a){throw a instanceof xa.DimensionError?new xa.DimensionError(i(r),i(Oa(e)),"!="):a}return n}function mue(e,r){for(var t=e,n,i=r.length-1;i>0;i--){var c=r[i];n=[];for(var u=t.length/c,a=0;a<u;a++)n.push(t.slice(a*c,(a+1)*c));t=n}return t}function yue(e,r){for(var t=r||Oa(e);Array.isArray(e)&&e.length===1;)e=e[0],t.shift();for(var n=t.length;t[n-1]===1;)n--;return n<t.length&&(e=wj(e,n,0),t.length=n),e}function wj(e,r,t){var n,i;if(t<r){var c=t+1;for(n=0,i=e.length;n<i;n++)e[n]=wj(e[n],r,c)}else for(;Array.isArray(e);)e=e[0];return e}function gue(e,r,t,n){var i=n||Oa(e);if(t)for(var c=0;c<t;c++)e=[e],i.unshift(1);for(e=Sj(e,r,0);i.length<r;)i.push(1);return e}function Sj(e,r,t){var n,i;if(Array.isArray(e)){var c=t+1;for(n=0,i=e.length;n<i;n++)e[n]=Sj(e[n],r,c)}else for(var u=t;u<r;u++)e=[e];return e}function xj(e){if(!Array.isArray(e))return e;var r=[];return e.forEach(function t(n){Array.isArray(n)?n.forEach(t):r.push(n)}),r}function bue(e,r){return Array.prototype.map.call(e,r)}function _ue(e,r){Array.prototype.forEach.call(e,r)}function wue(e,r){if(Oa(e).length!==1)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(e,r)}function Sue(e,r){if(Oa(e).length!==1)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(e,function(t){return r.test(t)})}function xue(e,r){return Array.prototype.join.call(e,r)}function Oue(e){if(!Array.isArray(e))throw new TypeError("Array input expected");if(e.length===0)return e;var r=[],t=0;r[0]={value:e[0],identifier:0};for(var n=1;n<e.length;n++)e[n]===e[n-1]?t++:t=0,r.push({value:e[n],identifier:t});return r}function Due(e){if(!Array.isArray(e))throw new TypeError("Array input expected");if(e.length===0)return e;for(var r=[],t=0;t<e.length;t++)r.push(e[t].value);return r}function Oj(e,r){for(var t,n=0,i=0;i<e.length;i++){var c=e[i],u=Array.isArray(c);if(i===0&&u&&(n=c.length),u&&c.length!==n)return;var a=u?Oj(c,r):r(c);if(t===void 0)t=a;else if(t!==a)return"mixed"}return t}function Nue(e){return e[e.length-1]}function Cue(e){return e.slice(0,e.length-1)}function Aue(e,r){return e.indexOf(r)!==-1}});var oe=D(Ui=>{"use strict";Object.defineProperty(Ui,"__esModule",{value:!0});Ui.factory=Eue;Ui.sortFactories=Dj;Ui.create=que;Ui.isFactory=Ed;Ui.assertDependencies=Nj;Ui.isOptionalDependency=Cj;Ui.stripOptionalNotation=Aj;var Mue=er(),Pue=yr();function Eue(e,r,t,n){function i(c){var u=(0,Pue.pickShallow)(c,r.map(Aj));return Nj(e,r,c),t(u)}return i.isFactory=!0,i.fn=e,i.dependencies=r.slice().sort(),n&&(i.meta=n),i}function Dj(e){var r={};e.forEach(function(c){r[c.fn]=c});function t(c,u){return!!(Ed(c)&&((0,Mue.contains)(c.dependencies,u.fn||u.name)||c.dependencies.some(function(a){return t(r[a],u)})))}var n=[];function i(c){for(var u=0;u<n.length&&!t(n[u],c);)u++;n.splice(u,0,c)}return e.filter(Ed).forEach(i),e.filter(function(c){return!Ed(c)}).forEach(i),n}function que(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Dj(e).forEach(function(t){return t(r)}),r}function Ed(e){return typeof e=="function"&&typeof e.fn=="string"&&Array.isArray(e.dependencies)}function Nj(e,r,t){var n=r.filter(function(c){return!Cj(c)}).every(function(c){return t[c]!==void 0});if(!n){var i=r.filter(function(c){return t[c]===void 0});throw new Error('Cannot create function "'.concat(e,'", ')+"some dependencies are missing: ".concat(i.map(function(c){return'"'.concat(c,'"')}).join(", "),"."))}}function Cj(e){return e&&e[0]==="?"}function Aj(e){return e&&e[0]==="?"?e.slice(1):e}});var Ej=D(Id=>{"use strict";Object.defineProperty(Id,"__esModule",{value:!0});Id.createTyped=void 0;var Ar=He(),Mj=kue(uj()),Iue=gr(),Bue=oe();function kue(e){return e&&e.__esModule?e:{default:e}}var Pj=function(){return Pj=Mj.default.create,Mj.default},jue=["?BigNumber","?Complex","?DenseMatrix","?Fraction"],Tue=(0,Bue.factory)("typed",jue,function(r){var t=r.BigNumber,n=r.Complex,i=r.DenseMatrix,c=r.Fraction,u=Pj();return u.types=[{name:"number",test:Ar.isNumber},{name:"Complex",test:Ar.isComplex},{name:"BigNumber",test:Ar.isBigNumber},{name:"Fraction",test:Ar.isFraction},{name:"Unit",test:Ar.isUnit},{name:"string",test:Ar.isString},{name:"Chain",test:Ar.isChain},{name:"Array",test:Ar.isArray},{name:"Matrix",test:Ar.isMatrix},{name:"DenseMatrix",test:Ar.isDenseMatrix},{name:"SparseMatrix",test:Ar.isSparseMatrix},{name:"Range",test:Ar.isRange},{name:"Index",test:Ar.isIndex},{name:"boolean",test:Ar.isBoolean},{name:"ResultSet",test:Ar.isResultSet},{name:"Help",test:Ar.isHelp},{name:"function",test:Ar.isFunction},{name:"Date",test:Ar.isDate},{name:"RegExp",test:Ar.isRegExp},{name:"null",test:Ar.isNull},{name:"undefined",test:Ar.isUndefined},{name:"AccessorNode",test:Ar.isAccessorNode},{name:"ArrayNode",test:Ar.isArrayNode},{name:"AssignmentNode",test:Ar.isAssignmentNode},{name:"BlockNode",test:Ar.isBlockNode},{name:"ConditionalNode",test:Ar.isConditionalNode},{name:"ConstantNode",test:Ar.isConstantNode},{name:"FunctionNode",test:Ar.isFunctionNode},{name:"FunctionAssignmentNode",test:Ar.isFunctionAssignmentNode},{name:"IndexNode",test:Ar.isIndexNode},{name:"Node",test:Ar.isNode},{name:"ObjectNode",test:Ar.isObjectNode},{name:"OperatorNode",test:Ar.isOperatorNode},{name:"ParenthesisNode",test:Ar.isParenthesisNode},{name:"RangeNode",test:Ar.isRangeNode},{name:"SymbolNode",test:Ar.isSymbolNode},{name:"Object",test:Ar.isObject}],u.conversions=[{from:"number",to:"BigNumber",convert:function(s){if(t||hC(s),(0,Iue.digits)(s)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+s+"). Use function bignumber(x) to convert to BigNumber.");return new t(s)}},{from:"number",to:"Complex",convert:function(s){return n||qd(s),new n(s,0)}},{from:"number",to:"string",convert:function(s){return s+""}},{from:"BigNumber",to:"Complex",convert:function(s){return n||qd(s),new n(s.toNumber(),0)}},{from:"Fraction",to:"BigNumber",convert:function(s){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(s){return n||qd(s),new n(s.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(s){c||vC(s);var o=new c(s);if(o.valueOf()!==s)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+s+"). Use function fraction(x) to convert to Fraction.");return o}},{from:"string",to:"number",convert:function(s){var o=Number(s);if(isNaN(o))throw new Error('Cannot convert "'+s+'" to a number');return o}},{from:"string",to:"BigNumber",convert:function(s){t||hC(s);try{return new t(s)}catch{throw new Error('Cannot convert "'+s+'" to BigNumber')}}},{from:"string",to:"Fraction",convert:function(s){c||vC(s);try{return new c(s)}catch{throw new Error('Cannot convert "'+s+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(s){n||qd(s);try{return new n(s)}catch{throw new Error('Cannot convert "'+s+'" to Complex')}}},{from:"boolean",to:"number",convert:function(s){return+s}},{from:"boolean",to:"BigNumber",convert:function(s){return t||hC(s),new t(+s)}},{from:"boolean",to:"Fraction",convert:function(s){return c||vC(s),new c(+s)}},{from:"boolean",to:"string",convert:function(s){return String(s)}},{from:"Array",to:"Matrix",convert:function(s){return i||Rue(),new i(s)}},{from:"Matrix",to:"Array",convert:function(s){return s.valueOf()}}],u});Id.createTyped=Tue;function hC(e){throw new Error("Cannot convert value ".concat(e," into a BigNumber: no class 'BigNumber' provided"))}function qd(e){throw new Error("Cannot convert value ".concat(e," into a Complex number: no class 'Complex' provided"))}function Rue(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}function vC(e){throw new Error("Cannot convert value ".concat(e," into a Fraction, no class 'Fraction' provided."))}});var qj=D(Bd=>{"use strict";Object.defineProperty(Bd,"__esModule",{value:!0});Bd.createResultSet=void 0;var Fue=oe(),Lue="ResultSet",Uue=[],zue=(0,Fue.factory)(Lue,Uue,function(){function e(r){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator");this.entries=r||[]}return e.prototype.type="ResultSet",e.prototype.isResultSet=!0,e.prototype.valueOf=function(){return this.entries},e.prototype.toString=function(){return"["+this.entries.join(", ")+"]"},e.prototype.toJSON=function(){return{mathjs:"ResultSet",entries:this.entries}},e.fromJSON=function(r){return new e(r.entries)},e},{isClass:!0});Bd.createResultSet=zue});var Bj=D((Ij,kd)=>{(function(e){"use strict";var r=9e15,t=1e9,n="0123456789abcdef",i="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",c="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",u={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-r,maxE:r,crypto:!1},a,s,o,l,d=!0,p="[DecimalError] ",f=p+"Invalid argument: ",v=p+"Precision limit exceeded",h=p+"crypto unavailable",m="[object Decimal]",y=Math.floor,g=Math.pow,b=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,_=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,S=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,w=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,O=1e7,x=7,N=9007199254740991,M=i.length-1,I=c.length-1,q={toStringTag:m};q.absoluteValue=q.abs=function(){var F=new this.constructor(this);return F.s<0&&(F.s=1),E(F)},q.ceil=function(){return E(new this.constructor(this),this.e+1,2)},q.clampedTo=q.clamp=function(F,G){var H,W=this,$=W.constructor;if(F=new $(F),G=new $(G),!F.s||!G.s)return new $(NaN);if(F.gt(G))throw Error(f+G);return H=W.cmp(F),H<0?F:W.cmp(G)>0?G:new $(W)},q.comparedTo=q.cmp=function(F){var G,H,W,$,Q=this,he=Q.d,we=(F=new Q.constructor(F)).d,Ae=Q.s,De=F.s;if(!he||!we)return!Ae||!De?NaN:Ae!==De?Ae:he===we?0:!he^Ae<0?1:-1;if(!he[0]||!we[0])return he[0]?Ae:we[0]?-De:0;if(Ae!==De)return Ae;if(Q.e!==F.e)return Q.e>F.e^Ae<0?1:-1;for(W=he.length,$=we.length,G=0,H=W<$?W:$;G<H;++G)if(he[G]!==we[G])return he[G]>we[G]^Ae<0?1:-1;return W===$?0:W>$^Ae<0?1:-1},q.cosine=q.cos=function(){var F,G,H=this,W=H.constructor;return H.d?H.d[0]?(F=W.precision,G=W.rounding,W.precision=F+Math.max(H.e,H.sd())+x,W.rounding=1,H=P(W,te(W,H)),W.precision=F,W.rounding=G,E(l==2||l==3?H.neg():H,F,G,!0)):new W(1):new W(NaN)},q.cubeRoot=q.cbrt=function(){var F,G,H,W,$,Q,he,we,Ae,De,Ee=this,Ie=Ee.constructor;if(!Ee.isFinite()||Ee.isZero())return new Ie(Ee);for(d=!1,Q=Ee.s*g(Ee.s*Ee,1/3),!Q||Math.abs(Q)==1/0?(H=z(Ee.d),F=Ee.e,(Q=(F-H.length+1)%3)&&(H+=Q==1||Q==-2?"0":"00"),Q=g(H,1/3),F=y((F+1)/3)-(F%3==(F<0?-1:2)),Q==1/0?H="5e"+F:(H=Q.toExponential(),H=H.slice(0,H.indexOf("e")+1)+F),W=new Ie(H),W.s=Ee.s):W=new Ie(Q.toString()),he=(F=Ie.precision)+3;;)if(we=W,Ae=we.times(we).times(we),De=Ae.plus(Ee),W=V(De.plus(Ee).times(we),De.plus(Ae),he+2,1),z(we.d).slice(0,he)===(H=z(W.d)).slice(0,he))if(H=H.slice(he-3,he+1),H=="9999"||!$&&H=="4999"){if(!$&&(E(we,F+1,0),we.times(we).times(we).eq(Ee))){W=we;break}he+=4,$=1}else{(!+H||!+H.slice(1)&&H.charAt(0)=="5")&&(E(W,F+1,1),G=!W.times(W).times(W).eq(Ee));break}return d=!0,E(W,F,Ie.rounding,G)},q.decimalPlaces=q.dp=function(){var F,G=this.d,H=NaN;if(G){if(F=G.length-1,H=(F-y(this.e/x))*x,F=G[F],F)for(;F%10==0;F/=10)H--;H<0&&(H=0)}return H},q.dividedBy=q.div=function(F){return V(this,new this.constructor(F))},q.dividedToIntegerBy=q.divToInt=function(F){var G=this,H=G.constructor;return E(V(G,new H(F),0,1,1),H.precision,H.rounding)},q.equals=q.eq=function(F){return this.cmp(F)===0},q.floor=function(){return E(new this.constructor(this),this.e+1,3)},q.greaterThan=q.gt=function(F){return this.cmp(F)>0},q.greaterThanOrEqualTo=q.gte=function(F){var G=this.cmp(F);return G==1||G===0},q.hyperbolicCosine=q.cosh=function(){var F,G,H,W,$,Q=this,he=Q.constructor,we=new he(1);if(!Q.isFinite())return new he(Q.s?1/0:NaN);if(Q.isZero())return we;H=he.precision,W=he.rounding,he.precision=H+Math.max(Q.e,Q.sd())+4,he.rounding=1,$=Q.d.length,$<32?(F=Math.ceil($/3),G=(1/pe(4,F)).toString()):(F=16,G="2.3283064365386962890625e-10"),Q=ie(he,1,Q.times(G),new he(1),!0);for(var Ae,De=F,Ee=new he(8);De--;)Ae=Q.times(Q),Q=we.minus(Ae.times(Ee.minus(Ae.times(Ee))));return E(Q,he.precision=H,he.rounding=W,!0)},q.hyperbolicSine=q.sinh=function(){var F,G,H,W,$=this,Q=$.constructor;if(!$.isFinite()||$.isZero())return new Q($);if(G=Q.precision,H=Q.rounding,Q.precision=G+Math.max($.e,$.sd())+4,Q.rounding=1,W=$.d.length,W<3)$=ie(Q,2,$,$,!0);else{F=1.4*Math.sqrt(W),F=F>16?16:F|0,$=$.times(1/pe(5,F)),$=ie(Q,2,$,$,!0);for(var he,we=new Q(5),Ae=new Q(16),De=new Q(20);F--;)he=$.times($),$=$.times(we.plus(he.times(Ae.times(he).plus(De))))}return Q.precision=G,Q.rounding=H,E($,G,H,!0)},q.hyperbolicTangent=q.tanh=function(){var F,G,H=this,W=H.constructor;return H.isFinite()?H.isZero()?new W(H):(F=W.precision,G=W.rounding,W.precision=F+7,W.rounding=1,V(H.sinh(),H.cosh(),W.precision=F,W.rounding=G)):new W(H.s)},q.inverseCosine=q.acos=function(){var F,G=this,H=G.constructor,W=G.abs().cmp(1),$=H.precision,Q=H.rounding;return W!==-1?W===0?G.isNeg()?X(H,$,Q):new H(0):new H(NaN):G.isZero()?X(H,$+4,Q).times(.5):(H.precision=$+6,H.rounding=1,G=G.asin(),F=X(H,$+4,Q).times(.5),H.precision=$,H.rounding=Q,F.minus(G))},q.inverseHyperbolicCosine=q.acosh=function(){var F,G,H=this,W=H.constructor;return H.lte(1)?new W(H.eq(1)?0:NaN):H.isFinite()?(F=W.precision,G=W.rounding,W.precision=F+Math.max(Math.abs(H.e),H.sd())+4,W.rounding=1,d=!1,H=H.times(H).minus(1).sqrt().plus(H),d=!0,W.precision=F,W.rounding=G,H.ln()):new W(H)},q.inverseHyperbolicSine=q.asinh=function(){var F,G,H=this,W=H.constructor;return!H.isFinite()||H.isZero()?new W(H):(F=W.precision,G=W.rounding,W.precision=F+2*Math.max(Math.abs(H.e),H.sd())+6,W.rounding=1,d=!1,H=H.times(H).plus(1).sqrt().plus(H),d=!0,W.precision=F,W.rounding=G,H.ln())},q.inverseHyperbolicTangent=q.atanh=function(){var F,G,H,W,$=this,Q=$.constructor;return $.isFinite()?$.e>=0?new Q($.abs().eq(1)?$.s/0:$.isZero()?$:NaN):(F=Q.precision,G=Q.rounding,W=$.sd(),Math.max(W,F)<2*-$.e-1?E(new Q($),F,G,!0):(Q.precision=H=W-$.e,$=V($.plus(1),new Q(1).minus($),H+F,1),Q.precision=F+4,Q.rounding=1,$=$.ln(),Q.precision=F,Q.rounding=G,$.times(.5))):new Q(NaN)},q.inverseSine=q.asin=function(){var F,G,H,W,$=this,Q=$.constructor;return $.isZero()?new Q($):(G=$.abs().cmp(1),H=Q.precision,W=Q.rounding,G!==-1?G===0?(F=X(Q,H+4,W).times(.5),F.s=$.s,F):new Q(NaN):(Q.precision=H+6,Q.rounding=1,$=$.div(new Q(1).minus($.times($)).sqrt().plus(1)).atan(),Q.precision=H,Q.rounding=W,$.times(2)))},q.inverseTangent=q.atan=function(){var F,G,H,W,$,Q,he,we,Ae,De=this,Ee=De.constructor,Ie=Ee.precision,Re=Ee.rounding;if(De.isFinite()){if(De.isZero())return new Ee(De);if(De.abs().eq(1)&&Ie+4<=I)return he=X(Ee,Ie+4,Re).times(.25),he.s=De.s,he}else{if(!De.s)return new Ee(NaN);if(Ie+4<=I)return he=X(Ee,Ie+4,Re).times(.5),he.s=De.s,he}for(Ee.precision=we=Ie+10,Ee.rounding=1,H=Math.min(28,we/x+2|0),F=H;F;--F)De=De.div(De.times(De).plus(1).sqrt().plus(1));for(d=!1,G=Math.ceil(we/x),W=1,Ae=De.times(De),he=new Ee(De),$=De;F!==-1;)if($=$.times(Ae),Q=he.minus($.div(W+=2)),$=$.times(Ae),he=Q.plus($.div(W+=2)),he.d[G]!==void 0)for(F=G;he.d[F]===Q.d[F]&&F--;);return H&&(he=he.times(2<<H-1)),d=!0,E(he,Ee.precision=Ie,Ee.rounding=Re,!0)},q.isFinite=function(){return!!this.d},q.isInteger=q.isInt=function(){return!!this.d&&y(this.e/x)>this.d.length-2},q.isNaN=function(){return!this.s},q.isNegative=q.isNeg=function(){return this.s<0},q.isPositive=q.isPos=function(){return this.s>0},q.isZero=function(){return!!this.d&&this.d[0]===0},q.lessThan=q.lt=function(F){return this.cmp(F)<0},q.lessThanOrEqualTo=q.lte=function(F){return this.cmp(F)<1},q.logarithm=q.log=function(F){var G,H,W,$,Q,he,we,Ae,De=this,Ee=De.constructor,Ie=Ee.precision,Re=Ee.rounding,tr=5;if(F==null)F=new Ee(10),G=!0;else{if(F=new Ee(F),H=F.d,F.s<0||!H||!H[0]||F.eq(1))return new Ee(NaN);G=F.eq(10)}if(H=De.d,De.s<0||!H||!H[0]||De.eq(1))return new Ee(H&&!H[0]?-1/0:De.s!=1?NaN:H?0:1/0);if(G)if(H.length>1)Q=!0;else{for($=H[0];$%10===0;)$/=10;Q=$!==1}if(d=!1,we=Ie+tr,he=Ce(De,we),W=G?ye(Ee,we+10):Ce(F,we),Ae=V(he,W,we,1),j(Ae.d,$=Ie,Re))do if(we+=10,he=Ce(De,we),W=G?ye(Ee,we+10):Ce(F,we),Ae=V(he,W,we,1),!Q){+z(Ae.d).slice($+1,$+15)+1==1e14&&(Ae=E(Ae,Ie+1,0));break}while(j(Ae.d,$+=10,Re));return d=!0,E(Ae,Ie,Re)},q.minus=q.sub=function(F){var G,H,W,$,Q,he,we,Ae,De,Ee,Ie,Re,tr=this,kr=tr.constructor;if(F=new kr(F),!tr.d||!F.d)return!tr.s||!F.s?F=new kr(NaN):tr.d?F.s=-F.s:F=new kr(F.d||tr.s!==F.s?tr:NaN),F;if(tr.s!=F.s)return F.s=-F.s,tr.plus(F);if(De=tr.d,Re=F.d,we=kr.precision,Ae=kr.rounding,!De[0]||!Re[0]){if(Re[0])F.s=-F.s;else if(De[0])F=new kr(tr);else return new kr(Ae===3?-0:0);return d?E(F,we,Ae):F}if(H=y(F.e/x),Ee=y(tr.e/x),De=De.slice(),Q=Ee-H,Q){for(Ie=Q<0,Ie?(G=De,Q=-Q,he=Re.length):(G=Re,H=Ee,he=De.length),W=Math.max(Math.ceil(we/x),he)+2,Q>W&&(Q=W,G.length=1),G.reverse(),W=Q;W--;)G.push(0);G.reverse()}else{for(W=De.length,he=Re.length,Ie=W<he,Ie&&(he=W),W=0;W<he;W++)if(De[W]!=Re[W]){Ie=De[W]<Re[W];break}Q=0}for(Ie&&(G=De,De=Re,Re=G,F.s=-F.s),he=De.length,W=Re.length-he;W>0;--W)De[he++]=0;for(W=Re.length;W>Q;){if(De[--W]<Re[W]){for($=W;$&&De[--$]===0;)De[$]=O-1;--De[$],De[W]+=O}De[W]-=Re[W]}for(;De[--he]===0;)De.pop();for(;De[0]===0;De.shift())--H;return De[0]?(F.d=De,F.e=ue(De,H),d?E(F,we,Ae):F):new kr(Ae===3?-0:0)},q.modulo=q.mod=function(F){var G,H=this,W=H.constructor;return F=new W(F),!H.d||!F.s||F.d&&!F.d[0]?new W(NaN):!F.d||H.d&&!H.d[0]?E(new W(H),W.precision,W.rounding):(d=!1,W.modulo==9?(G=V(H,F.abs(),0,3,1),G.s*=F.s):G=V(H,F,0,W.modulo,1),G=G.times(F),d=!0,H.minus(G))},q.naturalExponential=q.exp=function(){return me(this)},q.naturalLogarithm=q.ln=function(){return Ce(this)},q.negated=q.neg=function(){var F=new this.constructor(this);return F.s=-F.s,E(F)},q.plus=q.add=function(F){var G,H,W,$,Q,he,we,Ae,De,Ee,Ie=this,Re=Ie.constructor;if(F=new Re(F),!Ie.d||!F.d)return!Ie.s||!F.s?F=new Re(NaN):Ie.d||(F=new Re(F.d||Ie.s===F.s?Ie:NaN)),F;if(Ie.s!=F.s)return F.s=-F.s,Ie.minus(F);if(De=Ie.d,Ee=F.d,we=Re.precision,Ae=Re.rounding,!De[0]||!Ee[0])return Ee[0]||(F=new Re(Ie)),d?E(F,we,Ae):F;if(Q=y(Ie.e/x),W=y(F.e/x),De=De.slice(),$=Q-W,$){for($<0?(H=De,$=-$,he=Ee.length):(H=Ee,W=Q,he=De.length),Q=Math.ceil(we/x),he=Q>he?Q+1:he+1,$>he&&($=he,H.length=1),H.reverse();$--;)H.push(0);H.reverse()}for(he=De.length,$=Ee.length,he-$<0&&($=he,H=Ee,Ee=De,De=H),G=0;$;)G=(De[--$]=De[$]+Ee[$]+G)/O|0,De[$]%=O;for(G&&(De.unshift(G),++W),he=De.length;De[--he]==0;)De.pop();return F.d=De,F.e=ue(De,W),d?E(F,we,Ae):F},q.precision=q.sd=function(F){var G,H=this;if(F!==void 0&&F!==!!F&&F!==1&&F!==0)throw Error(f+F);return H.d?(G=le(H.d),F&&H.e+1>G&&(G=H.e+1)):G=NaN,G},q.round=function(){var F=this,G=F.constructor;return E(new G(F),F.e+1,G.rounding)},q.sine=q.sin=function(){var F,G,H=this,W=H.constructor;return H.isFinite()?H.isZero()?new W(H):(F=W.precision,G=W.rounding,W.precision=F+Math.max(H.e,H.sd())+x,W.rounding=1,H=Ge(W,te(W,H)),W.precision=F,W.rounding=G,E(l>2?H.neg():H,F,G,!0)):new W(NaN)},q.squareRoot=q.sqrt=function(){var F,G,H,W,$,Q,he=this,we=he.d,Ae=he.e,De=he.s,Ee=he.constructor;if(De!==1||!we||!we[0])return new Ee(!De||De<0&&(!we||we[0])?NaN:we?he:1/0);for(d=!1,De=Math.sqrt(+he),De==0||De==1/0?(G=z(we),(G.length+Ae)%2==0&&(G+="0"),De=Math.sqrt(G),Ae=y((Ae+1)/2)-(Ae<0||Ae%2),De==1/0?G="5e"+Ae:(G=De.toExponential(),G=G.slice(0,G.indexOf("e")+1)+Ae),W=new Ee(G)):W=new Ee(De.toString()),H=(Ae=Ee.precision)+3;;)if(Q=W,W=Q.plus(V(he,Q,H+2,1)).times(.5),z(Q.d).slice(0,H)===(G=z(W.d)).slice(0,H))if(G=G.slice(H-3,H+1),G=="9999"||!$&&G=="4999"){if(!$&&(E(Q,Ae+1,0),Q.times(Q).eq(he))){W=Q;break}H+=4,$=1}else{(!+G||!+G.slice(1)&&G.charAt(0)=="5")&&(E(W,Ae+1,1),F=!W.times(W).eq(he));break}return d=!0,E(W,Ae,Ee.rounding,F)},q.tangent=q.tan=function(){var F,G,H=this,W=H.constructor;return H.isFinite()?H.isZero()?new W(H):(F=W.precision,G=W.rounding,W.precision=F+10,W.rounding=1,H=H.sin(),H.s=1,H=V(H,new W(1).minus(H.times(H)).sqrt(),F+10,0),W.precision=F,W.rounding=G,E(l==2||l==4?H.neg():H,F,G,!0)):new W(NaN)},q.times=q.mul=function(F){var G,H,W,$,Q,he,we,Ae,De,Ee=this,Ie=Ee.constructor,Re=Ee.d,tr=(F=new Ie(F)).d;if(F.s*=Ee.s,!Re||!Re[0]||!tr||!tr[0])return new Ie(!F.s||Re&&!Re[0]&&!tr||tr&&!tr[0]&&!Re?NaN:!Re||!tr?F.s/0:F.s*0);for(H=y(Ee.e/x)+y(F.e/x),Ae=Re.length,De=tr.length,Ae<De&&(Q=Re,Re=tr,tr=Q,he=Ae,Ae=De,De=he),Q=[],he=Ae+De,W=he;W--;)Q.push(0);for(W=De;--W>=0;){for(G=0,$=Ae+W;$>W;)we=Q[$]+tr[W]*Re[$-W-1]+G,Q[$--]=we%O|0,G=we/O|0;Q[$]=(Q[$]+G)%O|0}for(;!Q[--he];)Q.pop();return G?++H:Q.shift(),F.d=Q,F.e=ue(Q,H),d?E(F,Ie.precision,Ie.rounding):F},q.toBinary=function(F,G){return ce(this,2,F,G)},q.toDecimalPlaces=q.toDP=function(F,G){var H=this,W=H.constructor;return H=new W(H),F===void 0?H:(R(F,0,t),G===void 0?G=W.rounding:R(G,0,8),E(H,F+H.e+1,G))},q.toExponential=function(F,G){var H,W=this,$=W.constructor;return F===void 0?H=Z(W,!0):(R(F,0,t),G===void 0?G=$.rounding:R(G,0,8),W=E(new $(W),F+1,G),H=Z(W,!0,F+1)),W.isNeg()&&!W.isZero()?"-"+H:H},q.toFixed=function(F,G){var H,W,$=this,Q=$.constructor;return F===void 0?H=Z($):(R(F,0,t),G===void 0?G=Q.rounding:R(G,0,8),W=E(new Q($),F+$.e+1,G),H=Z(W,!1,F+W.e+1)),$.isNeg()&&!$.isZero()?"-"+H:H},q.toFraction=function(F){var G,H,W,$,Q,he,we,Ae,De,Ee,Ie,Re,tr=this,kr=tr.d,vr=tr.constructor;if(!kr)return new vr(tr);if(De=H=new vr(1),W=Ae=new vr(0),G=new vr(W),Q=G.e=le(kr)-tr.e-1,he=Q%x,G.d[0]=g(10,he<0?x+he:he),F==null)F=Q>0?G:De;else{if(we=new vr(F),!we.isInt()||we.lt(De))throw Error(f+we);F=we.gt(G)?Q>0?G:De:we}for(d=!1,we=new vr(z(kr)),Ee=vr.precision,vr.precision=Q=kr.length*x*2;Ie=V(we,G,0,1,1),$=H.plus(Ie.times(W)),$.cmp(F)!=1;)H=W,W=$,$=De,De=Ae.plus(Ie.times($)),Ae=$,$=G,G=we.minus(Ie.times($)),we=$;return $=V(F.minus(H),W,0,1,1),Ae=Ae.plus($.times(De)),H=H.plus($.times(W)),Ae.s=De.s=tr.s,Re=V(De,W,Q,1).minus(tr).abs().cmp(V(Ae,H,Q,1).minus(tr).abs())<1?[De,W]:[Ae,H],vr.precision=Ee,d=!0,Re},q.toHexadecimal=q.toHex=function(F,G){return ce(this,16,F,G)},q.toNearest=function(F,G){var H=this,W=H.constructor;if(H=new W(H),F==null){if(!H.d)return H;F=new W(1),G=W.rounding}else{if(F=new W(F),G===void 0?G=W.rounding:R(G,0,8),!H.d)return F.s?H:F;if(!F.d)return F.s&&(F.s=H.s),F}return F.d[0]?(d=!1,H=V(H,F,0,G,1).times(F),d=!0,E(H)):(F.s=H.s,H=F),H},q.toNumber=function(){return+this},q.toOctal=function(F,G){return ce(this,8,F,G)},q.toPower=q.pow=function(F){var G,H,W,$,Q,he,we=this,Ae=we.constructor,De=+(F=new Ae(F));if(!we.d||!F.d||!we.d[0]||!F.d[0])return new Ae(g(+we,De));if(we=new Ae(we),we.eq(1))return we;if(W=Ae.precision,Q=Ae.rounding,F.eq(1))return E(we,W,Q);if(G=y(F.e/x),G>=F.d.length-1&&(H=De<0?-De:De)<=N)return $=ne(Ae,we,H,W),F.s<0?new Ae(1).div($):E($,W,Q);if(he=we.s,he<0){if(G<F.d.length-1)return new Ae(NaN);if((F.d[G]&1)==0&&(he=1),we.e==0&&we.d[0]==1&&we.d.length==1)return we.s=he,we}return H=g(+we,De),G=H==0||!isFinite(H)?y(De*(Math.log("0."+z(we.d))/Math.LN10+we.e+1)):new Ae(H+"").e,G>Ae.maxE+1||G<Ae.minE-1?new Ae(G>0?he/0:0):(d=!1,Ae.rounding=we.s=1,H=Math.min(12,(G+"").length),$=me(F.times(Ce(we,W+H)),W),$.d&&($=E($,W+5,1),j($.d,W,Q)&&(G=W+10,$=E(me(F.times(Ce(we,G+H)),G),G+5,1),+z($.d).slice(W+1,W+15)+1==1e14&&($=E($,W+1,0)))),$.s=he,d=!0,Ae.rounding=Q,E($,W,Q))},q.toPrecision=function(F,G){var H,W=this,$=W.constructor;return F===void 0?H=Z(W,W.e<=$.toExpNeg||W.e>=$.toExpPos):(R(F,1,t),G===void 0?G=$.rounding:R(G,0,8),W=E(new $(W),F,G),H=Z(W,F<=W.e||W.e<=$.toExpNeg,F)),W.isNeg()&&!W.isZero()?"-"+H:H},q.toSignificantDigits=q.toSD=function(F,G){var H=this,W=H.constructor;return F===void 0?(F=W.precision,G=W.rounding):(R(F,1,t),G===void 0?G=W.rounding:R(G,0,8)),E(new W(H),F,G)},q.toString=function(){var F=this,G=F.constructor,H=Z(F,F.e<=G.toExpNeg||F.e>=G.toExpPos);return F.isNeg()&&!F.isZero()?"-"+H:H},q.truncated=q.trunc=function(){return E(new this.constructor(this),this.e+1,1)},q.valueOf=q.toJSON=function(){var F=this,G=F.constructor,H=Z(F,F.e<=G.toExpNeg||F.e>=G.toExpPos);return F.isNeg()?"-"+H:H};function z(F){var G,H,W,$=F.length-1,Q="",he=F[0];if($>0){for(Q+=he,G=1;G<$;G++)W=F[G]+"",H=x-W.length,H&&(Q+=Oe(H)),Q+=W;he=F[G],W=he+"",H=x-W.length,H&&(Q+=Oe(H))}else if(he===0)return"0";for(;he%10===0;)he/=10;return Q+he}function R(F,G,H){if(F!==~~F||F<G||F>H)throw Error(f+F)}function j(F,G,H,W){var $,Q,he,we;for(Q=F[0];Q>=10;Q/=10)--G;return--G<0?(G+=x,$=0):($=Math.ceil((G+1)/x),G%=x),Q=g(10,x-G),we=F[$]%Q|0,W==null?G<3?(G==0?we=we/100|0:G==1&&(we=we/10|0),he=H<4&&we==99999||H>3&&we==49999||we==5e4||we==0):he=(H<4&&we+1==Q||H>3&&we+1==Q/2)&&(F[$+1]/Q/100|0)==g(10,G-2)-1||(we==Q/2||we==0)&&(F[$+1]/Q/100|0)==0:G<4?(G==0?we=we/1e3|0:G==1?we=we/100|0:G==2&&(we=we/10|0),he=(W||H<4)&&we==9999||!W&&H>3&&we==4999):he=((W||H<4)&&we+1==Q||!W&&H>3&&we+1==Q/2)&&(F[$+1]/Q/1e3|0)==g(10,G-3)-1,he}function L(F,G,H){for(var W,$=[0],Q,he=0,we=F.length;he<we;){for(Q=$.length;Q--;)$[Q]*=G;for($[0]+=n.indexOf(F.charAt(he++)),W=0;W<$.length;W++)$[W]>H-1&&($[W+1]===void 0&&($[W+1]=0),$[W+1]+=$[W]/H|0,$[W]%=H)}return $.reverse()}function P(F,G){var H,W,$;if(G.isZero())return G;W=G.d.length,W<32?(H=Math.ceil(W/3),$=(1/pe(4,H)).toString()):(H=16,$="2.3283064365386962890625e-10"),F.precision+=H,G=ie(F,1,G.times($),new F(1));for(var Q=H;Q--;){var he=G.times(G);G=he.times(he).minus(he).times(8).plus(1)}return F.precision-=H,G}var V=function(){function F(W,$,Q){var he,we=0,Ae=W.length;for(W=W.slice();Ae--;)he=W[Ae]*$+we,W[Ae]=he%Q|0,we=he/Q|0;return we&&W.unshift(we),W}function G(W,$,Q,he){var we,Ae;if(Q!=he)Ae=Q>he?1:-1;else for(we=Ae=0;we<Q;we++)if(W[we]!=$[we]){Ae=W[we]>$[we]?1:-1;break}return Ae}function H(W,$,Q,he){for(var we=0;Q--;)W[Q]-=we,we=W[Q]<$[Q]?1:0,W[Q]=we*he+W[Q]-$[Q];for(;!W[0]&&W.length>1;)W.shift()}return function(W,$,Q,he,we,Ae){var De,Ee,Ie,Re,tr,kr,vr,dn,ot,$n,Zr,Ut,_d,Ti,j2,wd,pu,T2,Qn,Sd,xd=W.constructor,R2=W.s==$.s?1:-1,zt=W.d,et=$.d;if(!zt||!zt[0]||!et||!et[0])return new xd(!W.s||!$.s||(zt?et&&zt[0]==et[0]:!et)?NaN:zt&&zt[0]==0||!et?R2*0:R2/0);for(Ae?(tr=1,Ee=W.e-$.e):(Ae=O,tr=x,Ee=y(W.e/tr)-y($.e/tr)),Qn=et.length,pu=zt.length,ot=new xd(R2),$n=ot.d=[],Ie=0;et[Ie]==(zt[Ie]||0);Ie++);if(et[Ie]>(zt[Ie]||0)&&Ee--,Q==null?(Ti=Q=xd.precision,he=xd.rounding):we?Ti=Q+(W.e-$.e)+1:Ti=Q,Ti<0)$n.push(1),kr=!0;else{if(Ti=Ti/tr+2|0,Ie=0,Qn==1){for(Re=0,et=et[0],Ti++;(Ie<pu||Re)&&Ti--;Ie++)j2=Re*Ae+(zt[Ie]||0),$n[Ie]=j2/et|0,Re=j2%et|0;kr=Re||Ie<pu}else{for(Re=Ae/(et[0]+1)|0,Re>1&&(et=F(et,Re,Ae),zt=F(zt,Re,Ae),Qn=et.length,pu=zt.length),wd=Qn,Zr=zt.slice(0,Qn),Ut=Zr.length;Ut<Qn;)Zr[Ut++]=0;Sd=et.slice(),Sd.unshift(0),T2=et[0],et[1]>=Ae/2&&++T2;do Re=0,De=G(et,Zr,Qn,Ut),De<0?(_d=Zr[0],Qn!=Ut&&(_d=_d*Ae+(Zr[1]||0)),Re=_d/T2|0,Re>1?(Re>=Ae&&(Re=Ae-1),vr=F(et,Re,Ae),dn=vr.length,Ut=Zr.length,De=G(vr,Zr,dn,Ut),De==1&&(Re--,H(vr,Qn<dn?Sd:et,dn,Ae))):(Re==0&&(De=Re=1),vr=et.slice()),dn=vr.length,dn<Ut&&vr.unshift(0),H(Zr,vr,Ut,Ae),De==-1&&(Ut=Zr.length,De=G(et,Zr,Qn,Ut),De<1&&(Re++,H(Zr,Qn<Ut?Sd:et,Ut,Ae))),Ut=Zr.length):De===0&&(Re++,Zr=[0]),$n[Ie++]=Re,De&&Zr[0]?Zr[Ut++]=zt[wd]||0:(Zr=[zt[wd]],Ut=1);while((wd++<pu||Zr[0]!==void 0)&&Ti--);kr=Zr[0]!==void 0}$n[0]||$n.shift()}if(tr==1)ot.e=Ee,s=kr;else{for(Ie=1,Re=$n[0];Re>=10;Re/=10)Ie++;ot.e=Ie+Ee*tr-1,E(ot,we?Q+ot.e+1:Q,he,kr)}return ot}}();function E(F,G,H,W){var $,Q,he,we,Ae,De,Ee,Ie,Re,tr=F.constructor;e:if(G!=null){if(Ie=F.d,!Ie)return F;for($=1,we=Ie[0];we>=10;we/=10)$++;if(Q=G-$,Q<0)Q+=x,he=G,Ee=Ie[Re=0],Ae=Ee/g(10,$-he-1)%10|0;else if(Re=Math.ceil((Q+1)/x),we=Ie.length,Re>=we)if(W){for(;we++<=Re;)Ie.push(0);Ee=Ae=0,$=1,Q%=x,he=Q-x+1}else break e;else{for(Ee=we=Ie[Re],$=1;we>=10;we/=10)$++;Q%=x,he=Q-x+$,Ae=he<0?0:Ee/g(10,$-he-1)%10|0}if(W=W||G<0||Ie[Re+1]!==void 0||(he<0?Ee:Ee%g(10,$-he-1)),De=H<4?(Ae||W)&&(H==0||H==(F.s<0?3:2)):Ae>5||Ae==5&&(H==4||W||H==6&&(Q>0?he>0?Ee/g(10,$-he):0:Ie[Re-1])%10&1||H==(F.s<0?8:7)),G<1||!Ie[0])return Ie.length=0,De?(G-=F.e+1,Ie[0]=g(10,(x-G%x)%x),F.e=-G||0):Ie[0]=F.e=0,F;if(Q==0?(Ie.length=Re,we=1,Re--):(Ie.length=Re+1,we=g(10,x-Q),Ie[Re]=he>0?(Ee/g(10,$-he)%g(10,he)|0)*we:0),De)for(;;)if(Re==0){for(Q=1,he=Ie[0];he>=10;he/=10)Q++;for(he=Ie[0]+=we,we=1;he>=10;he/=10)we++;Q!=we&&(F.e++,Ie[0]==O&&(Ie[0]=1));break}else{if(Ie[Re]+=we,Ie[Re]!=O)break;Ie[Re--]=0,we=1}for(Q=Ie.length;Ie[--Q]===0;)Ie.pop()}return d&&(F.e>tr.maxE?(F.d=null,F.e=NaN):F.e<tr.minE&&(F.e=0,F.d=[0])),F}function Z(F,G,H){if(!F.isFinite())return Be(F);var W,$=F.e,Q=z(F.d),he=Q.length;return G?(H&&(W=H-he)>0?Q=Q.charAt(0)+"."+Q.slice(1)+Oe(W):he>1&&(Q=Q.charAt(0)+"."+Q.slice(1)),Q=Q+(F.e<0?"e":"e+")+F.e):$<0?(Q="0."+Oe(-$-1)+Q,H&&(W=H-he)>0&&(Q+=Oe(W))):$>=he?(Q+=Oe($+1-he),H&&(W=H-$-1)>0&&(Q=Q+"."+Oe(W))):((W=$+1)<he&&(Q=Q.slice(0,W)+"."+Q.slice(W)),H&&(W=H-he)>0&&($+1===he&&(Q+="."),Q+=Oe(W))),Q}function ue(F,G){var H=F[0];for(G*=x;H>=10;H/=10)G++;return G}function ye(F,G,H){if(G>M)throw d=!0,H&&(F.precision=H),Error(v);return E(new F(i),G,1,!0)}function X(F,G,H){if(G>I)throw Error(v);return E(new F(c),G,H,!0)}function le(F){var G=F.length-1,H=G*x+1;if(G=F[G],G){for(;G%10==0;G/=10)H--;for(G=F[0];G>=10;G/=10)H++}return H}function Oe(F){for(var G="";F--;)G+="0";return G}function ne(F,G,H,W){var $,Q=new F(1),he=Math.ceil(W/x+4);for(d=!1;;){if(H%2&&(Q=Q.times(G),ge(Q.d,he)&&($=!0)),H=y(H/2),H===0){H=Q.d.length-1,$&&Q.d[H]===0&&++Q.d[H];break}G=G.times(G),ge(G.d,he)}return d=!0,Q}function fe(F){return F.d[F.d.length-1]&1}function Me(F,G,H){for(var W,$=new F(G[0]),Q=0;++Q<G.length;)if(W=new F(G[Q]),W.s)$[H](W)&&($=W);else{$=W;break}return $}function me(F,G){var H,W,$,Q,he,we,Ae,De=0,Ee=0,Ie=0,Re=F.constructor,tr=Re.rounding,kr=Re.precision;if(!F.d||!F.d[0]||F.e>17)return new Re(F.d?F.d[0]?F.s<0?0:1/0:1:F.s?F.s<0?0:F:0/0);for(G==null?(d=!1,Ae=kr):Ae=G,we=new Re(.03125);F.e>-2;)F=F.times(we),Ie+=5;for(W=Math.log(g(2,Ie))/Math.LN10*2+5|0,Ae+=W,H=Q=he=new Re(1),Re.precision=Ae;;){if(Q=E(Q.times(F),Ae,1),H=H.times(++Ee),we=he.plus(V(Q,H,Ae,1)),z(we.d).slice(0,Ae)===z(he.d).slice(0,Ae)){for($=Ie;$--;)he=E(he.times(he),Ae,1);if(G==null)if(De<3&&j(he.d,Ae-W,tr,De))Re.precision=Ae+=10,H=Q=we=new Re(1),Ee=0,De++;else return E(he,Re.precision=kr,tr,d=!0);else return Re.precision=kr,he}he=we}}function Ce(F,G){var H,W,$,Q,he,we,Ae,De,Ee,Ie,Re,tr=1,kr=10,vr=F,dn=vr.d,ot=vr.constructor,$n=ot.rounding,Zr=ot.precision;if(vr.s<0||!dn||!dn[0]||!vr.e&&dn[0]==1&&dn.length==1)return new ot(dn&&!dn[0]?-1/0:vr.s!=1?NaN:dn?0:vr);if(G==null?(d=!1,Ee=Zr):Ee=G,ot.precision=Ee+=kr,H=z(dn),W=H.charAt(0),Math.abs(Q=vr.e)<15e14){for(;W<7&&W!=1||W==1&&H.charAt(1)>3;)vr=vr.times(F),H=z(vr.d),W=H.charAt(0),tr++;Q=vr.e,W>1?(vr=new ot("0."+H),Q++):vr=new ot(W+"."+H.slice(1))}else return De=ye(ot,Ee+2,Zr).times(Q+""),vr=Ce(new ot(W+"."+H.slice(1)),Ee-kr).plus(De),ot.precision=Zr,G==null?E(vr,Zr,$n,d=!0):vr;for(Ie=vr,Ae=he=vr=V(vr.minus(1),vr.plus(1),Ee,1),Re=E(vr.times(vr),Ee,1),$=3;;){if(he=E(he.times(Re),Ee,1),De=Ae.plus(V(he,new ot($),Ee,1)),z(De.d).slice(0,Ee)===z(Ae.d).slice(0,Ee))if(Ae=Ae.times(2),Q!==0&&(Ae=Ae.plus(ye(ot,Ee+2,Zr).times(Q+""))),Ae=V(Ae,new ot(tr),Ee,1),G==null)if(j(Ae.d,Ee-kr,$n,we))ot.precision=Ee+=kr,De=he=vr=V(Ie.minus(1),Ie.plus(1),Ee,1),Re=E(vr.times(vr),Ee,1),$=we=1;else return E(Ae,ot.precision=Zr,$n,d=!0);else return ot.precision=Zr,Ae;Ae=De,$+=2}}function Be(F){return String(F.s*F.s/0)}function je(F,G){var H,W,$;for((H=G.indexOf("."))>-1&&(G=G.replace(".","")),(W=G.search(/e/i))>0?(H<0&&(H=W),H+=+G.slice(W+1),G=G.substring(0,W)):H<0&&(H=G.length),W=0;G.charCodeAt(W)===48;W++);for($=G.length;G.charCodeAt($-1)===48;--$);if(G=G.slice(W,$),G){if($-=W,F.e=H=H-W-1,F.d=[],W=(H+1)%x,H<0&&(W+=x),W<$){for(W&&F.d.push(+G.slice(0,W)),$-=x;W<$;)F.d.push(+G.slice(W,W+=x));G=G.slice(W),W=x-G.length}else W-=$;for(;W--;)G+="0";F.d.push(+G),d&&(F.e>F.constructor.maxE?(F.d=null,F.e=NaN):F.e<F.constructor.minE&&(F.e=0,F.d=[0]))}else F.e=0,F.d=[0];return F}function We(F,G){var H,W,$,Q,he,we,Ae,De,Ee;if(G.indexOf("_")>-1){if(G=G.replace(/(\d)_(?=\d)/g,"$1"),w.test(G))return je(F,G)}else if(G==="Infinity"||G==="NaN")return+G||(F.s=NaN),F.e=NaN,F.d=null,F;if(_.test(G))H=16,G=G.toLowerCase();else if(b.test(G))H=2;else if(S.test(G))H=8;else throw Error(f+G);for(Q=G.search(/p/i),Q>0?(Ae=+G.slice(Q+1),G=G.substring(2,Q)):G=G.slice(2),Q=G.indexOf("."),he=Q>=0,W=F.constructor,he&&(G=G.replace(".",""),we=G.length,Q=we-Q,$=ne(W,new W(H),Q,Q*2)),De=L(G,H,O),Ee=De.length-1,Q=Ee;De[Q]===0;--Q)De.pop();return Q<0?new W(F.s*0):(F.e=ue(De,Ee),F.d=De,d=!1,he&&(F=V(F,$,we*4)),Ae&&(F=F.times(Math.abs(Ae)<54?g(2,Ae):a.pow(2,Ae))),d=!0,F)}function Ge(F,G){var H,W=G.d.length;if(W<3)return G.isZero()?G:ie(F,2,G,G);H=1.4*Math.sqrt(W),H=H>16?16:H|0,G=G.times(1/pe(5,H)),G=ie(F,2,G,G);for(var $,Q=new F(5),he=new F(16),we=new F(20);H--;)$=G.times(G),G=G.times(Q.plus($.times(he.times($).minus(we))));return G}function ie(F,G,H,W,$){var Q,he,we,Ae,De=1,Ee=F.precision,Ie=Math.ceil(Ee/x);for(d=!1,Ae=H.times(H),we=new F(W);;){if(he=V(we.times(Ae),new F(G++*G++),Ee,1),we=$?W.plus(he):W.minus(he),W=V(he.times(Ae),new F(G++*G++),Ee,1),he=we.plus(W),he.d[Ie]!==void 0){for(Q=Ie;he.d[Q]===we.d[Q]&&Q--;);if(Q==-1)break}Q=we,we=W,W=he,he=Q,De++}return d=!0,he.d.length=Ie+1,he}function pe(F,G){for(var H=F;--G;)H*=F;return H}function te(F,G){var H,W=G.s<0,$=X(F,F.precision,1),Q=$.times(.5);if(G=G.abs(),G.lte(Q))return l=W?4:1,G;if(H=G.divToInt($),H.isZero())l=W?3:2;else{if(G=G.minus(H.times($)),G.lte(Q))return l=fe(H)?W?2:3:W?4:1,G;l=fe(H)?W?1:4:W?3:2}return G.minus($).abs()}function ce(F,G,H,W){var $,Q,he,we,Ae,De,Ee,Ie,Re,tr=F.constructor,kr=H!==void 0;if(kr?(R(H,1,t),W===void 0?W=tr.rounding:R(W,0,8)):(H=tr.precision,W=tr.rounding),!F.isFinite())Ee=Be(F);else{for(Ee=Z(F),he=Ee.indexOf("."),kr?($=2,G==16?H=H*4-3:G==8&&(H=H*3-2)):$=G,he>=0&&(Ee=Ee.replace(".",""),Re=new tr(1),Re.e=Ee.length-he,Re.d=L(Z(Re),10,$),Re.e=Re.d.length),Ie=L(Ee,10,$),Q=Ae=Ie.length;Ie[--Ae]==0;)Ie.pop();if(!Ie[0])Ee=kr?"0p+0":"0";else{if(he<0?Q--:(F=new tr(F),F.d=Ie,F.e=Q,F=V(F,Re,H,W,0,$),Ie=F.d,Q=F.e,De=s),he=Ie[H],we=$/2,De=De||Ie[H+1]!==void 0,De=W<4?(he!==void 0||De)&&(W===0||W===(F.s<0?3:2)):he>we||he===we&&(W===4||De||W===6&&Ie[H-1]&1||W===(F.s<0?8:7)),Ie.length=H,De)for(;++Ie[--H]>$-1;)Ie[H]=0,H||(++Q,Ie.unshift(1));for(Ae=Ie.length;!Ie[Ae-1];--Ae);for(he=0,Ee="";he<Ae;he++)Ee+=n.charAt(Ie[he]);if(kr){if(Ae>1)if(G==16||G==8){for(he=G==16?4:3,--Ae;Ae%he;Ae++)Ee+="0";for(Ie=L(Ee,$,G),Ae=Ie.length;!Ie[Ae-1];--Ae);for(he=1,Ee="1.";he<Ae;he++)Ee+=n.charAt(Ie[he])}else Ee=Ee.charAt(0)+"."+Ee.slice(1);Ee=Ee+(Q<0?"p":"p+")+Q}else if(Q<0){for(;++Q;)Ee="0"+Ee;Ee="0."+Ee}else if(++Q>Ae)for(Q-=Ae;Q--;)Ee+="0";else Q<Ae&&(Ee=Ee.slice(0,Q)+"."+Ee.slice(Q))}Ee=(G==16?"0x":G==2?"0b":G==8?"0o":"")+Ee}return F.s<0?"-"+Ee:Ee}function ge(F,G){if(F.length>G)return F.length=G,!0}function ve(F){return new this(F).abs()}function Pe(F){return new this(F).acos()}function ke(F){return new this(F).acosh()}function Te(F,G){return new this(F).plus(G)}function $e(F){return new this(F).asin()}function Ue(F){return new this(F).asinh()}function Ze(F){return new this(F).atan()}function Pr(F){return new this(F).atanh()}function Qr(F,G){F=new this(F),G=new this(G);var H,W=this.precision,$=this.rounding,Q=W+4;return!F.s||!G.s?H=new this(NaN):!F.d&&!G.d?(H=X(this,Q,1).times(G.s>0?.25:.75),H.s=F.s):!G.d||F.isZero()?(H=G.s<0?X(this,W,$):new this(0),H.s=F.s):!F.d||G.isZero()?(H=X(this,Q,1).times(.5),H.s=F.s):G.s<0?(this.precision=Q,this.rounding=1,H=this.atan(V(F,G,Q,1)),G=X(this,Q,1),this.precision=W,this.rounding=$,H=F.s<0?H.minus(G):H.plus(G)):H=this.atan(V(F,G,Q,1)),H}function Gr(F){return new this(F).cbrt()}function wt(F){return E(F=new this(F),F.e+1,2)}function cn(F,G,H){return new this(F).clamp(G,H)}function Bt(F){if(!F||typeof F!="object")throw Error(p+"Object expected");var G,H,W,$=F.defaults===!0,Q=["precision",1,t,"rounding",0,8,"toExpNeg",-r,0,"toExpPos",0,r,"maxE",0,r,"minE",-r,0,"modulo",0,9];for(G=0;G<Q.length;G+=3)if(H=Q[G],$&&(this[H]=u[H]),(W=F[H])!==void 0)if(y(W)===W&&W>=Q[G+1]&&W<=Q[G+2])this[H]=W;else throw Error(f+H+": "+W);if(H="crypto",$&&(this[H]=u[H]),(W=F[H])!==void 0)if(W===!0||W===!1||W===0||W===1)if(W)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[H]=!0;else throw Error(h);else this[H]=!1;else throw Error(f+H+": "+W);return this}function un(F){return new this(F).cos()}function Dt(F){return new this(F).cosh()}function Br(F){var G,H,W;function $(Q){var he,we,Ae,De=this;if(!(De instanceof $))return new $(Q);if(De.constructor=$,ze(Q)){De.s=Q.s,d?!Q.d||Q.e>$.maxE?(De.e=NaN,De.d=null):Q.e<$.minE?(De.e=0,De.d=[0]):(De.e=Q.e,De.d=Q.d.slice()):(De.e=Q.e,De.d=Q.d?Q.d.slice():Q.d);return}if(Ae=typeof Q,Ae==="number"){if(Q===0){De.s=1/Q<0?-1:1,De.e=0,De.d=[0];return}if(Q<0?(Q=-Q,De.s=-1):De.s=1,Q===~~Q&&Q<1e7){for(he=0,we=Q;we>=10;we/=10)he++;d?he>$.maxE?(De.e=NaN,De.d=null):he<$.minE?(De.e=0,De.d=[0]):(De.e=he,De.d=[Q]):(De.e=he,De.d=[Q]);return}else if(Q*0!==0){Q||(De.s=NaN),De.e=NaN,De.d=null;return}return je(De,Q.toString())}else if(Ae!=="string")throw Error(f+Q);return(we=Q.charCodeAt(0))===45?(Q=Q.slice(1),De.s=-1):(we===43&&(Q=Q.slice(1)),De.s=1),w.test(Q)?je(De,Q):We(De,Q)}if($.prototype=q,$.ROUND_UP=0,$.ROUND_DOWN=1,$.ROUND_CEIL=2,$.ROUND_FLOOR=3,$.ROUND_HALF_UP=4,$.ROUND_HALF_DOWN=5,$.ROUND_HALF_EVEN=6,$.ROUND_HALF_CEIL=7,$.ROUND_HALF_FLOOR=8,$.EUCLID=9,$.config=$.set=Bt,$.clone=Br,$.isDecimal=ze,$.abs=ve,$.acos=Pe,$.acosh=ke,$.add=Te,$.asin=$e,$.asinh=Ue,$.atan=Ze,$.atanh=Pr,$.atan2=Qr,$.cbrt=Gr,$.ceil=wt,$.clamp=cn,$.cos=un,$.cosh=Dt,$.div=gn,$.exp=J,$.floor=be,$.hypot=qe,$.ln=lr,$.log=_r,$.log10=ki,$.log2=ln,$.max=us,$.min=ls,$.mod=ds,$.mul=ps,$.pow=fs,$.random=hs,$.round=vs,$.sign=ms,$.sin=ys,$.sinh=gs,$.sqrt=bs,$.sub=_s,$.sum=ji,$.tan=it,$.tanh=ut,$.trunc=Lt,F===void 0&&(F={}),F&&F.defaults!==!0)for(W=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],G=0;G<W.length;)F.hasOwnProperty(H=W[G++])||(F[H]=this[H]);return $.config(F),$}function gn(F,G){return new this(F).div(G)}function J(F){return new this(F).exp()}function be(F){return E(F=new this(F),F.e+1,3)}function qe(){var F,G,H=new this(0);for(d=!1,F=0;F<arguments.length;)if(G=new this(arguments[F++]),G.d)H.d&&(H=H.plus(G.times(G)));else{if(G.s)return d=!0,new this(1/0);H=G}return d=!0,H.sqrt()}function ze(F){return F instanceof a||F&&F.toStringTag===m||!1}function lr(F){return new this(F).ln()}function _r(F,G){return new this(F).log(G)}function ln(F){return new this(F).log(2)}function ki(F){return new this(F).log(10)}function us(){return Me(this,arguments,"lt")}function ls(){return Me(this,arguments,"gt")}function ds(F,G){return new this(F).mod(G)}function ps(F,G){return new this(F).mul(G)}function fs(F,G){return new this(F).pow(G)}function hs(F){var G,H,W,$,Q=0,he=new this(1),we=[];if(F===void 0?F=this.precision:R(F,1,t),W=Math.ceil(F/x),this.crypto)if(crypto.getRandomValues)for(G=crypto.getRandomValues(new Uint32Array(W));Q<W;)$=G[Q],$>=429e7?G[Q]=crypto.getRandomValues(new Uint32Array(1))[0]:we[Q++]=$%1e7;else if(crypto.randomBytes){for(G=crypto.randomBytes(W*=4);Q<W;)$=G[Q]+(G[Q+1]<<8)+(G[Q+2]<<16)+((G[Q+3]&127)<<24),$>=214e7?crypto.randomBytes(4).copy(G,Q):(we.push($%1e7),Q+=4);Q=W/4}else throw Error(h);else for(;Q<W;)we[Q++]=Math.random()*1e7|0;for(W=we[--Q],F%=x,W&&F&&($=g(10,x-F),we[Q]=(W/$|0)*$);we[Q]===0;Q--)we.pop();if(Q<0)H=0,we=[0];else{for(H=-1;we[0]===0;H-=x)we.shift();for(W=1,$=we[0];$>=10;$/=10)W++;W<x&&(H-=x-W)}return he.e=H,he.d=we,he}function vs(F){return E(F=new this(F),F.e+1,this.rounding)}function ms(F){return F=new this(F),F.d?F.d[0]?F.s:0*F.s:F.s||NaN}function ys(F){return new this(F).sin()}function gs(F){return new this(F).sinh()}function bs(F){return new this(F).sqrt()}function _s(F,G){return new this(F).sub(G)}function ji(){var F=0,G=arguments,H=new this(G[F]);for(d=!1;H.s&&++F<G.length;)H=H.plus(G[F]);return d=!0,E(H,this.precision,this.rounding)}function it(F){return new this(F).tan()}function ut(F){return new this(F).tanh()}function Lt(F){return E(F=new this(F),F.e+1,1)}a=Br(u),a.prototype.constructor=a,a.default=a.Decimal=a,i=new a(i),c=new a(c),typeof define=="function"&&define.amd?define(function(){return a}):typeof kd<"u"&&kd.exports?(typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"&&(q[Symbol.for("nodejs.util.inspect.custom")]=q.toString,q[Symbol.toStringTag]="Decimal"),kd.exports=a):(e||(e=typeof self<"u"&&self&&self.self==self?self:window),o=e.Decimal,a.noConflict=function(){return e.Decimal=o,a},e.Decimal=a)})(Ij)});var kj=D(jd=>{"use strict";Object.defineProperty(jd,"__esModule",{value:!0});jd.createBigNumberClass=void 0;var Jue=Gue(Bj()),Vue=oe();function Gue(e){return e&&e.__esModule?e:{default:e}}var Hue="BigNumber",Wue=["?on","config"],$ue=(0,Vue.factory)(Hue,Wue,function(e){var r=e.on,t=e.config,n=Jue.default.clone({precision:t.precision});return n.prototype.type="BigNumber",n.prototype.isBigNumber=!0,n.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},n.fromJSON=function(i){return new n(i.value)},r&&r("config",function(i,c){i.precision!==c.precision&&n.config({precision:i.precision})}),n},{isClass:!0});jd.createBigNumberClass=$ue});var Tj=D((mC,jj)=>{(function(e){"use strict";var r=Math.cosh||function(o){return Math.abs(o)<1e-9?1-o:(Math.exp(o)+Math.exp(-o))*.5},t=Math.sinh||function(o){return Math.abs(o)<1e-9?o:(Math.exp(o)-Math.exp(-o))*.5},n=function(o){var l=Math.PI/4;if(-l>o||o>l)return Math.cos(o)-1;var d=o*o;return d*(d*(d*(d*(d*(d*(d*(d/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-1/2)},i=function(o,l){var d=Math.abs(o),p=Math.abs(l);return d<3e3&&p<3e3?Math.sqrt(d*d+p*p):(d<p?(d=p,p=o/l):p=l/o,d*Math.sqrt(1+p*p))},c=function(){throw SyntaxError("Invalid Param")};function u(o,l){var d=Math.abs(o),p=Math.abs(l);return o===0?Math.log(p):l===0?Math.log(d):d<3e3&&p<3e3?Math.log(o*o+l*l)*.5:(o=o/2,l=l/2,.5*Math.log(o*o+l*l)+Math.LN2)}var a=function(o,l){var d={re:0,im:0};if(o==null)d.re=d.im=0;else if(l!==void 0)d.re=o,d.im=l;else switch(typeof o){case"object":if("im"in o&&"re"in o)d.re=o.re,d.im=o.im;else if("abs"in o&&"arg"in o){if(!Number.isFinite(o.abs)&&Number.isFinite(o.arg))return s.INFINITY;d.re=o.abs*Math.cos(o.arg),d.im=o.abs*Math.sin(o.arg)}else if("r"in o&&"phi"in o){if(!Number.isFinite(o.r)&&Number.isFinite(o.phi))return s.INFINITY;d.re=o.r*Math.cos(o.phi),d.im=o.r*Math.sin(o.phi)}else o.length===2?(d.re=o[0],d.im=o[1]):c();break;case"string":d.im=d.re=0;var p=o.match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),f=1,v=0;p===null&&c();for(var h=0;h<p.length;h++){var m=p[h];m===" "||m==="	"||m===`
`||(m==="+"?f++:m==="-"?v++:m==="i"||m==="I"?(f+v===0&&c(),p[h+1]!==" "&&!isNaN(p[h+1])?(d.im+=parseFloat((v%2?"-":"")+p[h+1]),h++):d.im+=parseFloat((v%2?"-":"")+"1"),f=v=0):((f+v===0||isNaN(m))&&c(),p[h+1]==="i"||p[h+1]==="I"?(d.im+=parseFloat((v%2?"-":"")+m),h++):d.re+=parseFloat((v%2?"-":"")+m),f=v=0))}f+v>0&&c();break;case"number":d.im=0,d.re=o;break;default:c()}return isNaN(d.re)||isNaN(d.im),d};function s(o,l){if(!(this instanceof s))return new s(o,l);var d=a(o,l);this.re=d.re,this.im=d.im}s.prototype={re:0,im:0,sign:function(){var o=this.abs();return new s(this.re/o,this.im/o)},add:function(o,l){var d=new s(o,l);return this.isInfinite()&&d.isInfinite()?s.NAN:this.isInfinite()||d.isInfinite()?s.INFINITY:new s(this.re+d.re,this.im+d.im)},sub:function(o,l){var d=new s(o,l);return this.isInfinite()&&d.isInfinite()?s.NAN:this.isInfinite()||d.isInfinite()?s.INFINITY:new s(this.re-d.re,this.im-d.im)},mul:function(o,l){var d=new s(o,l);return this.isInfinite()&&d.isZero()||this.isZero()&&d.isInfinite()?s.NAN:this.isInfinite()||d.isInfinite()?s.INFINITY:d.im===0&&this.im===0?new s(this.re*d.re,0):new s(this.re*d.re-this.im*d.im,this.re*d.im+this.im*d.re)},div:function(o,l){var d=new s(o,l);if(this.isZero()&&d.isZero()||this.isInfinite()&&d.isInfinite())return s.NAN;if(this.isInfinite()||d.isZero())return s.INFINITY;if(this.isZero()||d.isInfinite())return s.ZERO;o=this.re,l=this.im;var p=d.re,f=d.im,v,h;return f===0?new s(o/p,l/p):Math.abs(p)<Math.abs(f)?(h=p/f,v=p*h+f,new s((o*h+l)/v,(l*h-o)/v)):(h=f/p,v=f*h+p,new s((o+l*h)/v,(l-o*h)/v))},pow:function(o,l){var d=new s(o,l);if(o=this.re,l=this.im,d.isZero())return s.ONE;if(d.im===0){if(l===0&&o>0)return new s(Math.pow(o,d.re),0);if(o===0)switch((d.re%4+4)%4){case 0:return new s(Math.pow(l,d.re),0);case 1:return new s(0,Math.pow(l,d.re));case 2:return new s(-Math.pow(l,d.re),0);case 3:return new s(0,-Math.pow(l,d.re))}}if(o===0&&l===0&&d.re>0&&d.im>=0)return s.ZERO;var p=Math.atan2(l,o),f=u(o,l);return o=Math.exp(d.re*f-d.im*p),l=d.im*f+d.re*p,new s(o*Math.cos(l),o*Math.sin(l))},sqrt:function(){var o=this.re,l=this.im,d=this.abs(),p,f;if(o>=0){if(l===0)return new s(Math.sqrt(o),0);p=.5*Math.sqrt(2*(d+o))}else p=Math.abs(l)/Math.sqrt(2*(d-o));return o<=0?f=.5*Math.sqrt(2*(d-o)):f=Math.abs(l)/Math.sqrt(2*(d+o)),new s(p,l<0?-f:f)},exp:function(){var o=Math.exp(this.re);return this.im,new s(o*Math.cos(this.im),o*Math.sin(this.im))},expm1:function(){var o=this.re,l=this.im;return new s(Math.expm1(o)*Math.cos(l)+n(l),Math.exp(o)*Math.sin(l))},log:function(){var o=this.re,l=this.im;return l===0&&o>0,new s(u(o,l),Math.atan2(l,o))},abs:function(){return i(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){var o=this.re,l=this.im;return new s(Math.sin(o)*r(l),Math.cos(o)*t(l))},cos:function(){var o=this.re,l=this.im;return new s(Math.cos(o)*r(l),-Math.sin(o)*t(l))},tan:function(){var o=2*this.re,l=2*this.im,d=Math.cos(o)+r(l);return new s(Math.sin(o)/d,t(l)/d)},cot:function(){var o=2*this.re,l=2*this.im,d=Math.cos(o)-r(l);return new s(-Math.sin(o)/d,t(l)/d)},sec:function(){var o=this.re,l=this.im,d=.5*r(2*l)+.5*Math.cos(2*o);return new s(Math.cos(o)*r(l)/d,Math.sin(o)*t(l)/d)},csc:function(){var o=this.re,l=this.im,d=.5*r(2*l)-.5*Math.cos(2*o);return new s(Math.sin(o)*r(l)/d,-Math.cos(o)*t(l)/d)},asin:function(){var o=this.re,l=this.im,d=new s(l*l-o*o+1,-2*o*l).sqrt(),p=new s(d.re-l,d.im+o).log();return new s(p.im,-p.re)},acos:function(){var o=this.re,l=this.im,d=new s(l*l-o*o+1,-2*o*l).sqrt(),p=new s(d.re-l,d.im+o).log();return new s(Math.PI/2-p.im,p.re)},atan:function(){var o=this.re,l=this.im;if(o===0){if(l===1)return new s(0,1/0);if(l===-1)return new s(0,-1/0)}var d=o*o+(1-l)*(1-l),p=new s((1-l*l-o*o)/d,-2*o/d).log();return new s(-.5*p.im,.5*p.re)},acot:function(){var o=this.re,l=this.im;if(l===0)return new s(Math.atan2(1,o),0);var d=o*o+l*l;return d!==0?new s(o/d,-l/d).atan():new s(o!==0?o/0:0,l!==0?-l/0:0).atan()},asec:function(){var o=this.re,l=this.im;if(o===0&&l===0)return new s(0,1/0);var d=o*o+l*l;return d!==0?new s(o/d,-l/d).acos():new s(o!==0?o/0:0,l!==0?-l/0:0).acos()},acsc:function(){var o=this.re,l=this.im;if(o===0&&l===0)return new s(Math.PI/2,1/0);var d=o*o+l*l;return d!==0?new s(o/d,-l/d).asin():new s(o!==0?o/0:0,l!==0?-l/0:0).asin()},sinh:function(){var o=this.re,l=this.im;return new s(t(o)*Math.cos(l),r(o)*Math.sin(l))},cosh:function(){var o=this.re,l=this.im;return new s(r(o)*Math.cos(l),t(o)*Math.sin(l))},tanh:function(){var o=2*this.re,l=2*this.im,d=r(o)+Math.cos(l);return new s(t(o)/d,Math.sin(l)/d)},coth:function(){var o=2*this.re,l=2*this.im,d=r(o)-Math.cos(l);return new s(t(o)/d,-Math.sin(l)/d)},csch:function(){var o=this.re,l=this.im,d=Math.cos(2*l)-r(2*o);return new s(-2*t(o)*Math.cos(l)/d,2*r(o)*Math.sin(l)/d)},sech:function(){var o=this.re,l=this.im,d=Math.cos(2*l)+r(2*o);return new s(2*r(o)*Math.cos(l)/d,-2*t(o)*Math.sin(l)/d)},asinh:function(){var o=this.im;this.im=-this.re,this.re=o;var l=this.asin();return this.re=-this.im,this.im=o,o=l.re,l.re=-l.im,l.im=o,l},acosh:function(){var o=this.acos();if(o.im<=0){var l=o.re;o.re=-o.im,o.im=l}else{var l=o.im;o.im=-o.re,o.re=l}return o},atanh:function(){var o=this.re,l=this.im,d=o>1&&l===0,p=1-o,f=1+o,v=p*p+l*l,h=v!==0?new s((f*p-l*l)/v,(l*p+f*l)/v):new s(o!==-1?o/0:0,l!==0?l/0:0),m=h.re;return h.re=u(h.re,h.im)/2,h.im=Math.atan2(h.im,m)/2,d&&(h.im=-h.im),h},acoth:function(){var o=this.re,l=this.im;if(o===0&&l===0)return new s(0,Math.PI/2);var d=o*o+l*l;return d!==0?new s(o/d,-l/d).atanh():new s(o!==0?o/0:0,l!==0?-l/0:0).atanh()},acsch:function(){var o=this.re,l=this.im;if(l===0)return new s(o!==0?Math.log(o+Math.sqrt(o*o+1)):1/0,0);var d=o*o+l*l;return d!==0?new s(o/d,-l/d).asinh():new s(o!==0?o/0:0,l!==0?-l/0:0).asinh()},asech:function(){var o=this.re,l=this.im;if(this.isZero())return s.INFINITY;var d=o*o+l*l;return d!==0?new s(o/d,-l/d).acosh():new s(o!==0?o/0:0,l!==0?-l/0:0).acosh()},inverse:function(){if(this.isZero())return s.INFINITY;if(this.isInfinite())return s.ZERO;var o=this.re,l=this.im,d=o*o+l*l;return new s(o/d,-l/d)},conjugate:function(){return new s(this.re,-this.im)},neg:function(){return new s(-this.re,-this.im)},ceil:function(o){return o=Math.pow(10,o||0),new s(Math.ceil(this.re*o)/o,Math.ceil(this.im*o)/o)},floor:function(o){return o=Math.pow(10,o||0),new s(Math.floor(this.re*o)/o,Math.floor(this.im*o)/o)},round:function(o){return o=Math.pow(10,o||0),new s(Math.round(this.re*o)/o,Math.round(this.im*o)/o)},equals:function(o,l){var d=new s(o,l);return Math.abs(d.re-this.re)<=s.EPSILON&&Math.abs(d.im-this.im)<=s.EPSILON},clone:function(){return new s(this.re,this.im)},toString:function(){var o=this.re,l=this.im,d="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(o)<s.EPSILON&&(o=0),Math.abs(l)<s.EPSILON&&(l=0),l===0?d+o:(o!==0?(d+=o,d+=" ",l<0?(l=-l,d+="-"):d+="+",d+=" "):l<0&&(l=-l,d+="-"),l!==1&&(d+=l),d+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return this.im===0?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return this.im===0&&this.re===0},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!(this.isNaN()||this.isFinite())}},s.ZERO=new s(0,0),s.ONE=new s(1,0),s.I=new s(0,1),s.PI=new s(Math.PI,0),s.E=new s(Math.E,0),s.INFINITY=new s(1/0,1/0),s.NAN=new s(NaN,NaN),s.EPSILON=1e-15,typeof define=="function"&&define.amd?define([],function(){return s}):typeof mC=="object"?(Object.defineProperty(s,"__esModule",{value:!0}),s.default=s,s.Complex=s,jj.exports=s):e.Complex=s})(mC)});var Fj=D(Fd=>{"use strict";Object.defineProperty(Fd,"__esModule",{value:!0});Fd.createComplexClass=void 0;var wn=Yue(Tj()),Rj=gr(),Td=He(),Que=oe();function Yue(e){return e&&e.__esModule?e:{default:e}}function Rd(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Rd=function(t){return typeof t}:Rd=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rd(e)}var Zue="Complex",Xue=[],Kue=(0,Que.factory)(Zue,Xue,function(){return wn.default.prototype.type="Complex",wn.default.prototype.isComplex=!0,wn.default.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},wn.default.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},wn.default.prototype.format=function(e){var r="",t=this.im,n=this.re,i=(0,Rj.format)(this.re,e),c=(0,Rj.format)(this.im,e),u=(0,Td.isNumber)(e)?e:e?e.precision:null;if(u!==null){var a=Math.pow(10,-u);Math.abs(n/t)<a&&(n=0),Math.abs(t/n)<a&&(t=0)}return t===0?r=i:n===0?t===1?r="i":t===-1?r="-i":r=c+"i":t<0?t===-1?r=i+" - i":r=i+" - "+c.substring(1)+"i":t===1?r=i+" + i":r=i+" + "+c+"i",r},wn.default.fromPolar=function(e){switch(arguments.length){case 1:{var r=arguments[0];if(Rd(r)==="object")return(0,wn.default)(r);throw new TypeError("Input has to be an object with r and phi keys.")}case 2:{var t=arguments[0],n=arguments[1];if((0,Td.isNumber)(t)){if((0,Td.isUnit)(n)&&n.hasBase("ANGLE")&&(n=n.toNumber("rad")),(0,Td.isNumber)(n))return new wn.default({r:t,phi:n});throw new TypeError("Phi is not a number nor an angle unit.")}else throw new TypeError("Radius r is not a number.")}default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},wn.default.prototype.valueOf=wn.default.prototype.toString,wn.default.fromJSON=function(e){return new wn.default(e)},wn.default.compare=function(e,r){return e.re>r.re?1:e.re<r.re?-1:e.im>r.im?1:e.im<r.im?-1:0},wn.default},{isClass:!0});Fd.createComplexClass=Kue});var Uj=D((yC,Lj)=>{(function(e){"use strict";var r=2e3,t={s:1,n:0,d:1};function n(p,f){if(isNaN(p=parseInt(p,10)))throw d.InvalidParameter;return p*f}function i(p,f){if(f===0)throw d.DivisionByZero;var v=Object.create(d.prototype);v.s=p<0?-1:1,p=p<0?-p:p;var h=l(p,f);return v.n=p/h,v.d=f/h,v}function c(p){for(var f={},v=p,h=2,m=4;m<=v;){for(;v%h===0;)v/=h,f[h]=(f[h]||0)+1;m+=1+2*h++}return v!==p?v>1&&(f[v]=(f[v]||0)+1):f[p]=(f[p]||0)+1,f}var u=function(p,f){var v=0,h=1,m=1,y=0,g=0,b=0,_=1,S=1,w=0,O=1,x=1,N=1,M=1e7,I;if(p!=null)if(f!==void 0){if(v=p,h=f,m=v*h,v%1!==0||h%1!==0)throw d.NonIntegerParameter}else switch(typeof p){case"object":{if("d"in p&&"n"in p)v=p.n,h=p.d,"s"in p&&(v*=p.s);else if(0 in p)v=p[0],1 in p&&(h=p[1]);else throw d.InvalidParameter;m=v*h;break}case"number":{if(p<0&&(m=p,p=-p),p%1===0)v=p;else if(p>0){for(p>=1&&(S=Math.pow(10,Math.floor(1+Math.log(p)/Math.LN10)),p/=S);O<=M&&N<=M;)if(I=(w+x)/(O+N),p===I){O+N<=M?(v=w+x,h=O+N):N>O?(v=x,h=N):(v=w,h=O);break}else p>I?(w+=x,O+=N):(x+=w,N+=O),O>M?(v=x,h=N):(v=w,h=O);v*=S}else(isNaN(p)||isNaN(f))&&(h=v=NaN);break}case"string":{if(O=p.match(/\d+|./g),O===null)throw d.InvalidParameter;if(O[w]==="-"?(m=-1,w++):O[w]==="+"&&w++,O.length===w+1?g=n(O[w++],m):O[w+1]==="."||O[w]==="."?(O[w]!=="."&&(y=n(O[w++],m)),w++,(w+1===O.length||O[w+1]==="("&&O[w+3]===")"||O[w+1]==="'"&&O[w+3]==="'")&&(g=n(O[w],m),_=Math.pow(10,O[w].length),w++),(O[w]==="("&&O[w+2]===")"||O[w]==="'"&&O[w+2]==="'")&&(b=n(O[w+1],m),S=Math.pow(10,O[w+1].length)-1,w+=3)):O[w+1]==="/"||O[w+1]===":"?(g=n(O[w],m),_=n(O[w+2],1),w+=3):O[w+3]==="/"&&O[w+1]===" "&&(y=n(O[w],m),g=n(O[w+2],m),_=n(O[w+4],1),w+=5),O.length<=w){h=_*S,m=v=b+h*y+S*g;break}}default:throw d.InvalidParameter}if(h===0)throw d.DivisionByZero;t.s=m<0?-1:1,t.n=Math.abs(v),t.d=Math.abs(h)};function a(p,f,v){for(var h=1;f>0;p=p*p%v,f>>=1)f&1&&(h=h*p%v);return h}function s(p,f){for(;f%2===0;f/=2);for(;f%5===0;f/=5);if(f===1)return 0;for(var v=10%f,h=1;v!==1;h++)if(v=v*10%f,h>r)return 0;return h}function o(p,f,v){for(var h=1,m=a(10,v,f),y=0;y<300;y++){if(h===m)return y;h=h*10%f,m=m*10%f}return 0}function l(p,f){if(!p)return f;if(!f)return p;for(;;){if(p%=f,!p)return f;if(f%=p,!f)return p}}function d(p,f){if(u(p,f),this instanceof d)p=l(t.d,t.n),this.s=t.s,this.n=t.n/p,this.d=t.d/p;else return i(t.s*t.n,t.d)}d.DivisionByZero=new Error("Division by Zero"),d.InvalidParameter=new Error("Invalid argument"),d.NonIntegerParameter=new Error("Parameters must be integer"),d.prototype={s:1,n:0,d:1,abs:function(){return i(this.n,this.d)},neg:function(){return i(-this.s*this.n,this.d)},add:function(p,f){return u(p,f),i(this.s*this.n*t.d+t.s*this.d*t.n,this.d*t.d)},sub:function(p,f){return u(p,f),i(this.s*this.n*t.d-t.s*this.d*t.n,this.d*t.d)},mul:function(p,f){return u(p,f),i(this.s*t.s*this.n*t.n,this.d*t.d)},div:function(p,f){return u(p,f),i(this.s*t.s*this.n*t.d,this.d*t.n)},clone:function(){return i(this.s*this.n,this.d)},mod:function(p,f){if(isNaN(this.n)||isNaN(this.d))return new d(NaN);if(p===void 0)return i(this.s*this.n%this.d,1);if(u(p,f),t.n===0&&this.d===0)throw d.DivisionByZero;return i(this.s*(t.d*this.n)%(t.n*this.d),t.d*this.d)},gcd:function(p,f){return u(p,f),i(l(t.n,this.n)*l(t.d,this.d),t.d*this.d)},lcm:function(p,f){return u(p,f),t.n===0&&this.n===0?i(0,1):i(t.n*this.n,l(t.n,this.n)*l(t.d,this.d))},ceil:function(p){return p=Math.pow(10,p||0),isNaN(this.n)||isNaN(this.d)?new d(NaN):i(Math.ceil(p*this.s*this.n/this.d),p)},floor:function(p){return p=Math.pow(10,p||0),isNaN(this.n)||isNaN(this.d)?new d(NaN):i(Math.floor(p*this.s*this.n/this.d),p)},round:function(p){return p=Math.pow(10,p||0),isNaN(this.n)||isNaN(this.d)?new d(NaN):i(Math.round(p*this.s*this.n/this.d),p)},inverse:function(){return i(this.s*this.d,this.n)},pow:function(p,f){if(u(p,f),t.d===1)return t.s<0?i(Math.pow(this.s*this.d,t.n),Math.pow(this.n,t.n)):i(Math.pow(this.s*this.n,t.n),Math.pow(this.d,t.n));if(this.s<0)return null;var v=c(this.n),h=c(this.d),m=1,y=1;for(var g in v)if(g!=="1"){if(g==="0"){m=0;break}if(v[g]*=t.n,v[g]%t.d===0)v[g]/=t.d;else return null;m*=Math.pow(g,v[g])}for(var g in h)if(g!=="1"){if(h[g]*=t.n,h[g]%t.d===0)h[g]/=t.d;else return null;y*=Math.pow(g,h[g])}return t.s<0?i(y,m):i(m,y)},equals:function(p,f){return u(p,f),this.s*this.n*t.d===t.s*t.n*this.d},compare:function(p,f){u(p,f);var v=this.s*this.n*t.d-t.s*t.n*this.d;return(0<v)-(v<0)},simplify:function(p){if(isNaN(this.n)||isNaN(this.d))return this;p=p||.001;for(var f=this.abs(),v=f.toContinued(),h=1;h<v.length;h++){for(var m=i(v[h-1],1),y=h-2;y>=0;y--)m=m.inverse().add(v[y]);if(m.sub(f).abs().valueOf()<p)return m.mul(this.s)}return this},divisible:function(p,f){return u(p,f),!(!(t.n*this.d)||this.n*t.d%(t.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(p){var f,v="",h=this.n,m=this.d;return this.s<0&&(v+="-"),m===1?v+=h:(p&&(f=Math.floor(h/m))>0&&(v+=f,v+=" ",h%=m),v+=h,v+="/",v+=m),v},toLatex:function(p){var f,v="",h=this.n,m=this.d;return this.s<0&&(v+="-"),m===1?v+=h:(p&&(f=Math.floor(h/m))>0&&(v+=f,h%=m),v+="\\frac{",v+=h,v+="}{",v+=m,v+="}"),v},toContinued:function(){var p,f=this.n,v=this.d,h=[];if(isNaN(f)||isNaN(v))return h;do h.push(Math.floor(f/v)),p=f%v,f=v,v=p;while(f!==1);return h},toString:function(p){var f=this.n,v=this.d;if(isNaN(f)||isNaN(v))return"NaN";p=p||15;var h=s(f,v),m=o(f,v,h),y=this.s<0?"-":"";if(y+=f/v|0,f%=v,f*=10,f&&(y+="."),h){for(var g=m;g--;)y+=f/v|0,f%=v,f*=10;y+="(";for(var g=h;g--;)y+=f/v|0,f%=v,f*=10;y+=")"}else for(var g=p;f&&g--;)y+=f/v|0,f%=v,f*=10;return y}},typeof define=="function"&&define.amd?define([],function(){return d}):typeof yC=="object"?(Object.defineProperty(d,"__esModule",{value:!0}),d.default=d,d.Fraction=d,Lj.exports=d):e.Fraction=d})(yC)});var zj=D(Ld=>{"use strict";Object.defineProperty(Ld,"__esModule",{value:!0});Ld.createFractionClass=void 0;var Ao=rle(Uj()),ele=oe();function rle(e){return e&&e.__esModule?e:{default:e}}var tle="Fraction",nle=[],ile=(0,ele.factory)(tle,nle,function(){return Ao.default.prototype.type="Fraction",Ao.default.prototype.isFraction=!0,Ao.default.prototype.toJSON=function(){return{mathjs:"Fraction",n:this.s*this.n,d:this.d}},Ao.default.fromJSON=function(e){return new Ao.default(e)},Ao.default},{isClass:!0});Ld.createFractionClass=ile});var Jj=D(Ud=>{"use strict";Object.defineProperty(Ud,"__esModule",{value:!0});Ud.createRangeClass=void 0;var gC=He(),gu=gr(),ale=oe(),sle="Range",ole=[],cle=(0,ale.factory)(sle,ole,function(){function e(r,t,n){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator");var i=r!=null,c=t!=null,u=n!=null;if(i){if((0,gC.isBigNumber)(r))r=r.toNumber();else if(typeof r!="number")throw new TypeError("Parameter start must be a number")}if(c){if((0,gC.isBigNumber)(t))t=t.toNumber();else if(typeof t!="number")throw new TypeError("Parameter end must be a number")}if(u){if((0,gC.isBigNumber)(n))n=n.toNumber();else if(typeof n!="number")throw new TypeError("Parameter step must be a number")}this.start=i?parseFloat(r):0,this.end=c?parseFloat(t):0,this.step=u?parseFloat(n):1}return e.prototype.type="Range",e.prototype.isRange=!0,e.parse=function(r){if(typeof r!="string")return null;var t=r.split(":"),n=t.map(function(c){return parseFloat(c)}),i=n.some(function(c){return isNaN(c)});if(i)return null;switch(n.length){case 2:return new e(n[0],n[1]);case 3:return new e(n[0],n[2],n[1]);default:return null}},e.prototype.clone=function(){return new e(this.start,this.end,this.step)},e.prototype.size=function(){var r=0,t=this.start,n=this.step,i=this.end,c=i-t;return(0,gu.sign)(n)===(0,gu.sign)(c)?r=Math.ceil(c/n):c===0&&(r=0),isNaN(r)&&(r=0),[r]},e.prototype.min=function(){var r=this.size()[0];if(r>0)return this.step>0?this.start:this.start+(r-1)*this.step},e.prototype.max=function(){var r=this.size()[0];if(r>0)return this.step>0?this.start+(r-1)*this.step:this.start},e.prototype.forEach=function(r){var t=this.start,n=this.step,i=this.end,c=0;if(n>0)for(;t<i;)r(t,[c],this),t+=n,c++;else if(n<0)for(;t>i;)r(t,[c],this),t+=n,c++},e.prototype.map=function(r){var t=[];return this.forEach(function(n,i,c){t[i[0]]=r(n,i,c)}),t},e.prototype.toArray=function(){var r=[];return this.forEach(function(t,n){r[n[0]]=t}),r},e.prototype.valueOf=function(){return this.toArray()},e.prototype.format=function(r){var t=(0,gu.format)(this.start,r);return this.step!==1&&(t+=":"+(0,gu.format)(this.step,r)),t+=":"+(0,gu.format)(this.end,r),t},e.prototype.toString=function(){return this.format()},e.prototype.toJSON=function(){return{mathjs:"Range",start:this.start,end:this.end,step:this.step}},e.fromJSON=function(r){return new e(r.start,r.end,r.step)},e},{isClass:!0});Ud.createRangeClass=cle});var Vj=D(zd=>{"use strict";Object.defineProperty(zd,"__esModule",{value:!0});zd.createMatrixClass=void 0;var ule=oe(),lle="Matrix",dle=[],ple=(0,ule.factory)(lle,dle,function(){function e(){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator")}return e.prototype.type="Matrix",e.prototype.isMatrix=!0,e.storage=function(r){throw new Error("Matrix.storage is deprecated since v6.0.0. Use the factory function math.matrix instead.")},e.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},e.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},e.prototype.create=function(r,t){throw new Error("Cannot invoke create on a Matrix interface")},e.prototype.subset=function(r,t,n){throw new Error("Cannot invoke subset on a Matrix interface")},e.prototype.get=function(r){throw new Error("Cannot invoke get on a Matrix interface")},e.prototype.set=function(r,t,n){throw new Error("Cannot invoke set on a Matrix interface")},e.prototype.resize=function(r,t){throw new Error("Cannot invoke resize on a Matrix interface")},e.prototype.reshape=function(r,t){throw new Error("Cannot invoke reshape on a Matrix interface")},e.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},e.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},e.prototype.map=function(r,t){throw new Error("Cannot invoke map on a Matrix interface")},e.prototype.forEach=function(r){throw new Error("Cannot invoke forEach on a Matrix interface")},e.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},e.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},e.prototype.format=function(r){throw new Error("Cannot invoke format on a Matrix interface")},e.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},e},{isClass:!0});zd.createMatrixClass=ple});var Hj=D(Jd=>{"use strict";Object.defineProperty(Jd,"__esModule",{value:!0});Jd.createDenseMatrixClass=void 0;var Hr=He(),lt=er(),Gj=Xr(),bu=gr(),Mo=yr(),_u=vt(),fle=oe(),hle="DenseMatrix",vle=["Matrix"],mle=(0,fle.factory)(hle,vle,function(e){var r=e.Matrix;function t(l,d){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");if(d&&!(0,Hr.isString)(d))throw new Error("Invalid datatype: "+d);if((0,Hr.isMatrix)(l))l.type==="DenseMatrix"?(this._data=(0,Mo.clone)(l._data),this._size=(0,Mo.clone)(l._size),this._datatype=d||l._datatype):(this._data=l.toArray(),this._size=l.size(),this._datatype=d||l._datatype);else if(l&&(0,Hr.isArray)(l.data)&&(0,Hr.isArray)(l.size))this._data=l.data,this._size=l.size,(0,lt.validate)(this._data,this._size),this._datatype=d||l.datatype;else if((0,Hr.isArray)(l))this._data=o(l),this._size=(0,lt.arraySize)(this._data),(0,lt.validate)(this._data,this._size),this._datatype=d;else{if(l)throw new TypeError("Unsupported type of data ("+(0,Hr.typeOf)(l)+")");this._data=[],this._size=[0],this._datatype=d}}t.prototype=new r,t.prototype.createDenseMatrix=function(l,d){return new t(l,d)},t.prototype.type="DenseMatrix",t.prototype.isDenseMatrix=!0,t.prototype.getDataType=function(){return(0,lt.getArrayDataType)(this._data,Hr.typeOf)},t.prototype.storage=function(){return"dense"},t.prototype.datatype=function(){return this._datatype},t.prototype.create=function(l,d){return new t(l,d)},t.prototype.subset=function(l,d,p){switch(arguments.length){case 1:return n(this,l);case 2:case 3:return c(this,l,d,p);default:throw new SyntaxError("Wrong number of arguments")}},t.prototype.get=function(l){if(!(0,Hr.isArray)(l))throw new TypeError("Array expected");if(l.length!==this._size.length)throw new _u.DimensionError(l.length,this._size.length);for(var d=0;d<l.length;d++)(0,lt.validateIndex)(l[d],this._size[d]);for(var p=this._data,f=0,v=l.length;f<v;f++){var h=l[f];(0,lt.validateIndex)(h,p.length),p=p[h]}return p},t.prototype.set=function(l,d,p){if(!(0,Hr.isArray)(l))throw new TypeError("Array expected");if(l.length<this._size.length)throw new _u.DimensionError(l.length,this._size.length,"<");var f,v,h,m=l.map(function(g){return g+1});s(this,m,p);var y=this._data;for(f=0,v=l.length-1;f<v;f++)h=l[f],(0,lt.validateIndex)(h,y.length),y=y[h];return h=l[l.length-1],(0,lt.validateIndex)(h,y.length),y[h]=d,this};function n(l,d){if(!(0,Hr.isIndex)(d))throw new TypeError("Invalid index");var p=d.isScalar();if(p)return l.get(d.min());var f=d.size();if(f.length!==l._size.length)throw new _u.DimensionError(f.length,l._size.length);for(var v=d.min(),h=d.max(),m=0,y=l._size.length;m<y;m++)(0,lt.validateIndex)(v[m],l._size[m]),(0,lt.validateIndex)(h[m],l._size[m]);return new t(i(l._data,d,f.length,0),l._datatype)}function i(l,d,p,f){var v=f===p-1,h=d.dimension(f);return v?h.map(function(m){return(0,lt.validateIndex)(m,l.length),l[m]}).valueOf():h.map(function(m){(0,lt.validateIndex)(m,l.length);var y=l[m];return i(y,d,p,f+1)}).valueOf()}function c(l,d,p,f){if(!d||d.isIndex!==!0)throw new TypeError("Invalid index");var v=d.size(),h=d.isScalar(),m;if((0,Hr.isMatrix)(p)?(m=p.size(),p=p.valueOf()):m=(0,lt.arraySize)(p),h){if(m.length!==0)throw new TypeError("Scalar expected");l.set(d.min(),p,f)}else{if(v.length<l._size.length)throw new _u.DimensionError(v.length,l._size.length,"<");if(m.length<v.length){for(var y=0,g=0;v[y]===1&&m[y]===1;)y++;for(;v[y]===1;)g++,y++;p=(0,lt.unsqueeze)(p,v.length,g,m)}if(!(0,Mo.deepStrictEqual)(v,m))throw new _u.DimensionError(v,m,">");var b=d.max().map(function(w){return w+1});s(l,b,f);var _=v.length,S=0;u(l._data,d,p,_,S)}return l}function u(l,d,p,f,v){var h=v===f-1,m=d.dimension(v);h?m.forEach(function(y,g){(0,lt.validateIndex)(y),l[y]=p[g[0]]}):m.forEach(function(y,g){(0,lt.validateIndex)(y),u(l[y],d,p[g[0]],f,v+1)})}t.prototype.resize=function(l,d,p){if(!(0,Hr.isArray)(l))throw new TypeError("Array expected");var f=p?this.clone():this;return a(f,l,d)};function a(l,d,p){if(d.length===0){for(var f=l._data;(0,Hr.isArray)(f);)f=f[0];return f}return l._size=d.slice(0),l._data=(0,lt.resize)(l._data,l._size,p),l}t.prototype.reshape=function(l,d){var p=d?this.clone():this;return p._data=(0,lt.reshape)(p._data,l),p._size=l.slice(0),p};function s(l,d,p){for(var f=l._size.slice(0),v=!1;f.length<d.length;)f.push(0),v=!0;for(var h=0,m=d.length;h<m;h++)d[h]>f[h]&&(f[h]=d[h],v=!0);v&&a(l,f,p)}t.prototype.clone=function(){var l=new t({data:(0,Mo.clone)(this._data),size:(0,Mo.clone)(this._size),datatype:this._datatype});return l},t.prototype.size=function(){return this._size.slice(0)},t.prototype.map=function(l){var d=this,p=function h(m,y){return(0,Hr.isArray)(m)?m.map(function(g,b){return h(g,y.concat(b))}):l(m,y,d)},f=p(this._data,[]),v=this._datatype!==void 0?(0,lt.getArrayDataType)(f,Hr.typeOf):void 0;return new t(f,v)},t.prototype.forEach=function(l){var d=this,p=function f(v,h){(0,Hr.isArray)(v)?v.forEach(function(m,y){f(m,h.concat(y))}):l(v,h,d)};p(this._data,[])},t.prototype.toArray=function(){return(0,Mo.clone)(this._data)},t.prototype.valueOf=function(){return this._data},t.prototype.format=function(l){return(0,Gj.format)(this._data,l)},t.prototype.toString=function(){return(0,Gj.format)(this._data)},t.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},t.prototype.diagonal=function(l){if(l){if((0,Hr.isBigNumber)(l)&&(l=l.toNumber()),!(0,Hr.isNumber)(l)||!(0,bu.isInteger)(l))throw new TypeError("The parameter k must be an integer number")}else l=0;for(var d=l>0?l:0,p=l<0?-l:0,f=this._size[0],v=this._size[1],h=Math.min(f-p,v-d),m=[],y=0;y<h;y++)m[y]=this._data[y+p][y+d];return new t({data:m,size:[h],datatype:this._datatype})},t.diagonal=function(l,d,p,f){if(!(0,Hr.isArray)(l))throw new TypeError("Array expected, size parameter");if(l.length!==2)throw new Error("Only two dimensions matrix are supported");if(l=l.map(function(O){if((0,Hr.isBigNumber)(O)&&(O=O.toNumber()),!(0,Hr.isNumber)(O)||!(0,bu.isInteger)(O)||O<1)throw new Error("Size values must be positive integers");return O}),p){if((0,Hr.isBigNumber)(p)&&(p=p.toNumber()),!(0,Hr.isNumber)(p)||!(0,bu.isInteger)(p))throw new TypeError("The parameter k must be an integer number")}else p=0;var v=p>0?p:0,h=p<0?-p:0,m=l[0],y=l[1],g=Math.min(m-h,y-v),b;if((0,Hr.isArray)(d)){if(d.length!==g)throw new Error("Invalid value array length");b=function(x){return d[x]}}else if((0,Hr.isMatrix)(d)){var _=d.size();if(_.length!==1||_[0]!==g)throw new Error("Invalid matrix length");b=function(x){return d.get([x])}}else b=function(){return d};f||(f=(0,Hr.isBigNumber)(b(0))?b(0).mul(0):0);var S=[];if(l.length>0){S=(0,lt.resize)(S,l,f);for(var w=0;w<g;w++)S[w+h][w+v]=b(w)}return new t({data:S,size:[m,y]})},t.fromJSON=function(l){return new t(l)},t.prototype.swapRows=function(l,d){if(!(0,Hr.isNumber)(l)||!(0,bu.isInteger)(l)||!(0,Hr.isNumber)(d)||!(0,bu.isInteger)(d))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return(0,lt.validateIndex)(l,this._size[0]),(0,lt.validateIndex)(d,this._size[0]),t._swapRows(l,d,this._data),this},t._swapRows=function(l,d,p){var f=p[l];p[l]=p[d],p[d]=f};function o(l){for(var d=0,p=l.length;d<p;d++){var f=l[d];(0,Hr.isArray)(f)?l[d]=o(f):f&&f.isMatrix===!0&&(l[d]=o(f.valueOf()))}return l}return t},{isClass:!0});Jd.createDenseMatrixClass=mle});var $j=D(Vd=>{"use strict";Object.defineProperty(Vd,"__esModule",{value:!0});Vd.createClone=void 0;var yle=yr(),gle=oe(),Wj="clone",ble=["typed"],_le=(0,gle.factory)(Wj,ble,function(e){var r=e.typed;return r(Wj,{any:yle.clone})});Vd.createClone=_le});var Qe=D(Os=>{"use strict";Object.defineProperty(Os,"__esModule",{value:!0});Os.containsCollections=xle;Os.deepForEach=Qj;Os.deepMap=Yj;Os.reduce=Ole;Os.scatter=Nle;var bC=He(),wle=Li(),Sle=er();function xle(e){for(var r=0;r<e.length;r++)if((0,bC.isCollection)(e[r]))return!0;return!1}function Qj(e,r){(0,bC.isMatrix)(e)&&(e=e.valueOf());for(var t=0,n=e.length;t<n;t++){var i=e[t];Array.isArray(i)?Qj(i,r):r(i)}}function Yj(e,r,t){return e&&typeof e.map=="function"?e.map(function(n){return Yj(n,r,t)}):r(e)}function Ole(e,r,t){var n=Array.isArray(e)?(0,Sle.arraySize)(e):e.size();if(r<0||r>=n.length)throw new wle.IndexError(r,n.length);return(0,bC.isMatrix)(e)?e.create(Gd(e.valueOf(),r,t)):Gd(e,r,t)}function Gd(e,r,t){var n,i,c,u;if(r<=0)if(Array.isArray(e[0])){for(u=Dle(e),i=[],n=0;n<u.length;n++)i[n]=Gd(u[n],r-1,t);return i}else{for(c=e[0],n=1;n<e.length;n++)c=t(c,e[n]);return c}else{for(i=[],n=0;n<e.length;n++)i[n]=Gd(e[n],r-1,t);return i}}function Dle(e){var r=e.length,t=e[0].length,n,i,c=[];for(i=0;i<t;i++){var u=[];for(n=0;n<r;n++)u.push(e[n][i]);c.push(u)}return c}function Nle(e,r,t,n,i,c,u,a,s,o,l){var d=e._values,p=e._index,f=e._ptr,v,h,m,y;if(n)for(h=f[r],m=f[r+1],v=h;v<m;v++)y=p[v],t[y]!==c?(t[y]=c,u.push(y),o?(n[y]=s?a(d[v],l):a(l,d[v]),i[y]=c):n[y]=d[v]):(n[y]=s?a(d[v],n[y]):a(n[y],d[v]),i[y]=c);else for(h=f[r],m=f[r+1],v=h;v<m;v++)y=p[v],t[y]!==c?(t[y]=c,u.push(y)):i[y]=c}});var Xj=D(Hd=>{"use strict";Object.defineProperty(Hd,"__esModule",{value:!0});Hd.createIsInteger=void 0;var Cle=Qe(),Ale=gr(),Mle=oe(),Zj="isInteger",Ple=["typed"],Ele=(0,Mle.factory)(Zj,Ple,function(e){var r=e.typed,t=r(Zj,{number:Ale.isInteger,BigNumber:function(i){return i.isInt()},Fraction:function(i){return i.d===1&&isFinite(i.n)},"Array | Matrix":function(i){return(0,Cle.deepMap)(i,t)}});return t});Hd.createIsInteger=Ele});var AT=D(Jr=>{"use strict";Object.defineProperty(Jr,"__esModule",{value:!0});Jr.absNumber=Kj;Jr.addNumber=eT;Jr.subtractNumber=rT;Jr.multiplyNumber=tT;Jr.divideNumber=nT;Jr.unaryMinusNumber=iT;Jr.unaryPlusNumber=aT;Jr.cbrtNumber=sT;Jr.ceilNumber=oT;Jr.cubeNumber=cT;Jr.expNumber=uT;Jr.expm1Number=lT;Jr.fixNumber=dT;Jr.floorNumber=pT;Jr.gcdNumber=fT;Jr.lcmNumber=hT;Jr.logNumber=vT;Jr.log10Number=mT;Jr.log2Number=yT;Jr.log1pNumber=gT;Jr.modNumber=bT;Jr.nthRootNumber=_T;Jr.signNumber=wT;Jr.sqrtNumber=ST;Jr.squareNumber=xT;Jr.xgcdNumber=OT;Jr.powNumber=DT;Jr.roundNumber=NT;Jr.normNumber=CT;var qn=gr(),Ct="number",Yn="number, number";function Kj(e){return Math.abs(e)}Kj.signature=Ct;function eT(e,r){return e+r}eT.signature=Yn;function rT(e,r){return e-r}rT.signature=Yn;function tT(e,r){return e*r}tT.signature=Yn;function nT(e,r){return e/r}nT.signature=Yn;function iT(e){return-e}iT.signature=Ct;function aT(e){return e}aT.signature=Ct;function sT(e){return(0,qn.cbrt)(e)}sT.signature=Ct;function oT(e){return Math.ceil(e)}oT.signature=Ct;function cT(e){return e*e*e}cT.signature=Ct;function uT(e){return Math.exp(e)}uT.signature=Ct;function lT(e){return(0,qn.expm1)(e)}lT.signature=Ct;function dT(e){return e>0?Math.floor(e):Math.ceil(e)}dT.signature=Ct;function pT(e){return Math.floor(e)}pT.signature=Ct;function fT(e,r){if(!(0,qn.isInteger)(e)||!(0,qn.isInteger)(r))throw new Error("Parameters in function gcd must be integer numbers");for(var t;r!==0;)t=e%r,e=r,r=t;return e<0?-e:e}fT.signature=Yn;function hT(e,r){if(!(0,qn.isInteger)(e)||!(0,qn.isInteger)(r))throw new Error("Parameters in function lcm must be integer numbers");if(e===0||r===0)return 0;for(var t,n=e*r;r!==0;)t=r,r=e%t,e=t;return Math.abs(n/e)}hT.signature=Yn;function vT(e){return Math.log(e)}vT.signature=Ct;function mT(e){return(0,qn.log10)(e)}mT.signature=Ct;function yT(e){return(0,qn.log2)(e)}yT.signature=Ct;function gT(e){return(0,qn.log1p)(e)}gT.signature=Ct;function bT(e,r){if(r>0)return e-r*Math.floor(e/r);if(r===0)return e;throw new Error("Cannot calculate mod for a negative divisor")}bT.signature=Yn;function _T(e,r){var t=r<0;if(t&&(r=-r),r===0)throw new Error("Root must be non-zero");if(e<0&&Math.abs(r)%2!==1)throw new Error("Root must be odd when a is negative.");if(e===0)return t?1/0:0;if(!isFinite(e))return t?0:e;var n=Math.pow(Math.abs(e),1/r);return n=e<0?-n:n,t?1/n:n}_T.signature=Yn;function wT(e){return(0,qn.sign)(e)}wT.signature=Ct;function ST(e){return Math.sqrt(e)}ST.signature=Ct;function xT(e){return e*e}xT.signature=Ct;function OT(e,r){var t,n,i,c=0,u=1,a=1,s=0;if(!(0,qn.isInteger)(e)||!(0,qn.isInteger)(r))throw new Error("Parameters in function xgcd must be integer numbers");for(;r;)n=Math.floor(e/r),i=e-n*r,t=c,c=u-n*c,u=t,t=a,a=s-n*a,s=t,e=r,r=i;var o;return e<0?o=[-e,-u,-s]:o=[e,e?u:0,s],o}OT.signature=Yn;function DT(e,r){return e*e<1&&r===1/0||e*e>1&&r===-1/0?0:Math.pow(e,r)}DT.signature=Yn;function NT(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return parseFloat((0,qn.toFixed)(e,r))}NT.signature=Yn;function CT(e){return Math.abs(e)}CT.signature=Ct});var jT=D(zi=>{"use strict";Object.defineProperty(zi,"__esModule",{value:!0});zi.bitAndNumber=MT;zi.bitNotNumber=PT;zi.bitOrNumber=ET;zi.bitXorNumber=qT;zi.leftShiftNumber=IT;zi.rightArithShiftNumber=BT;zi.rightLogShiftNumber=kT;var In=gr(),qle="number",Po="number, number";function MT(e,r){if(!(0,In.isInteger)(e)||!(0,In.isInteger)(r))throw new Error("Integers expected in function bitAnd");return e&r}MT.signature=Po;function PT(e){if(!(0,In.isInteger)(e))throw new Error("Integer expected in function bitNot");return~e}PT.signature=qle;function ET(e,r){if(!(0,In.isInteger)(e)||!(0,In.isInteger)(r))throw new Error("Integers expected in function bitOr");return e|r}ET.signature=Po;function qT(e,r){if(!(0,In.isInteger)(e)||!(0,In.isInteger)(r))throw new Error("Integers expected in function bitXor");return e^r}qT.signature=Po;function IT(e,r){if(!(0,In.isInteger)(e)||!(0,In.isInteger)(r))throw new Error("Integers expected in function leftShift");return e<<r}IT.signature=Po;function BT(e,r){if(!(0,In.isInteger)(e)||!(0,In.isInteger)(r))throw new Error("Integers expected in function rightArithShift");return e>>r}BT.signature=Po;function kT(e,r){if(!(0,In.isInteger)(e)||!(0,In.isInteger)(r))throw new Error("Integers expected in function rightLogShift");return e>>>r}kT.signature=Po});var wu=D(wC=>{"use strict";Object.defineProperty(wC,"__esModule",{value:!0});wC.product=_C;function _C(e,r){if(r<e)return 1;if(r===e)return r;var t=r+e>>1;return _C(e,t)*_C(t+1,r)}});var xC=D(SC=>{"use strict";Object.defineProperty(SC,"__esModule",{value:!0});SC.combinationsNumber=RT;var TT=gr(),Wd=wu();function RT(e,r){if(!(0,TT.isInteger)(e)||e<0)throw new TypeError("Positive integer value expected in function combinations");if(!(0,TT.isInteger)(r)||r<0)throw new TypeError("Positive integer value expected in function combinations");if(r>e)throw new TypeError("k must be less than or equal to n");var t=e-r,n;return r<t?(n=(0,Wd.product)(t+1,e),n/(0,Wd.product)(1,r)):(n=(0,Wd.product)(r+1,e),n/(0,Wd.product)(1,t))}RT.signature="number, number"});var FT=D(bi=>{"use strict";Object.defineProperty(bi,"__esModule",{value:!0});bi.phi=bi.e=bi.tau=bi.pi=void 0;var Ile=Math.PI;bi.pi=Ile;var Ble=2*Math.PI;bi.tau=Ble;var kle=Math.E;bi.e=kle;var jle=1.618033988749895;bi.phi=jle});var VT=D(Eo=>{"use strict";Object.defineProperty(Eo,"__esModule",{value:!0});Eo.notNumber=LT;Eo.orNumber=UT;Eo.xorNumber=zT;Eo.andNumber=JT;var Tle="number",OC="number, number";function LT(e){return!e}LT.signature=Tle;function UT(e,r){return!!(e||r)}UT.signature=OC;function zT(e,r){return!!e!=!!r}zT.signature=OC;function JT(e,r){return!!(e&&r)}JT.signature=OC});var GT=D(()=>{"use strict"});var WT=D(Ds=>{"use strict";Object.defineProperty(Ds,"__esModule",{value:!0});Ds.gammaNumber=DC;Ds.gammaP=Ds.gammaG=void 0;var Rle=gr(),Fle=wu();function DC(e){var r;if((0,Rle.isInteger)(e))return e<=0?isFinite(e)?1/0:NaN:e>171?1/0:(0,Fle.product)(1,e-1);if(e<.5)return Math.PI/(Math.sin(Math.PI*e)*DC(1-e));if(e>=171.35)return 1/0;if(e>85){var t=e*e,n=t*e,i=n*e,c=i*e;return Math.sqrt(2*Math.PI/e)*Math.pow(e/Math.E,e)*(1+1/(12*e)+1/(288*t)-139/(51840*n)-571/(2488320*i)+163879/(209018880*c)+5246819/(75246796800*c*e))}--e,r=$d[0];for(var u=1;u<$d.length;++u)r+=$d[u]/(e+u);var a=e+HT+.5;return Math.sqrt(2*Math.PI)*Math.pow(a,e+.5)*Math.exp(-a)*r}DC.signature="number";var HT=4.7421875;Ds.gammaG=HT;var $d=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22];Ds.gammaP=$d});var b3=D(Kr=>{"use strict";Object.defineProperty(Kr,"__esModule",{value:!0});Kr.acosNumber=$T;Kr.acoshNumber=QT;Kr.acotNumber=YT;Kr.acothNumber=ZT;Kr.acscNumber=XT;Kr.acschNumber=KT;Kr.asecNumber=e3;Kr.asechNumber=r3;Kr.asinNumber=t3;Kr.asinhNumber=n3;Kr.atanNumber=i3;Kr.atan2Number=a3;Kr.atanhNumber=s3;Kr.cosNumber=o3;Kr.coshNumber=c3;Kr.cotNumber=u3;Kr.cothNumber=l3;Kr.cscNumber=d3;Kr.cschNumber=p3;Kr.secNumber=f3;Kr.sechNumber=h3;Kr.sinNumber=v3;Kr.sinhNumber=m3;Kr.tanNumber=y3;Kr.tanhNumber=g3;var Ns=gr(),at="number",Lle="number, number";function $T(e){return Math.acos(e)}$T.signature=at;function QT(e){return(0,Ns.acosh)(e)}QT.signature=at;function YT(e){return Math.atan(1/e)}YT.signature=at;function ZT(e){return isFinite(e)?(Math.log((e+1)/e)+Math.log(e/(e-1)))/2:0}ZT.signature=at;function XT(e){return Math.asin(1/e)}XT.signature=at;function KT(e){var r=1/e;return Math.log(r+Math.sqrt(r*r+1))}KT.signature=at;function e3(e){return Math.acos(1/e)}e3.signature=at;function r3(e){var r=1/e,t=Math.sqrt(r*r-1);return Math.log(t+r)}r3.signature=at;function t3(e){return Math.asin(e)}t3.signature=at;function n3(e){return(0,Ns.asinh)(e)}n3.signature=at;function i3(e){return Math.atan(e)}i3.signature=at;function a3(e,r){return Math.atan2(e,r)}a3.signature=Lle;function s3(e){return(0,Ns.atanh)(e)}s3.signature=at;function o3(e){return Math.cos(e)}o3.signature=at;function c3(e){return(0,Ns.cosh)(e)}c3.signature=at;function u3(e){return 1/Math.tan(e)}u3.signature=at;function l3(e){var r=Math.exp(2*e);return(r+1)/(r-1)}l3.signature=at;function d3(e){return 1/Math.sin(e)}d3.signature=at;function p3(e){return e===0?Number.POSITIVE_INFINITY:Math.abs(2/(Math.exp(e)-Math.exp(-e)))*(0,Ns.sign)(e)}p3.signature=at;function f3(e){return 1/Math.cos(e)}f3.signature=at;function h3(e){return 2/(Math.exp(e)+Math.exp(-e))}h3.signature=at;function v3(e){return Math.sin(e)}v3.signature=at;function m3(e){return(0,Ns.sinh)(e)}m3.signature=at;function y3(e){return Math.tan(e)}y3.signature=at;function g3(e){return(0,Ns.tanh)(e)}g3.signature=at});var D3=D(Cs=>{"use strict";Object.defineProperty(Cs,"__esModule",{value:!0});Cs.isIntegerNumber=_3;Cs.isNegativeNumber=w3;Cs.isPositiveNumber=S3;Cs.isZeroNumber=x3;Cs.isNaNNumber=O3;var Ule=gr(),Su="number";function _3(e){return(0,Ule.isInteger)(e)}_3.signature=Su;function w3(e){return e<0}w3.signature=Su;function S3(e){return e>0}S3.signature=Su;function x3(e){return e===0}x3.signature=Su;function O3(e){return Number.isNaN(e)}O3.signature=Su});var rr=D(Zn=>{"use strict";Object.defineProperty(Zn,"__esModule",{value:!0});var N3=AT();Object.keys(N3).forEach(function(e){e==="default"||e==="__esModule"||Object.defineProperty(Zn,e,{enumerable:!0,get:function(){return N3[e]}})});var C3=jT();Object.keys(C3).forEach(function(e){e==="default"||e==="__esModule"||Object.defineProperty(Zn,e,{enumerable:!0,get:function(){return C3[e]}})});var A3=xC();Object.keys(A3).forEach(function(e){e==="default"||e==="__esModule"||Object.defineProperty(Zn,e,{enumerable:!0,get:function(){return A3[e]}})});var M3=FT();Object.keys(M3).forEach(function(e){e==="default"||e==="__esModule"||Object.defineProperty(Zn,e,{enumerable:!0,get:function(){return M3[e]}})});var P3=VT();Object.keys(P3).forEach(function(e){e==="default"||e==="__esModule"||Object.defineProperty(Zn,e,{enumerable:!0,get:function(){return P3[e]}})});var E3=GT();Object.keys(E3).forEach(function(e){e==="default"||e==="__esModule"||Object.defineProperty(Zn,e,{enumerable:!0,get:function(){return E3[e]}})});var q3=WT();Object.keys(q3).forEach(function(e){e==="default"||e==="__esModule"||Object.defineProperty(Zn,e,{enumerable:!0,get:function(){return q3[e]}})});var I3=b3();Object.keys(I3).forEach(function(e){e==="default"||e==="__esModule"||Object.defineProperty(Zn,e,{enumerable:!0,get:function(){return I3[e]}})});var B3=D3();Object.keys(B3).forEach(function(e){e==="default"||e==="__esModule"||Object.defineProperty(Zn,e,{enumerable:!0,get:function(){return B3[e]}})})});var j3=D(Qd=>{"use strict";Object.defineProperty(Qd,"__esModule",{value:!0});Qd.createIsNegative=void 0;var zle=Qe(),Jle=oe(),Vle=rr(),k3="isNegative",Gle=["typed"],Hle=(0,Jle.factory)(k3,Gle,function(e){var r=e.typed,t=r(k3,{number:Vle.isNegativeNumber,BigNumber:function(i){return i.isNeg()&&!i.isZero()&&!i.isNaN()},Fraction:function(i){return i.s<0},Unit:function(i){return t(i.value)},"Array | Matrix":function(i){return(0,zle.deepMap)(i,t)}});return t});Qd.createIsNegative=Hle});var R3=D(Yd=>{"use strict";Object.defineProperty(Yd,"__esModule",{value:!0});Yd.createIsNumeric=void 0;var Wle=Qe(),$le=oe(),T3="isNumeric",Qle=["typed"],Yle=(0,$le.factory)(T3,Qle,function(e){var r=e.typed,t=r(T3,{"number | BigNumber | Fraction | boolean":function(){return!0},"Complex | Unit | string | null | undefined | Node":function(){return!1},"Array | Matrix":function(i){return(0,Wle.deepMap)(i,t)}});return t});Yd.createIsNumeric=Yle});var L3=D(Zd=>{"use strict";Object.defineProperty(Zd,"__esModule",{value:!0});Zd.createHasNumericValue=void 0;var Zle=oe(),F3="hasNumericValue",Xle=["typed","isNumeric"],Kle=(0,Zle.factory)(F3,Xle,function(e){var r=e.typed,t=e.isNumeric;return r(F3,{string:function(i){return i.trim().length>0&&!isNaN(Number(i))},any:function(i){return t(i)}})});Zd.createHasNumericValue=Kle});var z3=D(Xd=>{"use strict";Object.defineProperty(Xd,"__esModule",{value:!0});Xd.createIsPositive=void 0;var ede=Qe(),rde=oe(),tde=rr(),U3="isPositive",nde=["typed"],ide=(0,rde.factory)(U3,nde,function(e){var r=e.typed,t=r(U3,{number:tde.isPositiveNumber,BigNumber:function(i){return!i.isNeg()&&!i.isZero()&&!i.isNaN()},Fraction:function(i){return i.s>0&&i.n>0},Unit:function(i){return t(i.value)},"Array | Matrix":function(i){return(0,ede.deepMap)(i,t)}});return t});Xd.createIsPositive=ide});var V3=D(Kd=>{"use strict";Object.defineProperty(Kd,"__esModule",{value:!0});Kd.createIsZero=void 0;var ade=Qe(),sde=oe(),ode=rr(),J3="isZero",cde=["typed"],ude=(0,sde.factory)(J3,cde,function(e){var r=e.typed,t=r(J3,{number:ode.isZeroNumber,BigNumber:function(i){return i.isZero()},Complex:function(i){return i.re===0&&i.im===0},Fraction:function(i){return i.d===1&&i.n===0},Unit:function(i){return t(i.value)},"Array | Matrix":function(i){return(0,ade.deepMap)(i,t)}});return t});Kd.createIsZero=ude});var H3=D(ep=>{"use strict";Object.defineProperty(ep,"__esModule",{value:!0});ep.createIsNaN=void 0;var lde=Qe(),dde=oe(),pde=rr(),G3="isNaN",fde=["typed"],hde=(0,dde.factory)(G3,fde,function(e){var r=e.typed;return r(G3,{number:pde.isNaNNumber,BigNumber:function(n){return n.isNaN()},Fraction:function(n){return!1},Complex:function(n){return n.isNaN()},Unit:function(n){return Number.isNaN(n.value)},"Array | Matrix":function(n){return(0,lde.deepMap)(n,Number.isNaN)}})});ep.createIsNaN=hde});var Ji=D(rp=>{"use strict";Object.defineProperty(rp,"__esModule",{value:!0});rp.warnOnce=void 0;var vde=function(){var e={};return function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var c=n.join(", ");if(!e[c]){var u;e[c]=!0,(u=console).warn.apply(u,["Warning:"].concat(n))}}}();rp.warnOnce=vde});var CC=D(qo=>{"use strict";Object.defineProperty(qo,"__esModule",{value:!0});qo.createDeprecatedTypeof=qo.createTypeOf=void 0;var $3=oe(),NC=He(),mde=Ji(),W3="typeOf",yde=["typed"],gde=(0,$3.factory)(W3,yde,function(e){var r=e.typed;return r(W3,{any:NC.typeOf})});qo.createTypeOf=gde;var bde=(0,$3.factory)("typeof",[],function(){return function(){(0,mde.warnOnce)('Function "typeof" has been renamed to "typeOf" in v6.0.0, please use the new function instead.');for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];return NC.typeOf.apply(NC.typeOf,r)}});qo.createDeprecatedTypeof=bde});var Vi=D(AC=>{"use strict";Object.defineProperty(AC,"__esModule",{value:!0});AC.nearlyEqual=_de;function _de(e,r,t){if(t==null)return e.eq(r);if(e.eq(r))return!0;if(e.isNaN()||r.isNaN())return!1;if(e.isFinite()&&r.isFinite()){var n=e.minus(r).abs();if(n.isZero())return!0;var i=e.constructor.max(e.abs(),r.abs());return n.lte(i.times(t))}return!1}});var Y3=D(MC=>{"use strict";Object.defineProperty(MC,"__esModule",{value:!0});MC.complexEquals=wde;var Q3=gr();function wde(e,r,t){return(0,Q3.nearlyEqual)(e.re,r.re,t)&&(0,Q3.nearlyEqual)(e.im,r.im,t)}});var K3=D(Io=>{"use strict";Object.defineProperty(Io,"__esModule",{value:!0});Io.createEqualScalarNumber=Io.createEqualScalar=void 0;var Sde=Vi(),Z3=gr(),X3=oe(),xde=Y3(),tp="equalScalar",Ode=["typed","config"],Dde=(0,X3.factory)(tp,Ode,function(e){var r=e.typed,t=e.config,n=r(tp,{"boolean, boolean":function(c,u){return c===u},"number, number":function(c,u){return(0,Z3.nearlyEqual)(c,u,t.epsilon)},"BigNumber, BigNumber":function(c,u){return c.eq(u)||(0,Sde.nearlyEqual)(c,u,t.epsilon)},"Fraction, Fraction":function(c,u){return c.equals(u)},"Complex, Complex":function(c,u){return(0,xde.complexEquals)(c,u,t.epsilon)},"Unit, Unit":function(c,u){if(!c.equalBase(u))throw new Error("Cannot compare units with different base");return n(c.value,u.value)}});return n});Io.createEqualScalar=Dde;var Nde=(0,X3.factory)(tp,["typed","config"],function(e){var r=e.typed,t=e.config;return r(tp,{"number, number":function(i,c){return(0,Z3.nearlyEqual)(i,c,t.epsilon)}})});Io.createEqualScalarNumber=Nde});var e4=D(np=>{"use strict";Object.defineProperty(np,"__esModule",{value:!0});np.createSparseMatrixClass=void 0;var jr=He(),As=gr(),Gi=Xr(),_i=yr(),Xn=er(),Cde=oe(),xu=vt(),Ade="SparseMatrix",Mde=["typed","equalScalar","Matrix"],Pde=(0,Cde.factory)(Ade,Mde,function(e){var r=e.typed,t=e.equalScalar,n=e.Matrix;function i(h,m){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(m&&!(0,jr.isString)(m))throw new Error("Invalid datatype: "+m);if((0,jr.isMatrix)(h))c(this,h,m);else if(h&&(0,jr.isArray)(h.index)&&(0,jr.isArray)(h.ptr)&&(0,jr.isArray)(h.size))this._values=h.values,this._index=h.index,this._ptr=h.ptr,this._size=h.size,this._datatype=m||h.datatype;else if((0,jr.isArray)(h))u(this,h,m);else{if(h)throw new TypeError("Unsupported type of data ("+(0,jr.typeOf)(h)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=m}}function c(h,m,y){m.type==="SparseMatrix"?(h._values=m._values?(0,_i.clone)(m._values):void 0,h._index=(0,_i.clone)(m._index),h._ptr=(0,_i.clone)(m._ptr),h._size=(0,_i.clone)(m._size),h._datatype=y||m._datatype):u(h,m.valueOf(),y||m._datatype)}function u(h,m,y){h._values=[],h._index=[],h._ptr=[],h._datatype=y;var g=m.length,b=0,_=t,S=0;if((0,jr.isString)(y)&&(_=r.find(t,[y,y])||t,S=r.convert(0,y)),g>0){var w=0;do{h._ptr.push(h._index.length);for(var O=0;O<g;O++){var x=m[O];if((0,jr.isArray)(x)){if(w===0&&b<x.length&&(b=x.length),w<x.length){var N=x[w];_(N,S)||(h._values.push(N),h._index.push(O))}}else w===0&&b<1&&(b=1),_(x,S)||(h._values.push(x),h._index.push(O))}w++}while(w<b)}h._ptr.push(h._index.length),h._size=[g,b]}i.prototype=new n,i.prototype.createSparseMatrix=function(h,m){return new i(h,m)},i.prototype.type="SparseMatrix",i.prototype.isSparseMatrix=!0,i.prototype.getDataType=function(){return(0,Xn.getArrayDataType)(this._values,jr.typeOf)},i.prototype.storage=function(){return"sparse"},i.prototype.datatype=function(){return this._datatype},i.prototype.create=function(h,m){return new i(h,m)},i.prototype.density=function(){var h=this._size[0],m=this._size[1];return h!==0&&m!==0?this._index.length/(h*m):0},i.prototype.subset=function(h,m,y){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return a(this,h);case 2:case 3:return s(this,h,m,y);default:throw new SyntaxError("Wrong number of arguments")}};function a(h,m){if(!(0,jr.isIndex)(m))throw new TypeError("Invalid index");var y=m.isScalar();if(y)return h.get(m.min());var g=m.size();if(g.length!==h._size.length)throw new xu.DimensionError(g.length,h._size.length);var b,_,S,w,O=m.min(),x=m.max();for(b=0,_=h._size.length;b<_;b++)(0,Xn.validateIndex)(O[b],h._size[b]),(0,Xn.validateIndex)(x[b],h._size[b]);var N=h._values,M=h._index,I=h._ptr,q=m.dimension(0),z=m.dimension(1),R=[],j=[];q.forEach(function(E,Z){j[E]=Z[0],R[E]=!0});var L=N?[]:void 0,P=[],V=[];return z.forEach(function(E){for(V.push(P.length),S=I[E],w=I[E+1];S<w;S++)b=M[S],R[b]===!0&&(P.push(j[b]),L&&L.push(N[S]))}),V.push(P.length),new i({values:L,index:P,ptr:V,size:g,datatype:h._datatype})}function s(h,m,y,g){if(!m||m.isIndex!==!0)throw new TypeError("Invalid index");var b=m.size(),_=m.isScalar(),S;if((0,jr.isMatrix)(y)?(S=y.size(),y=y.toArray()):S=(0,Xn.arraySize)(y),_){if(S.length!==0)throw new TypeError("Scalar expected");h.set(m.min(),y,g)}else{if(b.length!==1&&b.length!==2)throw new xu.DimensionError(b.length,h._size.length,"<");if(S.length<b.length){for(var w=0,O=0;b[w]===1&&S[w]===1;)w++;for(;b[w]===1;)O++,w++;y=(0,Xn.unsqueeze)(y,b.length,O,S)}if(!(0,_i.deepStrictEqual)(b,S))throw new xu.DimensionError(b,S,">");for(var x=m.min()[0],N=m.min()[1],M=S[0],I=S[1],q=0;q<M;q++)for(var z=0;z<I;z++){var R=y[q][z];h.set([q+x,z+N],R,g)}}return h}i.prototype.get=function(h){if(!(0,jr.isArray)(h))throw new TypeError("Array expected");if(h.length!==this._size.length)throw new xu.DimensionError(h.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var m=h[0],y=h[1];(0,Xn.validateIndex)(m,this._size[0]),(0,Xn.validateIndex)(y,this._size[1]);var g=o(m,this._ptr[y],this._ptr[y+1],this._index);return g<this._ptr[y+1]&&this._index[g]===m?this._values[g]:0},i.prototype.set=function(h,m,y){if(!(0,jr.isArray)(h))throw new TypeError("Array expected");if(h.length!==this._size.length)throw new xu.DimensionError(h.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var g=h[0],b=h[1],_=this._size[0],S=this._size[1],w=t,O=0;(0,jr.isString)(this._datatype)&&(w=r.find(t,[this._datatype,this._datatype])||t,O=r.convert(0,this._datatype)),(g>_-1||b>S-1)&&(p(this,Math.max(g+1,_),Math.max(b+1,S),y),_=this._size[0],S=this._size[1]),(0,Xn.validateIndex)(g,_),(0,Xn.validateIndex)(b,S);var x=o(g,this._ptr[b],this._ptr[b+1],this._index);return x<this._ptr[b+1]&&this._index[x]===g?w(m,O)?l(x,b,this._values,this._index,this._ptr):this._values[x]=m:d(x,g,b,m,this._values,this._index,this._ptr),this};function o(h,m,y,g){if(y-m===0)return y;for(var b=m;b<y;b++)if(g[b]===h)return b;return m}function l(h,m,y,g,b){y.splice(h,1),g.splice(h,1);for(var _=m+1;_<b.length;_++)b[_]--}function d(h,m,y,g,b,_,S){b.splice(h,0,g),_.splice(h,0,m);for(var w=y+1;w<S.length;w++)S[w]++}i.prototype.resize=function(h,m,y){if(!(0,jr.isArray)(h))throw new TypeError("Array expected");if(h.length!==2)throw new Error("Only two dimensions matrix are supported");h.forEach(function(b){if(!(0,jr.isNumber)(b)||!(0,As.isInteger)(b)||b<0)throw new TypeError("Invalid size, must contain positive integers (size: "+(0,Gi.format)(h)+")")});var g=y?this.clone():this;return p(g,h[0],h[1],m)};function p(h,m,y,g){var b=g||0,_=t,S=0;(0,jr.isString)(h._datatype)&&(_=r.find(t,[h._datatype,h._datatype])||t,S=r.convert(0,h._datatype),b=r.convert(b,h._datatype));var w=!_(b,S),O=h._size[0],x=h._size[1],N,M,I;if(y>x){for(M=x;M<y;M++)if(h._ptr[M]=h._values.length,w)for(N=0;N<O;N++)h._values.push(b),h._index.push(N);h._ptr[y]=h._values.length}else y<x&&(h._ptr.splice(y+1,x-y),h._values.splice(h._ptr[y],h._values.length),h._index.splice(h._ptr[y],h._index.length));if(x=y,m>O){if(w){var q=0;for(M=0;M<x;M++){h._ptr[M]=h._ptr[M]+q,I=h._ptr[M+1]+q;var z=0;for(N=O;N<m;N++,z++)h._values.splice(I+z,0,b),h._index.splice(I+z,0,N),q++}h._ptr[x]=h._values.length}}else if(m<O){var R=0;for(M=0;M<x;M++){h._ptr[M]=h._ptr[M]-R;var j=h._ptr[M],L=h._ptr[M+1]-R;for(I=j;I<L;I++)N=h._index[I],N>m-1&&(h._values.splice(I,1),h._index.splice(I,1),R++)}h._ptr[M]=h._values.length}return h._size[0]=m,h._size[1]=y,h}i.prototype.reshape=function(h,m){if(!(0,jr.isArray)(h))throw new TypeError("Array expected");if(h.length!==2)throw new Error("Sparse matrices can only be reshaped in two dimensions");if(h.forEach(function(P){if(!(0,jr.isNumber)(P)||!(0,As.isInteger)(P)||P<0)throw new TypeError("Invalid size, must contain positive integers (size: "+(0,Gi.format)(h)+")")}),this._size[0]*this._size[1]!==h[0]*h[1])throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var y=m?this.clone():this;if(this._size[0]===h[0]&&this._size[1]===h[1])return y;for(var g=[],b=0;b<y._ptr.length;b++)for(var _=0;_<y._ptr[b+1]-y._ptr[b];_++)g.push(b);for(var S=y._values.slice(),w=y._index.slice(),O=0;O<y._index.length;O++){var x=w[O],N=g[O],M=x*y._size[1]+N;g[O]=M%h[1],w[O]=Math.floor(M/h[1])}y._values.length=0,y._index.length=0,y._ptr.length=h[1]+1,y._size=h.slice();for(var I=0;I<y._ptr.length;I++)y._ptr[I]=0;for(var q=0;q<S.length;q++){var z=w[q],R=g[q],j=S[q],L=o(z,y._ptr[R],y._ptr[R+1],y._index);d(L,z,R,j,y._values,y._index,y._ptr)}return y},i.prototype.clone=function(){var h=new i({values:this._values?(0,_i.clone)(this._values):void 0,index:(0,_i.clone)(this._index),ptr:(0,_i.clone)(this._ptr),size:(0,_i.clone)(this._size),datatype:this._datatype});return h},i.prototype.size=function(){return this._size.slice(0)},i.prototype.map=function(h,m){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var y=this,g=this._size[0],b=this._size[1],_=function(w,O,x){return h(w,[O,x],y)};return f(this,0,g-1,0,b-1,_,m)};function f(h,m,y,g,b,_,S){var w=[],O=[],x=[],N=t,M=0;(0,jr.isString)(h._datatype)&&(N=r.find(t,[h._datatype,h._datatype])||t,M=r.convert(0,h._datatype));for(var I=function(X,le,Oe){X=_(X,le,Oe),N(X,M)||(w.push(X),O.push(le))},q=g;q<=b;q++){x.push(w.length);var z=h._ptr[q],R=h._ptr[q+1];if(S)for(var j=z;j<R;j++){var L=h._index[j];L>=m&&L<=y&&I(h._values[j],L-m,q-g)}else{for(var P={},V=z;V<R;V++){var E=h._index[V];P[E]=h._values[V]}for(var Z=m;Z<=y;Z++){var ue=Z in P?P[Z]:0;I(ue,Z-m,q-g)}}}return x.push(w.length),new i({values:w,index:O,ptr:x,size:[y-m+1,b-g+1]})}i.prototype.forEach=function(h,m){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var y=this,g=this._size[0],b=this._size[1],_=0;_<b;_++){var S=this._ptr[_],w=this._ptr[_+1];if(m)for(var O=S;O<w;O++){var x=this._index[O];h(this._values[O],[x,_],y)}else{for(var N={},M=S;M<w;M++){var I=this._index[M];N[I]=this._values[M]}for(var q=0;q<g;q++){var z=q in N?N[q]:0;h(z,[q,_],y)}}}},i.prototype.toArray=function(){return v(this._values,this._index,this._ptr,this._size,!0)},i.prototype.valueOf=function(){return v(this._values,this._index,this._ptr,this._size,!1)};function v(h,m,y,g,b){var _=g[0],S=g[1],w=[],O,x;for(O=0;O<_;O++)for(w[O]=[],x=0;x<S;x++)w[O][x]=0;for(x=0;x<S;x++)for(var N=y[x],M=y[x+1],I=N;I<M;I++)O=m[I],w[O][x]=h?b?(0,_i.clone)(h[I]):h[I]:1;return w}return i.prototype.format=function(h){for(var m=this._size[0],y=this._size[1],g=this.density(),b="Sparse Matrix ["+(0,Gi.format)(m,h)+" x "+(0,Gi.format)(y,h)+"] density: "+(0,Gi.format)(g,h)+`
`,_=0;_<y;_++)for(var S=this._ptr[_],w=this._ptr[_+1],O=S;O<w;O++){var x=this._index[O];b+=`
    (`+(0,Gi.format)(x,h)+", "+(0,Gi.format)(_,h)+") ==> "+(this._values?(0,Gi.format)(this._values[O],h):"X")}return b},i.prototype.toString=function(){return(0,Gi.format)(this.toArray())},i.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},i.prototype.diagonal=function(h){if(h){if((0,jr.isBigNumber)(h)&&(h=h.toNumber()),!(0,jr.isNumber)(h)||!(0,As.isInteger)(h))throw new TypeError("The parameter k must be an integer number")}else h=0;var m=h>0?h:0,y=h<0?-h:0,g=this._size[0],b=this._size[1],_=Math.min(g-y,b-m),S=[],w=[],O=[];O[0]=0;for(var x=m;x<b&&S.length<_;x++)for(var N=this._ptr[x],M=this._ptr[x+1],I=N;I<M;I++){var q=this._index[I];if(q===x-m+y){S.push(this._values[I]),w[S.length-1]=q-y;break}}return O.push(S.length),new i({values:S,index:w,ptr:O,size:[_,1]})},i.fromJSON=function(h){return new i(h)},i.diagonal=function(h,m,y,g,b){if(!(0,jr.isArray)(h))throw new TypeError("Array expected, size parameter");if(h.length!==2)throw new Error("Only two dimensions matrix are supported");if(h=h.map(function(E){if((0,jr.isBigNumber)(E)&&(E=E.toNumber()),!(0,jr.isNumber)(E)||!(0,As.isInteger)(E)||E<1)throw new Error("Size values must be positive integers");return E}),y){if((0,jr.isBigNumber)(y)&&(y=y.toNumber()),!(0,jr.isNumber)(y)||!(0,As.isInteger)(y))throw new TypeError("The parameter k must be an integer number")}else y=0;var _=t,S=0;(0,jr.isString)(b)&&(_=r.find(t,[b,b])||t,S=r.convert(0,b));var w=y>0?y:0,O=y<0?-y:0,x=h[0],N=h[1],M=Math.min(x-O,N-w),I;if((0,jr.isArray)(m)){if(m.length!==M)throw new Error("Invalid value array length");I=function(Z){return m[Z]}}else if((0,jr.isMatrix)(m)){var q=m.size();if(q.length!==1||q[0]!==M)throw new Error("Invalid matrix length");I=function(Z){return m.get([Z])}}else I=function(){return m};for(var z=[],R=[],j=[],L=0;L<N;L++){j.push(z.length);var P=L-w;if(P>=0&&P<M){var V=I(P);_(V,S)||(R.push(P+O),z.push(V))}}return j.push(z.length),new i({values:z,index:R,ptr:j,size:[x,N]})},i.prototype.swapRows=function(h,m){if(!(0,jr.isNumber)(h)||!(0,As.isInteger)(h)||!(0,jr.isNumber)(m)||!(0,As.isInteger)(m))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return(0,Xn.validateIndex)(h,this._size[0]),(0,Xn.validateIndex)(m,this._size[0]),i._swapRows(h,m,this._size[1],this._values,this._index,this._ptr),this},i._forEachRow=function(h,m,y,g,b){for(var _=g[h],S=g[h+1],w=_;w<S;w++)b(y[w],m[w])},i._swapRows=function(h,m,y,g,b,_){for(var S=0;S<y;S++){var w=_[S],O=_[S+1],x=o(h,w,O,b),N=o(m,w,O,b);if(x<O&&N<O&&b[x]===h&&b[N]===m){if(g){var M=g[x];g[x]=g[N],g[N]=M}continue}if(x<O&&b[x]===h&&(N>=O||b[N]!==m)){var I=g?g[x]:void 0;b.splice(N,0,m),g&&g.splice(N,0,I),b.splice(N<=x?x+1:x,1),g&&g.splice(N<=x?x+1:x,1);continue}if(N<O&&b[N]===m&&(x>=O||b[x]!==h)){var q=g?g[N]:void 0;b.splice(x,0,h),g&&g.splice(x,0,q),b.splice(x<=N?N+1:N,1),g&&g.splice(x<=N?N+1:N,1)}}},i},{isClass:!0});np.createSparseMatrixClass=Pde});var r4=D(ip=>{"use strict";Object.defineProperty(ip,"__esModule",{value:!0});ip.createNumber=void 0;var Ede=oe(),qde=Qe(),Ide="number",Bde=["typed"],kde=(0,Ede.factory)(Ide,Bde,function(e){var r=e.typed,t=r("number",{"":function(){return 0},number:function(i){return i},string:function(i){if(i==="NaN")return NaN;var c=Number(i);if(isNaN(c))throw new SyntaxError('String "'+i+'" is no valid number');return c},BigNumber:function(i){return i.toNumber()},Fraction:function(i){return i.valueOf()},Unit:function(i){throw new Error("Second argument with valueless unit expected")},null:function(i){return 0},"Unit, string | Unit":function(i,c){return i.toNumber(c)},"Array | Matrix":function(i){return(0,qde.deepMap)(i,t)}});return t.fromJSON=function(n){return parseFloat(n.value)},t});ip.createNumber=kde});var n4=D(ap=>{"use strict";Object.defineProperty(ap,"__esModule",{value:!0});ap.createString=void 0;var jde=oe(),Tde=Qe(),Rde=gr(),t4="string",Fde=["typed"],Lde=(0,jde.factory)(t4,Fde,function(e){var r=e.typed,t=r(t4,{"":function(){return""},number:Rde.format,null:function(i){return"null"},boolean:function(i){return i+""},string:function(i){return i},"Array | Matrix":function(i){return(0,Tde.deepMap)(i,t)},any:function(i){return String(i)}});return t});ap.createString=Lde});var a4=D(sp=>{"use strict";Object.defineProperty(sp,"__esModule",{value:!0});sp.createBoolean=void 0;var Ude=oe(),zde=Qe(),i4="boolean",Jde=["typed"],Vde=(0,Ude.factory)(i4,Jde,function(e){var r=e.typed,t=r(i4,{"":function(){return!1},boolean:function(i){return i},number:function(i){return!!i},null:function(i){return!1},BigNumber:function(i){return!i.isZero()},string:function(i){var c=i.toLowerCase();if(c==="true")return!0;if(c==="false")return!1;var u=Number(i);if(i!==""&&!isNaN(u))return!!u;throw new Error('Cannot convert "'+i+'" to a boolean')},"Array | Matrix":function(i){return(0,zde.deepMap)(i,t)}});return t});sp.createBoolean=Vde});var s4=D(op=>{"use strict";Object.defineProperty(op,"__esModule",{value:!0});op.createBignumber=void 0;var Gde=oe(),Hde=Qe(),Wde="bignumber",$de=["typed","BigNumber"],Qde=(0,Gde.factory)(Wde,$de,function(e){var r=e.typed,t=e.BigNumber,n=r("bignumber",{"":function(){return new t(0)},number:function(c){return new t(c+"")},string:function(c){return new t(c)},BigNumber:function(c){return c},Fraction:function(c){return new t(c.n).div(c.d).times(c.s)},null:function(c){return new t(0)},"Array | Matrix":function(c){return(0,Hde.deepMap)(c,n)}});return n});op.createBignumber=Qde});var o4=D(cp=>{"use strict";Object.defineProperty(cp,"__esModule",{value:!0});cp.createComplex=void 0;var Yde=oe(),Zde=Qe(),Xde="complex",Kde=["typed","Complex"],epe=(0,Yde.factory)(Xde,Kde,function(e){var r=e.typed,t=e.Complex,n=r("complex",{"":function(){return t.ZERO},number:function(c){return new t(c,0)},"number, number":function(c,u){return new t(c,u)},"BigNumber, BigNumber":function(c,u){return new t(c.toNumber(),u.toNumber())},Fraction:function(c){return new t(c.valueOf(),0)},Complex:function(c){return c.clone()},string:function(c){return t(c)},null:function(c){return t(0)},Object:function(c){if("re"in c&&"im"in c)return new t(c.re,c.im);if("r"in c&&"phi"in c||"abs"in c&&"arg"in c)return new t(c);throw new Error("Expected object with properties (re and im) or (r and phi) or (abs and arg)")},"Array | Matrix":function(c){return(0,Zde.deepMap)(c,n)}});return n});cp.createComplex=epe});var c4=D(up=>{"use strict";Object.defineProperty(up,"__esModule",{value:!0});up.createFraction=void 0;var rpe=oe(),tpe=Qe(),npe="fraction",ipe=["typed","Fraction"],ape=(0,rpe.factory)(npe,ipe,function(e){var r=e.typed,t=e.Fraction,n=r("fraction",{number:function(c){if(!isFinite(c)||isNaN(c))throw new Error(c+" cannot be represented as a fraction");return new t(c)},string:function(c){return new t(c)},"number, number":function(c,u){return new t(c,u)},null:function(c){return new t(0)},BigNumber:function(c){return new t(c.toString())},Fraction:function(c){return c},Object:function(c){return new t(c)},"Array | Matrix":function(c){return(0,tpe.deepMap)(c,n)}});return n});up.createFraction=ape});var l4=D(lp=>{"use strict";Object.defineProperty(lp,"__esModule",{value:!0});lp.createMatrix=void 0;var spe=oe(),u4="matrix",ope=["typed","Matrix","DenseMatrix","SparseMatrix"],cpe=(0,spe.factory)(u4,ope,function(e){var r=e.typed,t=e.Matrix,n=e.DenseMatrix,i=e.SparseMatrix;return r(u4,{"":function(){return c([])},string:function(a){return c([],a)},"string, string":function(a,s){return c([],a,s)},Array:function(a){return c(a)},Matrix:function(a){return c(a,a.storage())},"Array | Matrix, string":c,"Array | Matrix, string, string":c});function c(u,a,s){if(a==="dense"||a==="default"||a===void 0)return new n(u,s);if(a==="sparse")return new i(u,s);throw new TypeError("Unknown matrix type "+JSON.stringify(a)+".")}});lp.createMatrix=cpe});var p4=D(dp=>{"use strict";Object.defineProperty(dp,"__esModule",{value:!0});dp.createSplitUnit=void 0;var upe=oe(),d4="splitUnit",lpe=["typed"],dpe=(0,upe.factory)(d4,lpe,function(e){var r=e.typed;return r(d4,{"Unit, Array":function(n,i){return n.splitUnit(i)}})});dp.createSplitUnit=dpe});var h4=D(pp=>{"use strict";Object.defineProperty(pp,"__esModule",{value:!0});pp.createUnaryMinus=void 0;var ppe=oe(),fpe=Qe(),hpe=rr(),f4="unaryMinus",vpe=["typed"],mpe=(0,ppe.factory)(f4,vpe,function(e){var r=e.typed,t=r(f4,{number:hpe.unaryMinusNumber,Complex:function(i){return i.neg()},BigNumber:function(i){return i.neg()},Fraction:function(i){return i.neg()},Unit:function(i){var c=i.clone();return c.value=t(i.value),c},"Array | Matrix":function(i){return(0,fpe.deepMap)(i,t,!0)}});return t});pp.createUnaryMinus=mpe});var m4=D(fp=>{"use strict";Object.defineProperty(fp,"__esModule",{value:!0});fp.createUnaryPlus=void 0;var ype=oe(),gpe=Qe(),bpe=rr(),v4="unaryPlus",_pe=["typed","config","BigNumber"],wpe=(0,ype.factory)(v4,_pe,function(e){var r=e.typed,t=e.config,n=e.BigNumber,i=r(v4,{number:bpe.unaryPlusNumber,Complex:function(u){return u},BigNumber:function(u){return u},Fraction:function(u){return u},Unit:function(u){return u.clone()},"Array | Matrix":function(u){return(0,gpe.deepMap)(u,i,!0)},"boolean | string":function(u){return t.number==="BigNumber"?new n(+u):+u}});return i});fp.createUnaryPlus=wpe});var g4=D(hp=>{"use strict";Object.defineProperty(hp,"__esModule",{value:!0});hp.createAbs=void 0;var Spe=oe(),xpe=Qe(),Ope=rr(),y4="abs",Dpe=["typed"],Npe=(0,Spe.factory)(y4,Dpe,function(e){var r=e.typed,t=r(y4,{number:Ope.absNumber,Complex:function(i){return i.abs()},BigNumber:function(i){return i.abs()},Fraction:function(i){return i.abs()},"Array | Matrix":function(i){return(0,xpe.deepMap)(i,t,!0)},Unit:function(i){return i.abs()}});return t});hp.createAbs=Npe});var PC=D(mp=>{"use strict";Object.defineProperty(mp,"__esModule",{value:!0});mp.createApply=void 0;var Cpe=oe(),Ape=er(),Mpe=He(),Ppe=Li(),b4="apply",Epe=["typed","isInteger"],qpe=(0,Cpe.factory)(b4,Epe,function(e){var r=e.typed,t=e.isInteger,n=r(b4,{"Array | Matrix, number | BigNumber, function":function(c,u,a){if(!t(u))throw new TypeError("Integer number expected for dimension");var s=Array.isArray(c)?(0,Ape.arraySize)(c):c.size();if(u<0||u>=s.length)throw new Ppe.IndexError(u,s.length);return(0,Mpe.isMatrix)(c)?c.create(vp(c.valueOf(),u,a)):vp(c,u,a)}});return n});mp.createApply=qpe;function vp(e,r,t){var n,i,c;if(r<=0)if(Array.isArray(e[0])){for(c=Ipe(e),i=[],n=0;n<c.length;n++)i[n]=vp(c[n],r-1,t);return i}else return t(e);else{for(i=[],n=0;n<e.length;n++)i[n]=vp(e[n],r-1,t);return i}}function Ipe(e){var r=e.length,t=e[0].length,n,i,c=[];for(i=0;i<t;i++){var u=[];for(n=0;n<r;n++)u.push(e[n][i]);c.push(u)}return c}});var w4=D(yp=>{"use strict";Object.defineProperty(yp,"__esModule",{value:!0});yp.createAddScalar=void 0;var Bpe=oe(),kpe=rr(),_4="addScalar",jpe=["typed"],Tpe=(0,Bpe.factory)(_4,jpe,function(e){var r=e.typed,t=r(_4,{"number, number":kpe.addNumber,"Complex, Complex":function(i,c){return i.add(c)},"BigNumber, BigNumber":function(i,c){return i.plus(c)},"Fraction, Fraction":function(i,c){return i.add(c)},"Unit, Unit":function(i,c){if(i.value===null||i.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(c.value===null||c.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!i.equalBase(c))throw new Error("Units do not match");var u=i.clone();return u.value=t(u.value,c.value),u.fixPrefix=!1,u}});return t});yp.createAddScalar=Tpe});var x4=D(bp=>{"use strict";Object.defineProperty(bp,"__esModule",{value:!0});bp.createCbrt=void 0;var Rpe=oe(),EC=He(),Fpe=Qe(),gp=rr(),S4="cbrt",Lpe=["config","typed","isNegative","unaryMinus","matrix","Complex","BigNumber","Fraction"],Upe=(0,Rpe.factory)(S4,Lpe,function(e){var r=e.config,t=e.typed,n=e.isNegative,i=e.unaryMinus,c=e.matrix,u=e.Complex,a=e.BigNumber,s=e.Fraction,o=t(S4,{number:gp.cbrtNumber,Complex:l,"Complex, boolean":l,BigNumber:function(f){return f.cbrt()},Unit:d,"Array | Matrix":function(f){return(0,Fpe.deepMap)(f,o,!0)}});function l(p,f){var v=p.arg()/3,h=p.abs(),m=new u((0,gp.cbrtNumber)(h),0).mul(new u(0,v).exp());if(f){var y=[m,new u((0,gp.cbrtNumber)(h),0).mul(new u(0,v+Math.PI*2/3).exp()),new u((0,gp.cbrtNumber)(h),0).mul(new u(0,v-Math.PI*2/3).exp())];return r.matrix==="Array"?y:c(y)}else return m}function d(p){if(p.value&&(0,EC.isComplex)(p.value)){var f=p.clone();return f.value=1,f=f.pow(1/3),f.value=l(p.value),f}else{var v=n(p.value);v&&(p.value=i(p.value));var h;(0,EC.isBigNumber)(p.value)?h=new a(1).div(3):(0,EC.isFraction)(p.value)?h=new s(1,3):h=1/3;var m=p.pow(h);return v&&(m.value=i(m.value)),m}}return o});bp.createCbrt=Upe});var O4=D(_p=>{"use strict";Object.defineProperty(_p,"__esModule",{value:!0});_p.createCeil=void 0;var zpe=oe(),Jpe=Qe(),Vpe=gr(),Gpe=Vi(),Hpe=rr(),Wpe="ceil",$pe=["typed","config","round"],Qpe=(0,zpe.factory)(Wpe,$pe,function(e){var r=e.typed,t=e.config,n=e.round,i=r("ceil",{number:function(u){return(0,Vpe.nearlyEqual)(u,n(u),t.epsilon)?n(u):(0,Hpe.ceilNumber)(u)},Complex:function(u){return u.ceil()},BigNumber:function(u){return(0,Gpe.nearlyEqual)(u,n(u),t.epsilon)?n(u):u.ceil()},Fraction:function(u){return u.ceil()},"Array | Matrix":function(u){return(0,Jpe.deepMap)(u,i,!0)}});return i});_p.createCeil=Qpe});var N4=D(wp=>{"use strict";Object.defineProperty(wp,"__esModule",{value:!0});wp.createCube=void 0;var Ype=oe(),Zpe=Qe(),Xpe=rr(),D4="cube",Kpe=["typed"],efe=(0,Ype.factory)(D4,Kpe,function(e){var r=e.typed,t=r(D4,{number:Xpe.cubeNumber,Complex:function(i){return i.mul(i).mul(i)},BigNumber:function(i){return i.times(i).times(i)},Fraction:function(i){return i.pow(3)},"Array | Matrix":function(i){return(0,Zpe.deepMap)(i,t,!0)},Unit:function(i){return i.pow(3)}});return t});wp.createCube=efe});var A4=D(Sp=>{"use strict";Object.defineProperty(Sp,"__esModule",{value:!0});Sp.createExp=void 0;var rfe=oe(),tfe=Qe(),nfe=rr(),C4="exp",ife=["typed"],afe=(0,rfe.factory)(C4,ife,function(e){var r=e.typed,t=r(C4,{number:nfe.expNumber,Complex:function(i){return i.exp()},BigNumber:function(i){return i.exp()},"Array | Matrix":function(i){return(0,tfe.deepMap)(i,t)}});return t});Sp.createExp=afe});var P4=D(xp=>{"use strict";Object.defineProperty(xp,"__esModule",{value:!0});xp.createExpm1=void 0;var sfe=oe(),ofe=Qe(),cfe=rr(),M4="expm1",ufe=["typed","Complex"],lfe=(0,sfe.factory)(M4,ufe,function(e){var r=e.typed,t=e.Complex,n=r(M4,{number:cfe.expm1Number,Complex:function(c){var u=Math.exp(c.re);return new t(u*Math.cos(c.im)-1,u*Math.sin(c.im))},BigNumber:function(c){return c.exp().minus(1)},"Array | Matrix":function(c){return(0,ofe.deepMap)(c,n)}});return n});xp.createExpm1=lfe});var E4=D(Op=>{"use strict";Object.defineProperty(Op,"__esModule",{value:!0});Op.createFix=void 0;var dfe=oe(),pfe=Qe(),ffe="fix",hfe=["typed","Complex","ceil","floor"],vfe=(0,dfe.factory)(ffe,hfe,function(e){var r=e.typed,t=e.Complex,n=e.ceil,i=e.floor,c=r("fix",{number:function(a){return a>0?i(a):n(a)},Complex:function(a){return new t(a.re>0?Math.floor(a.re):Math.ceil(a.re),a.im>0?Math.floor(a.im):Math.ceil(a.im))},BigNumber:function(a){return a.isNegative()?n(a):i(a)},Fraction:function(a){return a.s<0?a.ceil():a.floor()},"Array | Matrix":function(a){return(0,pfe.deepMap)(a,c,!0)}});return c});Op.createFix=vfe});var q4=D(Dp=>{"use strict";Object.defineProperty(Dp,"__esModule",{value:!0});Dp.createFloor=void 0;var mfe=oe(),yfe=Qe(),gfe=gr(),bfe=Vi(),_fe="floor",wfe=["typed","config","round"],Sfe=(0,mfe.factory)(_fe,wfe,function(e){var r=e.typed,t=e.config,n=e.round,i=r("floor",{number:function(u){return(0,gfe.nearlyEqual)(u,n(u),t.epsilon)?n(u):Math.floor(u)},Complex:function(u){return u.floor()},BigNumber:function(u){return(0,bfe.nearlyEqual)(u,n(u),t.epsilon)?n(u):u.floor()},Fraction:function(u){return u.floor()},"Array | Matrix":function(u){return(0,yfe.deepMap)(u,i,!0)}});return i});Dp.createFloor=Sfe});var Hi=D(Np=>{"use strict";Object.defineProperty(Np,"__esModule",{value:!0});Np.createAlgorithm01=void 0;var xfe=oe(),Ofe=vt(),Dfe="algorithm01",Nfe=["typed"],Cfe=(0,xfe.factory)(Dfe,Nfe,function(e){var r=e.typed;return function(n,i,c,u){var a=n._data,s=n._size,o=n._datatype,l=i._values,d=i._index,p=i._ptr,f=i._size,v=i._datatype;if(s.length!==f.length)throw new Ofe.DimensionError(s.length,f.length);if(s[0]!==f[0]||s[1]!==f[1])throw new RangeError("Dimension mismatch. Matrix A ("+s+") must match Matrix B ("+f+")");if(!l)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var h=s[0],m=s[1],y=typeof o=="string"&&o===v?o:void 0,g=y?r.find(c,[y,y]):c,b,_,S=[];for(b=0;b<h;b++)S[b]=[];var w=[],O=[];for(_=0;_<m;_++){for(var x=_+1,N=p[_],M=p[_+1],I=N;I<M;I++)b=d[I],w[b]=u?g(l[I],a[b][_]):g(a[b][_],l[I]),O[b]=x;for(b=0;b<h;b++)O[b]===x?S[b][_]=w[b]:S[b][_]=a[b][_]}return n.createDenseMatrix({data:S,size:[h,m],datatype:y})}});Np.createAlgorithm01=Cfe});var Ap=D(Cp=>{"use strict";Object.defineProperty(Cp,"__esModule",{value:!0});Cp.createAlgorithm04=void 0;var Afe=oe(),Mfe=vt(),Pfe="algorithm04",Efe=["typed","equalScalar"],qfe=(0,Afe.factory)(Pfe,Efe,function(e){var r=e.typed,t=e.equalScalar;return function(i,c,u){var a=i._values,s=i._index,o=i._ptr,l=i._size,d=i._datatype,p=c._values,f=c._index,v=c._ptr,h=c._size,m=c._datatype;if(l.length!==h.length)throw new Mfe.DimensionError(l.length,h.length);if(l[0]!==h[0]||l[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+h+")");var y=l[0],g=l[1],b,_=t,S=0,w=u;typeof d=="string"&&d===m&&(b=d,_=r.find(t,[b,b]),S=r.convert(0,b),w=r.find(u,[b,b]));var O=a&&p?[]:void 0,x=[],N=[],M=a&&p?[]:void 0,I=a&&p?[]:void 0,q=[],z=[],R,j,L,P,V;for(j=0;j<g;j++){N[j]=x.length;var E=j+1;for(P=o[j],V=o[j+1],L=P;L<V;L++)R=s[L],x.push(R),q[R]=E,M&&(M[R]=a[L]);for(P=v[j],V=v[j+1],L=P;L<V;L++)if(R=f[L],q[R]===E){if(M){var Z=w(M[R],p[L]);_(Z,S)?q[R]=null:M[R]=Z}}else x.push(R),z[R]=E,I&&(I[R]=p[L]);if(M&&I)for(L=N[j];L<x.length;)R=x[L],q[R]===E?(O[L]=M[R],L++):z[R]===E?(O[L]=I[R],L++):x.splice(L,1)}return N[g]=x.length,i.createSparseMatrix({values:O,index:x,ptr:N,size:[y,g],datatype:b})}});Cp.createAlgorithm04=qfe});var Da=D(Mp=>{"use strict";Object.defineProperty(Mp,"__esModule",{value:!0});Mp.createAlgorithm10=void 0;var Ife=oe(),Bfe="algorithm10",kfe=["typed","DenseMatrix"],jfe=(0,Ife.factory)(Bfe,kfe,function(e){var r=e.typed,t=e.DenseMatrix;return function(i,c,u,a){var s=i._values,o=i._index,l=i._ptr,d=i._size,p=i._datatype;if(!s)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var f=d[0],v=d[1],h,m=u;typeof p=="string"&&(h=p,c=r.convert(c,h),m=r.find(u,[h,h]));for(var y=[],g=[],b=[],_=0;_<v;_++){for(var S=_+1,w=l[_],O=l[_+1],x=w;x<O;x++){var N=o[x];g[N]=s[x],b[N]=S}for(var M=0;M<f;M++)_===0&&(y[M]=[]),b[M]===S?y[M][_]=a?m(c,g[M]):m(g[M],c):y[M][_]=c}return new t({data:y,size:[f,v],datatype:h})}});Mp.createAlgorithm10=jfe});var Wr=D(Pp=>{"use strict";Object.defineProperty(Pp,"__esModule",{value:!0});Pp.createAlgorithm13=void 0;var Tfe=oe(),Rfe=vt(),Ffe="algorithm13",Lfe=["typed"],Ufe=(0,Tfe.factory)(Ffe,Lfe,function(e){var r=e.typed;return function(i,c,u){var a=i._data,s=i._size,o=i._datatype,l=c._data,d=c._size,p=c._datatype,f=[];if(s.length!==d.length)throw new Rfe.DimensionError(s.length,d.length);for(var v=0;v<s.length;v++){if(s[v]!==d[v])throw new RangeError("Dimension mismatch. Matrix A ("+s+") must match Matrix B ("+d+")");f[v]=s[v]}var h,m=u;typeof o=="string"&&o===p&&(h=o,m=r.find(u,[h,h]));var y=f.length>0?t(m,0,f,f[0],a,l):[];return i.createDenseMatrix({data:y,size:f,datatype:h})};function t(n,i,c,u,a,s){var o=[];if(i===c.length-1)for(var l=0;l<u;l++)o[l]=n(a[l],s[l]);else for(var d=0;d<u;d++)o[d]=t(n,i+1,c,c[i+1],a[d],s[d]);return o}});Pp.createAlgorithm13=Ufe});var Ur=D(Ep=>{"use strict";Object.defineProperty(Ep,"__esModule",{value:!0});Ep.createAlgorithm14=void 0;var zfe=oe(),Jfe=yr(),Vfe="algorithm14",Gfe=["typed"],Hfe=(0,zfe.factory)(Vfe,Gfe,function(e){var r=e.typed;return function(i,c,u,a){var s=i._data,o=i._size,l=i._datatype,d,p=u;typeof l=="string"&&(d=l,c=r.convert(c,d),p=r.find(u,[d,d]));var f=o.length>0?t(p,0,o,o[0],s,c,a):[];return i.createDenseMatrix({data:f,size:(0,Jfe.clone)(o),datatype:d})};function t(n,i,c,u,a,s,o){var l=[];if(i===c.length-1)for(var d=0;d<u;d++)l[d]=o?n(s,a[d]):n(a[d],s);else for(var p=0;p<u;p++)l[p]=t(n,i+1,c,c[i+1],a[p],s,o);return l}});Ep.createAlgorithm14=Hfe});var B4=D(qp=>{"use strict";Object.defineProperty(qp,"__esModule",{value:!0});qp.createGcd=void 0;var Wfe=oe(),$fe=Hi(),Qfe=Ap(),Yfe=Da(),Zfe=Wr(),Xfe=Ur(),Kfe=rr(),I4="gcd",ehe=["typed","matrix","equalScalar","BigNumber","DenseMatrix"],rhe=(0,Wfe.factory)(I4,ehe,function(e){var r=e.typed,t=e.matrix,n=e.equalScalar,i=e.BigNumber,c=e.DenseMatrix,u=(0,$fe.createAlgorithm01)({typed:r}),a=(0,Qfe.createAlgorithm04)({typed:r,equalScalar:n}),s=(0,Yfe.createAlgorithm10)({typed:r,DenseMatrix:c}),o=(0,Zfe.createAlgorithm13)({typed:r}),l=(0,Xfe.createAlgorithm14)({typed:r}),d=r(I4,{"number, number":Kfe.gcdNumber,"BigNumber, BigNumber":p,"Fraction, Fraction":function(v,h){return v.gcd(h)},"SparseMatrix, SparseMatrix":function(v,h){return a(v,h,d)},"SparseMatrix, DenseMatrix":function(v,h){return u(h,v,d,!0)},"DenseMatrix, SparseMatrix":function(v,h){return u(v,h,d,!1)},"DenseMatrix, DenseMatrix":function(v,h){return o(v,h,d)},"Array, Array":function(v,h){return d(t(v),t(h)).valueOf()},"Array, Matrix":function(v,h){return d(t(v),h)},"Matrix, Array":function(v,h){return d(v,t(h))},"SparseMatrix, number | BigNumber":function(v,h){return s(v,h,d,!1)},"DenseMatrix, number | BigNumber":function(v,h){return l(v,h,d,!1)},"number | BigNumber, SparseMatrix":function(v,h){return s(h,v,d,!0)},"number | BigNumber, DenseMatrix":function(v,h){return l(h,v,d,!0)},"Array, number | BigNumber":function(v,h){return l(t(v),h,d,!1).valueOf()},"number | BigNumber, Array":function(v,h){return l(t(h),v,d,!0).valueOf()},"Array | Matrix | number | BigNumber, Array | Matrix | number | BigNumber, ...Array | Matrix | number | BigNumber":function(v,h,m){for(var y=d(v,h),g=0;g<m.length;g++)y=d(y,m[g]);return y}});return d;function p(f,v){if(!f.isInt()||!v.isInt())throw new Error("Parameters in function gcd must be integer numbers");for(var h=new i(0);!v.isZero();){var m=f.mod(v);f=v,v=m}return f.lt(h)?f.neg():f}});qp.createGcd=rhe});var Ln=D(Ip=>{"use strict";Object.defineProperty(Ip,"__esModule",{value:!0});Ip.createAlgorithm02=void 0;var the=oe(),nhe=vt(),ihe="algorithm02",ahe=["typed","equalScalar"],she=(0,the.factory)(ihe,ahe,function(e){var r=e.typed,t=e.equalScalar;return function(i,c,u,a){var s=i._data,o=i._size,l=i._datatype,d=c._values,p=c._index,f=c._ptr,v=c._size,h=c._datatype;if(o.length!==v.length)throw new nhe.DimensionError(o.length,v.length);if(o[0]!==v[0]||o[1]!==v[1])throw new RangeError("Dimension mismatch. Matrix A ("+o+") must match Matrix B ("+v+")");if(!d)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var m=o[0],y=o[1],g,b=t,_=0,S=u;typeof l=="string"&&l===h&&(g=l,b=r.find(t,[g,g]),_=r.convert(0,g),S=r.find(u,[g,g]));for(var w=[],O=[],x=[],N=0;N<y;N++){x[N]=O.length;for(var M=f[N],I=f[N+1],q=M;q<I;q++){var z=p[q],R=a?S(d[q],s[z][N]):S(s[z][N],d[q]);b(R,_)||(O.push(z),w.push(R))}}return x[y]=O.length,c.createSparseMatrix({values:w,index:O,ptr:x,size:[m,y],datatype:g})}});Ip.createAlgorithm02=she});var Ou=D(Bp=>{"use strict";Object.defineProperty(Bp,"__esModule",{value:!0});Bp.createAlgorithm06=void 0;var ohe=oe(),che=vt(),k4=Qe(),uhe="algorithm06",lhe=["typed","equalScalar"],dhe=(0,ohe.factory)(uhe,lhe,function(e){var r=e.typed,t=e.equalScalar;return function(i,c,u){var a=i._values,s=i._size,o=i._datatype,l=c._values,d=c._size,p=c._datatype;if(s.length!==d.length)throw new che.DimensionError(s.length,d.length);if(s[0]!==d[0]||s[1]!==d[1])throw new RangeError("Dimension mismatch. Matrix A ("+s+") must match Matrix B ("+d+")");var f=s[0],v=s[1],h,m=t,y=0,g=u;typeof o=="string"&&o===p&&(h=o,m=r.find(t,[h,h]),y=r.convert(0,h),g=r.find(u,[h,h]));for(var b=a&&l?[]:void 0,_=[],S=[],w=b?[]:void 0,O=[],x=[],N=0;N<v;N++){S[N]=_.length;var M=N+1;if((0,k4.scatter)(i,N,O,w,x,M,_,g),(0,k4.scatter)(c,N,O,w,x,M,_,g),w)for(var I=S[N];I<_.length;){var q=_[I];if(x[q]===M){var z=w[q];m(z,y)?_.splice(I,1):(b.push(z),I++)}else _.splice(I,1)}else for(var R=S[N];R<_.length;){var j=_[R];x[j]!==M?_.splice(R,1):R++}}return S[v]=_.length,i.createSparseMatrix({values:b,index:_,ptr:S,size:[f,v],datatype:h})}});Bp.createAlgorithm06=dhe});var Jt=D(kp=>{"use strict";Object.defineProperty(kp,"__esModule",{value:!0});kp.createAlgorithm11=void 0;var phe=oe(),fhe="algorithm11",hhe=["typed","equalScalar"],vhe=(0,phe.factory)(fhe,hhe,function(e){var r=e.typed,t=e.equalScalar;return function(i,c,u,a){var s=i._values,o=i._index,l=i._ptr,d=i._size,p=i._datatype;if(!s)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var f=d[0],v=d[1],h,m=t,y=0,g=u;typeof p=="string"&&(h=p,m=r.find(t,[h,h]),y=r.convert(0,h),c=r.convert(c,h),g=r.find(u,[h,h]));for(var b=[],_=[],S=[],w=0;w<v;w++){S[w]=_.length;for(var O=l[w],x=l[w+1],N=O;N<x;N++){var M=o[N],I=a?g(c,s[N]):g(s[N],c);m(I,y)||(_.push(M),b.push(I))}}return S[v]=_.length,i.createSparseMatrix({values:b,index:_,ptr:S,size:[f,v],datatype:h})}});kp.createAlgorithm11=vhe});var T4=D(jp=>{"use strict";Object.defineProperty(jp,"__esModule",{value:!0});jp.createLcm=void 0;var mhe=oe(),yhe=Ln(),ghe=Ou(),bhe=Jt(),_he=Wr(),whe=Ur(),She=rr(),j4="lcm",xhe=["typed","matrix","equalScalar"],Ohe=(0,mhe.factory)(j4,xhe,function(e){var r=e.typed,t=e.matrix,n=e.equalScalar,i=(0,yhe.createAlgorithm02)({typed:r,equalScalar:n}),c=(0,ghe.createAlgorithm06)({typed:r,equalScalar:n}),u=(0,bhe.createAlgorithm11)({typed:r,equalScalar:n}),a=(0,_he.createAlgorithm13)({typed:r}),s=(0,whe.createAlgorithm14)({typed:r}),o=r(j4,{"number, number":She.lcmNumber,"BigNumber, BigNumber":l,"Fraction, Fraction":function(p,f){return p.lcm(f)},"SparseMatrix, SparseMatrix":function(p,f){return c(p,f,o)},"SparseMatrix, DenseMatrix":function(p,f){return i(f,p,o,!0)},"DenseMatrix, SparseMatrix":function(p,f){return i(p,f,o,!1)},"DenseMatrix, DenseMatrix":function(p,f){return a(p,f,o)},"Array, Array":function(p,f){return o(t(p),t(f)).valueOf()},"Array, Matrix":function(p,f){return o(t(p),f)},"Matrix, Array":function(p,f){return o(p,t(f))},"SparseMatrix, number | BigNumber":function(p,f){return u(p,f,o,!1)},"DenseMatrix, number | BigNumber":function(p,f){return s(p,f,o,!1)},"number | BigNumber, SparseMatrix":function(p,f){return u(f,p,o,!0)},"number | BigNumber, DenseMatrix":function(p,f){return s(f,p,o,!0)},"Array, number | BigNumber":function(p,f){return s(t(p),f,o,!1).valueOf()},"number | BigNumber, Array":function(p,f){return s(t(f),p,o,!0).valueOf()},"Array | Matrix | number | BigNumber, Array | Matrix | number | BigNumber, ...Array | Matrix | number | BigNumber":function(p,f,v){for(var h=o(p,f),m=0;m<v.length;m++)h=o(h,v[m]);return h}});return o;function l(d,p){if(!d.isInt()||!p.isInt())throw new Error("Parameters in function lcm must be integer numbers");if(d.isZero())return d;if(p.isZero())return p;for(var f=d.times(p);!p.isZero();){var v=p;p=d.mod(v),d=v}return f.div(d).abs()}});jp.createLcm=Ohe});var F4=D(Tp=>{"use strict";Object.defineProperty(Tp,"__esModule",{value:!0});Tp.createLog10=void 0;var Dhe=oe(),Nhe=Qe(),Che=rr(),R4="log10",Ahe=["typed","config","Complex"],Mhe=(0,Dhe.factory)(R4,Ahe,function(e){var r=e.typed,t=e.config,n=e.Complex,i=r(R4,{number:function(u){return u>=0||t.predictable?(0,Che.log10Number)(u):new n(u,0).log().div(Math.LN10)},Complex:function(u){return new n(u).log().div(Math.LN10)},BigNumber:function(u){return!u.isNegative()||t.predictable?u.log():new n(u.toNumber(),0).log().div(Math.LN10)},"Array | Matrix":function(u){return(0,Nhe.deepMap)(u,i)}});return i});Tp.createLog10=Mhe});var U4=D(Rp=>{"use strict";Object.defineProperty(Rp,"__esModule",{value:!0});Rp.createLog2=void 0;var Phe=oe(),Ehe=Qe(),qhe=rr(),L4="log2",Ihe=["typed","config","Complex"],Bhe=(0,Phe.factory)(L4,Ihe,function(e){var r=e.typed,t=e.config,n=e.Complex,i=r(L4,{number:function(a){return a>=0||t.predictable?(0,qhe.log2Number)(a):c(new n(a,0))},Complex:c,BigNumber:function(a){return!a.isNegative()||t.predictable?a.log(2):c(new n(a.toNumber(),0))},"Array | Matrix":function(a){return(0,Ehe.deepMap)(a,i)}});function c(u){var a=Math.sqrt(u.re*u.re+u.im*u.im);return new n(Math.log2?Math.log2(a):Math.log(a)/Math.LN2,Math.atan2(u.im,u.re)/Math.LN2)}return i});Rp.createLog2=Bhe});var Vt=D(Fp=>{"use strict";Object.defineProperty(Fp,"__esModule",{value:!0});Fp.createAlgorithm03=void 0;var khe=oe(),jhe=vt(),The="algorithm03",Rhe=["typed"],Fhe=(0,khe.factory)(The,Rhe,function(e){var r=e.typed;return function(n,i,c,u){var a=n._data,s=n._size,o=n._datatype,l=i._values,d=i._index,p=i._ptr,f=i._size,v=i._datatype;if(s.length!==f.length)throw new jhe.DimensionError(s.length,f.length);if(s[0]!==f[0]||s[1]!==f[1])throw new RangeError("Dimension mismatch. Matrix A ("+s+") must match Matrix B ("+f+")");if(!l)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var h=s[0],m=s[1],y,g=0,b=c;typeof o=="string"&&o===v&&(y=o,g=r.convert(0,y),b=r.find(c,[y,y]));for(var _=[],S=0;S<h;S++)_[S]=[];for(var w=[],O=[],x=0;x<m;x++){for(var N=x+1,M=p[x],I=p[x+1],q=M;q<I;q++){var z=d[q];w[z]=u?b(l[q],a[z][x]):b(a[z][x],l[q]),O[z]=N}for(var R=0;R<h;R++)O[R]===N?_[R][x]=w[R]:_[R][x]=u?b(g,a[R][x]):b(a[R][x],g)}return n.createDenseMatrix({data:_,size:[h,m],datatype:y})}});Fp.createAlgorithm03=Fhe});var Du=D(Lp=>{"use strict";Object.defineProperty(Lp,"__esModule",{value:!0});Lp.createAlgorithm05=void 0;var Lhe=oe(),Uhe=vt(),zhe="algorithm05",Jhe=["typed","equalScalar"],Vhe=(0,Lhe.factory)(zhe,Jhe,function(e){var r=e.typed,t=e.equalScalar;return function(i,c,u){var a=i._values,s=i._index,o=i._ptr,l=i._size,d=i._datatype,p=c._values,f=c._index,v=c._ptr,h=c._size,m=c._datatype;if(l.length!==h.length)throw new Uhe.DimensionError(l.length,h.length);if(l[0]!==h[0]||l[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+h+")");var y=l[0],g=l[1],b,_=t,S=0,w=u;typeof d=="string"&&d===m&&(b=d,_=r.find(t,[b,b]),S=r.convert(0,b),w=r.find(u,[b,b]));var O=a&&p?[]:void 0,x=[],N=[],M=O?[]:void 0,I=O?[]:void 0,q=[],z=[],R,j,L,P;for(j=0;j<g;j++){N[j]=x.length;var V=j+1;for(L=o[j],P=o[j+1];L<P;L++)R=s[L],x.push(R),q[R]=V,M&&(M[R]=a[L]);for(L=v[j],P=v[j+1];L<P;L++)R=f[L],q[R]!==V&&x.push(R),z[R]=V,I&&(I[R]=p[L]);if(O)for(L=N[j];L<x.length;){R=x[L];var E=q[R],Z=z[R];if(E===V||Z===V){var ue=E===V?M[R]:S,ye=Z===V?I[R]:S,X=w(ue,ye);_(X,S)?x.splice(L,1):(O.push(X),L++)}}}return N[g]=x.length,i.createSparseMatrix({values:O,index:x,ptr:N,size:[y,g],datatype:b})}});Lp.createAlgorithm05=Vhe});var Gt=D(Up=>{"use strict";Object.defineProperty(Up,"__esModule",{value:!0});Up.createAlgorithm12=void 0;var Ghe=oe(),Hhe="algorithm12",Whe=["typed","DenseMatrix"],$he=(0,Ghe.factory)(Hhe,Whe,function(e){var r=e.typed,t=e.DenseMatrix;return function(i,c,u,a){var s=i._values,o=i._index,l=i._ptr,d=i._size,p=i._datatype;if(!s)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var f=d[0],v=d[1],h,m=u;typeof p=="string"&&(h=p,c=r.convert(c,h),m=r.find(u,[h,h]));for(var y=[],g=[],b=[],_=0;_<v;_++){for(var S=_+1,w=l[_],O=l[_+1],x=w;x<O;x++){var N=o[x];g[N]=s[x],b[N]=S}for(var M=0;M<f;M++)_===0&&(y[M]=[]),b[M]===S?y[M][_]=a?m(c,g[M]):m(g[M],c):y[M][_]=a?m(c,0):m(0,c)}return new t({data:y,size:[f,v],datatype:h})}});Up.createAlgorithm12=$he});var J4=D(zp=>{"use strict";Object.defineProperty(zp,"__esModule",{value:!0});zp.createMod=void 0;var Qhe=oe(),Yhe=Ln(),Zhe=Vt(),Xhe=Du(),Khe=Jt(),eve=Gt(),rve=Wr(),tve=Ur(),nve=rr(),z4="mod",ive=["typed","matrix","equalScalar","DenseMatrix"],ave=(0,Qhe.factory)(z4,ive,function(e){var r=e.typed,t=e.matrix,n=e.equalScalar,i=e.DenseMatrix,c=(0,Yhe.createAlgorithm02)({typed:r,equalScalar:n}),u=(0,Zhe.createAlgorithm03)({typed:r}),a=(0,Xhe.createAlgorithm05)({typed:r,equalScalar:n}),s=(0,Khe.createAlgorithm11)({typed:r,equalScalar:n}),o=(0,eve.createAlgorithm12)({typed:r,DenseMatrix:i}),l=(0,rve.createAlgorithm13)({typed:r}),d=(0,tve.createAlgorithm14)({typed:r}),p=r(z4,{"number, number":nve.modNumber,"BigNumber, BigNumber":function(v,h){return h.isZero()?v:v.mod(h)},"Fraction, Fraction":function(v,h){return v.mod(h)},"SparseMatrix, SparseMatrix":function(v,h){return a(v,h,p,!1)},"SparseMatrix, DenseMatrix":function(v,h){return c(h,v,p,!0)},"DenseMatrix, SparseMatrix":function(v,h){return u(v,h,p,!1)},"DenseMatrix, DenseMatrix":function(v,h){return l(v,h,p)},"Array, Array":function(v,h){return p(t(v),t(h)).valueOf()},"Array, Matrix":function(v,h){return p(t(v),h)},"Matrix, Array":function(v,h){return p(v,t(h))},"SparseMatrix, any":function(v,h){return s(v,h,p,!1)},"DenseMatrix, any":function(v,h){return d(v,h,p,!1)},"any, SparseMatrix":function(v,h){return o(h,v,p,!0)},"any, DenseMatrix":function(v,h){return d(h,v,p,!0)},"Array, any":function(v,h){return d(t(v),h,p,!1).valueOf()},"any, Array":function(v,h){return d(t(h),v,p,!0).valueOf()}});return p});zp.createMod=ave});var V4=D(Jp=>{"use strict";Object.defineProperty(Jp,"__esModule",{value:!0});Jp.createMultiplyScalar=void 0;var sve=oe(),ove=rr(),cve="multiplyScalar",uve=["typed"],lve=(0,sve.factory)(cve,uve,function(e){var r=e.typed,t=r("multiplyScalar",{"number, number":ove.multiplyNumber,"Complex, Complex":function(i,c){return i.mul(c)},"BigNumber, BigNumber":function(i,c){return i.times(c)},"Fraction, Fraction":function(i,c){return i.mul(c)},"number | Fraction | BigNumber | Complex, Unit":function(i,c){var u=c.clone();return u.value=u.value===null?u._normalize(i):t(u.value,i),u},"Unit, number | Fraction | BigNumber | Complex":function(i,c){var u=i.clone();return u.value=u.value===null?u._normalize(c):t(u.value,c),u},"Unit, Unit":function(i,c){return i.multiply(c)}});return t});Jp.createMultiplyScalar=lve});var W4=D(Vp=>{"use strict";Object.defineProperty(Vp,"__esModule",{value:!0});Vp.createMultiply=void 0;var dve=oe(),pve=He(),fve=yr(),G4=er(),hve=Jt(),vve=Ur(),H4="multiply",mve=["typed","matrix","addScalar","multiplyScalar","equalScalar"],yve=(0,dve.factory)(H4,mve,function(e){var r=e.typed,t=e.matrix,n=e.addScalar,i=e.multiplyScalar,c=e.equalScalar,u=(0,hve.createAlgorithm11)({typed:r,equalScalar:c}),a=(0,vve.createAlgorithm14)({typed:r}),s=r(H4,(0,fve.extend)({"Array, Array":function(w,O){o((0,G4.arraySize)(w),(0,G4.arraySize)(O));var x=s(t(w),t(O));return(0,pve.isMatrix)(x)?x.valueOf():x},"Matrix, Matrix":function(w,O){var x=w.size(),N=O.size();return o(x,N),x.length===1?N.length===1?l(w,O,x[0]):d(w,O):N.length===1?f(w,O):v(w,O)},"Matrix, Array":function(w,O){return s(w,t(O))},"Array, Matrix":function(w,O){return s(t(w,O.storage()),O)},"SparseMatrix, any":function(w,O){return u(w,O,i,!1)},"DenseMatrix, any":function(w,O){return a(w,O,i,!1)},"any, SparseMatrix":function(w,O){return u(O,w,i,!0)},"any, DenseMatrix":function(w,O){return a(O,w,i,!0)},"Array, any":function(w,O){return a(t(w),O,i,!1).valueOf()},"any, Array":function(w,O){return a(t(O),w,i,!0).valueOf()},"any, any":i,"any, any, ...any":function(w,O,x){for(var N=s(w,O),M=0;M<x.length;M++)N=s(N,x[M]);return N}},i.signatures));function o(S,w){switch(S.length){case 1:switch(w.length){case 1:if(S[0]!==w[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(S[0]!==w[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+S[0]+") must match Matrix rows ("+w[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+w.length+" dimensions)")}break;case 2:switch(w.length){case 1:if(S[1]!==w[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+S[1]+") must match Vector length ("+w[0]+")");break;case 2:if(S[1]!==w[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+S[1]+") must match Matrix B rows ("+w[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+w.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+S.length+" dimensions)")}}function l(S,w,O){if(O===0)throw new Error("Cannot multiply two empty vectors");var x=S._data,N=S._datatype,M=w._data,I=w._datatype,q,z=n,R=i;N&&I&&N===I&&typeof N=="string"&&(q=N,z=r.find(n,[q,q]),R=r.find(i,[q,q]));for(var j=R(x[0],M[0]),L=1;L<O;L++)j=z(j,R(x[L],M[L]));return j}function d(S,w){if(w.storage()!=="dense")throw new Error("Support for SparseMatrix not implemented");return p(S,w)}function p(S,w){var O=S._data,x=S._size,N=S._datatype,M=w._data,I=w._size,q=w._datatype,z=x[0],R=I[1],j,L=n,P=i;N&&q&&N===q&&typeof N=="string"&&(j=N,L=r.find(n,[j,j]),P=r.find(i,[j,j]));for(var V=[],E=0;E<R;E++){for(var Z=P(O[0],M[0][E]),ue=1;ue<z;ue++)Z=L(Z,P(O[ue],M[ue][E]));V[E]=Z}return S.createDenseMatrix({data:V,size:[R],datatype:j})}var f=r("_multiplyMatrixVector",{"DenseMatrix, any":h,"SparseMatrix, any":g}),v=r("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":m,"DenseMatrix, SparseMatrix":y,"SparseMatrix, DenseMatrix":b,"SparseMatrix, SparseMatrix":_});function h(S,w){var O=S._data,x=S._size,N=S._datatype,M=w._data,I=w._datatype,q=x[0],z=x[1],R,j=n,L=i;N&&I&&N===I&&typeof N=="string"&&(R=N,j=r.find(n,[R,R]),L=r.find(i,[R,R]));for(var P=[],V=0;V<q;V++){for(var E=O[V],Z=L(E[0],M[0]),ue=1;ue<z;ue++)Z=j(Z,L(E[ue],M[ue]));P[V]=Z}return S.createDenseMatrix({data:P,size:[q],datatype:R})}function m(S,w){var O=S._data,x=S._size,N=S._datatype,M=w._data,I=w._size,q=w._datatype,z=x[0],R=x[1],j=I[1],L,P=n,V=i;N&&q&&N===q&&typeof N=="string"&&(L=N,P=r.find(n,[L,L]),V=r.find(i,[L,L]));for(var E=[],Z=0;Z<z;Z++){var ue=O[Z];E[Z]=[];for(var ye=0;ye<j;ye++){for(var X=V(ue[0],M[0][ye]),le=1;le<R;le++)X=P(X,V(ue[le],M[le][ye]));E[Z][ye]=X}}return S.createDenseMatrix({data:E,size:[z,j],datatype:L})}function y(S,w){var O=S._data,x=S._size,N=S._datatype,M=w._values,I=w._index,q=w._ptr,z=w._size,R=w._datatype;if(!M)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var j=x[0],L=z[1],P,V=n,E=i,Z=c,ue=0;N&&R&&N===R&&typeof N=="string"&&(P=N,V=r.find(n,[P,P]),E=r.find(i,[P,P]),Z=r.find(c,[P,P]),ue=r.convert(0,P));for(var ye=[],X=[],le=[],Oe=w.createSparseMatrix({values:ye,index:X,ptr:le,size:[j,L],datatype:P}),ne=0;ne<L;ne++){le[ne]=X.length;var fe=q[ne],Me=q[ne+1];if(Me>fe)for(var me=0,Ce=0;Ce<j;Ce++){for(var Be=Ce+1,je=void 0,We=fe;We<Me;We++){var Ge=I[We];me!==Be?(je=E(O[Ce][Ge],M[We]),me=Be):je=V(je,E(O[Ce][Ge],M[We]))}me===Be&&!Z(je,ue)&&(X.push(Ce),ye.push(je))}}return le[L]=X.length,Oe}function g(S,w){var O=S._values,x=S._index,N=S._ptr,M=S._datatype;if(!O)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var I=w._data,q=w._datatype,z=S._size[0],R=w._size[0],j=[],L=[],P=[],V,E=n,Z=i,ue=c,ye=0;M&&q&&M===q&&typeof M=="string"&&(V=M,E=r.find(n,[V,V]),Z=r.find(i,[V,V]),ue=r.find(c,[V,V]),ye=r.convert(0,V));var X=[],le=[];P[0]=0;for(var Oe=0;Oe<R;Oe++){var ne=I[Oe];if(!ue(ne,ye))for(var fe=N[Oe],Me=N[Oe+1],me=fe;me<Me;me++){var Ce=x[me];le[Ce]?X[Ce]=E(X[Ce],Z(ne,O[me])):(le[Ce]=!0,L.push(Ce),X[Ce]=Z(ne,O[me]))}}for(var Be=L.length,je=0;je<Be;je++){var We=L[je];j[je]=X[We]}return P[1]=L.length,S.createSparseMatrix({values:j,index:L,ptr:P,size:[z,1],datatype:V})}function b(S,w){var O=S._values,x=S._index,N=S._ptr,M=S._datatype;if(!O)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var I=w._data,q=w._datatype,z=S._size[0],R=w._size[0],j=w._size[1],L,P=n,V=i,E=c,Z=0;M&&q&&M===q&&typeof M=="string"&&(L=M,P=r.find(n,[L,L]),V=r.find(i,[L,L]),E=r.find(c,[L,L]),Z=r.convert(0,L));for(var ue=[],ye=[],X=[],le=S.createSparseMatrix({values:ue,index:ye,ptr:X,size:[z,j],datatype:L}),Oe=[],ne=[],fe=0;fe<j;fe++){X[fe]=ye.length;for(var Me=fe+1,me=0;me<R;me++){var Ce=I[me][fe];if(!E(Ce,Z))for(var Be=N[me],je=N[me+1],We=Be;We<je;We++){var Ge=x[We];ne[Ge]!==Me?(ne[Ge]=Me,ye.push(Ge),Oe[Ge]=V(Ce,O[We])):Oe[Ge]=P(Oe[Ge],V(Ce,O[We]))}}for(var ie=X[fe],pe=ye.length,te=ie;te<pe;te++){var ce=ye[te];ue[te]=Oe[ce]}}return X[j]=ye.length,le}function _(S,w){var O=S._values,x=S._index,N=S._ptr,M=S._datatype,I=w._values,q=w._index,z=w._ptr,R=w._datatype,j=S._size[0],L=w._size[1],P=O&&I,V,E=n,Z=i;M&&R&&M===R&&typeof M=="string"&&(V=M,E=r.find(n,[V,V]),Z=r.find(i,[V,V]));for(var ue=P?[]:void 0,ye=[],X=[],le=S.createSparseMatrix({values:ue,index:ye,ptr:X,size:[j,L],datatype:V}),Oe=P?[]:void 0,ne=[],fe,Me,me,Ce,Be,je,We,Ge,ie=0;ie<L;ie++){X[ie]=ye.length;var pe=ie+1;for(Be=z[ie],je=z[ie+1],Ce=Be;Ce<je;Ce++)if(Ge=q[Ce],P)for(Me=N[Ge],me=N[Ge+1],fe=Me;fe<me;fe++)We=x[fe],ne[We]!==pe?(ne[We]=pe,ye.push(We),Oe[We]=Z(I[Ce],O[fe])):Oe[We]=E(Oe[We],Z(I[Ce],O[fe]));else for(Me=N[Ge],me=N[Ge+1],fe=Me;fe<me;fe++)We=x[fe],ne[We]!==pe&&(ne[We]=pe,ye.push(We));if(P)for(var te=X[ie],ce=ye.length,ge=te;ge<ce;ge++){var ve=ye[ge];ue[ge]=Oe[ve]}}return X[L]=ye.length,le}return s});Vp.createMultiply=yve});var Q4=D(Bo=>{"use strict";Object.defineProperty(Bo,"__esModule",{value:!0});Bo.createNthRootNumber=Bo.createNthRoot=void 0;var $4=oe(),gve=Hi(),bve=Ln(),_ve=Ou(),wve=Jt(),Sve=Wr(),xve=Ur(),Gp=rr(),Hp="nthRoot",Ove=["typed","matrix","equalScalar","BigNumber"],Dve=(0,$4.factory)(Hp,Ove,function(e){var r=e.typed,t=e.matrix,n=e.equalScalar,i=e.BigNumber,c=(0,gve.createAlgorithm01)({typed:r}),u=(0,bve.createAlgorithm02)({typed:r,equalScalar:n}),a=(0,_ve.createAlgorithm06)({typed:r,equalScalar:n}),s=(0,wve.createAlgorithm11)({typed:r,equalScalar:n}),o=(0,Sve.createAlgorithm13)({typed:r}),l=(0,xve.createAlgorithm14)({typed:r}),d="Complex number not supported in function nthRoot. Use nthRoots instead.",p=r(Hp,{number:function(h){return(0,Gp.nthRootNumber)(h,2)},"number, number":Gp.nthRootNumber,BigNumber:function(h){return f(h,new i(2))},Complex:function(h){throw new Error(d)},"Complex, number":function(h,m){throw new Error(d)},"BigNumber, BigNumber":f,"Array | Matrix":function(h){return p(h,2)},"SparseMatrix, SparseMatrix":function(h,m){if(m.density()===1)return a(h,m,p);throw new Error("Root must be non-zero")},"SparseMatrix, DenseMatrix":function(h,m){return u(m,h,p,!0)},"DenseMatrix, SparseMatrix":function(h,m){if(m.density()===1)return c(h,m,p,!1);throw new Error("Root must be non-zero")},"DenseMatrix, DenseMatrix":function(h,m){return o(h,m,p)},"Array, Array":function(h,m){return p(t(h),t(m)).valueOf()},"Array, Matrix":function(h,m){return p(t(h),m)},"Matrix, Array":function(h,m){return p(h,t(m))},"SparseMatrix, number | BigNumber":function(h,m){return s(h,m,p,!1)},"DenseMatrix, number | BigNumber":function(h,m){return l(h,m,p,!1)},"number | BigNumber, SparseMatrix":function(h,m){if(m.density()===1)return s(m,h,p,!0);throw new Error("Root must be non-zero")},"number | BigNumber, DenseMatrix":function(h,m){return l(m,h,p,!0)},"Array, number | BigNumber":function(h,m){return p(t(h),m).valueOf()},"number | BigNumber, Array":function(h,m){return p(h,t(m)).valueOf()}});return p;function f(v,h){var m=i.precision,y=i.clone({precision:m+2}),g=new i(0),b=new y(1),_=h.isNegative();if(_&&(h=h.neg()),h.isZero())throw new Error("Root must be non-zero");if(v.isNegative()&&!h.abs().mod(2).equals(1))throw new Error("Root must be odd when a is negative.");if(v.isZero())return _?new y(1/0):0;if(!v.isFinite())return _?g:v;var S=v.abs().pow(b.div(h));return S=v.isNeg()?S.neg():S,new i((_?b.div(S):S).toPrecision(m))}});Bo.createNthRoot=Dve;var Nve=(0,$4.factory)(Hp,["typed"],function(e){var r=e.typed;return r(Hp,{number:Gp.nthRootNumber,"number, number":Gp.nthRootNumber})});Bo.createNthRootNumber=Nve});var X4=D(Wp=>{"use strict";Object.defineProperty(Wp,"__esModule",{value:!0});Wp.createSign=void 0;var Cve=oe(),Ave=Qe(),Y4=rr(),Z4="sign",Mve=["typed","BigNumber","Fraction","complex"],Pve=(0,Cve.factory)(Z4,Mve,function(e){var r=e.typed,t=e.BigNumber,n=e.complex,i=e.Fraction,c=r(Z4,{number:Y4.signNumber,Complex:function(a){return a.im===0?n((0,Y4.signNumber)(a.re)):a.sign()},BigNumber:function(a){return new t(a.cmp(0))},Fraction:function(a){return new i(a.s,1)},"Array | Matrix":function(a){return(0,Ave.deepMap)(a,c,!0)},Unit:function(a){return c(a.value)}});return c});Wp.createSign=Pve});var K4=D($p=>{"use strict";Object.defineProperty($p,"__esModule",{value:!0});$p.createSqrt=void 0;var Eve=oe(),qve=Qe(),Ive="sqrt",Bve=["config","typed","Complex"],kve=(0,Eve.factory)(Ive,Bve,function(e){var r=e.config,t=e.typed,n=e.Complex,i=t("sqrt",{number:c,Complex:function(a){return a.sqrt()},BigNumber:function(a){return!a.isNegative()||r.predictable?a.sqrt():c(a.toNumber())},"Array | Matrix":function(a){return(0,qve.deepMap)(a,i,!0)},Unit:function(a){return a.pow(.5)}});function c(u){return isNaN(u)?NaN:u>=0||r.predictable?Math.sqrt(u):new n(u,0).sqrt()}return i});$p.createSqrt=kve});var r5=D(Qp=>{"use strict";Object.defineProperty(Qp,"__esModule",{value:!0});Qp.createSquare=void 0;var jve=oe(),Tve=Qe(),Rve=rr(),e5="square",Fve=["typed"],Lve=(0,jve.factory)(e5,Fve,function(e){var r=e.typed,t=r(e5,{number:Rve.squareNumber,Complex:function(i){return i.mul(i)},BigNumber:function(i){return i.times(i)},Fraction:function(i){return i.mul(i)},"Array | Matrix":function(i){return(0,Tve.deepMap)(i,t,!0)},Unit:function(i){return i.pow(2)}});return t});Qp.createSquare=Lve});var n5=D(Zp=>{"use strict";Object.defineProperty(Zp,"__esModule",{value:!0});Zp.createSubtract=void 0;var Uve=oe(),zve=vt(),Jve=Hi(),Vve=Vt(),Gve=Du(),Hve=Da(),Wve=Wr(),$ve=Ur(),t5="subtract",Qve=["typed","matrix","equalScalar","addScalar","unaryMinus","DenseMatrix"],Yve=(0,Uve.factory)(t5,Qve,function(e){var r=e.typed,t=e.matrix,n=e.equalScalar,i=e.addScalar,c=e.unaryMinus,u=e.DenseMatrix,a=(0,Jve.createAlgorithm01)({typed:r}),s=(0,Vve.createAlgorithm03)({typed:r}),o=(0,Gve.createAlgorithm05)({typed:r,equalScalar:n}),l=(0,Hve.createAlgorithm10)({typed:r,DenseMatrix:u}),d=(0,Wve.createAlgorithm13)({typed:r}),p=(0,$ve.createAlgorithm14)({typed:r}),f=r(t5,{"number, number":function(h,m){return h-m},"Complex, Complex":function(h,m){return h.sub(m)},"BigNumber, BigNumber":function(h,m){return h.minus(m)},"Fraction, Fraction":function(h,m){return h.sub(m)},"Unit, Unit":function(h,m){if(h.value===null)throw new Error("Parameter x contains a unit with undefined value");if(m.value===null)throw new Error("Parameter y contains a unit with undefined value");if(!h.equalBase(m))throw new Error("Units do not match");var y=h.clone();return y.value=f(y.value,m.value),y.fixPrefix=!1,y},"SparseMatrix, SparseMatrix":function(h,m){return Yp(h,m),o(h,m,f)},"SparseMatrix, DenseMatrix":function(h,m){return Yp(h,m),s(m,h,f,!0)},"DenseMatrix, SparseMatrix":function(h,m){return Yp(h,m),a(h,m,f,!1)},"DenseMatrix, DenseMatrix":function(h,m){return Yp(h,m),d(h,m,f)},"Array, Array":function(h,m){return f(t(h),t(m)).valueOf()},"Array, Matrix":function(h,m){return f(t(h),m)},"Matrix, Array":function(h,m){return f(h,t(m))},"SparseMatrix, any":function(h,m){return l(h,c(m),i)},"DenseMatrix, any":function(h,m){return p(h,m,f)},"any, SparseMatrix":function(h,m){return l(m,h,f,!0)},"any, DenseMatrix":function(h,m){return p(m,h,f,!0)},"Array, any":function(h,m){return p(t(h),m,f,!1).valueOf()},"any, Array":function(h,m){return p(t(m),h,f,!0).valueOf()}});return f});Zp.createSubtract=Yve;function Yp(e,r){var t=e.size(),n=r.size();if(t.length!==n.length)throw new zve.DimensionError(t.length,n.length)}});var a5=D(Xp=>{"use strict";Object.defineProperty(Xp,"__esModule",{value:!0});Xp.createXgcd=void 0;var Zve=oe(),Xve=rr(),i5="xgcd",Kve=["typed","config","matrix","BigNumber"],eme=(0,Zve.factory)(i5,Kve,function(e){var r=e.typed,t=e.config,n=e.matrix,i=e.BigNumber;return r(i5,{"number, number":function(a,s){var o=(0,Xve.xgcdNumber)(a,s);return t.matrix==="Array"?o:n(o)},"BigNumber, BigNumber":c});function c(u,a){var s,o,l,d=new i(0),p=new i(1),f=d,v=p,h=p,m=d;if(!u.isInt()||!a.isInt())throw new Error("Parameters in function xgcd must be integer numbers");for(;!a.isZero();)o=u.div(a).floor(),l=u.mod(a),s=f,f=v.minus(o.times(f)),v=s,s=h,h=m.minus(o.times(h)),m=s,u=a,a=l;var y;return u.lt(d)?y=[u.neg(),v.neg(),m.neg()]:y=[u,u.isZero()?0:v,m],t.matrix==="Array"?y:n(y)}});Xp.createXgcd=eme});var qC=D(Kp=>{"use strict";Object.defineProperty(Kp,"__esModule",{value:!0});Kp.createAlgorithm09=void 0;var rme=oe(),tme=vt(),nme="algorithm09",ime=["typed","equalScalar"],ame=(0,rme.factory)(nme,ime,function(e){var r=e.typed,t=e.equalScalar;return function(i,c,u){var a=i._values,s=i._index,o=i._ptr,l=i._size,d=i._datatype,p=c._values,f=c._index,v=c._ptr,h=c._size,m=c._datatype;if(l.length!==h.length)throw new tme.DimensionError(l.length,h.length);if(l[0]!==h[0]||l[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+h+")");var y=l[0],g=l[1],b,_=t,S=0,w=u;typeof d=="string"&&d===m&&(b=d,_=r.find(t,[b,b]),S=r.convert(0,b),w=r.find(u,[b,b]));var O=a&&p?[]:void 0,x=[],N=[],M=O?[]:void 0,I=[],q,z,R,j,L;for(z=0;z<g;z++){N[z]=x.length;var P=z+1;if(M)for(j=v[z],L=v[z+1],R=j;R<L;R++)q=f[R],I[q]=P,M[q]=p[R];for(j=o[z],L=o[z+1],R=j;R<L;R++)if(q=s[R],M){var V=I[q]===P?M[q]:S,E=w(a[R],V);_(E,S)||(x.push(q),O.push(E))}else x.push(q)}return N[g]=x.length,i.createSparseMatrix({values:O,index:x,ptr:N,size:[y,g],datatype:b})}});Kp.createAlgorithm09=ame});var o5=D(ef=>{"use strict";Object.defineProperty(ef,"__esModule",{value:!0});ef.createDotMultiply=void 0;var sme=oe(),ome=Ln(),cme=qC(),ume=Jt(),lme=Wr(),dme=Ur(),s5="dotMultiply",pme=["typed","matrix","equalScalar","multiplyScalar"],fme=(0,sme.factory)(s5,pme,function(e){var r=e.typed,t=e.matrix,n=e.equalScalar,i=e.multiplyScalar,c=(0,ome.createAlgorithm02)({typed:r,equalScalar:n}),u=(0,cme.createAlgorithm09)({typed:r,equalScalar:n}),a=(0,ume.createAlgorithm11)({typed:r,equalScalar:n}),s=(0,lme.createAlgorithm13)({typed:r}),o=(0,dme.createAlgorithm14)({typed:r}),l=r(s5,{"any, any":i,"SparseMatrix, SparseMatrix":function(p,f){return u(p,f,i,!1)},"SparseMatrix, DenseMatrix":function(p,f){return c(f,p,i,!0)},"DenseMatrix, SparseMatrix":function(p,f){return c(p,f,i,!1)},"DenseMatrix, DenseMatrix":function(p,f){return s(p,f,i)},"Array, Array":function(p,f){return l(t(p),t(f)).valueOf()},"Array, Matrix":function(p,f){return l(t(p),f)},"Matrix, Array":function(p,f){return l(p,t(f))},"SparseMatrix, any":function(p,f){return a(p,f,i,!1)},"DenseMatrix, any":function(p,f){return o(p,f,i,!1)},"any, SparseMatrix":function(p,f){return a(f,p,i,!0)},"any, DenseMatrix":function(p,f){return o(f,p,i,!0)},"Array, any":function(p,f){return o(t(p),f,i,!1).valueOf()},"any, Array":function(p,f){return o(t(f),p,i,!0).valueOf()}});return l});ef.createDotMultiply=fme});var Ms=D(Wi=>{"use strict";Object.defineProperty(Wi,"__esModule",{value:!0});Wi.bitAndBigNumber=hme;Wi.bitNotBigNumber=Nu;Wi.bitOrBigNumber=vme;Wi.bitwise=tf;Wi.bitXor=mme;Wi.leftShiftBigNumber=yme;Wi.rightArithShiftBigNumber=gme;function hme(e,r){if(e.isFinite()&&!e.isInteger()||r.isFinite()&&!r.isInteger())throw new Error("Integers expected in function bitAnd");var t=e.constructor;if(e.isNaN()||r.isNaN())return new t(NaN);if(e.isZero()||r.eq(-1)||e.eq(r))return e;if(r.isZero()||e.eq(-1))return r;if(!e.isFinite()||!r.isFinite()){if(!e.isFinite()&&!r.isFinite())return e.isNegative()===r.isNegative()?e:new t(0);if(!e.isFinite())return r.isNegative()?e:e.isNegative()?new t(0):r;if(!r.isFinite())return e.isNegative()?r:r.isNegative()?new t(0):e}return tf(e,r,function(n,i){return n&i})}function Nu(e){if(e.isFinite()&&!e.isInteger())throw new Error("Integer expected in function bitNot");var r=e.constructor,t=r.precision;r.config({precision:1e9});var n=e.plus(new r(1));return n.s=-n.s||null,r.config({precision:t}),n}function vme(e,r){if(e.isFinite()&&!e.isInteger()||r.isFinite()&&!r.isInteger())throw new Error("Integers expected in function bitOr");var t=e.constructor;if(e.isNaN()||r.isNaN())return new t(NaN);var n=new t(-1);return e.isZero()||r.eq(n)||e.eq(r)?r:r.isZero()||e.eq(n)?e:!e.isFinite()||!r.isFinite()?!e.isFinite()&&!e.isNegative()&&r.isNegative()||e.isNegative()&&!r.isNegative()&&!r.isFinite()?n:e.isNegative()&&r.isNegative()?e.isFinite()?e:r:e.isFinite()?r:e:tf(e,r,function(i,c){return i|c})}function tf(e,r,t){var n=e.constructor,i,c,u=+(e.s<0),a=+(r.s<0);if(u){i=rf(Nu(e));for(var s=0;s<i.length;++s)i[s]^=1}else i=rf(e);if(a){c=rf(Nu(r));for(var o=0;o<c.length;++o)c[o]^=1}else c=rf(r);var l,d,p;i.length<=c.length?(l=i,d=c,p=u):(l=c,d=i,p=a);var f=l.length,v=d.length,h=t(u,a)^1,m=new n(h^1),y=new n(1),g=new n(2),b=n.precision;for(n.config({precision:1e9});f>0;)t(l[--f],d[--v])===h&&(m=m.plus(y)),y=y.times(g);for(;v>0;)t(p,d[--v])===h&&(m=m.plus(y)),y=y.times(g);return n.config({precision:b}),h===0&&(m.s=-m.s),m}function rf(e){for(var r=e.d,t=r[0]+"",n=1;n<r.length;++n){for(var i=r[n]+"",c=7-i.length;c--;)i="0"+i;t+=i}for(var u=t.length;t.charAt(u)==="0";)u--;var a=e.e,s=t.slice(0,u+1||1),o=s.length;if(a>0)if(++a>o)for(a-=o;a--;)s+="0";else a<o&&(s=s.slice(0,a)+"."+s.slice(a));for(var l=[0],d=0;d<s.length;){for(var p=l.length;p--;)l[p]*=10;l[0]+=parseInt(s.charAt(d++));for(var f=0;f<l.length;++f)l[f]>1&&((l[f+1]===null||l[f+1]===void 0)&&(l[f+1]=0),l[f+1]+=l[f]>>1,l[f]&=1)}return l.reverse()}function mme(e,r){if(e.isFinite()&&!e.isInteger()||r.isFinite()&&!r.isInteger())throw new Error("Integers expected in function bitXor");var t=e.constructor;if(e.isNaN()||r.isNaN())return new t(NaN);if(e.isZero())return r;if(r.isZero())return e;if(e.eq(r))return new t(0);var n=new t(-1);return e.eq(n)?Nu(r):r.eq(n)?Nu(e):!e.isFinite()||!r.isFinite()?!e.isFinite()&&!r.isFinite()?n:new t(e.isNegative()===r.isNegative()?1/0:-1/0):tf(e,r,function(i,c){return i^c})}function yme(e,r){if(e.isFinite()&&!e.isInteger()||r.isFinite()&&!r.isInteger())throw new Error("Integers expected in function leftShift");var t=e.constructor;return e.isNaN()||r.isNaN()||r.isNegative()&&!r.isZero()?new t(NaN):e.isZero()||r.isZero()?e:!e.isFinite()&&!r.isFinite()?new t(NaN):r.lt(55)?e.times(Math.pow(2,r.toNumber())+""):e.times(new t(2).pow(r))}function gme(e,r){if(e.isFinite()&&!e.isInteger()||r.isFinite()&&!r.isInteger())throw new Error("Integers expected in function rightArithShift");var t=e.constructor;return e.isNaN()||r.isNaN()||r.isNegative()&&!r.isZero()?new t(NaN):e.isZero()||r.isZero()?e:r.isFinite()?r.lt(55)?e.div(Math.pow(2,r.toNumber())+"").floor():e.div(new t(2).pow(r)).floor():e.isNegative()?new t(-1):e.isFinite()?new t(0):new t(NaN)}});var u5=D(nf=>{"use strict";Object.defineProperty(nf,"__esModule",{value:!0});nf.createBitAnd=void 0;var bme=Ms(),_me=Ln(),wme=Jt(),Sme=Wr(),xme=Ur(),Ome=Ou(),Dme=oe(),Nme=rr(),c5="bitAnd",Cme=["typed","matrix","equalScalar"],Ame=(0,Dme.factory)(c5,Cme,function(e){var r=e.typed,t=e.matrix,n=e.equalScalar,i=(0,_me.createAlgorithm02)({typed:r,equalScalar:n}),c=(0,Ome.createAlgorithm06)({typed:r,equalScalar:n}),u=(0,wme.createAlgorithm11)({typed:r,equalScalar:n}),a=(0,Sme.createAlgorithm13)({typed:r}),s=(0,xme.createAlgorithm14)({typed:r}),o=r(c5,{"number, number":Nme.bitAndNumber,"BigNumber, BigNumber":bme.bitAndBigNumber,"SparseMatrix, SparseMatrix":function(d,p){return c(d,p,o,!1)},"SparseMatrix, DenseMatrix":function(d,p){return i(p,d,o,!0)},"DenseMatrix, SparseMatrix":function(d,p){return i(d,p,o,!1)},"DenseMatrix, DenseMatrix":function(d,p){return a(d,p,o)},"Array, Array":function(d,p){return o(t(d),t(p)).valueOf()},"Array, Matrix":function(d,p){return o(t(d),p)},"Matrix, Array":function(d,p){return o(d,t(p))},"SparseMatrix, any":function(d,p){return u(d,p,o,!1)},"DenseMatrix, any":function(d,p){return s(d,p,o,!1)},"any, SparseMatrix":function(d,p){return u(p,d,o,!0)},"any, DenseMatrix":function(d,p){return s(p,d,o,!0)},"Array, any":function(d,p){return s(t(d),p,o,!1).valueOf()},"any, Array":function(d,p){return s(t(p),d,o,!0).valueOf()}});return o});nf.createBitAnd=Ame});var d5=D(af=>{"use strict";Object.defineProperty(af,"__esModule",{value:!0});af.createBitNot=void 0;var Mme=Ms(),Pme=Qe(),Eme=oe(),qme=rr(),l5="bitNot",Ime=["typed"],Bme=(0,Eme.factory)(l5,Ime,function(e){var r=e.typed,t=r(l5,{number:qme.bitNotNumber,BigNumber:Mme.bitNotBigNumber,"Array | Matrix":function(i){return(0,Pme.deepMap)(i,t)}});return t});af.createBitNot=Bme});var f5=D(sf=>{"use strict";Object.defineProperty(sf,"__esModule",{value:!0});sf.createBitOr=void 0;var kme=Ms(),jme=oe(),Tme=Ur(),Rme=Wr(),Fme=Da(),Lme=Ap(),Ume=Hi(),zme=rr(),p5="bitOr",Jme=["typed","matrix","equalScalar","DenseMatrix"],Vme=(0,jme.factory)(p5,Jme,function(e){var r=e.typed,t=e.matrix,n=e.equalScalar,i=e.DenseMatrix,c=(0,Ume.createAlgorithm01)({typed:r}),u=(0,Lme.createAlgorithm04)({typed:r,equalScalar:n}),a=(0,Fme.createAlgorithm10)({typed:r,DenseMatrix:i}),s=(0,Rme.createAlgorithm13)({typed:r}),o=(0,Tme.createAlgorithm14)({typed:r}),l=r(p5,{"number, number":zme.bitOrNumber,"BigNumber, BigNumber":kme.bitOrBigNumber,"SparseMatrix, SparseMatrix":function(p,f){return u(p,f,l)},"SparseMatrix, DenseMatrix":function(p,f){return c(f,p,l,!0)},"DenseMatrix, SparseMatrix":function(p,f){return c(p,f,l,!1)},"DenseMatrix, DenseMatrix":function(p,f){return s(p,f,l)},"Array, Array":function(p,f){return l(t(p),t(f)).valueOf()},"Array, Matrix":function(p,f){return l(t(p),f)},"Matrix, Array":function(p,f){return l(p,t(f))},"SparseMatrix, any":function(p,f){return a(p,f,l,!1)},"DenseMatrix, any":function(p,f){return o(p,f,l,!1)},"any, SparseMatrix":function(p,f){return a(f,p,l,!0)},"any, DenseMatrix":function(p,f){return o(f,p,l,!0)},"Array, any":function(p,f){return o(t(p),f,l,!1).valueOf()},"any, Array":function(p,f){return o(t(f),p,l,!0).valueOf()}});return l});sf.createBitOr=Vme});var Kn=D(of=>{"use strict";Object.defineProperty(of,"__esModule",{value:!0});of.createAlgorithm07=void 0;var Gme=oe(),Hme=vt(),Wme="algorithm07",$me=["typed","DenseMatrix"],Qme=(0,Gme.factory)(Wme,$me,function(e){var r=e.typed,t=e.DenseMatrix;return function(c,u,a){var s=c._size,o=c._datatype,l=u._size,d=u._datatype;if(s.length!==l.length)throw new Hme.DimensionError(s.length,l.length);if(s[0]!==l[0]||s[1]!==l[1])throw new RangeError("Dimension mismatch. Matrix A ("+s+") must match Matrix B ("+l+")");var p=s[0],f=s[1],v,h=0,m=a;typeof o=="string"&&o===d&&(v=o,h=r.convert(0,v),m=r.find(a,[v,v]));var y,g,b=[];for(y=0;y<p;y++)b[y]=[];var _=[],S=[],w=[],O=[];for(g=0;g<f;g++){var x=g+1;for(n(c,g,w,_,x),n(u,g,O,S,x),y=0;y<p;y++){var N=w[y]===x?_[y]:h,M=O[y]===x?S[y]:h;b[y][g]=m(N,M)}}return new t({data:b,size:[p,f],datatype:v})};function n(i,c,u,a,s){for(var o=i._values,l=i._index,d=i._ptr,p=d[c],f=d[c+1];p<f;p++){var v=l[p];u[v]=s,a[v]=o[p]}}});of.createAlgorithm07=Qme});var v5=D(cf=>{"use strict";Object.defineProperty(cf,"__esModule",{value:!0});cf.createBitXor=void 0;var Yme=Ms(),Zme=Vt(),Xme=Kn(),Kme=Gt(),eye=Wr(),rye=Ur(),tye=oe(),nye=rr(),h5="bitXor",iye=["typed","matrix","DenseMatrix"],aye=(0,tye.factory)(h5,iye,function(e){var r=e.typed,t=e.matrix,n=e.DenseMatrix,i=(0,Zme.createAlgorithm03)({typed:r}),c=(0,Xme.createAlgorithm07)({typed:r,DenseMatrix:n}),u=(0,Kme.createAlgorithm12)({typed:r,DenseMatrix:n}),a=(0,eye.createAlgorithm13)({typed:r}),s=(0,rye.createAlgorithm14)({typed:r}),o=r(h5,{"number, number":nye.bitXorNumber,"BigNumber, BigNumber":Yme.bitXor,"SparseMatrix, SparseMatrix":function(d,p){return c(d,p,o)},"SparseMatrix, DenseMatrix":function(d,p){return i(p,d,o,!0)},"DenseMatrix, SparseMatrix":function(d,p){return i(d,p,o,!1)},"DenseMatrix, DenseMatrix":function(d,p){return a(d,p,o)},"Array, Array":function(d,p){return o(t(d),t(p)).valueOf()},"Array, Matrix":function(d,p){return o(t(d),p)},"Matrix, Array":function(d,p){return o(d,t(p))},"SparseMatrix, any":function(d,p){return u(d,p,o,!1)},"DenseMatrix, any":function(d,p){return s(d,p,o,!1)},"any, SparseMatrix":function(d,p){return u(p,d,o,!0)},"any, DenseMatrix":function(d,p){return s(p,d,o,!0)},"Array, any":function(d,p){return s(t(d),p,o,!1).valueOf()},"any, Array":function(d,p){return s(t(p),d,o,!0).valueOf()}});return o});cf.createBitXor=aye});var y5=D(uf=>{"use strict";Object.defineProperty(uf,"__esModule",{value:!0});uf.createArg=void 0;var sye=oe(),oye=Qe(),m5="arg",cye=["typed"],uye=(0,sye.factory)(m5,cye,function(e){var r=e.typed,t=r(m5,{number:function(i){return Math.atan2(0,i)},BigNumber:function(i){return i.constructor.atan2(0,i)},Complex:function(i){return i.arg()},"Array | Matrix":function(i){return(0,oye.deepMap)(i,t)}});return t});uf.createArg=uye});var b5=D(lf=>{"use strict";Object.defineProperty(lf,"__esModule",{value:!0});lf.createConj=void 0;var lye=oe(),dye=Qe(),g5="conj",pye=["typed"],fye=(0,lye.factory)(g5,pye,function(e){var r=e.typed,t=r(g5,{number:function(i){return i},BigNumber:function(i){return i},Complex:function(i){return i.conjugate()},"Array | Matrix":function(i){return(0,dye.deepMap)(i,t)}});return t});lf.createConj=fye});var w5=D(df=>{"use strict";Object.defineProperty(df,"__esModule",{value:!0});df.createIm=void 0;var hye=oe(),vye=Qe(),_5="im",mye=["typed"],yye=(0,hye.factory)(_5,mye,function(e){var r=e.typed,t=r(_5,{number:function(i){return 0},BigNumber:function(i){return i.mul(0)},Complex:function(i){return i.im},"Array | Matrix":function(i){return(0,vye.deepMap)(i,t)}});return t});df.createIm=yye});var x5=D(pf=>{"use strict";Object.defineProperty(pf,"__esModule",{value:!0});pf.createRe=void 0;var gye=oe(),bye=Qe(),S5="re",_ye=["typed"],wye=(0,gye.factory)(S5,_ye,function(e){var r=e.typed,t=r(S5,{number:function(i){return i},BigNumber:function(i){return i},Complex:function(i){return i.re},"Array | Matrix":function(i){return(0,bye.deepMap)(i,t)}});return t});pf.createRe=wye});var D5=D(ff=>{"use strict";Object.defineProperty(ff,"__esModule",{value:!0});ff.createNot=void 0;var Sye=Qe(),xye=oe(),Oye=rr(),O5="not",Dye=["typed"],Nye=(0,xye.factory)(O5,Dye,function(e){var r=e.typed,t=r(O5,{number:Oye.notNumber,Complex:function(i){return i.re===0&&i.im===0},BigNumber:function(i){return i.isZero()||i.isNaN()},Unit:function(i){return i.value!==null?t(i.value):!0},"Array | Matrix":function(i){return(0,Sye.deepMap)(i,t)}});return t});ff.createNot=Nye});var C5=D(hf=>{"use strict";Object.defineProperty(hf,"__esModule",{value:!0});hf.createOr=void 0;var Cye=Vt(),Aye=Gt(),Mye=Wr(),Pye=Ur(),Eye=Du(),qye=oe(),Iye=rr(),N5="or",Bye=["typed","matrix","equalScalar","DenseMatrix"],kye=(0,qye.factory)(N5,Bye,function(e){var r=e.typed,t=e.matrix,n=e.equalScalar,i=e.DenseMatrix,c=(0,Cye.createAlgorithm03)({typed:r}),u=(0,Eye.createAlgorithm05)({typed:r,equalScalar:n}),a=(0,Aye.createAlgorithm12)({typed:r,DenseMatrix:i}),s=(0,Mye.createAlgorithm13)({typed:r}),o=(0,Pye.createAlgorithm14)({typed:r}),l=r(N5,{"number, number":Iye.orNumber,"Complex, Complex":function(p,f){return p.re!==0||p.im!==0||f.re!==0||f.im!==0},"BigNumber, BigNumber":function(p,f){return!p.isZero()&&!p.isNaN()||!f.isZero()&&!f.isNaN()},"Unit, Unit":function(p,f){return l(p.value||0,f.value||0)},"SparseMatrix, SparseMatrix":function(p,f){return u(p,f,l)},"SparseMatrix, DenseMatrix":function(p,f){return c(f,p,l,!0)},"DenseMatrix, SparseMatrix":function(p,f){return c(p,f,l,!1)},"DenseMatrix, DenseMatrix":function(p,f){return s(p,f,l)},"Array, Array":function(p,f){return l(t(p),t(f)).valueOf()},"Array, Matrix":function(p,f){return l(t(p),f)},"Matrix, Array":function(p,f){return l(p,t(f))},"SparseMatrix, any":function(p,f){return a(p,f,l,!1)},"DenseMatrix, any":function(p,f){return o(p,f,l,!1)},"any, SparseMatrix":function(p,f){return a(f,p,l,!0)},"any, DenseMatrix":function(p,f){return o(f,p,l,!0)},"Array, any":function(p,f){return o(t(p),f,l,!1).valueOf()},"any, Array":function(p,f){return o(t(f),p,l,!0).valueOf()}});return l});hf.createOr=kye});var M5=D(vf=>{"use strict";Object.defineProperty(vf,"__esModule",{value:!0});vf.createXor=void 0;var jye=Vt(),Tye=Kn(),Rye=Gt(),Fye=Wr(),Lye=Ur(),Uye=oe(),zye=rr(),A5="xor",Jye=["typed","matrix","DenseMatrix"],Vye=(0,Uye.factory)(A5,Jye,function(e){var r=e.typed,t=e.matrix,n=e.DenseMatrix,i=(0,jye.createAlgorithm03)({typed:r}),c=(0,Tye.createAlgorithm07)({typed:r,DenseMatrix:n}),u=(0,Rye.createAlgorithm12)({typed:r,DenseMatrix:n}),a=(0,Fye.createAlgorithm13)({typed:r}),s=(0,Lye.createAlgorithm14)({typed:r}),o=r(A5,{"number, number":zye.xorNumber,"Complex, Complex":function(d,p){return(d.re!==0||d.im!==0)!=(p.re!==0||p.im!==0)},"BigNumber, BigNumber":function(d,p){return(!d.isZero()&&!d.isNaN())!=(!p.isZero()&&!p.isNaN())},"Unit, Unit":function(d,p){return o(d.value||0,p.value||0)},"SparseMatrix, SparseMatrix":function(d,p){return c(d,p,o)},"SparseMatrix, DenseMatrix":function(d,p){return i(p,d,o,!0)},"DenseMatrix, SparseMatrix":function(d,p){return i(d,p,o,!1)},"DenseMatrix, DenseMatrix":function(d,p){return a(d,p,o)},"Array, Array":function(d,p){return o(t(d),t(p)).valueOf()},"Array, Matrix":function(d,p){return o(t(d),p)},"Matrix, Array":function(d,p){return o(d,t(p))},"SparseMatrix, any":function(d,p){return u(d,p,o,!1)},"DenseMatrix, any":function(d,p){return s(d,p,o,!1)},"any, SparseMatrix":function(d,p){return u(p,d,o,!0)},"any, DenseMatrix":function(d,p){return s(p,d,o,!0)},"Array, any":function(d,p){return s(t(d),p,o,!1).valueOf()},"any, Array":function(d,p){return s(t(p),d,o,!0).valueOf()}});return o});vf.createXor=Vye});var BC=D(mf=>{"use strict";Object.defineProperty(mf,"__esModule",{value:!0});mf.createConcat=void 0;var IC=He(),Gye=yr(),Hye=er(),Wye=Li(),E5=vt(),$ye=oe(),P5="concat",Qye=["typed","matrix","isInteger"],Yye=(0,$ye.factory)(P5,Qye,function(e){var r=e.typed,t=e.matrix,n=e.isInteger;return r(P5,{"...Array | Matrix | number | BigNumber":function(c){var u,a=c.length,s=-1,o,l=!1,d=[];for(u=0;u<a;u++){var p=c[u];if((0,IC.isMatrix)(p)&&(l=!0),(0,IC.isNumber)(p)||(0,IC.isBigNumber)(p)){if(u!==a-1)throw new Error("Dimension must be specified as last argument");if(o=s,s=p.valueOf(),!n(s))throw new TypeError("Integer number expected for dimension");if(s<0||u>0&&s>o)throw new Wye.IndexError(s,o+1)}else{var f=(0,Gye.clone)(p).valueOf(),v=(0,Hye.arraySize)(f);if(d[u]=f,o=s,s=v.length-1,u>0&&s!==o)throw new E5.DimensionError(o+1,s+1)}}if(d.length===0)throw new SyntaxError("At least one matrix expected");for(var h=d.shift();d.length;)h=q5(h,d.shift(),s,0);return l?t(h):h},"...string":function(c){return c.join("")}})});mf.createConcat=Yye;function q5(e,r,t,n){if(n<t){if(e.length!==r.length)throw new E5.DimensionError(e.length,r.length);for(var i=[],c=0;c<e.length;c++)i[c]=q5(e[c],r[c],t,n+1);return i}else return e.concat(r)}});var kC=D(yf=>{"use strict";Object.defineProperty(yf,"__esModule",{value:!0});yf.createColumn=void 0;var Zye=oe(),Xye=yr(),Kye=er(),I5="column",ege=["typed","Index","matrix","range"],rge=(0,Zye.factory)(I5,ege,function(e){var r=e.typed,t=e.Index,n=e.matrix,i=e.range,c=r(I5,{"Matrix, number":u,"Array, number":function(s,o){return u(n((0,Xye.clone)(s)),o).valueOf()}});return c;function u(a,s){if(a.size().length!==2)throw new Error("Only two dimensional matrix is supported");(0,Kye.validateIndex)(s,a.size()[1]);var o=i(0,a.size()[0]),l=new t(o,s);return a.subset(l)}});yf.createColumn=rge});var k5=D(gf=>{"use strict";Object.defineProperty(gf,"__esModule",{value:!0});gf.createCross=void 0;var ko=er(),tge=oe(),B5="cross",nge=["typed","matrix","subtract","multiply"],ige=(0,tge.factory)(B5,nge,function(e){var r=e.typed,t=e.matrix,n=e.subtract,i=e.multiply;return r(B5,{"Matrix, Matrix":function(a,s){return t(c(a.toArray(),s.toArray()))},"Matrix, Array":function(a,s){return t(c(a.toArray(),s))},"Array, Matrix":function(a,s){return t(c(a,s.toArray()))},"Array, Array":c});function c(u,a){var s=Math.max((0,ko.arraySize)(u).length,(0,ko.arraySize)(a).length);u=(0,ko.squeeze)(u),a=(0,ko.squeeze)(a);var o=(0,ko.arraySize)(u),l=(0,ko.arraySize)(a);if(o.length!==1||l.length!==1||o[0]!==3||l[0]!==3)throw new RangeError("Vectors with length 3 expected (Size A = ["+o.join(", ")+"], B = ["+l.join(", ")+"])");var d=[n(i(u[1],a[2]),i(u[2],a[1])),n(i(u[2],a[0]),i(u[0],a[2])),n(i(u[0],a[1]),i(u[1],a[0]))];return s>1?[d]:d}});gf.createCross=ige});var T5=D(bf=>{"use strict";Object.defineProperty(bf,"__esModule",{value:!0});bf.createDiag=void 0;var age=He(),jo=er(),sge=gr(),oge=oe(),j5="diag",cge=["typed","matrix","DenseMatrix","SparseMatrix"],uge=(0,oge.factory)(j5,cge,function(e){var r=e.typed,t=e.matrix,n=e.DenseMatrix,i=e.SparseMatrix;return r(j5,{Array:function(o){return c(o,0,(0,jo.arraySize)(o),null)},"Array, number":function(o,l){return c(o,l,(0,jo.arraySize)(o),null)},"Array, BigNumber":function(o,l){return c(o,l.toNumber(),(0,jo.arraySize)(o),null)},"Array, string":function(o,l){return c(o,0,(0,jo.arraySize)(o),l)},"Array, number, string":function(o,l,d){return c(o,l,(0,jo.arraySize)(o),d)},"Array, BigNumber, string":function(o,l,d){return c(o,l.toNumber(),(0,jo.arraySize)(o),d)},Matrix:function(o){return c(o,0,o.size(),o.storage())},"Matrix, number":function(o,l){return c(o,l,o.size(),o.storage())},"Matrix, BigNumber":function(o,l){return c(o,l.toNumber(),o.size(),o.storage())},"Matrix, string":function(o,l){return c(o,0,o.size(),l)},"Matrix, number, string":function(o,l,d){return c(o,l,o.size(),d)},"Matrix, BigNumber, string":function(o,l,d){return c(o,l.toNumber(),o.size(),d)}});function c(s,o,l,d){if(!(0,sge.isInteger)(o))throw new TypeError("Second parameter in function diag must be an integer");var p=o>0?o:0,f=o<0?-o:0;switch(l.length){case 1:return u(s,o,d,l[0],f,p);case 2:return a(s,o,d,l,f,p)}throw new RangeError("Matrix for function diag must be 2 dimensional")}function u(s,o,l,d,p,f){var v=[d+p,d+f];if(l&&l!=="sparse"&&l!=="dense")throw new TypeError("Unknown matrix type ".concat(l,'"'));var h=l==="sparse"?i.diagonal(v,s,o):n.diagonal(v,s,o);return l!==null?h:h.valueOf()}function a(s,o,l,d,p,f){if((0,age.isMatrix)(s)){var v=s.diagonal(o);return l!==null?l!==v.storage()?t(v,l):v:v.valueOf()}for(var h=Math.min(d[0]-p,d[1]-f),m=[],y=0;y<h;y++)m[y]=s[y+p][y+f];return l!==null?t(m):m}});bf.createDiag=uge});var R5=D(_f=>{"use strict";Object.defineProperty(_f,"__esModule",{value:!0});_f.createEye=void 0;var lge=oe(),dge=(0,lge.factory)("eye",[],function(){return function(){throw new Error('Function "eye" is renamed to "identity" since mathjs version 5.0.0. To keep eye working, create an alias for it using "math.import({eye: math.identity}, {override: true})"')}});_f.createEye=dge});var Na=D(Cu=>{"use strict";Object.defineProperty(Cu,"__esModule",{value:!0});Cu.memoize=pge;Cu.memoizeCompare=fge;Cu.maxArgumentCount=hge;function wf(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?wf=function(t){return typeof t}:wf=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wf(e)}function pge(e,r){return function t(){wf(t.cache)!=="object"&&(t.cache={});for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var c=r?r(n):JSON.stringify(n);return c in t.cache||(t.cache[c]=e.apply(e,n)),t.cache[c]}}function fge(e,r){var t=function n(){for(var i=[],c=0;c<arguments.length;c++)i[c]=arguments[c];for(var u=0;u<n.cache.length;u++){var a=n.cache[u];if(r(i,a.args))return a.res}var s=e.apply(e,i);return n.cache.unshift({args:i,res:s}),s};return t.cache=[],t}function hge(e){return Object.keys(e.signatures||{}).reduce(function(r,t){var n=(t.match(/,/g)||[]).length+1;return Math.max(r,n)},-1)}});var L5=D(Sf=>{"use strict";Object.defineProperty(Sf,"__esModule",{value:!0});Sf.createFilter=void 0;var jC=er(),vge=Na(),mge=oe(),yge="filter",gge=["typed"],bge=(0,mge.factory)(yge,gge,function(e){var r=e.typed;return r("filter",{"Array, function":F5,"Matrix, function":function(n,i){return n.create(F5(n.toArray(),i))},"Array, RegExp":jC.filterRegExp,"Matrix, RegExp":function(n,i){return n.create((0,jC.filterRegExp)(n.toArray(),i))}})});Sf.createFilter=bge;function F5(e,r){var t=(0,vge.maxArgumentCount)(r);return(0,jC.filter)(e,function(n,i,c){return t===1?r(n):t===2?r(n,[i]):r(n,[i],c)})}});var V5=D(xf=>{"use strict";Object.defineProperty(xf,"__esModule",{value:!0});xf.createFlatten=void 0;var U5=yr(),z5=er(),_ge=oe(),J5="flatten",wge=["typed","matrix"],Sge=(0,_ge.factory)(J5,wge,function(e){var r=e.typed,t=e.matrix;return r(J5,{Array:function(i){return(0,z5.flatten)((0,U5.clone)(i))},Matrix:function(i){var c=(0,z5.flatten)((0,U5.clone)(i.toArray()));return t(c)}})});xf.createFlatten=Sge});var H5=D(Of=>{"use strict";Object.defineProperty(Of,"__esModule",{value:!0});Of.createForEach=void 0;var xge=Na(),Oge=er(),Dge=oe(),G5="forEach",Nge=["typed"],Cge=(0,Dge.factory)(G5,Nge,function(e){var r=e.typed;return r(G5,{"Array, function":Age,"Matrix, function":function(n,i){return n.forEach(i)}})});Of.createForEach=Cge;function Age(e,r){var t=(0,xge.maxArgumentCount)(r),n=function i(c,u){Array.isArray(c)?(0,Oge.forEach)(c,function(a,s){i(a,u.concat(s))}):t===1?r(c):t===2?r(c,u):r(c,u,e)};n(e,[])}});var $5=D(Df=>{"use strict";Object.defineProperty(Df,"__esModule",{value:!0});Df.createGetMatrixDataType=void 0;var Mge=oe(),Pge=er(),Ege=He(),W5="getMatrixDataType",qge=["typed"],Ige=(0,Mge.factory)(W5,qge,function(e){var r=e.typed;return r(W5,{Array:function(n){return(0,Pge.getArrayDataType)(n,Ege.typeOf)},Matrix:function(n){return n.getDataType()}})});Df.createGetMatrixDataType=Ige});var Z5=D(Cf=>{"use strict";Object.defineProperty(Cf,"__esModule",{value:!0});Cf.createIdentity=void 0;var Nf=He(),Bge=er(),Q5=gr(),kge=oe(),Y5="identity",jge=["typed","config","matrix","BigNumber","DenseMatrix","SparseMatrix"],Tge=(0,kge.factory)(Y5,jge,function(e){var r=e.typed,t=e.config,n=e.matrix,i=e.BigNumber,c=e.DenseMatrix,u=e.SparseMatrix;return r(Y5,{"":function(){return t.matrix==="Matrix"?n([]):[]},string:function(l){return n(l)},"number | BigNumber":function(l){return s(l,l,t.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, string":function(l,d){return s(l,l,d)},"number | BigNumber, number | BigNumber":function(l,d){return s(l,d,t.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, number | BigNumber, string":function(l,d,p){return s(l,d,p)},Array:function(l){return a(l)},"Array, string":function(l,d){return a(l,d)},Matrix:function(l){return a(l.valueOf(),l.storage())},"Matrix, string":function(l,d){return a(l.valueOf(),d)}});function a(o,l){switch(o.length){case 0:return l?n(l):[];case 1:return s(o[0],o[0],l);case 2:return s(o[0],o[1],l);default:throw new Error("Vector containing two values expected")}}function s(o,l,d){var p=(0,Nf.isBigNumber)(o)||(0,Nf.isBigNumber)(l)?i:null;if((0,Nf.isBigNumber)(o)&&(o=o.toNumber()),(0,Nf.isBigNumber)(l)&&(l=l.toNumber()),!(0,Q5.isInteger)(o)||o<1)throw new Error("Parameters in function identity must be positive integers");if(!(0,Q5.isInteger)(l)||l<1)throw new Error("Parameters in function identity must be positive integers");var f=p?new i(1):1,v=p?new p(0):0,h=[o,l];if(d){if(d==="sparse")return u.diagonal(h,f,0,v);if(d==="dense")return c.diagonal(h,f,0,v);throw new TypeError('Unknown matrix type "'.concat(d,'"'))}for(var m=(0,Bge.resize)([],h,v),y=o<l?o:l,g=0;g<y;g++)m[g][g]=f;return m}});Cf.createIdentity=Tge});var K5=D(Mf=>{"use strict";Object.defineProperty(Mf,"__esModule",{value:!0});Mf.createKron=void 0;var Af=er(),Rge=oe(),X5="kron",Fge=["typed","matrix","multiplyScalar"],Lge=(0,Rge.factory)(X5,Fge,function(e){var r=e.typed,t=e.matrix,n=e.multiplyScalar;return r(X5,{"Matrix, Matrix":function(u,a){return t(i(u.toArray(),a.toArray()))},"Matrix, Array":function(u,a){return t(i(u.toArray(),a))},"Array, Matrix":function(u,a){return t(i(u,a.toArray()))},"Array, Array":i});function i(c,u){if((0,Af.arraySize)(c).length===1&&(c=[c]),(0,Af.arraySize)(u).length===1&&(u=[u]),(0,Af.arraySize)(c).length>2||(0,Af.arraySize)(u).length>2)throw new RangeError("Vectors with dimensions greater then 2 are not supported expected (Size x = "+JSON.stringify(c.length)+", y = "+JSON.stringify(u.length)+")");var a=[],s=[];return c.map(function(o){return u.map(function(l){return s=[],a.push(s),o.map(function(d){return l.map(function(p){return s.push(n(d,p))})})})})&&a}});Mf.createKron=Lge});var r6=D(Pf=>{"use strict";Object.defineProperty(Pf,"__esModule",{value:!0});Pf.createMap=void 0;var Uge=Na(),zge=oe(),e6="map",Jge=["typed"],Vge=(0,zge.factory)(e6,Jge,function(e){var r=e.typed;return r(e6,{"Array, function":Gge,"Matrix, function":function(n,i){return n.map(i)}})});Pf.createMap=Vge;function Gge(e,r){var t=(0,Uge.maxArgumentCount)(r),n=function i(c,u){return Array.isArray(c)?c.map(function(a,s){return i(a,u.concat(s))}):t===1?r(c):t===2?r(c,u):r(c,u,e)};return n(e,[])}});var t6=D(Ef=>{"use strict";Object.defineProperty(Ef,"__esModule",{value:!0});Ef.createOnes=void 0;var Hge=He(),Wge=gr(),$ge=er(),Qge=oe(),Yge="ones",Zge=["typed","config","matrix","BigNumber"],Xge=(0,Qge.factory)(Yge,Zge,function(e){var r=e.typed,t=e.config,n=e.matrix,i=e.BigNumber;return r("ones",{"":function(){return t.matrix==="Array"?c([]):c([],"default")},"...number | BigNumber | string":function(o){var l=o[o.length-1];if(typeof l=="string"){var d=o.pop();return c(o,d)}else return t.matrix==="Array"?c(o):c(o,"default")},Array:c,Matrix:function(o){var l=o.storage();return c(o.valueOf(),l)},"Array | Matrix, string":function(o,l){return c(o.valueOf(),l)}});function c(s,o){var l=u(s),d=l?new i(1):1;if(a(s),o){var p=n(o);return s.length>0?p.resize(s,d):p}else{var f=[];return s.length>0?(0,$ge.resize)(f,s,d):f}}function u(s){var o=!1;return s.forEach(function(l,d,p){(0,Hge.isBigNumber)(l)&&(o=!0,p[d]=l.toNumber())}),o}function a(s){s.forEach(function(o){if(typeof o!="number"||!(0,Wge.isInteger)(o)||o<0)throw new Error("Parameters in function ones must be positive integers")})}});Ef.createOnes=Xge});var To=D(Ps=>{"use strict";Object.defineProperty(Ps,"__esModule",{value:!0});Ps.noBignumber=Kge;Ps.noFraction=ebe;Ps.noMatrix=rbe;Ps.noIndex=tbe;Ps.noSubset=nbe;function Kge(){throw new Error('No "bignumber" implementation available')}function ebe(){throw new Error('No "fraction" implementation available')}function rbe(){throw new Error('No "matrix" implementation available')}function tbe(){throw new Error('No "index" implementation available')}function nbe(){throw new Error('No "matrix" implementation available')}});var TC=D(qf=>{"use strict";Object.defineProperty(qf,"__esModule",{value:!0});qf.createRange=void 0;var ibe=oe(),n6=To(),i6="range",abe=["typed","config","?matrix","?bignumber","smaller","smallerEq","larger","largerEq"],sbe=(0,ibe.factory)(i6,abe,function(e){var r=e.typed,t=e.config,n=e.matrix,i=e.bignumber,c=e.smaller,u=e.smallerEq,a=e.larger,s=e.largerEq;return r(i6,{string:l,"string, boolean":l,"number, number":function(y,g){return o(d(y,g,1))},"number, number, number":function(y,g,b){return o(d(y,g,b))},"number, number, boolean":function(y,g,b){return o(b?p(y,g,1):d(y,g,1))},"number, number, number, boolean":function(y,g,b,_){return o(_?p(y,g,b):d(y,g,b))},"BigNumber, BigNumber":function(y,g){var b=y.constructor;return o(f(y,g,new b(1)))},"BigNumber, BigNumber, BigNumber":function(y,g,b){return o(f(y,g,b))},"BigNumber, BigNumber, boolean":function(y,g,b){var _=y.constructor;return o(b?v(y,g,new _(1)):f(y,g,new _(1)))},"BigNumber, BigNumber, BigNumber, boolean":function(y,g,b,_){return o(_?v(y,g,b):f(y,g,b))}});function o(m){return t.matrix==="Matrix"?n?n(m):(0,n6.noMatrix)():m}function l(m,y){var g=h(m);if(!g)throw new SyntaxError('String "'+m+'" is no valid range');var b;return t.number==="BigNumber"?(i===void 0&&(0,n6.noBignumber)(),b=y?v:f,o(b(i(g.start),i(g.end),i(g.step)))):(b=y?p:d,o(b(g.start,g.end,g.step)))}function d(m,y,g){var b=[],_=m;if(g>0)for(;c(_,y);)b.push(_),_+=g;else if(g<0)for(;a(_,y);)b.push(_),_+=g;return b}function p(m,y,g){var b=[],_=m;if(g>0)for(;u(_,y);)b.push(_),_+=g;else if(g<0)for(;s(_,y);)b.push(_),_+=g;return b}function f(m,y,g){var b=i(0),_=[],S=m;if(g.gt(b))for(;c(S,y);)_.push(S),S=S.plus(g);else if(g.lt(b))for(;a(S,y);)_.push(S),S=S.plus(g);return _}function v(m,y,g){var b=i(0),_=[],S=m;if(g.gt(b))for(;u(S,y);)_.push(S),S=S.plus(g);else if(g.lt(b))for(;s(S,y);)_.push(S),S=S.plus(g);return _}function h(m){var y=m.split(":"),g=y.map(function(_){return Number(_)}),b=g.some(function(_){return isNaN(_)});if(b)return null;switch(g.length){case 2:return{start:g[0],end:g[1],step:1};case 3:return{start:g[0],end:g[2],step:g[1]};default:return null}}});qf.createRange=sbe});var o6=D(If=>{"use strict";Object.defineProperty(If,"__esModule",{value:!0});If.createReshape=void 0;var a6=er(),obe=oe(),s6="reshape",cbe=["typed","isInteger","matrix"],ube=(0,obe.factory)(s6,cbe,function(e){var r=e.typed,t=e.isInteger,n=e.matrix;return r(s6,{"Matrix, Array":function(c,u){return c.reshape?c.reshape(u):n((0,a6.reshape)(c.valueOf(),u))},"Array, Array":function(c,u){return u.forEach(function(a){if(!t(a))throw new TypeError("Invalid size for dimension: "+a)}),(0,a6.reshape)(c,u)}})});If.createReshape=ube});var Fo=D(RC=>{"use strict";Object.defineProperty(RC,"__esModule",{value:!0});RC.ArgumentsError=Ro;function Ro(e,r,t,n){if(!(this instanceof Ro))throw new SyntaxError("Constructor must be called with the new operator");this.fn=e,this.count=r,this.min=t,this.max=n,this.message="Wrong number of arguments in function "+e+" ("+r+" provided, "+t+(n!=null?"-"+n:"")+" expected)",this.stack=new Error().stack}Ro.prototype=new Error;Ro.prototype.constructor=Error;Ro.prototype.name="ArgumentsError";Ro.prototype.isArgumentsError=!0});var u6=D(kf=>{"use strict";Object.defineProperty(kf,"__esModule",{value:!0});kf.createResize=void 0;var Bf=He(),lbe=vt(),dbe=Fo(),pbe=gr(),fbe=Xr(),c6=yr(),hbe=er(),vbe=oe(),mbe="resize",ybe=["config","matrix"],gbe=(0,vbe.factory)(mbe,ybe,function(e){var r=e.config,t=e.matrix;return function(c,u,a){if(arguments.length!==2&&arguments.length!==3)throw new dbe.ArgumentsError("resize",arguments.length,2,3);if((0,Bf.isMatrix)(u)&&(u=u.valueOf()),(0,Bf.isBigNumber)(u[0])&&(u=u.map(function(l){return(0,Bf.isBigNumber)(l)?l.toNumber():l})),(0,Bf.isMatrix)(c))return c.resize(u,a,!0);if(typeof c=="string")return n(c,u,a);var s=Array.isArray(c)?!1:r.matrix!=="Array";if(u.length===0){for(;Array.isArray(c);)c=c[0];return(0,c6.clone)(c)}else{Array.isArray(c)||(c=[c]),c=(0,c6.clone)(c);var o=(0,hbe.resize)(c,u,a);return s?t(o):o}};function n(i,c,u){if(u!==void 0){if(typeof u!="string"||u.length!==1)throw new TypeError("Single character expected as defaultValue")}else u=" ";if(c.length!==1)throw new lbe.DimensionError(c.length,1);var a=c[0];if(typeof a!="number"||!(0,pbe.isInteger)(a))throw new TypeError("Invalid size, must contain positive integers (size: "+(0,fbe.format)(c)+")");if(i.length>a)return i.substring(0,a);if(i.length<a){for(var s=i,o=0,l=a-i.length;o<l;o++)s+=u;return s}else return i}});kf.createResize=gbe});var FC=D(jf=>{"use strict";Object.defineProperty(jf,"__esModule",{value:!0});jf.createRow=void 0;var bbe=oe(),_be=yr(),wbe=er(),l6="row",Sbe=["typed","Index","matrix","range"],xbe=(0,bbe.factory)(l6,Sbe,function(e){var r=e.typed,t=e.Index,n=e.matrix,i=e.range,c=r(l6,{"Matrix, number":u,"Array, number":function(s,o){return u(n((0,_be.clone)(s)),o).valueOf()}});return c;function u(a,s){if(a.size().length!==2)throw new Error("Only two dimensional matrix is supported");(0,wbe.validateIndex)(s,a.size()[0]);var o=i(0,a.size()[1]),l=new t(s,o);return a.subset(l)}});jf.createRow=xbe});var p6=D(Tf=>{"use strict";Object.defineProperty(Tf,"__esModule",{value:!0});Tf.createSize=void 0;var Obe=er(),Dbe=oe(),Nbe=To(),d6="size",Cbe=["typed","config","?matrix"],Abe=(0,Dbe.factory)(d6,Cbe,function(e){var r=e.typed,t=e.config,n=e.matrix;return r(d6,{Matrix:function(c){return c.create(c.size())},Array:Obe.arraySize,string:function(c){return t.matrix==="Array"?[c.length]:n([c.length])},"number | Complex | BigNumber | Unit | boolean | null":function(c){return t.matrix==="Array"?[]:n?n([]):(0,Nbe.noMatrix)()}})});Tf.createSize=Abe});var m6=D(Rf=>{"use strict";Object.defineProperty(Rf,"__esModule",{value:!0});Rf.createSqueeze=void 0;var f6=yr(),h6=er(),Mbe=oe(),v6="squeeze",Pbe=["typed","matrix"],Ebe=(0,Mbe.factory)(v6,Pbe,function(e){var r=e.typed,t=e.matrix;return r(v6,{Array:function(i){return(0,h6.squeeze)((0,f6.clone)(i))},Matrix:function(i){var c=(0,h6.squeeze)(i.toArray());return Array.isArray(c)?t(c):c},any:function(i){return(0,f6.clone)(i)}})});Rf.createSqueeze=Ebe});var pn=D(Ca=>{"use strict";Object.defineProperty(Ca,"__esModule",{value:!0});Ca.getSafeProperty=qbe;Ca.setSafeProperty=Ibe;Ca.isSafeProperty=UC;Ca.validateSafeMethod=Bbe;Ca.isSafeMethod=zC;Ca.isPlainObject=JC;var LC=yr();function Au(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Au=function(t){return typeof t}:Au=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Au(e)}function qbe(e,r){if(JC(e)&&UC(e,r))return e[r];throw typeof e[r]=="function"&&zC(e,r)?new Error('Cannot access method "'+r+'" as a property'):new Error('No access to property "'+r+'"')}function Ibe(e,r,t){if(JC(e)&&UC(e,r))return e[r]=t,t;throw new Error('No access to property "'+r+'"')}function UC(e,r){return!e||Au(e)!=="object"?!1:(0,LC.hasOwnProperty)(kbe,r)?!0:!(r in Object.prototype||r in Function.prototype)}function Bbe(e,r){if(!zC(e,r))throw new Error('No access to method "'+r+'"')}function zC(e,r){return e==null||typeof e[r]!="function"||(0,LC.hasOwnProperty)(e,r)&&Object.getPrototypeOf&&r in Object.getPrototypeOf(e)?!1:(0,LC.hasOwnProperty)(jbe,r)?!0:!(r in Object.prototype||r in Function.prototype)}function JC(e){return Au(e)==="object"&&e&&e.constructor===Object}var kbe={length:!0,name:!0},jbe={toString:!0,valueOf:!0,toLocaleString:!0}});var GC=D(Lf=>{"use strict";Object.defineProperty(Lf,"__esModule",{value:!0});Lf.createSubset=void 0;var Tbe=He(),VC=yr(),Ff=er(),b6=pn(),Mu=vt(),Rbe=oe(),y6="subset",Fbe=["typed","matrix"],Lbe=(0,Rbe.factory)(y6,Fbe,function(e){var r=e.typed,t=e.matrix;return r(y6,{"Array, Index":function(i,c){var u=t(i),a=u.subset(c);return c.isScalar()?a:a.valueOf()},"Matrix, Index":function(i,c){return i.subset(c)},"Object, Index":zbe,"string, Index":Ube,"Array, Index, any":function(i,c,u){return t((0,VC.clone)(i)).subset(c,u,void 0).valueOf()},"Array, Index, any, any":function(i,c,u,a){return t((0,VC.clone)(i)).subset(c,u,a).valueOf()},"Matrix, Index, any":function(i,c,u){return i.clone().subset(c,u)},"Matrix, Index, any, any":function(i,c,u,a){return i.clone().subset(c,u,a)},"string, Index, string":g6,"string, Index, string, string":g6,"Object, Index, any":Jbe})});Lf.createSubset=Lbe;function Ube(e,r){if(!(0,Tbe.isIndex)(r))throw new TypeError("Index expected");if(r.size().length!==1)throw new Mu.DimensionError(r.size().length,1);var t=e.length;(0,Ff.validateIndex)(r.min()[0],t),(0,Ff.validateIndex)(r.max()[0],t);var n=r.dimension(0),i="";return n.forEach(function(c){i+=e.charAt(c)}),i}function g6(e,r,t,n){if(!r||r.isIndex!==!0)throw new TypeError("Index expected");if(r.size().length!==1)throw new Mu.DimensionError(r.size().length,1);if(n!==void 0){if(typeof n!="string"||n.length!==1)throw new TypeError("Single character expected as defaultValue")}else n=" ";var i=r.dimension(0),c=i.size()[0];if(c!==t.length)throw new Mu.DimensionError(i.size()[0],t.length);var u=e.length;(0,Ff.validateIndex)(r.min()[0]),(0,Ff.validateIndex)(r.max()[0]);for(var a=[],s=0;s<u;s++)a[s]=e.charAt(s);if(i.forEach(function(d,p){a[d]=t.charAt(p[0])}),a.length>u)for(var o=u-1,l=a.length;o<l;o++)a[o]||(a[o]=n);return a.join("")}function zbe(e,r){if(r.size().length!==1)throw new Mu.DimensionError(r.size(),1);var t=r.dimension(0);if(typeof t!="string")throw new TypeError("String expected as index to retrieve an object property");return(0,b6.getSafeProperty)(e,t)}function Jbe(e,r,t){if(r.size().length!==1)throw new Mu.DimensionError(r.size(),1);var n=r.dimension(0);if(typeof n!="string")throw new TypeError("String expected as index to retrieve an object property");var i=(0,VC.clone)(e);return(0,b6.setSafeProperty)(i,n,t),i}});var w6=D(Uf=>{"use strict";Object.defineProperty(Uf,"__esModule",{value:!0});Uf.createTranspose=void 0;var HC=yr(),_6=Xr(),Vbe=oe(),Gbe="transpose",Hbe=["typed","matrix"],Wbe=(0,Vbe.factory)(Gbe,Hbe,function(e){var r=e.typed,t=e.matrix,n=r("transpose",{Array:function(a){return n(t(a)).valueOf()},Matrix:function(a){var s=a.size(),o;switch(s.length){case 1:o=a.clone();break;case 2:{var l=s[0],d=s[1];if(d===0)throw new RangeError("Cannot transpose a 2D matrix with no columns (size: "+(0,_6.format)(s)+")");switch(a.storage()){case"dense":o=i(a,l,d);break;case"sparse":o=c(a,l,d);break}}break;default:throw new RangeError("Matrix must be a vector or two dimensional (size: "+(0,_6.format)(this._size)+")")}return o},any:function(a){return(0,HC.clone)(a)}});function i(u,a,s){for(var o=u._data,l=[],d,p=0;p<s;p++){d=l[p]=[];for(var f=0;f<a;f++)d[f]=(0,HC.clone)(o[f][p])}return u.createDenseMatrix({data:l,size:[s,a],datatype:u._datatype})}function c(u,a,s){for(var o=u._values,l=u._index,d=u._ptr,p=o?[]:void 0,f=[],v=[],h=[],m=0;m<a;m++)h[m]=0;var y,g,b;for(y=0,g=l.length;y<g;y++)h[l[y]]++;for(var _=0,S=0;S<a;S++)v.push(_),_+=h[S],h[S]=v[S];for(v.push(_),b=0;b<s;b++)for(var w=d[b],O=d[b+1],x=w;x<O;x++){var N=h[l[x]]++;f[N]=b,o&&(p[N]=(0,HC.clone)(o[x]))}return u.createSparseMatrix({values:p,index:f,ptr:v,size:[s,a],datatype:u._datatype})}return n});Uf.createTranspose=Wbe});var x6=D(zf=>{"use strict";Object.defineProperty(zf,"__esModule",{value:!0});zf.createCtranspose=void 0;var $be=oe(),S6="ctranspose",Qbe=["typed","transpose","conj"],Ybe=(0,$be.factory)(S6,Qbe,function(e){var r=e.typed,t=e.transpose,n=e.conj;return r(S6,{any:function(c){return n(t(c))}})});zf.createCtranspose=Ybe});var D6=D(Jf=>{"use strict";Object.defineProperty(Jf,"__esModule",{value:!0});Jf.createZeros=void 0;var Zbe=He(),Xbe=gr(),Kbe=er(),e0e=oe(),O6="zeros",r0e=["typed","config","matrix","BigNumber"],t0e=(0,e0e.factory)(O6,r0e,function(e){var r=e.typed,t=e.config,n=e.matrix,i=e.BigNumber;return r(O6,{"":function(){return t.matrix==="Array"?c([]):c([],"default")},"...number | BigNumber | string":function(o){var l=o[o.length-1];if(typeof l=="string"){var d=o.pop();return c(o,d)}else return t.matrix==="Array"?c(o):c(o,"default")},Array:c,Matrix:function(o){var l=o.storage();return c(o.valueOf(),l)},"Array | Matrix, string":function(o,l){return c(o.valueOf(),l)}});function c(s,o){var l=u(s),d=l?new i(0):0;if(a(s),o){var p=n(o);return s.length>0?p.resize(s,d):p}else{var f=[];return s.length>0?(0,Kbe.resize)(f,s,d):f}}function u(s){var o=!1;return s.forEach(function(l,d,p){(0,Zbe.isBigNumber)(l)&&(o=!0,p[d]=l.toNumber())}),o}function a(s){s.forEach(function(o){if(typeof o!="number"||!(0,Xbe.isInteger)(o)||o<0)throw new Error("Parameters in function zeros must be positive integers")})}});Jf.createZeros=t0e});var N6=D(Gf=>{"use strict";Object.defineProperty(Gf,"__esModule",{value:!0});Gf.createErf=void 0;var n0e=Qe(),Vf=gr(),i0e=oe(),a0e="erf",s0e=["typed"],o0e=(0,i0e.factory)(a0e,s0e,function(e){var r=e.typed,t=r("name",{number:function(a){var s=Math.abs(a);return s>=l0e?(0,Vf.sign)(a):s<=c0e?(0,Vf.sign)(a)*n(s):s<=4?(0,Vf.sign)(a)*(1-i(s)):(0,Vf.sign)(a)*(1-c(s))},"Array | Matrix":function(a){return(0,n0e.deepMap)(a,t)}});function n(u){var a=u*u,s=$i[0][4]*a,o=a,l;for(l=0;l<3;l+=1)s=(s+$i[0][l])*a,o=(o+Lo[0][l])*a;return u*(s+$i[0][3])/(o+Lo[0][3])}function i(u){var a=$i[1][8]*u,s=u,o;for(o=0;o<7;o+=1)a=(a+$i[1][o])*u,s=(s+Lo[1][o])*u;var l=(a+$i[1][7])/(s+Lo[1][7]),d=parseInt(u*16)/16,p=(u-d)*(u+d);return Math.exp(-d*d)*Math.exp(-p)*l}function c(u){var a=1/(u*u),s=$i[2][5]*a,o=a,l;for(l=0;l<4;l+=1)s=(s+$i[2][l])*a,o=(o+Lo[2][l])*a;var d=a*(s+$i[2][4])/(o+Lo[2][4]);d=(u0e-d)/u,a=parseInt(u*16)/16;var p=(u-a)*(u+a);return Math.exp(-a*a)*Math.exp(-p)*d}return t});Gf.createErf=o0e;var c0e=.46875,u0e=.5641895835477563,$i=[[3.1611237438705655,113.86415415105016,377.485237685302,3209.3775891384694,.18577770618460315],[.5641884969886701,8.883149794388377,66.11919063714163,298.6351381974001,881.952221241769,1712.0476126340707,2051.0783778260716,1230.3393547979972,21531153547440383e-24],[.30532663496123236,.36034489994980445,.12578172611122926,.016083785148742275,.0006587491615298378,.016315387137302097]],Lo=[[23.601290952344122,244.02463793444417,1282.6165260773723,2844.236833439171],[15.744926110709835,117.6939508913125,537.1811018620099,1621.3895745666903,3290.7992357334597,4362.619090143247,3439.3676741437216,1230.3393548037495],[2.568520192289822,1.8729528499234604,.5279051029514285,.06051834131244132,.0023352049762686918]],l0e=Math.pow(2,53)});var A6=D(Hf=>{"use strict";Object.defineProperty(Hf,"__esModule",{value:!0});Hf.createMode=void 0;var d0e=er(),p0e=oe(),C6="mode",f0e=["typed","isNaN","isNumeric"],h0e=(0,p0e.factory)(C6,f0e,function(e){var r=e.typed,t=e.isNaN,n=e.isNumeric;return r(C6,{"Array | Matrix":i,"...":function(u){return i(u)}});function i(c){c=(0,d0e.flatten)(c.valueOf());var u=c.length;if(u===0)throw new Error("Cannot calculate mode of an empty array");for(var a={},s=[],o=0,l=0;l<c.length;l++){var d=c[l];if(n(d)&&t(d))throw new Error("Cannot calculate mode of an array containing NaN values");d in a||(a[d]=0),a[d]++,a[d]===o?s.push(d):a[d]>o&&(o=a[d],s=[d])}return s}});Hf.createMode=h0e});var Qi=D(WC=>{"use strict";Object.defineProperty(WC,"__esModule",{value:!0});WC.improveErrorMessage=v0e;var M6=He();function v0e(e,r,t){var n;return String(e).indexOf("Unexpected type")!==-1?(n=arguments.length>2?" (type: "+(0,M6.typeOf)(t)+", value: "+JSON.stringify(t)+")":" (type: "+e.data.actual+")",new TypeError("Cannot calculate "+r+", unexpected type of argument"+n)):String(e).indexOf("complex numbers")!==-1?(n=arguments.length>2?" (type: "+(0,M6.typeOf)(t)+", value: "+JSON.stringify(t)+")":"",new TypeError("Cannot calculate "+r+", no ordering relation is defined for complex numbers"+n)):e}});var E6=D(Wf=>{"use strict";Object.defineProperty(Wf,"__esModule",{value:!0});Wf.createProd=void 0;var m0e=Qe(),y0e=oe(),g0e=Qi(),P6="prod",b0e=["typed","multiply"],_0e=(0,y0e.factory)(P6,b0e,function(e){var r=e.typed,t=e.multiply;return r(P6,{"Array | Matrix":n,"Array | Matrix, number | BigNumber":function(c,u){throw new Error("prod(A, dim) is not yet supported")},"...":function(c){return n(c)}});function n(i){var c;if((0,m0e.deepForEach)(i,function(u){try{c=c===void 0?u:t(c,u)}catch(a){throw(0,g0e.improveErrorMessage)(a,"prod",u)}}),c===void 0)throw new Error("Cannot calculate prod of an empty array");return c}});Wf.createProd=_0e});var B6=D($f=>{"use strict";Object.defineProperty($f,"__esModule",{value:!0});$f.createFormat=void 0;var q6=Xr(),w0e=oe(),I6="format",S0e=["typed"],x0e=(0,w0e.factory)(I6,S0e,function(e){var r=e.typed;return r(I6,{any:q6.format,"any, Object | function | number":q6.format})});$f.createFormat=x0e});var T6=D(Qf=>{"use strict";Object.defineProperty(Qf,"__esModule",{value:!0});Qf.createPrint=void 0;var O0e=Xr(),D0e=He(),N0e=oe(),k6="print",C0e=["typed"],A0e=(0,N0e.factory)(k6,C0e,function(e){var r=e.typed;return r(k6,{"string, Object | Array":j6,"string, Object | Array, number | Object":j6})});Qf.createPrint=A0e;function j6(e,r,t){return e.replace(/\$([\w.]+)/g,function(n,i){for(var c=i.split("."),u=r[c.shift()];c.length&&u!==void 0;){var a=c.shift();u=a?u[a]:u+"."}return u!==void 0?(0,D0e.isString)(u)?u:(0,O0e.format)(u,t):n})}});var F6=D(Yf=>{"use strict";Object.defineProperty(Yf,"__esModule",{value:!0});Yf.createTo=void 0;var M0e=oe(),P0e=Wr(),E0e=Ur(),R6="to",q0e=["typed","matrix"],I0e=(0,M0e.factory)(R6,q0e,function(e){var r=e.typed,t=e.matrix,n=(0,P0e.createAlgorithm13)({typed:r}),i=(0,E0e.createAlgorithm14)({typed:r}),c=r(R6,{"Unit, Unit | string":function(a,s){return a.to(s)},"Matrix, Matrix":function(a,s){return n(a,s,c)},"Array, Array":function(a,s){return c(t(a),t(s)).valueOf()},"Array, Matrix":function(a,s){return c(t(a),s)},"Matrix, Array":function(a,s){return c(a,t(s))},"Matrix, any":function(a,s){return i(a,s,c,!1)},"any, Matrix":function(a,s){return i(s,a,c,!0)},"Array, any":function(a,s){return i(t(a),s,c,!1).valueOf()},"any, Array":function(a,s){return i(t(s),a,c,!0).valueOf()}});return c});Yf.createTo=I0e});var U6=D(Zf=>{"use strict";Object.defineProperty(Zf,"__esModule",{value:!0});Zf.createIsPrime=void 0;var B0e=Qe(),k0e=oe(),L6="isPrime",j0e=["typed"],T0e=(0,k0e.factory)(L6,j0e,function(e){var r=e.typed,t=r(L6,{number:function(i){if(i*0!==0)return!1;if(i<=3)return i>1;if(i%2===0||i%3===0)return!1;for(var c=5;c*c<=i;c+=6)if(i%c===0||i%(c+2)===0)return!1;return!0},BigNumber:function(i){if(i.toNumber()*0!==0)return!1;if(i.lte(3))return i.gt(1);if(i.mod(2).eq(0)||i.mod(3).eq(0))return!1;for(var c=5;i.gte(c*c);c+=6)if(i.mod(c).eq(0)||i.mod(c+2).eq(0))return!1;return!0},"Array | Matrix":function(i){return(0,B0e.deepMap)(i,t)}});return t});Zf.createIsPrime=T0e});var J6=D(Xf=>{"use strict";Object.defineProperty(Xf,"__esModule",{value:!0});Xf.createNumeric=void 0;var R0e=He(),F0e=oe(),z6=To(),L0e="numeric",U0e=["number","?bignumber","?fraction"],z0e=(0,F0e.factory)(L0e,U0e,function(e){var r=e.number,t=e.bignumber,n=e.fraction,i={string:!0,number:!0,BigNumber:!0,Fraction:!0},c={number:function(a){return r(a)},BigNumber:t?function(u){return t(u)}:z6.noBignumber,Fraction:n?function(u){return n(u)}:z6.noFraction};return function(a,s){var o=(0,R0e.typeOf)(a);if(!(o in i))throw new TypeError("Cannot convert "+a+' of type "'+o+'"; valid input types are '+Object.keys(i).join(", "));if(!(s in c))throw new TypeError("Cannot convert "+a+' to type "'+s+'"; valid output types are '+Object.keys(c).join(", "));return s===o?a:c[s](a)}});Xf.createNumeric=z0e});var H6=D(Kf=>{"use strict";Object.defineProperty(Kf,"__esModule",{value:!0});Kf.createDivideScalar=void 0;var J0e=oe(),V6=He(),G6="divideScalar",V0e=["typed","numeric"],G0e=(0,J0e.factory)(G6,V0e,function(e){var r=e.typed,t=e.numeric,n=r(G6,{"number, number":function(c,u){return c/u},"Complex, Complex":function(c,u){return c.div(u)},"BigNumber, BigNumber":function(c,u){return c.div(u)},"Fraction, Fraction":function(c,u){return c.div(u)},"Unit, number | Fraction | BigNumber":function(c,u){var a=c.clone(),s=t(1,(0,V6.typeOf)(u));return a.value=n(a.value===null?a._normalize(s):a.value,u),a},"number | Fraction | BigNumber, Unit":function(c,u){var a=u.clone();a=a.pow(-1);var s=t(1,(0,V6.typeOf)(c));return a.value=n(c,u.value===null?u._normalize(s):u.value),a},"Unit, Unit":function(c,u){return c.divide(u)}});return n});Kf.createDivideScalar=G0e});var $6=D(eh=>{"use strict";Object.defineProperty(eh,"__esModule",{value:!0});eh.createPow=void 0;var H0e=oe(),$C=gr(),W0e=er(),$0e=rr(),W6="pow",Q0e=["typed","config","identity","multiply","matrix","fraction","number","Complex"],Y0e=(0,H0e.factory)(W6,Q0e,function(e){var r=e.typed,t=e.config,n=e.identity,i=e.multiply,c=e.matrix,u=e.number,a=e.fraction,s=e.Complex;return r(W6,{"number, number":o,"Complex, Complex":function(f,v){return f.pow(v)},"BigNumber, BigNumber":function(f,v){return v.isInteger()||f>=0||t.predictable?f.pow(v):new s(f.toNumber(),0).pow(v.toNumber(),0)},"Fraction, Fraction":function(f,v){if(v.d!==1){if(t.predictable)throw new Error("Function pow does not support non-integer exponents for fractions.");return o(f.valueOf(),v.valueOf())}else return f.pow(v)},"Array, number":l,"Array, BigNumber":function(f,v){return l(f,v.toNumber())},"Matrix, number":d,"Matrix, BigNumber":function(f,v){return d(f,v.toNumber())},"Unit, number | BigNumber":function(f,v){return f.pow(v)}});function o(p,f){if(t.predictable&&!(0,$C.isInteger)(f)&&p<0)try{var v=a(f),h=u(v);if((f===h||Math.abs((f-h)/f)<1e-14)&&v.d%2===1)return(v.n%2===0?1:-1)*Math.pow(-p,f)}catch{}return t.predictable&&(p<-1&&f===1/0||p>-1&&p<0&&f===-1/0)?NaN:(0,$C.isInteger)(f)||p>=0||t.predictable?(0,$0e.powNumber)(p,f):p*p<1&&f===1/0||p*p>1&&f===-1/0?0:new s(p,0).pow(f,0)}function l(p,f){if(!(0,$C.isInteger)(f)||f<0)throw new TypeError("For A^b, b must be a positive integer (value is "+f+")");var v=(0,W0e.arraySize)(p);if(v.length!==2)throw new Error("For A^b, A must be 2 dimensional (A has "+v.length+" dimensions)");if(v[0]!==v[1])throw new Error("For A^b, A must be square (size is "+v[0]+"x"+v[1]+")");for(var h=n(v[0]).valueOf(),m=p;f>=1;)(f&1)===1&&(h=i(m,h)),f>>=1,m=i(m,m);return h}function d(p,f){return c(l(p.valueOf(),f))}});eh.createPow=Y0e});var e8=D(zo=>{"use strict";Object.defineProperty(zo,"__esModule",{value:!0});zo.createRoundNumber=zo.createRound=void 0;var X6=oe(),Z0e=Qe(),X0e=gr(),K0e=Jt(),e_e=Gt(),r_e=Ur(),Q6=rr();function Y6(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,n)}return t}function Z6(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Y6(Object(t),!0).forEach(function(n){t_e(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Y6(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function t_e(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Uo="Number of decimals in function round must be an integer",rh="round",n_e=["typed","matrix","equalScalar","zeros","BigNumber","DenseMatrix"],i_e=(0,X6.factory)(rh,n_e,function(e){var r=e.typed,t=e.matrix,n=e.equalScalar,i=e.zeros,c=e.BigNumber,u=e.DenseMatrix,a=(0,K0e.createAlgorithm11)({typed:r,equalScalar:n}),s=(0,e_e.createAlgorithm12)({typed:r,DenseMatrix:u}),o=(0,r_e.createAlgorithm14)({typed:r}),l=r(rh,Z6(Z6({},K6),{},{Complex:function(p){return p.round()},"Complex, number":function(p,f){if(f%1)throw new TypeError(Uo);return p.round(f)},"Complex, BigNumber":function(p,f){if(!f.isInteger())throw new TypeError(Uo);var v=f.toNumber();return p.round(v)},"number, BigNumber":function(p,f){if(!f.isInteger())throw new TypeError(Uo);return new c(p).toDecimalPlaces(f.toNumber())},BigNumber:function(p){return p.toDecimalPlaces(0)},"BigNumber, BigNumber":function(p,f){if(!f.isInteger())throw new TypeError(Uo);return p.toDecimalPlaces(f.toNumber())},Fraction:function(p){return p.round()},"Fraction, number":function(p,f){if(f%1)throw new TypeError(Uo);return p.round(f)},"Array | Matrix":function(p){return(0,Z0e.deepMap)(p,l,!0)},"SparseMatrix, number | BigNumber":function(p,f){return a(p,f,l,!1)},"DenseMatrix, number | BigNumber":function(p,f){return o(p,f,l,!1)},"number | Complex | BigNumber, SparseMatrix":function(p,f){return n(p,0)?i(f.size(),f.storage()):s(f,p,l,!0)},"number | Complex | BigNumber, DenseMatrix":function(p,f){return n(p,0)?i(f.size(),f.storage()):o(f,p,l,!0)},"Array, number | BigNumber":function(p,f){return o(t(p),f,l,!1).valueOf()},"number | Complex | BigNumber, Array":function(p,f){return o(t(f),p,l,!0).valueOf()}}));return l});zo.createRound=i_e;var K6={number:Q6.roundNumber,"number, number":function(r,t){if(!(0,X0e.isInteger)(t))throw new TypeError(Uo);if(t<0||t>15)throw new Error("Number of decimals in function round must be in te range of 0-15");return(0,Q6.roundNumber)(r,t)}},a_e=(0,X6.factory)(rh,["typed"],function(e){var r=e.typed;return r(rh,K6)});zo.createRoundNumber=a_e});var t8=D(th=>{"use strict";Object.defineProperty(th,"__esModule",{value:!0});th.createLog=void 0;var s_e=oe(),o_e=Qe(),c_e=rr(),r8="log",u_e=["config","typed","divideScalar","Complex"],l_e=(0,s_e.factory)(r8,u_e,function(e){var r=e.typed,t=e.config,n=e.divideScalar,i=e.Complex,c=r(r8,{number:function(a){return a>=0||t.predictable?(0,c_e.logNumber)(a):new i(a,0).log()},Complex:function(a){return a.log()},BigNumber:function(a){return!a.isNegative()||t.predictable?a.ln():new i(a.toNumber(),0).log()},"Array | Matrix":function(a){return(0,o_e.deepMap)(a,c)},"any, any":function(a,s){return n(c(a),c(s))}});return c});th.createLog=l_e});var i8=D(nh=>{"use strict";Object.defineProperty(nh,"__esModule",{value:!0});nh.createLog1p=void 0;var d_e=oe(),p_e=Qe(),f_e=gr(),n8="log1p",h_e=["typed","config","divideScalar","log","Complex"],v_e=(0,d_e.factory)(n8,h_e,function(e){var r=e.typed,t=e.config,n=e.divideScalar,i=e.log,c=e.Complex,u=r(n8,{number:function(o){return o>=-1||t.predictable?(0,f_e.log1p)(o):a(new c(o,0))},Complex:a,BigNumber:function(o){var l=o.plus(1);return!l.isNegative()||t.predictable?l.ln():a(new c(o.toNumber(),0))},"Array | Matrix":function(o){return(0,p_e.deepMap)(o,u)},"any, any":function(o,l){return n(u(o),i(l))}});function a(s){var o=s.re+1;return new c(Math.log(Math.sqrt(o*o+s.im*s.im)),Math.atan2(s.im,o))}return u});nh.createLog1p=v_e});var s8=D(ih=>{"use strict";Object.defineProperty(ih,"__esModule",{value:!0});ih.createNthRoots=void 0;var m_e=oe(),a8="nthRoots",y_e=["config","typed","divideScalar","Complex"],g_e=(0,m_e.factory)(a8,y_e,function(e){var r=e.typed,t=e.config,n=e.divideScalar,i=e.Complex,c=r(a8,{Complex:function(o){return a(o,2)},"Complex, number":a}),u=[function(o){return new i(o,0)},function(o){return new i(0,o)},function(o){return new i(-o,0)},function(o){return new i(0,-o)}];function a(s,o){if(o<0)throw new Error("Root must be greater than zero");if(o===0)throw new Error("Root must be non-zero");if(o%1!==0)throw new Error("Root must be an integer");if(s===0||s.abs()===0)return[new i(0,0)];var l=typeof s=="number",d;(l||s.re===0||s.im===0)&&(l?d=2*+(s<0):s.im===0?d=2*+(s.re<0):d=2*+(s.im<0)+1);for(var p=s.arg(),f=s.abs(),v=[],h=Math.pow(f,1/o),m=0;m<o;m++){var y=(d+4*m)/o;if(y===Math.round(y)){v.push(u[y%4](h));continue}v.push(new i({r:h,phi:(p+2*Math.PI*m)/o}))}return v}return c});ih.createNthRoots=g_e});var c8=D(ah=>{"use strict";Object.defineProperty(ah,"__esModule",{value:!0});ah.createDotPow=void 0;var b_e=oe(),__e=Vt(),w_e=Kn(),S_e=Jt(),x_e=Gt(),O_e=Wr(),D_e=Ur(),o8="dotPow",N_e=["typed","equalScalar","matrix","pow","DenseMatrix"],C_e=(0,b_e.factory)(o8,N_e,function(e){var r=e.typed,t=e.equalScalar,n=e.matrix,i=e.pow,c=e.DenseMatrix,u=(0,__e.createAlgorithm03)({typed:r}),a=(0,w_e.createAlgorithm07)({typed:r,DenseMatrix:c}),s=(0,S_e.createAlgorithm11)({typed:r,equalScalar:t}),o=(0,x_e.createAlgorithm12)({typed:r,DenseMatrix:c}),l=(0,O_e.createAlgorithm13)({typed:r}),d=(0,D_e.createAlgorithm14)({typed:r}),p=r(o8,{"any, any":i,"SparseMatrix, SparseMatrix":function(v,h){return a(v,h,i,!1)},"SparseMatrix, DenseMatrix":function(v,h){return u(h,v,i,!0)},"DenseMatrix, SparseMatrix":function(v,h){return u(v,h,i,!1)},"DenseMatrix, DenseMatrix":function(v,h){return l(v,h,i)},"Array, Array":function(v,h){return p(n(v),n(h)).valueOf()},"Array, Matrix":function(v,h){return p(n(v),h)},"Matrix, Array":function(v,h){return p(v,n(h))},"SparseMatrix, any":function(v,h){return s(v,h,p,!1)},"DenseMatrix, any":function(v,h){return d(v,h,p,!1)},"any, SparseMatrix":function(v,h){return o(h,v,p,!0)},"any, DenseMatrix":function(v,h){return d(h,v,p,!0)},"Array, any":function(v,h){return d(n(v),h,p,!1).valueOf()},"any, Array":function(v,h){return d(n(h),v,p,!0).valueOf()}});return p});ah.createDotPow=C_e});var l8=D(sh=>{"use strict";Object.defineProperty(sh,"__esModule",{value:!0});sh.createDotDivide=void 0;var A_e=oe(),M_e=Ln(),P_e=Vt(),E_e=Kn(),q_e=Jt(),I_e=Gt(),B_e=Wr(),k_e=Ur(),u8="dotDivide",j_e=["typed","matrix","equalScalar","divideScalar","DenseMatrix"],T_e=(0,A_e.factory)(u8,j_e,function(e){var r=e.typed,t=e.matrix,n=e.equalScalar,i=e.divideScalar,c=e.DenseMatrix,u=(0,M_e.createAlgorithm02)({typed:r,equalScalar:n}),a=(0,P_e.createAlgorithm03)({typed:r}),s=(0,E_e.createAlgorithm07)({typed:r,DenseMatrix:c}),o=(0,q_e.createAlgorithm11)({typed:r,equalScalar:n}),l=(0,I_e.createAlgorithm12)({typed:r,DenseMatrix:c}),d=(0,B_e.createAlgorithm13)({typed:r}),p=(0,k_e.createAlgorithm14)({typed:r}),f=r(u8,{"any, any":i,"SparseMatrix, SparseMatrix":function(h,m){return s(h,m,i,!1)},"SparseMatrix, DenseMatrix":function(h,m){return u(m,h,i,!0)},"DenseMatrix, SparseMatrix":function(h,m){return a(h,m,i,!1)},"DenseMatrix, DenseMatrix":function(h,m){return d(h,m,i)},"Array, Array":function(h,m){return f(t(h),t(m)).valueOf()},"Array, Matrix":function(h,m){return f(t(h),m)},"Matrix, Array":function(h,m){return f(h,t(m))},"SparseMatrix, any":function(h,m){return o(h,m,i,!1)},"DenseMatrix, any":function(h,m){return p(h,m,i,!1)},"any, SparseMatrix":function(h,m){return l(m,h,i,!0)},"any, DenseMatrix":function(h,m){return p(m,h,i,!0)},"Array, any":function(h,m){return p(t(h),m,i,!1).valueOf()},"any, Array":function(h,m){return p(t(m),h,i,!0).valueOf()}});return f});sh.createDotDivide=T_e});var oh=D(YC=>{"use strict";Object.defineProperty(YC,"__esModule",{value:!0});YC.createSolveValidation=F_e;var QC=He(),R_e=er(),d8=Xr();function F_e(e){var r=e.DenseMatrix;return function(n,i,c){var u=n.size();if(u.length!==2)throw new RangeError("Matrix must be two dimensional (size: "+(0,d8.format)(u)+")");var a=u[0],s=u[1];if(a!==s)throw new RangeError("Matrix must be square (size: "+(0,d8.format)(u)+")");var o,l,d;if((0,QC.isMatrix)(i)){var p=i.size();if(p.length===1){if(p[0]!==a)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(o=[],d=i._data,l=0;l<a;l++)o[l]=[d[l]];return new r({data:o,size:[a,1],datatype:i._datatype})}if(p.length===2){if(p[0]!==a||p[1]!==1)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");if((0,QC.isDenseMatrix)(i)){if(c){for(o=[],d=i._data,l=0;l<a;l++)o[l]=[d[l][0]];return new r({data:o,size:[a,1],datatype:i._datatype})}return i}for(o=[],l=0;l<a;l++)o[l]=[0];for(var f=i._values,v=i._index,h=i._ptr,m=h[1],y=h[0];y<m;y++)l=v[y],o[l][0]=f[y];return new r({data:o,size:[a,1],datatype:i._datatype})}throw new RangeError("Dimension mismatch. Matrix columns must match vector length.")}if((0,QC.isArray)(i)){var g=(0,R_e.arraySize)(i);if(g.length===1){if(g[0]!==a)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(o=[],l=0;l<a;l++)o[l]=[i[l]];return new r({data:o,size:[a,1]})}if(g.length===2){if(g[0]!==a||g[1]!==1)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(o=[],l=0;l<a;l++)o[l]=[i[l][0]];return new r({data:o,size:[a,1]})}throw new RangeError("Dimension mismatch. Matrix columns must match vector length.")}}}});var f8=D(ch=>{"use strict";Object.defineProperty(ch,"__esModule",{value:!0});ch.createLsolve=void 0;var L_e=oe(),U_e=oh(),p8="lsolve",z_e=["typed","matrix","divideScalar","multiplyScalar","subtract","equalScalar","DenseMatrix"],J_e=(0,L_e.factory)(p8,z_e,function(e){var r=e.typed,t=e.matrix,n=e.divideScalar,i=e.multiplyScalar,c=e.subtract,u=e.equalScalar,a=e.DenseMatrix,s=(0,U_e.createSolveValidation)({DenseMatrix:a});return r(p8,{"SparseMatrix, Array | Matrix":function(p,f){return l(p,f)},"DenseMatrix, Array | Matrix":function(p,f){return o(p,f)},"Array, Array | Matrix":function(p,f){var v=t(p),h=o(v,f);return h.valueOf()}});function o(d,p){p=s(d,p,!0);for(var f=p._data,v=d._size[0],h=d._size[1],m=[],y=d._data,g=0;g<h;g++){var b=f[g][0]||0,_=void 0;if(u(b,0))_=0;else{var S=y[g][g];if(u(S,0))throw new Error("Linear system cannot be solved since matrix is singular");_=n(b,S);for(var w=g+1;w<v;w++)f[w]=[c(f[w][0]||0,i(_,y[w][g]))]}m[g]=[_]}return new a({data:m,size:[v,1]})}function l(d,p){p=s(d,p,!0);for(var f=p._data,v=d._size[0],h=d._size[1],m=d._values,y=d._index,g=d._ptr,b,_,S=[],w=0;w<h;w++){var O=f[w][0]||0;if(u(O,0))S[w]=[0];else{var x=0,N=[],M=[],I=g[w+1];for(_=g[w];_<I;_++)b=y[_],b===w?x=m[_]:b>w&&(N.push(m[_]),M.push(b));if(u(x,0))throw new Error("Linear system cannot be solved since matrix is singular");var q=n(O,x);for(_=0,I=M.length;_<I;_++)b=M[_],f[b]=[c(f[b][0]||0,i(q,N[_]))];S[w]=[q]}}return new a({data:S,size:[v,1]})}});ch.createLsolve=J_e});var v8=D(uh=>{"use strict";Object.defineProperty(uh,"__esModule",{value:!0});uh.createUsolve=void 0;var V_e=oe(),G_e=oh(),h8="usolve",H_e=["typed","matrix","divideScalar","multiplyScalar","subtract","equalScalar","DenseMatrix"],W_e=(0,V_e.factory)(h8,H_e,function(e){var r=e.typed,t=e.matrix,n=e.divideScalar,i=e.multiplyScalar,c=e.subtract,u=e.equalScalar,a=e.DenseMatrix,s=(0,G_e.createSolveValidation)({DenseMatrix:a});return r(h8,{"SparseMatrix, Array | Matrix":function(p,f){return l(p,f)},"DenseMatrix, Array | Matrix":function(p,f){return o(p,f)},"Array, Array | Matrix":function(p,f){var v=t(p),h=o(v,f);return h.valueOf()}});function o(d,p){p=s(d,p,!0);for(var f=p._data,v=d._size[0],h=d._size[1],m=[],y=d._data,g=h-1;g>=0;g--){var b=f[g][0]||0,_=void 0;if(u(b,0))_=0;else{var S=y[g][g];if(u(S,0))throw new Error("Linear system cannot be solved since matrix is singular");_=n(b,S);for(var w=g-1;w>=0;w--)f[w]=[c(f[w][0]||0,i(_,y[w][g]))]}m[g]=[_]}return new a({data:m,size:[v,1]})}function l(d,p){p=s(d,p,!0);for(var f=p._data,v=d._size[0],h=d._size[1],m=d._values,y=d._index,g=d._ptr,b,_,S=[],w=h-1;w>=0;w--){var O=f[w][0]||0;if(u(O,0))S[w]=[0];else{var x=0,N=[],M=[],I=g[w],q=g[w+1];for(_=q-1;_>=I;_--)b=y[_],b===w?x=m[_]:b<w&&(N.push(m[_]),M.push(b));if(u(x,0))throw new Error("Linear system cannot be solved since matrix is singular");var z=n(O,x);for(_=0,q=M.length;_<q;_++)b=M[_],f[b]=[c(f[b][0],i(z,N[_]))];S[w]=[z]}}return new a({data:S,size:[v,1]})}});uh.createUsolve=W_e});var dh=D(lh=>{"use strict";Object.defineProperty(lh,"__esModule",{value:!0});lh.createAlgorithm08=void 0;var $_e=oe(),Q_e=vt(),Y_e="algorithm08",Z_e=["typed","equalScalar"],X_e=(0,$_e.factory)(Y_e,Z_e,function(e){var r=e.typed,t=e.equalScalar;return function(i,c,u){var a=i._values,s=i._index,o=i._ptr,l=i._size,d=i._datatype,p=c._values,f=c._index,v=c._ptr,h=c._size,m=c._datatype;if(l.length!==h.length)throw new Q_e.DimensionError(l.length,h.length);if(l[0]!==h[0]||l[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+h+")");if(!a||!p)throw new Error("Cannot perform operation on Pattern Sparse Matrices");var y=l[0],g=l[1],b,_=t,S=0,w=u;typeof d=="string"&&d===m&&(b=d,_=r.find(t,[b,b]),S=r.convert(0,b),w=r.find(u,[b,b]));for(var O=[],x=[],N=[],M=[],I=[],q,z,R,j,L=0;L<g;L++){N[L]=x.length;var P=L+1;for(z=o[L],R=o[L+1],q=z;q<R;q++)j=s[q],I[j]=P,M[j]=a[q],x.push(j);for(z=v[L],R=v[L+1],q=z;q<R;q++)j=f[q],I[j]===P&&(M[j]=w(M[j],p[q]));for(q=N[L];q<x.length;){j=x[q];var V=M[j];_(V,S)?x.splice(q,1):(O.push(V),q++)}}return N[g]=x.length,i.createSparseMatrix({values:O,index:x,ptr:N,size:[y,g],datatype:b})}});lh.createAlgorithm08=X_e});var y8=D(ph=>{"use strict";Object.defineProperty(ph,"__esModule",{value:!0});ph.createLeftShift=void 0;var K_e=Ln(),e1e=Jt(),r1e=Wr(),t1e=Ur(),n1e=Hi(),i1e=Da(),a1e=dh(),s1e=oe(),o1e=rr(),c1e=Ms(),m8="leftShift",u1e=["typed","matrix","equalScalar","zeros","DenseMatrix"],l1e=(0,s1e.factory)(m8,u1e,function(e){var r=e.typed,t=e.matrix,n=e.equalScalar,i=e.zeros,c=e.DenseMatrix,u=(0,n1e.createAlgorithm01)({typed:r}),a=(0,K_e.createAlgorithm02)({typed:r,equalScalar:n}),s=(0,a1e.createAlgorithm08)({typed:r,equalScalar:n}),o=(0,i1e.createAlgorithm10)({typed:r,DenseMatrix:c}),l=(0,e1e.createAlgorithm11)({typed:r,equalScalar:n}),d=(0,r1e.createAlgorithm13)({typed:r}),p=(0,t1e.createAlgorithm14)({typed:r}),f=r(m8,{"number, number":o1e.leftShiftNumber,"BigNumber, BigNumber":c1e.leftShiftBigNumber,"SparseMatrix, SparseMatrix":function(h,m){return s(h,m,f,!1)},"SparseMatrix, DenseMatrix":function(h,m){return a(m,h,f,!0)},"DenseMatrix, SparseMatrix":function(h,m){return u(h,m,f,!1)},"DenseMatrix, DenseMatrix":function(h,m){return d(h,m,f)},"Array, Array":function(h,m){return f(t(h),t(m)).valueOf()},"Array, Matrix":function(h,m){return f(t(h),m)},"Matrix, Array":function(h,m){return f(h,t(m))},"SparseMatrix, number | BigNumber":function(h,m){return n(m,0)?h.clone():l(h,m,f,!1)},"DenseMatrix, number | BigNumber":function(h,m){return n(m,0)?h.clone():p(h,m,f,!1)},"number | BigNumber, SparseMatrix":function(h,m){return n(h,0)?i(m.size(),m.storage()):o(m,h,f,!0)},"number | BigNumber, DenseMatrix":function(h,m){return n(h,0)?i(m.size(),m.storage()):p(m,h,f,!0)},"Array, number | BigNumber":function(h,m){return f(t(h),m).valueOf()},"number | BigNumber, Array":function(h,m){return f(h,t(m)).valueOf()}});return f});ph.createLeftShift=l1e});var b8=D(fh=>{"use strict";Object.defineProperty(fh,"__esModule",{value:!0});fh.createRightArithShift=void 0;var d1e=Ms(),p1e=Ln(),f1e=Jt(),h1e=Wr(),v1e=Ur(),m1e=Hi(),y1e=Da(),g1e=dh(),b1e=oe(),_1e=rr(),g8="rightArithShift",w1e=["typed","matrix","equalScalar","zeros","DenseMatrix"],S1e=(0,b1e.factory)(g8,w1e,function(e){var r=e.typed,t=e.matrix,n=e.equalScalar,i=e.zeros,c=e.DenseMatrix,u=(0,m1e.createAlgorithm01)({typed:r}),a=(0,p1e.createAlgorithm02)({typed:r,equalScalar:n}),s=(0,g1e.createAlgorithm08)({typed:r,equalScalar:n}),o=(0,y1e.createAlgorithm10)({typed:r,DenseMatrix:c}),l=(0,f1e.createAlgorithm11)({typed:r,equalScalar:n}),d=(0,h1e.createAlgorithm13)({typed:r}),p=(0,v1e.createAlgorithm14)({typed:r}),f=r(g8,{"number, number":_1e.rightArithShiftNumber,"BigNumber, BigNumber":d1e.rightArithShiftBigNumber,"SparseMatrix, SparseMatrix":function(h,m){return s(h,m,f,!1)},"SparseMatrix, DenseMatrix":function(h,m){return a(m,h,f,!0)},"DenseMatrix, SparseMatrix":function(h,m){return u(h,m,f,!1)},"DenseMatrix, DenseMatrix":function(h,m){return d(h,m,f)},"Array, Array":function(h,m){return f(t(h),t(m)).valueOf()},"Array, Matrix":function(h,m){return f(t(h),m)},"Matrix, Array":function(h,m){return f(h,t(m))},"SparseMatrix, number | BigNumber":function(h,m){return n(m,0)?h.clone():l(h,m,f,!1)},"DenseMatrix, number | BigNumber":function(h,m){return n(m,0)?h.clone():p(h,m,f,!1)},"number | BigNumber, SparseMatrix":function(h,m){return n(h,0)?i(m.size(),m.storage()):o(m,h,f,!0)},"number | BigNumber, DenseMatrix":function(h,m){return n(h,0)?i(m.size(),m.storage()):p(m,h,f,!0)},"Array, number | BigNumber":function(h,m){return f(t(h),m).valueOf()},"number | BigNumber, Array":function(h,m){return f(h,t(m)).valueOf()}});return f});fh.createRightArithShift=S1e});var w8=D(hh=>{"use strict";Object.defineProperty(hh,"__esModule",{value:!0});hh.createRightLogShift=void 0;var x1e=Ln(),O1e=Jt(),D1e=Wr(),N1e=Ur(),C1e=Hi(),A1e=Da(),M1e=dh(),P1e=oe(),E1e=rr(),_8="rightLogShift",q1e=["typed","matrix","equalScalar","zeros","DenseMatrix"],I1e=(0,P1e.factory)(_8,q1e,function(e){var r=e.typed,t=e.matrix,n=e.equalScalar,i=e.zeros,c=e.DenseMatrix,u=(0,C1e.createAlgorithm01)({typed:r}),a=(0,x1e.createAlgorithm02)({typed:r,equalScalar:n}),s=(0,M1e.createAlgorithm08)({typed:r,equalScalar:n}),o=(0,A1e.createAlgorithm10)({typed:r,DenseMatrix:c}),l=(0,O1e.createAlgorithm11)({typed:r,equalScalar:n}),d=(0,D1e.createAlgorithm13)({typed:r}),p=(0,N1e.createAlgorithm14)({typed:r}),f=r(_8,{"number, number":E1e.rightLogShiftNumber,"SparseMatrix, SparseMatrix":function(h,m){return s(h,m,f,!1)},"SparseMatrix, DenseMatrix":function(h,m){return a(m,h,f,!0)},"DenseMatrix, SparseMatrix":function(h,m){return u(h,m,f,!1)},"DenseMatrix, DenseMatrix":function(h,m){return d(h,m,f)},"Array, Array":function(h,m){return f(t(h),t(m)).valueOf()},"Array, Matrix":function(h,m){return f(t(h),m)},"Matrix, Array":function(h,m){return f(h,t(m))},"SparseMatrix, number | BigNumber":function(h,m){return n(m,0)?h.clone():l(h,m,f,!1)},"DenseMatrix, number | BigNumber":function(h,m){return n(m,0)?h.clone():p(h,m,f,!1)},"number | BigNumber, SparseMatrix":function(h,m){return n(h,0)?i(m.size(),m.storage()):o(m,h,f,!0)},"number | BigNumber, DenseMatrix":function(h,m){return n(h,0)?i(m.size(),m.storage()):p(m,h,f,!0)},"Array, number | BigNumber":function(h,m){return f(t(h),m).valueOf()},"number | BigNumber, Array":function(h,m){return f(h,t(m)).valueOf()}});return f});hh.createRightLogShift=I1e});var x8=D(vh=>{"use strict";Object.defineProperty(vh,"__esModule",{value:!0});vh.createAnd=void 0;var B1e=Ln(),k1e=Jt(),j1e=Wr(),T1e=Ur(),R1e=Ou(),F1e=oe(),L1e=rr(),S8="and",U1e=["typed","matrix","equalScalar","zeros","not"],z1e=(0,F1e.factory)(S8,U1e,function(e){var r=e.typed,t=e.matrix,n=e.equalScalar,i=e.zeros,c=e.not,u=(0,B1e.createAlgorithm02)({typed:r,equalScalar:n}),a=(0,R1e.createAlgorithm06)({typed:r,equalScalar:n}),s=(0,k1e.createAlgorithm11)({typed:r,equalScalar:n}),o=(0,j1e.createAlgorithm13)({typed:r}),l=(0,T1e.createAlgorithm14)({typed:r}),d=r(S8,{"number, number":L1e.andNumber,"Complex, Complex":function(f,v){return(f.re!==0||f.im!==0)&&(v.re!==0||v.im!==0)},"BigNumber, BigNumber":function(f,v){return!f.isZero()&&!v.isZero()&&!f.isNaN()&&!v.isNaN()},"Unit, Unit":function(f,v){return d(f.value||0,v.value||0)},"SparseMatrix, SparseMatrix":function(f,v){return a(f,v,d,!1)},"SparseMatrix, DenseMatrix":function(f,v){return u(v,f,d,!0)},"DenseMatrix, SparseMatrix":function(f,v){return u(f,v,d,!1)},"DenseMatrix, DenseMatrix":function(f,v){return o(f,v,d)},"Array, Array":function(f,v){return d(t(f),t(v)).valueOf()},"Array, Matrix":function(f,v){return d(t(f),v)},"Matrix, Array":function(f,v){return d(f,t(v))},"SparseMatrix, any":function(f,v){return c(v)?i(f.size(),f.storage()):s(f,v,d,!1)},"DenseMatrix, any":function(f,v){return c(v)?i(f.size(),f.storage()):l(f,v,d,!1)},"any, SparseMatrix":function(f,v){return c(f)?i(f.size(),f.storage()):s(v,f,d,!0)},"any, DenseMatrix":function(f,v){return c(f)?i(f.size(),f.storage()):l(v,f,d,!0)},"Array, any":function(f,v){return d(t(f),v).valueOf()},"any, Array":function(f,v){return d(f,t(v)).valueOf()}});return d});vh.createAnd=z1e});var N8=D(Jo=>{"use strict";Object.defineProperty(Jo,"__esModule",{value:!0});Jo.createCompareNumber=Jo.createCompare=void 0;var J1e=Vi(),O8=gr(),D8=oe(),V1e=Vt(),G1e=Gt(),H1e=Ur(),W1e=Wr(),$1e=Du(),mh="compare",Q1e=["typed","config","matrix","equalScalar","BigNumber","Fraction","DenseMatrix"],Y1e=(0,D8.factory)(mh,Q1e,function(e){var r=e.typed,t=e.config,n=e.equalScalar,i=e.matrix,c=e.BigNumber,u=e.Fraction,a=e.DenseMatrix,s=(0,V1e.createAlgorithm03)({typed:r}),o=(0,$1e.createAlgorithm05)({typed:r,equalScalar:n}),l=(0,G1e.createAlgorithm12)({typed:r,DenseMatrix:a}),d=(0,W1e.createAlgorithm13)({typed:r}),p=(0,H1e.createAlgorithm14)({typed:r}),f=r(mh,{"boolean, boolean":function(h,m){return h===m?0:h>m?1:-1},"number, number":function(h,m){return(0,O8.nearlyEqual)(h,m,t.epsilon)?0:h>m?1:-1},"BigNumber, BigNumber":function(h,m){return(0,J1e.nearlyEqual)(h,m,t.epsilon)?new c(0):new c(h.cmp(m))},"Fraction, Fraction":function(h,m){return new u(h.compare(m))},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(h,m){if(!h.equalBase(m))throw new Error("Cannot compare units with different base");return f(h.value,m.value)},"SparseMatrix, SparseMatrix":function(h,m){return o(h,m,f)},"SparseMatrix, DenseMatrix":function(h,m){return s(m,h,f,!0)},"DenseMatrix, SparseMatrix":function(h,m){return s(h,m,f,!1)},"DenseMatrix, DenseMatrix":function(h,m){return d(h,m,f)},"Array, Array":function(h,m){return f(i(h),i(m)).valueOf()},"Array, Matrix":function(h,m){return f(i(h),m)},"Matrix, Array":function(h,m){return f(h,i(m))},"SparseMatrix, any":function(h,m){return l(h,m,f,!1)},"DenseMatrix, any":function(h,m){return p(h,m,f,!1)},"any, SparseMatrix":function(h,m){return l(m,h,f,!0)},"any, DenseMatrix":function(h,m){return p(m,h,f,!0)},"Array, any":function(h,m){return p(i(h),m,f,!1).valueOf()},"any, Array":function(h,m){return p(i(m),h,f,!0).valueOf()}});return f});Jo.createCompare=Y1e;var Z1e=(0,D8.factory)(mh,["typed","config"],function(e){var r=e.typed,t=e.config;return r(mh,{"number, number":function(i,c){return(0,O8.nearlyEqual)(i,c,t.epsilon)?0:i>c?1:-1}})});Jo.createCompareNumber=Z1e});var A8=D((rJr,C8)=>{C8.exports=function e(r,t){"use strict";var n=/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,i=/(^[ ]*|[ ]*$)/g,c=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,u=/^0x[0-9a-f]+$/i,a=/^0/,s=function(b){return e.insensitive&&(""+b).toLowerCase()||""+b},o=s(r).replace(i,"")||"",l=s(t).replace(i,"")||"",d=o.replace(n,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),p=l.replace(n,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),f=parseInt(o.match(u),16)||d.length!==1&&o.match(c)&&Date.parse(o),v=parseInt(l.match(u),16)||f&&l.match(c)&&Date.parse(l)||null,h,m;if(v){if(f<v)return-1;if(f>v)return 1}for(var y=0,g=Math.max(d.length,p.length);y<g;y++){if(h=!(d[y]||"").match(a)&&parseFloat(d[y])||d[y]||0,m=!(p[y]||"").match(a)&&parseFloat(p[y])||p[y]||0,isNaN(h)!==isNaN(m))return isNaN(h)?1:-1;if(typeof h!=typeof m&&(h+="",m+=""),h<m)return-1;if(h>m)return 1}return 0}});var P8=D(yh=>{"use strict";Object.defineProperty(yh,"__esModule",{value:!0});yh.createCompareNatural=void 0;var Vo=K1e(A8()),Aa=He(),X1e=oe();function K1e(e){return e&&e.__esModule?e:{default:e}}var M8="compareNatural",ewe=["typed","compare"],rwe=(0,X1e.factory)(M8,ewe,function(e){var r=e.typed,t=e.compare,n=t.signatures["boolean,boolean"],i=r(M8,{"any, any":function(o,l){var d=(0,Aa.typeOf)(o),p=(0,Aa.typeOf)(l),f;if((d==="number"||d==="BigNumber"||d==="Fraction")&&(p==="number"||p==="BigNumber"||p==="Fraction"))return f=t(o,l),f.toString()!=="0"?f>0?1:-1:(0,Vo.default)(d,p);if(d==="Array"||d==="Matrix"||p==="Array"||p==="Matrix")return f=c(o,l),f!==0?f:(0,Vo.default)(d,p);if(d!==p)return(0,Vo.default)(d,p);if(d==="Complex")return twe(o,l);if(d==="Unit")return o.equalBase(l)?i(o.value,l.value):u(o.formatUnits(),l.formatUnits());if(d==="boolean")return n(o,l);if(d==="string")return(0,Vo.default)(o,l);if(d==="Object")return a(o,l);if(d==="null"||d==="undefined")return 0;throw new TypeError('Unsupported type of value "'+d+'"')}});function c(s,o){return(0,Aa.isSparseMatrix)(s)&&(0,Aa.isSparseMatrix)(o)?u(s.toJSON().values,o.toJSON().values):(0,Aa.isSparseMatrix)(s)?c(s.toArray(),o):(0,Aa.isSparseMatrix)(o)?c(s,o.toArray()):(0,Aa.isDenseMatrix)(s)?c(s.toJSON().data,o):(0,Aa.isDenseMatrix)(o)?c(s,o.toJSON().data):Array.isArray(s)?Array.isArray(o)?u(s,o):c(s,[o]):c([s],o)}function u(s,o){for(var l=0,d=Math.min(s.length,o.length);l<d;l++){var p=i(s[l],o[l]);if(p!==0)return p}return s.length>o.length?1:s.length<o.length?-1:0}function a(s,o){var l=Object.keys(s),d=Object.keys(o);l.sort(Vo.default),d.sort(Vo.default);var p=u(l,d);if(p!==0)return p;for(var f=0;f<l.length;f++){var v=i(s[l[f]],o[d[f]]);if(v!==0)return v}return 0}return i});yh.createCompareNatural=rwe;function twe(e,r){return e.re>r.re?1:e.re<r.re?-1:e.im>r.im?1:e.im<r.im?-1:0}});var q8=D(Go=>{"use strict";Object.defineProperty(Go,"__esModule",{value:!0});Go.createCompareTextNumber=Go.createCompareText=void 0;var Es=Xr(),E8=oe(),nwe=Ur(),iwe=Wr(),gh="compareText",awe=["typed","matrix"],swe=(0,E8.factory)(gh,awe,function(e){var r=e.typed,t=e.matrix,n=(0,iwe.createAlgorithm13)({typed:r}),i=(0,nwe.createAlgorithm14)({typed:r}),c=r(gh,{"any, any":Es.compareText,"DenseMatrix, DenseMatrix":function(a,s){return n(a,s,Es.compareText)},"Array, Array":function(a,s){return c(t(a),t(s)).valueOf()},"Array, Matrix":function(a,s){return c(t(a),s)},"Matrix, Array":function(a,s){return c(a,t(s))},"DenseMatrix, any":function(a,s){return i(a,s,Es.compareText,!1)},"any, DenseMatrix":function(a,s){return i(s,a,Es.compareText,!0)},"Array, any":function(a,s){return i(t(a),s,Es.compareText,!1).valueOf()},"any, Array":function(a,s){return i(t(s),a,Es.compareText,!0).valueOf()}});return c});Go.createCompareText=swe;var owe=(0,E8.factory)(gh,["typed"],function(e){var r=e.typed;return r(gh,{"any, any":Es.compareText})});Go.createCompareTextNumber=owe});var B8=D(Ho=>{"use strict";Object.defineProperty(Ho,"__esModule",{value:!0});Ho.createEqualNumber=Ho.createEqual=void 0;var I8=oe(),cwe=Vt(),uwe=Kn(),lwe=Gt(),dwe=Wr(),pwe=Ur(),bh="equal",fwe=["typed","matrix","equalScalar","DenseMatrix"],hwe=(0,I8.factory)(bh,fwe,function(e){var r=e.typed,t=e.matrix,n=e.equalScalar,i=e.DenseMatrix,c=(0,cwe.createAlgorithm03)({typed:r}),u=(0,uwe.createAlgorithm07)({typed:r,DenseMatrix:i}),a=(0,lwe.createAlgorithm12)({typed:r,DenseMatrix:i}),s=(0,dwe.createAlgorithm13)({typed:r}),o=(0,pwe.createAlgorithm14)({typed:r}),l=r(bh,{"any, any":function(p,f){return p===null?f===null:f===null?p===null:p===void 0?f===void 0:f===void 0?p===void 0:n(p,f)},"SparseMatrix, SparseMatrix":function(p,f){return u(p,f,n)},"SparseMatrix, DenseMatrix":function(p,f){return c(f,p,n,!0)},"DenseMatrix, SparseMatrix":function(p,f){return c(p,f,n,!1)},"DenseMatrix, DenseMatrix":function(p,f){return s(p,f,n)},"Array, Array":function(p,f){return l(t(p),t(f)).valueOf()},"Array, Matrix":function(p,f){return l(t(p),f)},"Matrix, Array":function(p,f){return l(p,t(f))},"SparseMatrix, any":function(p,f){return a(p,f,n,!1)},"DenseMatrix, any":function(p,f){return o(p,f,n,!1)},"any, SparseMatrix":function(p,f){return a(f,p,n,!0)},"any, DenseMatrix":function(p,f){return o(f,p,n,!0)},"Array, any":function(p,f){return o(t(p),f,n,!1).valueOf()},"any, Array":function(p,f){return o(t(f),p,n,!0).valueOf()}});return l});Ho.createEqual=hwe;var vwe=(0,I8.factory)(bh,["typed","equalScalar"],function(e){var r=e.typed,t=e.equalScalar;return r(bh,{"any, any":function(i,c){return i===null?c===null:c===null?i===null:i===void 0?c===void 0:c===void 0?i===void 0:t(i,c)}})});Ho.createEqualNumber=vwe});var j8=D(_h=>{"use strict";Object.defineProperty(_h,"__esModule",{value:!0});_h.createEqualText=void 0;var mwe=oe(),k8="equalText",ywe=["typed","compareText","isZero"],gwe=(0,mwe.factory)(k8,ywe,function(e){var r=e.typed,t=e.compareText,n=e.isZero;return r(k8,{"any, any":function(c,u){return n(t(c,u))}})});_h.createEqualText=gwe});var F8=D(Wo=>{"use strict";Object.defineProperty(Wo,"__esModule",{value:!0});Wo.createSmallerNumber=Wo.createSmaller=void 0;var bwe=Vi(),T8=gr(),R8=oe(),_we=Vt(),wwe=Kn(),Swe=Gt(),xwe=Ur(),Owe=Wr(),wh="smaller",Dwe=["typed","config","matrix","DenseMatrix"],Nwe=(0,R8.factory)(wh,Dwe,function(e){var r=e.typed,t=e.config,n=e.matrix,i=e.DenseMatrix,c=(0,_we.createAlgorithm03)({typed:r}),u=(0,wwe.createAlgorithm07)({typed:r,DenseMatrix:i}),a=(0,Swe.createAlgorithm12)({typed:r,DenseMatrix:i}),s=(0,Owe.createAlgorithm13)({typed:r}),o=(0,xwe.createAlgorithm14)({typed:r}),l=r(wh,{"boolean, boolean":function(p,f){return p<f},"number, number":function(p,f){return p<f&&!(0,T8.nearlyEqual)(p,f,t.epsilon)},"BigNumber, BigNumber":function(p,f){return p.lt(f)&&!(0,bwe.nearlyEqual)(p,f,t.epsilon)},"Fraction, Fraction":function(p,f){return p.compare(f)===-1},"Complex, Complex":function(p,f){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(p,f){if(!p.equalBase(f))throw new Error("Cannot compare units with different base");return l(p.value,f.value)},"SparseMatrix, SparseMatrix":function(p,f){return u(p,f,l)},"SparseMatrix, DenseMatrix":function(p,f){return c(f,p,l,!0)},"DenseMatrix, SparseMatrix":function(p,f){return c(p,f,l,!1)},"DenseMatrix, DenseMatrix":function(p,f){return s(p,f,l)},"Array, Array":function(p,f){return l(n(p),n(f)).valueOf()},"Array, Matrix":function(p,f){return l(n(p),f)},"Matrix, Array":function(p,f){return l(p,n(f))},"SparseMatrix, any":function(p,f){return a(p,f,l,!1)},"DenseMatrix, any":function(p,f){return o(p,f,l,!1)},"any, SparseMatrix":function(p,f){return a(f,p,l,!0)},"any, DenseMatrix":function(p,f){return o(f,p,l,!0)},"Array, any":function(p,f){return o(n(p),f,l,!1).valueOf()},"any, Array":function(p,f){return o(n(f),p,l,!0).valueOf()}});return l});Wo.createSmaller=Nwe;var Cwe=(0,R8.factory)(wh,["typed","config"],function(e){var r=e.typed,t=e.config;return r(wh,{"number, number":function(i,c){return i<c&&!(0,T8.nearlyEqual)(i,c,t.epsilon)}})});Wo.createSmallerNumber=Cwe});var z8=D($o=>{"use strict";Object.defineProperty($o,"__esModule",{value:!0});$o.createSmallerEqNumber=$o.createSmallerEq=void 0;var Awe=Vi(),L8=gr(),U8=oe(),Mwe=Vt(),Pwe=Kn(),Ewe=Gt(),qwe=Ur(),Iwe=Wr(),Sh="smallerEq",Bwe=["typed","config","matrix","DenseMatrix"],kwe=(0,U8.factory)(Sh,Bwe,function(e){var r=e.typed,t=e.config,n=e.matrix,i=e.DenseMatrix,c=(0,Mwe.createAlgorithm03)({typed:r}),u=(0,Pwe.createAlgorithm07)({typed:r,DenseMatrix:i}),a=(0,Ewe.createAlgorithm12)({typed:r,DenseMatrix:i}),s=(0,Iwe.createAlgorithm13)({typed:r}),o=(0,qwe.createAlgorithm14)({typed:r}),l=r(Sh,{"boolean, boolean":function(p,f){return p<=f},"number, number":function(p,f){return p<=f||(0,L8.nearlyEqual)(p,f,t.epsilon)},"BigNumber, BigNumber":function(p,f){return p.lte(f)||(0,Awe.nearlyEqual)(p,f,t.epsilon)},"Fraction, Fraction":function(p,f){return p.compare(f)!==1},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(p,f){if(!p.equalBase(f))throw new Error("Cannot compare units with different base");return l(p.value,f.value)},"SparseMatrix, SparseMatrix":function(p,f){return u(p,f,l)},"SparseMatrix, DenseMatrix":function(p,f){return c(f,p,l,!0)},"DenseMatrix, SparseMatrix":function(p,f){return c(p,f,l,!1)},"DenseMatrix, DenseMatrix":function(p,f){return s(p,f,l)},"Array, Array":function(p,f){return l(n(p),n(f)).valueOf()},"Array, Matrix":function(p,f){return l(n(p),f)},"Matrix, Array":function(p,f){return l(p,n(f))},"SparseMatrix, any":function(p,f){return a(p,f,l,!1)},"DenseMatrix, any":function(p,f){return o(p,f,l,!1)},"any, SparseMatrix":function(p,f){return a(f,p,l,!0)},"any, DenseMatrix":function(p,f){return o(f,p,l,!0)},"Array, any":function(p,f){return o(n(p),f,l,!1).valueOf()},"any, Array":function(p,f){return o(n(f),p,l,!0).valueOf()}});return l});$o.createSmallerEq=kwe;var jwe=(0,U8.factory)(Sh,["typed","config"],function(e){var r=e.typed,t=e.config;return r(Sh,{"number, number":function(i,c){return i<=c||(0,L8.nearlyEqual)(i,c,t.epsilon)}})});$o.createSmallerEqNumber=jwe});var G8=D(Qo=>{"use strict";Object.defineProperty(Qo,"__esModule",{value:!0});Qo.createLargerNumber=Qo.createLarger=void 0;var Twe=Vi(),J8=gr(),V8=oe(),Rwe=Vt(),Fwe=Kn(),Lwe=Gt(),Uwe=Ur(),zwe=Wr(),xh="larger",Jwe=["typed","config","matrix","DenseMatrix"],Vwe=(0,V8.factory)(xh,Jwe,function(e){var r=e.typed,t=e.config,n=e.matrix,i=e.DenseMatrix,c=(0,Rwe.createAlgorithm03)({typed:r}),u=(0,Fwe.createAlgorithm07)({typed:r,DenseMatrix:i}),a=(0,Lwe.createAlgorithm12)({typed:r,DenseMatrix:i}),s=(0,zwe.createAlgorithm13)({typed:r}),o=(0,Uwe.createAlgorithm14)({typed:r}),l=r(xh,{"boolean, boolean":function(p,f){return p>f},"number, number":function(p,f){return p>f&&!(0,J8.nearlyEqual)(p,f,t.epsilon)},"BigNumber, BigNumber":function(p,f){return p.gt(f)&&!(0,Twe.nearlyEqual)(p,f,t.epsilon)},"Fraction, Fraction":function(p,f){return p.compare(f)===1},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(p,f){if(!p.equalBase(f))throw new Error("Cannot compare units with different base");return l(p.value,f.value)},"SparseMatrix, SparseMatrix":function(p,f){return u(p,f,l)},"SparseMatrix, DenseMatrix":function(p,f){return c(f,p,l,!0)},"DenseMatrix, SparseMatrix":function(p,f){return c(p,f,l,!1)},"DenseMatrix, DenseMatrix":function(p,f){return s(p,f,l)},"Array, Array":function(p,f){return l(n(p),n(f)).valueOf()},"Array, Matrix":function(p,f){return l(n(p),f)},"Matrix, Array":function(p,f){return l(p,n(f))},"SparseMatrix, any":function(p,f){return a(p,f,l,!1)},"DenseMatrix, any":function(p,f){return o(p,f,l,!1)},"any, SparseMatrix":function(p,f){return a(f,p,l,!0)},"any, DenseMatrix":function(p,f){return o(f,p,l,!0)},"Array, any":function(p,f){return o(n(p),f,l,!1).valueOf()},"any, Array":function(p,f){return o(n(f),p,l,!0).valueOf()}});return l});Qo.createLarger=Vwe;var Gwe=(0,V8.factory)(xh,["typed","config"],function(e){var r=e.typed,t=e.config;return r(xh,{"number, number":function(i,c){return i>c&&!(0,J8.nearlyEqual)(i,c,t.epsilon)}})});Qo.createLargerNumber=Gwe});var $8=D(Yo=>{"use strict";Object.defineProperty(Yo,"__esModule",{value:!0});Yo.createLargerEqNumber=Yo.createLargerEq=void 0;var Hwe=Vi(),H8=gr(),W8=oe(),Wwe=Vt(),$we=Kn(),Qwe=Gt(),Ywe=Ur(),Zwe=Wr(),Oh="largerEq",Xwe=["typed","config","matrix","DenseMatrix"],Kwe=(0,W8.factory)(Oh,Xwe,function(e){var r=e.typed,t=e.config,n=e.matrix,i=e.DenseMatrix,c=(0,Wwe.createAlgorithm03)({typed:r}),u=(0,$we.createAlgorithm07)({typed:r,DenseMatrix:i}),a=(0,Qwe.createAlgorithm12)({typed:r,DenseMatrix:i}),s=(0,Zwe.createAlgorithm13)({typed:r}),o=(0,Ywe.createAlgorithm14)({typed:r}),l=r(Oh,{"boolean, boolean":function(p,f){return p>=f},"number, number":function(p,f){return p>=f||(0,H8.nearlyEqual)(p,f,t.epsilon)},"BigNumber, BigNumber":function(p,f){return p.gte(f)||(0,Hwe.nearlyEqual)(p,f,t.epsilon)},"Fraction, Fraction":function(p,f){return p.compare(f)!==-1},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(p,f){if(!p.equalBase(f))throw new Error("Cannot compare units with different base");return l(p.value,f.value)},"SparseMatrix, SparseMatrix":function(p,f){return u(p,f,l)},"SparseMatrix, DenseMatrix":function(p,f){return c(f,p,l,!0)},"DenseMatrix, SparseMatrix":function(p,f){return c(p,f,l,!1)},"DenseMatrix, DenseMatrix":function(p,f){return s(p,f,l)},"Array, Array":function(p,f){return l(n(p),n(f)).valueOf()},"Array, Matrix":function(p,f){return l(n(p),f)},"Matrix, Array":function(p,f){return l(p,n(f))},"SparseMatrix, any":function(p,f){return a(p,f,l,!1)},"DenseMatrix, any":function(p,f){return o(p,f,l,!1)},"any, SparseMatrix":function(p,f){return a(f,p,l,!0)},"any, DenseMatrix":function(p,f){return o(f,p,l,!0)},"Array, any":function(p,f){return o(n(p),f,l,!1).valueOf()},"any, Array":function(p,f){return o(n(f),p,l,!0).valueOf()}});return l});Yo.createLargerEq=Kwe;var eSe=(0,W8.factory)(Oh,["typed","config"],function(e){var r=e.typed,t=e.config;return r(Oh,{"number, number":function(i,c){return i>=c||(0,H8.nearlyEqual)(i,c,t.epsilon)}})});Yo.createLargerEqNumber=eSe});var Y8=D(Dh=>{"use strict";Object.defineProperty(Dh,"__esModule",{value:!0});Dh.createDeepEqual=void 0;var rSe=oe(),Q8="deepEqual",tSe=["typed","equal"],nSe=(0,rSe.factory)(Q8,tSe,function(e){var r=e.typed,t=e.equal;return r(Q8,{"any, any":function(c,u){return n(c.valueOf(),u.valueOf())}});function n(i,c){if(Array.isArray(i))if(Array.isArray(c)){var u=i.length;if(u!==c.length)return!1;for(var a=0;a<u;a++)if(!n(i[a],c[a]))return!1;return!0}else return!1;else return Array.isArray(c)?!1:t(i,c)}});Dh.createDeepEqual=nSe});var X8=D(Zo=>{"use strict";Object.defineProperty(Zo,"__esModule",{value:!0});Zo.createUnequalNumber=Zo.createUnequal=void 0;var Z8=oe(),iSe=Vt(),aSe=Kn(),sSe=Gt(),oSe=Ur(),cSe=Wr(),ZC="unequal",uSe=["typed","config","equalScalar","matrix","DenseMatrix"],lSe=(0,Z8.factory)(ZC,uSe,function(e){var r=e.typed,t=e.config,n=e.equalScalar,i=e.matrix,c=e.DenseMatrix,u=(0,iSe.createAlgorithm03)({typed:r}),a=(0,aSe.createAlgorithm07)({typed:r,DenseMatrix:c}),s=(0,sSe.createAlgorithm12)({typed:r,DenseMatrix:c}),o=(0,cSe.createAlgorithm13)({typed:r}),l=(0,oSe.createAlgorithm14)({typed:r}),d=r("unequal",{"any, any":function(v,h){return v===null?h!==null:h===null?v!==null:v===void 0?h!==void 0:h===void 0?v!==void 0:p(v,h)},"SparseMatrix, SparseMatrix":function(v,h){return a(v,h,p)},"SparseMatrix, DenseMatrix":function(v,h){return u(h,v,p,!0)},"DenseMatrix, SparseMatrix":function(v,h){return u(v,h,p,!1)},"DenseMatrix, DenseMatrix":function(v,h){return o(v,h,p)},"Array, Array":function(v,h){return d(i(v),i(h)).valueOf()},"Array, Matrix":function(v,h){return d(i(v),h)},"Matrix, Array":function(v,h){return d(v,i(h))},"SparseMatrix, any":function(v,h){return s(v,h,p,!1)},"DenseMatrix, any":function(v,h){return l(v,h,p,!1)},"any, SparseMatrix":function(v,h){return s(h,v,p,!0)},"any, DenseMatrix":function(v,h){return l(h,v,p,!0)},"Array, any":function(v,h){return l(i(v),h,p,!1).valueOf()},"any, Array":function(v,h){return l(i(h),v,p,!0).valueOf()}});function p(f,v){return!n(f,v)}return d});Zo.createUnequal=lSe;var dSe=(0,Z8.factory)(ZC,["typed","equalScalar"],function(e){var r=e.typed,t=e.equalScalar;return r(ZC,{"any, any":function(i,c){return i===null?c!==null:c===null?i!==null:i===void 0?c!==void 0:c===void 0?i!==void 0:!t(i,c)}})});Zo.createUnequalNumber=dSe});var eR=D(Nh=>{"use strict";Object.defineProperty(Nh,"__esModule",{value:!0});Nh.createPartitionSelect=void 0;var pSe=He(),fSe=gr(),hSe=oe(),K8="partitionSelect",vSe=["typed","isNumeric","isNaN","compare"],mSe=(0,hSe.factory)(K8,vSe,function(e){var r=e.typed,t=e.isNumeric,n=e.isNaN,i=e.compare,c=i,u=function(l,d){return-i(l,d)};return r(K8,{"Array | Matrix, number":function(l,d){return a(l,d,c)},"Array | Matrix, number, string":function(l,d,p){if(p==="asc")return a(l,d,c);if(p==="desc")return a(l,d,u);throw new Error('Compare string must be "asc" or "desc"')},"Array | Matrix, number, function":a});function a(o,l,d){if(!(0,fSe.isInteger)(l)||l<0)throw new Error("k must be a non-negative integer");if((0,pSe.isMatrix)(o)){var p=o.size();if(p.length>1)throw new Error("Only one dimensional matrices supported");return s(o.valueOf(),l,d)}if(Array.isArray(o))return s(o,l,d)}function s(o,l,d){if(l>=o.length)throw new Error("k out of bounds");for(var p=0;p<o.length;p++)if(t(o[p])&&n(o[p]))return o[p];for(var f=0,v=o.length-1;f<v;){for(var h=f,m=v,y=o[Math.floor(Math.random()*(v-f+1))+f];h<m;)if(d(o[h],y)>=0){var g=o[m];o[m]=o[h],o[h]=g,--m}else++h;d(o[h],y)>0&&--h,l<=h?v=h:f=h+1}return o[l]}});Nh.createPartitionSelect=mSe});var tR=D(Ch=>{"use strict";Object.defineProperty(Ch,"__esModule",{value:!0});Ch.createSort=void 0;var ySe=er(),gSe=oe(),rR="sort",bSe=["typed","matrix","compare","compareNatural"],_Se=(0,gSe.factory)(rR,bSe,function(e){var r=e.typed,t=e.matrix,n=e.compare,i=e.compareNatural,c=n,u=function(d,p){return-n(d,p)};return r(rR,{Array:function(d){return s(d),d.sort(c)},Matrix:function(d){return o(d),t(d.toArray().sort(c),d.storage())},"Array, function":function(d,p){return s(d),d.sort(p)},"Matrix, function":function(d,p){return o(d),t(d.toArray().sort(p),d.storage())},"Array, string":function(d,p){return s(d),d.sort(a(p))},"Matrix, string":function(d,p){return o(d),t(d.toArray().sort(a(p)),d.storage())}});function a(l){if(l==="asc")return c;if(l==="desc")return u;if(l==="natural")return i;throw new Error('String "asc", "desc", or "natural" expected')}function s(l){if((0,ySe.arraySize)(l).length!==1)throw new Error("One dimensional array expected")}function o(l){if(l.size().length!==1)throw new Error("One dimensional matrix expected")}});Ch.createSort=_Se});var KC=D(Ah=>{"use strict";Object.defineProperty(Ah,"__esModule",{value:!0});Ah.createMax=void 0;var XC=Qe(),wSe=oe(),nR=Qi(),iR="max",SSe=["typed","larger"],xSe=(0,wSe.factory)(iR,SSe,function(e){var r=e.typed,t=e.larger;return r(iR,{"Array | Matrix":i,"Array | Matrix, number | BigNumber":function(u,a){return(0,XC.reduce)(u,a.valueOf(),n)},"...":function(u){if((0,XC.containsCollections)(u))throw new TypeError("Scalar values expected in function max");return i(u)}});function n(c,u){try{return t(c,u)?c:u}catch(a){throw(0,nR.improveErrorMessage)(a,"max",u)}}function i(c){var u;if((0,XC.deepForEach)(c,function(a){try{isNaN(a)&&typeof a=="number"?u=NaN:(u===void 0||t(a,u))&&(u=a)}catch(s){throw(0,nR.improveErrorMessage)(s,"max",a)}}),u===void 0)throw new Error("Cannot calculate max of an empty array");return u}});Ah.createMax=xSe});var rA=D(Mh=>{"use strict";Object.defineProperty(Mh,"__esModule",{value:!0});Mh.createMin=void 0;var eA=Qe(),OSe=oe(),aR=Qi(),sR="min",DSe=["typed","smaller"],NSe=(0,OSe.factory)(sR,DSe,function(e){var r=e.typed,t=e.smaller;return r(sR,{"Array | Matrix":i,"Array | Matrix, number | BigNumber":function(u,a){return(0,eA.reduce)(u,a.valueOf(),n)},"...":function(u){if((0,eA.containsCollections)(u))throw new TypeError("Scalar values expected in function min");return i(u)}});function n(c,u){try{return t(c,u)?c:u}catch(a){throw(0,aR.improveErrorMessage)(a,"min",u)}}function i(c){var u;if((0,eA.deepForEach)(c,function(a){try{isNaN(a)&&typeof a=="number"?u=NaN:(u===void 0||t(a,u))&&(u=a)}catch(s){throw(0,aR.improveErrorMessage)(s,"min",a)}}),u===void 0)throw new Error("Cannot calculate min of an empty array");return u}});Mh.createMin=NSe});var cR=D(Ph=>{"use strict";Object.defineProperty(Ph,"__esModule",{value:!0});Ph.createImmutableDenseMatrixClass=void 0;var qs=He(),oR=yr(),CSe=oe(),ASe="ImmutableDenseMatrix",MSe=["smaller","DenseMatrix"],PSe=(0,CSe.factory)(ASe,MSe,function(e){var r=e.smaller,t=e.DenseMatrix;function n(i,c){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(c&&!(0,qs.isString)(c))throw new Error("Invalid datatype: "+c);if((0,qs.isMatrix)(i)||(0,qs.isArray)(i)){var u=new t(i,c);this._data=u._data,this._size=u._size,this._datatype=u._datatype,this._min=null,this._max=null}else if(i&&(0,qs.isArray)(i.data)&&(0,qs.isArray)(i.size))this._data=i.data,this._size=i.size,this._datatype=i.datatype,this._min=typeof i.min<"u"?i.min:null,this._max=typeof i.max<"u"?i.max:null;else{if(i)throw new TypeError("Unsupported type of data ("+(0,qs.typeOf)(i)+")");this._data=[],this._size=[0],this._datatype=c,this._min=null,this._max=null}}return n.prototype=new t,n.prototype.type="ImmutableDenseMatrix",n.prototype.isImmutableDenseMatrix=!0,n.prototype.subset=function(i){switch(arguments.length){case 1:{var c=t.prototype.subset.call(this,i);return(0,qs.isMatrix)(c)?new n({data:c._data,size:c._size,datatype:c._datatype}):c}case 2:case 3:throw new Error("Cannot invoke set subset on an Immutable Matrix instance");default:throw new SyntaxError("Wrong number of arguments")}},n.prototype.set=function(){throw new Error("Cannot invoke set on an Immutable Matrix instance")},n.prototype.resize=function(){throw new Error("Cannot invoke resize on an Immutable Matrix instance")},n.prototype.reshape=function(){throw new Error("Cannot invoke reshape on an Immutable Matrix instance")},n.prototype.clone=function(){return new n({data:(0,oR.clone)(this._data),size:(0,oR.clone)(this._size),datatype:this._datatype})},n.prototype.toJSON=function(){return{mathjs:"ImmutableDenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},n.fromJSON=function(i){return new n(i)},n.prototype.swapRows=function(){throw new Error("Cannot invoke swapRows on an Immutable Matrix instance")},n.prototype.min=function(){if(this._min===null){var i=null;this.forEach(function(c){(i===null||r(c,i))&&(i=c)}),this._min=i!==null?i:void 0}return this._min},n.prototype.max=function(){if(this._max===null){var i=null;this.forEach(function(c){(i===null||r(i,c))&&(i=c)}),this._max=i!==null?i:void 0}return this._max},n},{isClass:!0});Ph.createImmutableDenseMatrixClass=PSe});var lR=D(Eh=>{"use strict";Object.defineProperty(Eh,"__esModule",{value:!0});Eh.createIndexClass=void 0;var uR=He(),ESe=yr(),qSe=gr(),ISe=oe(),BSe="Index",kSe=["ImmutableDenseMatrix"],jSe=(0,ISe.factory)(BSe,kSe,function(e){var r=e.ImmutableDenseMatrix;function t(i){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");this._dimensions=[],this._isScalar=!0;for(var c=0,u=arguments.length;c<u;c++){var a=arguments[c];if((0,uR.isRange)(a))this._dimensions.push(a),this._isScalar=!1;else if(Array.isArray(a)||(0,uR.isMatrix)(a)){var s=n(a.valueOf());this._dimensions.push(s);var o=s.size();(o.length!==1||o[0]!==1)&&(this._isScalar=!1)}else if(typeof a=="number")this._dimensions.push(n([a]));else if(typeof a=="string")this._dimensions.push(a);else throw new TypeError("Dimension must be an Array, Matrix, number, string, or Range")}}t.prototype.type="Index",t.prototype.isIndex=!0;function n(i){for(var c=0,u=i.length;c<u;c++)if(typeof i[c]!="number"||!(0,qSe.isInteger)(i[c]))throw new TypeError("Index parameters must be positive integer numbers");return new r(i)}return t.prototype.clone=function(){var i=new t;return i._dimensions=(0,ESe.clone)(this._dimensions),i._isScalar=this._isScalar,i},t.create=function(i){var c=new t;return t.apply(c,i),c},t.prototype.size=function(){for(var i=[],c=0,u=this._dimensions.length;c<u;c++){var a=this._dimensions[c];i[c]=typeof a=="string"?1:a.size()[0]}return i},t.prototype.max=function(){for(var i=[],c=0,u=this._dimensions.length;c<u;c++){var a=this._dimensions[c];i[c]=typeof a=="string"?a:a.max()}return i},t.prototype.min=function(){for(var i=[],c=0,u=this._dimensions.length;c<u;c++){var a=this._dimensions[c];i[c]=typeof a=="string"?a:a.min()}return i},t.prototype.forEach=function(i){for(var c=0,u=this._dimensions.length;c<u;c++)i(this._dimensions[c],c,this)},t.prototype.dimension=function(i){return this._dimensions[i]||null},t.prototype.isObjectProperty=function(){return this._dimensions.length===1&&typeof this._dimensions[0]=="string"},t.prototype.getObjectProperty=function(){return this.isObjectProperty()?this._dimensions[0]:null},t.prototype.isScalar=function(){return this._isScalar},t.prototype.toArray=function(){for(var i=[],c=0,u=this._dimensions.length;c<u;c++){var a=this._dimensions[c];i.push(typeof a=="string"?a:a.toArray())}return i},t.prototype.valueOf=t.prototype.toArray,t.prototype.toString=function(){for(var i=[],c=0,u=this._dimensions.length;c<u;c++){var a=this._dimensions[c];typeof a=="string"?i.push(JSON.stringify(a)):i.push(a.toString())}return"["+i.join(", ")+"]"},t.prototype.toJSON=function(){return{mathjs:"Index",dimensions:this._dimensions}},t.fromJSON=function(i){return t.create(i.dimensions)},t},{isClass:!0});Eh.createIndexClass=jSe});var dR=D(qh=>{"use strict";Object.defineProperty(qh,"__esModule",{value:!0});qh.createFibonacciHeapClass=void 0;var TSe=oe(),RSe="FibonacciHeap",FSe=["smaller","larger"],LSe=(0,TSe.factory)(RSe,FSe,function(e){var r=e.smaller,t=e.larger,n=1/Math.log((1+Math.sqrt(5))/2);function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this._minimum=null,this._size=0}i.prototype.type="FibonacciHeap",i.prototype.isFibonacciHeap=!0,i.prototype.insert=function(l,d){var p={key:l,value:d,degree:0};if(this._minimum){var f=this._minimum;p.left=f,p.right=f.right,f.right=p,p.right.left=p,r(l,f.key)&&(this._minimum=p)}else p.left=p,p.right=p,this._minimum=p;return this._size++,p},i.prototype.size=function(){return this._size},i.prototype.clear=function(){this._minimum=null,this._size=0},i.prototype.isEmpty=function(){return this._size===0},i.prototype.extractMinimum=function(){var l=this._minimum;if(l===null)return l;for(var d=this._minimum,p=l.degree,f=l.child;p>0;){var v=f.right;f.left.right=f.right,f.right.left=f.left,f.left=d,f.right=d.right,d.right=f,f.right.left=f,f.parent=null,f=v,p--}return l.left.right=l.right,l.right.left=l.left,l===l.right?d=null:(d=l.right,d=o(d,this._size)),this._size--,this._minimum=d,l},i.prototype.remove=function(l){this._minimum=c(this._minimum,l,-1),this.extractMinimum()};function c(l,d,p){d.key=p;var f=d.parent;return f&&r(d.key,f.key)&&(u(l,d,f),a(l,f)),r(d.key,l.key)&&(l=d),l}function u(l,d,p){d.left.right=d.right,d.right.left=d.left,p.degree--,p.child===d&&(p.child=d.right),p.degree===0&&(p.child=null),d.left=l,d.right=l.right,l.right=d,d.right.left=d,d.parent=null,d.mark=!1}function a(l,d){var p=d.parent;!p||(d.mark?(u(l,d,p),a(p)):d.mark=!0)}var s=function(d,p){d.left.right=d.right,d.right.left=d.left,d.parent=p,p.child?(d.left=p.child,d.right=p.child.right,p.child.right=d,d.right.left=d):(p.child=d,d.right=d,d.left=d),p.degree++,d.mark=!1};function o(l,d){var p=Math.floor(Math.log(d)*n)+1,f=new Array(p),v=0,h=l;if(h)for(v++,h=h.right;h!==l;)v++,h=h.right;for(var m;v>0;){for(var y=h.degree,g=h.right;m=f[y],!!m;){if(t(h.key,m.key)){var b=m;m=h,h=b}s(m,h),f[y]=null,y++}f[y]=h,h=g,v--}l=null;for(var _=0;_<p;_++)m=f[_],m&&(l?(m.left.right=m.right,m.right.left=m.left,m.left=l,m.right=l.right,l.right=m,m.right.left=m,r(m.key,l.key)&&(l=m)):l=m);return l}return i},{isClass:!0});qh.createFibonacciHeapClass=LSe});var pR=D(Ih=>{"use strict";Object.defineProperty(Ih,"__esModule",{value:!0});Ih.createSpaClass=void 0;var USe=oe(),zSe="Spa",JSe=["addScalar","equalScalar","FibonacciHeap"],VSe=(0,USe.factory)(zSe,JSe,function(e){var r=e.addScalar,t=e.equalScalar,n=e.FibonacciHeap;function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this._values=[],this._heap=new n}return i.prototype.type="Spa",i.prototype.isSpa=!0,i.prototype.set=function(c,u){if(this._values[c])this._values[c].value=u;else{var a=this._heap.insert(c,u);this._values[c]=a}},i.prototype.get=function(c){var u=this._values[c];return u?u.value:0},i.prototype.accumulate=function(c,u){var a=this._values[c];a?a.value=r(a.value,u):(a=this._heap.insert(c,u),this._values[c]=a)},i.prototype.forEach=function(c,u,a){var s=this._heap,o=this._values,l=[],d=s.extractMinimum();for(d&&l.push(d);d&&d.key<=u;)d.key>=c&&(t(d.value,0)||a(d.key,d.value,this)),d=s.extractMinimum(),d&&l.push(d);for(var p=0;p<l.length;p++){var f=l[p];d=s.insert(f.key,f.value),o[d.key]=d}},i.prototype.swap=function(c,u){var a=this._values[c],s=this._values[u];if(!a&&s)a=this._heap.insert(c,s.value),this._heap.remove(s),this._values[c]=a,this._values[u]=void 0;else if(a&&!s)s=this._heap.insert(u,a.value),this._heap.remove(a),this._values[u]=s,this._values[c]=void 0;else if(a&&s){var o=a.value;a.value=s.value,s.value=o}},i},{isClass:!0});Ih.createSpaClass=VSe});var tA=D(wi=>{"use strict";Object.defineProperty(wi,"__esModule",{value:!0});wi.createBigNumberTau=wi.createBigNumberPi=wi.createBigNumberPhi=wi.createBigNumberE=void 0;var Bh=Na(),GSe=(0,Bh.memoize)(function(e){return new e(1).exp()},kh);wi.createBigNumberE=GSe;var HSe=(0,Bh.memoize)(function(e){return new e(1).plus(new e(5).sqrt()).div(2)},kh);wi.createBigNumberPhi=HSe;var fR=(0,Bh.memoize)(function(e){return e.acos(-1)},kh);wi.createBigNumberPi=fR;var WSe=(0,Bh.memoize)(function(e){return fR(e).times(2)},kh);wi.createBigNumberTau=WSe;function kh(e){return e[0].precision}});var hR=D(jh=>{"use strict";Object.defineProperty(jh,"__esModule",{value:!0});jh.createUnitClass=void 0;var Ma=He(),$Se=oe(),QSe=Xr(),yt=yr(),YSe=tA();function Pu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Pu=function(t){return typeof t}:Pu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pu(e)}function Eu(){return Eu=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Eu.apply(this,arguments)}var ZSe="Unit",XSe=["?on","config","addScalar","subtract","multiplyScalar","divideScalar","pow","abs","fix","round","equal","isNumeric","format","number","Complex","BigNumber","Fraction"],KSe=(0,$Se.factory)(ZSe,XSe,function(e){var r=e.on,t=e.config,n=e.addScalar,i=e.subtract,c=e.multiplyScalar,u=e.divideScalar,a=e.pow,s=e.abs,o=e.fix,l=e.round,d=e.equal,p=e.isNumeric,f=e.format,v=e.number,h=e.Complex,m=e.BigNumber,y=e.Fraction,g=v;function b(ie,pe){if(!(this instanceof b))throw new Error("Constructor must be called with the new operator");if(!(ie==null||p(ie)||(0,Ma.isComplex)(ie)))throw new TypeError("First parameter in Unit constructor must be number, BigNumber, Fraction, Complex, or undefined");if(pe!==void 0&&(typeof pe!="string"||pe===""))throw new TypeError("Second parameter in Unit constructor must be a string");if(pe!==void 0){var te=b.parse(pe);this.units=te.units,this.dimensions=te.dimensions}else{this.units=[{unit:ye,prefix:P.NONE,power:0}],this.dimensions=[];for(var ce=0;ce<V.length;ce++)this.dimensions[ce]=0}this.value=ie!=null?this._normalize(ie):null,this.fixPrefix=!1,this.skipAutomaticSimplification=!0}b.prototype.type="Unit",b.prototype.isUnit=!0;var _,S,w;function O(){for(;w===" "||w==="	";)M()}function x(ie){return ie>="0"&&ie<="9"||ie==="."}function N(ie){return ie>="0"&&ie<="9"}function M(){S++,w=_.charAt(S)}function I(ie){S=ie,w=_.charAt(S)}function q(){var ie="",pe=S;if(w==="+"?M():w==="-"&&(ie+=w,M()),!x(w))return I(pe),null;if(w==="."){if(ie+=w,M(),!N(w))return I(pe),null}else{for(;N(w);)ie+=w,M();w==="."&&(ie+=w,M())}for(;N(w);)ie+=w,M();if(w==="E"||w==="e"){var te="",ce=S;if(te+=w,M(),(w==="+"||w==="-")&&(te+=w,M()),!N(w))return I(ce),ie;for(ie=ie+te;N(w);)ie+=w,M()}return ie}function z(){for(var ie="",pe=_.charCodeAt(S);pe>=48&&pe<=57||pe>=65&&pe<=90||pe>=97&&pe<=122;)ie+=w,M(),pe=_.charCodeAt(S);return pe=ie.charCodeAt(0),(pe>=65&&pe<=90||pe>=97&&pe<=122)&&ie||null}function R(ie){return w===ie?(M(),ie):null}b.parse=function(ie,pe){if(pe=pe||{},_=ie,S=-1,w="",typeof _!="string")throw new TypeError("Invalid argument in Unit.parse, string expected");var te=new b;te.units=[];var ce=1,ge=!1;M(),O();var ve=q(),Pe=null;if(ve){if(t.number==="BigNumber")Pe=new m(ve);else if(t.number==="Fraction")try{Pe=new y(ve)}catch{Pe=parseFloat(ve)}else Pe=parseFloat(ve);O(),R("*")?(ce=1,ge=!0):R("/")&&(ce=-1,ge=!0)}for(var ke=[],Te=1;;){for(O();w==="(";)ke.push(ce),Te*=ce,ce=1,M(),O();var $e=void 0;if(w){var Ue=w;if($e=z(),$e===null)throw new SyntaxError('Unexpected "'+Ue+'" in "'+_+'" at index '+S.toString())}else break;var Ze=j($e);if(Ze===null)throw new SyntaxError('Unit "'+$e+'" not found.');var Pr=ce*Te;if(O(),R("^")){O();var Qr=q();if(Qr===null)throw new SyntaxError('In "'+ie+'", "^" must be followed by a floating-point number');Pr*=Qr}te.units.push({unit:Ze.unit,prefix:Ze.prefix,power:Pr});for(var Gr=0;Gr<V.length;Gr++)te.dimensions[Gr]+=(Ze.unit.dimensions[Gr]||0)*Pr;for(O();w===")";){if(ke.length===0)throw new SyntaxError('Unmatched ")" in "'+_+'" at index '+S.toString());Te/=ke.pop(),M(),O()}if(ge=!1,R("*")?(ce=1,ge=!0):R("/")?(ce=-1,ge=!0):ce=1,Ze.unit.base){var wt=Ze.unit.base.key;ne.auto[wt]={unit:Ze.unit,prefix:Ze.prefix}}}if(O(),w)throw new SyntaxError('Could not parse: "'+ie+'"');if(ge)throw new SyntaxError('Trailing characters: "'+ie+'"');if(ke.length!==0)throw new SyntaxError('Unmatched "(" in "'+_+'"');if(te.units.length===0&&!pe.allowNoUnits)throw new SyntaxError('"'+ie+'" contains no units');return te.value=Pe!==void 0?te._normalize(Pe):null,te},b.prototype.clone=function(){var ie=new b;ie.fixPrefix=this.fixPrefix,ie.skipAutomaticSimplification=this.skipAutomaticSimplification,ie.value=(0,yt.clone)(this.value),ie.dimensions=this.dimensions.slice(0),ie.units=[];for(var pe=0;pe<this.units.length;pe++){ie.units[pe]={};for(var te in this.units[pe])(0,yt.hasOwnProperty)(this.units[pe],te)&&(ie.units[pe][te]=this.units[pe][te])}return ie},b.prototype._isDerived=function(){return this.units.length===0?!1:this.units.length>1||Math.abs(this.units[0].power-1)>1e-15},b.prototype._normalize=function(ie){var pe,te,ce,ge,ve;if(ie==null||this.units.length===0)return ie;if(this._isDerived()){var Pe=ie;ve=b._getNumberConverter((0,Ma.typeOf)(ie));for(var ke=0;ke<this.units.length;ke++)pe=ve(this.units[ke].unit.value),ge=ve(this.units[ke].prefix.value),ce=ve(this.units[ke].power),Pe=c(Pe,a(c(pe,ge),ce));return Pe}else return ve=b._getNumberConverter((0,Ma.typeOf)(ie)),pe=ve(this.units[0].unit.value),te=ve(this.units[0].unit.offset),ge=ve(this.units[0].prefix.value),c(n(ie,te),c(pe,ge))},b.prototype._denormalize=function(ie,pe){var te,ce,ge,ve,Pe;if(ie==null||this.units.length===0)return ie;if(this._isDerived()){var ke=ie;Pe=b._getNumberConverter((0,Ma.typeOf)(ie));for(var Te=0;Te<this.units.length;Te++)te=Pe(this.units[Te].unit.value),ve=Pe(this.units[Te].prefix.value),ge=Pe(this.units[Te].power),ke=u(ke,a(c(te,ve),ge));return ke}else return Pe=b._getNumberConverter((0,Ma.typeOf)(ie)),te=Pe(this.units[0].unit.value),ve=Pe(this.units[0].prefix.value),ce=Pe(this.units[0].unit.offset),pe==null?i(u(u(ie,te),ve),ce):i(u(u(ie,te),pe),ce)};function j(ie){if((0,yt.hasOwnProperty)(X,ie)){var pe=X[ie],te=pe.prefixes[""];return{unit:pe,prefix:te}}for(var ce in X)if((0,yt.hasOwnProperty)(X,ce)&&(0,QSe.endsWith)(ie,ce)){var ge=X[ce],ve=ie.length-ce.length,Pe=ie.substring(0,ve),ke=(0,yt.hasOwnProperty)(ge.prefixes,Pe)?ge.prefixes[Pe]:void 0;if(ke!==void 0)return{unit:ge,prefix:ke}}return null}b.isValuelessUnit=function(ie){return j(ie)!==null},b.prototype.hasBase=function(ie){if(typeof ie=="string"&&(ie=E[ie]),!ie)return!1;for(var pe=0;pe<V.length;pe++)if(Math.abs((this.dimensions[pe]||0)-(ie.dimensions[pe]||0))>1e-12)return!1;return!0},b.prototype.equalBase=function(ie){for(var pe=0;pe<V.length;pe++)if(Math.abs((this.dimensions[pe]||0)-(ie.dimensions[pe]||0))>1e-12)return!1;return!0},b.prototype.equals=function(ie){return this.equalBase(ie)&&d(this.value,ie.value)},b.prototype.multiply=function(ie){for(var pe=this.clone(),te=0;te<V.length;te++)pe.dimensions[te]=(this.dimensions[te]||0)+(ie.dimensions[te]||0);for(var ce=0;ce<ie.units.length;ce++){var ge={};for(var ve in ie.units[ce])ge[ve]=ie.units[ce][ve];pe.units.push(ge)}if(this.value!==null||ie.value!==null){var Pe=this.value===null?this._normalize(1):this.value,ke=ie.value===null?ie._normalize(1):ie.value;pe.value=c(Pe,ke)}else pe.value=null;return pe.skipAutomaticSimplification=!1,L(pe)},b.prototype.divide=function(ie){for(var pe=this.clone(),te=0;te<V.length;te++)pe.dimensions[te]=(this.dimensions[te]||0)-(ie.dimensions[te]||0);for(var ce=0;ce<ie.units.length;ce++){var ge={};for(var ve in ie.units[ce])ge[ve]=ie.units[ce][ve];ge.power=-ge.power,pe.units.push(ge)}if(this.value!==null||ie.value!==null){var Pe=this.value===null?this._normalize(1):this.value,ke=ie.value===null?ie._normalize(1):ie.value;pe.value=u(Pe,ke)}else pe.value=null;return pe.skipAutomaticSimplification=!1,L(pe)},b.prototype.pow=function(ie){for(var pe=this.clone(),te=0;te<V.length;te++)pe.dimensions[te]=(this.dimensions[te]||0)*ie;for(var ce=0;ce<pe.units.length;ce++)pe.units[ce].power*=ie;return pe.value!==null?pe.value=a(pe.value,ie):pe.value=null,pe.skipAutomaticSimplification=!1,L(pe)};function L(ie){return ie.equalBase(E.NONE)&&ie.value!==null&&!t.predictable?ie.value:ie}b.prototype.abs=function(){var ie=this.clone();ie.value=ie.value!==null?s(ie.value):null;for(var pe in ie.units)(ie.units[pe].unit.name==="VA"||ie.units[pe].unit.name==="VAR")&&(ie.units[pe].unit=X.W);return ie},b.prototype.to=function(ie){var pe,te=this.value===null?this._normalize(1):this.value;if(typeof ie=="string"){if(pe=b.parse(ie),!this.equalBase(pe))throw new Error("Units do not match ('".concat(pe.toString(),"' != '").concat(this.toString(),"')"));if(pe.value!==null)throw new Error("Cannot convert to a unit with a value");return pe.value=(0,yt.clone)(te),pe.fixPrefix=!0,pe.skipAutomaticSimplification=!0,pe}else if((0,Ma.isUnit)(ie)){if(!this.equalBase(ie))throw new Error("Units do not match ('".concat(ie.toString(),"' != '").concat(this.toString(),"')"));if(ie.value!==null)throw new Error("Cannot convert to a unit with a value");return pe=ie.clone(),pe.value=(0,yt.clone)(te),pe.fixPrefix=!0,pe.skipAutomaticSimplification=!0,pe}else throw new Error("String or Unit expected as parameter")},b.prototype.toNumber=function(ie){return g(this.toNumeric(ie))},b.prototype.toNumeric=function(ie){var pe;return ie?pe=this.to(ie):pe=this.clone(),pe._isDerived()||pe.units.length===0?pe._denormalize(pe.value):pe._denormalize(pe.value,pe.units[0].prefix.value)},b.prototype.toString=function(){return this.format()},b.prototype.toJSON=function(){return{mathjs:"Unit",value:this._denormalize(this.value),unit:this.formatUnits(),fixPrefix:this.fixPrefix}},b.fromJSON=function(ie){var pe=new b(ie.value,ie.unit);return pe.fixPrefix=ie.fixPrefix||!1,pe},b.prototype.valueOf=b.prototype.toString,b.prototype.simplify=function(){var ie=this.clone(),pe=[],te;for(var ce in fe)if(ie.hasBase(E[ce])){te=ce;break}if(te==="NONE")ie.units=[];else{var ge;if(te&&(0,yt.hasOwnProperty)(fe,te)&&(ge=fe[te]),ge)ie.units=[{unit:ge.unit,prefix:ge.prefix,power:1}];else{for(var ve=!1,Pe=0;Pe<V.length;Pe++){var ke=V[Pe];Math.abs(ie.dimensions[Pe]||0)>1e-12&&((0,yt.hasOwnProperty)(fe,ke)?pe.push({unit:fe[ke].unit,prefix:fe[ke].prefix,power:ie.dimensions[Pe]||0}):ve=!0)}pe.length<ie.units.length&&!ve&&(ie.units=pe)}}return ie},b.prototype.toSI=function(){for(var ie=this.clone(),pe=[],te=0;te<V.length;te++){var ce=V[te];if(Math.abs(ie.dimensions[te]||0)>1e-12)if((0,yt.hasOwnProperty)(ne.si,ce))pe.push({unit:ne.si[ce].unit,prefix:ne.si[ce].prefix,power:ie.dimensions[te]||0});else throw new Error("Cannot express custom unit "+ce+" in SI units")}return ie.units=pe,ie.fixPrefix=!0,ie.skipAutomaticSimplification=!0,ie},b.prototype.formatUnits=function(){for(var ie="",pe="",te=0,ce=0,ge=0;ge<this.units.length;ge++)this.units[ge].power>0?(te++,ie+=" "+this.units[ge].prefix.name+this.units[ge].unit.name,Math.abs(this.units[ge].power-1)>1e-15&&(ie+="^"+this.units[ge].power)):this.units[ge].power<0&&ce++;if(ce>0)for(var ve=0;ve<this.units.length;ve++)this.units[ve].power<0&&(te>0?(pe+=" "+this.units[ve].prefix.name+this.units[ve].unit.name,Math.abs(this.units[ve].power+1)>1e-15&&(pe+="^"+-this.units[ve].power)):(pe+=" "+this.units[ve].prefix.name+this.units[ve].unit.name,pe+="^"+this.units[ve].power));ie=ie.substr(1),pe=pe.substr(1),te>1&&ce>0&&(ie="("+ie+")"),ce>1&&te>0&&(pe="("+pe+")");var Pe=ie;return te>0&&ce>0&&(Pe+=" / "),Pe+=pe,Pe},b.prototype.format=function(ie){var pe=this.skipAutomaticSimplification||this.value===null?this.clone():this.simplify(),te=!1;typeof pe.value<"u"&&pe.value!==null&&(0,Ma.isComplex)(pe.value)&&(te=Math.abs(pe.value.re)<1e-14);for(var ce in pe.units)pe.units[ce].unit&&(pe.units[ce].unit.name==="VA"&&te?pe.units[ce].unit=X.VAR:pe.units[ce].unit.name==="VAR"&&!te&&(pe.units[ce].unit=X.VA));pe.units.length===1&&!pe.fixPrefix&&Math.abs(pe.units[0].power-Math.round(pe.units[0].power))<1e-14&&(pe.units[0].prefix=pe._bestPrefix());var ge=pe._denormalize(pe.value),ve=pe.value!==null?f(ge,ie||{}):"",Pe=pe.formatUnits();return pe.value&&(0,Ma.isComplex)(pe.value)&&(ve="("+ve+")"),Pe.length>0&&ve.length>0&&(ve+=" "),ve+=Pe,ve},b.prototype._bestPrefix=function(){if(this.units.length!==1)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");if(Math.abs(this.units[0].power-Math.round(this.units[0].power))>=1e-14)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");var ie=this.value!==null?s(this.value):0,pe=s(this.units[0].unit.value),te=this.units[0].prefix;if(ie===0)return te;var ce=this.units[0].power,ge=Math.log(ie/Math.pow(te.value*pe,ce))/Math.LN10-1.2;if(ge>-2.200001&&ge<1.800001)return te;ge=Math.abs(ge);var ve=this.units[0].unit.prefixes;for(var Pe in ve)if((0,yt.hasOwnProperty)(ve,Pe)){var ke=ve[Pe];if(ke.scientific){var Te=Math.abs(Math.log(ie/Math.pow(ke.value*pe,ce))/Math.LN10-1.2);(Te<ge||Te===ge&&ke.name.length<te.name.length)&&(te=ke,ge=Te)}}return te},b.prototype.splitUnit=function(ie){for(var pe=this.clone(),te=[],ce=0;ce<ie.length&&(pe=pe.to(ie[ce]),ce!==ie.length-1);ce++){var ge=pe.toNumeric(),ve=l(ge),Pe=void 0,ke=d(ve,ge);ke?Pe=ve:Pe=o(pe.toNumeric());var Te=new b(Pe,ie[ce].toString());te.push(Te),pe=i(pe,Te)}for(var $e=0,Ue=0;Ue<te.length;Ue++)$e=n($e,te[Ue].value);return d($e,this.value)&&(pe.value=0),te.push(pe),te};var P={NONE:{"":{name:"",value:1,scientific:!0}},SHORT:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:10,scientific:!1},h:{name:"h",value:100,scientific:!1},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0},d:{name:"d",value:.1,scientific:!1},c:{name:"c",value:.01,scientific:!1},m:{name:"m",value:.001,scientific:!0},u:{name:"u",value:1e-6,scientific:!0},n:{name:"n",value:1e-9,scientific:!0},p:{name:"p",value:1e-12,scientific:!0},f:{name:"f",value:1e-15,scientific:!0},a:{name:"a",value:1e-18,scientific:!0},z:{name:"z",value:1e-21,scientific:!0},y:{name:"y",value:1e-24,scientific:!0}},LONG:{"":{name:"",value:1,scientific:!0},deca:{name:"deca",value:10,scientific:!1},hecto:{name:"hecto",value:100,scientific:!1},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0},deci:{name:"deci",value:.1,scientific:!1},centi:{name:"centi",value:.01,scientific:!1},milli:{name:"milli",value:.001,scientific:!0},micro:{name:"micro",value:1e-6,scientific:!0},nano:{name:"nano",value:1e-9,scientific:!0},pico:{name:"pico",value:1e-12,scientific:!0},femto:{name:"femto",value:1e-15,scientific:!0},atto:{name:"atto",value:1e-18,scientific:!0},zepto:{name:"zepto",value:1e-21,scientific:!0},yocto:{name:"yocto",value:1e-24,scientific:!0}},SQUARED:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:100,scientific:!1},h:{name:"h",value:1e4,scientific:!1},k:{name:"k",value:1e6,scientific:!0},M:{name:"M",value:1e12,scientific:!0},G:{name:"G",value:1e18,scientific:!0},T:{name:"T",value:1e24,scientific:!0},P:{name:"P",value:1e30,scientific:!0},E:{name:"E",value:1e36,scientific:!0},Z:{name:"Z",value:1e42,scientific:!0},Y:{name:"Y",value:1e48,scientific:!0},d:{name:"d",value:.01,scientific:!1},c:{name:"c",value:1e-4,scientific:!1},m:{name:"m",value:1e-6,scientific:!0},u:{name:"u",value:1e-12,scientific:!0},n:{name:"n",value:1e-18,scientific:!0},p:{name:"p",value:1e-24,scientific:!0},f:{name:"f",value:1e-30,scientific:!0},a:{name:"a",value:1e-36,scientific:!0},z:{name:"z",value:1e-42,scientific:!0},y:{name:"y",value:1e-48,scientific:!0}},CUBIC:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:1e3,scientific:!1},h:{name:"h",value:1e6,scientific:!1},k:{name:"k",value:1e9,scientific:!0},M:{name:"M",value:1e18,scientific:!0},G:{name:"G",value:1e27,scientific:!0},T:{name:"T",value:1e36,scientific:!0},P:{name:"P",value:1e45,scientific:!0},E:{name:"E",value:1e54,scientific:!0},Z:{name:"Z",value:1e63,scientific:!0},Y:{name:"Y",value:1e72,scientific:!0},d:{name:"d",value:.001,scientific:!1},c:{name:"c",value:1e-6,scientific:!1},m:{name:"m",value:1e-9,scientific:!0},u:{name:"u",value:1e-18,scientific:!0},n:{name:"n",value:1e-27,scientific:!0},p:{name:"p",value:1e-36,scientific:!0},f:{name:"f",value:1e-45,scientific:!0},a:{name:"a",value:1e-54,scientific:!0},z:{name:"z",value:1e-63,scientific:!0},y:{name:"y",value:1e-72,scientific:!0}},BINARY_SHORT_SI:{"":{name:"",value:1,scientific:!0},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0}},BINARY_SHORT_IEC:{"":{name:"",value:1,scientific:!0},Ki:{name:"Ki",value:1024,scientific:!0},Mi:{name:"Mi",value:Math.pow(1024,2),scientific:!0},Gi:{name:"Gi",value:Math.pow(1024,3),scientific:!0},Ti:{name:"Ti",value:Math.pow(1024,4),scientific:!0},Pi:{name:"Pi",value:Math.pow(1024,5),scientific:!0},Ei:{name:"Ei",value:Math.pow(1024,6),scientific:!0},Zi:{name:"Zi",value:Math.pow(1024,7),scientific:!0},Yi:{name:"Yi",value:Math.pow(1024,8),scientific:!0}},BINARY_LONG_SI:{"":{name:"",value:1,scientific:!0},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0}},BINARY_LONG_IEC:{"":{name:"",value:1,scientific:!0},kibi:{name:"kibi",value:1024,scientific:!0},mebi:{name:"mebi",value:Math.pow(1024,2),scientific:!0},gibi:{name:"gibi",value:Math.pow(1024,3),scientific:!0},tebi:{name:"tebi",value:Math.pow(1024,4),scientific:!0},pebi:{name:"pebi",value:Math.pow(1024,5),scientific:!0},exi:{name:"exi",value:Math.pow(1024,6),scientific:!0},zebi:{name:"zebi",value:Math.pow(1024,7),scientific:!0},yobi:{name:"yobi",value:Math.pow(1024,8),scientific:!0}},BTU:{"":{name:"",value:1,scientific:!0},MM:{name:"MM",value:1e6,scientific:!0}}};P.SHORTLONG=Eu({},P.SHORT,P.LONG),P.BINARY_SHORT=Eu({},P.BINARY_SHORT_SI,P.BINARY_SHORT_IEC),P.BINARY_LONG=Eu({},P.BINARY_LONG_SI,P.BINARY_LONG_IEC);var V=["MASS","LENGTH","TIME","CURRENT","TEMPERATURE","LUMINOUS_INTENSITY","AMOUNT_OF_SUBSTANCE","ANGLE","BIT"],E={NONE:{dimensions:[0,0,0,0,0,0,0,0,0]},MASS:{dimensions:[1,0,0,0,0,0,0,0,0]},LENGTH:{dimensions:[0,1,0,0,0,0,0,0,0]},TIME:{dimensions:[0,0,1,0,0,0,0,0,0]},CURRENT:{dimensions:[0,0,0,1,0,0,0,0,0]},TEMPERATURE:{dimensions:[0,0,0,0,1,0,0,0,0]},LUMINOUS_INTENSITY:{dimensions:[0,0,0,0,0,1,0,0,0]},AMOUNT_OF_SUBSTANCE:{dimensions:[0,0,0,0,0,0,1,0,0]},FORCE:{dimensions:[1,1,-2,0,0,0,0,0,0]},SURFACE:{dimensions:[0,2,0,0,0,0,0,0,0]},VOLUME:{dimensions:[0,3,0,0,0,0,0,0,0]},ENERGY:{dimensions:[1,2,-2,0,0,0,0,0,0]},POWER:{dimensions:[1,2,-3,0,0,0,0,0,0]},PRESSURE:{dimensions:[1,-1,-2,0,0,0,0,0,0]},ELECTRIC_CHARGE:{dimensions:[0,0,1,1,0,0,0,0,0]},ELECTRIC_CAPACITANCE:{dimensions:[-1,-2,4,2,0,0,0,0,0]},ELECTRIC_POTENTIAL:{dimensions:[1,2,-3,-1,0,0,0,0,0]},ELECTRIC_RESISTANCE:{dimensions:[1,2,-3,-2,0,0,0,0,0]},ELECTRIC_INDUCTANCE:{dimensions:[1,2,-2,-2,0,0,0,0,0]},ELECTRIC_CONDUCTANCE:{dimensions:[-1,-2,3,2,0,0,0,0,0]},MAGNETIC_FLUX:{dimensions:[1,2,-2,-1,0,0,0,0,0]},MAGNETIC_FLUX_DENSITY:{dimensions:[1,0,-2,-1,0,0,0,0,0]},FREQUENCY:{dimensions:[0,0,-1,0,0,0,0,0,0]},ANGLE:{dimensions:[0,0,0,0,0,0,0,1,0]},BIT:{dimensions:[0,0,0,0,0,0,0,0,1]}};for(var Z in E)E[Z].key=Z;var ue={},ye={name:"",base:ue,value:1,offset:0,dimensions:V.map(function(ie){return 0})},X={meter:{name:"meter",base:E.LENGTH,prefixes:P.LONG,value:1,offset:0},inch:{name:"inch",base:E.LENGTH,prefixes:P.NONE,value:.0254,offset:0},foot:{name:"foot",base:E.LENGTH,prefixes:P.NONE,value:.3048,offset:0},yard:{name:"yard",base:E.LENGTH,prefixes:P.NONE,value:.9144,offset:0},mile:{name:"mile",base:E.LENGTH,prefixes:P.NONE,value:1609.344,offset:0},link:{name:"link",base:E.LENGTH,prefixes:P.NONE,value:.201168,offset:0},rod:{name:"rod",base:E.LENGTH,prefixes:P.NONE,value:5.0292,offset:0},chain:{name:"chain",base:E.LENGTH,prefixes:P.NONE,value:20.1168,offset:0},angstrom:{name:"angstrom",base:E.LENGTH,prefixes:P.NONE,value:1e-10,offset:0},m:{name:"m",base:E.LENGTH,prefixes:P.SHORT,value:1,offset:0},in:{name:"in",base:E.LENGTH,prefixes:P.NONE,value:.0254,offset:0},ft:{name:"ft",base:E.LENGTH,prefixes:P.NONE,value:.3048,offset:0},yd:{name:"yd",base:E.LENGTH,prefixes:P.NONE,value:.9144,offset:0},mi:{name:"mi",base:E.LENGTH,prefixes:P.NONE,value:1609.344,offset:0},li:{name:"li",base:E.LENGTH,prefixes:P.NONE,value:.201168,offset:0},rd:{name:"rd",base:E.LENGTH,prefixes:P.NONE,value:5.02921,offset:0},ch:{name:"ch",base:E.LENGTH,prefixes:P.NONE,value:20.1168,offset:0},mil:{name:"mil",base:E.LENGTH,prefixes:P.NONE,value:254e-7,offset:0},m2:{name:"m2",base:E.SURFACE,prefixes:P.SQUARED,value:1,offset:0},sqin:{name:"sqin",base:E.SURFACE,prefixes:P.NONE,value:64516e-8,offset:0},sqft:{name:"sqft",base:E.SURFACE,prefixes:P.NONE,value:.09290304,offset:0},sqyd:{name:"sqyd",base:E.SURFACE,prefixes:P.NONE,value:.83612736,offset:0},sqmi:{name:"sqmi",base:E.SURFACE,prefixes:P.NONE,value:2589988110336e-6,offset:0},sqrd:{name:"sqrd",base:E.SURFACE,prefixes:P.NONE,value:25.29295,offset:0},sqch:{name:"sqch",base:E.SURFACE,prefixes:P.NONE,value:404.6873,offset:0},sqmil:{name:"sqmil",base:E.SURFACE,prefixes:P.NONE,value:64516e-14,offset:0},acre:{name:"acre",base:E.SURFACE,prefixes:P.NONE,value:4046.86,offset:0},hectare:{name:"hectare",base:E.SURFACE,prefixes:P.NONE,value:1e4,offset:0},m3:{name:"m3",base:E.VOLUME,prefixes:P.CUBIC,value:1,offset:0},L:{name:"L",base:E.VOLUME,prefixes:P.SHORT,value:.001,offset:0},l:{name:"l",base:E.VOLUME,prefixes:P.SHORT,value:.001,offset:0},litre:{name:"litre",base:E.VOLUME,prefixes:P.LONG,value:.001,offset:0},cuin:{name:"cuin",base:E.VOLUME,prefixes:P.NONE,value:16387064e-12,offset:0},cuft:{name:"cuft",base:E.VOLUME,prefixes:P.NONE,value:.028316846592,offset:0},cuyd:{name:"cuyd",base:E.VOLUME,prefixes:P.NONE,value:.764554857984,offset:0},teaspoon:{name:"teaspoon",base:E.VOLUME,prefixes:P.NONE,value:5e-6,offset:0},tablespoon:{name:"tablespoon",base:E.VOLUME,prefixes:P.NONE,value:15e-6,offset:0},drop:{name:"drop",base:E.VOLUME,prefixes:P.NONE,value:5e-8,offset:0},gtt:{name:"gtt",base:E.VOLUME,prefixes:P.NONE,value:5e-8,offset:0},minim:{name:"minim",base:E.VOLUME,prefixes:P.NONE,value:6161152e-14,offset:0},fluiddram:{name:"fluiddram",base:E.VOLUME,prefixes:P.NONE,value:36966911e-13,offset:0},fluidounce:{name:"fluidounce",base:E.VOLUME,prefixes:P.NONE,value:2957353e-11,offset:0},gill:{name:"gill",base:E.VOLUME,prefixes:P.NONE,value:.0001182941,offset:0},cc:{name:"cc",base:E.VOLUME,prefixes:P.NONE,value:1e-6,offset:0},cup:{name:"cup",base:E.VOLUME,prefixes:P.NONE,value:.0002365882,offset:0},pint:{name:"pint",base:E.VOLUME,prefixes:P.NONE,value:.0004731765,offset:0},quart:{name:"quart",base:E.VOLUME,prefixes:P.NONE,value:.0009463529,offset:0},gallon:{name:"gallon",base:E.VOLUME,prefixes:P.NONE,value:.003785412,offset:0},beerbarrel:{name:"beerbarrel",base:E.VOLUME,prefixes:P.NONE,value:.1173478,offset:0},oilbarrel:{name:"oilbarrel",base:E.VOLUME,prefixes:P.NONE,value:.1589873,offset:0},hogshead:{name:"hogshead",base:E.VOLUME,prefixes:P.NONE,value:.238481,offset:0},fldr:{name:"fldr",base:E.VOLUME,prefixes:P.NONE,value:36966911e-13,offset:0},floz:{name:"floz",base:E.VOLUME,prefixes:P.NONE,value:2957353e-11,offset:0},gi:{name:"gi",base:E.VOLUME,prefixes:P.NONE,value:.0001182941,offset:0},cp:{name:"cp",base:E.VOLUME,prefixes:P.NONE,value:.0002365882,offset:0},pt:{name:"pt",base:E.VOLUME,prefixes:P.NONE,value:.0004731765,offset:0},qt:{name:"qt",base:E.VOLUME,prefixes:P.NONE,value:.0009463529,offset:0},gal:{name:"gal",base:E.VOLUME,prefixes:P.NONE,value:.003785412,offset:0},bbl:{name:"bbl",base:E.VOLUME,prefixes:P.NONE,value:.1173478,offset:0},obl:{name:"obl",base:E.VOLUME,prefixes:P.NONE,value:.1589873,offset:0},g:{name:"g",base:E.MASS,prefixes:P.SHORT,value:.001,offset:0},gram:{name:"gram",base:E.MASS,prefixes:P.LONG,value:.001,offset:0},ton:{name:"ton",base:E.MASS,prefixes:P.SHORT,value:907.18474,offset:0},t:{name:"t",base:E.MASS,prefixes:P.SHORT,value:1e3,offset:0},tonne:{name:"tonne",base:E.MASS,prefixes:P.LONG,value:1e3,offset:0},grain:{name:"grain",base:E.MASS,prefixes:P.NONE,value:6479891e-11,offset:0},dram:{name:"dram",base:E.MASS,prefixes:P.NONE,value:.0017718451953125,offset:0},ounce:{name:"ounce",base:E.MASS,prefixes:P.NONE,value:.028349523125,offset:0},poundmass:{name:"poundmass",base:E.MASS,prefixes:P.NONE,value:.45359237,offset:0},hundredweight:{name:"hundredweight",base:E.MASS,prefixes:P.NONE,value:45.359237,offset:0},stick:{name:"stick",base:E.MASS,prefixes:P.NONE,value:.115,offset:0},stone:{name:"stone",base:E.MASS,prefixes:P.NONE,value:6.35029318,offset:0},gr:{name:"gr",base:E.MASS,prefixes:P.NONE,value:6479891e-11,offset:0},dr:{name:"dr",base:E.MASS,prefixes:P.NONE,value:.0017718451953125,offset:0},oz:{name:"oz",base:E.MASS,prefixes:P.NONE,value:.028349523125,offset:0},lbm:{name:"lbm",base:E.MASS,prefixes:P.NONE,value:.45359237,offset:0},cwt:{name:"cwt",base:E.MASS,prefixes:P.NONE,value:45.359237,offset:0},s:{name:"s",base:E.TIME,prefixes:P.SHORT,value:1,offset:0},min:{name:"min",base:E.TIME,prefixes:P.NONE,value:60,offset:0},h:{name:"h",base:E.TIME,prefixes:P.NONE,value:3600,offset:0},second:{name:"second",base:E.TIME,prefixes:P.LONG,value:1,offset:0},sec:{name:"sec",base:E.TIME,prefixes:P.LONG,value:1,offset:0},minute:{name:"minute",base:E.TIME,prefixes:P.NONE,value:60,offset:0},hour:{name:"hour",base:E.TIME,prefixes:P.NONE,value:3600,offset:0},day:{name:"day",base:E.TIME,prefixes:P.NONE,value:86400,offset:0},week:{name:"week",base:E.TIME,prefixes:P.NONE,value:7*86400,offset:0},month:{name:"month",base:E.TIME,prefixes:P.NONE,value:2629800,offset:0},year:{name:"year",base:E.TIME,prefixes:P.NONE,value:31557600,offset:0},decade:{name:"decade",base:E.TIME,prefixes:P.NONE,value:315576e3,offset:0},century:{name:"century",base:E.TIME,prefixes:P.NONE,value:315576e4,offset:0},millennium:{name:"millennium",base:E.TIME,prefixes:P.NONE,value:315576e5,offset:0},hertz:{name:"Hertz",base:E.FREQUENCY,prefixes:P.LONG,value:1,offset:0,reciprocal:!0},Hz:{name:"Hz",base:E.FREQUENCY,prefixes:P.SHORT,value:1,offset:0,reciprocal:!0},rad:{name:"rad",base:E.ANGLE,prefixes:P.SHORT,value:1,offset:0},radian:{name:"radian",base:E.ANGLE,prefixes:P.LONG,value:1,offset:0},deg:{name:"deg",base:E.ANGLE,prefixes:P.SHORT,value:null,offset:0},degree:{name:"degree",base:E.ANGLE,prefixes:P.LONG,value:null,offset:0},grad:{name:"grad",base:E.ANGLE,prefixes:P.SHORT,value:null,offset:0},gradian:{name:"gradian",base:E.ANGLE,prefixes:P.LONG,value:null,offset:0},cycle:{name:"cycle",base:E.ANGLE,prefixes:P.NONE,value:null,offset:0},arcsec:{name:"arcsec",base:E.ANGLE,prefixes:P.NONE,value:null,offset:0},arcmin:{name:"arcmin",base:E.ANGLE,prefixes:P.NONE,value:null,offset:0},A:{name:"A",base:E.CURRENT,prefixes:P.SHORT,value:1,offset:0},ampere:{name:"ampere",base:E.CURRENT,prefixes:P.LONG,value:1,offset:0},K:{name:"K",base:E.TEMPERATURE,prefixes:P.NONE,value:1,offset:0},degC:{name:"degC",base:E.TEMPERATURE,prefixes:P.NONE,value:1,offset:273.15},degF:{name:"degF",base:E.TEMPERATURE,prefixes:P.NONE,value:1/1.8,offset:459.67},degR:{name:"degR",base:E.TEMPERATURE,prefixes:P.NONE,value:1/1.8,offset:0},kelvin:{name:"kelvin",base:E.TEMPERATURE,prefixes:P.NONE,value:1,offset:0},celsius:{name:"celsius",base:E.TEMPERATURE,prefixes:P.NONE,value:1,offset:273.15},fahrenheit:{name:"fahrenheit",base:E.TEMPERATURE,prefixes:P.NONE,value:1/1.8,offset:459.67},rankine:{name:"rankine",base:E.TEMPERATURE,prefixes:P.NONE,value:1/1.8,offset:0},mol:{name:"mol",base:E.AMOUNT_OF_SUBSTANCE,prefixes:P.SHORT,value:1,offset:0},mole:{name:"mole",base:E.AMOUNT_OF_SUBSTANCE,prefixes:P.LONG,value:1,offset:0},cd:{name:"cd",base:E.LUMINOUS_INTENSITY,prefixes:P.SHORT,value:1,offset:0},candela:{name:"candela",base:E.LUMINOUS_INTENSITY,prefixes:P.LONG,value:1,offset:0},N:{name:"N",base:E.FORCE,prefixes:P.SHORT,value:1,offset:0},newton:{name:"newton",base:E.FORCE,prefixes:P.LONG,value:1,offset:0},dyn:{name:"dyn",base:E.FORCE,prefixes:P.SHORT,value:1e-5,offset:0},dyne:{name:"dyne",base:E.FORCE,prefixes:P.LONG,value:1e-5,offset:0},lbf:{name:"lbf",base:E.FORCE,prefixes:P.NONE,value:4.4482216152605,offset:0},poundforce:{name:"poundforce",base:E.FORCE,prefixes:P.NONE,value:4.4482216152605,offset:0},kip:{name:"kip",base:E.FORCE,prefixes:P.LONG,value:4448.2216,offset:0},J:{name:"J",base:E.ENERGY,prefixes:P.SHORT,value:1,offset:0},joule:{name:"joule",base:E.ENERGY,prefixes:P.SHORT,value:1,offset:0},erg:{name:"erg",base:E.ENERGY,prefixes:P.NONE,value:1e-7,offset:0},Wh:{name:"Wh",base:E.ENERGY,prefixes:P.SHORT,value:3600,offset:0},BTU:{name:"BTU",base:E.ENERGY,prefixes:P.BTU,value:1055.05585262,offset:0},eV:{name:"eV",base:E.ENERGY,prefixes:P.SHORT,value:1602176565e-28,offset:0},electronvolt:{name:"electronvolt",base:E.ENERGY,prefixes:P.LONG,value:1602176565e-28,offset:0},W:{name:"W",base:E.POWER,prefixes:P.SHORT,value:1,offset:0},watt:{name:"watt",base:E.POWER,prefixes:P.LONG,value:1,offset:0},hp:{name:"hp",base:E.POWER,prefixes:P.NONE,value:745.6998715386,offset:0},VAR:{name:"VAR",base:E.POWER,prefixes:P.SHORT,value:h.I,offset:0},VA:{name:"VA",base:E.POWER,prefixes:P.SHORT,value:1,offset:0},Pa:{name:"Pa",base:E.PRESSURE,prefixes:P.SHORT,value:1,offset:0},psi:{name:"psi",base:E.PRESSURE,prefixes:P.NONE,value:6894.75729276459,offset:0},atm:{name:"atm",base:E.PRESSURE,prefixes:P.NONE,value:101325,offset:0},bar:{name:"bar",base:E.PRESSURE,prefixes:P.SHORTLONG,value:1e5,offset:0},torr:{name:"torr",base:E.PRESSURE,prefixes:P.NONE,value:133.322,offset:0},mmHg:{name:"mmHg",base:E.PRESSURE,prefixes:P.NONE,value:133.322,offset:0},mmH2O:{name:"mmH2O",base:E.PRESSURE,prefixes:P.NONE,value:9.80665,offset:0},cmH2O:{name:"cmH2O",base:E.PRESSURE,prefixes:P.NONE,value:98.0665,offset:0},coulomb:{name:"coulomb",base:E.ELECTRIC_CHARGE,prefixes:P.LONG,value:1,offset:0},C:{name:"C",base:E.ELECTRIC_CHARGE,prefixes:P.SHORT,value:1,offset:0},farad:{name:"farad",base:E.ELECTRIC_CAPACITANCE,prefixes:P.LONG,value:1,offset:0},F:{name:"F",base:E.ELECTRIC_CAPACITANCE,prefixes:P.SHORT,value:1,offset:0},volt:{name:"volt",base:E.ELECTRIC_POTENTIAL,prefixes:P.LONG,value:1,offset:0},V:{name:"V",base:E.ELECTRIC_POTENTIAL,prefixes:P.SHORT,value:1,offset:0},ohm:{name:"ohm",base:E.ELECTRIC_RESISTANCE,prefixes:P.SHORTLONG,value:1,offset:0},henry:{name:"henry",base:E.ELECTRIC_INDUCTANCE,prefixes:P.LONG,value:1,offset:0},H:{name:"H",base:E.ELECTRIC_INDUCTANCE,prefixes:P.SHORT,value:1,offset:0},siemens:{name:"siemens",base:E.ELECTRIC_CONDUCTANCE,prefixes:P.LONG,value:1,offset:0},S:{name:"S",base:E.ELECTRIC_CONDUCTANCE,prefixes:P.SHORT,value:1,offset:0},weber:{name:"weber",base:E.MAGNETIC_FLUX,prefixes:P.LONG,value:1,offset:0},Wb:{name:"Wb",base:E.MAGNETIC_FLUX,prefixes:P.SHORT,value:1,offset:0},tesla:{name:"tesla",base:E.MAGNETIC_FLUX_DENSITY,prefixes:P.LONG,value:1,offset:0},T:{name:"T",base:E.MAGNETIC_FLUX_DENSITY,prefixes:P.SHORT,value:1,offset:0},b:{name:"b",base:E.BIT,prefixes:P.BINARY_SHORT,value:1,offset:0},bits:{name:"bits",base:E.BIT,prefixes:P.BINARY_LONG,value:1,offset:0},B:{name:"B",base:E.BIT,prefixes:P.BINARY_SHORT,value:8,offset:0},bytes:{name:"bytes",base:E.BIT,prefixes:P.BINARY_LONG,value:8,offset:0}},le={meters:"meter",inches:"inch",feet:"foot",yards:"yard",miles:"mile",links:"link",rods:"rod",chains:"chain",angstroms:"angstrom",lt:"l",litres:"litre",liter:"litre",liters:"litre",teaspoons:"teaspoon",tablespoons:"tablespoon",minims:"minim",fluiddrams:"fluiddram",fluidounces:"fluidounce",gills:"gill",cups:"cup",pints:"pint",quarts:"quart",gallons:"gallon",beerbarrels:"beerbarrel",oilbarrels:"oilbarrel",hogsheads:"hogshead",gtts:"gtt",grams:"gram",tons:"ton",tonnes:"tonne",grains:"grain",drams:"dram",ounces:"ounce",poundmasses:"poundmass",hundredweights:"hundredweight",sticks:"stick",lb:"lbm",lbs:"lbm",kips:"kip",acres:"acre",hectares:"hectare",sqfeet:"sqft",sqyard:"sqyd",sqmile:"sqmi",sqmiles:"sqmi",mmhg:"mmHg",mmh2o:"mmH2O",cmh2o:"cmH2O",seconds:"second",secs:"second",minutes:"minute",mins:"minute",hours:"hour",hr:"hour",hrs:"hour",days:"day",weeks:"week",months:"month",years:"year",decades:"decade",centuries:"century",millennia:"millennium",hertz:"hertz",radians:"radian",degrees:"degree",gradians:"gradian",cycles:"cycle",arcsecond:"arcsec",arcseconds:"arcsec",arcminute:"arcmin",arcminutes:"arcmin",BTUs:"BTU",watts:"watt",joules:"joule",amperes:"ampere",coulombs:"coulomb",volts:"volt",ohms:"ohm",farads:"farad",webers:"weber",teslas:"tesla",electronvolts:"electronvolt",moles:"mole",bit:"bits",byte:"bytes"};function Oe(ie){if(ie.number==="BigNumber"){var pe=(0,YSe.createBigNumberPi)(m);X.rad.value=new m(1),X.deg.value=pe.div(180),X.grad.value=pe.div(200),X.cycle.value=pe.times(2),X.arcsec.value=pe.div(648e3),X.arcmin.value=pe.div(10800)}else X.rad.value=1,X.deg.value=Math.PI/180,X.grad.value=Math.PI/200,X.cycle.value=Math.PI*2,X.arcsec.value=Math.PI/648e3,X.arcmin.value=Math.PI/10800;X.radian.value=X.rad.value,X.degree.value=X.deg.value,X.gradian.value=X.grad.value}Oe(t),r&&r("config",function(ie,pe){ie.number!==pe.number&&Oe(ie)});var ne={si:{NONE:{unit:ye,prefix:P.NONE[""]},LENGTH:{unit:X.m,prefix:P.SHORT[""]},MASS:{unit:X.g,prefix:P.SHORT.k},TIME:{unit:X.s,prefix:P.SHORT[""]},CURRENT:{unit:X.A,prefix:P.SHORT[""]},TEMPERATURE:{unit:X.K,prefix:P.SHORT[""]},LUMINOUS_INTENSITY:{unit:X.cd,prefix:P.SHORT[""]},AMOUNT_OF_SUBSTANCE:{unit:X.mol,prefix:P.SHORT[""]},ANGLE:{unit:X.rad,prefix:P.SHORT[""]},BIT:{unit:X.bits,prefix:P.SHORT[""]},FORCE:{unit:X.N,prefix:P.SHORT[""]},ENERGY:{unit:X.J,prefix:P.SHORT[""]},POWER:{unit:X.W,prefix:P.SHORT[""]},PRESSURE:{unit:X.Pa,prefix:P.SHORT[""]},ELECTRIC_CHARGE:{unit:X.C,prefix:P.SHORT[""]},ELECTRIC_CAPACITANCE:{unit:X.F,prefix:P.SHORT[""]},ELECTRIC_POTENTIAL:{unit:X.V,prefix:P.SHORT[""]},ELECTRIC_RESISTANCE:{unit:X.ohm,prefix:P.SHORT[""]},ELECTRIC_INDUCTANCE:{unit:X.H,prefix:P.SHORT[""]},ELECTRIC_CONDUCTANCE:{unit:X.S,prefix:P.SHORT[""]},MAGNETIC_FLUX:{unit:X.Wb,prefix:P.SHORT[""]},MAGNETIC_FLUX_DENSITY:{unit:X.T,prefix:P.SHORT[""]},FREQUENCY:{unit:X.Hz,prefix:P.SHORT[""]}}};ne.cgs=JSON.parse(JSON.stringify(ne.si)),ne.cgs.LENGTH={unit:X.m,prefix:P.SHORT.c},ne.cgs.MASS={unit:X.g,prefix:P.SHORT[""]},ne.cgs.FORCE={unit:X.dyn,prefix:P.SHORT[""]},ne.cgs.ENERGY={unit:X.erg,prefix:P.NONE[""]},ne.us=JSON.parse(JSON.stringify(ne.si)),ne.us.LENGTH={unit:X.ft,prefix:P.NONE[""]},ne.us.MASS={unit:X.lbm,prefix:P.NONE[""]},ne.us.TEMPERATURE={unit:X.degF,prefix:P.NONE[""]},ne.us.FORCE={unit:X.lbf,prefix:P.NONE[""]},ne.us.ENERGY={unit:X.BTU,prefix:P.BTU[""]},ne.us.POWER={unit:X.hp,prefix:P.NONE[""]},ne.us.PRESSURE={unit:X.psi,prefix:P.NONE[""]},ne.auto=JSON.parse(JSON.stringify(ne.si));var fe=ne.auto;b.setUnitSystem=function(ie){if((0,yt.hasOwnProperty)(ne,ie))fe=ne[ie];else throw new Error("Unit system "+ie+" does not exist. Choices are: "+Object.keys(ne).join(", "))},b.getUnitSystem=function(){for(var ie in ne)if(ne[ie]===fe)return ie},b.typeConverters={BigNumber:function(pe){return new m(pe+"")},Fraction:function(pe){return new y(pe)},Complex:function(pe){return pe},number:function(pe){return pe}},b._getNumberConverter=function(ie){if(!b.typeConverters[ie])throw new TypeError('Unsupported type "'+ie+'"');return b.typeConverters[ie]};for(var Me in X){var me=X[Me];me.dimensions=me.base.dimensions}for(var Ce in le)if((0,yt.hasOwnProperty)(le,Ce)){var Be=X[le[Ce]],je={};for(var We in Be)(0,yt.hasOwnProperty)(Be,We)&&(je[We]=Be[We]);je.name=Ce,X[Ce]=je}function Ge(ie){for(var pe=0;pe<ie.length;pe++){var te=ie.charAt(pe),ce=function(Pe){return/^[a-zA-Z]$/.test(Pe)},ge=function(Pe){return Pe>="0"&&Pe<="9"};if(pe===0&&!ce(te))throw new Error('Invalid unit name (must begin with alpha character): "'+ie+'"');if(pe>0&&!(ce(te)||ge(te)))throw new Error('Invalid unit name (only alphanumeric characters are allowed): "'+ie+'"')}}return b.createUnit=function(ie,pe){if(Pu(ie)!=="object")throw new TypeError("createUnit expects first parameter to be of type 'Object'");if(pe&&pe.override){for(var te in ie)if((0,yt.hasOwnProperty)(ie,te)&&b.deleteUnit(te),ie[te].aliases)for(var ce=0;ce<ie[te].aliases.length;ce++)b.deleteUnit(ie[te].aliases[ce])}var ge;for(var ve in ie)(0,yt.hasOwnProperty)(ie,ve)&&(ge=b.createUnitSingle(ve,ie[ve]));return ge},b.createUnitSingle=function(ie,pe,te){if((typeof pe>"u"||pe===null)&&(pe={}),typeof ie!="string")throw new TypeError("createUnitSingle expects first parameter to be of type 'string'");if((0,yt.hasOwnProperty)(X,ie))throw new Error('Cannot create unit "'+ie+'": a unit with that name already exists');Ge(ie);var ce=null,ge=[],ve=0,Pe,ke,Te;if(pe&&pe.type==="Unit")ce=pe.clone();else if(typeof pe=="string")pe!==""&&(Pe=pe);else if(Pu(pe)==="object")Pe=pe.definition,ke=pe.prefixes,ve=pe.offset,Te=pe.baseName,pe.aliases&&(ge=pe.aliases.valueOf());else throw new TypeError('Cannot create unit "'+ie+'" from "'+pe.toString()+'": expecting "string" or "Unit" or "Object"');if(ge){for(var $e=0;$e<ge.length;$e++)if((0,yt.hasOwnProperty)(X,ge[$e]))throw new Error('Cannot create alias "'+ge[$e]+'": a unit with that name already exists')}if(Pe&&typeof Pe=="string"&&!ce)try{ce=b.parse(Pe,{allowNoUnits:!0})}catch(be){throw be.message='Could not create unit "'+ie+'" from "'+Pe+'": '+be.message,be}else Pe&&Pe.type==="Unit"&&(ce=Pe.clone());ge=ge||[],ve=ve||0,ke&&ke.toUpperCase?ke=P[ke.toUpperCase()]||P.NONE:ke=P.NONE;var Ue={};if(ce){Ue={name:ie,value:ce.value,dimensions:ce.dimensions.slice(0),prefixes:ke,offset:ve};var Gr=!1;for(var wt in E)if((0,yt.hasOwnProperty)(E,wt)){for(var cn=!0,Bt=0;Bt<V.length;Bt++)if(Math.abs((Ue.dimensions[Bt]||0)-(E[wt].dimensions[Bt]||0))>1e-12){cn=!1;break}if(cn){Gr=!0,Ue.base=E[wt];break}}if(!Gr){Te=Te||ie+"_STUFF";var un={dimensions:ce.dimensions.slice(0)};un.key=Te,E[Te]=un,fe[Te]={unit:Ue,prefix:P.NONE[""]},Ue.base=E[Te]}}else{if(Te=Te||ie+"_STUFF",V.indexOf(Te)>=0)throw new Error('Cannot create new base unit "'+ie+'": a base unit with that name already exists (and cannot be overridden)');V.push(Te);for(var Ze in E)(0,yt.hasOwnProperty)(E,Ze)&&(E[Ze].dimensions[V.length-1]=0);for(var Pr={dimensions:[]},Qr=0;Qr<V.length;Qr++)Pr.dimensions[Qr]=0;Pr.dimensions[V.length-1]=1,Pr.key=Te,E[Te]=Pr,Ue={name:ie,value:1,dimensions:E[Te].dimensions.slice(0),prefixes:ke,offset:ve,base:E[Te]},fe[Te]={unit:Ue,prefix:P.NONE[""]}}b.UNITS[ie]=Ue;for(var Dt=0;Dt<ge.length;Dt++){var Br=ge[Dt],gn={};for(var J in Ue)(0,yt.hasOwnProperty)(Ue,J)&&(gn[J]=Ue[J]);gn.name=Br,b.UNITS[Br]=gn}return new b(null,ie)},b.deleteUnit=function(ie){delete b.UNITS[ie]},b.PREFIXES=P,b.BASE_DIMENSIONS=V,b.BASE_UNITS=E,b.UNIT_SYSTEMS=ne,b.UNITS=X,b},{isClass:!0});jh.createUnitClass=KSe});var mR=D(Th=>{"use strict";Object.defineProperty(Th,"__esModule",{value:!0});Th.createUnitFunction=void 0;var exe=oe(),rxe=Qe(),vR="unit",txe=["typed","Unit"],nxe=(0,exe.factory)(vR,txe,function(e){var r=e.typed,t=e.Unit,n=r(vR,{Unit:function(c){return c.clone()},string:function(c){return t.isValuelessUnit(c)?new t(null,c):t.parse(c,{allowNoUnits:!0})},"number | BigNumber | Fraction | Complex, string":function(c,u){return new t(c,u)},"Array | Matrix":function(c){return(0,rxe.deepMap)(c,n)}});return n});Th.createUnitFunction=nxe});var gR=D(Rh=>{"use strict";Object.defineProperty(Rh,"__esModule",{value:!0});Rh.createSparse=void 0;var ixe=oe(),yR="sparse",axe=["typed","SparseMatrix"],sxe=(0,ixe.factory)(yR,axe,function(e){var r=e.typed,t=e.SparseMatrix;return r(yR,{"":function(){return new t([])},string:function(i){return new t([],i)},"Array | Matrix":function(i){return new t(i)},"Array | Matrix, string":function(i,c){return new t(i,c)}})});Rh.createSparse=sxe});var _R=D(Fh=>{"use strict";Object.defineProperty(Fh,"__esModule",{value:!0});Fh.createCreateUnit=void 0;var oxe=oe(),bR="createUnit",cxe=["typed","Unit"],uxe=(0,oxe.factory)(bR,cxe,function(e){var r=e.typed,t=e.Unit;return r(bR,{"Object, Object":function(i,c){return t.createUnit(i,c)},Object:function(i){return t.createUnit(i,{})},"string, Unit | string | Object, Object":function(i,c,u){var a={};return a[i]=c,t.createUnit(a,u)},"string, Unit | string | Object":function(i,c){var u={};return u[i]=c,t.createUnit(u,{})},string:function(i){var c={};return c[i]={},t.createUnit(c,{})}})});Fh.createCreateUnit=uxe});var SR=D(Lh=>{"use strict";Object.defineProperty(Lh,"__esModule",{value:!0});Lh.createAcos=void 0;var lxe=oe(),dxe=Qe(),wR="acos",pxe=["typed","config","Complex"],fxe=(0,lxe.factory)(wR,pxe,function(e){var r=e.typed,t=e.config,n=e.Complex,i=r(wR,{number:function(u){return u>=-1&&u<=1||t.predictable?Math.acos(u):new n(u,0).acos()},Complex:function(u){return u.acos()},BigNumber:function(u){return u.acos()},"Array | Matrix":function(u){return(0,dxe.deepMap)(u,i)}});return i});Lh.createAcos=fxe});var OR=D(Uh=>{"use strict";Object.defineProperty(Uh,"__esModule",{value:!0});Uh.createAcosh=void 0;var hxe=oe(),vxe=Qe(),mxe=rr(),xR="acosh",yxe=["typed","config","Complex"],gxe=(0,hxe.factory)(xR,yxe,function(e){var r=e.typed,t=e.config,n=e.Complex,i=r(xR,{number:function(u){return u>=1||t.predictable?(0,mxe.acoshNumber)(u):u<=-1?new n(Math.log(Math.sqrt(u*u-1)-u),Math.PI):new n(u,0).acosh()},Complex:function(u){return u.acosh()},BigNumber:function(u){return u.acosh()},"Array | Matrix":function(u){return(0,vxe.deepMap)(u,i)}});return i});Uh.createAcosh=gxe});var NR=D(zh=>{"use strict";Object.defineProperty(zh,"__esModule",{value:!0});zh.createAcot=void 0;var bxe=oe(),_xe=Qe(),wxe=rr(),DR="acot",Sxe=["typed","BigNumber"],xxe=(0,bxe.factory)(DR,Sxe,function(e){var r=e.typed,t=e.BigNumber,n=r(DR,{number:wxe.acotNumber,Complex:function(c){return c.acot()},BigNumber:function(c){return new t(1).div(c).atan()},"Array | Matrix":function(c){return(0,_xe.deepMap)(c,n)}});return n});zh.createAcot=xxe});var AR=D(Jh=>{"use strict";Object.defineProperty(Jh,"__esModule",{value:!0});Jh.createAcoth=void 0;var Oxe=oe(),Dxe=Qe(),Nxe=rr(),CR="acoth",Cxe=["typed","config","Complex","BigNumber"],Axe=(0,Oxe.factory)(CR,Cxe,function(e){var r=e.typed,t=e.config,n=e.Complex,i=e.BigNumber,c=r(CR,{number:function(a){return a>=1||a<=-1||t.predictable?(0,Nxe.acothNumber)(a):new n(a,0).acoth()},Complex:function(a){return a.acoth()},BigNumber:function(a){return new i(1).div(a).atanh()},"Array | Matrix":function(a){return(0,Dxe.deepMap)(a,c)}});return c});Jh.createAcoth=Axe});var PR=D(Vh=>{"use strict";Object.defineProperty(Vh,"__esModule",{value:!0});Vh.createAcsc=void 0;var Mxe=oe(),Pxe=Qe(),Exe=rr(),MR="acsc",qxe=["typed","config","Complex","BigNumber"],Ixe=(0,Mxe.factory)(MR,qxe,function(e){var r=e.typed,t=e.config,n=e.Complex,i=e.BigNumber,c=r(MR,{number:function(a){return a<=-1||a>=1||t.predictable?(0,Exe.acscNumber)(a):new n(a,0).acsc()},Complex:function(a){return a.acsc()},BigNumber:function(a){return new i(1).div(a).asin()},"Array | Matrix":function(a){return(0,Pxe.deepMap)(a,c)}});return c});Vh.createAcsc=Ixe});var qR=D(Gh=>{"use strict";Object.defineProperty(Gh,"__esModule",{value:!0});Gh.createAcsch=void 0;var Bxe=oe(),kxe=Qe(),jxe=rr(),ER="acsch",Txe=["typed","BigNumber"],Rxe=(0,Bxe.factory)(ER,Txe,function(e){var r=e.typed,t=e.BigNumber,n=r(ER,{number:jxe.acschNumber,Complex:function(c){return c.acsch()},BigNumber:function(c){return new t(1).div(c).asinh()},"Array | Matrix":function(c){return(0,kxe.deepMap)(c,n)}});return n});Gh.createAcsch=Rxe});var BR=D(Hh=>{"use strict";Object.defineProperty(Hh,"__esModule",{value:!0});Hh.createAsec=void 0;var Fxe=oe(),Lxe=Qe(),Uxe=rr(),IR="asec",zxe=["typed","config","Complex","BigNumber"],Jxe=(0,Fxe.factory)(IR,zxe,function(e){var r=e.typed,t=e.config,n=e.Complex,i=e.BigNumber,c=r(IR,{number:function(a){return a<=-1||a>=1||t.predictable?(0,Uxe.asecNumber)(a):new n(a,0).asec()},Complex:function(a){return a.asec()},BigNumber:function(a){return new i(1).div(a).acos()},"Array | Matrix":function(a){return(0,Lxe.deepMap)(a,c)}});return c});Hh.createAsec=Jxe});var jR=D(Wh=>{"use strict";Object.defineProperty(Wh,"__esModule",{value:!0});Wh.createAsech=void 0;var Vxe=oe(),Gxe=Qe(),Hxe=rr(),kR="asech",Wxe=["typed","config","Complex","BigNumber"],$xe=(0,Vxe.factory)(kR,Wxe,function(e){var r=e.typed,t=e.config,n=e.Complex,i=e.BigNumber,c=r(kR,{number:function(a){if(a<=1&&a>=-1||t.predictable){var s=1/a;if(s>0||t.predictable)return(0,Hxe.asechNumber)(a);var o=Math.sqrt(s*s-1);return new n(Math.log(o-s),Math.PI)}return new n(a,0).asech()},Complex:function(a){return a.asech()},BigNumber:function(a){return new i(1).div(a).acosh()},"Array | Matrix":function(a){return(0,Gxe.deepMap)(a,c)}});return c});Wh.createAsech=$xe});var RR=D($h=>{"use strict";Object.defineProperty($h,"__esModule",{value:!0});$h.createAsin=void 0;var Qxe=oe(),Yxe=Qe(),TR="asin",Zxe=["typed","config","Complex"],Xxe=(0,Qxe.factory)(TR,Zxe,function(e){var r=e.typed,t=e.config,n=e.Complex,i=r(TR,{number:function(u){return u>=-1&&u<=1||t.predictable?Math.asin(u):new n(u,0).asin()},Complex:function(u){return u.asin()},BigNumber:function(u){return u.asin()},"Array | Matrix":function(u){return(0,Yxe.deepMap)(u,i,!0)}});return i});$h.createAsin=Xxe});var FR=D(Qh=>{"use strict";Object.defineProperty(Qh,"__esModule",{value:!0});Qh.createAsinh=void 0;var Kxe=oe(),eOe=Qe(),rOe=rr(),tOe="asinh",nOe=["typed"],iOe=(0,Kxe.factory)(tOe,nOe,function(e){var r=e.typed,t=r("asinh",{number:rOe.asinhNumber,Complex:function(i){return i.asinh()},BigNumber:function(i){return i.asinh()},"Array | Matrix":function(i){return(0,eOe.deepMap)(i,t,!0)}});return t});Qh.createAsinh=iOe});var LR=D(Yh=>{"use strict";Object.defineProperty(Yh,"__esModule",{value:!0});Yh.createAtan=void 0;var aOe=oe(),sOe=Qe(),oOe="atan",cOe=["typed"],uOe=(0,aOe.factory)(oOe,cOe,function(e){var r=e.typed,t=r("atan",{number:function(i){return Math.atan(i)},Complex:function(i){return i.atan()},BigNumber:function(i){return i.atan()},"Array | Matrix":function(i){return(0,sOe.deepMap)(i,t,!0)}});return t});Yh.createAtan=uOe});var zR=D(Zh=>{"use strict";Object.defineProperty(Zh,"__esModule",{value:!0});Zh.createAtan2=void 0;var lOe=oe(),dOe=Ln(),pOe=Vt(),fOe=qC(),hOe=Jt(),vOe=Gt(),mOe=Wr(),yOe=Ur(),UR="atan2",gOe=["typed","matrix","equalScalar","BigNumber","DenseMatrix"],bOe=(0,lOe.factory)(UR,gOe,function(e){var r=e.typed,t=e.matrix,n=e.equalScalar,i=e.BigNumber,c=e.DenseMatrix,u=(0,dOe.createAlgorithm02)({typed:r,equalScalar:n}),a=(0,pOe.createAlgorithm03)({typed:r}),s=(0,fOe.createAlgorithm09)({typed:r,equalScalar:n}),o=(0,hOe.createAlgorithm11)({typed:r,equalScalar:n}),l=(0,vOe.createAlgorithm12)({typed:r,DenseMatrix:c}),d=(0,mOe.createAlgorithm13)({typed:r}),p=(0,yOe.createAlgorithm14)({typed:r}),f=r(UR,{"number, number":Math.atan2,"BigNumber, BigNumber":function(h,m){return i.atan2(h,m)},"SparseMatrix, SparseMatrix":function(h,m){return s(h,m,f,!1)},"SparseMatrix, DenseMatrix":function(h,m){return u(m,h,f,!0)},"DenseMatrix, SparseMatrix":function(h,m){return a(h,m,f,!1)},"DenseMatrix, DenseMatrix":function(h,m){return d(h,m,f)},"Array, Array":function(h,m){return f(t(h),t(m)).valueOf()},"Array, Matrix":function(h,m){return f(t(h),m)},"Matrix, Array":function(h,m){return f(h,t(m))},"SparseMatrix, number | BigNumber":function(h,m){return o(h,m,f,!1)},"DenseMatrix, number | BigNumber":function(h,m){return p(h,m,f,!1)},"number | BigNumber, SparseMatrix":function(h,m){return l(m,h,f,!0)},"number | BigNumber, DenseMatrix":function(h,m){return p(m,h,f,!0)},"Array, number | BigNumber":function(h,m){return p(t(h),m,f,!1).valueOf()},"number | BigNumber, Array":function(h,m){return p(t(m),h,f,!0).valueOf()}});return f});Zh.createAtan2=bOe});var VR=D(Xh=>{"use strict";Object.defineProperty(Xh,"__esModule",{value:!0});Xh.createAtanh=void 0;var _Oe=oe(),wOe=Qe(),SOe=rr(),JR="atanh",xOe=["typed","config","Complex"],OOe=(0,_Oe.factory)(JR,xOe,function(e){var r=e.typed,t=e.config,n=e.Complex,i=r(JR,{number:function(u){return u<=1&&u>=-1||t.predictable?(0,SOe.atanhNumber)(u):new n(u,0).atanh()},Complex:function(u){return u.atanh()},BigNumber:function(u){return u.atanh()},"Array | Matrix":function(u){return(0,wOe.deepMap)(u,i,!0)}});return i});Xh.createAtanh=OOe});var HR=D(Kh=>{"use strict";Object.defineProperty(Kh,"__esModule",{value:!0});Kh.createCos=void 0;var DOe=oe(),NOe=Qe(),GR="cos",COe=["typed"],AOe=(0,DOe.factory)(GR,COe,function(e){var r=e.typed,t=r(GR,{number:Math.cos,Complex:function(i){return i.cos()},BigNumber:function(i){return i.cos()},Unit:function(i){if(!i.hasBase(i.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cos is no angle");return t(i.value)},"Array | Matrix":function(i){return(0,NOe.deepMap)(i,t)}});return t});Kh.createCos=AOe});var $R=D(ev=>{"use strict";Object.defineProperty(ev,"__esModule",{value:!0});ev.createCosh=void 0;var MOe=oe(),POe=Qe(),EOe=gr(),WR="cosh",qOe=["typed"],IOe=(0,MOe.factory)(WR,qOe,function(e){var r=e.typed,t=r(WR,{number:EOe.cosh,Complex:function(i){return i.cosh()},BigNumber:function(i){return i.cosh()},Unit:function(i){if(!i.hasBase(i.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cosh is no angle");return t(i.value)},"Array | Matrix":function(i){return(0,POe.deepMap)(i,t)}});return t});ev.createCosh=IOe});var YR=D(rv=>{"use strict";Object.defineProperty(rv,"__esModule",{value:!0});rv.createCot=void 0;var BOe=oe(),kOe=Qe(),jOe=rr(),QR="cot",TOe=["typed","BigNumber"],ROe=(0,BOe.factory)(QR,TOe,function(e){var r=e.typed,t=e.BigNumber,n=r(QR,{number:jOe.cotNumber,Complex:function(c){return c.cot()},BigNumber:function(c){return new t(1).div(c.tan())},Unit:function(c){if(!c.hasBase(c.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cot is no angle");return n(c.value)},"Array | Matrix":function(c){return(0,kOe.deepMap)(c,n)}});return n});rv.createCot=ROe});var XR=D(tv=>{"use strict";Object.defineProperty(tv,"__esModule",{value:!0});tv.createCoth=void 0;var FOe=oe(),LOe=Qe(),UOe=rr(),ZR="coth",zOe=["typed","BigNumber"],JOe=(0,FOe.factory)(ZR,zOe,function(e){var r=e.typed,t=e.BigNumber,n=r(ZR,{number:UOe.cothNumber,Complex:function(c){return c.coth()},BigNumber:function(c){return new t(1).div(c.tanh())},Unit:function(c){if(!c.hasBase(c.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function coth is no angle");return n(c.value)},"Array | Matrix":function(c){return(0,LOe.deepMap)(c,n)}});return n});tv.createCoth=JOe});var eF=D(nv=>{"use strict";Object.defineProperty(nv,"__esModule",{value:!0});nv.createCsc=void 0;var VOe=oe(),GOe=Qe(),HOe=rr(),KR="csc",WOe=["typed","BigNumber"],$Oe=(0,VOe.factory)(KR,WOe,function(e){var r=e.typed,t=e.BigNumber,n=r(KR,{number:HOe.cscNumber,Complex:function(c){return c.csc()},BigNumber:function(c){return new t(1).div(c.sin())},Unit:function(c){if(!c.hasBase(c.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function csc is no angle");return n(c.value)},"Array | Matrix":function(c){return(0,GOe.deepMap)(c,n)}});return n});nv.createCsc=$Oe});var tF=D(iv=>{"use strict";Object.defineProperty(iv,"__esModule",{value:!0});iv.createCsch=void 0;var QOe=oe(),YOe=Qe(),ZOe=rr(),rF="csch",XOe=["typed","BigNumber"],KOe=(0,QOe.factory)(rF,XOe,function(e){var r=e.typed,t=e.BigNumber,n=r(rF,{number:ZOe.cschNumber,Complex:function(c){return c.csch()},BigNumber:function(c){return new t(1).div(c.sinh())},Unit:function(c){if(!c.hasBase(c.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function csch is no angle");return n(c.value)},"Array | Matrix":function(c){return(0,YOe.deepMap)(c,n)}});return n});iv.createCsch=KOe});var iF=D(av=>{"use strict";Object.defineProperty(av,"__esModule",{value:!0});av.createSec=void 0;var eDe=oe(),rDe=Qe(),tDe=rr(),nF="sec",nDe=["typed","BigNumber"],iDe=(0,eDe.factory)(nF,nDe,function(e){var r=e.typed,t=e.BigNumber,n=r(nF,{number:tDe.secNumber,Complex:function(c){return c.sec()},BigNumber:function(c){return new t(1).div(c.cos())},Unit:function(c){if(!c.hasBase(c.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function sec is no angle");return n(c.value)},"Array | Matrix":function(c){return(0,rDe.deepMap)(c,n)}});return n});av.createSec=iDe});var sF=D(sv=>{"use strict";Object.defineProperty(sv,"__esModule",{value:!0});sv.createSech=void 0;var aDe=oe(),sDe=Qe(),oDe=rr(),aF="sech",cDe=["typed","BigNumber"],uDe=(0,aDe.factory)(aF,cDe,function(e){var r=e.typed,t=e.BigNumber,n=r(aF,{number:oDe.sechNumber,Complex:function(c){return c.sech()},BigNumber:function(c){return new t(1).div(c.cosh())},Unit:function(c){if(!c.hasBase(c.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function sech is no angle");return n(c.value)},"Array | Matrix":function(c){return(0,sDe.deepMap)(c,n)}});return n});sv.createSech=uDe});var cF=D(ov=>{"use strict";Object.defineProperty(ov,"__esModule",{value:!0});ov.createSin=void 0;var lDe=oe(),dDe=Qe(),oF="sin",pDe=["typed"],fDe=(0,lDe.factory)(oF,pDe,function(e){var r=e.typed,t=r(oF,{number:Math.sin,Complex:function(i){return i.sin()},BigNumber:function(i){return i.sin()},Unit:function(i){if(!i.hasBase(i.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function sin is no angle");return t(i.value)},"Array | Matrix":function(i){return(0,dDe.deepMap)(i,t,!0)}});return t});ov.createSin=fDe});var lF=D(cv=>{"use strict";Object.defineProperty(cv,"__esModule",{value:!0});cv.createSinh=void 0;var hDe=oe(),vDe=Qe(),mDe=rr(),uF="sinh",yDe=["typed"],gDe=(0,hDe.factory)(uF,yDe,function(e){var r=e.typed,t=r(uF,{number:mDe.sinhNumber,Complex:function(i){return i.sinh()},BigNumber:function(i){return i.sinh()},Unit:function(i){if(!i.hasBase(i.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function sinh is no angle");return t(i.value)},"Array | Matrix":function(i){return(0,vDe.deepMap)(i,t,!0)}});return t});cv.createSinh=gDe});var pF=D(uv=>{"use strict";Object.defineProperty(uv,"__esModule",{value:!0});uv.createTan=void 0;var bDe=oe(),_De=Qe(),dF="tan",wDe=["typed"],SDe=(0,bDe.factory)(dF,wDe,function(e){var r=e.typed,t=r(dF,{number:Math.tan,Complex:function(i){return i.tan()},BigNumber:function(i){return i.tan()},Unit:function(i){if(!i.hasBase(i.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function tan is no angle");return t(i.value)},"Array | Matrix":function(i){return(0,_De.deepMap)(i,t,!0)}});return t});uv.createTan=SDe});var fF=D(lv=>{"use strict";Object.defineProperty(lv,"__esModule",{value:!0});lv.createTanh=void 0;var xDe=oe(),ODe=Qe(),DDe=gr(),NDe="tanh",CDe=["typed"],ADe=(0,xDe.factory)(NDe,CDe,function(e){var r=e.typed,t=r("tanh",{number:DDe.tanh,Complex:function(i){return i.tanh()},BigNumber:function(i){return i.tanh()},Unit:function(i){if(!i.hasBase(i.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function tanh is no angle");return t(i.value)},"Array | Matrix":function(i){return(0,ODe.deepMap)(i,t,!0)}});return t});lv.createTanh=ADe});var mF=D(dv=>{"use strict";Object.defineProperty(dv,"__esModule",{value:!0});dv.createSetCartesian=void 0;var hF=er(),MDe=oe(),vF="setCartesian",PDe=["typed","size","subset","compareNatural","Index","DenseMatrix"],EDe=(0,MDe.factory)(vF,PDe,function(e){var r=e.typed,t=e.size,n=e.subset,i=e.compareNatural,c=e.Index,u=e.DenseMatrix;return r(vF,{"Array | Matrix, Array | Matrix":function(s,o){var l=[];if(n(t(s),new c(0))!==0&&n(t(o),new c(0))!==0){var d=(0,hF.flatten)(Array.isArray(s)?s:s.toArray()).sort(i),p=(0,hF.flatten)(Array.isArray(o)?o:o.toArray()).sort(i);l=[];for(var f=0;f<d.length;f++)for(var v=0;v<p.length;v++)l.push([d[f],p[v]])}return Array.isArray(s)&&Array.isArray(o)?l:new u(l)}})});dv.createSetCartesian=EDe});var gF=D(pv=>{"use strict";Object.defineProperty(pv,"__esModule",{value:!0});pv.createSetDifference=void 0;var Is=er(),qDe=oe(),yF="setDifference",IDe=["typed","size","subset","compareNatural","Index","DenseMatrix"],BDe=(0,qDe.factory)(yF,IDe,function(e){var r=e.typed,t=e.size,n=e.subset,i=e.compareNatural,c=e.Index,u=e.DenseMatrix;return r(yF,{"Array | Matrix, Array | Matrix":function(s,o){var l;if(n(t(s),new c(0))===0)l=[];else{if(n(t(o),new c(0))===0)return(0,Is.flatten)(s.toArray());var d=(0,Is.identify)((0,Is.flatten)(Array.isArray(s)?s:s.toArray()).sort(i)),p=(0,Is.identify)((0,Is.flatten)(Array.isArray(o)?o:o.toArray()).sort(i));l=[];for(var f,v=0;v<d.length;v++){f=!1;for(var h=0;h<p.length;h++)if(i(d[v].value,p[h].value)===0&&d[v].identifier===p[h].identifier){f=!0;break}f||l.push(d[v])}}return Array.isArray(s)&&Array.isArray(o)?(0,Is.generalize)(l):new u((0,Is.generalize)(l))}})});pv.createSetDifference=BDe});var _F=D(fv=>{"use strict";Object.defineProperty(fv,"__esModule",{value:!0});fv.createSetDistinct=void 0;var kDe=er(),jDe=oe(),bF="setDistinct",TDe=["typed","size","subset","compareNatural","Index","DenseMatrix"],RDe=(0,jDe.factory)(bF,TDe,function(e){var r=e.typed,t=e.size,n=e.subset,i=e.compareNatural,c=e.Index,u=e.DenseMatrix;return r(bF,{"Array | Matrix":function(s){var o;if(n(t(s),new c(0))===0)o=[];else{var l=(0,kDe.flatten)(Array.isArray(s)?s:s.toArray()).sort(i);o=[],o.push(l[0]);for(var d=1;d<l.length;d++)i(l[d],l[d-1])!==0&&o.push(l[d])}return Array.isArray(s)?o:new u(o)}})});fv.createSetDistinct=RDe});var SF=D(hv=>{"use strict";Object.defineProperty(hv,"__esModule",{value:!0});hv.createSetIntersect=void 0;var Xo=er(),FDe=oe(),wF="setIntersect",LDe=["typed","size","subset","compareNatural","Index","DenseMatrix"],UDe=(0,FDe.factory)(wF,LDe,function(e){var r=e.typed,t=e.size,n=e.subset,i=e.compareNatural,c=e.Index,u=e.DenseMatrix;return r(wF,{"Array | Matrix, Array | Matrix":function(s,o){var l;if(n(t(s),new c(0))===0||n(t(o),new c(0))===0)l=[];else{var d=(0,Xo.identify)((0,Xo.flatten)(Array.isArray(s)?s:s.toArray()).sort(i)),p=(0,Xo.identify)((0,Xo.flatten)(Array.isArray(o)?o:o.toArray()).sort(i));l=[];for(var f=0;f<d.length;f++)for(var v=0;v<p.length;v++)if(i(d[f].value,p[v].value)===0&&d[f].identifier===p[v].identifier){l.push(d[f]);break}}return Array.isArray(s)&&Array.isArray(o)?(0,Xo.generalize)(l):new u((0,Xo.generalize)(l))}})});hv.createSetIntersect=UDe});var OF=D(mv=>{"use strict";Object.defineProperty(mv,"__esModule",{value:!0});mv.createSetIsSubset=void 0;var vv=er(),zDe=oe(),xF="setIsSubset",JDe=["typed","size","subset","compareNatural","Index"],VDe=(0,zDe.factory)(xF,JDe,function(e){var r=e.typed,t=e.size,n=e.subset,i=e.compareNatural,c=e.Index;return r(xF,{"Array | Matrix, Array | Matrix":function(a,s){if(n(t(a),new c(0))===0)return!0;if(n(t(s),new c(0))===0)return!1;for(var o=(0,vv.identify)((0,vv.flatten)(Array.isArray(a)?a:a.toArray()).sort(i)),l=(0,vv.identify)((0,vv.flatten)(Array.isArray(s)?s:s.toArray()).sort(i)),d,p=0;p<o.length;p++){d=!1;for(var f=0;f<l.length;f++)if(i(o[p].value,l[f].value)===0&&o[p].identifier===l[f].identifier){d=!0;break}if(d===!1)return!1}return!0}})});mv.createSetIsSubset=VDe});var NF=D(yv=>{"use strict";Object.defineProperty(yv,"__esModule",{value:!0});yv.createSetMultiplicity=void 0;var GDe=er(),HDe=oe(),DF="setMultiplicity",WDe=["typed","size","subset","compareNatural","Index"],$De=(0,HDe.factory)(DF,WDe,function(e){var r=e.typed,t=e.size,n=e.subset,i=e.compareNatural,c=e.Index;return r(DF,{"number | BigNumber | Fraction | Complex, Array | Matrix":function(a,s){if(n(t(s),new c(0))===0)return 0;for(var o=(0,GDe.flatten)(Array.isArray(s)?s:s.toArray()),l=0,d=0;d<o.length;d++)i(o[d],a)===0&&l++;return l}})});yv.createSetMultiplicity=$De});var AF=D(gv=>{"use strict";Object.defineProperty(gv,"__esModule",{value:!0});gv.createSetPowerset=void 0;var QDe=er(),YDe=oe(),CF="setPowerset",ZDe=["typed","size","subset","compareNatural","Index"],XDe=(0,YDe.factory)(CF,ZDe,function(e){var r=e.typed,t=e.size,n=e.subset,i=e.compareNatural,c=e.Index;return r(CF,{"Array | Matrix":function(o){if(n(t(o),new c(0))===0)return[];for(var l=(0,QDe.flatten)(Array.isArray(o)?o:o.toArray()).sort(i),d=[],p=0;p.toString(2).length<=l.length;)d.push(u(l,p.toString(2).split("").reverse())),p++;return a(d)}});function u(s,o){for(var l=[],d=0;d<o.length;d++)o[d]==="1"&&l.push(s[d]);return l}function a(s){for(var o=[],l=s.length-1;l>0;l--)for(var d=0;d<l;d++)s[d].length>s[d+1].length&&(o=s[d],s[d]=s[d+1],s[d+1]=o);return s}});gv.createSetPowerset=XDe});var PF=D(bv=>{"use strict";Object.defineProperty(bv,"__esModule",{value:!0});bv.createSetSize=void 0;var qu=er(),KDe=oe(),MF="setSize",eNe=["typed","compareNatural"],rNe=(0,KDe.factory)(MF,eNe,function(e){var r=e.typed,t=e.compareNatural;return r(MF,{"Array | Matrix":function(i){return Array.isArray(i)?(0,qu.flatten)(i).length:(0,qu.flatten)(i.toArray()).length},"Array | Matrix, boolean":function(i,c){if(c===!1||i.length===0)return Array.isArray(i)?(0,qu.flatten)(i).length:(0,qu.flatten)(i.toArray()).length;for(var u=(0,qu.flatten)(Array.isArray(i)?i:i.toArray()).sort(t),a=1,s=1;s<u.length;s++)t(u[s],u[s-1])!==0&&a++;return a}})});bv.createSetSize=rNe});var qF=D(wv=>{"use strict";Object.defineProperty(wv,"__esModule",{value:!0});wv.createSetSymDifference=void 0;var _v=er(),tNe=oe(),EF="setSymDifference",nNe=["typed","size","concat","subset","setDifference","Index"],iNe=(0,tNe.factory)(EF,nNe,function(e){var r=e.typed,t=e.size,n=e.concat,i=e.subset,c=e.setDifference,u=e.Index;return r(EF,{"Array | Matrix, Array | Matrix":function(s,o){if(i(t(s),new u(0))===0)return(0,_v.flatten)(o);if(i(t(o),new u(0))===0)return(0,_v.flatten)(s);var l=(0,_v.flatten)(s),d=(0,_v.flatten)(o);return n(c(l,d),c(d,l))}})});wv.createSetSymDifference=iNe});var BF=D(xv=>{"use strict";Object.defineProperty(xv,"__esModule",{value:!0});xv.createSetUnion=void 0;var Sv=er(),aNe=oe(),IF="setUnion",sNe=["typed","size","concat","subset","setIntersect","setSymDifference","Index"],oNe=(0,aNe.factory)(IF,sNe,function(e){var r=e.typed,t=e.size,n=e.concat,i=e.subset,c=e.setIntersect,u=e.setSymDifference,a=e.Index;return r(IF,{"Array | Matrix, Array | Matrix":function(o,l){if(i(t(o),new a(0))===0)return(0,Sv.flatten)(l);if(i(t(l),new a(0))===0)return(0,Sv.flatten)(o);var d=(0,Sv.flatten)(o),p=(0,Sv.flatten)(l);return n(u(d,p),c(d,p))}})});xv.createSetUnion=oNe});var jF=D(Ov=>{"use strict";Object.defineProperty(Ov,"__esModule",{value:!0});Ov.createAdd=void 0;var cNe=oe(),uNe=yr(),lNe=Hi(),dNe=Ap(),pNe=Da(),fNe=Wr(),hNe=Ur(),kF="add",vNe=["typed","matrix","addScalar","equalScalar","DenseMatrix","SparseMatrix"],mNe=(0,cNe.factory)(kF,vNe,function(e){var r=e.typed,t=e.matrix,n=e.addScalar,i=e.equalScalar,c=e.DenseMatrix,u=e.SparseMatrix,a=(0,lNe.createAlgorithm01)({typed:r}),s=(0,dNe.createAlgorithm04)({typed:r,equalScalar:i}),o=(0,pNe.createAlgorithm10)({typed:r,DenseMatrix:c}),l=(0,fNe.createAlgorithm13)({typed:r}),d=(0,hNe.createAlgorithm14)({typed:r}),p=r(kF,(0,uNe.extend)({"DenseMatrix, DenseMatrix":function(v,h){return l(v,h,n)},"DenseMatrix, SparseMatrix":function(v,h){return a(v,h,n,!1)},"SparseMatrix, DenseMatrix":function(v,h){return a(h,v,n,!0)},"SparseMatrix, SparseMatrix":function(v,h){return s(v,h,n)},"Array, Array":function(v,h){return p(t(v),t(h)).valueOf()},"Array, Matrix":function(v,h){return p(t(v),h)},"Matrix, Array":function(v,h){return p(v,t(h))},"DenseMatrix, any":function(v,h){return d(v,h,n,!1)},"SparseMatrix, any":function(v,h){return o(v,h,n,!1)},"any, DenseMatrix":function(v,h){return d(h,v,n,!0)},"any, SparseMatrix":function(v,h){return o(h,v,n,!0)},"Array, any":function(v,h){return d(t(v),h,n,!1).valueOf()},"any, Array":function(v,h){return d(t(h),v,n,!0).valueOf()},"any, any":n,"any, any, ...any":function(v,h,m){for(var y=p(v,h),g=0;g<m.length;g++)y=p(y,m[g]);return y}},n.signatures));return p});Ov.createAdd=mNe});var FF=D(Dv=>{"use strict";Object.defineProperty(Dv,"__esModule",{value:!0});Dv.createHypot=void 0;var yNe=oe(),TF=er(),RF="hypot",gNe=["typed","abs","addScalar","divideScalar","multiplyScalar","sqrt","smaller","isPositive"],bNe=(0,yNe.factory)(RF,gNe,function(e){var r=e.typed,t=e.abs,n=e.addScalar,i=e.divideScalar,c=e.multiplyScalar,u=e.sqrt,a=e.smaller,s=e.isPositive,o=r(RF,{"... number | BigNumber":l,Array:function(p){return o.apply(o,(0,TF.flatten)(p))},Matrix:function(p){return o.apply(o,(0,TF.flatten)(p.toArray()))}});function l(d){for(var p=0,f=0,v=0;v<d.length;v++){var h=t(d[v]);a(f,h)?(p=c(p,c(i(f,h),i(f,h))),p=n(p,1),f=h):p=n(p,s(h)?c(i(h,f),i(h,f)):h)}return c(f,u(p))}return o});Dv.createHypot=bNe});var UF=D(Nv=>{"use strict";Object.defineProperty(Nv,"__esModule",{value:!0});Nv.createNorm=void 0;var _Ne=oe(),LF="norm",wNe=["typed","abs","add","pow","conj","sqrt","multiply","equalScalar","larger","smaller","matrix"],SNe=(0,_Ne.factory)(LF,wNe,function(e){var r=e.typed,t=e.abs,n=e.add,i=e.pow,c=e.conj,u=e.sqrt,a=e.multiply,s=e.equalScalar,o=e.larger,l=e.smaller,d=e.matrix,p=r(LF,{number:Math.abs,Complex:function(h){return h.abs()},BigNumber:function(h){return h.abs()},boolean:function(h){return Math.abs(h)},Array:function(h){return f(d(h),2)},Matrix:function(h){return f(h,2)},"number | Complex | BigNumber | boolean, number | BigNumber | string":function(h){return p(h)},"Array, number | BigNumber | string":function(h,m){return f(d(h),m)},"Matrix, number | BigNumber | string":function(h,m){return f(h,m)}});function f(v,h){var m=v.size();if(m.length===1){if(h===Number.POSITIVE_INFINITY||h==="inf"){var y=0;return v.forEach(function(N){var M=t(N);o(M,y)&&(y=M)},!0),y}if(h===Number.NEGATIVE_INFINITY||h==="-inf"){var g;return v.forEach(function(N){var M=t(N);(!g||l(M,g))&&(g=M)},!0),g||0}if(h==="fro")return f(v,2);if(typeof h=="number"&&!isNaN(h)){if(!s(h,0)){var b=0;return v.forEach(function(N){b=n(i(t(N),h),b)},!0),i(b,1/h)}return Number.POSITIVE_INFINITY}throw new Error("Unsupported parameter value")}if(m.length===2){if(h===1){var _=[],S=0;return v.forEach(function(N,M){var I=M[1],q=n(_[I]||0,t(N));o(q,S)&&(S=q),_[I]=q},!0),S}if(h===Number.POSITIVE_INFINITY||h==="inf"){var w=[],O=0;return v.forEach(function(N,M){var I=M[0],q=n(w[I]||0,t(N));o(q,O)&&(O=q),w[I]=q},!0),O}if(h==="fro"){var x=0;return v.forEach(function(N,M){x=n(x,a(N,c(N)))}),t(u(x))}throw h===2?new Error("Unsupported parameter value, missing implementation of matrix singular value decomposition"):new Error("Unsupported parameter value")}}return p});Nv.createNorm=SNe});var VF=D(Cv=>{"use strict";Object.defineProperty(Cv,"__esModule",{value:!0});Cv.createDot=void 0;var zF=er(),xNe=oe(),JF="dot",ONe=["typed","add","multiply"],DNe=(0,xNe.factory)(JF,ONe,function(e){var r=e.typed,t=e.add,n=e.multiply;return r(JF,{"Matrix, Matrix":function(u,a){return i(u.toArray(),a.toArray())},"Matrix, Array":function(u,a){return i(u.toArray(),a)},"Array, Matrix":function(u,a){return i(u,a.toArray())},"Array, Array":i});function i(c,u){var a=(0,zF.arraySize)(c),s=(0,zF.arraySize)(u),o=a[0];if(a.length!==1||s.length!==1)throw new RangeError("Vector expected");if(a[0]!==s[0])throw new RangeError("Vectors must have equal length ("+a[0]+" != "+s[0]+")");if(o===0)throw new RangeError("Cannot calculate the dot product of empty vectors");for(var l=0,d=0;d<o;d++)l=t(l,n(c[d],u[d]));return l}});Cv.createDot=DNe});var HF=D(Mv=>{"use strict";Object.defineProperty(Mv,"__esModule",{value:!0});Mv.createTrace=void 0;var GF=yr(),Av=Xr(),NNe=oe(),CNe="trace",ANe=["typed","matrix","add"],MNe=(0,NNe.factory)(CNe,ANe,function(e){var r=e.typed,t=e.matrix,n=e.add;return r("trace",{Array:function(a){return i(t(a))},SparseMatrix:c,DenseMatrix:i,any:GF.clone});function i(u){var a=u._size,s=u._data;switch(a.length){case 1:if(a[0]===1)return(0,GF.clone)(s[0]);throw new RangeError("Matrix must be square (size: "+(0,Av.format)(a)+")");case 2:{var o=a[0],l=a[1];if(o===l){for(var d=0,p=0;p<o;p++)d=n(d,s[p][p]);return d}else throw new RangeError("Matrix must be square (size: "+(0,Av.format)(a)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+(0,Av.format)(a)+")")}}function c(u){var a=u._values,s=u._index,o=u._ptr,l=u._size,d=l[0],p=l[1];if(d===p){var f=0;if(a.length>0)for(var v=0;v<p;v++)for(var h=o[v],m=o[v+1],y=h;y<m;y++){var g=s[y];if(g===v){f=n(f,a[y]);break}if(g>v)break}return f}throw new RangeError("Matrix must be square (size: "+(0,Av.format)(l)+")")}});Mv.createTrace=MNe});var $F=D(Pv=>{"use strict";Object.defineProperty(Pv,"__esModule",{value:!0});Pv.createIndex=void 0;var PNe=oe(),nA=He(),WF="index",ENe=["typed","Index"],qNe=(0,PNe.factory)(WF,ENe,function(e){var r=e.typed,t=e.Index;return r(WF,{"...number | string | BigNumber | Range | Array | Matrix":function(i){var c=i.map(function(a){return(0,nA.isBigNumber)(a)?a.toNumber():Array.isArray(a)||(0,nA.isMatrix)(a)?a.map(function(s){return(0,nA.isBigNumber)(s)?s.toNumber():s}):a}),u=new t;return t.apply(u,c),u}})});Pv.createIndex=qNe});var iA=D(Ev=>{"use strict";Object.defineProperty(Ev,"__esModule",{value:!0});Ev.keywords=void 0;var INe={end:!0};Ev.keywords=INe});var ZF=D(qv=>{"use strict";Object.defineProperty(qv,"__esModule",{value:!0});qv.createNode=void 0;var BNe=He(),kNe=iA(),QF=yr(),jNe=oe(),YF=Ji();function Yi(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Yi=function(t){return typeof t}:Yi=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yi(e)}var TNe="Node",RNe=["mathWithTransform"],FNe=(0,jNe.factory)(TNe,RNe,function(e){var r=e.mathWithTransform;function t(){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator")}t.prototype.evaluate=function(i){return this.compile().evaluate(i)},t.prototype.eval=function(i){return(0,YF.warnOnce)("Method Node.eval is renamed to Node.evaluate. Please use the new method name."),this.evaluate(i)},t.prototype.type="Node",t.prototype.isNode=!0,t.prototype.comment="",t.prototype.compile=function(){var i=this._compile(r,{}),c={},u=null;function a(s){var o=s||{};return n(o),i(o,c,u)}return{evaluate:a,eval:function(o){return(0,YF.warnOnce)("Method eval is renamed to evaluate. Please use the new method."),a(o)}}},t.prototype._compile=function(i,c){throw new Error("Method _compile should be implemented by type "+this.type)},t.prototype.forEach=function(i){throw new Error("Cannot run forEach on a Node interface")},t.prototype.map=function(i){throw new Error("Cannot run map on a Node interface")},t.prototype._ifNode=function(i){if(!(0,BNe.isNode)(i))throw new TypeError("Callback function must return a Node");return i},t.prototype.traverse=function(i){i(this,null,null);function c(u,a){u.forEach(function(s,o,l){a(s,o,l),c(s,a)})}c(this,i)},t.prototype.transform=function(i){function c(u,a,s){var o=i(u,a,s);return o!==u?o:u.map(c)}return c(this,null,null)},t.prototype.filter=function(i){var c=[];return this.traverse(function(u,a,s){i(u,a,s)&&c.push(u)}),c},t.prototype.find=function(){throw new Error("Function Node.find is deprecated. Use Node.filter instead.")},t.prototype.match=function(){throw new Error("Function Node.match is deprecated. See functions Node.filter, Node.transform, Node.traverse.")},t.prototype.clone=function(){throw new Error("Cannot clone a Node interface")},t.prototype.cloneDeep=function(){return this.map(function(i){return i.cloneDeep()})},t.prototype.equals=function(i){return i?(0,QF.deepStrictEqual)(this,i):!1},t.prototype.toString=function(i){var c;if(i&&Yi(i)==="object")switch(Yi(i.handler)){case"object":case"undefined":break;case"function":c=i.handler(this,i);break;default:throw new TypeError("Object or function expected as callback")}return typeof c<"u"?c:this._toString(i)},t.prototype.toJSON=function(){throw new Error("Cannot serialize object: toJSON not implemented by "+this.type)},t.prototype.toHTML=function(i){var c;if(i&&Yi(i)==="object")switch(Yi(i.handler)){case"object":case"undefined":break;case"function":c=i.handler(this,i);break;default:throw new TypeError("Object or function expected as callback")}return typeof c<"u"?c:this.toHTML(i)},t.prototype._toString=function(){throw new Error("_toString not implemented for "+this.type)},t.prototype.toTex=function(i){var c;if(i&&Yi(i)==="object")switch(Yi(i.handler)){case"object":case"undefined":break;case"function":c=i.handler(this,i);break;default:throw new TypeError("Object or function expected as callback")}return typeof c<"u"?c:this._toTex(i)},t.prototype._toTex=function(i){throw new Error("_toTex not implemented for "+this.type)},t.prototype.getIdentifier=function(){return this.type},t.prototype.getContent=function(){return this};function n(i){for(var c in i)if((0,QF.hasOwnProperty)(i,c)&&c in kNe.keywords)throw new Error('Scope contains an illegal symbol, "'+c+'" is a reserved keyword')}return t},{isClass:!0,isNode:!0});qv.createNode=FNe});var Sn=D(aA=>{"use strict";Object.defineProperty(aA,"__esModule",{value:!0});aA.errorTransform=UNe;var LNe=Li();function UNe(e){return e&&e.isIndexError?new LNe.IndexError(e.index+1,e.min+1,e.max!==void 0?e.max+1:void 0):e}});var oA=D(sA=>{"use strict";Object.defineProperty(sA,"__esModule",{value:!0});sA.accessFactory=VNe;var zNe=Sn(),JNe=pn();function Iv(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Iv=function(t){return typeof t}:Iv=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Iv(e)}function VNe(e){var r=e.subset;return function(n,i){try{if(Array.isArray(n))return r(n,i);if(n&&typeof n.subset=="function")return n.subset(i);if(typeof n=="string")return r(n,i);if(Iv(n)==="object"){if(!i.isObjectProperty())throw new TypeError("Cannot apply a numeric index as object property");return(0,JNe.getSafeProperty)(n,i.getObjectProperty())}else throw new TypeError("Cannot apply index: unsupported type of object")}catch(c){throw(0,zNe.errorTransform)(c)}}}});var XF=D(Bv=>{"use strict";Object.defineProperty(Bv,"__esModule",{value:!0});Bv.createAccessorNode=void 0;var Zi=He(),GNe=pn(),HNe=oe(),WNe=oA(),$Ne="AccessorNode",QNe=["subset","Node"],YNe=(0,HNe.factory)($Ne,QNe,function(e){var r=e.subset,t=e.Node,n=(0,WNe.accessFactory)({subset:r});function i(u,a){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(!(0,Zi.isNode)(u))throw new TypeError('Node expected for parameter "object"');if(!(0,Zi.isIndexNode)(a))throw new TypeError('IndexNode expected for parameter "index"');this.object=u||null,this.index=a,Object.defineProperty(this,"name",{get:function(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}.bind(this),set:function(){throw new Error("Cannot assign a new name, name is read-only")}})}i.prototype=new t,i.prototype.type="AccessorNode",i.prototype.isAccessorNode=!0,i.prototype._compile=function(u,a){var s=this.object._compile(u,a),o=this.index._compile(u,a);if(this.index.isObjectProperty()){var l=this.index.getObjectProperty();return function(p,f,v){return(0,GNe.getSafeProperty)(s(p,f,v),l)}}else return function(p,f,v){var h=s(p,f,v),m=o(p,f,h);return n(h,m)}},i.prototype.forEach=function(u){u(this.object,"object",this),u(this.index,"index",this)},i.prototype.map=function(u){return new i(this._ifNode(u(this.object,"object",this)),this._ifNode(u(this.index,"index",this)))},i.prototype.clone=function(){return new i(this.object,this.index)},i.prototype._toString=function(u){var a=this.object.toString(u);return c(this.object)&&(a="("+a+")"),a+this.index.toString(u)},i.prototype.toHTML=function(u){var a=this.object.toHTML(u);return c(this.object)&&(a='<span class="math-parenthesis math-round-parenthesis">(</span>'+a+'<span class="math-parenthesis math-round-parenthesis">)</span>'),a+this.index.toHTML(u)},i.prototype._toTex=function(u){var a=this.object.toTex(u);return c(this.object)&&(a="\\left(' + object + '\\right)"),a+this.index.toTex(u)},i.prototype.toJSON=function(){return{mathjs:"AccessorNode",object:this.object,index:this.index}},i.fromJSON=function(u){return new i(u.object,u.index)};function c(u){return!((0,Zi.isAccessorNode)(u)||(0,Zi.isArrayNode)(u)||(0,Zi.isConstantNode)(u)||(0,Zi.isFunctionNode)(u)||(0,Zi.isObjectNode)(u)||(0,Zi.isParenthesisNode)(u)||(0,Zi.isSymbolNode)(u))}return i},{isClass:!0,isNode:!0});Bv.createAccessorNode=YNe});var KF=D(kv=>{"use strict";Object.defineProperty(kv,"__esModule",{value:!0});kv.createArrayNode=void 0;var ZNe=He(),cA=er(),XNe=oe(),KNe="ArrayNode",e2e=["Node"],r2e=(0,XNe.factory)(KNe,e2e,function(e){var r=e.Node;function t(n){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");if(this.items=n||[],!Array.isArray(this.items)||!this.items.every(ZNe.isNode))throw new TypeError("Array containing Nodes expected");var i=function(){throw new Error("Property `ArrayNode.nodes` is deprecated, use `ArrayNode.items` instead")};Object.defineProperty(this,"nodes",{get:i,set:i})}return t.prototype=new r,t.prototype.type="ArrayNode",t.prototype.isArrayNode=!0,t.prototype._compile=function(n,i){var c=(0,cA.map)(this.items,function(s){return s._compile(n,i)}),u=n.config.matrix!=="Array";if(u){var a=n.matrix;return function(o,l,d){return a((0,cA.map)(c,function(p){return p(o,l,d)}))}}else return function(o,l,d){return(0,cA.map)(c,function(p){return p(o,l,d)})}},t.prototype.forEach=function(n){for(var i=0;i<this.items.length;i++){var c=this.items[i];n(c,"items["+i+"]",this)}},t.prototype.map=function(n){for(var i=[],c=0;c<this.items.length;c++)i[c]=this._ifNode(n(this.items[c],"items["+c+"]",this));return new t(i)},t.prototype.clone=function(){return new t(this.items.slice(0))},t.prototype._toString=function(n){var i=this.items.map(function(c){return c.toString(n)});return"["+i.join(", ")+"]"},t.prototype.toJSON=function(){return{mathjs:"ArrayNode",items:this.items}},t.fromJSON=function(n){return new t(n.items)},t.prototype.toHTML=function(n){var i=this.items.map(function(c){return c.toHTML(n)});return'<span class="math-parenthesis math-square-parenthesis">[</span>'+i.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'},t.prototype._toTex=function(n){var i="\\begin{bmatrix}";return this.items.forEach(function(c){c.items?i+=c.items.map(function(u){return u.toTex(n)}).join("&"):i+=c.toTex(n),i+="\\\\"}),i+="\\end{bmatrix}",i},t},{isClass:!0,isNode:!0});kv.createArrayNode=r2e});var eL=D(uA=>{"use strict";Object.defineProperty(uA,"__esModule",{value:!0});uA.assignFactory=i2e;var t2e=Sn(),n2e=pn();function jv(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?jv=function(t){return typeof t}:jv=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jv(e)}function i2e(e){var r=e.subset,t=e.matrix;return function(i,c,u){try{if(Array.isArray(i))return t(i).subset(c,u).valueOf();if(i&&typeof i.subset=="function")return i.subset(c,u);if(typeof i=="string")return r(i,c,u);if(jv(i)==="object"){if(!c.isObjectProperty())throw TypeError("Cannot apply a numeric index as object property");return(0,n2e.setSafeProperty)(i,c.getObjectProperty(),u),i}else throw new TypeError("Cannot apply index: unsupported type of object")}catch(a){throw(0,t2e.errorTransform)(a)}}}});var ks=D(Bs=>{"use strict";Object.defineProperty(Bs,"__esModule",{value:!0});Bs.getPrecedence=lA;Bs.getAssociativity=a2e;Bs.isAssociativeWith=s2e;Bs.properties=void 0;var rL=yr(),Iu=[{AssignmentNode:{},FunctionAssignmentNode:{}},{ConditionalNode:{latexLeftParens:!1,latexRightParens:!1,latexParens:!1}},{"OperatorNode:or":{associativity:"left",associativeWith:[]}},{"OperatorNode:xor":{associativity:"left",associativeWith:[]}},{"OperatorNode:and":{associativity:"left",associativeWith:[]}},{"OperatorNode:bitOr":{associativity:"left",associativeWith:[]}},{"OperatorNode:bitXor":{associativity:"left",associativeWith:[]}},{"OperatorNode:bitAnd":{associativity:"left",associativeWith:[]}},{"OperatorNode:equal":{associativity:"left",associativeWith:[]},"OperatorNode:unequal":{associativity:"left",associativeWith:[]},"OperatorNode:smaller":{associativity:"left",associativeWith:[]},"OperatorNode:larger":{associativity:"left",associativeWith:[]},"OperatorNode:smallerEq":{associativity:"left",associativeWith:[]},"OperatorNode:largerEq":{associativity:"left",associativeWith:[]},RelationalNode:{associativity:"left",associativeWith:[]}},{"OperatorNode:leftShift":{associativity:"left",associativeWith:[]},"OperatorNode:rightArithShift":{associativity:"left",associativeWith:[]},"OperatorNode:rightLogShift":{associativity:"left",associativeWith:[]}},{"OperatorNode:to":{associativity:"left",associativeWith:[]}},{RangeNode:{}},{"OperatorNode:add":{associativity:"left",associativeWith:["OperatorNode:add","OperatorNode:subtract"]},"OperatorNode:subtract":{associativity:"left",associativeWith:[]}},{"OperatorNode:multiply":{associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","Operator:dotMultiply","Operator:dotDivide"]},"OperatorNode:divide":{associativity:"left",associativeWith:[],latexLeftParens:!1,latexRightParens:!1,latexParens:!1},"OperatorNode:dotMultiply":{associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","OperatorNode:dotMultiply","OperatorNode:doDivide"]},"OperatorNode:dotDivide":{associativity:"left",associativeWith:[]},"OperatorNode:mod":{associativity:"left",associativeWith:[]}},{"OperatorNode:unaryPlus":{associativity:"right"},"OperatorNode:unaryMinus":{associativity:"right"},"OperatorNode:bitNot":{associativity:"right"},"OperatorNode:not":{associativity:"right"}},{"OperatorNode:pow":{associativity:"right",associativeWith:[],latexRightParens:!1},"OperatorNode:dotPow":{associativity:"right",associativeWith:[]}},{"OperatorNode:factorial":{associativity:"left"}},{"OperatorNode:transpose":{associativity:"left"}}];Bs.properties=Iu;function lA(e,r){var t=e;r!=="keep"&&(t=e.getContent());for(var n=t.getIdentifier(),i=0;i<Iu.length;i++)if(n in Iu[i])return i;return null}function a2e(e,r){var t=e;r!=="keep"&&(t=e.getContent());var n=t.getIdentifier(),i=lA(t,r);if(i===null)return null;var c=Iu[i][n];if((0,rL.hasOwnProperty)(c,"associativity")){if(c.associativity==="left")return"left";if(c.associativity==="right")return"right";throw Error("'"+n+"' has the invalid associativity '"+c.associativity+"'.")}return null}function s2e(e,r,t){var n=t!=="keep"?e.getContent():e,i=t!=="keep"?e.getContent():r,c=n.getIdentifier(),u=i.getIdentifier(),a=lA(n,t);if(a===null)return null;var s=Iu[a][c];if((0,rL.hasOwnProperty)(s,"associativeWith")&&s.associativeWith instanceof Array){for(var o=0;o<s.associativeWith.length;o++)if(s.associativeWith[o]===u)return!0;return!1}return null}});var nL=D(Tv=>{"use strict";Object.defineProperty(Tv,"__esModule",{value:!0});Tv.createAssignmentNode=void 0;var js=He(),Bu=pn(),o2e=oe(),c2e=oA(),u2e=eL(),tL=ks(),l2e="AssignmentNode",d2e=["subset","?matrix","Node"],p2e=(0,o2e.factory)(l2e,d2e,function(e){var r=e.subset,t=e.matrix,n=e.Node,i=(0,c2e.accessFactory)({subset:r}),c=(0,u2e.assignFactory)({subset:r,matrix:t});function u(s,o,l){if(!(this instanceof u))throw new SyntaxError("Constructor must be called with the new operator");if(this.object=s,this.index=l?o:null,this.value=l||o,!(0,js.isSymbolNode)(s)&&!(0,js.isAccessorNode)(s))throw new TypeError('SymbolNode or AccessorNode expected as "object"');if((0,js.isSymbolNode)(s)&&s.name==="end")throw new Error('Cannot assign to symbol "end"');if(this.index&&!(0,js.isIndexNode)(this.index))throw new TypeError('IndexNode expected as "index"');if(!(0,js.isNode)(this.value))throw new TypeError('Node expected as "value"');Object.defineProperty(this,"name",{get:function(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}.bind(this),set:function(){throw new Error("Cannot assign a new name, name is read-only")}})}u.prototype=new n,u.prototype.type="AssignmentNode",u.prototype.isAssignmentNode=!0,u.prototype._compile=function(s,o){var l=this.object._compile(s,o),d=this.index?this.index._compile(s,o):null,p=this.value._compile(s,o),f=this.object.name;if(this.index)if(this.index.isObjectProperty()){var v=this.index.getObjectProperty();return function(b,_,S){var w=l(b,_,S),O=p(b,_,S);return(0,Bu.setSafeProperty)(w,v,O)}}else{if((0,js.isSymbolNode)(this.object))return function(b,_,S){var w=l(b,_,S),O=p(b,_,S),x=d(b,_,w);return(0,Bu.setSafeProperty)(b,f,c(w,x,O)),O};var h=this.object.object._compile(s,o);if(this.object.index.isObjectProperty()){var m=this.object.index.getObjectProperty();return function(b,_,S){var w=h(b,_,S),O=(0,Bu.getSafeProperty)(w,m),x=d(b,_,O),N=p(b,_,S);return(0,Bu.setSafeProperty)(w,m,c(O,x,N)),N}}else{var y=this.object.index._compile(s,o);return function(b,_,S){var w=h(b,_,S),O=y(b,_,w),x=i(w,O),N=d(b,_,x),M=p(b,_,S);return c(w,O,c(x,N,M)),M}}}else{if(!(0,js.isSymbolNode)(this.object))throw new TypeError("SymbolNode expected as object");return function(b,_,S){return(0,Bu.setSafeProperty)(b,f,p(b,_,S))}}},u.prototype.forEach=function(s){s(this.object,"object",this),this.index&&s(this.index,"index",this),s(this.value,"value",this)},u.prototype.map=function(s){var o=this._ifNode(s(this.object,"object",this)),l=this.index?this._ifNode(s(this.index,"index",this)):null,d=this._ifNode(s(this.value,"value",this));return new u(o,l,d)},u.prototype.clone=function(){return new u(this.object,this.index,this.value)};function a(s,o){o||(o="keep");var l=(0,tL.getPrecedence)(s,o),d=(0,tL.getPrecedence)(s.value,o);return o==="all"||d!==null&&d<=l}return u.prototype._toString=function(s){var o=this.object.toString(s),l=this.index?this.index.toString(s):"",d=this.value.toString(s);return a(this,s&&s.parenthesis)&&(d="("+d+")"),o+l+" = "+d},u.prototype.toJSON=function(){return{mathjs:"AssignmentNode",object:this.object,index:this.index,value:this.value}},u.fromJSON=function(s){return new u(s.object,s.index,s.value)},u.prototype.toHTML=function(s){var o=this.object.toHTML(s),l=this.index?this.index.toHTML(s):"",d=this.value.toHTML(s);return a(this,s&&s.parenthesis)&&(d='<span class="math-paranthesis math-round-parenthesis">(</span>'+d+'<span class="math-paranthesis math-round-parenthesis">)</span>'),o+l+'<span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+d},u.prototype._toTex=function(s){var o=this.object.toTex(s),l=this.index?this.index.toTex(s):"",d=this.value.toTex(s);return a(this,s&&s.parenthesis)&&(d="\\left(".concat(d,"\\right)")),o+l+":="+d},u},{isClass:!0,isNode:!0});Tv.createAssignmentNode=p2e});var aL=D(Rv=>{"use strict";Object.defineProperty(Rv,"__esModule",{value:!0});Rv.createBlockNode=void 0;var f2e=He(),iL=er(),h2e=oe(),v2e="BlockNode",m2e=["ResultSet","Node"],y2e=(0,h2e.factory)(v2e,m2e,function(e){var r=e.ResultSet,t=e.Node;function n(i){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(!Array.isArray(i))throw new Error("Array expected");this.blocks=i.map(function(c){var u=c&&c.node,a=c&&c.visible!==void 0?c.visible:!0;if(!(0,f2e.isNode)(u))throw new TypeError('Property "node" must be a Node');if(typeof a!="boolean")throw new TypeError('Property "visible" must be a boolean');return{node:u,visible:a}})}return n.prototype=new t,n.prototype.type="BlockNode",n.prototype.isBlockNode=!0,n.prototype._compile=function(i,c){var u=(0,iL.map)(this.blocks,function(a){return{evaluate:a.node._compile(i,c),visible:a.visible}});return function(s,o,l){var d=[];return(0,iL.forEach)(u,function(f){var v=f.evaluate(s,o,l);f.visible&&d.push(v)}),new r(d)}},n.prototype.forEach=function(i){for(var c=0;c<this.blocks.length;c++)i(this.blocks[c].node,"blocks["+c+"].node",this)},n.prototype.map=function(i){for(var c=[],u=0;u<this.blocks.length;u++){var a=this.blocks[u],s=this._ifNode(i(a.node,"blocks["+u+"].node",this));c[u]={node:s,visible:a.visible}}return new n(c)},n.prototype.clone=function(){var i=this.blocks.map(function(c){return{node:c.node,visible:c.visible}});return new n(i)},n.prototype._toString=function(i){return this.blocks.map(function(c){return c.node.toString(i)+(c.visible?"":";")}).join(`
`)},n.prototype.toJSON=function(){return{mathjs:"BlockNode",blocks:this.blocks}},n.fromJSON=function(i){return new n(i.blocks)},n.prototype.toHTML=function(i){return this.blocks.map(function(c){return c.node.toHTML(i)+(c.visible?"":'<span class="math-separator">;</span>')}).join('<span class="math-separator"><br /></span>')},n.prototype._toTex=function(i){return this.blocks.map(function(c){return c.node.toTex(i)+(c.visible?"":";")}).join(`\\;\\;
`)},n},{isClass:!0,isNode:!0});Rv.createBlockNode=y2e});var sL=D(Fv=>{"use strict";Object.defineProperty(Fv,"__esModule",{value:!0});Fv.createConditionalNode=void 0;var Ts=He(),g2e=oe(),Pa=ks(),b2e="ConditionalNode",_2e=["Node"],w2e=(0,g2e.factory)(b2e,_2e,function(e){var r=e.Node;function t(i,c,u){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");if(!(0,Ts.isNode)(i))throw new TypeError("Parameter condition must be a Node");if(!(0,Ts.isNode)(c))throw new TypeError("Parameter trueExpr must be a Node");if(!(0,Ts.isNode)(u))throw new TypeError("Parameter falseExpr must be a Node");this.condition=i,this.trueExpr=c,this.falseExpr=u}t.prototype=new r,t.prototype.type="ConditionalNode",t.prototype.isConditionalNode=!0,t.prototype._compile=function(i,c){var u=this.condition._compile(i,c),a=this.trueExpr._compile(i,c),s=this.falseExpr._compile(i,c);return function(l,d,p){return n(u(l,d,p))?a(l,d,p):s(l,d,p)}},t.prototype.forEach=function(i){i(this.condition,"condition",this),i(this.trueExpr,"trueExpr",this),i(this.falseExpr,"falseExpr",this)},t.prototype.map=function(i){return new t(this._ifNode(i(this.condition,"condition",this)),this._ifNode(i(this.trueExpr,"trueExpr",this)),this._ifNode(i(this.falseExpr,"falseExpr",this)))},t.prototype.clone=function(){return new t(this.condition,this.trueExpr,this.falseExpr)},t.prototype._toString=function(i){var c=i&&i.parenthesis?i.parenthesis:"keep",u=(0,Pa.getPrecedence)(this,c),a=this.condition.toString(i),s=(0,Pa.getPrecedence)(this.condition,c);(c==="all"||this.condition.type==="OperatorNode"||s!==null&&s<=u)&&(a="("+a+")");var o=this.trueExpr.toString(i),l=(0,Pa.getPrecedence)(this.trueExpr,c);(c==="all"||this.trueExpr.type==="OperatorNode"||l!==null&&l<=u)&&(o="("+o+")");var d=this.falseExpr.toString(i),p=(0,Pa.getPrecedence)(this.falseExpr,c);return(c==="all"||this.falseExpr.type==="OperatorNode"||p!==null&&p<=u)&&(d="("+d+")"),a+" ? "+o+" : "+d},t.prototype.toJSON=function(){return{mathjs:"ConditionalNode",condition:this.condition,trueExpr:this.trueExpr,falseExpr:this.falseExpr}},t.fromJSON=function(i){return new t(i.condition,i.trueExpr,i.falseExpr)},t.prototype.toHTML=function(i){var c=i&&i.parenthesis?i.parenthesis:"keep",u=(0,Pa.getPrecedence)(this,c),a=this.condition.toHTML(i),s=(0,Pa.getPrecedence)(this.condition,c);(c==="all"||this.condition.type==="OperatorNode"||s!==null&&s<=u)&&(a='<span class="math-parenthesis math-round-parenthesis">(</span>'+a+'<span class="math-parenthesis math-round-parenthesis">)</span>');var o=this.trueExpr.toHTML(i),l=(0,Pa.getPrecedence)(this.trueExpr,c);(c==="all"||this.trueExpr.type==="OperatorNode"||l!==null&&l<=u)&&(o='<span class="math-parenthesis math-round-parenthesis">(</span>'+o+'<span class="math-parenthesis math-round-parenthesis">)</span>');var d=this.falseExpr.toHTML(i),p=(0,Pa.getPrecedence)(this.falseExpr,c);return(c==="all"||this.falseExpr.type==="OperatorNode"||p!==null&&p<=u)&&(d='<span class="math-parenthesis math-round-parenthesis">(</span>'+d+'<span class="math-parenthesis math-round-parenthesis">)</span>'),a+'<span class="math-operator math-conditional-operator">?</span>'+o+'<span class="math-operator math-conditional-operator">:</span>'+d},t.prototype._toTex=function(i){return"\\begin{cases} {"+this.trueExpr.toTex(i)+"}, &\\quad{\\text{if }\\;"+this.condition.toTex(i)+"}\\\\{"+this.falseExpr.toTex(i)+"}, &\\quad{\\text{otherwise}}\\end{cases}"};function n(i){if(typeof i=="number"||typeof i=="boolean"||typeof i=="string")return!!i;if(i){if((0,Ts.isBigNumber)(i))return!i.isZero();if((0,Ts.isComplex)(i))return!!(i.re||i.im);if((0,Ts.isUnit)(i))return!!i.value}if(i==null)return!1;throw new TypeError('Unsupported type of condition "'+(0,Ts.typeOf)(i)+'"')}return t},{isClass:!0,isNode:!0});Fv.createConditionalNode=w2e});var cL=D((xVr,oL)=>{"use strict";var dA=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},S2e={"{":"\\{","}":"\\}","\\":"\\textbackslash{}","#":"\\#",$:"\\$","%":"\\%","&":"\\&","^":"\\textasciicircum{}",_:"\\_","~":"\\textasciitilde{}"},x2e={"\u2013":"\\--","\u2014":"\\---"," ":"~","	":"\\qquad{}","\r\n":"\\newline{}","\n":"\\newline{}"},O2e=function(r,t){return dA({},r,t)};oL.exports=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=r.preserveFormatting,n=t===void 0?!1:t,i=r.escapeMapFn,c=i===void 0?O2e:i,u=String(e),a="",s=c(dA({},S2e),n?dA({},x2e):{}),o=Object.keys(s),l=function(){var p=!1;o.forEach(function(f,v){p||u.length>=f.length&&u.slice(0,f.length)===f&&(a+=s[o[v]],u=u.slice(f.length,u.length),p=!0)}),p||(a+=u.slice(0,1),u=u.slice(1,u.length))};u;)l();return a}});var Rs=D(Un=>{"use strict";Object.defineProperty(Un,"__esModule",{value:!0});Un.escapeLatex=pA;Un.toSymbol=M2e;Un.defaultTemplate=Un.latexFunctions=Un.latexOperators=Un.latexSymbols=void 0;var D2e=N2e(cL()),uL=yr();function N2e(e){return e&&e.__esModule?e:{default:e}}var Lv={Alpha:"A",alpha:"\\alpha",Beta:"B",beta:"\\beta",Gamma:"\\Gamma",gamma:"\\gamma",Delta:"\\Delta",delta:"\\delta",Epsilon:"E",epsilon:"\\epsilon",varepsilon:"\\varepsilon",Zeta:"Z",zeta:"\\zeta",Eta:"H",eta:"\\eta",Theta:"\\Theta",theta:"\\theta",vartheta:"\\vartheta",Iota:"I",iota:"\\iota",Kappa:"K",kappa:"\\kappa",varkappa:"\\varkappa",Lambda:"\\Lambda",lambda:"\\lambda",Mu:"M",mu:"\\mu",Nu:"N",nu:"\\nu",Xi:"\\Xi",xi:"\\xi",Omicron:"O",omicron:"o",Pi:"\\Pi",pi:"\\pi",varpi:"\\varpi",Rho:"P",rho:"\\rho",varrho:"\\varrho",Sigma:"\\Sigma",sigma:"\\sigma",varsigma:"\\varsigma",Tau:"T",tau:"\\tau",Upsilon:"\\Upsilon",upsilon:"\\upsilon",Phi:"\\Phi",phi:"\\phi",varphi:"\\varphi",Chi:"X",chi:"\\chi",Psi:"\\Psi",psi:"\\psi",Omega:"\\Omega",omega:"\\omega",true:"\\mathrm{True}",false:"\\mathrm{False}",i:"i",inf:"\\infty",Inf:"\\infty",infinity:"\\infty",Infinity:"\\infty",oo:"\\infty",lim:"\\lim",undefined:"\\mathbf{?}"};Un.latexSymbols=Lv;var qr={transpose:"^\\top",ctranspose:"^H",factorial:"!",pow:"^",dotPow:".^\\wedge",unaryPlus:"+",unaryMinus:"-",bitNot:"\\~",not:"\\neg",multiply:"\\cdot",divide:"\\frac",dotMultiply:".\\cdot",dotDivide:".:",mod:"\\mod",add:"+",subtract:"-",to:"\\rightarrow",leftShift:"<<",rightArithShift:">>",rightLogShift:">>>",equal:"=",unequal:"\\neq",smaller:"<",larger:">",smallerEq:"\\leq",largerEq:"\\geq",bitAnd:"\\&",bitXor:"\\underline{|}",bitOr:"|",and:"\\wedge",xor:"\\veebar",or:"\\vee"};Un.latexOperators=qr;var C2e={abs:{1:"\\left|${args[0]}\\right|"},add:{2:"\\left(${args[0]}".concat(qr.add,"${args[1]}\\right)")},cbrt:{1:"\\sqrt[3]{${args[0]}}"},ceil:{1:"\\left\\lceil${args[0]}\\right\\rceil"},cube:{1:"\\left(${args[0]}\\right)^3"},divide:{2:"\\frac{${args[0]}}{${args[1]}}"},dotDivide:{2:"\\left(${args[0]}".concat(qr.dotDivide,"${args[1]}\\right)")},dotMultiply:{2:"\\left(${args[0]}".concat(qr.dotMultiply,"${args[1]}\\right)")},dotPow:{2:"\\left(${args[0]}".concat(qr.dotPow,"${args[1]}\\right)")},exp:{1:"\\exp\\left(${args[0]}\\right)"},expm1:"\\left(e".concat(qr.pow,"{${args[0]}}-1\\right)"),fix:{1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},floor:{1:"\\left\\lfloor${args[0]}\\right\\rfloor"},gcd:"\\gcd\\left(${args}\\right)",hypot:"\\hypot\\left(${args}\\right)",log:{1:"\\ln\\left(${args[0]}\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}\\right)"},log10:{1:"\\log_{10}\\left(${args[0]}\\right)"},log1p:{1:"\\ln\\left(${args[0]}+1\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}+1\\right)"},log2:"\\log_{2}\\left(${args[0]}\\right)",mod:{2:"\\left(${args[0]}".concat(qr.mod,"${args[1]}\\right)")},multiply:{2:"\\left(${args[0]}".concat(qr.multiply,"${args[1]}\\right)")},norm:{1:"\\left\\|${args[0]}\\right\\|",2:void 0},nthRoot:{2:"\\sqrt[${args[1]}]{${args[0]}}"},nthRoots:{2:"\\{y : $y^{args[1]} = {${args[0]}}\\}"},pow:{2:"\\left(${args[0]}\\right)".concat(qr.pow,"{${args[1]}}")},round:{1:"\\left\\lfloor${args[0]}\\right\\rceil",2:void 0},sign:{1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},sqrt:{1:"\\sqrt{${args[0]}}"},square:{1:"\\left(${args[0]}\\right)^2"},subtract:{2:"\\left(${args[0]}".concat(qr.subtract,"${args[1]}\\right)")},unaryMinus:{1:"".concat(qr.unaryMinus,"\\left(${args[0]}\\right)")},unaryPlus:{1:"".concat(qr.unaryPlus,"\\left(${args[0]}\\right)")},bitAnd:{2:"\\left(${args[0]}".concat(qr.bitAnd,"${args[1]}\\right)")},bitNot:{1:qr.bitNot+"\\left(${args[0]}\\right)"},bitOr:{2:"\\left(${args[0]}".concat(qr.bitOr,"${args[1]}\\right)")},bitXor:{2:"\\left(${args[0]}".concat(qr.bitXor,"${args[1]}\\right)")},leftShift:{2:"\\left(${args[0]}".concat(qr.leftShift,"${args[1]}\\right)")},rightArithShift:{2:"\\left(${args[0]}".concat(qr.rightArithShift,"${args[1]}\\right)")},rightLogShift:{2:"\\left(${args[0]}".concat(qr.rightLogShift,"${args[1]}\\right)")},bellNumbers:{1:"\\mathrm{B}_{${args[0]}}"},catalan:{1:"\\mathrm{C}_{${args[0]}}"},stirlingS2:{2:"\\mathrm{S}\\left(${args}\\right)"},arg:{1:"\\arg\\left(${args[0]}\\right)"},conj:{1:"\\left(${args[0]}\\right)^*"},im:{1:"\\Im\\left\\lbrace${args[0]}\\right\\rbrace"},re:{1:"\\Re\\left\\lbrace${args[0]}\\right\\rbrace"},and:{2:"\\left(${args[0]}".concat(qr.and,"${args[1]}\\right)")},not:{1:qr.not+"\\left(${args[0]}\\right)"},or:{2:"\\left(${args[0]}".concat(qr.or,"${args[1]}\\right)")},xor:{2:"\\left(${args[0]}".concat(qr.xor,"${args[1]}\\right)")},cross:{2:"\\left(${args[0]}\\right)\\times\\left(${args[1]}\\right)"},ctranspose:{1:"\\left(${args[0]}\\right)".concat(qr.ctranspose)},det:{1:"\\det\\left(${args[0]}\\right)"},dot:{2:"\\left(${args[0]}\\cdot${args[1]}\\right)"},expm:{1:"\\exp\\left(${args[0]}\\right)"},inv:{1:"\\left(${args[0]}\\right)^{-1}"},sqrtm:{1:"{${args[0]}}".concat(qr.pow,"{\\frac{1}{2}}")},trace:{1:"\\mathrm{tr}\\left(${args[0]}\\right)"},transpose:{1:"\\left(${args[0]}\\right)".concat(qr.transpose)},combinations:{2:"\\binom{${args[0]}}{${args[1]}}"},combinationsWithRep:{2:"\\left(\\!\\!{\\binom{${args[0]}}{${args[1]}}}\\!\\!\\right)"},factorial:{1:"\\left(${args[0]}\\right)".concat(qr.factorial)},gamma:{1:"\\Gamma\\left(${args[0]}\\right)"},equal:{2:"\\left(${args[0]}".concat(qr.equal,"${args[1]}\\right)")},larger:{2:"\\left(${args[0]}".concat(qr.larger,"${args[1]}\\right)")},largerEq:{2:"\\left(${args[0]}".concat(qr.largerEq,"${args[1]}\\right)")},smaller:{2:"\\left(${args[0]}".concat(qr.smaller,"${args[1]}\\right)")},smallerEq:{2:"\\left(${args[0]}".concat(qr.smallerEq,"${args[1]}\\right)")},unequal:{2:"\\left(${args[0]}".concat(qr.unequal,"${args[1]}\\right)")},erf:{1:"erf\\left(${args[0]}\\right)"},max:"\\max\\left(${args}\\right)",min:"\\min\\left(${args}\\right)",variance:"\\mathrm{Var}\\left(${args}\\right)",acos:{1:"\\cos^{-1}\\left(${args[0]}\\right)"},acosh:{1:"\\cosh^{-1}\\left(${args[0]}\\right)"},acot:{1:"\\cot^{-1}\\left(${args[0]}\\right)"},acoth:{1:"\\coth^{-1}\\left(${args[0]}\\right)"},acsc:{1:"\\csc^{-1}\\left(${args[0]}\\right)"},acsch:{1:"\\mathrm{csch}^{-1}\\left(${args[0]}\\right)"},asec:{1:"\\sec^{-1}\\left(${args[0]}\\right)"},asech:{1:"\\mathrm{sech}^{-1}\\left(${args[0]}\\right)"},asin:{1:"\\sin^{-1}\\left(${args[0]}\\right)"},asinh:{1:"\\sinh^{-1}\\left(${args[0]}\\right)"},atan:{1:"\\tan^{-1}\\left(${args[0]}\\right)"},atan2:{2:"\\mathrm{atan2}\\left(${args}\\right)"},atanh:{1:"\\tanh^{-1}\\left(${args[0]}\\right)"},cos:{1:"\\cos\\left(${args[0]}\\right)"},cosh:{1:"\\cosh\\left(${args[0]}\\right)"},cot:{1:"\\cot\\left(${args[0]}\\right)"},coth:{1:"\\coth\\left(${args[0]}\\right)"},csc:{1:"\\csc\\left(${args[0]}\\right)"},csch:{1:"\\mathrm{csch}\\left(${args[0]}\\right)"},sec:{1:"\\sec\\left(${args[0]}\\right)"},sech:{1:"\\mathrm{sech}\\left(${args[0]}\\right)"},sin:{1:"\\sin\\left(${args[0]}\\right)"},sinh:{1:"\\sinh\\left(${args[0]}\\right)"},tan:{1:"\\tan\\left(${args[0]}\\right)"},tanh:{1:"\\tanh\\left(${args[0]}\\right)"},to:{2:"\\left(${args[0]}".concat(qr.to,"${args[1]}\\right)")},numeric:function(r,t){return r.args[0].toTex()},number:{0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"},string:{0:'\\mathtt{""}',1:"\\mathrm{string}\\left(${args[0]}\\right)"},bignumber:{0:"0",1:"\\left(${args[0]}\\right)"},complex:{0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)+".concat(Lv.i,"\\cdot\\left(${args[1]}\\right)\\right)")},matrix:{0:"\\begin{bmatrix}\\end{bmatrix}",1:"\\left(${args[0]}\\right)",2:"\\left(${args[0]}\\right)"},sparse:{0:"\\begin{bsparse}\\end{bsparse}",1:"\\left(${args[0]}\\right)"},unit:{1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"}};Un.latexFunctions=C2e;var A2e="\\mathrm{${name}}\\left(${args}\\right)";Un.defaultTemplate=A2e;var lL={deg:"^\\circ"};function pA(e){return(0,D2e.default)(e,{preserveFormatting:!0})}function M2e(e,r){return r=typeof r>"u"?!1:r,r?(0,uL.hasOwnProperty)(lL,e)?lL[e]:"\\mathrm{"+pA(e)+"}":(0,uL.hasOwnProperty)(Lv,e)?Lv[e]:pA(e)}});var pL=D(Uv=>{"use strict";Object.defineProperty(Uv,"__esModule",{value:!0});Uv.createConstantNode=void 0;var P2e=Xr(),dL=He(),E2e=Rs(),q2e=oe(),I2e="ConstantNode",B2e=["Node"],k2e=(0,q2e.factory)(I2e,B2e,function(e){var r=e.Node;function t(n){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");if(arguments.length===2)throw new SyntaxError("new ConstantNode(valueStr, valueType) is not supported anymore since math v4.0.0. Use new ConstantNode(value) instead, where value is a non-stringified value.");this.value=n}return t.prototype=new r,t.prototype.type="ConstantNode",t.prototype.isConstantNode=!0,t.prototype._compile=function(n,i){var c=this.value;return function(){return c}},t.prototype.forEach=function(n){},t.prototype.map=function(n){return this.clone()},t.prototype.clone=function(){return new t(this.value)},t.prototype._toString=function(n){return(0,P2e.format)(this.value,n)},t.prototype.toHTML=function(n){var i=this._toString(n);switch((0,dL.typeOf)(this.value)){case"number":case"BigNumber":case"Fraction":return'<span class="math-number">'+i+"</span>";case"string":return'<span class="math-string">'+i+"</span>";case"boolean":return'<span class="math-boolean">'+i+"</span>";case"null":return'<span class="math-null-symbol">'+i+"</span>";case"undefined":return'<span class="math-undefined">'+i+"</span>";default:return'<span class="math-symbol">'+i+"</span>"}},t.prototype.toJSON=function(){return{mathjs:"ConstantNode",value:this.value}},t.fromJSON=function(n){return new t(n.value)},t.prototype._toTex=function(n){var i=this._toString(n);switch((0,dL.typeOf)(this.value)){case"string":return"\\mathtt{"+(0,E2e.escapeLatex)(i)+"}";case"number":case"BigNumber":{if(!isFinite(this.value))return this.value.valueOf()<0?"-\\infty":"\\infty";var c=i.toLowerCase().indexOf("e");if(c!==-1)return i.substring(0,c)+"\\cdot10^{"+i.substring(c+1)+"}"}return i;case"Fraction":return this.value.toLatex();default:return i}},t},{isClass:!0,isNode:!0});Uv.createConstantNode=k2e});var vL=D(zv=>{"use strict";Object.defineProperty(zv,"__esModule",{value:!0});zv.createFunctionAssignmentNode=void 0;var j2e=He(),T2e=iA(),fL=Xr(),fA=er(),R2e=Rs(),hL=ks(),F2e=pn(),L2e=oe(),U2e="FunctionAssignmentNode",z2e=["typed","Node"],J2e=(0,L2e.factory)(U2e,z2e,function(e){var r=e.typed,t=e.Node;function n(c,u,a){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(typeof c!="string")throw new TypeError('String expected for parameter "name"');if(!Array.isArray(u))throw new TypeError('Array containing strings or objects expected for parameter "params"');if(!(0,j2e.isNode)(a))throw new TypeError('Node expected for parameter "expr"');if(c in T2e.keywords)throw new Error('Illegal function name, "'+c+'" is a reserved keyword');this.name=c,this.params=u.map(function(s){return s&&s.name||s}),this.types=u.map(function(s){return s&&s.type||"any"}),this.expr=a}n.prototype=new t,n.prototype.type="FunctionAssignmentNode",n.prototype.isFunctionAssignmentNode=!0,n.prototype._compile=function(c,u){var a=Object.create(u);(0,fA.forEach)(this.params,function(f){a[f]=!0});var s=this.expr._compile(c,a),o=this.name,l=this.params,d=(0,fA.join)(this.types,","),p=o+"("+(0,fA.join)(this.params,", ")+")";return function(v,h,m){var y={};y[d]=function(){for(var b=Object.create(h),_=0;_<l.length;_++)b[l[_]]=arguments[_];return s(v,b,m)};var g=r(o,y);return g.syntax=p,(0,F2e.setSafeProperty)(v,o,g),g}},n.prototype.forEach=function(c){c(this.expr,"expr",this)},n.prototype.map=function(c){var u=this._ifNode(c(this.expr,"expr",this));return new n(this.name,this.params.slice(0),u)},n.prototype.clone=function(){return new n(this.name,this.params.slice(0),this.expr)};function i(c,u){var a=(0,hL.getPrecedence)(c,u),s=(0,hL.getPrecedence)(c.expr,u);return u==="all"||s!==null&&s<=a}return n.prototype._toString=function(c){var u=c&&c.parenthesis?c.parenthesis:"keep",a=this.expr.toString(c);return i(this,u)&&(a="("+a+")"),this.name+"("+this.params.join(", ")+") = "+a},n.prototype.toJSON=function(){var c=this.types;return{mathjs:"FunctionAssignmentNode",name:this.name,params:this.params.map(function(u,a){return{name:u,type:c[a]}}),expr:this.expr}},n.fromJSON=function(c){return new n(c.name,c.params,c.expr)},n.prototype.toHTML=function(c){for(var u=c&&c.parenthesis?c.parenthesis:"keep",a=[],s=0;s<this.params.length;s++)a.push('<span class="math-symbol math-parameter">'+(0,fL.escape)(this.params[s])+"</span>");var o=this.expr.toHTML(c);return i(this,u)&&(o='<span class="math-parenthesis math-round-parenthesis">(</span>'+o+'<span class="math-parenthesis math-round-parenthesis">)</span>'),'<span class="math-function">'+(0,fL.escape)(this.name)+'</span><span class="math-parenthesis math-round-parenthesis">(</span>'+a.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-round-parenthesis">)</span><span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+o},n.prototype._toTex=function(c){var u=c&&c.parenthesis?c.parenthesis:"keep",a=this.expr.toTex(c);return i(this,u)&&(a="\\left(".concat(a,"\\right)")),"\\mathrm{"+this.name+"}\\left("+this.params.map(R2e.toSymbol).join(",")+"\\right):="+a},n},{isClass:!0,isNode:!0});zv.createFunctionAssignmentNode=J2e});var yL=D(Jv=>{"use strict";Object.defineProperty(Jv,"__esModule",{value:!0});Jv.createIndexNode=void 0;var Fs=He(),mL=er(),V2e=Xr(),G2e=oe(),H2e=pn();function W2e(e){return Z2e(e)||Y2e(e)||Q2e(e)||$2e()}function $2e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Q2e(e,r){if(!!e){if(typeof e=="string")return hA(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return hA(e,r)}}function Y2e(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Z2e(e){if(Array.isArray(e))return hA(e)}function hA(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}var X2e="IndexNode",K2e=["Range","Node","size"],eCe=(0,G2e.factory)(X2e,K2e,function(e){var r=e.Range,t=e.Node,n=e.size;function i(u,a){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(this.dimensions=u,this.dotNotation=a||!1,!Array.isArray(u)||!u.every(Fs.isNode))throw new TypeError('Array containing Nodes expected for parameter "dimensions"');if(this.dotNotation&&!this.isObjectProperty())throw new Error("dotNotation only applicable for object properties");var s=function(){throw new Error("Property `IndexNode.object` is deprecated, use `IndexNode.fn` instead")};Object.defineProperty(this,"object",{get:s,set:s})}i.prototype=new t,i.prototype.type="IndexNode",i.prototype.isIndexNode=!0,i.prototype._compile=function(u,a){var s=(0,mL.map)(this.dimensions,function(l,d){if((0,Fs.isRangeNode)(l))if(l.needsEnd()){var p=Object.create(a);p.end=!0;var f=l.start._compile(u,p),v=l.end._compile(u,p),h=l.step?l.step._compile(u,p):function(){return 1};return function(O,x,N){var M=n(N).valueOf(),I=Object.create(x);return I.end=M[d],c(f(O,I,N),v(O,I,N),h(O,I,N))}}else{var m=l.start._compile(u,a),y=l.end._compile(u,a),g=l.step?l.step._compile(u,a):function(){return 1};return function(O,x,N){return c(m(O,x,N),y(O,x,N),g(O,x,N))}}else if((0,Fs.isSymbolNode)(l)&&l.name==="end"){var b=Object.create(a);b.end=!0;var _=l._compile(u,b);return function(O,x,N){var M=n(N).valueOf(),I=Object.create(x);return I.end=M[d],_(O,I,N)}}else{var S=l._compile(u,a);return function(O,x,N){return S(O,x,N)}}}),o=(0,H2e.getSafeProperty)(u,"index");return function(d,p,f){var v=(0,mL.map)(s,function(h){return h(d,p,f)});return o.apply(void 0,W2e(v))}},i.prototype.forEach=function(u){for(var a=0;a<this.dimensions.length;a++)u(this.dimensions[a],"dimensions["+a+"]",this)},i.prototype.map=function(u){for(var a=[],s=0;s<this.dimensions.length;s++)a[s]=this._ifNode(u(this.dimensions[s],"dimensions["+s+"]",this));return new i(a,this.dotNotation)},i.prototype.clone=function(){return new i(this.dimensions.slice(0),this.dotNotation)},i.prototype.isObjectProperty=function(){return this.dimensions.length===1&&(0,Fs.isConstantNode)(this.dimensions[0])&&typeof this.dimensions[0].value=="string"},i.prototype.getObjectProperty=function(){return this.isObjectProperty()?this.dimensions[0].value:null},i.prototype._toString=function(u){return this.dotNotation?"."+this.getObjectProperty():"["+this.dimensions.join(", ")+"]"},i.prototype.toJSON=function(){return{mathjs:"IndexNode",dimensions:this.dimensions,dotNotation:this.dotNotation}},i.fromJSON=function(u){return new i(u.dimensions,u.dotNotation)},i.prototype.toHTML=function(u){for(var a=[],s=0;s<this.dimensions.length;s++)a[s]=this.dimensions[s].toHTML();return this.dotNotation?'<span class="math-operator math-accessor-operator">.</span><span class="math-symbol math-property">'+(0,V2e.escape)(this.getObjectProperty())+"</span>":'<span class="math-parenthesis math-square-parenthesis">[</span>'+a.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'},i.prototype._toTex=function(u){var a=this.dimensions.map(function(s){return s.toTex(u)});return this.dotNotation?"."+this.getObjectProperty():"_{"+a.join(",")+"}"};function c(u,a,s){return new r((0,Fs.isBigNumber)(u)?u.toNumber():u,(0,Fs.isBigNumber)(a)?a.toNumber():a,(0,Fs.isBigNumber)(s)?s.toNumber():s)}return i},{isClass:!0,isNode:!0});Jv.createIndexNode=eCe});var gL=D(Gv=>{"use strict";Object.defineProperty(Gv,"__esModule",{value:!0});Gv.createObjectNode=void 0;var rCe=He(),ku=Xr(),tCe=pn(),Ea=yr(),nCe=oe();function Vv(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Vv=function(t){return typeof t}:Vv=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vv(e)}var iCe="ObjectNode",aCe=["Node"],sCe=(0,nCe.factory)(iCe,aCe,function(e){var r=e.Node;function t(n){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");if(this.properties=n||{},n&&(Vv(n)!=="object"||!Object.keys(n).every(function(i){return(0,rCe.isNode)(n[i])})))throw new TypeError("Object containing Nodes expected")}return t.prototype=new r,t.prototype.type="ObjectNode",t.prototype.isObjectNode=!0,t.prototype._compile=function(n,i){var c={};for(var u in this.properties)if((0,Ea.hasOwnProperty)(this.properties,u)){var a=(0,ku.stringify)(u),s=JSON.parse(a);if(!(0,tCe.isSafeProperty)(this.properties,s))throw new Error('No access to property "'+s+'"');c[s]=this.properties[u]._compile(n,i)}return function(l,d,p){var f={};for(var v in c)(0,Ea.hasOwnProperty)(c,v)&&(f[v]=c[v](l,d,p));return f}},t.prototype.forEach=function(n){for(var i in this.properties)(0,Ea.hasOwnProperty)(this.properties,i)&&n(this.properties[i],"properties["+(0,ku.stringify)(i)+"]",this)},t.prototype.map=function(n){var i={};for(var c in this.properties)(0,Ea.hasOwnProperty)(this.properties,c)&&(i[c]=this._ifNode(n(this.properties[c],"properties["+(0,ku.stringify)(c)+"]",this)));return new t(i)},t.prototype.clone=function(){var n={};for(var i in this.properties)(0,Ea.hasOwnProperty)(this.properties,i)&&(n[i]=this.properties[i]);return new t(n)},t.prototype._toString=function(n){var i=[];for(var c in this.properties)(0,Ea.hasOwnProperty)(this.properties,c)&&i.push((0,ku.stringify)(c)+": "+this.properties[c].toString(n));return"{"+i.join(", ")+"}"},t.prototype.toJSON=function(){return{mathjs:"ObjectNode",properties:this.properties}},t.fromJSON=function(n){return new t(n.properties)},t.prototype.toHTML=function(n){var i=[];for(var c in this.properties)(0,Ea.hasOwnProperty)(this.properties,c)&&i.push('<span class="math-symbol math-property">'+(0,ku.escape)(c)+'</span><span class="math-operator math-assignment-operator math-property-assignment-operator math-binary-operator">:</span>'+this.properties[c].toHTML(n));return'<span class="math-parenthesis math-curly-parenthesis">{</span>'+i.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-curly-parenthesis">}</span>'},t.prototype._toTex=function(n){var i=[];for(var c in this.properties)(0,Ea.hasOwnProperty)(this.properties,c)&&i.push("\\mathbf{"+c+":} & "+this.properties[c].toTex(n)+"\\\\");return"\\left\\{\\begin{array}{ll}".concat(i.join(`
`),"\\end{array}\\right\\}")},t},{isClass:!0,isNode:!0});Gv.createObjectNode=sCe});var wL=D(Hv=>{"use strict";Object.defineProperty(Hv,"__esModule",{value:!0});Hv.createOperatorNode=void 0;var oCe=He(),bL=er(),ju=Xr(),_L=pn(),St=ks(),cCe=Rs(),uCe=oe(),lCe="OperatorNode",dCe=["Node"],pCe=(0,uCe.factory)(lCe,dCe,function(e){var r=e.Node;function t(i,c,u,a){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");if(typeof i!="string")throw new TypeError('string expected for parameter "op"');if(typeof c!="string")throw new TypeError('string expected for parameter "fn"');if(!Array.isArray(u)||!u.every(oCe.isNode))throw new TypeError('Array containing Nodes expected for parameter "args"');this.implicit=a===!0,this.op=i,this.fn=c,this.args=u||[]}t.prototype=new r,t.prototype.type="OperatorNode",t.prototype.isOperatorNode=!0,t.prototype._compile=function(i,c){if(typeof this.fn!="string"||!(0,_L.isSafeMethod)(i,this.fn))throw i[this.fn]?new Error('No access to function "'+this.fn+'"'):new Error("Function "+this.fn+' missing in provided namespace "math"');var u=(0,_L.getSafeProperty)(i,this.fn),a=(0,bL.map)(this.args,function(d){return d._compile(i,c)});if(a.length===1){var s=a[0];return function(p,f,v){return u(s(p,f,v))}}else if(a.length===2){var o=a[0],l=a[1];return function(p,f,v){return u(o(p,f,v),l(p,f,v))}}else return function(p,f,v){return u.apply(null,(0,bL.map)(a,function(h){return h(p,f,v)}))}},t.prototype.forEach=function(i){for(var c=0;c<this.args.length;c++)i(this.args[c],"args["+c+"]",this)},t.prototype.map=function(i){for(var c=[],u=0;u<this.args.length;u++)c[u]=this._ifNode(i(this.args[u],"args["+u+"]",this));return new t(this.op,this.fn,c,this.implicit)},t.prototype.clone=function(){return new t(this.op,this.fn,this.args.slice(0),this.implicit)},t.prototype.isUnary=function(){return this.args.length===1},t.prototype.isBinary=function(){return this.args.length===2};function n(i,c,u,a,s){var o=(0,St.getPrecedence)(i,c),l=(0,St.getAssociativity)(i,c);if(c==="all"||a.length>2&&i.getIdentifier()!=="OperatorNode:add"&&i.getIdentifier()!=="OperatorNode:multiply")return a.map(function(x){switch(x.getContent().type){case"ArrayNode":case"ConstantNode":case"SymbolNode":case"ParenthesisNode":return!1;default:return!0}});var d;switch(a.length){case 0:d=[];break;case 1:{var p=(0,St.getPrecedence)(a[0],c);if(s&&p!==null){var f,v;if(c==="keep"?(f=a[0].getIdentifier(),v=i.getIdentifier()):(f=a[0].getContent().getIdentifier(),v=i.getContent().getIdentifier()),St.properties[o][v].latexLeftParens===!1){d=[!1];break}if(St.properties[p][f].latexParens===!1){d=[!1];break}}if(p===null){d=[!1];break}if(p<=o){d=[!0];break}d=[!1]}break;case 2:{var h,m=(0,St.getPrecedence)(a[0],c),y=(0,St.isAssociativeWith)(i,a[0],c);m===null?h=!1:m===o&&l==="right"&&!y||m<o?h=!0:h=!1;var g,b=(0,St.getPrecedence)(a[1],c),_=(0,St.isAssociativeWith)(i,a[1],c);if(b===null?g=!1:b===o&&l==="left"&&!_||b<o?g=!0:g=!1,s){var S,w,O;c==="keep"?(S=i.getIdentifier(),w=i.args[0].getIdentifier(),O=i.args[1].getIdentifier()):(S=i.getContent().getIdentifier(),w=i.args[0].getContent().getIdentifier(),O=i.args[1].getContent().getIdentifier()),m!==null&&(St.properties[o][S].latexLeftParens===!1&&(h=!1),St.properties[m][w].latexParens===!1&&(h=!1)),b!==null&&(St.properties[o][S].latexRightParens===!1&&(g=!1),St.properties[b][O].latexParens===!1&&(g=!1))}d=[h,g]}break;default:(i.getIdentifier()==="OperatorNode:add"||i.getIdentifier()==="OperatorNode:multiply")&&(d=a.map(function(x){var N=(0,St.getPrecedence)(x,c),M=(0,St.isAssociativeWith)(i,x,c),I=(0,St.getAssociativity)(x,c);return N===null?!1:o===N&&l===I&&!M?!0:N<o}));break}return a.length>=2&&i.getIdentifier()==="OperatorNode:multiply"&&i.implicit&&c==="auto"&&u==="hide"&&(d=a.map(function(x,N){var M=x.getIdentifier()==="ParenthesisNode";return!!(d[N]||M)})),d}return t.prototype._toString=function(i){var c=i&&i.parenthesis?i.parenthesis:"keep",u=i&&i.implicit?i.implicit:"hide",a=this.args,s=n(this,c,u,a,!1);if(a.length===1){var o=(0,St.getAssociativity)(this,c),l=a[0].toString(i);s[0]&&(l="("+l+")");var d=/[a-zA-Z]+/.test(this.op);return o==="right"?this.op+(d?" ":"")+l:o==="left"?l+(d?" ":"")+this.op:l+this.op}else if(a.length===2){var p=a[0].toString(i),f=a[1].toString(i);return s[0]&&(p="("+p+")"),s[1]&&(f="("+f+")"),this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&u==="hide"?p+" "+f:p+" "+this.op+" "+f}else if(a.length>2&&(this.getIdentifier()==="OperatorNode:add"||this.getIdentifier()==="OperatorNode:multiply")){var v=a.map(function(h,m){return h=h.toString(i),s[m]&&(h="("+h+")"),h});return this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&u==="hide"?v.join(" "):v.join(" "+this.op+" ")}else return this.fn+"("+this.args.join(", ")+")"},t.prototype.toJSON=function(){return{mathjs:"OperatorNode",op:this.op,fn:this.fn,args:this.args,implicit:this.implicit}},t.fromJSON=function(i){return new t(i.op,i.fn,i.args,i.implicit)},t.prototype.toHTML=function(i){var c=i&&i.parenthesis?i.parenthesis:"keep",u=i&&i.implicit?i.implicit:"hide",a=this.args,s=n(this,c,u,a,!1);if(a.length===1){var o=(0,St.getAssociativity)(this,c),l=a[0].toHTML(i);return s[0]&&(l='<span class="math-parenthesis math-round-parenthesis">(</span>'+l+'<span class="math-parenthesis math-round-parenthesis">)</span>'),o==="right"?'<span class="math-operator math-unary-operator math-lefthand-unary-operator">'+(0,ju.escape)(this.op)+"</span>"+l:l+'<span class="math-operator math-unary-operator math-righthand-unary-operator">'+(0,ju.escape)(this.op)+"</span>"}else if(a.length===2){var d=a[0].toHTML(i),p=a[1].toHTML(i);return s[0]&&(d='<span class="math-parenthesis math-round-parenthesis">(</span>'+d+'<span class="math-parenthesis math-round-parenthesis">)</span>'),s[1]&&(p='<span class="math-parenthesis math-round-parenthesis">(</span>'+p+'<span class="math-parenthesis math-round-parenthesis">)</span>'),this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&u==="hide"?d+'<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'+p:d+'<span class="math-operator math-binary-operator math-explicit-binary-operator">'+(0,ju.escape)(this.op)+"</span>"+p}else{var f=a.map(function(v,h){return v=v.toHTML(i),s[h]&&(v='<span class="math-parenthesis math-round-parenthesis">(</span>'+v+'<span class="math-parenthesis math-round-parenthesis">)</span>'),v});return a.length>2&&(this.getIdentifier()==="OperatorNode:add"||this.getIdentifier()==="OperatorNode:multiply")?this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&u==="hide"?f.join('<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'):f.join('<span class="math-operator math-binary-operator math-explicit-binary-operator">'+(0,ju.escape)(this.op)+"</span>"):'<span class="math-function">'+(0,ju.escape)(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+f.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'}},t.prototype._toTex=function(i){var c=i&&i.parenthesis?i.parenthesis:"keep",u=i&&i.implicit?i.implicit:"hide",a=this.args,s=n(this,c,u,a,!0),o=cCe.latexOperators[this.fn];if(o=typeof o>"u"?this.op:o,a.length===1){var l=(0,St.getAssociativity)(this,c),d=a[0].toTex(i);return s[0]&&(d="\\left(".concat(d,"\\right)")),l==="right"?o+d:d+o}else if(a.length===2){var p=a[0],f=p.toTex(i);s[0]&&(f="\\left(".concat(f,"\\right)"));var v=a[1],h=v.toTex(i);s[1]&&(h="\\left(".concat(h,"\\right)"));var m;switch(c==="keep"?m=p.getIdentifier():m=p.getContent().getIdentifier(),this.getIdentifier()){case"OperatorNode:divide":return o+"{"+f+"}{"+h+"}";case"OperatorNode:pow":switch(f="{"+f+"}",h="{"+h+"}",m){case"ConditionalNode":case"OperatorNode:divide":f="\\left(".concat(f,"\\right)")}break;case"OperatorNode:multiply":if(this.implicit&&u==="hide")return f+"~"+h}return f+o+h}else if(a.length>2&&(this.getIdentifier()==="OperatorNode:add"||this.getIdentifier()==="OperatorNode:multiply")){var y=a.map(function(g,b){return g=g.toTex(i),s[b]&&(g="\\left(".concat(g,"\\right)")),g});return this.getIdentifier()==="OperatorNode:multiply"&&this.implicit?y.join("~"):y.join(o)}else return"\\mathrm{"+this.fn+"}\\left("+a.map(function(g){return g.toTex(i)}).join(",")+"\\right)"},t.prototype.getIdentifier=function(){return this.type+":"+this.fn},t},{isClass:!0,isNode:!0});Hv.createOperatorNode=pCe});var SL=D(Wv=>{"use strict";Object.defineProperty(Wv,"__esModule",{value:!0});Wv.createParenthesisNode=void 0;var fCe=He(),hCe=oe(),vCe="ParenthesisNode",mCe=["Node"],yCe=(0,hCe.factory)(vCe,mCe,function(e){var r=e.Node;function t(n){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");if(!(0,fCe.isNode)(n))throw new TypeError('Node expected for parameter "content"');this.content=n}return t.prototype=new r,t.prototype.type="ParenthesisNode",t.prototype.isParenthesisNode=!0,t.prototype._compile=function(n,i){return this.content._compile(n,i)},t.prototype.getContent=function(){return this.content.getContent()},t.prototype.forEach=function(n){n(this.content,"content",this)},t.prototype.map=function(n){var i=n(this.content,"content",this);return new t(i)},t.prototype.clone=function(){return new t(this.content)},t.prototype._toString=function(n){return!n||n&&!n.parenthesis||n&&n.parenthesis==="keep"?"("+this.content.toString(n)+")":this.content.toString(n)},t.prototype.toJSON=function(){return{mathjs:"ParenthesisNode",content:this.content}},t.fromJSON=function(n){return new t(n.content)},t.prototype.toHTML=function(n){return!n||n&&!n.parenthesis||n&&n.parenthesis==="keep"?'<span class="math-parenthesis math-round-parenthesis">(</span>'+this.content.toHTML(n)+'<span class="math-parenthesis math-round-parenthesis">)</span>':this.content.toHTML(n)},t.prototype._toTex=function(n){return!n||n&&!n.parenthesis||n&&n.parenthesis==="keep"?"\\left(".concat(this.content.toTex(n),"\\right)"):this.content.toTex(n)},t},{isClass:!0,isNode:!0});Wv.createParenthesisNode=yCe});var xL=D(Yv=>{"use strict";Object.defineProperty(Yv,"__esModule",{value:!0});Yv.createRangeNode=void 0;var $v=He(),gCe=oe(),Qv=ks(),bCe="RangeNode",_Ce=["Node"],wCe=(0,gCe.factory)(bCe,_Ce,function(e){var r=e.Node;function t(i,c,u){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");if(!(0,$v.isNode)(i))throw new TypeError("Node expected");if(!(0,$v.isNode)(c))throw new TypeError("Node expected");if(u&&!(0,$v.isNode)(u))throw new TypeError("Node expected");if(arguments.length>3)throw new Error("Too many arguments");this.start=i,this.end=c,this.step=u||null}t.prototype=new r,t.prototype.type="RangeNode",t.prototype.isRangeNode=!0,t.prototype.needsEnd=function(){var i=this.filter(function(c){return(0,$v.isSymbolNode)(c)&&c.name==="end"});return i.length>0},t.prototype._compile=function(i,c){var u=i.range,a=this.start._compile(i,c),s=this.end._compile(i,c);if(this.step){var o=this.step._compile(i,c);return function(d,p,f){return u(a(d,p,f),s(d,p,f),o(d,p,f))}}else return function(d,p,f){return u(a(d,p,f),s(d,p,f))}},t.prototype.forEach=function(i){i(this.start,"start",this),i(this.end,"end",this),this.step&&i(this.step,"step",this)},t.prototype.map=function(i){return new t(this._ifNode(i(this.start,"start",this)),this._ifNode(i(this.end,"end",this)),this.step&&this._ifNode(i(this.step,"step",this)))},t.prototype.clone=function(){return new t(this.start,this.end,this.step&&this.step)};function n(i,c){var u=(0,Qv.getPrecedence)(i,c),a={},s=(0,Qv.getPrecedence)(i.start,c);if(a.start=s!==null&&s<=u||c==="all",i.step){var o=(0,Qv.getPrecedence)(i.step,c);a.step=o!==null&&o<=u||c==="all"}var l=(0,Qv.getPrecedence)(i.end,c);return a.end=l!==null&&l<=u||c==="all",a}return t.prototype._toString=function(i){var c=i&&i.parenthesis?i.parenthesis:"keep",u=n(this,c),a,s=this.start.toString(i);if(u.start&&(s="("+s+")"),a=s,this.step){var o=this.step.toString(i);u.step&&(o="("+o+")"),a+=":"+o}var l=this.end.toString(i);return u.end&&(l="("+l+")"),a+=":"+l,a},t.prototype.toJSON=function(){return{mathjs:"RangeNode",start:this.start,end:this.end,step:this.step}},t.fromJSON=function(i){return new t(i.start,i.end,i.step)},t.prototype.toHTML=function(i){var c=i&&i.parenthesis?i.parenthesis:"keep",u=n(this,c),a,s=this.start.toHTML(i);if(u.start&&(s='<span class="math-parenthesis math-round-parenthesis">(</span>'+s+'<span class="math-parenthesis math-round-parenthesis">)</span>'),a=s,this.step){var o=this.step.toHTML(i);u.step&&(o='<span class="math-parenthesis math-round-parenthesis">(</span>'+o+'<span class="math-parenthesis math-round-parenthesis">)</span>'),a+='<span class="math-operator math-range-operator">:</span>'+o}var l=this.end.toHTML(i);return u.end&&(l='<span class="math-parenthesis math-round-parenthesis">(</span>'+l+'<span class="math-parenthesis math-round-parenthesis">)</span>'),a+='<span class="math-operator math-range-operator">:</span>'+l,a},t.prototype._toTex=function(i){var c=i&&i.parenthesis?i.parenthesis:"keep",u=n(this,c),a=this.start.toTex(i);if(u.start&&(a="\\left(".concat(a,"\\right)")),this.step){var s=this.step.toTex(i);u.step&&(s="\\left(".concat(s,"\\right)")),a+=":"+s}var o=this.end.toTex(i);return u.end&&(o="\\left(".concat(o,"\\right)")),a+=":"+o,a},t},{isClass:!0,isNode:!0});Yv.createRangeNode=wCe});var OL=D(Zv=>{"use strict";Object.defineProperty(Zv,"__esModule",{value:!0});Zv.createRelationalNode=void 0;var Ko=ks(),SCe=Xr(),xCe=pn(),OCe=Rs(),DCe=oe(),NCe="RelationalNode",CCe=["Node"],ACe=(0,DCe.factory)(NCe,CCe,function(e){var r=e.Node;function t(n,i){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");if(!Array.isArray(n))throw new TypeError("Parameter conditionals must be an array");if(!Array.isArray(i))throw new TypeError("Parameter params must be an array");if(n.length!==i.length-1)throw new TypeError("Parameter params must contain exactly one more element than parameter conditionals");this.conditionals=n,this.params=i}return t.prototype=new r,t.prototype.type="RelationalNode",t.prototype.isRelationalNode=!0,t.prototype._compile=function(n,i){var c=this,u=this.params.map(function(a){return a._compile(n,i)});return function(s,o,l){for(var d,p=u[0](s,o,l),f=0;f<c.conditionals.length;f++){d=p,p=u[f+1](s,o,l);var v=(0,xCe.getSafeProperty)(n,c.conditionals[f]);if(!v(d,p))return!1}return!0}},t.prototype.forEach=function(n){var i=this;this.params.forEach(function(c,u){return n(c,"params["+u+"]",i)},this)},t.prototype.map=function(n){var i=this;return new t(this.conditionals.slice(),this.params.map(function(c,u){return i._ifNode(n(c,"params["+u+"]",i))},this))},t.prototype.clone=function(){return new t(this.conditionals,this.params)},t.prototype._toString=function(n){for(var i=n&&n.parenthesis?n.parenthesis:"keep",c=(0,Ko.getPrecedence)(this,i),u=this.params.map(function(l,d){var p=(0,Ko.getPrecedence)(l,i);return i==="all"||p!==null&&p<=c?"("+l.toString(n)+")":l.toString(n)}),a={equal:"==",unequal:"!=",smaller:"<",larger:">",smallerEq:"<=",largerEq:">="},s=u[0],o=0;o<this.conditionals.length;o++)s+=" "+a[this.conditionals[o]]+" "+u[o+1];return s},t.prototype.toJSON=function(){return{mathjs:"RelationalNode",conditionals:this.conditionals,params:this.params}},t.fromJSON=function(n){return new t(n.conditionals,n.params)},t.prototype.toHTML=function(n){for(var i=n&&n.parenthesis?n.parenthesis:"keep",c=(0,Ko.getPrecedence)(this,i),u=this.params.map(function(l,d){var p=(0,Ko.getPrecedence)(l,i);return i==="all"||p!==null&&p<=c?'<span class="math-parenthesis math-round-parenthesis">(</span>'+l.toHTML(n)+'<span class="math-parenthesis math-round-parenthesis">)</span>':l.toHTML(n)}),a={equal:"==",unequal:"!=",smaller:"<",larger:">",smallerEq:"<=",largerEq:">="},s=u[0],o=0;o<this.conditionals.length;o++)s+='<span class="math-operator math-binary-operator math-explicit-binary-operator">'+(0,SCe.escape)(a[this.conditionals[o]])+"</span>"+u[o+1];return s},t.prototype._toTex=function(n){for(var i=n&&n.parenthesis?n.parenthesis:"keep",c=(0,Ko.getPrecedence)(this,i),u=this.params.map(function(o,l){var d=(0,Ko.getPrecedence)(o,i);return i==="all"||d!==null&&d<=c?"\\left("+o.toTex(n)+"\right)":o.toTex(n)}),a=u[0],s=0;s<this.conditionals.length;s++)a+=OCe.latexOperators[this.conditionals[s]]+u[s+1];return a},t},{isClass:!0,isNode:!0});Zv.createRelationalNode=ACe});var DL=D(Xv=>{"use strict";Object.defineProperty(Xv,"__esModule",{value:!0});Xv.createSymbolNode=void 0;var MCe=Xr(),vA=pn(),PCe=oe(),ECe=Rs(),qCe="SymbolNode",ICe=["math","?Unit","Node"],BCe=(0,PCe.factory)(qCe,ICe,function(e){var r=e.math,t=e.Unit,n=e.Node;function i(a){return t?t.isValuelessUnit(a):!1}function c(a){if(!(this instanceof c))throw new SyntaxError("Constructor must be called with the new operator");if(typeof a!="string")throw new TypeError('String expected for parameter "name"');this.name=a}c.prototype=new n,c.prototype.type="SymbolNode",c.prototype.isSymbolNode=!0,c.prototype._compile=function(a,s){var o=this.name;if(s[o]===!0)return function(d,p,f){return p[o]};if(o in a)return function(d,p,f){return o in d?(0,vA.getSafeProperty)(d,o):(0,vA.getSafeProperty)(a,o)};var l=i(o);return function(d,p,f){return o in d?(0,vA.getSafeProperty)(d,o):l?new t(null,o):u(o)}},c.prototype.forEach=function(a){},c.prototype.map=function(a){return this.clone()};function u(a){throw new Error("Undefined symbol "+a)}return c.prototype.clone=function(){return new c(this.name)},c.prototype._toString=function(a){return this.name},c.prototype.toHTML=function(a){var s=(0,MCe.escape)(this.name);return s==="true"||s==="false"?'<span class="math-symbol math-boolean">'+s+"</span>":s==="i"?'<span class="math-symbol math-imaginary-symbol">'+s+"</span>":s==="Infinity"?'<span class="math-symbol math-infinity-symbol">'+s+"</span>":s==="NaN"?'<span class="math-symbol math-nan-symbol">'+s+"</span>":s==="null"?'<span class="math-symbol math-null-symbol">'+s+"</span>":s==="undefined"?'<span class="math-symbol math-undefined-symbol">'+s+"</span>":'<span class="math-symbol">'+s+"</span>"},c.prototype.toJSON=function(){return{mathjs:"SymbolNode",name:this.name}},c.fromJSON=function(a){return new c(a.name)},c.prototype._toTex=function(a){var s=!1;typeof r[this.name]>"u"&&i(this.name)&&(s=!0);var o=(0,ECe.toSymbol)(this.name,s);return o[0]==="\\"?o:" "+o},c},{isClass:!0,isNode:!0});Xv.createSymbolNode=BCe});var CL=D(em=>{"use strict";Object.defineProperty(em,"__esModule",{value:!0});em.createFunctionNode=void 0;var Xi=He(),kCe=Xr(),NL=yr(),Kv=er(),ec=pn(),jCe=oe(),mA=Rs();function Ki(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ki=function(t){return typeof t}:Ki=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ki(e)}function Tu(){return Tu=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Tu.apply(this,arguments)}var TCe="FunctionNode",RCe=["math","Node","SymbolNode"],FCe=(0,jCe.factory)(TCe,RCe,function(e){var r=e.math,t=e.Node,n=e.SymbolNode;function i(s,o){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(typeof s=="string"&&(s=new n(s)),!(0,Xi.isNode)(s))throw new TypeError('Node expected as parameter "fn"');if(!Array.isArray(o)||!o.every(Xi.isNode))throw new TypeError('Array containing Nodes expected for parameter "args"');this.fn=s,this.args=o||[],Object.defineProperty(this,"name",{get:function(){return this.fn.name||""}.bind(this),set:function(){throw new Error("Cannot assign a new name, name is read-only")}});var l=function(){throw new Error("Property `FunctionNode.object` is deprecated, use `FunctionNode.fn` instead")};Object.defineProperty(this,"object",{get:l,set:l})}i.prototype=new t,i.prototype.type="FunctionNode",i.prototype.isFunctionNode=!0,i.prototype._compile=function(s,o){if(!(this instanceof i))throw new TypeError("No valid FunctionNode");var l=(0,Kv.map)(this.args,function(O){return O._compile(s,o)});if((0,Xi.isSymbolNode)(this.fn)){var d=this.fn.name,p=d in s?(0,ec.getSafeProperty)(s,d):void 0,f=typeof p=="function"&&p.rawArgs===!0;if(f){var v=this.args;return function(x,N,M){return(d in x?(0,ec.getSafeProperty)(x,d):p)(v,s,Tu({},x,N))}}else if(l.length===1){var h=l[0];return function(x,N,M){return(d in x?(0,ec.getSafeProperty)(x,d):p)(h(x,N,M))}}else if(l.length===2){var m=l[0],y=l[1];return function(x,N,M){return(d in x?(0,ec.getSafeProperty)(x,d):p)(m(x,N,M),y(x,N,M))}}else return function(x,N,M){return(d in x?(0,ec.getSafeProperty)(x,d):p).apply(null,(0,Kv.map)(l,function(I){return I(x,N,M)}))}}else if((0,Xi.isAccessorNode)(this.fn)&&(0,Xi.isIndexNode)(this.fn.index)&&this.fn.index.isObjectProperty()){var g=this.fn.object._compile(s,o),b=this.fn.index.getObjectProperty(),_=this.args;return function(x,N,M){var I=g(x,N,M);(0,ec.validateSafeMethod)(I,b);var q=I[b]&&I[b].rawArgs;return q?I[b](_,s,Tu({},x,N)):I[b].apply(I,(0,Kv.map)(l,function(z){return z(x,N,M)}))}}else{var S=this.fn._compile(s,o),w=this.args;return function(x,N,M){var I=S(x,N,M),q=I&&I.rawArgs;return q?I(w,s,Tu({},x,N)):I.apply(I,(0,Kv.map)(l,function(z){return z(x,N,M)}))}}},i.prototype.forEach=function(s){s(this.fn,"fn",this);for(var o=0;o<this.args.length;o++)s(this.args[o],"args["+o+"]",this)},i.prototype.map=function(s){for(var o=this._ifNode(s(this.fn,"fn",this)),l=[],d=0;d<this.args.length;d++)l[d]=this._ifNode(s(this.args[d],"args["+d+"]",this));return new i(o,l)},i.prototype.clone=function(){return new i(this.fn,this.args.slice(0))};var c=i.prototype.toString;i.prototype.toString=function(s){var o,l=this.fn.toString(s);return s&&Ki(s.handler)==="object"&&(0,NL.hasOwnProperty)(s.handler,l)&&(o=s.handler[l](this,s)),typeof o<"u"?o:c.call(this,s)},i.prototype._toString=function(s){var o=this.args.map(function(d){return d.toString(s)}),l=(0,Xi.isFunctionAssignmentNode)(this.fn)?"("+this.fn.toString(s)+")":this.fn.toString(s);return l+"("+o.join(", ")+")"},i.prototype.toJSON=function(){return{mathjs:"FunctionNode",fn:this.fn,args:this.args}},i.fromJSON=function(s){return new i(s.fn,s.args)},i.prototype.toHTML=function(s){var o=this.args.map(function(l){return l.toHTML(s)});return'<span class="math-function">'+(0,kCe.escape)(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+o.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'};function u(s,o,l){for(var d="",p=new RegExp("\\$(?:\\{([a-z_][a-z_0-9]*)(?:\\[([0-9]+)\\])?\\}|\\$)","ig"),f=0,v;(v=p.exec(s))!==null;)if(d+=s.substring(f,v.index),f=v.index,v[0]==="$$")d+="$",f++;else{f+=v[0].length;var h=o[v[1]];if(!h)throw new ReferenceError("Template: Property "+v[1]+" does not exist.");if(v[2]===void 0)switch(Ki(h)){case"string":d+=h;break;case"object":if((0,Xi.isNode)(h))d+=h.toTex(l);else if(Array.isArray(h))d+=h.map(function(m,y){if((0,Xi.isNode)(m))return m.toTex(l);throw new TypeError("Template: "+v[1]+"["+y+"] is not a Node.")}).join(",");else throw new TypeError("Template: "+v[1]+" has to be a Node, String or array of Nodes");break;default:throw new TypeError("Template: "+v[1]+" has to be a Node, String or array of Nodes")}else if((0,Xi.isNode)(h[v[2]]&&h[v[2]]))d+=h[v[2]].toTex(l);else throw new TypeError("Template: "+v[1]+"["+v[2]+"] is not a Node.")}return d+=s.slice(f),d}var a=i.prototype.toTex;return i.prototype.toTex=function(s){var o;return s&&Ki(s.handler)==="object"&&(0,NL.hasOwnProperty)(s.handler,this.name)&&(o=s.handler[this.name](this,s)),typeof o<"u"?o:a.call(this,s)},i.prototype._toTex=function(s){var o=this.args.map(function(p){return p.toTex(s)}),l;mA.latexFunctions[this.name]&&(l=mA.latexFunctions[this.name]),r[this.name]&&(typeof r[this.name].toTex=="function"||Ki(r[this.name].toTex)==="object"||typeof r[this.name].toTex=="string")&&(l=r[this.name].toTex);var d;switch(Ki(l)){case"function":d=l(this,s);break;case"string":d=u(l,this,s);break;case"object":switch(Ki(l[o.length])){case"function":d=l[o.length](this,s);break;case"string":d=u(l[o.length],this,s);break}}return typeof d<"u"?d:u(mA.defaultTemplate,this,s)},i.prototype.getIdentifier=function(){return this.type+":"+this.name},i},{isClass:!0,isNode:!0});em.createFunctionNode=FCe});var ML=D(rm=>{"use strict";Object.defineProperty(rm,"__esModule",{value:!0});rm.createParse=void 0;var LCe=oe(),ei=He(),UCe=Qe(),Si=yr();function qa(){return qa=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},qa.apply(this,arguments)}var AL="parse",zCe=["typed","numeric","config","AccessorNode","ArrayNode","AssignmentNode","BlockNode","ConditionalNode","ConstantNode","FunctionAssignmentNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","RangeNode","RelationalNode","SymbolNode"],JCe=(0,LCe.factory)(AL,zCe,function(e){var r=e.typed,t=e.numeric,n=e.config,i=e.AccessorNode,c=e.ArrayNode,u=e.AssignmentNode,a=e.BlockNode,s=e.ConditionalNode,o=e.ConstantNode,l=e.FunctionAssignmentNode,d=e.FunctionNode,p=e.IndexNode,f=e.ObjectNode,v=e.OperatorNode,h=e.ParenthesisNode,m=e.RangeNode,y=e.RelationalNode,g=e.SymbolNode,b=r(AL,{string:function(be){return Z(be,{})},"Array | Matrix":function(be){return _(be,{})},"string, Object":function(be,qe){var ze=qe.nodes!==void 0?qe.nodes:{};return Z(be,ze)},"Array | Matrix, Object":_});function _(J){var be=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},qe=be.nodes!==void 0?be.nodes:{};return(0,UCe.deepMap)(J,function(ze){if(typeof ze!="string")throw new TypeError("String expected");return Z(ze,qe)})}var S={NULL:0,DELIMITER:1,NUMBER:2,SYMBOL:3,UNKNOWN:4},w={",":!0,"(":!0,")":!0,"[":!0,"]":!0,"{":!0,"}":!0,'"':!0,"'":!0,";":!0,"+":!0,"-":!0,"*":!0,".*":!0,"/":!0,"./":!0,"%":!0,"^":!0,".^":!0,"~":!0,"!":!0,"&":!0,"|":!0,"^|":!0,"=":!0,":":!0,"?":!0,"==":!0,"!=":!0,"<":!0,">":!0,"<=":!0,">=":!0,"<<":!0,">>":!0,">>>":!0},O={mod:!0,to:!0,in:!0,and:!0,xor:!0,or:!0,not:!0},x={true:!0,false:!1,null:null,undefined:void 0},N=["NaN","Infinity"];function M(){return{extraNodes:{},expression:"",comment:"",index:0,token:"",tokenType:S.NULL,nestingLevel:0,conditionalLevel:null}}function I(J,be){return J.expression.substr(J.index,be)}function q(J){return I(J,1)}function z(J){J.index++}function R(J){return J.expression.charAt(J.index-1)}function j(J){return J.expression.charAt(J.index+1)}function L(J){for(J.tokenType=S.NULL,J.token="",J.comment="";b.isWhitespace(q(J),J.nestingLevel);)z(J);if(q(J)==="#")for(;q(J)!==`
`&&q(J)!=="";)J.comment+=q(J),z(J);if(q(J)===""){J.tokenType=S.DELIMITER;return}if(q(J)===`
`&&!J.nestingLevel){J.tokenType=S.DELIMITER,J.token=q(J),z(J);return}var be=q(J),qe=I(J,2),ze=I(J,3);if(ze.length===3&&w[ze]){J.tokenType=S.DELIMITER,J.token=ze,z(J),z(J),z(J);return}if(qe.length===2&&w[qe]){J.tokenType=S.DELIMITER,J.token=qe,z(J),z(J);return}if(w[be]){J.tokenType=S.DELIMITER,J.token=be,z(J);return}if(b.isDigitDot(be)){if(J.tokenType=S.NUMBER,q(J)===".")J.token+=q(J),z(J),b.isDigit(q(J))||(J.tokenType=S.DELIMITER);else{for(;b.isDigit(q(J));)J.token+=q(J),z(J);b.isDecimalMark(q(J),j(J))&&(J.token+=q(J),z(J))}for(;b.isDigit(q(J));)J.token+=q(J),z(J);if(q(J)==="E"||q(J)==="e"){if(b.isDigit(j(J))||j(J)==="-"||j(J)==="+"){if(J.token+=q(J),z(J),(q(J)==="+"||q(J)==="-")&&(J.token+=q(J),z(J)),!b.isDigit(q(J)))throw Br(J,'Digit expected, got "'+q(J)+'"');for(;b.isDigit(q(J));)J.token+=q(J),z(J);if(b.isDecimalMark(q(J),j(J)))throw Br(J,'Digit expected, got "'+q(J)+'"')}else if(j(J)===".")throw z(J),Br(J,'Digit expected, got "'+q(J)+'"')}return}if(b.isAlpha(q(J),R(J),j(J))){for(;b.isAlpha(q(J),R(J),j(J))||b.isDigit(q(J));)J.token+=q(J),z(J);(0,Si.hasOwnProperty)(O,J.token)?J.tokenType=S.DELIMITER:J.tokenType=S.SYMBOL;return}for(J.tokenType=S.UNKNOWN;q(J)!=="";)J.token+=q(J),z(J);throw Br(J,'Syntax error in part "'+J.token+'"')}function P(J){do L(J);while(J.token===`
`)}function V(J){J.nestingLevel++}function E(J){J.nestingLevel--}b.isAlpha=function(be,qe,ze){return b.isValidLatinOrGreek(be)||b.isValidMathSymbol(be,ze)||b.isValidMathSymbol(qe,be)},b.isValidLatinOrGreek=function(be){return/^[a-zA-Z_$\u00C0-\u02AF\u0370-\u03FF\u2100-\u214F]$/.test(be)},b.isValidMathSymbol=function(be,qe){return/^[\uD835]$/.test(be)&&/^[\uDC00-\uDFFF]$/.test(qe)&&/^[^\uDC55\uDC9D\uDCA0\uDCA1\uDCA3\uDCA4\uDCA7\uDCA8\uDCAD\uDCBA\uDCBC\uDCC4\uDD06\uDD0B\uDD0C\uDD15\uDD1D\uDD3A\uDD3F\uDD45\uDD47-\uDD49\uDD51\uDEA6\uDEA7\uDFCC\uDFCD]$/.test(qe)},b.isWhitespace=function(be,qe){return be===" "||be==="	"||be===`
`&&qe>0},b.isDecimalMark=function(be,qe){return be==="."&&qe!=="/"&&qe!=="*"&&qe!=="^"},b.isDigitDot=function(be){return be>="0"&&be<="9"||be==="."},b.isDigit=function(be){return be>="0"&&be<="9"};function Z(J,be){var qe=M();qa(qe,{expression:J,extraNodes:be}),L(qe);var ze=ue(qe);if(qe.token!=="")throw qe.tokenType===S.DELIMITER?gn(qe,"Unexpected operator "+qe.token):Br(qe,'Unexpected part "'+qe.token+'"');return ze}function ue(J){var be,qe=[],ze;for(J.token!==""&&J.token!==`
`&&J.token!==";"&&(be=ye(J),be.comment=J.comment);J.token===`
`||J.token===";";)qe.length===0&&be&&(ze=J.token!==";",qe.push({node:be,visible:ze})),L(J),J.token!==`
`&&J.token!==";"&&J.token!==""&&(be=ye(J),be.comment=J.comment,ze=J.token!==";",qe.push({node:be,visible:ze}));return qe.length>0?new a(qe):(be||(be=new o(void 0),be.comment=J.comment),be)}function ye(J){var be,qe,ze,lr,_r=X(J);if(J.token==="="){if((0,ei.isSymbolNode)(_r))return be=_r.name,P(J),ze=ye(J),new u(new g(be),ze);if((0,ei.isAccessorNode)(_r))return P(J),ze=ye(J),new u(_r.object,_r.index,ze);if((0,ei.isFunctionNode)(_r)&&(0,ei.isSymbolNode)(_r.fn)&&(lr=!0,qe=[],be=_r.name,_r.args.forEach(function(ln,ki){(0,ei.isSymbolNode)(ln)?qe[ki]=ln.name:lr=!1}),lr))return P(J),ze=ye(J),new l(be,qe,ze);throw Br(J,"Invalid left hand side of assignment operator =")}return _r}function X(J){for(var be=le(J);J.token==="?";){var qe=J.conditionalLevel;J.conditionalLevel=J.nestingLevel,P(J);var ze=be,lr=ye(J);if(J.token!==":")throw Br(J,"False part of conditional expression expected");J.conditionalLevel=null,P(J);var _r=ye(J);be=new s(ze,lr,_r),J.conditionalLevel=qe}return be}function le(J){for(var be=Oe(J);J.token==="or";)P(J),be=new v("or","or",[be,Oe(J)]);return be}function Oe(J){for(var be=ne(J);J.token==="xor";)P(J),be=new v("xor","xor",[be,ne(J)]);return be}function ne(J){for(var be=fe(J);J.token==="and";)P(J),be=new v("and","and",[be,fe(J)]);return be}function fe(J){for(var be=Me(J);J.token==="|";)P(J),be=new v("|","bitOr",[be,Me(J)]);return be}function Me(J){for(var be=me(J);J.token==="^|";)P(J),be=new v("^|","bitXor",[be,me(J)]);return be}function me(J){for(var be=Ce(J);J.token==="&";)P(J),be=new v("&","bitAnd",[be,Ce(J)]);return be}function Ce(J){for(var be=[Be(J)],qe=[],ze={"==":"equal","!=":"unequal","<":"smaller",">":"larger","<=":"smallerEq",">=":"largerEq"};(0,Si.hasOwnProperty)(ze,J.token);){var lr={name:J.token,fn:ze[J.token]};qe.push(lr),P(J),be.push(Be(J))}return be.length===1?be[0]:be.length===2?new v(qe[0].name,qe[0].fn,be):new y(qe.map(function(_r){return _r.fn}),be)}function Be(J){var be,qe,ze,lr;be=je(J);for(var _r={"<<":"leftShift",">>":"rightArithShift",">>>":"rightLogShift"};(0,Si.hasOwnProperty)(_r,J.token);)qe=J.token,ze=_r[qe],P(J),lr=[be,je(J)],be=new v(qe,ze,lr);return be}function je(J){var be,qe,ze,lr;be=We(J);for(var _r={to:"to",in:"to"};(0,Si.hasOwnProperty)(_r,J.token);)qe=J.token,ze=_r[qe],P(J),qe==="in"&&J.token===""?be=new v("*","multiply",[be,new g("in")],!0):(lr=[be,We(J)],be=new v(qe,ze,lr));return be}function We(J){var be,qe=[];if(J.token===":"?be=new o(1):be=Ge(J),J.token===":"&&J.conditionalLevel!==J.nestingLevel){for(qe.push(be);J.token===":"&&qe.length<3;)P(J),J.token===")"||J.token==="]"||J.token===","||J.token===""?qe.push(new g("end")):qe.push(Ge(J));qe.length===3?be=new m(qe[0],qe[2],qe[1]):be=new m(qe[0],qe[1])}return be}function Ge(J){var be,qe,ze,lr;be=ie(J);for(var _r={"+":"add","-":"subtract"};(0,Si.hasOwnProperty)(_r,J.token);)qe=J.token,ze=_r[qe],P(J),lr=[be,ie(J)],be=new v(qe,ze,lr);return be}function ie(J){var be,qe,ze,lr;be=pe(J),qe=be;for(var _r={"*":"multiply",".*":"dotMultiply","/":"divide","./":"dotDivide","%":"mod",mod:"mod"};(0,Si.hasOwnProperty)(_r,J.token);)ze=J.token,lr=_r[ze],P(J),qe=pe(J),be=new v(ze,lr,[be,qe]);return be}function pe(J){var be,qe;for(be=te(J),qe=be;J.tokenType===S.SYMBOL||J.token==="in"&&(0,ei.isConstantNode)(be)||J.tokenType===S.NUMBER&&!(0,ei.isConstantNode)(qe)&&(!(0,ei.isOperatorNode)(qe)||qe.op==="!")||J.token==="(";)qe=te(J),be=new v("*","multiply",[be,qe],!0);return be}function te(J){for(var be=ce(J),qe=be,ze=[];J.token==="/"&&(0,ei.isConstantNode)(qe);)if(ze.push(qa({},J)),P(J),J.tokenType===S.NUMBER)if(ze.push(qa({},J)),P(J),J.tokenType===S.SYMBOL||J.token==="(")qa(J,ze.pop()),ze.pop(),qe=ce(J),be=new v("/","divide",[be,qe]);else{ze.pop(),qa(J,ze.pop());break}else{qa(J,ze.pop());break}return be}function ce(J){var be,qe,ze,lr={"-":"unaryMinus","+":"unaryPlus","~":"bitNot",not:"not"};return(0,Si.hasOwnProperty)(lr,J.token)?(ze=lr[J.token],be=J.token,P(J),qe=[ce(J)],new v(be,ze,qe)):ge(J)}function ge(J){var be,qe,ze,lr;return be=ve(J),(J.token==="^"||J.token===".^")&&(qe=J.token,ze=qe==="^"?"pow":"dotPow",P(J),lr=[be,ce(J)],be=new v(qe,ze,lr)),be}function ve(J){var be,qe,ze,lr;be=Pe(J);for(var _r={"!":"factorial","'":"ctranspose"};(0,Si.hasOwnProperty)(_r,J.token);)qe=J.token,ze=_r[qe],L(J),lr=[be],be=new v(qe,ze,lr),be=Te(J,be);return be}function Pe(J){var be=[];if(J.tokenType===S.SYMBOL&&(0,Si.hasOwnProperty)(J.extraNodes,J.token)){var qe=J.extraNodes[J.token];if(L(J),J.token==="("){if(be=[],V(J),L(J),J.token!==")")for(be.push(ye(J));J.token===",";)L(J),be.push(ye(J));if(J.token!==")")throw Br(J,"Parenthesis ) expected");E(J),L(J)}return new qe(be)}return ke(J)}function ke(J){var be,qe;return J.tokenType===S.SYMBOL||J.tokenType===S.DELIMITER&&J.token in O?(qe=J.token,L(J),(0,Si.hasOwnProperty)(x,qe)?be=new o(x[qe]):N.indexOf(qe)!==-1?be=new o(t(qe,"number")):be=new g(qe),be=Te(J,be),be):$e(J)}function Te(J,be,qe){for(var ze;(J.token==="("||J.token==="["||J.token===".")&&(!qe||qe.indexOf(J.token)!==-1);)if(ze=[],J.token==="(")if((0,ei.isSymbolNode)(be)||(0,ei.isAccessorNode)(be)){if(V(J),L(J),J.token!==")")for(ze.push(ye(J));J.token===",";)L(J),ze.push(ye(J));if(J.token!==")")throw Br(J,"Parenthesis ) expected");E(J),L(J),be=new d(be,ze)}else return be;else if(J.token==="["){if(V(J),L(J),J.token!=="]")for(ze.push(ye(J));J.token===",";)L(J),ze.push(ye(J));if(J.token!=="]")throw Br(J,"Parenthesis ] expected");E(J),L(J),be=new i(be,new p(ze))}else{if(L(J),J.tokenType!==S.SYMBOL)throw Br(J,"Property name expected after dot");ze.push(new o(J.token)),L(J);var lr=!0;be=new i(be,new p(ze,lr))}return be}function $e(J){var be,qe;return J.token==='"'?(qe=Ue(J),be=new o(qe),be=Te(J,be),be):Ze(J)}function Ue(J){for(var be="";q(J)!==""&&q(J)!=='"';)q(J)==="\\"&&(be+=q(J),z(J)),be+=q(J),z(J);if(L(J),J.token!=='"')throw Br(J,'End of string " expected');return L(J),JSON.parse('"'+be+'"')}function Ze(J){var be,qe;return J.token==="'"?(qe=Pr(J),be=new o(qe),be=Te(J,be),be):Qr(J)}function Pr(J){for(var be="";q(J)!==""&&q(J)!=="'";)q(J)==="\\"&&(be+=q(J),z(J)),be+=q(J),z(J);if(L(J),J.token!=="'")throw Br(J,"End of string ' expected");return L(J),JSON.parse('"'+be+'"')}function Qr(J){var be,qe,ze,lr;if(J.token==="["){if(V(J),L(J),J.token!=="]"){var _r=Gr(J);if(J.token===";"){for(ze=1,qe=[_r];J.token===";";)L(J),qe[ze]=Gr(J),ze++;if(J.token!=="]")throw Br(J,"End of matrix ] expected");E(J),L(J),lr=qe[0].items.length;for(var ln=1;ln<ze;ln++)if(qe[ln].items.length!==lr)throw gn(J,"Column dimensions mismatch ("+qe[ln].items.length+" !== "+lr+")");be=new c(qe)}else{if(J.token!=="]")throw Br(J,"End of matrix ] expected");E(J),L(J),be=_r}}else E(J),L(J),be=new c([]);return Te(J,be)}return wt(J)}function Gr(J){for(var be=[ye(J)],qe=1;J.token===",";)L(J),be[qe]=ye(J),qe++;return new c(be)}function wt(J){if(J.token==="{"){V(J);var be,qe={};do if(L(J),J.token!=="}"){if(J.token==='"')be=Ue(J);else if(J.token==="'")be=Pr(J);else if(J.tokenType===S.SYMBOL||J.tokenType===S.DELIMITER&&J.token in O)be=J.token,L(J);else throw Br(J,"Symbol or string expected as object key");if(J.token!==":")throw Br(J,"Colon : expected after object key");L(J),qe[be]=ye(J)}while(J.token===",");if(J.token!=="}")throw Br(J,"Comma , or bracket } expected after object value");E(J),L(J);var ze=new f(qe);return ze=Te(J,ze),ze}return cn(J)}function cn(J){var be;return J.tokenType===S.NUMBER?(be=J.token,L(J),new o(t(be,n.number))):Bt(J)}function Bt(J){var be;if(J.token==="("){if(V(J),L(J),be=ye(J),J.token!==")")throw Br(J,"Parenthesis ) expected");return E(J),L(J),be=new h(be),be=Te(J,be),be}return un(J)}function un(J){throw J.token===""?Br(J,"Unexpected end of expression"):Br(J,"Value expected")}function Dt(J){return J.index-J.token.length+1}function Br(J,be){var qe=Dt(J),ze=new SyntaxError(be+" (char "+qe+")");return ze.char=qe,ze}function gn(J,be){var qe=Dt(J),ze=new SyntaxError(be+" (char "+qe+")");return ze.char=qe,ze}return b});rm.createParse=JCe});var EL=D(tm=>{"use strict";Object.defineProperty(tm,"__esModule",{value:!0});tm.createCompile=void 0;var VCe=Qe(),GCe=oe(),PL="compile",HCe=["typed","parse"],WCe=(0,GCe.factory)(PL,HCe,function(e){var r=e.typed,t=e.parse;return r(PL,{string:function(i){return t(i).compile()},"Array | Matrix":function(i){return(0,VCe.deepMap)(i,function(c){return t(c).compile()})}})});tm.createCompile=WCe});var BL=D(nm=>{"use strict";Object.defineProperty(nm,"__esModule",{value:!0});nm.createEvaluate=void 0;var qL=Qe(),$Ce=oe(),IL="evaluate",QCe=["typed","parse"],YCe=(0,$Ce.factory)(IL,QCe,function(e){var r=e.typed,t=e.parse;return r(IL,{string:function(i){var c={};return t(i).compile().evaluate(c)},"string, Object":function(i,c){return t(i).compile().evaluate(c)},"Array | Matrix":function(i){var c={};return(0,qL.deepMap)(i,function(u){return t(u).compile().evaluate(c)})},"Array | Matrix, Object":function(i,c){return(0,qL.deepMap)(i,function(u){return t(u).compile().evaluate(c)})}})});nm.createEvaluate=YCe});var yA=D(im=>{"use strict";Object.defineProperty(im,"__esModule",{value:!0});im.createDeprecatedEval=void 0;var ZCe=oe(),XCe=Ji(),KCe=(0,ZCe.factory)("eval",["evaluate"],function(e){var r=e.evaluate;return function(){(0,XCe.warnOnce)('Function "eval" has been renamed to "evaluate" in v6.0.0, please use the new function instead.');for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return r.apply(r,n)}});im.createDeprecatedEval=KCe});var TL=D(am=>{"use strict";Object.defineProperty(am,"__esModule",{value:!0});am.createParserClass=void 0;var eAe=oe(),kL=yr(),jL=pn(),rAe=Ji(),tAe="Parser",nAe=["parse"],iAe=(0,eAe.factory)(tAe,nAe,function(e){var r=e.parse;function t(){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");this.scope={}}return t.prototype.type="Parser",t.prototype.isParser=!0,t.prototype.parse=function(n){throw new Error("Parser.parse is deprecated. Use math.parse instead.")},t.prototype.compile=function(n){throw new Error("Parser.compile is deprecated. Use math.compile instead.")},t.prototype.evaluate=function(n){return r(n).compile().evaluate(this.scope)},t.prototype.eval=function(n){return(0,rAe.warnOnce)("Method Parser.eval is renamed to Parser.evaluate. Please use the new method name."),this.evaluate(n)},t.prototype.get=function(n){return n in this.scope?(0,jL.getSafeProperty)(this.scope,n):void 0},t.prototype.getAll=function(){return(0,kL.extend)({},this.scope)},t.prototype.set=function(n,i){return(0,jL.setSafeProperty)(this.scope,n,i)},t.prototype.remove=function(n){delete this.scope[n]},t.prototype.clear=function(){for(var n in this.scope)(0,kL.hasOwnProperty)(this.scope,n)&&delete this.scope[n]},t},{isClass:!0});am.createParserClass=iAe});var FL=D(sm=>{"use strict";Object.defineProperty(sm,"__esModule",{value:!0});sm.createParser=void 0;var aAe=oe(),RL="parser",sAe=["typed","Parser"],oAe=(0,aAe.factory)(RL,sAe,function(e){var r=e.typed,t=e.Parser;return r(RL,{"":function(){return new t}})});sm.createParser=oAe});var UL=D(om=>{"use strict";Object.defineProperty(om,"__esModule",{value:!0});om.createLup=void 0;var cAe=yr(),uAe=oe(),LL="lup",lAe=["typed","matrix","abs","addScalar","divideScalar","multiplyScalar","subtract","larger","equalScalar","unaryMinus","DenseMatrix","SparseMatrix","Spa"],dAe=(0,uAe.factory)(LL,lAe,function(e){var r=e.typed,t=e.matrix,n=e.abs,i=e.addScalar,c=e.divideScalar,u=e.multiplyScalar,a=e.subtract,s=e.larger,o=e.equalScalar,l=e.unaryMinus,d=e.DenseMatrix,p=e.SparseMatrix,f=e.Spa;return r(LL,{DenseMatrix:function(y){return v(y)},SparseMatrix:function(y){return h(y)},Array:function(y){var g=t(y),b=v(g);return{L:b.L.valueOf(),U:b.U.valueOf(),p:b.p}}});function v(m){var y=m._size[0],g=m._size[1],b=Math.min(y,g),_=(0,cAe.clone)(m._data),S=[],w=[y,b],O=[],x=[b,g],N,M,I,q=[];for(N=0;N<y;N++)q[N]=N;for(M=0;M<g;M++){if(M>0)for(N=0;N<y;N++){var z=Math.min(N,M),R=0;for(I=0;I<z;I++)R=i(R,u(_[N][I],_[I][M]));_[N][M]=a(_[N][M],R)}var j=M,L=0,P=0;for(N=M;N<y;N++){var V=_[N][M],E=n(V);s(E,L)&&(j=N,L=E,P=V)}if(M!==j&&(q[M]=[q[j],q[j]=q[M]][0],d._swapRows(M,j,_)),M<y)for(N=M+1;N<y;N++){var Z=_[N][M];o(Z,0)||(_[N][M]=c(_[N][M],P))}}for(M=0;M<g;M++)for(N=0;N<y;N++){if(M===0&&(N<g&&(O[N]=[]),S[N]=[]),N<M){N<g&&(O[N][M]=_[N][M]),M<y&&(S[N][M]=0);continue}if(N===M){N<g&&(O[N][M]=_[N][M]),M<y&&(S[N][M]=1);continue}N<g&&(O[N][M]=0),M<y&&(S[N][M]=_[N][M])}var ue=new d({data:S,size:w}),ye=new d({data:O,size:x}),X=[];for(N=0,b=q.length;N<b;N++)X[q[N]]=N;return{L:ue,U:ye,p:X,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
P: `+this.p}}}function h(m){var y=m._size[0],g=m._size[1],b=Math.min(y,g),_=m._values,S=m._index,w=m._ptr,O=[],x=[],N=[],M=[y,b],I=[],q=[],z=[],R=[b,g],j,L,P,V=[],E=[];for(j=0;j<y;j++)V[j]=j,E[j]=j;var Z=function(X,le){var Oe=E[X],ne=E[le];V[Oe]=le,V[ne]=X,E[X]=ne,E[le]=Oe},ue=function(){var X=new f;L<y&&(N.push(O.length),O.push(1),x.push(L)),z.push(I.length);var le=w[L],Oe=w[L+1];for(P=le;P<Oe;P++)j=S[P],X.set(V[j],_[P]);L>0&&X.forEach(0,L-1,function(me,Ce){p._forEachRow(me,O,x,N,function(Be,je){Be>me&&X.accumulate(Be,l(u(je,Ce)))})});var ne=L,fe=X.get(L),Me=n(fe);X.forEach(L+1,y-1,function(me,Ce){var Be=n(Ce);s(Be,Me)&&(ne=me,Me=Be,fe=Ce)}),L!==ne&&(p._swapRows(L,ne,M[1],O,x,N),p._swapRows(L,ne,R[1],I,q,z),X.swap(L,ne),Z(L,ne)),X.forEach(0,y-1,function(me,Ce){me<=L?(I.push(Ce),q.push(me)):(Ce=c(Ce,fe),o(Ce,0)||(O.push(Ce),x.push(me)))})};for(L=0;L<g;L++)ue();return z.push(I.length),N.push(O.length),{L:new p({values:O,index:x,ptr:N,size:M}),U:new p({values:I,index:q,ptr:z,size:R}),p:V,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
P: `+this.p}}}});om.createLup=dAe});var JL=D(cm=>{"use strict";Object.defineProperty(cm,"__esModule",{value:!0});cm.createQr=void 0;var pAe=oe();function gA(){return gA=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},gA.apply(this,arguments)}var zL="qr",fAe=["typed","matrix","zeros","identity","isZero","equal","sign","sqrt","conj","unaryMinus","addScalar","divideScalar","multiplyScalar","subtract","complex"],hAe=(0,pAe.factory)(zL,fAe,function(e){var r=e.typed,t=e.matrix,n=e.zeros,i=e.identity,c=e.isZero,u=e.equal,a=e.sign,s=e.sqrt,o=e.conj,l=e.unaryMinus,d=e.addScalar,p=e.divideScalar,f=e.multiplyScalar,v=e.subtract,h=e.complex;return gA(r(zL,{DenseMatrix:function(_){return y(_)},SparseMatrix:function(_){return g(_)},Array:function(_){var S=t(_),w=y(S);return{Q:w.Q.valueOf(),R:w.R.valueOf()}}}),{_denseQRimpl:m});function m(b){var _=b._size[0],S=b._size[1],w=i([_],"dense"),O=w._data,x=b.clone(),N=x._data,M,I,q,z=n([_],"");for(q=0;q<Math.min(S,_);++q){var R=N[q][q],j=l(u(R,0)?1:a(R)),L=o(j),P=0;for(M=q;M<_;M++)P=d(P,f(N[M][q],o(N[M][q])));var V=f(j,s(P));if(!c(V)){var E=v(R,V);for(z[q]=1,M=q+1;M<_;M++)z[M]=p(N[M][q],E);var Z=l(o(p(E,V))),ue=void 0;for(I=q;I<S;I++){for(ue=0,M=q;M<_;M++)ue=d(ue,f(o(z[M]),N[M][I]));for(ue=f(ue,Z),M=q;M<_;M++)N[M][I]=f(v(N[M][I],f(z[M],ue)),L)}for(M=0;M<_;M++){for(ue=0,I=q;I<_;I++)ue=d(ue,f(O[M][I],z[I]));for(ue=f(ue,Z),I=q;I<_;++I)O[M][I]=p(v(O[M][I],f(ue,o(z[I]))),L)}}}return{Q:w,R:x,toString:function(){return"Q: "+this.Q.toString()+`
R: `+this.R.toString()}}}function y(b){var _=m(b),S=_.R._data;if(b._data.length>0)for(var w=S[0][0].type==="Complex"?h(0):0,O=0;O<S.length;++O)for(var x=0;x<O&&x<(S[0]||[]).length;++x)S[O][x]=w;return _}function g(b){throw new Error("qr not implemented for sparse matrices yet")}});cm.createQr=hAe});var VL=D(bA=>{"use strict";Object.defineProperty(bA,"__esModule",{value:!0});bA.csPermute=vAe;function vAe(e,r,t,n){for(var i=e._values,c=e._index,u=e._ptr,a=e._size,s=e._datatype,o=a[0],l=a[1],d=n&&e._values?[]:null,p=[],f=[],v=0,h=0;h<l;h++){f[h]=v;for(var m=t?t[h]:h,y=u[m],g=u[m+1],b=y;b<g;b++){var _=r?r[c[b]]:c[b];p[v]=_,d&&(d[v]=i[b]),v++}}return f[l]=v,e.createSparseMatrix({values:d,index:p,ptr:f,size:[o,l],datatype:s})}});var wA=D(_A=>{"use strict";Object.defineProperty(_A,"__esModule",{value:!0});_A.csTdfs=mAe;function mAe(e,r,t,n,i,c,u){var a=0;for(t[u]=e;a>=0;){var s=t[u+a],o=t[n+s];o===-1?(a--,c[r++]=s):(t[n+s]=t[i+o],++a,t[u+a]=o)}return r}});var GL=D(SA=>{"use strict";Object.defineProperty(SA,"__esModule",{value:!0});SA.csPost=gAe;var yAe=wA();function gAe(e,r){if(!e)return null;var t=0,n,i=[],c=[],u=0,a=r,s=2*r;for(n=0;n<r;n++)c[u+n]=-1;for(n=r-1;n>=0;n--)e[n]!==-1&&(c[a+n]=c[u+e[n]],c[u+e[n]]=n);for(n=0;n<r;n++)e[n]===-1&&(t=(0,yAe.csTdfs)(n,t,c,u,a,i,s));return i}});var HL=D(xA=>{"use strict";Object.defineProperty(xA,"__esModule",{value:!0});xA.csEtree=bAe;function bAe(e,r){if(!e)return null;var t=e._index,n=e._ptr,i=e._size,c=i[0],u=i[1],a=[],s=[],o=0,l=u,d,p;if(r)for(d=0;d<c;d++)s[l+d]=-1;for(var f=0;f<u;f++){a[f]=-1,s[o+f]=-1;for(var v=n[f],h=n[f+1],m=v;m<h;m++){var y=t[m];for(d=r?s[l+y]:y;d!==-1&&d<f;d=p)p=s[o+d],s[o+d]=f,p===-1&&(a[d]=f);r&&(s[l+y]=f)}}return a}});var WL=D(OA=>{"use strict";Object.defineProperty(OA,"__esModule",{value:!0});OA.csFkeep=_Ae;function _Ae(e,r,t){for(var n=e._values,i=e._index,c=e._ptr,u=e._size,a=u[1],s=0,o=0;o<a;o++){var l=c[o];for(c[o]=s;l<c[o+1];l++)r(i[l],o,n?n[l]:1,t)&&(i[s]=i[l],n&&(n[s]=n[l]),s++)}return c[a]=s,i.splice(s,i.length-s),n&&n.splice(s,n.length-s),s}});var um=D(DA=>{"use strict";Object.defineProperty(DA,"__esModule",{value:!0});DA.csFlip=wAe;function wAe(e){return-e-2}});var $L=D(lm=>{"use strict";Object.defineProperty(lm,"__esModule",{value:!0});lm.createCsAmd=void 0;var SAe=oe(),xAe=WL(),rc=um(),OAe=wA(),DAe="csAmd",NAe=["add","multiply","transpose"],CAe=(0,SAe.factory)(DAe,NAe,function(e){var r=e.add,t=e.multiply,n=e.transpose;return function(l,d){if(!d||l<=0||l>3)return null;var p=d._size,f=p[0],v=p[1],h=0,m=Math.max(16,10*Math.sqrt(v));m=Math.min(v-2,m);var y=i(l,d,f,v,m);(0,xAe.csFkeep)(y,s,null);for(var g=y._index,b=y._ptr,_=b[v],S=[],w=[],O=0,x=v+1,N=2*(v+1),M=3*(v+1),I=4*(v+1),q=5*(v+1),z=6*(v+1),R=7*(v+1),j=S,L=c(v,b,w,O,M,j,N,R,x,z,I,q),P=u(v,b,w,q,I,z,m,x,M,j,N),V=0,E,Z,ue,ye,X,le,Oe,ne,fe,Me,me,Ce,Be,je,We,Ge;P<v;){for(ue=-1;V<v&&(ue=w[M+V])===-1;V++);w[N+ue]!==-1&&(j[w[N+ue]]=-1),w[M+V]=w[N+ue];var ie=w[I+ue],pe=w[x+ue];P+=pe;var te=0;w[x+ue]=-pe;var ce=b[ue],ge=ie===0?ce:_,ve=ge;for(ye=1;ye<=ie+1;ye++){for(ye>ie?(le=ue,Oe=ce,ne=w[O+ue]-ie):(le=g[ce++],Oe=b[le],ne=w[O+le]),X=1;X<=ne;X++)E=g[Oe++],!((fe=w[x+E])<=0)&&(te+=fe,w[x+E]=-fe,g[ve++]=E,w[N+E]!==-1&&(j[w[N+E]]=j[E]),j[E]!==-1?w[N+j[E]]=w[N+E]:w[M+w[q+E]]=w[N+E]);le!==ue&&(b[le]=(0,rc.csFlip)(ue),w[z+le]=0)}for(ie!==0&&(_=ve),w[q+ue]=te,b[ue]=ge,w[O+ue]=ve-ge,w[I+ue]=-2,L=a(L,h,w,z,v),Me=ge;Me<ve;Me++)if(E=g[Me],!((me=w[I+E])<=0)){fe=-w[x+E];var Pe=L-fe;for(ce=b[E],Ce=b[E]+me-1;ce<=Ce;ce++)le=g[ce],w[z+le]>=L?w[z+le]-=fe:w[z+le]!==0&&(w[z+le]=w[q+le]+Pe)}for(Me=ge;Me<ve;Me++){for(E=g[Me],Ce=b[E],Be=Ce+w[I+E]-1,je=Ce,We=0,Ge=0,ce=Ce;ce<=Be;ce++)if(le=g[ce],w[z+le]!==0){var ke=w[z+le]-L;ke>0?(Ge+=ke,g[je++]=le,We+=le):(b[le]=(0,rc.csFlip)(ue),w[z+le]=0)}w[I+E]=je-Ce+1;var Te=je,$e=Ce+w[O+E];for(ce=Be+1;ce<$e;ce++){Z=g[ce];var Ue=w[x+Z];Ue<=0||(Ge+=Ue,g[je++]=Z,We+=Z)}Ge===0?(b[E]=(0,rc.csFlip)(ue),fe=-w[x+E],te-=fe,pe+=fe,P+=fe,w[x+E]=0,w[I+E]=-1):(w[q+E]=Math.min(w[q+E],Ge),g[je]=g[Te],g[Te]=g[Ce],g[Ce]=ue,w[O+E]=je-Ce+1,We=(We<0?-We:We)%v,w[N+E]=w[R+We],w[R+We]=E,j[E]=We)}for(w[q+ue]=te,h=Math.max(h,te),L=a(L+h,h,w,z,v),Me=ge;Me<ve;Me++)if(E=g[Me],!(w[x+E]>=0))for(We=j[E],E=w[R+We],w[R+We]=-1;E!==-1&&w[N+E]!==-1;E=w[N+E],L++){for(ne=w[O+E],me=w[I+E],ce=b[E]+1;ce<=b[E]+ne-1;ce++)w[z+g[ce]]=L;var Ze=E;for(Z=w[N+E];Z!==-1;){var Pr=w[O+Z]===ne&&w[I+Z]===me;for(ce=b[Z]+1;Pr&&ce<=b[Z]+ne-1;ce++)w[z+g[ce]]!==L&&(Pr=0);Pr?(b[Z]=(0,rc.csFlip)(E),w[x+E]+=w[x+Z],w[x+Z]=0,w[I+Z]=-1,Z=w[N+Z],w[N+Ze]=Z):(Ze=Z,Z=w[N+Z])}}for(ce=ge,Me=ge;Me<ve;Me++)E=g[Me],!((fe=-w[x+E])<=0)&&(w[x+E]=fe,Ge=w[q+E]+te-fe,Ge=Math.min(Ge,v-P-fe),w[M+Ge]!==-1&&(j[w[M+Ge]]=E),w[N+E]=w[M+Ge],j[E]=-1,w[M+Ge]=E,V=Math.min(V,Ge),w[q+E]=Ge,g[ce++]=E);w[x+ue]=pe,(w[O+ue]=ce-ge)===0&&(b[ue]=-1,w[z+ue]=0),ie!==0&&(_=ce)}for(E=0;E<v;E++)b[E]=(0,rc.csFlip)(b[E]);for(Z=0;Z<=v;Z++)w[M+Z]=-1;for(Z=v;Z>=0;Z--)w[x+Z]>0||(w[N+Z]=w[M+b[Z]],w[M+b[Z]]=Z);for(le=v;le>=0;le--)w[x+le]<=0||b[le]!==-1&&(w[N+le]=w[M+b[le]],w[M+b[le]]=le);for(ue=0,E=0;E<=v;E++)b[E]===-1&&(ue=(0,OAe.csTdfs)(E,ue,w,M,N,S,z));return S.splice(S.length-1,1),S};function i(o,l,d,p,f){var v=n(l);if(o===1&&p===d)return r(l,v);if(o===2){for(var h=v._index,m=v._ptr,y=0,g=0;g<d;g++){var b=m[g];if(m[g]=y,!(m[g+1]-b>f))for(var _=m[g+1];b<_;b++)h[y++]=h[b]}return m[d]=y,l=n(v),t(v,l)}return t(v,l)}function c(o,l,d,p,f,v,h,m,y,g,b,_){for(var S=0;S<o;S++)d[p+S]=l[S+1]-l[S];d[p+o]=0;for(var w=0;w<=o;w++)d[f+w]=-1,v[w]=-1,d[h+w]=-1,d[m+w]=-1,d[y+w]=1,d[g+w]=1,d[b+w]=0,d[_+w]=d[p+w];var O=a(0,0,d,g,o);return d[b+o]=-2,l[o]=-1,d[g+o]=0,O}function u(o,l,d,p,f,v,h,m,y,g,b){for(var _=0,S=0;S<o;S++){var w=d[p+S];if(w===0)d[f+S]=-2,_++,l[S]=-1,d[v+S]=0;else if(w>h)d[m+S]=0,d[f+S]=-1,_++,l[S]=(0,rc.csFlip)(o),d[m+o]++;else{var O=d[y+w];O!==-1&&(g[O]=S),d[b+S]=d[y+w],d[y+w]=S}}return _}function a(o,l,d,p,f){if(o<2||o+l<0){for(var v=0;v<f;v++)d[p+v]!==0&&(d[p+v]=1);o=2}return o}function s(o,l){return o!==l}});lm.createCsAmd=CAe});var QL=D(NA=>{"use strict";Object.defineProperty(NA,"__esModule",{value:!0});NA.csLeaf=AAe;function AAe(e,r,t,n,i,c,u){var a,s,o=0,l;if(e<=r||t[n+r]<=t[i+e])return-1;t[i+e]=t[n+r];var d=t[c+e];if(t[c+e]=r,d===-1)o=1,l=e;else{for(o=2,l=d;l!==t[u+l];l=t[u+l]);for(a=d;a!==l;a=s)s=t[u+a],t[u+a]=l}return{jleaf:o,q:l}}});var YL=D(dm=>{"use strict";Object.defineProperty(dm,"__esModule",{value:!0});dm.createCsCounts=void 0;var MAe=oe(),PAe=QL(),EAe="csCounts",qAe=["transpose"],IAe=(0,MAe.factory)(EAe,qAe,function(e){var r=e.transpose;return function(t,n,i,c){if(!t||!n||!i)return null;var u=t._size,a=u[0],s=u[1],o,l,d,p,f,v,h,m=4*s+(c?s+a+1:0),y=[],g=0,b=s,_=2*s,S=3*s,w=4*s,O=5*s+1;for(d=0;d<m;d++)y[d]=-1;var x=[],N=r(t),M=N._index,I=N._ptr;for(d=0;d<s;d++)for(l=i[d],x[l]=y[S+l]===-1?1:0;l!==-1&&y[S+l]===-1;l=n[l])y[S+l]=d;if(c){for(d=0;d<s;d++)y[i[d]]=d;for(o=0;o<a;o++){for(d=s,v=I[o],h=I[o+1],f=v;f<h;f++)d=Math.min(d,y[M[f]]);y[O+o]=y[w+d],y[w+d]=o}}for(o=0;o<s;o++)y[g+o]=o;for(d=0;d<s;d++){for(l=i[d],n[l]!==-1&&x[n[l]]--,p=c?y[w+d]:l;p!==-1;p=c?y[O+p]:-1)for(f=I[p];f<I[p+1];f++){o=M[f];var q=(0,PAe.csLeaf)(o,l,y,S,b,_,g);q.jleaf>=1&&x[l]++,q.jleaf===2&&x[q.q]--}n[l]!==-1&&(y[g+l]=n[l])}for(l=0;l<s;l++)n[l]!==-1&&(x[n[l]]+=x[l]);return x}});dm.createCsCounts=IAe});var ZL=D(pm=>{"use strict";Object.defineProperty(pm,"__esModule",{value:!0});pm.createCsSqr=void 0;var BAe=VL(),kAe=GL(),jAe=HL(),TAe=$L(),RAe=YL(),FAe=oe(),LAe="csSqr",UAe=["add","multiply","transpose"],zAe=(0,FAe.factory)(LAe,UAe,function(e){var r=e.add,t=e.multiply,n=e.transpose,i=(0,TAe.createCsAmd)({add:r,multiply:t,transpose:n}),c=(0,RAe.createCsCounts)({transpose:n});return function(s,o,l){var d=o._ptr,p=o._size,f=p[1],v,h={};if(h.q=i(s,o),s&&!h.q)return null;if(l){var m=s?(0,BAe.csPermute)(o,null,h.q,0):o;h.parent=(0,jAe.csEtree)(m,1);var y=(0,kAe.csPost)(h.parent,f);if(h.cp=c(m,h.parent,y,1),m&&h.parent&&h.cp&&u(m,h))for(h.unz=0,v=0;v<f;v++)h.unz+=h.cp[v]}else h.unz=4*d[f]+f,h.lnz=h.unz;return h};function u(a,s){var o=a._ptr,l=a._index,d=a._size,p=d[0],f=d[1];s.pinv=[],s.leftmost=[];var v=s.parent,h=s.pinv,m=s.leftmost,y=[],g=0,b=p,_=p+f,S=p+2*f,w,O,x,N,M;for(O=0;O<f;O++)y[b+O]=-1,y[_+O]=-1,y[S+O]=0;for(w=0;w<p;w++)m[w]=-1;for(O=f-1;O>=0;O--)for(N=o[O],M=o[O+1],x=N;x<M;x++)m[l[x]]=O;for(w=p-1;w>=0;w--)h[w]=-1,O=m[w],O!==-1&&(y[S+O]++===0&&(y[_+O]=w),y[g+w]=y[b+O],y[b+O]=w);for(s.lnz=0,s.m2=p,O=0;O<f;O++)if(w=y[b+O],s.lnz++,w<0&&(w=s.m2++),h[w]=O,!(--S[O]<=0)){s.lnz+=y[S+O];var I=v[O];I!==-1&&(y[S+I]===0&&(y[_+I]=y[_+O]),y[g+y[_+O]]=y[b+I],y[b+I]=y[g+w],y[S+I]+=y[S+O])}for(w=0;w<p;w++)h[w]<0&&(h[w]=O++);return!0}});pm.createCsSqr=zAe});var AA=D(CA=>{"use strict";Object.defineProperty(CA,"__esModule",{value:!0});CA.csMarked=JAe;function JAe(e,r){return e[r]<0}});var PA=D(MA=>{"use strict";Object.defineProperty(MA,"__esModule",{value:!0});MA.csMark=GAe;var VAe=um();function GAe(e,r){e[r]=(0,VAe.csFlip)(e[r])}});var XL=D(EA=>{"use strict";Object.defineProperty(EA,"__esModule",{value:!0});EA.csUnflip=WAe;var HAe=um();function WAe(e){return e<0?(0,HAe.csFlip)(e):e}});var rU=D(qA=>{"use strict";Object.defineProperty(qA,"__esModule",{value:!0});qA.csDfs=QAe;var KL=AA(),$Ae=PA(),eU=XL();function QAe(e,r,t,n,i){var c=r._index,u=r._ptr,a=r._size,s=a[1],o,l,d,p=0;for(n[0]=e;p>=0;){e=n[p];var f=i?i[e]:e;(0,KL.csMarked)(u,e)||((0,$Ae.csMark)(u,e),n[s+p]=f<0?0:(0,eU.csUnflip)(u[f]));var v=1;for(l=n[s+p],d=f<0?0:(0,eU.csUnflip)(u[f+1]);l<d;l++)if(o=c[l],!(0,KL.csMarked)(u,o)){n[s+p]=l,n[++p]=o,v=0;break}v&&(p--,n[--t]=e)}return t}});var tU=D(IA=>{"use strict";Object.defineProperty(IA,"__esModule",{value:!0});IA.csReach=KAe;var YAe=AA(),ZAe=PA(),XAe=rU();function KAe(e,r,t,n,i){var c=e._ptr,u=e._size,a=r._index,s=r._ptr,o=u[1],l,d,p,f=o;for(d=s[t],p=s[t+1],l=d;l<p;l++){var v=a[l];(0,YAe.csMarked)(c,v)||(f=(0,XAe.csDfs)(v,e,f,n,i))}for(l=f;l<o;l++)(0,ZAe.csMark)(c,n[l]);return f}});var nU=D(fm=>{"use strict";Object.defineProperty(fm,"__esModule",{value:!0});fm.createCsSpsolve=void 0;var eMe=tU(),rMe=oe(),tMe="csSpsolve",nMe=["divideScalar","multiply","subtract"],iMe=(0,rMe.factory)(tMe,nMe,function(e){var r=e.divideScalar,t=e.multiply,n=e.subtract;return function(c,u,a,s,o,l,d){var p=c._values,f=c._index,v=c._ptr,h=c._size,m=h[1],y=u._values,g=u._index,b=u._ptr,_,S,w,O,x=(0,eMe.csReach)(c,u,a,s,l);for(_=x;_<m;_++)o[s[_]]=0;for(S=b[a],w=b[a+1],_=S;_<w;_++)o[g[_]]=y[_];for(var N=x;N<m;N++){var M=s[N],I=l?l[M]:M;if(!(I<0))for(S=v[I],w=v[I+1],o[M]=r(o[M],p[d?S:w-1]),_=d?S+1:S,O=d?w:w-1;_<O;_++){var q=f[_];o[q]=n(o[q],t(p[_],o[M]))}}return x}});fm.createCsSpsolve=iMe});var iU=D(hm=>{"use strict";Object.defineProperty(hm,"__esModule",{value:!0});hm.createCsLu=void 0;var aMe=oe(),sMe=nU(),oMe="csLu",cMe=["abs","divideScalar","multiply","subtract","larger","largerEq","SparseMatrix"],uMe=(0,aMe.factory)(oMe,cMe,function(e){var r=e.abs,t=e.divideScalar,n=e.multiply,i=e.subtract,c=e.larger,u=e.largerEq,a=e.SparseMatrix,s=(0,sMe.createCsSpsolve)({divideScalar:t,multiply:n,subtract:i});return function(l,d,p){if(!l)return null;var f=l._size,v=f[1],h,m=100,y=100;d&&(h=d.q,m=d.lnz||m,y=d.unz||y);var g=[],b=[],_=[],S=new a({values:g,index:b,ptr:_,size:[v,v]}),w=[],O=[],x=[],N=new a({values:w,index:O,ptr:x,size:[v,v]}),M=[],I,q,z=[],R=[];for(I=0;I<v;I++)z[I]=0,M[I]=-1,_[I+1]=0;m=0,y=0;for(var j=0;j<v;j++){_[j]=m,x[j]=y;var L=h?h[j]:j,P=s(S,l,L,R,z,M,1),V=-1,E=-1;for(q=P;q<v;q++)if(I=R[q],M[I]<0){var Z=r(z[I]);c(Z,E)&&(E=Z,V=I)}else O[y]=M[I],w[y++]=z[I];if(V===-1||E<=0)return null;M[L]<0&&u(r(z[L]),n(E,p))&&(V=L);var ue=z[V];for(O[y]=j,w[y++]=ue,M[V]=j,b[m]=V,g[m++]=1,q=P;q<v;q++)I=R[q],M[I]<0&&(b[m]=I,g[m++]=t(z[I],ue)),z[I]=0}for(_[v]=m,x[v]=y,q=0;q<m;q++)b[q]=M[b[q]];return g.splice(m,g.length-m),b.splice(m,b.length-m),w.splice(y,w.length-y),O.splice(y,O.length-y),{L:S,U:N,pinv:M}}});hm.createCsLu=uMe});var sU=D(vm=>{"use strict";Object.defineProperty(vm,"__esModule",{value:!0});vm.createSlu=void 0;var lMe=gr(),dMe=oe(),pMe=ZL(),fMe=iU(),aU="slu",hMe=["typed","abs","add","multiply","transpose","divideScalar","subtract","larger","largerEq","SparseMatrix"],vMe=(0,dMe.factory)(aU,hMe,function(e){var r=e.typed,t=e.abs,n=e.add,i=e.multiply,c=e.transpose,u=e.divideScalar,a=e.subtract,s=e.larger,o=e.largerEq,l=e.SparseMatrix,d=(0,pMe.createCsSqr)({add:n,multiply:i,transpose:c}),p=(0,fMe.createCsLu)({abs:t,divideScalar:u,multiply:i,subtract:a,larger:s,largerEq:o,SparseMatrix:l});return r(aU,{"SparseMatrix, number, number":function(v,h,m){if(!(0,lMe.isInteger)(h)||h<0||h>3)throw new Error("Symbolic Ordering and Analysis order must be an integer number in the interval [0, 3]");if(m<0||m>1)throw new Error("Partial pivoting threshold must be a number from 0 to 1");var y=d(h,v,!1),g=p(v,y,m);return{L:g.L,U:g.U,p:g.pinv,q:y.q,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
p: `+this.p.toString()+(this.q?`
q: `+this.q.toString():"")+`
`}}}})});vm.createSlu=vMe});var oU=D(BA=>{"use strict";Object.defineProperty(BA,"__esModule",{value:!0});BA.csIpvec=mMe;function mMe(e,r){var t,n=r.length,i=[];if(e)for(t=0;t<n;t++)i[e[t]]=r[t];else for(t=0;t<n;t++)i[t]=r[t];return i}});var dU=D(mm=>{"use strict";Object.defineProperty(mm,"__esModule",{value:!0});mm.createLusolve=void 0;var cU=He(),yMe=oe(),gMe=oh(),uU=oU(),lU="lusolve",bMe=["typed","matrix","lup","slu","usolve","lsolve","DenseMatrix"],_Me=(0,yMe.factory)(lU,bMe,function(e){var r=e.typed,t=e.matrix,n=e.lup,i=e.slu,c=e.usolve,u=e.lsolve,a=e.DenseMatrix,s=(0,gMe.createSolveValidation)({DenseMatrix:a});return r(lU,{"Array, Array | Matrix":function(p,f){p=t(p);var v=n(p),h=l(v.L,v.U,v.p,null,f);return h.valueOf()},"DenseMatrix, Array | Matrix":function(p,f){var v=n(p);return l(v.L,v.U,v.p,null,f)},"SparseMatrix, Array | Matrix":function(p,f){var v=n(p);return l(v.L,v.U,v.p,null,f)},"SparseMatrix, Array | Matrix, number, number":function(p,f,v,h){var m=i(p,v,h);return l(m.L,m.U,m.p,m.q,f)},"Object, Array | Matrix":function(p,f){return l(p.L,p.U,p.p,p.q,f)}});function o(d){if((0,cU.isMatrix)(d))return d;if((0,cU.isArray)(d))return t(d);throw new TypeError("Invalid Matrix LU decomposition")}function l(d,p,f,v,h){d=o(d),p=o(p),h=s(d,h,!1),f&&(h._data=(0,uU.csIpvec)(f,h._data));var m=u(d,h),y=c(p,m);return v&&(y._data=(0,uU.csIpvec)(v,y._data)),y}});mm.createLusolve=_Me});var pU=D(ym=>{"use strict";Object.defineProperty(ym,"__esModule",{value:!0});ym.createHelpClass=void 0;var wMe=He(),SMe=yr(),xMe=Xr(),OMe=oe(),DMe="Help",NMe=["parse"],CMe=(0,OMe.factory)(DMe,NMe,function(e){var r=e.parse;function t(n){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");if(!n)throw new Error('Argument "doc" missing');this.doc=n}return t.prototype.type="Help",t.prototype.isHelp=!0,t.prototype.toString=function(){var n=this.doc||{},i=`
`;if(n.name&&(i+="Name: "+n.name+`

`),n.category&&(i+="Category: "+n.category+`

`),n.description&&(i+=`Description:
    `+n.description+`

`),n.syntax&&(i+=`Syntax:
    `+n.syntax.join(`
    `)+`

`),n.examples){i+=`Examples:
`;for(var c={},u=0;u<n.examples.length;u++){var a=n.examples[u];i+="    "+a+`
`;var s=void 0;try{s=r(a).compile().evaluate(c)}catch(o){s=o}s!==void 0&&!(0,wMe.isHelp)(s)&&(i+="        "+(0,xMe.format)(s,{precision:14})+`
`)}i+=`
`}return n.seealso&&n.seealso.length&&(i+="See also: "+n.seealso.join(", ")+`
`),i},t.prototype.toJSON=function(){var n=(0,SMe.clone)(this.doc);return n.mathjs="Help",n},t.fromJSON=function(n){var i={};for(var c in n)c!=="mathjs"&&(i[c]=n[c]);return new t(i)},t.prototype.valueOf=t.prototype.toString,t},{isClass:!0});ym.createHelpClass=CMe});var hU=D(gm=>{"use strict";Object.defineProperty(gm,"__esModule",{value:!0});gm.createChainClass=void 0;var AMe=He(),MMe=Xr(),fU=yr(),PMe=oe(),EMe="Chain",qMe=["?on","math"],IMe=(0,PMe.factory)(EMe,qMe,function(e){var r=e.on,t=e.math;function n(s){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");(0,AMe.isChain)(s)?this.value=s.value:this.value=s}n.prototype.type="Chain",n.prototype.isChain=!0,n.prototype.done=function(){return this.value},n.prototype.valueOf=function(){return this.value},n.prototype.toString=function(){return(0,MMe.format)(this.value)},n.prototype.toJSON=function(){return{mathjs:"Chain",value:this.value}},n.fromJSON=function(s){return new n(s.value)};function i(s,o){typeof o=="function"&&(n.prototype[s]=u(o))}function c(s,o){(0,fU.lazy)(n.prototype,s,function(){var d=o();if(typeof d=="function")return u(d)})}function u(s){return function(){for(var o=[this.value],l=0;l<arguments.length;l++)o[l+1]=arguments[l];return new n(s.apply(s,o))}}n.createProxy=function(s,o){if(typeof s=="string")i(s,o);else{var l=function(f){(0,fU.hasOwnProperty)(s,f)&&a[f]===void 0&&c(f,function(){return s[f]})};for(var d in s)l(d)}};var a={expression:!0,docs:!0,type:!0,classes:!0,json:!0,error:!0,isChain:!0};return n.createProxy(t),r&&r("import",function(s,o,l){l||c(s,o)}),n},{isClass:!0});gm.createChainClass=IMe});var vU=D(bm=>{"use strict";Object.defineProperty(bm,"__esModule",{value:!0});bm.bignumberDocs=void 0;var BMe={name:"bignumber",category:"Construction",syntax:["bignumber(x)"],description:"Create a big number from a number or string.",examples:["0.1 + 0.2","bignumber(0.1) + bignumber(0.2)",'bignumber("7.2")','bignumber("7.2e500")',"bignumber([0.1, 0.2, 0.3])"],seealso:["boolean","complex","fraction","index","matrix","string","unit"]};bm.bignumberDocs=BMe});var mU=D(_m=>{"use strict";Object.defineProperty(_m,"__esModule",{value:!0});_m.typeOfDocs=void 0;var kMe={name:"typeOf",category:"Utils",syntax:["typeOf(x)"],description:"Get the type of a variable.",examples:["typeOf(3.5)","typeOf(2 - 4i)","typeOf(45 deg)",'typeOf("hello world")'],seealso:["getMatrixDataType"]};_m.typeOfDocs=kMe});var yU=D(wm=>{"use strict";Object.defineProperty(wm,"__esModule",{value:!0});wm.isZeroDocs=void 0;var jMe={name:"isZero",category:"Utils",syntax:["isZero(x)"],description:"Test whether a value is zero.",examples:["isZero(2)","isZero(0)","isZero(-4)","isZero([3, 0, -2, 0])"],seealso:["isInteger","isNumeric","isNegative","isPositive"]};wm.isZeroDocs=jMe});var gU=D(Sm=>{"use strict";Object.defineProperty(Sm,"__esModule",{value:!0});Sm.isPrimeDocs=void 0;var TMe={name:"isPrime",category:"Utils",syntax:["isPrime(x)"],description:"Test whether a value is prime: has no divisors other than itself and one.",examples:["isPrime(3)","isPrime(-2)","isPrime([2, 17, 100])"],seealso:["isInteger","isNumeric","isNegative","isZero"]};Sm.isPrimeDocs=TMe});var bU=D(xm=>{"use strict";Object.defineProperty(xm,"__esModule",{value:!0});xm.isPositiveDocs=void 0;var RMe={name:"isPositive",category:"Utils",syntax:["isPositive(x)"],description:"Test whether a value is positive: larger than zero.",examples:["isPositive(2)","isPositive(0)","isPositive(-4)","isPositive([3, 0.5, -2])"],seealso:["isInteger","isNumeric","isNegative","isZero"]};xm.isPositiveDocs=RMe});var _U=D(Om=>{"use strict";Object.defineProperty(Om,"__esModule",{value:!0});Om.isNumericDocs=void 0;var FMe={name:"isNumeric",category:"Utils",syntax:["isNumeric(x)"],description:"Test whether a value is a numeric value. Returns true when the input is a number, BigNumber, Fraction, or boolean.",examples:["isNumeric(2)",'isNumeric("2")','hasNumericValue("2")',"isNumeric(0)","isNumeric(bignumber(500))","isNumeric(fraction(0.125))","isNumeric(2 + 3i)",'isNumeric([2.3, "foo", false])'],seealso:["isInteger","isZero","isNegative","isPositive","isNaN","hasNumericValue"]};Om.isNumericDocs=FMe});var wU=D(Dm=>{"use strict";Object.defineProperty(Dm,"__esModule",{value:!0});Dm.hasNumericValueDocs=void 0;var LMe={name:"hasNumericValue",category:"Utils",syntax:["hasNumericValue(x)"],description:"Test whether a value is an numeric value. In case of a string, true is returned if the string contains a numeric value.",examples:["hasNumericValue(2)",'hasNumericValue("2")','isNumeric("2")',"hasNumericValue(0)","hasNumericValue(bignumber(500))","hasNumericValue(fraction(0.125))","hasNumericValue(2 + 3i)",'hasNumericValue([2.3, "foo", false])'],seealso:["isInteger","isZero","isNegative","isPositive","isNaN","isNumeric"]};Dm.hasNumericValueDocs=LMe});var SU=D(Nm=>{"use strict";Object.defineProperty(Nm,"__esModule",{value:!0});Nm.isNegativeDocs=void 0;var UMe={name:"isNegative",category:"Utils",syntax:["isNegative(x)"],description:"Test whether a value is negative: smaller than zero.",examples:["isNegative(2)","isNegative(0)","isNegative(-4)","isNegative([3, 0.5, -2])"],seealso:["isInteger","isNumeric","isPositive","isZero"]};Nm.isNegativeDocs=UMe});var xU=D(Cm=>{"use strict";Object.defineProperty(Cm,"__esModule",{value:!0});Cm.isIntegerDocs=void 0;var zMe={name:"isInteger",category:"Utils",syntax:["isInteger(x)"],description:"Test whether a value is an integer number.",examples:["isInteger(2)","isInteger(3.5)","isInteger([3, 0.5, -2])"],seealso:["isNegative","isNumeric","isPositive","isZero"]};Cm.isIntegerDocs=zMe});var OU=D(Am=>{"use strict";Object.defineProperty(Am,"__esModule",{value:!0});Am.isNaNDocs=void 0;var JMe={name:"isNaN",category:"Utils",syntax:["isNaN(x)"],description:"Test whether a value is NaN (not a number)",examples:["isNaN(2)","isNaN(0 / 0)","isNaN(NaN)","isNaN(Infinity)"],seealso:["isNegative","isNumeric","isPositive","isZero"]};Am.isNaNDocs=JMe});var DU=D(Mm=>{"use strict";Object.defineProperty(Mm,"__esModule",{value:!0});Mm.formatDocs=void 0;var VMe={name:"format",category:"Utils",syntax:["format(value)","format(value, precision)"],description:"Format a value of any type as string.",examples:["format(2.3)","format(3 - 4i)","format([])","format(pi, 3)"],seealso:["print"]};Mm.formatDocs=VMe});var NU=D(Pm=>{"use strict";Object.defineProperty(Pm,"__esModule",{value:!0});Pm.cloneDocs=void 0;var GMe={name:"clone",category:"Utils",syntax:["clone(x)"],description:"Clone a variable. Creates a copy of primitive variables,and a deep copy of matrices",examples:["clone(3.5)","clone(2 - 4i)","clone(45 deg)","clone([1, 2; 3, 4])",'clone("hello world")'],seealso:[]};Pm.cloneDocs=GMe});var CU=D(Em=>{"use strict";Object.defineProperty(Em,"__esModule",{value:!0});Em.toDocs=void 0;var HMe={name:"to",category:"Units",syntax:["x to unit","to(x, unit)"],description:"Change the unit of a value.",examples:["5 inch to cm","3.2kg to g","16 bytes in bits"],seealso:[]};Em.toDocs=HMe});var AU=D(qm=>{"use strict";Object.defineProperty(qm,"__esModule",{value:!0});qm.tanhDocs=void 0;var WMe={name:"tanh",category:"Trigonometry",syntax:["tanh(x)"],description:"Compute the hyperbolic tangent of x in radians.",examples:["tanh(0.5)","sinh(0.5) / cosh(0.5)"],seealso:["sinh","cosh"]};qm.tanhDocs=WMe});var MU=D(Im=>{"use strict";Object.defineProperty(Im,"__esModule",{value:!0});Im.tanDocs=void 0;var $Me={name:"tan",category:"Trigonometry",syntax:["tan(x)"],description:"Compute the tangent of x in radians.",examples:["tan(0.5)","sin(0.5) / cos(0.5)","tan(pi / 4)","tan(45 deg)"],seealso:["atan","sin","cos"]};Im.tanDocs=$Me});var PU=D(Bm=>{"use strict";Object.defineProperty(Bm,"__esModule",{value:!0});Bm.sinhDocs=void 0;var QMe={name:"sinh",category:"Trigonometry",syntax:["sinh(x)"],description:"Compute the hyperbolic sine of x in radians.",examples:["sinh(0.5)"],seealso:["cosh","tanh"]};Bm.sinhDocs=QMe});var EU=D(km=>{"use strict";Object.defineProperty(km,"__esModule",{value:!0});km.sechDocs=void 0;var YMe={name:"sech",category:"Trigonometry",syntax:["sech(x)"],description:"Compute the hyperbolic secant of x in radians. Defined as 1/cosh(x)",examples:["sech(2)","1 / cosh(2)"],seealso:["coth","csch","cosh"]};km.sechDocs=YMe});var qU=D(jm=>{"use strict";Object.defineProperty(jm,"__esModule",{value:!0});jm.secDocs=void 0;var ZMe={name:"sec",category:"Trigonometry",syntax:["sec(x)"],description:"Compute the secant of x in radians. Defined as 1/cos(x)",examples:["sec(2)","1 / cos(2)"],seealso:["cot","csc","cos"]};jm.secDocs=ZMe});var IU=D(Tm=>{"use strict";Object.defineProperty(Tm,"__esModule",{value:!0});Tm.cschDocs=void 0;var XMe={name:"csch",category:"Trigonometry",syntax:["csch(x)"],description:"Compute the hyperbolic cosecant of x in radians. Defined as 1/sinh(x)",examples:["csch(2)","1 / sinh(2)"],seealso:["sech","coth","sinh"]};Tm.cschDocs=XMe});var BU=D(Rm=>{"use strict";Object.defineProperty(Rm,"__esModule",{value:!0});Rm.cscDocs=void 0;var KMe={name:"csc",category:"Trigonometry",syntax:["csc(x)"],description:"Compute the cosecant of x in radians. Defined as 1/sin(x)",examples:["csc(2)","1 / sin(2)"],seealso:["sec","cot","sin"]};Rm.cscDocs=KMe});var kU=D(Fm=>{"use strict";Object.defineProperty(Fm,"__esModule",{value:!0});Fm.cothDocs=void 0;var ePe={name:"coth",category:"Trigonometry",syntax:["coth(x)"],description:"Compute the hyperbolic cotangent of x in radians.",examples:["coth(2)","1 / tanh(2)"],seealso:["sech","csch","tanh"]};Fm.cothDocs=ePe});var jU=D(Lm=>{"use strict";Object.defineProperty(Lm,"__esModule",{value:!0});Lm.cotDocs=void 0;var rPe={name:"cot",category:"Trigonometry",syntax:["cot(x)"],description:"Compute the cotangent of x in radians. Defined as 1/tan(x)",examples:["cot(2)","1 / tan(2)"],seealso:["sec","csc","tan"]};Lm.cotDocs=rPe});var TU=D(Um=>{"use strict";Object.defineProperty(Um,"__esModule",{value:!0});Um.coshDocs=void 0;var tPe={name:"cosh",category:"Trigonometry",syntax:["cosh(x)"],description:"Compute the hyperbolic cosine of x in radians.",examples:["cosh(0.5)"],seealso:["sinh","tanh","coth"]};Um.coshDocs=tPe});var RU=D(zm=>{"use strict";Object.defineProperty(zm,"__esModule",{value:!0});zm.cosDocs=void 0;var nPe={name:"cos",category:"Trigonometry",syntax:["cos(x)"],description:"Compute the cosine of x in radians.",examples:["cos(2)","cos(pi / 4) ^ 2","cos(180 deg)","cos(60 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["acos","sin","tan"]};zm.cosDocs=nPe});var FU=D(Jm=>{"use strict";Object.defineProperty(Jm,"__esModule",{value:!0});Jm.atan2Docs=void 0;var iPe={name:"atan2",category:"Trigonometry",syntax:["atan2(y, x)"],description:"Computes the principal value of the arc tangent of y/x in radians.",examples:["atan2(2, 2) / pi","angle = 60 deg in rad","x = cos(angle)","y = sin(angle)","atan2(y, x)"],seealso:["sin","cos","tan"]};Jm.atan2Docs=iPe});var LU=D(Vm=>{"use strict";Object.defineProperty(Vm,"__esModule",{value:!0});Vm.atanhDocs=void 0;var aPe={name:"atanh",category:"Trigonometry",syntax:["atanh(x)"],description:"Calculate the hyperbolic arctangent of a value, defined as `atanh(x) = ln((1 + x)/(1 - x)) / 2`.",examples:["atanh(0.5)"],seealso:["acosh","asinh"]};Vm.atanhDocs=aPe});var UU=D(Gm=>{"use strict";Object.defineProperty(Gm,"__esModule",{value:!0});Gm.atanDocs=void 0;var sPe={name:"atan",category:"Trigonometry",syntax:["atan(x)"],description:"Compute the inverse tangent of a value in radians.",examples:["atan(0.5)","atan(tan(0.5))"],seealso:["tan","acos","asin"]};Gm.atanDocs=sPe});var zU=D(Hm=>{"use strict";Object.defineProperty(Hm,"__esModule",{value:!0});Hm.asinhDocs=void 0;var oPe={name:"asinh",category:"Trigonometry",syntax:["asinh(x)"],description:"Calculate the hyperbolic arcsine of a value, defined as `asinh(x) = ln(x + sqrt(x^2 + 1))`.",examples:["asinh(0.5)"],seealso:["acosh","atanh"]};Hm.asinhDocs=oPe});var JU=D(Wm=>{"use strict";Object.defineProperty(Wm,"__esModule",{value:!0});Wm.asinDocs=void 0;var cPe={name:"asin",category:"Trigonometry",syntax:["asin(x)"],description:"Compute the inverse sine of a value in radians.",examples:["asin(0.5)","asin(sin(0.5))"],seealso:["sin","acos","atan"]};Wm.asinDocs=cPe});var VU=D($m=>{"use strict";Object.defineProperty($m,"__esModule",{value:!0});$m.asechDocs=void 0;var uPe={name:"asech",category:"Trigonometry",syntax:["asech(x)"],description:"Calculate the inverse secant of a value.",examples:["asech(0.5)"],seealso:["acsch","acoth"]};$m.asechDocs=uPe});var GU=D(Qm=>{"use strict";Object.defineProperty(Qm,"__esModule",{value:!0});Qm.asecDocs=void 0;var lPe={name:"asec",category:"Trigonometry",syntax:["asec(x)"],description:"Calculate the inverse secant of a value.",examples:["asec(0.5)","asec(sec(0.5))","asec(2)"],seealso:["acos","acot","acsc"]};Qm.asecDocs=lPe});var HU=D(Ym=>{"use strict";Object.defineProperty(Ym,"__esModule",{value:!0});Ym.acschDocs=void 0;var dPe={name:"acsch",category:"Trigonometry",syntax:["acsch(x)"],description:"Calculate the hyperbolic arccosecant of a value, defined as `acsch(x) = ln(1/x + sqrt(1/x^2 + 1))`.",examples:["acsch(0.5)"],seealso:["asech","acoth"]};Ym.acschDocs=dPe});var WU=D(Zm=>{"use strict";Object.defineProperty(Zm,"__esModule",{value:!0});Zm.acscDocs=void 0;var pPe={name:"acsc",category:"Trigonometry",syntax:["acsc(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acsc(2)","acsc(csc(0.5))","acsc(0.5)"],seealso:["csc","asin","asec"]};Zm.acscDocs=pPe});var $U=D(Xm=>{"use strict";Object.defineProperty(Xm,"__esModule",{value:!0});Xm.acothDocs=void 0;var fPe={name:"acoth",category:"Trigonometry",syntax:["acoth(x)"],description:"Calculate the hyperbolic arccotangent of a value, defined as `acoth(x) = (ln((x+1)/x) + ln(x/(x-1))) / 2`.",examples:["acoth(2)","acoth(0.5)"],seealso:["acsch","asech"]};Xm.acothDocs=fPe});var QU=D(Km=>{"use strict";Object.defineProperty(Km,"__esModule",{value:!0});Km.acotDocs=void 0;var hPe={name:"acot",category:"Trigonometry",syntax:["acot(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acot(0.5)","acot(cot(0.5))","acot(2)"],seealso:["cot","atan"]};Km.acotDocs=hPe});var YU=D(ey=>{"use strict";Object.defineProperty(ey,"__esModule",{value:!0});ey.acoshDocs=void 0;var vPe={name:"acosh",category:"Trigonometry",syntax:["acosh(x)"],description:"Calculate the hyperbolic arccos of a value, defined as `acosh(x) = ln(sqrt(x^2 - 1) + x)`.",examples:["acosh(1.5)"],seealso:["cosh","asinh","atanh"]};ey.acoshDocs=vPe});var ZU=D(ry=>{"use strict";Object.defineProperty(ry,"__esModule",{value:!0});ry.acosDocs=void 0;var mPe={name:"acos",category:"Trigonometry",syntax:["acos(x)"],description:"Compute the inverse cosine of a value in radians.",examples:["acos(0.5)","acos(cos(2.3))"],seealso:["cos","atan","asin"]};ry.acosDocs=mPe});var XU=D(ty=>{"use strict";Object.defineProperty(ty,"__esModule",{value:!0});ty.sumDocs=void 0;var yPe={name:"sum",category:"Statistics",syntax:["sum(a, b, c, ...)","sum(A)"],description:"Compute the sum of all values.",examples:["sum(2, 3, 4, 1)","sum([2, 3, 4, 1])","sum([2, 5; 4, 3])"],seealso:["max","mean","median","min","prod","std","sum","variance"]};ty.sumDocs=yPe});var KU=D(ny=>{"use strict";Object.defineProperty(ny,"__esModule",{value:!0});ny.stdDocs=void 0;var gPe={name:"std",category:"Statistics",syntax:["std(a, b, c, ...)","std(A)","std(A, normalization)"],description:'Compute the standard deviation of all values, defined as std(A) = sqrt(variance(A)). Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["std(2, 4, 6)","std([2, 4, 6, 8])",'std([2, 4, 6, 8], "uncorrected")','std([2, 4, 6, 8], "biased")',"std([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","prod","sum","variance"]};ny.stdDocs=gPe});var e9=D(iy=>{"use strict";Object.defineProperty(iy,"__esModule",{value:!0});iy.quantileSeqDocs=void 0;var bPe={name:"quantileSeq",category:"Statistics",syntax:["quantileSeq(A, prob[, sorted])","quantileSeq(A, [prob1, prob2, ...][, sorted])","quantileSeq(A, N[, sorted])"],description:`Compute the prob order quantile of a matrix or a list with values. The sequence is sorted and the middle value is returned. Supported types of sequence values are: Number, BigNumber, Unit Supported types of probablity are: Number, BigNumber. 

In case of a (multi dimensional) array or matrix, the prob order quantile of all elements will be calculated.`,examples:["quantileSeq([3, -1, 5, 7], 0.5)","quantileSeq([3, -1, 5, 7], [1/3, 2/3])","quantileSeq([3, -1, 5, 7], 2)","quantileSeq([-1, 3, 5, 7], 0.5, true)"],seealso:["mean","median","min","max","prod","std","sum","variance"]};iy.quantileSeqDocs=bPe});var r9=D(ay=>{"use strict";Object.defineProperty(ay,"__esModule",{value:!0});ay.prodDocs=void 0;var _Pe={name:"prod",category:"Statistics",syntax:["prod(a, b, c, ...)","prod(A)"],description:"Compute the product of all values.",examples:["prod(2, 3, 4)","prod([2, 3, 4])","prod([2, 5; 4, 3])"],seealso:["max","mean","min","median","min","std","sum","variance"]};ay.prodDocs=_Pe});var t9=D(sy=>{"use strict";Object.defineProperty(sy,"__esModule",{value:!0});sy.modeDocs=void 0;var wPe={name:"mode",category:"Statistics",syntax:["mode(a, b, c, ...)","mode(A)","mode(A, a, b, B, c, ...)"],description:"Computes the mode of all values as an array. In case mode being more than one, multiple values are returned in an array.",examples:["mode(2, 1, 4, 3, 1)","mode([1, 2.7, 3.2, 4, 2.7])","mode(1, 4, 6, 1, 6)"],seealso:["max","mean","min","median","prod","std","sum","variance"]};sy.modeDocs=wPe});var n9=D(oy=>{"use strict";Object.defineProperty(oy,"__esModule",{value:!0});oy.minDocs=void 0;var SPe={name:"min",category:"Statistics",syntax:["min(a, b, c, ...)","min(A)","min(A, dim)"],description:"Compute the minimum value of a list of values.",examples:["min(2, 3, 4, 1)","min([2, 3, 4, 1])","min([2, 5; 4, 3])","min([2, 5; 4, 3], 1)","min([2, 5; 4, 3], 2)","min(2.7, 7.1, -4.5, 2.0, 4.1)","max(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["max","mean","median","prod","std","sum","variance"]};oy.minDocs=SPe});var i9=D(cy=>{"use strict";Object.defineProperty(cy,"__esModule",{value:!0});cy.medianDocs=void 0;var xPe={name:"median",category:"Statistics",syntax:["median(a, b, c, ...)","median(A)"],description:"Compute the median of all values. The values are sorted and the middle value is returned. In case of an even number of values, the average of the two middle values is returned.",examples:["median(5, 2, 7)","median([3, -1, 5, 7])"],seealso:["max","mean","min","prod","std","sum","variance","quantileSeq"]};cy.medianDocs=xPe});var a9=D(uy=>{"use strict";Object.defineProperty(uy,"__esModule",{value:!0});uy.meanDocs=void 0;var OPe={name:"mean",category:"Statistics",syntax:["mean(a, b, c, ...)","mean(A)","mean(A, dim)"],description:"Compute the arithmetic mean of a list of values.",examples:["mean(2, 3, 4, 1)","mean([2, 3, 4, 1])","mean([2, 5; 4, 3])","mean([2, 5; 4, 3], 1)","mean([2, 5; 4, 3], 2)","mean([1.0, 2.7, 3.2, 4.0])"],seealso:["max","median","min","prod","std","sum","variance"]};uy.meanDocs=OPe});var s9=D(ly=>{"use strict";Object.defineProperty(ly,"__esModule",{value:!0});ly.maxDocs=void 0;var DPe={name:"max",category:"Statistics",syntax:["max(a, b, c, ...)","max(A)","max(A, dim)"],description:"Compute the maximum value of a list of values.",examples:["max(2, 3, 4, 1)","max([2, 3, 4, 1])","max([2, 5; 4, 3])","max([2, 5; 4, 3], 1)","max([2, 5; 4, 3], 2)","max(2.7, 7.1, -4.5, 2.0, 4.1)","min(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["mean","median","min","prod","std","sum","variance"]};ly.maxDocs=DPe});var o9=D(dy=>{"use strict";Object.defineProperty(dy,"__esModule",{value:!0});dy.madDocs=void 0;var NPe={name:"mad",category:"Statistics",syntax:["mad(a, b, c, ...)","mad(A)"],description:"Compute the median absolute deviation of a matrix or a list with values. The median absolute deviation is defined as the median of the absolute deviations from the median.",examples:["mad(10, 20, 30)","mad([1, 2, 3])"],seealso:["mean","median","std","abs"]};dy.madDocs=NPe});var c9=D(py=>{"use strict";Object.defineProperty(py,"__esModule",{value:!0});py.erfDocs=void 0;var CPe={name:"erf",category:"Special",syntax:["erf(x)"],description:"Compute the erf function of a value using a rational Chebyshev approximations for different intervals of x",examples:["erf(0.2)","erf(-0.5)","erf(4)"],seealso:[]};py.erfDocs=CPe});var u9=D(fy=>{"use strict";Object.defineProperty(fy,"__esModule",{value:!0});fy.setUnionDocs=void 0;var APe={name:"setUnion",category:"Set",syntax:["setUnion(set1, set2)"],description:"Create the union of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setUnion([1, 2, 3, 4], [3, 4, 5, 6])","setUnion([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setIntersect","setDifference"]};fy.setUnionDocs=APe});var l9=D(hy=>{"use strict";Object.defineProperty(hy,"__esModule",{value:!0});hy.setSymDifferenceDocs=void 0;var MPe={name:"setSymDifference",category:"Set",syntax:["setSymDifference(set1, set2)"],description:"Create the symmetric difference of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setSymDifference([1, 2, 3, 4], [3, 4, 5, 6])","setSymDifference([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setIntersect","setDifference"]};hy.setSymDifferenceDocs=MPe});var d9=D(vy=>{"use strict";Object.defineProperty(vy,"__esModule",{value:!0});vy.setSizeDocs=void 0;var PPe={name:"setSize",category:"Set",syntax:["setSize(set)","setSize(set, unique)"],description:'Count the number of elements of a (multi)set. When the second parameter "unique" is true, count only the unique values. A multi-dimension array will be converted to a single-dimension array before the operation.',examples:["setSize([1, 2, 2, 4])","setSize([1, 2, 2, 4], true)"],seealso:["setUnion","setIntersect","setDifference"]};vy.setSizeDocs=PPe});var p9=D(my=>{"use strict";Object.defineProperty(my,"__esModule",{value:!0});my.setPowersetDocs=void 0;var EPe={name:"setPowerset",category:"Set",syntax:["setPowerset(set)"],description:"Create the powerset of a (multi)set: the powerset contains very possible subsets of a (multi)set. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setPowerset([1, 2, 3])"],seealso:["setCartesian"]};my.setPowersetDocs=EPe});var f9=D(yy=>{"use strict";Object.defineProperty(yy,"__esModule",{value:!0});yy.setMultiplicityDocs=void 0;var qPe={name:"setMultiplicity",category:"Set",syntax:["setMultiplicity(element, set)"],description:"Count the multiplicity of an element in a multiset. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setMultiplicity(1, [1, 2, 2, 4])","setMultiplicity(2, [1, 2, 2, 4])"],seealso:["setDistinct","setSize"]};yy.setMultiplicityDocs=qPe});var h9=D(gy=>{"use strict";Object.defineProperty(gy,"__esModule",{value:!0});gy.setIsSubsetDocs=void 0;var IPe={name:"setIsSubset",category:"Set",syntax:["setIsSubset(set1, set2)"],description:"Check whether a (multi)set is a subset of another (multi)set: every element of set1 is the element of set2. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setIsSubset([1, 2], [3, 4, 5, 6])","setIsSubset([3, 4], [3, 4, 5, 6])"],seealso:["setUnion","setIntersect","setDifference"]};gy.setIsSubsetDocs=IPe});var v9=D(by=>{"use strict";Object.defineProperty(by,"__esModule",{value:!0});by.setIntersectDocs=void 0;var BPe={name:"setIntersect",category:"Set",syntax:["setIntersect(set1, set2)"],description:"Create the intersection of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setIntersect([1, 2, 3, 4], [3, 4, 5, 6])","setIntersect([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setDifference"]};by.setIntersectDocs=BPe});var m9=D(_y=>{"use strict";Object.defineProperty(_y,"__esModule",{value:!0});_y.setDistinctDocs=void 0;var kPe={name:"setDistinct",category:"Set",syntax:["setDistinct(set)"],description:"Collect the distinct elements of a multiset. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setDistinct([1, 1, 1, 2, 2, 3])"],seealso:["setMultiplicity"]};_y.setDistinctDocs=kPe});var y9=D(wy=>{"use strict";Object.defineProperty(wy,"__esModule",{value:!0});wy.setDifferenceDocs=void 0;var jPe={name:"setDifference",category:"Set",syntax:["setDifference(set1, set2)"],description:"Create the difference of two (multi)sets: every element of set1, that is not the element of set2. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setDifference([1, 2, 3, 4], [3, 4, 5, 6])","setDifference([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setIntersect","setSymDifference"]};wy.setDifferenceDocs=jPe});var g9=D(Sy=>{"use strict";Object.defineProperty(Sy,"__esModule",{value:!0});Sy.setCartesianDocs=void 0;var TPe={name:"setCartesian",category:"Set",syntax:["setCartesian(set1, set2)"],description:"Create the cartesian product of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setCartesian([1, 2], [3, 4])"],seealso:["setUnion","setIntersect","setDifference","setPowerset"]};Sy.setCartesianDocs=TPe});var b9=D(xy=>{"use strict";Object.defineProperty(xy,"__esModule",{value:!0});xy.unequalDocs=void 0;var RPe={name:"unequal",category:"Relational",syntax:["x != y","unequal(x, y)"],description:"Check unequality of two values. Returns true if the values are unequal, and false if they are equal.",examples:["2+2 != 3","2+2 != 4","a = 3.2","b = 6-2.8","a != b","50cm != 0.5m","5 cm != 2 inch"],seealso:["equal","smaller","larger","smallerEq","largerEq","compare","deepEqual"]};xy.unequalDocs=RPe});var _9=D(Oy=>{"use strict";Object.defineProperty(Oy,"__esModule",{value:!0});Oy.smallerEqDocs=void 0;var FPe={name:"smallerEq",category:"Relational",syntax:["x <= y","smallerEq(x, y)"],description:"Check if value x is smaller or equal to value y. Returns true if x is smaller than y, and false if not.",examples:["2 <= 1+1","2 < 1+1","a = 3.2","b = 6-2.8","(a <= b)"],seealso:["equal","unequal","larger","smaller","largerEq","compare"]};Oy.smallerEqDocs=FPe});var w9=D(Dy=>{"use strict";Object.defineProperty(Dy,"__esModule",{value:!0});Dy.smallerDocs=void 0;var LPe={name:"smaller",category:"Relational",syntax:["x < y","smaller(x, y)"],description:"Check if value x is smaller than value y. Returns true if x is smaller than y, and false if not.",examples:["2 < 3","5 < 2*2","a = 3.3","b = 6-2.8","(a < b)","5 cm < 2 inch"],seealso:["equal","unequal","larger","smallerEq","largerEq","compare"]};Dy.smallerDocs=LPe});var S9=D(Ny=>{"use strict";Object.defineProperty(Ny,"__esModule",{value:!0});Ny.largerEqDocs=void 0;var UPe={name:"largerEq",category:"Relational",syntax:["x >= y","largerEq(x, y)"],description:"Check if value x is larger or equal to y. Returns true if x is larger or equal to y, and false if not.",examples:["2 >= 1+1","2 > 1+1","a = 3.2","b = 6-2.8","(a >= b)"],seealso:["equal","unequal","smallerEq","smaller","compare"]};Ny.largerEqDocs=UPe});var x9=D(Cy=>{"use strict";Object.defineProperty(Cy,"__esModule",{value:!0});Cy.largerDocs=void 0;var zPe={name:"larger",category:"Relational",syntax:["x > y","larger(x, y)"],description:"Check if value x is larger than y. Returns true if x is larger than y, and false if not.",examples:["2 > 3","5 > 2*2","a = 3.3","b = 6-2.8","(a > b)","(b < a)","5 cm > 2 inch"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compare"]};Cy.largerDocs=zPe});var O9=D(Ay=>{"use strict";Object.defineProperty(Ay,"__esModule",{value:!0});Ay.equalTextDocs=void 0;var JPe={name:"equalText",category:"Relational",syntax:["equalText(x, y)"],description:"Check equality of two strings. Comparison is case sensitive. Returns true if the values are equal, and false if not.",examples:['equalText("Hello", "Hello")','equalText("a", "A")','equal("2e3", "2000")','equalText("2e3", "2000")','equalText("B", ["A", "B", "C"])'],seealso:["compare","compareNatural","compareText","equal"]};Ay.equalTextDocs=JPe});var D9=D(My=>{"use strict";Object.defineProperty(My,"__esModule",{value:!0});My.equalDocs=void 0;var VPe={name:"equal",category:"Relational",syntax:["x == y","equal(x, y)"],description:"Check equality of two values. Returns true if the values are equal, and false if not.",examples:["2+2 == 3","2+2 == 4","a = 3.2","b = 6-2.8","a == b","50cm == 0.5m"],seealso:["unequal","smaller","larger","smallerEq","largerEq","compare","deepEqual","equalText"]};My.equalDocs=VPe});var N9=D(Py=>{"use strict";Object.defineProperty(Py,"__esModule",{value:!0});Py.deepEqualDocs=void 0;var GPe={name:"deepEqual",category:"Relational",syntax:["deepEqual(x, y)"],description:"Check equality of two matrices element wise. Returns true if the size of both matrices is equal and when and each of the elements are equal.",examples:["deepEqual([1,3,4], [1,3,4])","deepEqual([1,3,4], [1,3])"],seealso:["equal","unequal","smaller","larger","smallerEq","largerEq","compare"]};Py.deepEqualDocs=GPe});var C9=D(Ey=>{"use strict";Object.defineProperty(Ey,"__esModule",{value:!0});Ey.compareTextDocs=void 0;var HPe={name:"compareText",category:"Relational",syntax:["compareText(x, y)"],description:"Compare two strings lexically. Comparison is case sensitive. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:['compareText("B", "A")','compareText("A", "B")','compareText("A", "A")','compareText("2", "10")','compare("2", "10")',"compare(2, 10)",'compareNatural("2", "10")','compareText("B", ["A", "B", "C"])'],seealso:["compare","compareNatural"]};Ey.compareTextDocs=HPe});var A9=D(qy=>{"use strict";Object.defineProperty(qy,"__esModule",{value:!0});qy.compareNaturalDocs=void 0;var WPe={name:"compareNatural",category:"Relational",syntax:["compareNatural(x, y)"],description:"Compare two values of any type in a deterministic, natural way. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:["compareNatural(2, 3)","compareNatural(3, 2)","compareNatural(2, 2)","compareNatural(5cm, 40mm)",'compareNatural("2", "10")',"compareNatural(2 + 3i, 2 + 4i)","compareNatural([1, 2, 4], [1, 2, 3])","compareNatural([1, 5], [1, 2, 3])","compareNatural([1, 2], [1, 2])","compareNatural({a: 2}, {a: 4})"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compare","compareText"]};qy.compareNaturalDocs=WPe});var M9=D(Iy=>{"use strict";Object.defineProperty(Iy,"__esModule",{value:!0});Iy.compareDocs=void 0;var $Pe={name:"compare",category:"Relational",syntax:["compare(x, y)"],description:"Compare two values. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:["compare(2, 3)","compare(3, 2)","compare(2, 2)","compare(5cm, 40mm)","compare(2, [1, 2, 3])"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compareNatural","compareText"]};Iy.compareDocs=$Pe});var P9=D(By=>{"use strict";Object.defineProperty(By,"__esModule",{value:!0});By.randomIntDocs=void 0;var QPe={name:"randomInt",category:"Probability",syntax:["randomInt(max)","randomInt(min, max)","randomInt(size)","randomInt(size, max)","randomInt(size, min, max)"],description:"Return a random integer number",examples:["randomInt(10, 20)","randomInt([2, 3], 10)"],seealso:["pickRandom","random"]};By.randomIntDocs=QPe});var E9=D(ky=>{"use strict";Object.defineProperty(ky,"__esModule",{value:!0});ky.randomDocs=void 0;var YPe={name:"random",category:"Probability",syntax:["random()","random(max)","random(min, max)","random(size)","random(size, max)","random(size, min, max)"],description:"Return a random number.",examples:["random()","random(10, 20)","random([2, 3])"],seealso:["pickRandom","randomInt"]};ky.randomDocs=YPe});var q9=D(jy=>{"use strict";Object.defineProperty(jy,"__esModule",{value:!0});jy.pickRandomDocs=void 0;var ZPe={name:"pickRandom",category:"Probability",syntax:["pickRandom(array)","pickRandom(array, number)","pickRandom(array, weights)","pickRandom(array, number, weights)","pickRandom(array, weights, number)"],description:"Pick a random entry from a given array.",examples:["pickRandom(0:10)","pickRandom([1, 3, 1, 6])","pickRandom([1, 3, 1, 6], 2)","pickRandom([1, 3, 1, 6], [2, 3, 2, 1])","pickRandom([1, 3, 1, 6], 2, [2, 3, 2, 1])","pickRandom([1, 3, 1, 6], [2, 3, 2, 1], 2)"],seealso:["random","randomInt"]};jy.pickRandomDocs=ZPe});var I9=D(Ty=>{"use strict";Object.defineProperty(Ty,"__esModule",{value:!0});Ty.permutationsDocs=void 0;var XPe={name:"permutations",category:"Probability",syntax:["permutations(n)","permutations(n, k)"],description:"Compute the number of permutations of n items taken k at a time",examples:["permutations(5)","permutations(5, 3)"],seealso:["combinations","combinationsWithRep","factorial"]};Ty.permutationsDocs=XPe});var B9=D(Ry=>{"use strict";Object.defineProperty(Ry,"__esModule",{value:!0});Ry.multinomialDocs=void 0;var KPe={name:"multinomial",category:"Probability",syntax:["multinomial(A)"],description:"Multinomial Coefficients compute the number of ways of picking a1, a2, ..., ai unordered outcomes from `n` possibilities. multinomial takes one array of integers as an argument. The following condition must be enforced: every ai > 0.",examples:["multinomial([1, 2, 1])"],seealso:["combinations","factorial"]};Ry.multinomialDocs=KPe});var k9=D(Fy=>{"use strict";Object.defineProperty(Fy,"__esModule",{value:!0});Fy.kldivergenceDocs=void 0;var eEe={name:"kldivergence",category:"Probability",syntax:["kldivergence(x, y)"],description:"Calculate the Kullback-Leibler (KL) divergence  between two distributions.",examples:["kldivergence([0.7,0.5,0.4], [0.2,0.9,0.5])"],seealso:[]};Fy.kldivergenceDocs=eEe});var j9=D(Ly=>{"use strict";Object.defineProperty(Ly,"__esModule",{value:!0});Ly.gammaDocs=void 0;var rEe={name:"gamma",category:"Probability",syntax:["gamma(n)"],description:"Compute the gamma function. For small values, the Lanczos approximation is used, and for large values the extended Stirling approximation.",examples:["gamma(4)","3!","gamma(1/2)","sqrt(pi)"],seealso:["factorial"]};Ly.gammaDocs=rEe});var T9=D(Uy=>{"use strict";Object.defineProperty(Uy,"__esModule",{value:!0});Uy.factorialDocs=void 0;var tEe={name:"factorial",category:"Probability",syntax:["n!","factorial(n)"],description:"Compute the factorial of a value",examples:["5!","5 * 4 * 3 * 2 * 1","3!"],seealso:["combinations","combinationsWithRep","permutations","gamma"]};Uy.factorialDocs=tEe});var R9=D(zy=>{"use strict";Object.defineProperty(zy,"__esModule",{value:!0});zy.combinationsDocs=void 0;var nEe={name:"combinations",category:"Probability",syntax:["combinations(n, k)"],description:"Compute the number of combinations of n items taken k at a time",examples:["combinations(7, 5)"],seealso:["combinationsWithRep","permutations","factorial"]};zy.combinationsDocs=nEe});var F9=D(Jy=>{"use strict";Object.defineProperty(Jy,"__esModule",{value:!0});Jy.combinationsWithRepDocs=void 0;var iEe={name:"combinationsWithRep",category:"Probability",syntax:["combinationsWithRep(n, k)"],description:"Compute the number of combinations of n items taken k at a time with replacements.",examples:["combinationsWithRep(7, 5)"],seealso:["combinations","permutations","factorial"]};Jy.combinationsWithRepDocs=iEe});var L9=D(Vy=>{"use strict";Object.defineProperty(Vy,"__esModule",{value:!0});Vy.zerosDocs=void 0;var aEe={name:"zeros",category:"Matrix",syntax:["zeros(m)","zeros(m, n)","zeros(m, n, p, ...)","zeros([m])","zeros([m, n])","zeros([m, n, p, ...])"],description:"Create a matrix containing zeros.",examples:["zeros(3)","zeros(3, 5)","a = [1, 2, 3; 4, 5, 6]","zeros(size(a))"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose"]};Vy.zerosDocs=aEe});var U9=D(Gy=>{"use strict";Object.defineProperty(Gy,"__esModule",{value:!0});Gy.transposeDocs=void 0;var sEe={name:"transpose",category:"Matrix",syntax:["x'","transpose(x)"],description:"Transpose a matrix",examples:["a = [1, 2, 3; 4, 5, 6]","a'","transpose(a)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","zeros"]};Gy.transposeDocs=sEe});var z9=D(Hy=>{"use strict";Object.defineProperty(Hy,"__esModule",{value:!0});Hy.traceDocs=void 0;var oEe={name:"trace",category:"Matrix",syntax:["trace(A)"],description:"Calculate the trace of a matrix: the sum of the elements on the main diagonal of a square matrix.",examples:["A = [1, 2, 3; -1, 2, 3; 2, 0, 3]","trace(A)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","transpose","zeros"]};Hy.traceDocs=oEe});var J9=D(Wy=>{"use strict";Object.defineProperty(Wy,"__esModule",{value:!0});Wy.subsetDocs=void 0;var cEe={name:"subset",category:"Matrix",syntax:["value(index)","value(index) = replacement","subset(value, [index])","subset(value, [index], replacement)"],description:"Get or set a subset of a matrix or string. Indexes are one-based. Both the ranges lower-bound and upper-bound are included.",examples:["d = [1, 2; 3, 4]","e = []","e[1, 1:2] = [5, 6]","e[2, :] = [7, 8]","f = d * e","f[2, 1]","f[:, 1]"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","trace","transpose","zeros"]};Wy.subsetDocs=cEe});var V9=D($y=>{"use strict";Object.defineProperty($y,"__esModule",{value:!0});$y.squeezeDocs=void 0;var uEe={name:"squeeze",category:"Matrix",syntax:["squeeze(x)"],description:"Remove inner and outer singleton dimensions from a matrix.",examples:["a = zeros(3,2,1)","size(squeeze(a))","b = zeros(1,1,3)","size(squeeze(b))"],seealso:["concat","det","diag","identity","inv","ones","range","size","subset","trace","transpose","zeros"]};$y.squeezeDocs=uEe});var G9=D(Qy=>{"use strict";Object.defineProperty(Qy,"__esModule",{value:!0});Qy.sortDocs=void 0;var lEe={name:"sort",category:"Matrix",syntax:["sort(x)","sort(x, compare)"],description:'Sort the items in a matrix. Compare can be a string "asc", "desc", "natural", or a custom sort function.',examples:["sort([5, 10, 1])",'sort(["C", "B", "A", "D"])',"sortByLength(a, b) = size(a)[1] - size(b)[1]",'sort(["Langdon", "Tom", "Sara"], sortByLength)','sort(["10", "1", "2"], "natural")'],seealso:["map","filter","forEach"]};Qy.sortDocs=lEe});var H9=D(Yy=>{"use strict";Object.defineProperty(Yy,"__esModule",{value:!0});Yy.sizeDocs=void 0;var dEe={name:"size",category:"Matrix",syntax:["size(x)"],description:"Calculate the size of a matrix.",examples:["size(2.3)",'size("hello world")',"a = [1, 2; 3, 4; 5, 6]","size(a)","size(1:6)"],seealso:["concat","det","diag","identity","inv","ones","range","squeeze","subset","trace","transpose","zeros"]};Yy.sizeDocs=dEe});var W9=D(Zy=>{"use strict";Object.defineProperty(Zy,"__esModule",{value:!0});Zy.reshapeDocs=void 0;var pEe={name:"reshape",category:"Matrix",syntax:["reshape(x, sizes)"],description:"Reshape a multi dimensional array to fit the specified dimensions.",examples:["reshape([1, 2, 3, 4, 5, 6], [2, 3])","reshape([[1, 2], [3, 4]], [1, 4])","reshape([[1, 2], [3, 4]], [4])"],seealso:["size","squeeze","resize"]};Zy.reshapeDocs=pEe});var $9=D(Xy=>{"use strict";Object.defineProperty(Xy,"__esModule",{value:!0});Xy.resizeDocs=void 0;var fEe={name:"resize",category:"Matrix",syntax:["resize(x, size)","resize(x, size, defaultValue)"],description:"Resize a matrix.",examples:["resize([1,2,3,4,5], [3])","resize([1,2,3], [5])","resize([1,2,3], [5], -1)","resize(2, [2, 3])",'resize("hello", [8], "!")'],seealso:["size","subset","squeeze","reshape"]};Xy.resizeDocs=fEe});var Q9=D(Ky=>{"use strict";Object.defineProperty(Ky,"__esModule",{value:!0});Ky.rangeDocs=void 0;var hEe={name:"range",category:"Type",syntax:["start:end","start:step:end","range(start, end)","range(start, end, step)","range(string)"],description:"Create a range. Lower bound of the range is included, upper bound is excluded.",examples:["1:5","3:-1:-3","range(3, 7)","range(0, 12, 2)",'range("4:10")',"a = [1, 2, 3, 4; 5, 6, 7, 8]","a[1:2, 1:2]"],seealso:["concat","det","diag","identity","inv","ones","size","squeeze","subset","trace","transpose","zeros"]};Ky.rangeDocs=hEe});var Y9=D(eg=>{"use strict";Object.defineProperty(eg,"__esModule",{value:!0});eg.partitionSelectDocs=void 0;var vEe={name:"partitionSelect",category:"Matrix",syntax:["partitionSelect(x, k)","partitionSelect(x, k, compare)"],description:"Partition-based selection of an array or 1D matrix. Will find the kth smallest value, and mutates the input array. Uses Quickselect.",examples:["partitionSelect([5, 10, 1], 2)",'partitionSelect(["C", "B", "A", "D"], 1)'],seealso:["sort"]};eg.partitionSelectDocs=vEe});var Z9=D(rg=>{"use strict";Object.defineProperty(rg,"__esModule",{value:!0});rg.onesDocs=void 0;var mEe={name:"ones",category:"Matrix",syntax:["ones(m)","ones(m, n)","ones(m, n, p, ...)","ones([m])","ones([m, n])","ones([m, n, p, ...])"],description:"Create a matrix containing ones.",examples:["ones(3)","ones(3, 5)","ones([2,3]) * 4.5","a = [1, 2, 3; 4, 5, 6]","ones(size(a))"],seealso:["concat","det","diag","identity","inv","range","size","squeeze","subset","trace","transpose","zeros"]};rg.onesDocs=mEe});var X9=D(tg=>{"use strict";Object.defineProperty(tg,"__esModule",{value:!0});tg.mapDocs=void 0;var yEe={name:"map",category:"Matrix",syntax:["map(x, callback)"],description:"Create a new matrix or array with the results of the callback function executed on each entry of the matrix/array.",examples:["map([1, 2, 3], square)"],seealso:["filter","forEach"]};tg.mapDocs=yEe});var K9=D(ng=>{"use strict";Object.defineProperty(ng,"__esModule",{value:!0});ng.kronDocs=void 0;var gEe={name:"kron",category:"Matrix",syntax:["kron(x, y)"],description:"Calculates the kronecker product of 2 matrices or vectors.",examples:["kron([[1, 0], [0, 1]], [[1, 2], [3, 4]])","kron([1,1], [2,3,4])"],seealso:["multiply","dot","cross"]};ng.kronDocs=gEe});var ez=D(ig=>{"use strict";Object.defineProperty(ig,"__esModule",{value:!0});ig.invDocs=void 0;var bEe={name:"inv",category:"Matrix",syntax:["inv(x)"],description:"Calculate the inverse of a matrix",examples:["inv([1, 2; 3, 4])","inv(4)","1 / 4"],seealso:["concat","det","diag","identity","ones","range","size","squeeze","subset","trace","transpose","zeros"]};ig.invDocs=bEe});var rz=D(ag=>{"use strict";Object.defineProperty(ag,"__esModule",{value:!0});ag.forEachDocs=void 0;var _Ee={name:"forEach",category:"Matrix",syntax:["forEach(x, callback)"],description:"Iterates over all elements of a matrix/array, and executes the given callback function.",examples:["forEach([1, 2, 3], function(val) { console.log(val) })"],seealso:["map","sort","filter"]};ag.forEachDocs=_Ee});var tz=D(sg=>{"use strict";Object.defineProperty(sg,"__esModule",{value:!0});sg.flattenDocs=void 0;var wEe={name:"flatten",category:"Matrix",syntax:["flatten(x)"],description:"Flatten a multi dimensional matrix into a single dimensional matrix.",examples:["a = [1, 2, 3; 4, 5, 6]","size(a)","b = flatten(a)","size(b)"],seealso:["concat","resize","size","squeeze"]};sg.flattenDocs=wEe});var nz=D(og=>{"use strict";Object.defineProperty(og,"__esModule",{value:!0});og.filterDocs=void 0;var SEe={name:"filter",category:"Matrix",syntax:["filter(x, test)"],description:"Filter items in a matrix.",examples:["isPositive(x) = x > 0","filter([6, -2, -1, 4, 3], isPositive)","filter([6, -2, 0, 1, 0], x != 0)"],seealso:["sort","map","forEach"]};og.filterDocs=SEe});var iz=D(cg=>{"use strict";Object.defineProperty(cg,"__esModule",{value:!0});cg.identityDocs=void 0;var xEe={name:"identity",category:"Matrix",syntax:["identity(n)","identity(m, n)","identity([m, n])"],description:"Returns the identity matrix with size m-by-n. The matrix has ones on the diagonal and zeros elsewhere.",examples:["identity(3)","identity(3, 5)","a = [1, 2, 3; 4, 5, 6]","identity(size(a))"],seealso:["concat","det","diag","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]};cg.identityDocs=xEe});var az=D(ug=>{"use strict";Object.defineProperty(ug,"__esModule",{value:!0});ug.getMatrixDataTypeDocs=void 0;var OEe={name:"getMatrixDataType",category:"Matrix",syntax:["getMatrixDataType(x)"],description:'Find the data type of all elements in a matrix or array, for example "number" if all items are a number and "Complex" if all values are complex numbers. If a matrix contains more than one data type, it will return "mixed".',examples:["getMatrixDataType([1, 2, 3])","getMatrixDataType([[5 cm], [2 inch]])",'getMatrixDataType([1, "text"])',"getMatrixDataType([1, bignumber(4)])"],seealso:["matrix","sparse","typeOf"]};ug.getMatrixDataTypeDocs=OEe});var sz=D(lg=>{"use strict";Object.defineProperty(lg,"__esModule",{value:!0});lg.dotDocs=void 0;var DEe={name:"dot",category:"Matrix",syntax:["dot(A, B)","A * B"],description:"Calculate the dot product of two vectors. The dot product of A = [a1, a2, a3, ..., an] and B = [b1, b2, b3, ..., bn] is defined as dot(A, B) = a1 * b1 + a2 * b2 + a3 * b3 + ... + an * bn",examples:["dot([2, 4, 1], [2, 2, 3])","[2, 4, 1] * [2, 2, 3]"],seealso:["multiply","cross"]};lg.dotDocs=DEe});var oz=D(dg=>{"use strict";Object.defineProperty(dg,"__esModule",{value:!0});dg.diagDocs=void 0;var NEe={name:"diag",category:"Matrix",syntax:["diag(x)","diag(x, k)"],description:"Create a diagonal matrix or retrieve the diagonal of a matrix. When x is a vector, a matrix with the vector values on the diagonal will be returned. When x is a matrix, a vector with the diagonal values of the matrix is returned. When k is provided, the k-th diagonal will be filled in or retrieved, if k is positive, the values are placed on the super diagonal. When k is negative, the values are placed on the sub diagonal.",examples:["diag(1:3)","diag(1:3, 1)","a = [1, 2, 3; 4, 5, 6; 7, 8, 9]","diag(a)"],seealso:["concat","det","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]};dg.diagDocs=NEe});var cz=D(pg=>{"use strict";Object.defineProperty(pg,"__esModule",{value:!0});pg.detDocs=void 0;var CEe={name:"det",category:"Matrix",syntax:["det(x)"],description:"Calculate the determinant of a matrix",examples:["det([1, 2; 3, 4])","det([-2, 2, 3; -1, 1, 3; 2, 0, -1])"],seealso:["concat","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]};pg.detDocs=CEe});var uz=D(fg=>{"use strict";Object.defineProperty(fg,"__esModule",{value:!0});fg.ctransposeDocs=void 0;var AEe={name:"ctranspose",category:"Matrix",syntax:["x'","ctranspose(x)"],description:"Complex Conjugate and Transpose a matrix",examples:["a = [1, 2, 3; 4, 5, 6]","a'","ctranspose(a)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","zeros"]};fg.ctransposeDocs=AEe});var lz=D(hg=>{"use strict";Object.defineProperty(hg,"__esModule",{value:!0});hg.crossDocs=void 0;var MEe={name:"cross",category:"Matrix",syntax:["cross(A, B)"],description:"Calculate the cross product for two vectors in three dimensional space.",examples:["cross([1, 1, 0],  [0, 1, 1])","cross([3, -3, 1], [4, 9, 2])","cross([2, 3, 4],  [5, 6, 7])"],seealso:["multiply","dot"]};hg.crossDocs=MEe});var dz=D(vg=>{"use strict";Object.defineProperty(vg,"__esModule",{value:!0});vg.concatDocs=void 0;var PEe={name:"concat",category:"Matrix",syntax:["concat(A, B, C, ...)","concat(A, B, C, ..., dim)"],description:"Concatenate matrices. By default, the matrices are concatenated by the last dimension. The dimension on which to concatenate can be provided as last argument.",examples:["A = [1, 2; 5, 6]","B = [3, 4; 7, 8]","concat(A, B)","concat(A, B, 1)","concat(A, B, 2)"],seealso:["det","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]};vg.concatDocs=PEe});var pz=D(mg=>{"use strict";Object.defineProperty(mg,"__esModule",{value:!0});mg.xorDocs=void 0;var EEe={name:"xor",category:"Logical",syntax:["x xor y","xor(x, y)"],description:"Logical exclusive or, xor. Test whether one and only one value is defined with a nonzero/nonempty value.",examples:["true xor false","false xor false","true xor true","0 xor 4"],seealso:["not","and","or"]};mg.xorDocs=EEe});var fz=D(yg=>{"use strict";Object.defineProperty(yg,"__esModule",{value:!0});yg.orDocs=void 0;var qEe={name:"or",category:"Logical",syntax:["x or y","or(x, y)"],description:"Logical or. Test if at least one value is defined with a nonzero/nonempty value.",examples:["true or false","false or false","0 or 4"],seealso:["not","and","xor"]};yg.orDocs=qEe});var hz=D(gg=>{"use strict";Object.defineProperty(gg,"__esModule",{value:!0});gg.notDocs=void 0;var IEe={name:"not",category:"Logical",syntax:["not x","not(x)"],description:"Logical not. Flips the boolean value of given argument.",examples:["not true","not false","not 2","not 0"],seealso:["and","or","xor"]};gg.notDocs=IEe});var vz=D(bg=>{"use strict";Object.defineProperty(bg,"__esModule",{value:!0});bg.andDocs=void 0;var BEe={name:"and",category:"Logical",syntax:["x and y","and(x, y)"],description:"Logical and. Test whether two values are both defined with a nonzero/nonempty value.",examples:["true and false","true and true","2 and 4"],seealso:["not","or","xor"]};bg.andDocs=BEe});var mz=D(_g=>{"use strict";Object.defineProperty(_g,"__esModule",{value:!0});_g.intersectDocs=void 0;var kEe={name:"intersect",category:"Geometry",syntax:["intersect(expr1, expr2, expr3, expr4)","intersect(expr1, expr2, expr3)"],description:"Computes the intersection point of lines and/or planes.",examples:["intersect([0, 0], [10, 10], [10, 0], [0, 10])","intersect([1, 0, 1],  [4, -2, 2], [1, 1, 1, 6])"],seealso:[]};_g.intersectDocs=kEe});var yz=D(wg=>{"use strict";Object.defineProperty(wg,"__esModule",{value:!0});wg.distanceDocs=void 0;var jEe={name:"distance",category:"Geometry",syntax:["distance([x1, y1], [x2, y2])","distance([[x1, y1], [x2, y2]])"],description:"Calculates the Euclidean distance between two points.",examples:["distance([0,0], [4,4])","distance([[0,0], [4,4]])"],seealso:[]};wg.distanceDocs=jEe});var gz=D(Sg=>{"use strict";Object.defineProperty(Sg,"__esModule",{value:!0});Sg.helpDocs=void 0;var TEe={name:"help",category:"Expression",syntax:["help(object)","help(string)"],description:"Display documentation on a function or data type.",examples:["help(sqrt)",'help("complex")'],seealso:[]};Sg.helpDocs=TEe});var bz=D(xg=>{"use strict";Object.defineProperty(xg,"__esModule",{value:!0});xg.evaluateDocs=void 0;var REe={name:"evaluate",category:"Expression",syntax:["evaluate(expression)","evaluate([expr1, expr2, expr3, ...])"],description:"Evaluate an expression or an array with expressions.",examples:['evaluate("2 + 3")','evaluate("sqrt(" + 4 + ")")'],seealso:[]};xg.evaluateDocs=REe});var _z=D(Og=>{"use strict";Object.defineProperty(Og,"__esModule",{value:!0});Og.imDocs=void 0;var FEe={name:"im",category:"Complex",syntax:["im(x)"],description:"Get the imaginary part of a complex number.",examples:["im(2 + 3i)","re(2 + 3i)","im(-5.2i)","im(2.4)"],seealso:["re","conj","abs","arg"]};Og.imDocs=FEe});var wz=D(Dg=>{"use strict";Object.defineProperty(Dg,"__esModule",{value:!0});Dg.reDocs=void 0;var LEe={name:"re",category:"Complex",syntax:["re(x)"],description:"Get the real part of a complex number.",examples:["re(2 + 3i)","im(2 + 3i)","re(-5.2i)","re(2.4)"],seealso:["im","conj","abs","arg"]};Dg.reDocs=LEe});var Sz=D(Ng=>{"use strict";Object.defineProperty(Ng,"__esModule",{value:!0});Ng.conjDocs=void 0;var UEe={name:"conj",category:"Complex",syntax:["conj(x)"],description:"Compute the complex conjugate of a complex value. If x = a+bi, the complex conjugate is a-bi.",examples:["conj(2 + 3i)","conj(2 - 3i)","conj(-5.2i)"],seealso:["re","im","abs","arg"]};Ng.conjDocs=UEe});var xz=D(Cg=>{"use strict";Object.defineProperty(Cg,"__esModule",{value:!0});Cg.argDocs=void 0;var zEe={name:"arg",category:"Complex",syntax:["arg(x)"],description:"Compute the argument of a complex value. If x = a+bi, the argument is computed as atan2(b, a).",examples:["arg(2 + 2i)","atan2(3, 2)","arg(2 + 3i)"],seealso:["re","im","conj","abs"]};Cg.argDocs=zEe});var Oz=D(Ag=>{"use strict";Object.defineProperty(Ag,"__esModule",{value:!0});Ag.typedDocs=void 0;var JEe={name:"typed",category:"Core",syntax:["typed(signatures)","typed(name, signatures)"],description:"Create a typed function.",examples:['double = typed({ "number, number": f(x)=x+x })',"double(2)",'double("hello")'],seealso:[]};Ag.typedDocs=JEe});var Dz=D(Mg=>{"use strict";Object.defineProperty(Mg,"__esModule",{value:!0});Mg.importDocs=void 0;var VEe={name:"import",category:"Core",syntax:["import(functions)","import(functions, options)"],description:"Import functions or constants from an object.",examples:["import({myFn: f(x)=x^2, myConstant: 32 })","myFn(2)","myConstant"],seealso:[]};Mg.importDocs=VEe});var Nz=D(Pg=>{"use strict";Object.defineProperty(Pg,"__esModule",{value:!0});Pg.configDocs=void 0;var GEe={name:"config",category:"Core",syntax:["config()","config(options)"],description:"Get configuration or change configuration.",examples:["config()","1/3 + 1/4",'config({number: "Fraction"})',"1/3 + 1/4"],seealso:[]};Pg.configDocs=GEe});var Cz=D(Eg=>{"use strict";Object.defineProperty(Eg,"__esModule",{value:!0});Eg.stirlingS2Docs=void 0;var HEe={name:"stirlingS2",category:"Combinatorics",syntax:["stirlingS2(n, k)"],description:"he Stirling numbers of the second kind, counts the number of ways to partition a set of n labelled objects into k nonempty unlabelled subsets. `stirlingS2` only takes integer arguments. The following condition must be enforced: k <= n. If n = k or k = 1, then s(n,k) = 1.",examples:["stirlingS2(5, 3)"],seealso:["bellNumbers"]};Eg.stirlingS2Docs=HEe});var Az=D(qg=>{"use strict";Object.defineProperty(qg,"__esModule",{value:!0});qg.compositionDocs=void 0;var WEe={name:"composition",category:"Combinatorics",syntax:["composition(n, k)"],description:"The composition counts of n into k parts. composition only takes integer arguments. The following condition must be enforced: k <= n.",examples:["composition(5, 3)"],seealso:["combinations"]};qg.compositionDocs=WEe});var Mz=D(Ig=>{"use strict";Object.defineProperty(Ig,"__esModule",{value:!0});Ig.catalanDocs=void 0;var $Ee={name:"catalan",category:"Combinatorics",syntax:["catalan(n)"],description:"The Catalan Numbers enumerate combinatorial structures of many different types. catalan only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["catalan(3)","catalan(8)"],seealso:["bellNumbers"]};Ig.catalanDocs=$Ee});var Pz=D(Bg=>{"use strict";Object.defineProperty(Bg,"__esModule",{value:!0});Bg.bellNumbersDocs=void 0;var QEe={name:"bellNumbers",category:"Combinatorics",syntax:["bellNumbers(n)"],description:"The Bell Numbers count the number of partitions of a set. A partition is a pairwise disjoint subset of S whose union is S. `bellNumbers` only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["bellNumbers(3)","bellNumbers(8)"],seealso:["stirlingS2"]};Bg.bellNumbersDocs=QEe});var Ez=D(kg=>{"use strict";Object.defineProperty(kg,"__esModule",{value:!0});kg.rightLogShiftDocs=void 0;var YEe={name:"rightLogShift",category:"Bitwise",syntax:["x >>> y","rightLogShift(x, y)"],description:"Bitwise right logical shift of a value x by y number of bits.",examples:["8 >>> 1","4 << 1","-12 >>> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightArithShift"]};kg.rightLogShiftDocs=YEe});var qz=D(jg=>{"use strict";Object.defineProperty(jg,"__esModule",{value:!0});jg.rightArithShiftDocs=void 0;var ZEe={name:"rightArithShift",category:"Bitwise",syntax:["x >> y","rightArithShift(x, y)"],description:"Bitwise right arithmetic shift of a value x by y number of bits.",examples:["8 >> 1","4 << 1","-12 >> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightLogShift"]};jg.rightArithShiftDocs=ZEe});var Iz=D(Tg=>{"use strict";Object.defineProperty(Tg,"__esModule",{value:!0});Tg.leftShiftDocs=void 0;var XEe={name:"leftShift",category:"Bitwise",syntax:["x << y","leftShift(x, y)"],description:"Bitwise left logical shift of a value x by y number of bits.",examples:["4 << 1","8 >> 1"],seealso:["bitAnd","bitNot","bitOr","bitXor","rightArithShift","rightLogShift"]};Tg.leftShiftDocs=XEe});var Bz=D(Rg=>{"use strict";Object.defineProperty(Rg,"__esModule",{value:!0});Rg.bitXorDocs=void 0;var KEe={name:"bitXor",category:"Bitwise",syntax:["bitXor(x, y)"],description:"Bitwise XOR operation, exclusive OR. Performs the logical exclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if only the first bit is 1 or only the second bit is 1, but will be 0 if both are 0 or both are 1.",examples:["bitOr(1, 2)","bitXor([2, 3, 4], 4)"],seealso:["bitAnd","bitNot","bitOr","leftShift","rightArithShift","rightLogShift"]};Rg.bitXorDocs=KEe});var kz=D(Fg=>{"use strict";Object.defineProperty(Fg,"__esModule",{value:!0});Fg.bitOrDocs=void 0;var eqe={name:"bitOr",category:"Bitwise",syntax:["x | y","bitOr(x, y)"],description:"Bitwise OR operation. Performs the logical inclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if the first bit is 1 or the second bit is 1 or both bits are 1, otherwise, the result is 0.",examples:["5 | 3","bitOr([1, 2, 3], 4)"],seealso:["bitAnd","bitNot","bitXor","leftShift","rightArithShift","rightLogShift"]};Fg.bitOrDocs=eqe});var jz=D(Lg=>{"use strict";Object.defineProperty(Lg,"__esModule",{value:!0});Lg.bitNotDocs=void 0;var rqe={name:"bitNot",category:"Bitwise",syntax:["~x","bitNot(x)"],description:"Bitwise NOT operation. Performs a logical negation on each bit of the given value. Bits that are 0 become 1, and those that are 1 become 0.",examples:["~1","~2","bitNot([2, -3, 4])"],seealso:["bitAnd","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]};Lg.bitNotDocs=rqe});var Tz=D(Ug=>{"use strict";Object.defineProperty(Ug,"__esModule",{value:!0});Ug.bitAndDocs=void 0;var tqe={name:"bitAnd",category:"Bitwise",syntax:["x & y","bitAnd(x, y)"],description:"Bitwise AND operation. Performs the logical AND operation on each pair of the corresponding bits of the two given values by multiplying them. If both bits in the compared position are 1, the bit in the resulting binary representation is 1, otherwise, the result is 0",examples:["5 & 3","bitAnd(53, 131)","[1, 12, 31] & 42"],seealso:["bitNot","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]};Ug.bitAndDocs=tqe});var Rz=D(zg=>{"use strict";Object.defineProperty(zg,"__esModule",{value:!0});zg.xgcdDocs=void 0;var nqe={name:"xgcd",category:"Arithmetic",syntax:["xgcd(a, b)"],description:"Calculate the extended greatest common divisor for two values. The result is an array [d, x, y] with 3 entries, where d is the greatest common divisor, and d = x * a + y * b.",examples:["xgcd(8, 12)","gcd(8, 12)","xgcd(36163, 21199)"],seealso:["gcd","lcm"]};zg.xgcdDocs=nqe});var Fz=D(Jg=>{"use strict";Object.defineProperty(Jg,"__esModule",{value:!0});Jg.unaryPlusDocs=void 0;var iqe={name:"unaryPlus",category:"Operators",syntax:["+x","unaryPlus(x)"],description:"Converts booleans and strings to numbers.",examples:["+true",'+"2"'],seealso:["add","subtract","unaryMinus"]};Jg.unaryPlusDocs=iqe});var Lz=D(Vg=>{"use strict";Object.defineProperty(Vg,"__esModule",{value:!0});Vg.unaryMinusDocs=void 0;var aqe={name:"unaryMinus",category:"Operators",syntax:["-x","unaryMinus(x)"],description:"Inverse the sign of a value. Converts booleans and strings to numbers.",examples:["-4.5","-(-5.6)",'-"22"'],seealso:["add","subtract","unaryPlus"]};Vg.unaryMinusDocs=aqe});var Uz=D(Gg=>{"use strict";Object.defineProperty(Gg,"__esModule",{value:!0});Gg.squareDocs=void 0;var sqe={name:"square",category:"Arithmetic",syntax:["square(x)"],description:"Compute the square of a value. The square of x is x * x.",examples:["square(3)","sqrt(9)","3^2","3 * 3"],seealso:["multiply","pow","sqrt","cube"]};Gg.squareDocs=sqe});var zz=D(Hg=>{"use strict";Object.defineProperty(Hg,"__esModule",{value:!0});Hg.sqrtmDocs=void 0;var oqe={name:"sqrtm",category:"Arithmetic",syntax:["sqrtm(x)"],description:"Calculate the principal square root of a square matrix. The principal square root matrix `X` of another matrix `A` is such that `X * X = A`.",examples:["sqrtm([[1, 2], [3, 4]])"],seealso:["sqrt","abs","square","multiply"]};Hg.sqrtmDocs=oqe});var Jz=D(Wg=>{"use strict";Object.defineProperty(Wg,"__esModule",{value:!0});Wg.sqrtDocs=void 0;var cqe={name:"sqrt",category:"Arithmetic",syntax:["sqrt(x)"],description:"Compute the square root value. If x = y * y, then y is the square root of x.",examples:["sqrt(25)","5 * 5","sqrt(-1)"],seealso:["square","sqrtm","multiply","nthRoot","nthRoots","pow"]};Wg.sqrtDocs=cqe});var Vz=D($g=>{"use strict";Object.defineProperty($g,"__esModule",{value:!0});$g.signDocs=void 0;var uqe={name:"sign",category:"Arithmetic",syntax:["sign(x)"],description:"Compute the sign of a value. The sign of a value x is 1 when x>1, -1 when x<0, and 0 when x=0.",examples:["sign(3.5)","sign(-4.2)","sign(0)"],seealso:["abs"]};$g.signDocs=uqe});var Gz=D(Qg=>{"use strict";Object.defineProperty(Qg,"__esModule",{value:!0});Qg.roundDocs=void 0;var lqe={name:"round",category:"Arithmetic",syntax:["round(x)","round(x, n)"],description:"round a value towards the nearest integer.If x is complex, both real and imaginary part are rounded towards the nearest integer. When n is specified, the value is rounded to n decimals.",examples:["round(3.2)","round(3.8)","round(-4.2)","round(-4.8)","round(pi, 3)","round(123.45678, 2)"],seealso:["ceil","floor","fix"]};Qg.roundDocs=lqe});var Hz=D(Yg=>{"use strict";Object.defineProperty(Yg,"__esModule",{value:!0});Yg.powDocs=void 0;var dqe={name:"pow",category:"Operators",syntax:["x ^ y","pow(x, y)"],description:"Calculates the power of x to y, x^y.",examples:["2^3","2*2*2","1 + e ^ (pi * i)"],seealso:["multiply","nthRoot","nthRoots","sqrt"]};Yg.powDocs=dqe});var Wz=D(Zg=>{"use strict";Object.defineProperty(Zg,"__esModule",{value:!0});Zg.nthRootsDocs=void 0;var pqe={name:"nthRoots",category:"Arithmetic",syntax:["nthRoots(A)","nthRoots(A, root)"],description:'Calculate the nth roots of a value. An nth root of a positive real number A, is a positive real solution of the equation "x^root = A". This function returns an array of complex values.',examples:["nthRoots(1)","nthRoots(1, 3)"],seealso:["sqrt","pow","nthRoot"]};Zg.nthRootsDocs=pqe});var $z=D(Xg=>{"use strict";Object.defineProperty(Xg,"__esModule",{value:!0});Xg.nthRootDocs=void 0;var fqe={name:"nthRoot",category:"Arithmetic",syntax:["nthRoot(a)","nthRoot(a, root)"],description:'Calculate the nth root of a value. The principal nth root of a positive real number A, is the positive real solution of the equation "x^root = A".',examples:["4 ^ 3","nthRoot(64, 3)","nthRoot(9, 2)","sqrt(9)"],seealso:["nthRoots","pow","sqrt"]};Xg.nthRootDocs=fqe});var Qz=D(Kg=>{"use strict";Object.defineProperty(Kg,"__esModule",{value:!0});Kg.normDocs=void 0;var hqe={name:"norm",category:"Arithmetic",syntax:["norm(x)","norm(x, p)"],description:"Calculate the norm of a number, vector or matrix.",examples:["abs(-3.5)","norm(-3.5)","norm(3 - 4i)","norm([1, 2, -3], Infinity)","norm([1, 2, -3], -Infinity)","norm([3, 4], 2)","norm([[1, 2], [3, 4]], 1)",'norm([[1, 2], [3, 4]], "inf")','norm([[1, 2], [3, 4]], "fro")']};Kg.normDocs=hqe});var Yz=D(eb=>{"use strict";Object.defineProperty(eb,"__esModule",{value:!0});eb.multiplyDocs=void 0;var vqe={name:"multiply",category:"Operators",syntax:["x * y","multiply(x, y)"],description:"multiply two values.",examples:["a = 2.1 * 3.4","a / 3.4","2 * 3 + 4","2 * (3 + 4)","3 * 2.1 km"],seealso:["divide"]};eb.multiplyDocs=vqe});var Zz=D(rb=>{"use strict";Object.defineProperty(rb,"__esModule",{value:!0});rb.modDocs=void 0;var mqe={name:"mod",category:"Operators",syntax:["x % y","x mod y","mod(x, y)"],description:"Calculates the modulus, the remainder of an integer division.",examples:["7 % 3","11 % 2","10 mod 4","isOdd(x) = x % 2","isOdd(2)","isOdd(3)"],seealso:["divide"]};rb.modDocs=mqe});var Xz=D(tb=>{"use strict";Object.defineProperty(tb,"__esModule",{value:!0});tb.log10Docs=void 0;var yqe={name:"log10",category:"Arithmetic",syntax:["log10(x)"],description:"Compute the 10-base logarithm of a value.",examples:["log10(0.00001)","log10(10000)","10 ^ 4","log(10000) / log(10)","log(10000, 10)"],seealso:["exp","log"]};tb.log10Docs=yqe});var Kz=D(nb=>{"use strict";Object.defineProperty(nb,"__esModule",{value:!0});nb.log1pDocs=void 0;var gqe={name:"log1p",category:"Arithmetic",syntax:["log1p(x)","log1p(x, base)"],description:"Calculate the logarithm of a `value+1`",examples:["log1p(2.5)","exp(log1p(1.4))","pow(10, 4)","log1p(9999, 10)","log1p(9999) / log(10)"],seealso:["exp","log","log2","log10"]};nb.log1pDocs=gqe});var e7=D(ib=>{"use strict";Object.defineProperty(ib,"__esModule",{value:!0});ib.log2Docs=void 0;var bqe={name:"log2",category:"Arithmetic",syntax:["log2(x)"],description:"Calculate the 2-base of a value. This is the same as calculating `log(x, 2)`.",examples:["log2(0.03125)","log2(16)","log2(16) / log2(2)","pow(2, 4)"],seealso:["exp","log1p","log","log10"]};ib.log2Docs=bqe});var r7=D(ab=>{"use strict";Object.defineProperty(ab,"__esModule",{value:!0});ab.logDocs=void 0;var _qe={name:"log",category:"Arithmetic",syntax:["log(x)","log(x, base)"],description:"Compute the logarithm of a value. If no base is provided, the natural logarithm of x is calculated. If base if provided, the logarithm is calculated for the specified base. log(x, base) is defined as log(x) / log(base).",examples:["log(3.5)","a = log(2.4)","exp(a)","10 ^ 4","log(10000, 10)","log(10000) / log(10)","b = log(1024, 2)","2 ^ b"],seealso:["exp","log1p","log2","log10"]};ab.logDocs=_qe});var t7=D(sb=>{"use strict";Object.defineProperty(sb,"__esModule",{value:!0});sb.lcmDocs=void 0;var wqe={name:"lcm",category:"Arithmetic",syntax:["lcm(x, y)"],description:"Compute the least common multiple.",examples:["lcm(4, 6)","lcm(6, 21)","lcm(6, 21, 5)"],seealso:["gcd"]};sb.lcmDocs=wqe});var n7=D(ob=>{"use strict";Object.defineProperty(ob,"__esModule",{value:!0});ob.hypotDocs=void 0;var Sqe={name:"hypot",category:"Arithmetic",syntax:["hypot(a, b, c, ...)","hypot([a, b, c, ...])"],description:"Calculate the hypotenusa of a list with values. ",examples:["hypot(3, 4)","sqrt(3^2 + 4^2)","hypot(-2)","hypot([3, 4, 5])"],seealso:["abs","norm"]};ob.hypotDocs=Sqe});var i7=D(cb=>{"use strict";Object.defineProperty(cb,"__esModule",{value:!0});cb.gcdDocs=void 0;var xqe={name:"gcd",category:"Arithmetic",syntax:["gcd(a, b)","gcd(a, b, c, ...)"],description:"Compute the greatest common divisor.",examples:["gcd(8, 12)","gcd(-4, 6)","gcd(25, 15, -10)"],seealso:["lcm","xgcd"]};cb.gcdDocs=xqe});var a7=D(ub=>{"use strict";Object.defineProperty(ub,"__esModule",{value:!0});ub.floorDocs=void 0;var Oqe={name:"floor",category:"Arithmetic",syntax:["floor(x)"],description:"Round a value towards minus infinity.If x is complex, both real and imaginary part are rounded towards minus infinity.",examples:["floor(3.2)","floor(3.8)","floor(-4.2)"],seealso:["ceil","fix","round"]};ub.floorDocs=Oqe});var s7=D(lb=>{"use strict";Object.defineProperty(lb,"__esModule",{value:!0});lb.fixDocs=void 0;var Dqe={name:"fix",category:"Arithmetic",syntax:["fix(x)"],description:"Round a value towards zero. If x is complex, both real and imaginary part are rounded towards zero.",examples:["fix(3.2)","fix(3.8)","fix(-4.2)","fix(-4.8)"],seealso:["ceil","floor","round"]};lb.fixDocs=Dqe});var o7=D(db=>{"use strict";Object.defineProperty(db,"__esModule",{value:!0});db.expm1Docs=void 0;var Nqe={name:"expm1",category:"Arithmetic",syntax:["expm1(x)"],description:"Calculate the value of subtracting 1 from the exponential value.",examples:["expm1(2)","pow(e, 2) - 1","log(expm1(2) + 1)"],seealso:["exp","pow","log"]};db.expm1Docs=Nqe});var c7=D(pb=>{"use strict";Object.defineProperty(pb,"__esModule",{value:!0});pb.expmDocs=void 0;var Cqe={name:"expm",category:"Arithmetic",syntax:["exp(x)"],description:"Compute the matrix exponential, expm(A) = e^A. The matrix must be square. Not to be confused with exp(a), which performs element-wise exponentiation.",examples:["expm([[0,2],[0,0]])"],seealso:["exp"]};pb.expmDocs=Cqe});var u7=D(fb=>{"use strict";Object.defineProperty(fb,"__esModule",{value:!0});fb.eigsDocs=void 0;var Aqe={name:"eigs",category:"Matrix",syntax:["eigs(x)"],description:"Calculate the eigenvalues and eigenvectors of a real symmetric matrix",examples:["eigs([[5, 2.3], [2.3, 1]])"],seealso:["inv"]};fb.eigsDocs=Aqe});var l7=D(hb=>{"use strict";Object.defineProperty(hb,"__esModule",{value:!0});hb.expDocs=void 0;var Mqe={name:"exp",category:"Arithmetic",syntax:["exp(x)"],description:"Calculate the exponent of a value.",examples:["exp(1.3)","e ^ 1.3","log(exp(1.3))","x = 2.4","(exp(i*x) == cos(x) + i*sin(x))   # Euler's formula"],seealso:["expm","expm1","pow","log"]};hb.expDocs=Mqe});var d7=D(vb=>{"use strict";Object.defineProperty(vb,"__esModule",{value:!0});vb.dotMultiplyDocs=void 0;var Pqe={name:"dotMultiply",category:"Operators",syntax:["x .* y","dotMultiply(x, y)"],description:"Multiply two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a .* b"],seealso:["multiply","divide","dotDivide"]};vb.dotMultiplyDocs=Pqe});var p7=D(mb=>{"use strict";Object.defineProperty(mb,"__esModule",{value:!0});mb.dotDivideDocs=void 0;var Eqe={name:"dotDivide",category:"Operators",syntax:["x ./ y","dotDivide(x, y)"],description:"Divide two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a ./ b"],seealso:["multiply","dotMultiply","divide"]};mb.dotDivideDocs=Eqe});var f7=D(yb=>{"use strict";Object.defineProperty(yb,"__esModule",{value:!0});yb.divideDocs=void 0;var qqe={name:"divide",category:"Operators",syntax:["x / y","divide(x, y)"],description:"Divide two values.",examples:["a = 2 / 3","a * 3","4.5 / 2","3 + 4 / 2","(3 + 4) / 2","18 km / 4.5"],seealso:["multiply"]};yb.divideDocs=qqe});var h7=D(gb=>{"use strict";Object.defineProperty(gb,"__esModule",{value:!0});gb.cubeDocs=void 0;var Iqe={name:"cube",category:"Arithmetic",syntax:["cube(x)"],description:"Compute the cube of a value. The cube of x is x * x * x.",examples:["cube(2)","2^3","2 * 2 * 2"],seealso:["multiply","square","pow"]};gb.cubeDocs=Iqe});var v7=D(bb=>{"use strict";Object.defineProperty(bb,"__esModule",{value:!0});bb.ceilDocs=void 0;var Bqe={name:"ceil",category:"Arithmetic",syntax:["ceil(x)"],description:"Round a value towards plus infinity. If x is complex, both real and imaginary part are rounded towards plus infinity.",examples:["ceil(3.2)","ceil(3.8)","ceil(-4.2)"],seealso:["floor","fix","round"]};bb.ceilDocs=Bqe});var m7=D(_b=>{"use strict";Object.defineProperty(_b,"__esModule",{value:!0});_b.cbrtDocs=void 0;var kqe={name:"cbrt",category:"Arithmetic",syntax:["cbrt(x)","cbrt(x, allRoots)"],description:"Compute the cubic root value. If x = y * y * y, then y is the cubic root of x. When `x` is a number or complex number, an optional second argument `allRoots` can be provided to return all three cubic roots. If not provided, the principal root is returned",examples:["cbrt(64)","cube(4)","cbrt(-8)","cbrt(2 + 3i)","cbrt(8i)","cbrt(8i, true)","cbrt(27 m^3)"],seealso:["square","sqrt","cube","multiply"]};_b.cbrtDocs=kqe});var y7=D(wb=>{"use strict";Object.defineProperty(wb,"__esModule",{value:!0});wb.addDocs=void 0;var jqe={name:"add",category:"Operators",syntax:["x + y","add(x, y)"],description:"Add two values.",examples:["a = 2.1 + 3.6","a - 3.6","3 + 2i","3 cm + 2 inch",'"2.3" + "4"'],seealso:["subtract"]};wb.addDocs=jqe});var g7=D(Sb=>{"use strict";Object.defineProperty(Sb,"__esModule",{value:!0});Sb.absDocs=void 0;var Tqe={name:"abs",category:"Arithmetic",syntax:["abs(x)"],description:"Compute the absolute value.",examples:["abs(3.5)","abs(-4.2)"],seealso:["sign"]};Sb.absDocs=Tqe});var b7=D(xb=>{"use strict";Object.defineProperty(xb,"__esModule",{value:!0});xb.qrDocs=void 0;var Rqe={name:"qr",category:"Algebra",syntax:["qr(A)"],description:"Calculates the Matrix QR decomposition. Matrix `A` is decomposed in two matrices (`Q`, `R`) where `Q` is an orthogonal matrix and `R` is an upper triangular matrix.",examples:["qr([[1, -1,  4], [1,  4, -2], [1,  4,  2], [1,  -1, 0]])"],seealso:["lup","slu","matrix"]};xb.qrDocs=Rqe});var _7=D(Ob=>{"use strict";Object.defineProperty(Ob,"__esModule",{value:!0});Ob.usolveDocs=void 0;var Fqe={name:"usolve",category:"Algebra",syntax:["x=usolve(U, b)"],description:"Solves the linear system U * x = b where U is an [n x n] upper triangular matrix and b is a [n] column vector.",examples:["x=usolve(sparse([1, 1, 1, 1; 0, 1, 1, 1; 0, 0, 1, 1; 0, 0, 0, 1]), [1; 2; 3; 4])"],seealso:["lup","lusolve","lsolve","matrix","sparse"]};Ob.usolveDocs=Fqe});var w7=D(Db=>{"use strict";Object.defineProperty(Db,"__esModule",{value:!0});Db.sluDocs=void 0;var Lqe={name:"slu",category:"Algebra",syntax:["slu(A, order, threshold)"],description:"Calculate the Matrix LU decomposition with full pivoting. Matrix A is decomposed in two matrices (L, U) and two permutation vectors (pinv, q) where P * A * Q = L * U",examples:["slu(sparse([4.5, 0, 3.2, 0; 3.1, 2.9, 0, 0.9; 0, 1.7, 3, 0; 3.5, 0.4, 0, 1]), 1, 0.001)"],seealso:["lusolve","lsolve","usolve","matrix","sparse","lup","qr"]};Db.sluDocs=Lqe});var S7=D(Nb=>{"use strict";Object.defineProperty(Nb,"__esModule",{value:!0});Nb.rationalizeDocs=void 0;var Uqe={name:"rationalize",category:"Algebra",syntax:["rationalize(expr)","rationalize(expr, scope)","rationalize(expr, scope, detailed)"],description:"Transform a rationalizable expression in a rational fraction. If rational fraction is one variable polynomial then converts the numerator and denominator in canonical form, with decreasing exponents, returning the coefficients of numerator.",examples:['rationalize("2x/y - y/(x+1)")','rationalize("2x/y - y/(x+1)", true)'],seealso:["simplify"]};Nb.rationalizeDocs=Uqe});var x7=D(Cb=>{"use strict";Object.defineProperty(Cb,"__esModule",{value:!0});Cb.simplifyDocs=void 0;var zqe={name:"simplify",category:"Algebra",syntax:["simplify(expr)","simplify(expr, rules)"],description:"Simplify an expression tree.",examples:['simplify("3 + 2 / 4")','simplify("2x + x")','f = parse("x * (x + 2 + x)")',"simplified = simplify(f)","simplified.evaluate({x: 2})"],seealso:["derivative","parse","evaluate"]};Cb.simplifyDocs=zqe});var O7=D(Ab=>{"use strict";Object.defineProperty(Ab,"__esModule",{value:!0});Ab.lupDocs=void 0;var Jqe={name:"lup",category:"Algebra",syntax:["lup(m)"],description:"Calculate the Matrix LU decomposition with partial pivoting. Matrix A is decomposed in three matrices (L, U, P) where P * A = L * U",examples:["lup([[2, 1], [1, 4]])","lup(matrix([[2, 1], [1, 4]]))","lup(sparse([[2, 1], [1, 4]]))"],seealso:["lusolve","lsolve","usolve","matrix","sparse","slu","qr"]};Ab.lupDocs=Jqe});var D7=D(Mb=>{"use strict";Object.defineProperty(Mb,"__esModule",{value:!0});Mb.lsolveDocs=void 0;var Vqe={name:"lsolve",category:"Algebra",syntax:["x=lsolve(L, b)"],description:"Solves the linear system L * x = b where L is an [n x n] lower triangular matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lsolve(a, b)"],seealso:["lup","lusolve","usolve","matrix","sparse"]};Mb.lsolveDocs=Vqe});var N7=D(Pb=>{"use strict";Object.defineProperty(Pb,"__esModule",{value:!0});Pb.derivativeDocs=void 0;var Gqe={name:"derivative",category:"Algebra",syntax:["derivative(expr, variable)","derivative(expr, variable, {simplify: boolean})"],description:"Takes the derivative of an expression expressed in parser Nodes. The derivative will be taken over the supplied variable in the second parameter. If there are multiple variables in the expression, it will return a partial derivative.",examples:['derivative("2x^3", "x")','derivative("2x^3", "x", {simplify: false})','derivative("2x^2 + 3x + 4", "x")','derivative("sin(2x)", "x")','f = parse("x^2 + x")','x = parse("x")',"df = derivative(f, x)","df.evaluate({x: 3})"],seealso:["simplify","parse","evaluate"]};Pb.derivativeDocs=Gqe});var C7=D(Eb=>{"use strict";Object.defineProperty(Eb,"__esModule",{value:!0});Eb.versionDocs=void 0;var Hqe={name:"version",category:"Constants",syntax:["version"],description:"A string with the version number of math.js",examples:["version"],seealso:[]};Eb.versionDocs=Hqe});var A7=D(qb=>{"use strict";Object.defineProperty(qb,"__esModule",{value:!0});qb.trueDocs=void 0;var Wqe={name:"true",category:"Constants",syntax:["true"],description:"Boolean value true",examples:["true"],seealso:["false"]};qb.trueDocs=Wqe});var M7=D(Ib=>{"use strict";Object.defineProperty(Ib,"__esModule",{value:!0});Ib.tauDocs=void 0;var $qe={name:"tau",category:"Constants",syntax:["tau"],description:"Tau is the ratio constant of a circle's circumference to radius, equal to 2 * pi, approximately 6.2832.",examples:["tau","2 * pi"],seealso:["pi"]};Ib.tauDocs=$qe});var P7=D(Bb=>{"use strict";Object.defineProperty(Bb,"__esModule",{value:!0});Bb.SQRT2Docs=void 0;var Qqe={name:"SQRT2",category:"Constants",syntax:["SQRT2"],description:"Returns the square root of 2, approximately equal to 1.414",examples:["SQRT2","sqrt(2)"],seealso:[]};Bb.SQRT2Docs=Qqe});var E7=D(kb=>{"use strict";Object.defineProperty(kb,"__esModule",{value:!0});kb.SQRT12Docs=void 0;var Yqe={name:"SQRT1_2",category:"Constants",syntax:["SQRT1_2"],description:"Returns the square root of 1/2, approximately equal to 0.707",examples:["SQRT1_2","sqrt(1/2)"],seealso:[]};kb.SQRT12Docs=Yqe});var q7=D(jb=>{"use strict";Object.defineProperty(jb,"__esModule",{value:!0});jb.phiDocs=void 0;var Zqe={name:"phi",category:"Constants",syntax:["phi"],description:"Phi is the golden ratio. Two quantities are in the golden ratio if their ratio is the same as the ratio of their sum to the larger of the two quantities. Phi is defined as `(1 + sqrt(5)) / 2` and is approximately 1.618034...",examples:["phi"],seealso:[]};jb.phiDocs=Zqe});var I7=D(Tb=>{"use strict";Object.defineProperty(Tb,"__esModule",{value:!0});Tb.piDocs=void 0;var Xqe={name:"pi",category:"Constants",syntax:["pi"],description:"The number pi is a mathematical constant that is the ratio of a circle's circumference to its diameter, and is approximately equal to 3.14159",examples:["pi","sin(pi/2)"],seealso:["tau"]};Tb.piDocs=Xqe});var B7=D(Rb=>{"use strict";Object.defineProperty(Rb,"__esModule",{value:!0});Rb.nullDocs=void 0;var Kqe={name:"null",category:"Constants",syntax:["null"],description:"Value null",examples:["null"],seealso:["true","false"]};Rb.nullDocs=Kqe});var k7=D(Fb=>{"use strict";Object.defineProperty(Fb,"__esModule",{value:!0});Fb.NaNDocs=void 0;var eIe={name:"NaN",category:"Constants",syntax:["NaN"],description:"Not a number",examples:["NaN","0 / 0"],seealso:[]};Fb.NaNDocs=eIe});var j7=D(Lb=>{"use strict";Object.defineProperty(Lb,"__esModule",{value:!0});Lb.LOG10EDocs=void 0;var rIe={name:"LOG10E",category:"Constants",syntax:["LOG10E"],description:"Returns the base-10 logarithm of E, approximately equal to 0.434",examples:["LOG10E","log(e, 10)"],seealso:[]};Lb.LOG10EDocs=rIe});var T7=D(Ub=>{"use strict";Object.defineProperty(Ub,"__esModule",{value:!0});Ub.LOG2EDocs=void 0;var tIe={name:"LOG2E",category:"Constants",syntax:["LOG2E"],description:"Returns the base-2 logarithm of E, approximately equal to 1.442",examples:["LOG2E","log(e, 2)"],seealso:[]};Ub.LOG2EDocs=tIe});var R7=D(zb=>{"use strict";Object.defineProperty(zb,"__esModule",{value:!0});zb.LN10Docs=void 0;var nIe={name:"LN10",category:"Constants",syntax:["LN10"],description:"Returns the natural logarithm of 10, approximately equal to 2.302",examples:["LN10","log(10)"],seealso:[]};zb.LN10Docs=nIe});var F7=D(Jb=>{"use strict";Object.defineProperty(Jb,"__esModule",{value:!0});Jb.LN2Docs=void 0;var iIe={name:"LN2",category:"Constants",syntax:["LN2"],description:"Returns the natural logarithm of 2, approximately equal to 0.693",examples:["LN2","log(2)"],seealso:[]};Jb.LN2Docs=iIe});var L7=D(Vb=>{"use strict";Object.defineProperty(Vb,"__esModule",{value:!0});Vb.InfinityDocs=void 0;var aIe={name:"Infinity",category:"Constants",syntax:["Infinity"],description:"Infinity, a number which is larger than the maximum number that can be handled by a floating point number.",examples:["Infinity","1 / 0"],seealso:[]};Vb.InfinityDocs=aIe});var U7=D(Gb=>{"use strict";Object.defineProperty(Gb,"__esModule",{value:!0});Gb.iDocs=void 0;var sIe={name:"i",category:"Constants",syntax:["i"],description:"Imaginary unit, defined as i*i=-1. A complex number is described as a + b*i, where a is the real part, and b is the imaginary part.",examples:["i","i * i","sqrt(-1)"],seealso:[]};Gb.iDocs=sIe});var z7=D(Hb=>{"use strict";Object.defineProperty(Hb,"__esModule",{value:!0});Hb.falseDocs=void 0;var oIe={name:"false",category:"Constants",syntax:["false"],description:"Boolean value false",examples:["false"],seealso:["true"]};Hb.falseDocs=oIe});var J7=D(Wb=>{"use strict";Object.defineProperty(Wb,"__esModule",{value:!0});Wb.eDocs=void 0;var cIe={name:"e",category:"Constants",syntax:["e"],description:"Euler's number, the base of the natural logarithm. Approximately equal to 2.71828",examples:["e","e ^ 2","exp(2)","log(e)"],seealso:["exp"]};Wb.eDocs=cIe});var V7=D($b=>{"use strict";Object.defineProperty($b,"__esModule",{value:!0});$b.unitDocs=void 0;var uIe={name:"unit",category:"Construction",syntax:["value unit","unit(value, unit)","unit(string)"],description:"Create a unit.",examples:["5.5 mm","3 inch",'unit(7.1, "kilogram")','unit("23 deg")'],seealso:["bignumber","boolean","complex","index","matrix","number","string"]};$b.unitDocs=uIe});var G7=D(Qb=>{"use strict";Object.defineProperty(Qb,"__esModule",{value:!0});Qb.stringDocs=void 0;var lIe={name:"string",category:"Construction",syntax:['"text"',"string(x)"],description:"Create a string or convert a value to a string",examples:['"Hello World!"',"string(4.2)","string(3 + 2i)"],seealso:["bignumber","boolean","complex","index","matrix","number","unit"]};Qb.stringDocs=lIe});var H7=D(Yb=>{"use strict";Object.defineProperty(Yb,"__esModule",{value:!0});Yb.splitUnitDocs=void 0;var dIe={name:"splitUnit",category:"Construction",syntax:["splitUnit(unit: Unit, parts: Unit[])"],description:"Split a unit in an array of units whose sum is equal to the original unit.",examples:['splitUnit(1 m, ["feet", "inch"])'],seealso:["unit","createUnit"]};Yb.splitUnitDocs=dIe});var W7=D(Zb=>{"use strict";Object.defineProperty(Zb,"__esModule",{value:!0});Zb.sparseDocs=void 0;var pIe={name:"sparse",category:"Construction",syntax:["sparse()","sparse([a1, b1, ...; a1, b2, ...])",'sparse([a1, b1, ...; a1, b2, ...], "number")'],description:"Create a sparse matrix.",examples:["sparse()","sparse([3, 4; 5, 6])",'sparse([3, 0; 5, 0], "number")'],seealso:["bignumber","boolean","complex","index","number","string","unit","matrix"]};Zb.sparseDocs=pIe});var $7=D(Xb=>{"use strict";Object.defineProperty(Xb,"__esModule",{value:!0});Xb.numberDocs=void 0;var fIe={name:"number",category:"Construction",syntax:["x","number(x)","number(unit, valuelessUnit)"],description:"Create a number or convert a string or boolean into a number.",examples:["2","2e3","4.05","number(2)",'number("7.2")',"number(true)","number([true, false, true, true])",'number(unit("52cm"), "m")'],seealso:["bignumber","boolean","complex","fraction","index","matrix","string","unit"]};Xb.numberDocs=fIe});var Q7=D(Kb=>{"use strict";Object.defineProperty(Kb,"__esModule",{value:!0});Kb.matrixDocs=void 0;var hIe={name:"matrix",category:"Construction",syntax:["[]","[a1, b1, ...; a2, b2, ...]","matrix()",'matrix("dense")',"matrix([...])"],description:"Create a matrix.",examples:["[]","[1, 2, 3]","[1, 2, 3; 4, 5, 6]","matrix()","matrix([3, 4])",'matrix([3, 4; 5, 6], "sparse")','matrix([3, 4; 5, 6], "sparse", "number")'],seealso:["bignumber","boolean","complex","index","number","string","unit","sparse"]};Kb.matrixDocs=hIe});var Y7=D(e0=>{"use strict";Object.defineProperty(e0,"__esModule",{value:!0});e0.indexDocs=void 0;var vIe={name:"index",category:"Construction",syntax:["[start]","[start:end]","[start:step:end]","[start1, start 2, ...]","[start1:end1, start2:end2, ...]","[start1:step1:end1, start2:step2:end2, ...]"],description:"Create an index to get or replace a subset of a matrix",examples:["[]","[1, 2, 3]","A = [1, 2, 3; 4, 5, 6]","A[1, :]","A[1, 2] = 50","A[0:2, 0:2] = ones(2, 2)"],seealso:["bignumber","boolean","complex","matrix,","number","range","string","unit"]};e0.indexDocs=vIe});var Z7=D(r0=>{"use strict";Object.defineProperty(r0,"__esModule",{value:!0});r0.fractionDocs=void 0;var mIe={name:"fraction",category:"Construction",syntax:["fraction(num)","fraction(num,den)"],description:"Create a fraction from a number or from a numerator and denominator.",examples:["fraction(0.125)","fraction(1, 3) + fraction(2, 5)"],seealso:["bignumber","boolean","complex","index","matrix","string","unit"]};r0.fractionDocs=mIe});var X7=D(t0=>{"use strict";Object.defineProperty(t0,"__esModule",{value:!0});t0.createUnitDocs=void 0;var yIe={name:"createUnit",category:"Construction",syntax:["createUnit(definitions)","createUnit(name, definition)"],description:"Create a user-defined unit and register it with the Unit type.",examples:['createUnit("foo")','createUnit("knot", {definition: "0.514444444 m/s", aliases: ["knots", "kt", "kts"]})','createUnit("mph", "1 mile/hour")'],seealso:["unit","splitUnit"]};t0.createUnitDocs=yIe});var K7=D(n0=>{"use strict";Object.defineProperty(n0,"__esModule",{value:!0});n0.complexDocs=void 0;var gIe={name:"complex",category:"Construction",syntax:["complex()","complex(re, im)","complex(string)"],description:"Create a complex number.",examples:["complex()","complex(2, 3)",'complex("7 - 2i")'],seealso:["bignumber","boolean","index","matrix","number","string","unit"]};n0.complexDocs=gIe});var eJ=D(i0=>{"use strict";Object.defineProperty(i0,"__esModule",{value:!0});i0.booleanDocs=void 0;var bIe={name:"boolean",category:"Construction",syntax:["x","boolean(x)"],description:"Convert a string or number into a boolean.",examples:["boolean(0)","boolean(1)","boolean(3)",'boolean("true")','boolean("false")',"boolean([1, 0, 1, 1])"],seealso:["bignumber","complex","index","matrix","number","string","unit"]};i0.booleanDocs=bIe});var rJ=D(a0=>{"use strict";Object.defineProperty(a0,"__esModule",{value:!0});a0.dotPowDocs=void 0;var _Ie={name:"dotPow",category:"Operators",syntax:["x .^ y","dotPow(x, y)"],description:"Calculates the power of x to y element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","a .^ 2"],seealso:["pow"]};a0.dotPowDocs=_Ie});var tJ=D(s0=>{"use strict";Object.defineProperty(s0,"__esModule",{value:!0});s0.lusolveDocs=void 0;var wIe={name:"lusolve",category:"Algebra",syntax:["x=lusolve(A, b)","x=lusolve(lu, b)"],description:"Solves the linear system A * x = b where A is an [n x n] matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lusolve(a, b)"],seealso:["lup","slu","lsolve","usolve","matrix","sparse"]};s0.lusolveDocs=wIe});var nJ=D(o0=>{"use strict";Object.defineProperty(o0,"__esModule",{value:!0});o0.subtractDocs=void 0;var SIe={name:"subtract",category:"Operators",syntax:["x - y","subtract(x, y)"],description:"subtract two values.",examples:["a = 5.3 - 2","a + 2","2/3 - 1/6","2 * 3 - 3","2.1 km - 500m"],seealso:["add"]};o0.subtractDocs=SIe});var iJ=D(c0=>{"use strict";Object.defineProperty(c0,"__esModule",{value:!0});c0.varianceDocs=void 0;var xIe={name:"variance",category:"Statistics",syntax:["variance(a, b, c, ...)","variance(A)","variance(A, normalization)"],description:'Compute the variance of all values. Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["variance(2, 4, 6)","variance([2, 4, 6, 8])",'variance([2, 4, 6, 8], "uncorrected")','variance([2, 4, 6, 8], "biased")',"variance([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","min","prod","std","sum"]};c0.varianceDocs=xIe});var aJ=D(u0=>{"use strict";Object.defineProperty(u0,"__esModule",{value:!0});u0.sinDocs=void 0;var OIe={name:"sin",category:"Trigonometry",syntax:["sin(x)"],description:"Compute the sine of x in radians.",examples:["sin(2)","sin(pi / 4) ^ 2","sin(90 deg)","sin(30 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["asin","cos","tan"]};u0.sinDocs=OIe});var sJ=D(l0=>{"use strict";Object.defineProperty(l0,"__esModule",{value:!0});l0.numericDocs=void 0;var DIe={name:"numeric",category:"Utils",syntax:["numeric(x)"],description:"Convert a numeric input to a specific numeric type: number, BigNumber, or Fraction.",examples:['numeric("4")','numeric("4", "number")','numeric("4", "BigNumber")','numeric("4", "Fraction)','numeric(4, "Fraction")','numeric(fraction(2, 5), "number)'],seealso:["number","fraction","bignumber","string","format"]};l0.numericDocs=DIe});var oJ=D(d0=>{"use strict";Object.defineProperty(d0,"__esModule",{value:!0});d0.columnDocs=void 0;var NIe={name:"column",category:"Matrix",syntax:["column(x, index)"],description:"Return a column from a matrix or array.",examples:["A = [[1, 2], [3, 4]]","column(A, 1)","column(A, 2)"],seealso:["row"]};d0.columnDocs=NIe});var cJ=D(p0=>{"use strict";Object.defineProperty(p0,"__esModule",{value:!0});p0.rowDocs=void 0;var CIe={name:"row",category:"Matrix",syntax:["row(x, index)"],description:"Return a row from a matrix or array.",examples:["A = [[1, 2], [3, 4]]","row(A, 1)","row(A, 2)"],seealso:["column"]};p0.rowDocs=CIe});var kA=D(f0=>{"use strict";Object.defineProperty(f0,"__esModule",{value:!0});f0.embeddedDocs=void 0;var AIe=vU(),uJ=mU(),MIe=yU(),PIe=gU(),EIe=bU(),qIe=_U(),IIe=wU(),BIe=SU(),kIe=xU(),jIe=OU(),TIe=DU(),RIe=NU(),FIe=CU(),LIe=AU(),UIe=MU(),zIe=PU(),JIe=EU(),VIe=qU(),GIe=IU(),HIe=BU(),WIe=kU(),$Ie=jU(),QIe=TU(),YIe=RU(),ZIe=FU(),XIe=LU(),KIe=UU(),eBe=zU(),rBe=JU(),tBe=VU(),nBe=GU(),iBe=HU(),aBe=WU(),sBe=$U(),oBe=QU(),cBe=YU(),uBe=ZU(),lBe=XU(),dBe=KU(),pBe=e9(),fBe=r9(),hBe=t9(),vBe=n9(),mBe=i9(),yBe=a9(),gBe=s9(),bBe=o9(),_Be=c9(),wBe=u9(),SBe=l9(),xBe=d9(),OBe=p9(),DBe=f9(),NBe=h9(),CBe=v9(),ABe=m9(),MBe=y9(),PBe=g9(),EBe=b9(),qBe=_9(),IBe=w9(),BBe=S9(),kBe=x9(),jBe=O9(),TBe=D9(),RBe=N9(),FBe=C9(),LBe=A9(),UBe=M9(),zBe=P9(),JBe=E9(),VBe=q9(),GBe=I9(),HBe=B9(),WBe=k9(),$Be=j9(),QBe=T9(),YBe=R9(),ZBe=F9(),XBe=L9(),KBe=U9(),eke=z9(),rke=J9(),tke=V9(),nke=G9(),ike=H9(),ake=W9(),ske=$9(),oke=Q9(),cke=Y9(),uke=Z9(),lke=X9(),dke=K9(),pke=ez(),fke=rz(),hke=tz(),vke=nz(),mke=iz(),yke=az(),gke=sz(),bke=oz(),_ke=cz(),wke=uz(),Ske=lz(),xke=dz(),Oke=pz(),Dke=fz(),Nke=hz(),Cke=vz(),Ake=mz(),Mke=yz(),Pke=gz(),lJ=bz(),Eke=_z(),qke=wz(),Ike=Sz(),Bke=xz(),kke=Oz(),jke=Dz(),Tke=Nz(),Rke=Cz(),Fke=Az(),Lke=Mz(),Uke=Pz(),zke=Ez(),Jke=qz(),Vke=Iz(),Gke=Bz(),Hke=kz(),Wke=jz(),$ke=Tz(),Qke=Rz(),Yke=Fz(),Zke=Lz(),Xke=Uz(),Kke=zz(),eje=Jz(),rje=Vz(),tje=Gz(),nje=Hz(),ije=Wz(),aje=$z(),sje=Qz(),oje=Yz(),cje=Zz(),uje=Xz(),lje=Kz(),dje=e7(),pje=r7(),fje=t7(),hje=n7(),vje=i7(),mje=a7(),yje=s7(),gje=o7(),bje=c7(),_je=u7(),wje=l7(),Sje=d7(),xje=p7(),Oje=f7(),Dje=h7(),Nje=v7(),Cje=m7(),Aje=y7(),Mje=g7(),Pje=b7(),Eje=_7(),qje=w7(),Ije=S7(),Bje=x7(),kje=O7(),jje=D7(),Tje=N7(),Rje=C7(),Fje=A7(),Lje=M7(),Uje=P7(),zje=E7(),Jje=q7(),dJ=I7(),Vje=B7(),Gje=k7(),Hje=j7(),Wje=T7(),$je=R7(),Qje=F7(),Yje=L7(),Zje=U7(),Xje=z7(),pJ=J7(),Kje=V7(),eTe=G7(),rTe=H7(),tTe=W7(),nTe=$7(),iTe=Q7(),aTe=Y7(),sTe=Z7(),oTe=X7(),cTe=K7(),uTe=eJ(),lTe=rJ(),dTe=tJ(),pTe=nJ(),fJ=iJ(),fTe=aJ(),hTe=sJ(),vTe=oJ(),mTe=cJ(),yTe={bignumber:AIe.bignumberDocs,boolean:uTe.booleanDocs,complex:cTe.complexDocs,createUnit:oTe.createUnitDocs,fraction:sTe.fractionDocs,index:aTe.indexDocs,matrix:iTe.matrixDocs,number:nTe.numberDocs,sparse:tTe.sparseDocs,splitUnit:rTe.splitUnitDocs,string:eTe.stringDocs,unit:Kje.unitDocs,e:pJ.eDocs,E:pJ.eDocs,false:Xje.falseDocs,i:Zje.iDocs,Infinity:Yje.InfinityDocs,LN2:Qje.LN2Docs,LN10:$je.LN10Docs,LOG2E:Wje.LOG2EDocs,LOG10E:Hje.LOG10EDocs,NaN:Gje.NaNDocs,null:Vje.nullDocs,pi:dJ.piDocs,PI:dJ.piDocs,phi:Jje.phiDocs,SQRT1_2:zje.SQRT12Docs,SQRT2:Uje.SQRT2Docs,tau:Lje.tauDocs,true:Fje.trueDocs,version:Rje.versionDocs,speedOfLight:{description:"Speed of light in vacuum",examples:["speedOfLight"]},gravitationConstant:{description:"Newtonian constant of gravitation",examples:["gravitationConstant"]},planckConstant:{description:"Planck constant",examples:["planckConstant"]},reducedPlanckConstant:{description:"Reduced Planck constant",examples:["reducedPlanckConstant"]},magneticConstant:{description:"Magnetic constant (vacuum permeability)",examples:["magneticConstant"]},electricConstant:{description:"Electric constant (vacuum permeability)",examples:["electricConstant"]},vacuumImpedance:{description:"Characteristic impedance of vacuum",examples:["vacuumImpedance"]},coulomb:{description:"Coulomb's constant",examples:["coulomb"]},elementaryCharge:{description:"Elementary charge",examples:["elementaryCharge"]},bohrMagneton:{description:"Borh magneton",examples:["bohrMagneton"]},conductanceQuantum:{description:"Conductance quantum",examples:["conductanceQuantum"]},inverseConductanceQuantum:{description:"Inverse conductance quantum",examples:["inverseConductanceQuantum"]},magneticFluxQuantum:{description:"Magnetic flux quantum",examples:["magneticFluxQuantum"]},nuclearMagneton:{description:"Nuclear magneton",examples:["nuclearMagneton"]},klitzing:{description:"Von Klitzing constant",examples:["klitzing"]},bohrRadius:{description:"Borh radius",examples:["bohrRadius"]},classicalElectronRadius:{description:"Classical electron radius",examples:["classicalElectronRadius"]},electronMass:{description:"Electron mass",examples:["electronMass"]},fermiCoupling:{description:"Fermi coupling constant",examples:["fermiCoupling"]},fineStructure:{description:"Fine-structure constant",examples:["fineStructure"]},hartreeEnergy:{description:"Hartree energy",examples:["hartreeEnergy"]},protonMass:{description:"Proton mass",examples:["protonMass"]},deuteronMass:{description:"Deuteron Mass",examples:["deuteronMass"]},neutronMass:{description:"Neutron mass",examples:["neutronMass"]},quantumOfCirculation:{description:"Quantum of circulation",examples:["quantumOfCirculation"]},rydberg:{description:"Rydberg constant",examples:["rydberg"]},thomsonCrossSection:{description:"Thomson cross section",examples:["thomsonCrossSection"]},weakMixingAngle:{description:"Weak mixing angle",examples:["weakMixingAngle"]},efimovFactor:{description:"Efimov factor",examples:["efimovFactor"]},atomicMass:{description:"Atomic mass constant",examples:["atomicMass"]},avogadro:{description:"Avogadro's number",examples:["avogadro"]},boltzmann:{description:"Boltzmann constant",examples:["boltzmann"]},faraday:{description:"Faraday constant",examples:["faraday"]},firstRadiation:{description:"First radiation constant",examples:["firstRadiation"]},loschmidt:{description:"Loschmidt constant at T=273.15 K and p=101.325 kPa",examples:["loschmidt"]},gasConstant:{description:"Gas constant",examples:["gasConstant"]},molarPlanckConstant:{description:"Molar Planck constant",examples:["molarPlanckConstant"]},molarVolume:{description:"Molar volume of an ideal gas at T=273.15 K and p=101.325 kPa",examples:["molarVolume"]},sackurTetrode:{description:"Sackur-Tetrode constant at T=1 K and p=101.325 kPa",examples:["sackurTetrode"]},secondRadiation:{description:"Second radiation constant",examples:["secondRadiation"]},stefanBoltzmann:{description:"Stefan-Boltzmann constant",examples:["stefanBoltzmann"]},wienDisplacement:{description:"Wien displacement law constant",examples:["wienDisplacement"]},molarMass:{description:"Molar mass constant",examples:["molarMass"]},molarMassC12:{description:"Molar mass constant of carbon-12",examples:["molarMassC12"]},gravity:{description:"Standard acceleration of gravity (standard acceleration of free-fall on Earth)",examples:["gravity"]},planckLength:{description:"Planck length",examples:["planckLength"]},planckMass:{description:"Planck mass",examples:["planckMass"]},planckTime:{description:"Planck time",examples:["planckTime"]},planckCharge:{description:"Planck charge",examples:["planckCharge"]},planckTemperature:{description:"Planck temperature",examples:["planckTemperature"]},derivative:Tje.derivativeDocs,lsolve:jje.lsolveDocs,lup:kje.lupDocs,lusolve:dTe.lusolveDocs,simplify:Bje.simplifyDocs,rationalize:Ije.rationalizeDocs,slu:qje.sluDocs,usolve:Eje.usolveDocs,qr:Pje.qrDocs,abs:Mje.absDocs,add:Aje.addDocs,cbrt:Cje.cbrtDocs,ceil:Nje.ceilDocs,cube:Dje.cubeDocs,divide:Oje.divideDocs,dotDivide:xje.dotDivideDocs,dotMultiply:Sje.dotMultiplyDocs,dotPow:lTe.dotPowDocs,exp:wje.expDocs,expm:bje.expmDocs,expm1:gje.expm1Docs,fix:yje.fixDocs,floor:mje.floorDocs,gcd:vje.gcdDocs,hypot:hje.hypotDocs,lcm:fje.lcmDocs,log:pje.logDocs,log2:dje.log2Docs,log1p:lje.log1pDocs,log10:uje.log10Docs,mod:cje.modDocs,multiply:oje.multiplyDocs,norm:sje.normDocs,nthRoot:aje.nthRootDocs,nthRoots:ije.nthRootsDocs,pow:nje.powDocs,round:tje.roundDocs,sign:rje.signDocs,sqrt:eje.sqrtDocs,sqrtm:Kke.sqrtmDocs,square:Xke.squareDocs,subtract:pTe.subtractDocs,unaryMinus:Zke.unaryMinusDocs,unaryPlus:Yke.unaryPlusDocs,xgcd:Qke.xgcdDocs,bitAnd:$ke.bitAndDocs,bitNot:Wke.bitNotDocs,bitOr:Hke.bitOrDocs,bitXor:Gke.bitXorDocs,leftShift:Vke.leftShiftDocs,rightArithShift:Jke.rightArithShiftDocs,rightLogShift:zke.rightLogShiftDocs,bellNumbers:Uke.bellNumbersDocs,catalan:Lke.catalanDocs,composition:Fke.compositionDocs,stirlingS2:Rke.stirlingS2Docs,config:Tke.configDocs,import:jke.importDocs,typed:kke.typedDocs,arg:Bke.argDocs,conj:Ike.conjDocs,re:qke.reDocs,im:Eke.imDocs,evaluate:lJ.evaluateDocs,eval:lJ.evaluateDocs,help:Pke.helpDocs,distance:Mke.distanceDocs,intersect:Ake.intersectDocs,and:Cke.andDocs,not:Nke.notDocs,or:Dke.orDocs,xor:Oke.xorDocs,concat:xke.concatDocs,cross:Ske.crossDocs,column:vTe.columnDocs,ctranspose:wke.ctransposeDocs,det:_ke.detDocs,diag:bke.diagDocs,dot:gke.dotDocs,getMatrixDataType:yke.getMatrixDataTypeDocs,identity:mke.identityDocs,filter:vke.filterDocs,flatten:hke.flattenDocs,forEach:fke.forEachDocs,inv:pke.invDocs,eigs:_je.eigsDocs,kron:dke.kronDocs,map:lke.mapDocs,ones:uke.onesDocs,partitionSelect:cke.partitionSelectDocs,range:oke.rangeDocs,resize:ske.resizeDocs,reshape:ake.reshapeDocs,row:mTe.rowDocs,size:ike.sizeDocs,sort:nke.sortDocs,squeeze:tke.squeezeDocs,subset:rke.subsetDocs,trace:eke.traceDocs,transpose:KBe.transposeDocs,zeros:XBe.zerosDocs,combinations:YBe.combinationsDocs,combinationsWithRep:ZBe.combinationsWithRepDocs,factorial:QBe.factorialDocs,gamma:$Be.gammaDocs,kldivergence:WBe.kldivergenceDocs,multinomial:HBe.multinomialDocs,permutations:GBe.permutationsDocs,pickRandom:VBe.pickRandomDocs,random:JBe.randomDocs,randomInt:zBe.randomIntDocs,compare:UBe.compareDocs,compareNatural:LBe.compareNaturalDocs,compareText:FBe.compareTextDocs,deepEqual:RBe.deepEqualDocs,equal:TBe.equalDocs,equalText:jBe.equalTextDocs,larger:kBe.largerDocs,largerEq:BBe.largerEqDocs,smaller:IBe.smallerDocs,smallerEq:qBe.smallerEqDocs,unequal:EBe.unequalDocs,setCartesian:PBe.setCartesianDocs,setDifference:MBe.setDifferenceDocs,setDistinct:ABe.setDistinctDocs,setIntersect:CBe.setIntersectDocs,setIsSubset:NBe.setIsSubsetDocs,setMultiplicity:DBe.setMultiplicityDocs,setPowerset:OBe.setPowersetDocs,setSize:xBe.setSizeDocs,setSymDifference:SBe.setSymDifferenceDocs,setUnion:wBe.setUnionDocs,erf:_Be.erfDocs,mad:bBe.madDocs,max:gBe.maxDocs,mean:yBe.meanDocs,median:mBe.medianDocs,min:vBe.minDocs,mode:hBe.modeDocs,prod:fBe.prodDocs,quantileSeq:pBe.quantileSeqDocs,std:dBe.stdDocs,sum:lBe.sumDocs,variance:fJ.varianceDocs,var:fJ.varianceDocs,acos:uBe.acosDocs,acosh:cBe.acoshDocs,acot:oBe.acotDocs,acoth:sBe.acothDocs,acsc:aBe.acscDocs,acsch:iBe.acschDocs,asec:nBe.asecDocs,asech:tBe.asechDocs,asin:rBe.asinDocs,asinh:eBe.asinhDocs,atan:KIe.atanDocs,atanh:XIe.atanhDocs,atan2:ZIe.atan2Docs,cos:YIe.cosDocs,cosh:QIe.coshDocs,cot:$Ie.cotDocs,coth:WIe.cothDocs,csc:HIe.cscDocs,csch:GIe.cschDocs,sec:VIe.secDocs,sech:JIe.sechDocs,sin:fTe.sinDocs,sinh:zIe.sinhDocs,tan:UIe.tanDocs,tanh:LIe.tanhDocs,to:FIe.toDocs,clone:RIe.cloneDocs,format:TIe.formatDocs,isNaN:jIe.isNaNDocs,isInteger:kIe.isIntegerDocs,isNegative:BIe.isNegativeDocs,isNumeric:qIe.isNumericDocs,hasNumericValue:IIe.hasNumericValueDocs,isPositive:EIe.isPositiveDocs,isPrime:PIe.isPrimeDocs,isZero:MIe.isZeroDocs,typeOf:uJ.typeOfDocs,typeof:uJ.typeOfDocs,numeric:hTe.numericDocs};f0.embeddedDocs=yTe});var vJ=D(h0=>{"use strict";Object.defineProperty(h0,"__esModule",{value:!0});h0.createHelp=void 0;var gTe=oe(),bTe=pn(),_Te=kA(),wTe=yr(),hJ="help",STe=["typed","mathWithTransform","Help"],xTe=(0,gTe.factory)(hJ,STe,function(e){var r=e.typed,t=e.mathWithTransform,n=e.Help;return r(hJ,{any:function(c){var u,a=c;if(typeof c!="string"){for(u in t)if((0,wTe.hasOwnProperty)(t,u)&&c===t[u]){a=u;break}}var s=(0,bTe.getSafeProperty)(_Te.embeddedDocs,a);if(!s){var o=typeof a=="function"?a.name:a;throw new Error('No documentation found on "'+o+'"')}return new n(s)}})});h0.createHelp=xTe});var yJ=D(v0=>{"use strict";Object.defineProperty(v0,"__esModule",{value:!0});v0.createChain=void 0;var OTe=oe(),mJ="chain",DTe=["typed","Chain"],NTe=(0,OTe.factory)(mJ,DTe,function(e){var r=e.typed,t=e.Chain;return r(mJ,{"":function(){return new t},any:function(i){return new t(i)}})});v0.createChain=NTe});var bJ=D(y0=>{"use strict";Object.defineProperty(y0,"__esModule",{value:!0});y0.createDet=void 0;var CTe=He(),m0=yr(),jA=Xr(),ATe=oe(),gJ="det",MTe=["typed","matrix","subtract","multiply","unaryMinus","lup"],PTe=(0,ATe.factory)(gJ,MTe,function(e){var r=e.typed,t=e.matrix,n=e.subtract,i=e.multiply,c=e.unaryMinus,u=e.lup;return r(gJ,{any:function(o){return(0,m0.clone)(o)},"Array | Matrix":function(o){var l;switch((0,CTe.isMatrix)(o)?l=o.size():Array.isArray(o)?(o=t(o),l=o.size()):l=[],l.length){case 0:return(0,m0.clone)(o);case 1:if(l[0]===1)return(0,m0.clone)(o.valueOf()[0]);throw new RangeError("Matrix must be square (size: "+(0,jA.format)(l)+")");case 2:{var d=l[0],p=l[1];if(d===p)return a(o.clone().valueOf(),d,p);throw new RangeError("Matrix must be square (size: "+(0,jA.format)(l)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+(0,jA.format)(l)+")")}}});function a(s,o,l){if(o===1)return(0,m0.clone)(s[0][0]);if(o===2)return n(i(s[0][0],s[1][1]),i(s[1][0],s[0][1]));for(var d=u(s),p=d.U[0][0],f=1;f<o;f++)p=i(p,d.U[f][f]);for(var v=0,h=0,m=[];;){for(;m[h];)h++;if(h>=o)break;for(var y=h,g=0;!m[d.p[y]];)m[d.p[y]]=!0,y=d.p[y],g++;g%2===0&&v++}return v%2===0?p:c(p)}});y0.createDet=PTe});var wJ=D(g0=>{"use strict";Object.defineProperty(g0,"__esModule",{value:!0});g0.createInv=void 0;var TA=He(),ETe=er(),qTe=oe(),RA=Xr(),_J="inv",ITe=["typed","matrix","divideScalar","addScalar","multiply","unaryMinus","det","identity","abs"],BTe=(0,qTe.factory)(_J,ITe,function(e){var r=e.typed,t=e.matrix,n=e.divideScalar,i=e.addScalar,c=e.multiply,u=e.unaryMinus,a=e.det,s=e.identity,o=e.abs;return r(_J,{"Array | Matrix":function(p){var f=(0,TA.isMatrix)(p)?p.size():(0,ETe.arraySize)(p);switch(f.length){case 1:if(f[0]===1)return(0,TA.isMatrix)(p)?t([n(1,p.valueOf()[0])]):[n(1,p[0])];throw new RangeError("Matrix must be square (size: "+(0,RA.format)(f)+")");case 2:{var v=f[0],h=f[1];if(v===h)return(0,TA.isMatrix)(p)?t(l(p.valueOf(),v,h),p.storage()):l(p,v,h);throw new RangeError("Matrix must be square (size: "+(0,RA.format)(f)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+(0,RA.format)(f)+")")}},any:function(p){return n(1,p)}});function l(d,p,f){var v,h,m,y,g;if(p===1){if(y=d[0][0],y===0)throw Error("Cannot calculate inverse, determinant is zero");return[[n(1,y)]]}else if(p===2){var b=a(d);if(b===0)throw Error("Cannot calculate inverse, determinant is zero");return[[n(d[1][1],b),n(u(d[0][1]),b)],[n(u(d[1][0]),b),n(d[0][0],b)]]}else{var _=d.concat();for(v=0;v<p;v++)_[v]=_[v].concat();for(var S=s(p).valueOf(),w=0;w<f;w++){var O=o(_[w][w]),x=w;for(v=w+1;v<p;)o(_[v][w])>O&&(O=o(_[v][w]),x=v),v++;if(O===0)throw Error("Cannot calculate inverse, determinant is zero");v=x,v!==w&&(g=_[w],_[w]=_[v],_[v]=g,g=S[w],S[w]=S[v],S[v]=g);var N=_[w],M=S[w];for(v=0;v<p;v++){var I=_[v],q=S[v];if(v!==w){if(I[w]!==0){for(m=n(u(I[w]),N[w]),h=w;h<f;h++)I[h]=i(I[h],c(m,N[h]));for(h=0;h<f;h++)q[h]=i(q[h],c(m,M[h]))}}else{for(m=N[w],h=w;h<f;h++)I[h]=n(I[h],m);for(h=0;h<f;h++)q[h]=n(q[h],m)}}}return S}}});g0.createInv=BTe});var xJ=D(b0=>{"use strict";Object.defineProperty(b0,"__esModule",{value:!0});b0.createEigs=void 0;var tc=yr(),kTe=oe(),SJ=Xr(),jTe="eigs",TTe=["config","typed","matrix","addScalar","equal","subtract","abs","atan","cos","sin","multiplyScalar","inv","bignumber","multiply","add"],RTe=(0,kTe.factory)(jTe,TTe,function(e){var r=e.config,t=e.typed,n=e.matrix,i=e.addScalar,c=e.subtract,u=e.equal,a=e.abs,s=e.atan,o=e.cos,l=e.sin,d=e.multiplyScalar,p=e.inv,f=e.bignumber,v=e.multiply,h=e.add,m=t("eigs",{Array:function(L){var P=n(L),V=P.size();if(V.length!==2||V[0]!==V[1])throw new RangeError("Matrix must be square (size: "+(0,SJ.format)(V)+")");var E=g(P,V[0]);return{values:E[0],vectors:E[1]}},Matrix:function(L){var P=L.size();if(P.length!==2||P[0]!==P[1])throw new RangeError("Matrix must be square (size: "+(0,SJ.format)(P)+")");var V=g(L,P[0]);return{values:n(V[0]),vectors:n(V[1])}}});function y(j,L){for(var P=0;P<L;P++)for(var V=P;V<L;V++)if(!u(j[P][V],j[V][P]))throw new TypeError("Input matrix is not symmetric")}function g(j,L){var P=j.datatype();if(P===void 0&&(P=j.getDataType()),P!=="number"&&P!=="BigNumber"&&P!=="Fraction")throw P==="mixed"?new TypeError("Mixed matrix element type is not supported"):new TypeError("Matrix element type not supported ("+P+")");if(y(j.toArray(),L),P==="number")return b(j.toArray());if(P==="Fraction"){for(var V=j.toArray(),E=0;E<L;E++)for(var Z=E;Z<L;Z++)V[E][Z]=V[E][Z].valueOf(),V[Z][E]=V[E][Z];return b(j.toArray())}else if(P==="BigNumber")return _(j.toArray())}function b(j){for(var L=j.length,P=Math.abs(r.epsilon/L),V,E=new Array(L),Z=0;Z<L;Z++)E[Z]=R(L,0),E[Z][Z]=1;for(var ue=I(j);Math.abs(ue[1])>=Math.abs(P);){var ye=ue[0][0],X=ue[0][1];V=S(j[ye][ye],j[X][X],j[ye][X]),j=M(j,V,ye,X),E=O(E,V,ye,X),ue=I(j)}for(var le=R(L,0),Oe=0;Oe<L;Oe++)le[Oe]=j[Oe][Oe];return z((0,tc.clone)(le),(0,tc.clone)(E))}function _(j){for(var L=j.length,P=a(r.epsilon/L),V,E=new Array(L),Z=0;Z<L;Z++)E[Z]=R(L,0),E[Z][Z]=1;for(var ue=q(j);a(ue[1])>=a(P);){var ye=ue[0][0],X=ue[0][1];V=w(j[ye][ye],j[X][X],j[ye][X]),j=N(j,V,ye,X),E=x(E,V,ye,X),ue=q(j)}for(var le=R(L,0),Oe=0;Oe<L;Oe++)le[Oe]=j[Oe][Oe];return z((0,tc.clone)(le),(0,tc.clone)(E))}function S(j,L,P){var V=L-j;return Math.abs(V)<=r.epsilon?Math.PI/4:.5*Math.atan(2*P/(L-j))}function w(j,L,P){var V=c(L,j);return a(V)<=r.epsilon?f(-1).acos().div(4):d(.5,s(v(2,P,p(V))))}function O(j,L,P,V){for(var E=j.length,Z=Math.cos(L),ue=Math.sin(L),ye=R(E,0),X=R(E,0),le=0;le<E;le++)ye[le]=Z*j[le][P]-ue*j[le][V],X[le]=ue*j[le][P]+Z*j[le][V];for(var Oe=0;Oe<E;Oe++)j[Oe][P]=ye[Oe],j[Oe][V]=X[Oe];return j}function x(j,L,P,V){for(var E=j.length,Z=o(L),ue=l(L),ye=R(E,f(0)),X=R(E,f(0)),le=0;le<E;le++)ye[le]=c(d(Z,j[le][P]),d(ue,j[le][V])),X[le]=i(d(ue,j[le][P]),d(Z,j[le][V]));for(var Oe=0;Oe<E;Oe++)j[Oe][P]=ye[Oe],j[Oe][V]=X[Oe];return j}function N(j,L,P,V){for(var E=j.length,Z=f(o(L)),ue=f(l(L)),ye=d(Z,Z),X=d(ue,ue),le=R(E,f(0)),Oe=R(E,f(0)),ne=v(f(2),Z,ue,j[P][V]),fe=i(c(d(ye,j[P][P]),ne),d(X,j[V][V])),Me=h(d(X,j[P][P]),ne,d(ye,j[V][V])),me=0;me<E;me++)le[me]=c(d(Z,j[P][me]),d(ue,j[V][me])),Oe[me]=i(d(ue,j[P][me]),d(Z,j[V][me]));j[P][P]=fe,j[V][V]=Me,j[P][V]=f(0),j[V][P]=f(0);for(var Ce=0;Ce<E;Ce++)Ce!==P&&Ce!==V&&(j[P][Ce]=le[Ce],j[Ce][P]=le[Ce],j[V][Ce]=Oe[Ce],j[Ce][V]=Oe[Ce]);return j}function M(j,L,P,V){for(var E=j.length,Z=Math.cos(L),ue=Math.sin(L),ye=Z*Z,X=ue*ue,le=R(E,0),Oe=R(E,0),ne=ye*j[P][P]-2*Z*ue*j[P][V]+X*j[V][V],fe=X*j[P][P]+2*Z*ue*j[P][V]+ye*j[V][V],Me=0;Me<E;Me++)le[Me]=Z*j[P][Me]-ue*j[V][Me],Oe[Me]=ue*j[P][Me]+Z*j[V][Me];j[P][P]=ne,j[V][V]=fe,j[P][V]=0,j[V][P]=0;for(var me=0;me<E;me++)me!==P&&me!==V&&(j[P][me]=le[me],j[me][P]=le[me],j[V][me]=Oe[me],j[me][V]=Oe[me]);return j}function I(j){for(var L=j.length,P=0,V=[0,1],E=0;E<L;E++)for(var Z=E+1;Z<L;Z++)Math.abs(P)<Math.abs(j[E][Z])&&(P=Math.abs(j[E][Z]),V=[E,Z]);return[V,P]}function q(j){for(var L=j.length,P=0,V=[0,1],E=0;E<L;E++)for(var Z=E+1;Z<L;Z++)a(P)<a(j[E][Z])&&(P=a(j[E][Z]),V=[E,Z]);return[V,P]}function z(j,L){for(var P=j.length,V=Array(P),E=Array(P),Z=0;Z<P;Z++)E[Z]=Array(P);for(var ue=0;ue<P;ue++){for(var ye=0,X=j[0],le=0;le<j.length;le++)j[le]<X&&(ye=le,X=j[ye]);V[ue]=j.splice(ye,1)[0];for(var Oe=0;Oe<P;Oe++)E[Oe][ue]=L[Oe][ye],L[Oe].splice(ye,1)}return[(0,tc.clone)(V),(0,tc.clone)(E)]}function R(j,L){for(var P=new Array(j),V=0;V<j;V++)P[V]=L;return P}return m});b0.createEigs=RTe});var DJ=D(_0=>{"use strict";Object.defineProperty(_0,"__esModule",{value:!0});_0.createExpm=void 0;var FTe=He(),LTe=Xr(),UTe=oe(),OJ="expm",zTe=["typed","abs","add","identity","inv","multiply"],JTe=(0,UTe.factory)(OJ,zTe,function(e){var r=e.typed,t=e.abs,n=e.add,i=e.identity,c=e.inv,u=e.multiply;return r(OJ,{Matrix:function(d){var p=d.size();if(p.length!==2||p[0]!==p[1])throw new RangeError("Matrix must be square (size: "+(0,LTe.format)(p)+")");for(var f=p[0],v=1e-15,h=a(d),m=s(h,v),y=m.q,g=m.j,b=u(d,Math.pow(2,-g)),_=i(f),S=i(f),w=1,O=b,x=-1,N=1;N<=y;N++)N>1&&(O=u(O,b),x=-x),w=w*(y-N+1)/((2*y-N+1)*N),_=n(_,u(w,O)),S=n(S,u(w*x,O));for(var M=u(c(S),_),I=0;I<g;I++)M=u(M,M);return(0,FTe.isSparseMatrix)(d)?d.createSparseMatrix(M):M}});function a(l){for(var d=l.size()[0],p=0,f=0;f<d;f++){for(var v=0,h=0;h<d;h++)v+=t(l.get([f,h]));p=Math.max(v,p)}return p}function s(l,d){for(var p=30,f=0;f<p;f++)for(var v=0;v<=f;v++){var h=f-v;if(o(l,v,h)<d)return{q:v,j:h}}throw new Error("Could not find acceptable parameters to compute the matrix exponential (try increasing maxSearchSize in expm.js)")}function o(l,d,p){for(var f=1,v=2;v<=d;v++)f*=v;for(var h=f,m=d+1;m<=2*d;m++)h*=m;var y=h*(2*d+1);return 8*Math.pow(l/Math.pow(2,p),2*d)*f*f/(h*y)}});_0.createExpm=JTe});var AJ=D(w0=>{"use strict";Object.defineProperty(w0,"__esModule",{value:!0});w0.createSqrtm=void 0;var VTe=He(),NJ=Xr(),GTe=er(),HTe=oe(),CJ="sqrtm",WTe=["typed","abs","add","multiply","sqrt","subtract","inv","size","max","identity"],$Te=(0,HTe.factory)(CJ,WTe,function(e){var r=e.typed,t=e.abs,n=e.add,i=e.multiply,c=e.sqrt,u=e.subtract,a=e.inv,s=e.size,o=e.max,l=e.identity,d=r(CJ,{"Array | Matrix":function(m){var y=(0,VTe.isMatrix)(m)?m.size():(0,GTe.arraySize)(m);switch(y.length){case 1:if(y[0]===1)return c(m);throw new RangeError("Matrix must be square (size: "+(0,NJ.format)(y)+")");case 2:{var g=y[0],b=y[1];if(g===b)return v(m);throw new RangeError("Matrix must be square (size: "+(0,NJ.format)(y)+")")}}}}),p=1e3,f=1e-6;function v(h){var m,y=0,g=h,b=l(s(h));do{var _=g;if(g=i(.5,n(_,a(b))),b=i(.5,n(b,a(_))),m=o(t(u(g,_))),m>f&&++y>p)throw new Error("computing square root of matrix: iterative method could not converge")}while(m>f);return g}return d});w0.createSqrtm=$Te});var MJ=D(S0=>{"use strict";Object.defineProperty(S0,"__esModule",{value:!0});S0.createDivide=void 0;var QTe=oe(),YTe=yr(),ZTe=Jt(),XTe=Ur(),KTe="divide",e3e=["typed","matrix","multiply","equalScalar","divideScalar","inv"],r3e=(0,QTe.factory)(KTe,e3e,function(e){var r=e.typed,t=e.matrix,n=e.multiply,i=e.equalScalar,c=e.divideScalar,u=e.inv,a=(0,ZTe.createAlgorithm11)({typed:r,equalScalar:i}),s=(0,XTe.createAlgorithm14)({typed:r});return r("divide",(0,YTe.extend)({"Array | Matrix, Array | Matrix":function(l,d){return n(l,u(d))},"DenseMatrix, any":function(l,d){return s(l,d,c,!1)},"SparseMatrix, any":function(l,d){return a(l,d,c,!1)},"Array, any":function(l,d){return s(t(l),d,c,!1).valueOf()},"any, Array | Matrix":function(l,d){return n(l,u(d))}},c.signatures))});S0.createDivide=r3e});var EJ=D(x0=>{"use strict";Object.defineProperty(x0,"__esModule",{value:!0});x0.createDistance=void 0;var t3e=He(),n3e=oe(),PJ="distance",i3e=["typed","addScalar","subtract","divideScalar","multiplyScalar","unaryMinus","sqrt","abs"],a3e=(0,n3e.factory)(PJ,i3e,function(e){var r=e.typed,t=e.addScalar,n=e.subtract,i=e.multiplyScalar,c=e.divideScalar,u=e.unaryMinus,a=e.sqrt,s=e.abs;return r(PJ,{"Array, Array, Array":function(S,w,O){if(S.length===2&&w.length===2&&O.length===2){if(!l(S))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!l(w))throw new TypeError("Array with 2 numbers or BigNumbers expected for second argument");if(!l(O))throw new TypeError("Array with 2 numbers or BigNumbers expected for third argument");var x=c(n(O[1],O[0]),n(w[1],w[0])),N=i(i(x,x),w[0]),M=u(i(x,w[0])),I=S[1];return m(S[0],S[1],N,M,I)}else throw new TypeError("Invalid Arguments: Try again")},"Object, Object, Object":function(S,w,O){if(Object.keys(S).length===2&&Object.keys(w).length===2&&Object.keys(O).length===2){if(!l(S))throw new TypeError("Values of pointX and pointY should be numbers or BigNumbers");if(!l(w))throw new TypeError("Values of lineOnePtX and lineOnePtY should be numbers or BigNumbers");if(!l(O))throw new TypeError("Values of lineTwoPtX and lineTwoPtY should be numbers or BigNumbers");if("pointX"in S&&"pointY"in S&&"lineOnePtX"in w&&"lineOnePtY"in w&&"lineTwoPtX"in O&&"lineTwoPtY"in O){var x=c(n(O.lineTwoPtY,O.lineTwoPtX),n(w.lineOnePtY,w.lineOnePtX)),N=i(i(x,x),w.lineOnePtX),M=u(i(x,w.lineOnePtX)),I=S.pointX;return m(S.pointX,S.pointY,N,M,I)}else throw new TypeError("Key names do not match")}else throw new TypeError("Invalid Arguments: Try again")},"Array, Array":function(S,w){if(S.length===2&&w.length===3){if(!l(S))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!d(w))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");return m(S[0],S[1],w[0],w[1],w[2])}else if(S.length===3&&w.length===6){if(!d(S))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!f(w))throw new TypeError("Array with 6 numbers or BigNumbers expected for second argument");return y(S[0],S[1],S[2],w[0],w[1],w[2],w[3],w[4],w[5])}else if(S.length===w.length&&S.length>0){if(!p(S))throw new TypeError("All values of an array should be numbers or BigNumbers");if(!p(w))throw new TypeError("All values of an array should be numbers or BigNumbers");return g(S,w)}else throw new TypeError("Invalid Arguments: Try again")},"Object, Object":function(S,w){if(Object.keys(S).length===2&&Object.keys(w).length===3){if(!l(S))throw new TypeError("Values of pointX and pointY should be numbers or BigNumbers");if(!d(w))throw new TypeError("Values of xCoeffLine, yCoeffLine and constant should be numbers or BigNumbers");if("pointX"in S&&"pointY"in S&&"xCoeffLine"in w&&"yCoeffLine"in w&&"constant"in w)return m(S.pointX,S.pointY,w.xCoeffLine,w.yCoeffLine,w.constant);throw new TypeError("Key names do not match")}else if(Object.keys(S).length===3&&Object.keys(w).length===6){if(!d(S))throw new TypeError("Values of pointX, pointY and pointZ should be numbers or BigNumbers");if(!f(w))throw new TypeError("Values of x0, y0, z0, a, b and c should be numbers or BigNumbers");if("pointX"in S&&"pointY"in S&&"x0"in w&&"y0"in w&&"z0"in w&&"a"in w&&"b"in w&&"c"in w)return y(S.pointX,S.pointY,S.pointZ,w.x0,w.y0,w.z0,w.a,w.b,w.c);throw new TypeError("Key names do not match")}else if(Object.keys(S).length===2&&Object.keys(w).length===2){if(!l(S))throw new TypeError("Values of pointOneX and pointOneY should be numbers or BigNumbers");if(!l(w))throw new TypeError("Values of pointTwoX and pointTwoY should be numbers or BigNumbers");if("pointOneX"in S&&"pointOneY"in S&&"pointTwoX"in w&&"pointTwoY"in w)return g([S.pointOneX,S.pointOneY],[w.pointTwoX,w.pointTwoY]);throw new TypeError("Key names do not match")}else if(Object.keys(S).length===3&&Object.keys(w).length===3){if(!d(S))throw new TypeError("Values of pointOneX, pointOneY and pointOneZ should be numbers or BigNumbers");if(!d(w))throw new TypeError("Values of pointTwoX, pointTwoY and pointTwoZ should be numbers or BigNumbers");if("pointOneX"in S&&"pointOneY"in S&&"pointOneZ"in S&&"pointTwoX"in w&&"pointTwoY"in w&&"pointTwoZ"in w)return g([S.pointOneX,S.pointOneY,S.pointOneZ],[w.pointTwoX,w.pointTwoY,w.pointTwoZ]);throw new TypeError("Key names do not match")}else throw new TypeError("Invalid Arguments: Try again")},Array:function(S){if(!h(S))throw new TypeError("Incorrect array format entered for pairwise distance calculation");return b(S)}});function o(_){return typeof _=="number"||(0,t3e.isBigNumber)(_)}function l(_){return _.constructor!==Array&&(_=v(_)),o(_[0])&&o(_[1])}function d(_){return _.constructor!==Array&&(_=v(_)),o(_[0])&&o(_[1])&&o(_[2])}function p(_){return Array.isArray(_)||(_=v(_)),_.every(o)}function f(_){return _.constructor!==Array&&(_=v(_)),o(_[0])&&o(_[1])&&o(_[2])&&o(_[3])&&o(_[4])&&o(_[5])}function v(_){for(var S=Object.keys(_),w=[],O=0;O<S.length;O++)w.push(_[S[O]]);return w}function h(_){if(_[0].length===2&&o(_[0][0])&&o(_[0][1])){if(_.some(function(S){return S.length!==2||!o(S[0])||!o(S[1])}))return!1}else if(_[0].length===3&&o(_[0][0])&&o(_[0][1])&&o(_[0][2])){if(_.some(function(S){return S.length!==3||!o(S[0])||!o(S[1])||!o(S[2])}))return!1}else return!1;return!0}function m(_,S,w,O,x){var N=s(t(t(i(w,_),i(O,S)),x)),M=a(t(i(w,w),i(O,O)));return c(N,M)}function y(_,S,w,O,x,N,M,I,q){var z=[n(i(n(x,S),q),i(n(N,w),I)),n(i(n(N,w),M),i(n(O,_),q)),n(i(n(O,_),I),i(n(x,S),M))];z=a(t(t(i(z[0],z[0]),i(z[1],z[1])),i(z[2],z[2])));var R=a(t(t(i(M,M),i(I,I)),i(q,q)));return c(z,R)}function g(_,S){for(var w=_.length,O=0,x=0,N=0;N<w;N++)x=n(_[N],S[N]),O=t(i(x,x),O);return a(O)}function b(_){for(var S=[],w=[],O=[],x=0;x<_.length-1;x++)for(var N=x+1;N<_.length;N++)_[0].length===2?(w=[_[x][0],_[x][1]],O=[_[N][0],_[N][1]]):_[0].length===3&&(w=[_[x][0],_[x][1],_[x][2]],O=[_[N][0],_[N][1],_[N][2]]),S.push(g(w,O));return S}});x0.createDistance=a3e});var qJ=D(O0=>{"use strict";Object.defineProperty(O0,"__esModule",{value:!0});O0.createIntersect=void 0;var s3e=He(),o3e=oe(),c3e="intersect",u3e=["typed","config","abs","add","addScalar","matrix","multiply","multiplyScalar","divideScalar","subtract","smaller","equalScalar"],l3e=(0,o3e.factory)(c3e,u3e,function(e){var r=e.typed,t=e.config,n=e.abs,i=e.add,c=e.addScalar,u=e.matrix,a=e.multiply,s=e.multiplyScalar,o=e.divideScalar,l=e.subtract,d=e.smaller,p=e.equalScalar,f=r("intersect",{"Array, Array, Array":function(O,x,N){if(!m(O))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!m(x))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");if(!y(N))throw new TypeError("Array with 4 numbers expected as third argument");return S(O[0],O[1],O[2],x[0],x[1],x[2],N[0],N[1],N[2],N[3])},"Array, Array, Array, Array":function(O,x,N,M){if(O.length===2){if(!h(O))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!h(x))throw new TypeError("Array with 2 numbers or BigNumbers expected for second argument");if(!h(N))throw new TypeError("Array with 2 numbers or BigNumbers expected for third argument");if(!h(M))throw new TypeError("Array with 2 numbers or BigNumbers expected for fourth argument");return g(O,x,N,M)}else if(O.length===3){if(!m(O))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!m(x))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");if(!m(N))throw new TypeError("Array with 3 numbers or BigNumbers expected for third argument");if(!m(M))throw new TypeError("Array with 3 numbers or BigNumbers expected for fourth argument");return _(O[0],O[1],O[2],x[0],x[1],x[2],N[0],N[1],N[2],M[0],M[1],M[2])}else throw new TypeError("Arrays with two or thee dimensional points expected")},"Matrix, Matrix, Matrix":function(O,x,N){return u(f(O.valueOf(),x.valueOf(),N.valueOf()))},"Matrix, Matrix, Matrix, Matrix":function(O,x,N,M){return u(f(O.valueOf(),x.valueOf(),N.valueOf(),M.valueOf()))}});function v(w){return typeof w=="number"||(0,s3e.isBigNumber)(w)}function h(w){return w.length===2&&v(w[0])&&v(w[1])}function m(w){return w.length===3&&v(w[0])&&v(w[1])&&v(w[2])}function y(w){return w.length===4&&v(w[0])&&v(w[1])&&v(w[2])&&v(w[3])}function g(w,O,x,N){var M=w,I=x,q=l(M,O),z=l(I,N),R=l(s(q[0],z[1]),s(z[0],q[1]));if(d(n(R),t.epsilon))return null;var j=s(z[0],M[1]),L=s(z[1],M[0]),P=s(z[0],I[1]),V=s(z[1],I[0]),E=o(c(l(l(j,L),P),V),R);return i(a(q,E),M)}function b(w,O,x,N,M,I,q,z,R,j,L,P){var V=s(l(w,O),l(x,N)),E=s(l(M,I),l(q,z)),Z=s(l(R,j),l(L,P));return c(c(V,E),Z)}function _(w,O,x,N,M,I,q,z,R,j,L,P){var V=b(w,q,j,q,O,z,L,z,x,R,P,R),E=b(j,q,N,w,L,z,M,O,P,R,I,x),Z=b(w,q,N,w,O,z,M,O,x,R,I,x),ue=b(j,q,j,q,L,z,L,z,P,R,P,R),ye=b(N,w,N,w,M,O,M,O,I,x,I,x),X=o(l(s(V,E),s(Z,ue)),l(s(ye,ue),s(E,E))),le=o(c(V,s(X,E)),ue),Oe=c(w,s(X,l(N,w))),ne=c(O,s(X,l(M,O))),fe=c(x,s(X,l(I,x))),Me=c(q,s(le,l(j,q))),me=c(z,s(le,l(L,z))),Ce=c(R,s(le,l(P,R)));return p(Oe,Me)&&p(ne,me)&&p(fe,Ce)?[Oe,ne,fe]:null}function S(w,O,x,N,M,I,q,z,R,j){var L=s(w,q),P=s(N,q),V=s(O,z),E=s(M,z),Z=s(x,R),ue=s(I,R),ye=o(l(l(l(j,L),V),Z),l(l(l(c(c(P,E),ue),L),V),Z)),X=c(w,s(ye,l(N,w))),le=c(O,s(ye,l(M,O))),Oe=c(x,s(ye,l(I,x)));return[X,le,Oe]}return f});O0.createIntersect=l3e});var LA=D(D0=>{"use strict";Object.defineProperty(D0,"__esModule",{value:!0});D0.createSum=void 0;var FA=Qe(),d3e=oe(),IJ=Qi(),BJ=To(),kJ="sum",p3e=["typed","config","add","?bignumber","?fraction"],f3e=(0,d3e.factory)(kJ,p3e,function(e){var r=e.typed,t=e.config,n=e.add,i=e.bignumber,c=e.fraction;return r(kJ,{"Array | Matrix":u,"Array | Matrix, number | BigNumber":a,"...":function(o){if((0,FA.containsCollections)(o))throw new TypeError("Scalar values expected in function sum");return u(o)}});function u(s){var o;if((0,FA.deepForEach)(s,function(l){try{o=o===void 0?l:n(o,l)}catch(d){throw(0,IJ.improveErrorMessage)(d,"sum",l)}}),o===void 0)switch(t.number){case"number":return 0;case"BigNumber":return i?i(0):(0,BJ.noBignumber)();case"Fraction":return c?c(0):(0,BJ.noFraction)();default:return 0}return o}function a(s,o){try{var l=(0,FA.reduce)(s,o,n);return l}catch(d){throw(0,IJ.improveErrorMessage)(d,"sum")}}});D0.createSum=f3e});var zA=D(N0=>{"use strict";Object.defineProperty(N0,"__esModule",{value:!0});N0.createMean=void 0;var UA=Qe(),h3e=er(),v3e=oe(),jJ=Qi(),TJ="mean",m3e=["typed","add","divide"],y3e=(0,v3e.factory)(TJ,m3e,function(e){var r=e.typed,t=e.add,n=e.divide;return r(TJ,{"Array | Matrix":c,"Array | Matrix, number | BigNumber":i,"...":function(a){if((0,UA.containsCollections)(a))throw new TypeError("Scalar values expected in function mean");return c(a)}});function i(u,a){try{var s=(0,UA.reduce)(u,a,t),o=Array.isArray(u)?(0,h3e.arraySize)(u):u.size();return n(s,o[a])}catch(l){throw(0,jJ.improveErrorMessage)(l,"mean")}}function c(u){var a,s=0;if((0,UA.deepForEach)(u,function(o){try{a=a===void 0?o:t(a,o),s++}catch(l){throw(0,jJ.improveErrorMessage)(l,"mean",o)}}),s===0)throw new Error("Cannot calculate the mean of an empty array");return n(a,s)}});N0.createMean=y3e});var FJ=D(C0=>{"use strict";Object.defineProperty(C0,"__esModule",{value:!0});C0.createMedian=void 0;var g3e=Qe(),b3e=er(),_3e=oe(),w3e=Qi(),RJ="median",S3e=["typed","add","divide","compare","partitionSelect"],x3e=(0,_3e.factory)(RJ,S3e,function(e){var r=e.typed,t=e.add,n=e.divide,i=e.compare,c=e.partitionSelect,u=r(RJ,{"Array | Matrix":a,"Array | Matrix, number | BigNumber":function(d,p){throw new Error("median(A, dim) is not yet supported")},"...":function(d){if((0,g3e.containsCollections)(d))throw new TypeError("Scalar values expected in function median");return a(d)}});function a(l){try{l=(0,b3e.flatten)(l.valueOf());var d=l.length;if(d===0)throw new Error("Cannot calculate median of an empty array");if(d%2===0){for(var p=d/2-1,f=c(l,p+1),v=l[p],h=0;h<p;++h)i(l[h],v)>0&&(v=l[h]);return o(v,f)}else{var m=c(l,(d-1)/2);return s(m)}}catch(y){throw(0,w3e.improveErrorMessage)(y,"median")}}var s=r({"number | BigNumber | Complex | Unit":function(d){return d}}),o=r({"number | BigNumber | Complex | Unit, number | BigNumber | Complex | Unit":function(d,p){return n(t(d,p),2)}});return u});C0.createMedian=x3e});var UJ=D(A0=>{"use strict";Object.defineProperty(A0,"__esModule",{value:!0});A0.createMad=void 0;var O3e=er(),D3e=oe(),N3e=Qi(),LJ="mad",C3e=["typed","abs","map","median","subtract"],A3e=(0,D3e.factory)(LJ,C3e,function(e){var r=e.typed,t=e.abs,n=e.map,i=e.median,c=e.subtract;return r(LJ,{"Array | Matrix":u,"...":function(s){return u(s)}});function u(a){if(a=(0,O3e.flatten)(a.valueOf()),a.length===0)throw new Error("Cannot calculate median absolute deviation (mad) of an empty array");try{var s=i(a);return i(n(a,function(o){return t(c(o,s))}))}catch(o){throw o instanceof TypeError&&o.message.indexOf("median")!==-1?new TypeError(o.message.replace("median","mad")):(0,N3e.improveErrorMessage)(o,"mad")}}});A0.createMad=A3e});var M0=D(nc=>{"use strict";Object.defineProperty(nc,"__esModule",{value:!0});nc.createDeprecatedVar=nc.createVariance=void 0;var zJ=Qe(),M3e=He(),GJ=oe(),JJ=Qi(),P3e=Ji(),JA="unbiased",VJ="variance",E3e=["typed","add","subtract","multiply","divide","apply","isNaN"],q3e=(0,GJ.factory)(VJ,E3e,function(e){var r=e.typed,t=e.add,n=e.subtract,i=e.multiply,c=e.divide,u=e.apply,a=e.isNaN;return r(VJ,{"Array | Matrix":function(d){return s(d,JA)},"Array | Matrix, string":s,"Array | Matrix, number | BigNumber":function(d,p){return o(d,p,JA)},"Array | Matrix, number | BigNumber, string":o,"...":function(d){return s(d,JA)}});function s(l,d){var p=0,f=0;if(l.length===0)throw new SyntaxError("Function variance requires one or more parameters (0 provided)");if((0,zJ.deepForEach)(l,function(m){try{p=t(p,m),f++}catch(y){throw(0,JJ.improveErrorMessage)(y,"variance",m)}}),f===0)throw new Error("Cannot calculate variance of an empty array");var v=c(p,f);if(p=0,(0,zJ.deepForEach)(l,function(m){var y=n(m,v);p=t(p,i(y,y))}),a(p))return p;switch(d){case"uncorrected":return c(p,f);case"biased":return c(p,f+1);case"unbiased":{var h=(0,M3e.isBigNumber)(p)?p.mul(0):0;return f===1?h:c(p,f-1)}default:throw new Error('Unknown normalization "'+d+'". Choose "unbiased" (default), "uncorrected", or "biased".')}}function o(l,d,p){try{if(l.length===0)throw new SyntaxError("Function variance requires one or more parameters (0 provided)");return u(l,d,function(f){return s(f,p)})}catch(f){throw(0,JJ.improveErrorMessage)(f,"variance")}}});nc.createVariance=q3e;var I3e=(0,GJ.factory)("var",["variance"],function(e){var r=e.variance;return function(){(0,P3e.warnOnce)('Function "var" has been renamed to "variance" in v6.0.0, please use the new function instead.');for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return r.apply(r,n)}});nc.createDeprecatedVar=I3e});var HJ=D(P0=>{"use strict";Object.defineProperty(P0,"__esModule",{value:!0});P0.createQuantileSeq=void 0;var ic=He(),B3e=gr(),k3e=er(),j3e=oe(),T3e="quantileSeq",R3e=["typed","add","multiply","partitionSelect","compare"],F3e=(0,j3e.factory)(T3e,R3e,function(e){var r=e.typed,t=e.add,n=e.multiply,i=e.partitionSelect,c=e.compare;function u(o,l,d){var p,f,v;if(arguments.length<2||arguments.length>3)throw new SyntaxError("Function quantileSeq requires two or three parameters");if((0,ic.isCollection)(o)){if(d=d||!1,typeof d=="boolean"){if(f=o.valueOf(),(0,ic.isNumber)(l)){if(l<0)throw new Error("N/prob must be non-negative");if(l<=1)return a(f,l,d);if(l>1){if(!(0,B3e.isInteger)(l))throw new Error("N must be a positive integer");var h=l+1;p=new Array(l);for(var m=0;m<l;)p[m]=a(f,++m/h,d);return p}}if((0,ic.isBigNumber)(l)){var y=l.constructor;if(l.isNegative())throw new Error("N/prob must be non-negative");if(v=new y(1),l.lte(v))return new y(a(f,l,d));if(l.gt(v)){if(!l.isInteger())throw new Error("N must be a positive integer");var g=l.toNumber();if(g>4294967295)throw new Error("N must be less than or equal to 2^32-1, as that is the maximum length of an Array");var b=new y(g+1);p=new Array(g);for(var _=0;_<g;)p[_]=new y(a(f,new y(++_).div(b),d));return p}}if(Array.isArray(l)){p=new Array(l.length);for(var S=0;S<p.length;++S){var w=l[S];if((0,ic.isNumber)(w)){if(w<0||w>1)throw new Error("Probability must be between 0 and 1, inclusive")}else if((0,ic.isBigNumber)(w)){if(v=new w.constructor(1),w.isNegative()||w.gt(v))throw new Error("Probability must be between 0 and 1, inclusive")}else throw new TypeError("Unexpected type of argument in function quantileSeq");p[S]=a(f,w,d)}return p}throw new TypeError("Unexpected type of argument in function quantileSeq")}throw new TypeError("Unexpected type of argument in function quantileSeq")}throw new TypeError("Unexpected type of argument in function quantileSeq")}function a(o,l,d){var p=(0,k3e.flatten)(o),f=p.length;if(f===0)throw new Error("Cannot calculate quantile of an empty sequence");if((0,ic.isNumber)(l)){var v=l*(f-1),h=v%1;if(h===0){var m=d?p[v]:i(p,v);return s(m),m}var y=Math.floor(v),g,b;if(d)g=p[y],b=p[y+1];else{b=i(p,y+1),g=p[y];for(var _=0;_<y;++_)c(p[_],g)>0&&(g=p[_])}return s(g),s(b),t(n(g,1-h),n(b,h))}var S=l.times(f-1);if(S.isInteger()){S=S.toNumber();var w=d?p[S]:i(p,S);return s(w),w}var O=S.floor(),x=S.minus(O),N=O.toNumber(),M,I;if(d)M=p[N],I=p[N+1];else{I=i(p,N+1),M=p[N];for(var q=0;q<N;++q)c(p[q],M)>0&&(M=p[q])}s(M),s(I);var z=new x.constructor(1);return t(n(M,z.minus(x)),n(I,x))}var s=r({"number | BigNumber | Unit":function(l){return l}});return u});P0.createQuantileSeq=F3e});var VA=D(E0=>{"use strict";Object.defineProperty(E0,"__esModule",{value:!0});E0.createStd=void 0;var L3e=oe(),WJ="std",U3e=["typed","sqrt","variance"],z3e=(0,L3e.factory)(WJ,U3e,function(e){var r=e.typed,t=e.sqrt,n=e.variance;return r(WJ,{"Array | Matrix":i,"Array | Matrix, string":i,"Array | Matrix, number | BigNumber":i,"Array | Matrix, number | BigNumber, string":i,"...":function(u){return i(u)}});function i(c,u){if(c.length===0)throw new SyntaxError("Function std requires one or more parameters (0 provided)");try{return t(n.apply(null,arguments))}catch(a){throw a instanceof TypeError&&a.message.indexOf(" variance")!==-1?new TypeError(a.message.replace(" variance"," std")):a}}});E0.createStd=z3e});var YJ=D(q0=>{"use strict";Object.defineProperty(q0,"__esModule",{value:!0});q0.createCombinations=void 0;var J3e=oe(),V3e=xC(),$J="combinations",G3e=["typed"],H3e=(0,J3e.factory)($J,G3e,function(e){var r=e.typed;return r($J,{"number, number":V3e.combinationsNumber,"BigNumber, BigNumber":function(n,i){var c=n.constructor,u,a,s=n.minus(i),o=new c(1);if(!QJ(n)||!QJ(i))throw new TypeError("Positive integer value expected in function combinations");if(i.gt(n))throw new TypeError("k must be less than n in function combinations");if(u=o,i.lt(s))for(a=o;a.lte(s);a=a.plus(o))u=u.times(i.plus(a)).dividedBy(a);else for(a=o;a.lte(i);a=a.plus(o))u=u.times(s.plus(a)).dividedBy(a);return u}})});q0.createCombinations=H3e;function QJ(e){return e.isInteger()&&e.gte(0)}});var eV=D(B0=>{"use strict";Object.defineProperty(B0,"__esModule",{value:!0});B0.createCombinationsWithRep=void 0;var W3e=oe(),ZJ=gr(),I0=wu(),XJ="combinationsWithRep",$3e=["typed"],Q3e=(0,W3e.factory)(XJ,$3e,function(e){var r=e.typed;return r(XJ,{"number, number":function(n,i){if(!(0,ZJ.isInteger)(n)||n<0)throw new TypeError("Positive integer value expected in function combinationsWithRep");if(!(0,ZJ.isInteger)(i)||i<0)throw new TypeError("Positive integer value expected in function combinationsWithRep");if(n<1)throw new TypeError("k must be less than or equal to n + k - 1");if(i<n-1){var c=(0,I0.product)(n,n+i-1);return c/(0,I0.product)(1,i)}var u=(0,I0.product)(i+1,n+i-1);return u/(0,I0.product)(1,n-1)},"BigNumber, BigNumber":function(n,i){var c=n.constructor,u,a,s=new c(1),o=n.minus(s);if(!KJ(n)||!KJ(i))throw new TypeError("Positive integer value expected in function combinationsWithRep");if(n.lt(s))throw new TypeError("k must be less than or equal to n + k - 1 in function combinationsWithRep");if(u=s,i.lt(o))for(a=s;a.lte(o);a=a.plus(s))u=u.times(i.plus(a)).dividedBy(a);else for(a=s;a.lte(i);a=a.plus(s))u=u.times(o.plus(a)).dividedBy(a);return u}})});B0.createCombinationsWithRep=Q3e;function KJ(e){return e.isInteger()&&e.gte(0)}});var tV=D(k0=>{"use strict";Object.defineProperty(k0,"__esModule",{value:!0});k0.createGamma=void 0;var Y3e=Qe(),Z3e=oe(),Ls=rr(),rV="gamma",X3e=["typed","config","multiplyScalar","pow","BigNumber","Complex"],K3e=(0,Z3e.factory)(rV,X3e,function(e){var r=e.typed,t=e.config,n=e.multiplyScalar,i=e.pow,c=e.BigNumber,u=e.Complex,a=r(rV,{number:Ls.gammaNumber,Complex:function(l){if(l.im===0)return a(l.re);l=new u(l.re-1,l.im);for(var d=new u(Ls.gammaP[0],0),p=1;p<Ls.gammaP.length;++p){var f=l.re+p,v=f*f+l.im*l.im;v!==0?(d.re+=Ls.gammaP[p]*f/v,d.im+=-(Ls.gammaP[p]*l.im)/v):d.re=Ls.gammaP[p]<0?-1/0:1/0}var h=new u(l.re+Ls.gammaG+.5,l.im),m=Math.sqrt(2*Math.PI);l.re+=.5;var y=i(h,l);y.im===0?y.re*=m:(y.re===0||(y.re*=m),y.im*=m);var g=Math.exp(-h.re);return h.re=g*Math.cos(-h.im),h.im=g*Math.sin(-h.im),n(n(y,h),d)},BigNumber:function(l){if(l.isInteger())return l.isNegative()||l.isZero()?new c(1/0):s(l.minus(1));if(!l.isFinite())return new c(l.isNegative()?NaN:1/0);throw new Error("Integer BigNumber expected")},"Array | Matrix":function(l){return(0,Y3e.deepMap)(l,a)}});function s(o){if(o<8)return new c([1,1,2,6,24,120,720,5040][o]);var l=t.precision+(Math.log(o.toNumber())|0),d=c.clone({precision:l});if(o%2===1)return o.times(s(new c(o-1)));for(var p=o,f=new d(o),v=o.toNumber();p>2;)p-=2,v+=p,f=f.times(v);return new c(f.toPrecision(c.precision))}return a});k0.createGamma=K3e});var iV=D(j0=>{"use strict";Object.defineProperty(j0,"__esModule",{value:!0});j0.createFactorial=void 0;var e4e=Qe(),r4e=oe(),nV="factorial",t4e=["typed","gamma"],n4e=(0,r4e.factory)(nV,t4e,function(e){var r=e.typed,t=e.gamma,n=r(nV,{number:function(c){if(c<0)throw new Error("Value must be non-negative");return t(c+1)},BigNumber:function(c){if(c.isNegative())throw new Error("Value must be non-negative");return t(c.plus(1))},"Array | Matrix":function(c){return(0,e4e.deepMap)(c,n)}});return n});j0.createFactorial=n4e});var sV=D(T0=>{"use strict";Object.defineProperty(T0,"__esModule",{value:!0});T0.createKldivergence=void 0;var i4e=oe(),aV="kldivergence",a4e=["typed","matrix","divide","sum","multiply","dotDivide","log","isNumeric"],s4e=(0,i4e.factory)(aV,a4e,function(e){var r=e.typed,t=e.matrix,n=e.divide,i=e.sum,c=e.multiply,u=e.dotDivide,a=e.log,s=e.isNumeric;return r(aV,{"Array, Array":function(d,p){return o(t(d),t(p))},"Matrix, Array":function(d,p){return o(d,t(p))},"Array, Matrix":function(d,p){return o(t(d),p)},"Matrix, Matrix":function(d,p){return o(d,p)}});function o(l,d){var p=d.size().length,f=l.size().length;if(p>1)throw new Error("first object must be one dimensional");if(f>1)throw new Error("second object must be one dimensional");if(p!==f)throw new Error("Length of two vectors must be equal");var v=i(l);if(v===0)throw new Error("Sum of elements in first object must be non zero");var h=i(d);if(h===0)throw new Error("Sum of elements in second object must be non zero");var m=n(l,i(l)),y=n(d,i(d)),g=i(c(m,a(u(m,y))));return s(g)?g:Number.NaN}});T0.createKldivergence=s4e});var cV=D(R0=>{"use strict";Object.defineProperty(R0,"__esModule",{value:!0});R0.createMultinomial=void 0;var o4e=Qe(),c4e=oe(),oV="multinomial",u4e=["typed","add","divide","multiply","factorial","isInteger","isPositive"],l4e=(0,c4e.factory)(oV,u4e,function(e){var r=e.typed,t=e.add,n=e.divide,i=e.multiply,c=e.factorial,u=e.isInteger,a=e.isPositive;return r(oV,{"Array | Matrix":function(o){var l=0,d=1;return(0,o4e.deepForEach)(o,function(p){if(!u(p)||!a(p))throw new TypeError("Positive integer value expected in function multinomial");l=t(l,p),d=i(d,c(p))}),n(c(l),d)}})});R0.createMultinomial=l4e});var pV=D(F0=>{"use strict";Object.defineProperty(F0,"__esModule",{value:!0});F0.createPermutations=void 0;var uV=gr(),d4e=wu(),p4e=oe(),lV="permutations",f4e=["typed","factorial"],h4e=(0,p4e.factory)(lV,f4e,function(e){var r=e.typed,t=e.factorial;return r(lV,{"number | BigNumber":t,"number, number":function(i,c){if(!(0,uV.isInteger)(i)||i<0)throw new TypeError("Positive integer value expected in function permutations");if(!(0,uV.isInteger)(c)||c<0)throw new TypeError("Positive integer value expected in function permutations");if(c>i)throw new TypeError("second argument k must be less than or equal to first argument n");return(0,d4e.product)(i-c+1,i)},"BigNumber, BigNumber":function(i,c){var u,a;if(!dV(i)||!dV(c))throw new TypeError("Positive integer value expected in function permutations");if(c.gt(i))throw new TypeError("second argument k must be less than or equal to first argument n");var s=i.mul(0).add(1);for(u=s,a=i.minus(c).plus(1);a.lte(i);a=a.plus(1))u=u.times(a);return u}})});F0.createPermutations=h4e;function dV(e){return e.isInteger()&&e.gte(0)}});var mV=D((PQr,U0)=>{"use strict";var ea=256,fV=6,v4e=52,L0=[],Ru=typeof global>"u"?window:global,m4e=Math.pow(ea,fV),hV=Math.pow(2,v4e),y4e=hV*2,Us=ea-1,g4e=Math.random;U0.exports=function(e,r){if(r&&r.global===!0)return r.global=!1,Math.random=U0.exports(e,r),r.global=!0,Math.random;var t=r&&r.entropy||!1,n=[],i=GA(vV(t?[e,Fu(L0)]:0 in arguments?e:_4e(),3),n),c=new b4e(n);return GA(Fu(c.S),L0),function(){for(var u=c.g(fV),a=m4e,s=0;u<hV;)u=(u+s)*ea,a*=ea,s=c.g(1);for(;u>=y4e;)u/=2,a/=2,s>>>=1;return(u+s)/a}};U0.exports.resetGlobal=function(){Math.random=g4e};function b4e(e){var r,t=e.length,n=this,i=0,c=n.i=n.j=0,u=n.S=[];for(t||(e=[t++]);i<ea;)u[i]=i++;for(i=0;i<ea;i++)u[i]=u[c=Us&c+e[i%t]+(r=u[i])],u[c]=r;(n.g=function(a){for(var s,o=0,l=n.i,d=n.j,p=n.S;a--;)s=p[l=Us&l+1],o=o*ea+p[Us&(p[l]=p[d=Us&d+s])+(p[d]=s)];return n.i=l,n.j=d,o})(ea)}function vV(e,r){var t=[],n=(typeof e)[0],i;if(r&&n=="o")for(i in e)try{t.push(vV(e[i],r-1))}catch{}return t.length?t:n=="s"?e:e+"\0"}function GA(e,r){for(var t=e+"",n,i=0;i<t.length;)r[Us&i]=Us&(n^=r[Us&i]*19)+t.charCodeAt(i++);return Fu(r)}function _4e(e){try{return Ru.crypto.getRandomValues(e=new Uint8Array(ea)),Fu(e)}catch{return[+new Date,Ru,Ru.navigator&&Ru.navigator.plugins,Ru.screen,Fu(L0)]}}function Fu(e){return String.fromCharCode.apply(0,e)}GA(Math.random(),L0)});var z0=D(HA=>{"use strict";Object.defineProperty(HA,"__esModule",{value:!0});HA.createRng=x4e;var yV=w4e(mV());function w4e(e){return e&&e.__esModule?e:{default:e}}var S4e=(0,yV.default)();function x4e(e){var r;function t(i){r=i===null?S4e:(0,yV.default)(String(i))}t(e);function n(){return r()}return n}});var bV=D(J0=>{"use strict";Object.defineProperty(J0,"__esModule",{value:!0});J0.createPickRandom=void 0;var O4e=oe(),D4e=He(),N4e=er(),gV=z0(),C4e="pickRandom",A4e=["typed","config","?on"],M4e=(0,O4e.factory)(C4e,A4e,function(e){var r=e.typed,t=e.config,n=e.on,i=(0,gV.createRng)(t.randomSeed);return n&&n("config",function(u,a){u.randomSeed!==a.randomSeed&&(i=(0,gV.createRng)(u.randomSeed))}),r({"Array | Matrix":function(a){return c(a)},"Array | Matrix, number":function(a,s){return c(a,s,void 0)},"Array | Matrix, Array":function(a,s){return c(a,void 0,s)},"Array | Matrix, Array | Matrix, number":function(a,s,o){return c(a,o,s)},"Array | Matrix, number, Array | Matrix":function(a,s,o){return c(a,s,o)}});function c(u,a,s){var o=typeof a>"u";if(o&&(a=1),u=u.valueOf(),s&&(s=s.valueOf()),(0,N4e.arraySize)(u).length>1)throw new Error("Only one dimensional vectors supported");var l=0;if(typeof s<"u"){if(s.length!==u.length)throw new Error("Weights must have the same length as possibles");for(var d=0,p=s.length;d<p;d++){if(!(0,D4e.isNumber)(s[d])||s[d]<0)throw new Error("Weights must be an array of positive numbers");l+=s[d]}}var f=u.length;if(f===0)return[];if(a>=f)return a>1?u:u[0];for(var v=[],h;v.length<a;){if(typeof s>"u")h=u[Math.floor(i()*f)];else for(var m=i()*l,y=0,g=u.length;y<g;y++)if(m-=s[y],m<0){h=u[y];break}v.indexOf(h)===-1&&v.push(h)}return o?v[0]:v}});J0.createPickRandom=M4e});var $A=D(WA=>{"use strict";Object.defineProperty(WA,"__esModule",{value:!0});WA.randomMatrix=_V;function _V(e,r){var t=[];if(e=e.slice(0),e.length>1)for(var n=0,i=e.shift();n<i;n++)t.push(_V(e,r));else for(var c=0,u=e.shift();c<u;c++)t.push(r());return t}});var SV=D(ac=>{"use strict";Object.defineProperty(ac,"__esModule",{value:!0});ac.createRandomNumber=ac.createRandom=void 0;var wV=oe(),P4e=He(),V0=z0(),E4e=$A(),G0="random",q4e=["typed","config","?on"],I4e=(0,wV.factory)(G0,q4e,function(e){var r=e.typed,t=e.config,n=e.on,i=(0,V0.createRng)(t.randomSeed);return n&&n("config",function(a,s){a.randomSeed!==s.randomSeed&&(i=(0,V0.createRng)(a.randomSeed))}),r(G0,{"":function(){return u(0,1)},number:function(s){return u(0,s)},"number, number":function(s,o){return u(s,o)},"Array | Matrix":function(s){return c(s,0,1)},"Array | Matrix, number":function(s,o){return c(s,0,o)},"Array | Matrix, number, number":function(s,o,l){return c(s,o,l)}});function c(a,s,o){var l=(0,E4e.randomMatrix)(a.valueOf(),function(){return u(s,o)});return(0,P4e.isMatrix)(a)?a.create(l):l}function u(a,s){return a+i()*(s-a)}});ac.createRandom=I4e;var B4e=(0,wV.factory)(G0,["typed","config","?on"],function(e){var r=e.typed,t=e.config,n=e.on,i=e.matrix,c=(0,V0.createRng)(t.randomSeed);return n&&n("config",function(a,s){a.randomSeed!==s.randomSeed&&(c=(0,V0.createRng)(a.randomSeed))}),r(G0,{"":function(){return u(0,1)},number:function(s){return u(0,s)},"number, number":function(s,o){return u(s,o)}});function u(a,s){return a+c()*(s-a)}});ac.createRandomNumber=B4e});var DV=D(H0=>{"use strict";Object.defineProperty(H0,"__esModule",{value:!0});H0.createRandomInt=void 0;var k4e=oe(),j4e=$A(),xV=z0(),T4e=He(),OV="randomInt",R4e=["typed","config","?on"],F4e=(0,k4e.factory)(OV,R4e,function(e){var r=e.typed,t=e.config,n=e.on,i=(0,xV.createRng)(t.randomSeed);return n&&n("config",function(a,s){a.randomSeed!==s.randomSeed&&(i=(0,xV.createRng)(a.randomSeed))}),r(OV,{"":function(){return u(0,1)},number:function(s){return u(0,s)},"number, number":function(s,o){return u(s,o)},"Array | Matrix":function(s){return c(s,0,1)},"Array | Matrix, number":function(s,o){return c(s,0,o)},"Array | Matrix, number, number":function(s,o,l){return c(s,o,l)}});function c(a,s,o){var l=(0,j4e.randomMatrix)(a.valueOf(),function(){return u(s,o)});return(0,T4e.isMatrix)(a)?a.create(l):l}function u(a,s){return Math.floor(a+i()*(s-a))}});H0.createRandomInt=F4e});var CV=D(W0=>{"use strict";Object.defineProperty(W0,"__esModule",{value:!0});W0.createStirlingS2=void 0;var L4e=oe(),NV="stirlingS2",U4e=["typed","addScalar","subtract","multiplyScalar","divideScalar","pow","factorial","combinations","isNegative","isInteger","larger"],z4e=(0,L4e.factory)(NV,U4e,function(e){var r=e.typed,t=e.addScalar,n=e.subtract,i=e.multiplyScalar,c=e.divideScalar,u=e.pow,a=e.factorial,s=e.combinations,o=e.isNegative,l=e.isInteger,d=e.larger;return r(NV,{"number | BigNumber, number | BigNumber":function(f,v){if(!l(f)||o(f)||!l(v)||o(v))throw new TypeError("Non-negative integer value expected in function stirlingS2");if(d(v,f))throw new TypeError("k must be less than or equal to n in function stirlingS2");for(var h=a(v),m=0,y=0;y<=v;y++){var g=u(-1,n(v,y)),b=s(v,y),_=u(y,f);m=t(m,i(i(b,_),g))}return c(m,h)}})});W0.createStirlingS2=z4e});var MV=D($0=>{"use strict";Object.defineProperty($0,"__esModule",{value:!0});$0.createBellNumbers=void 0;var J4e=oe(),AV="bellNumbers",V4e=["typed","addScalar","isNegative","isInteger","stirlingS2"],G4e=(0,J4e.factory)(AV,V4e,function(e){var r=e.typed,t=e.addScalar,n=e.isNegative,i=e.isInteger,c=e.stirlingS2;return r(AV,{"number | BigNumber":function(a){if(!i(a)||n(a))throw new TypeError("Non-negative integer value expected in function bellNumbers");for(var s=0,o=0;o<=a;o++)s=t(s,c(a,o));return s}})});$0.createBellNumbers=G4e});var EV=D(Q0=>{"use strict";Object.defineProperty(Q0,"__esModule",{value:!0});Q0.createCatalan=void 0;var H4e=oe(),PV="catalan",W4e=["typed","addScalar","divideScalar","multiplyScalar","combinations","isNegative","isInteger"],$4e=(0,H4e.factory)(PV,W4e,function(e){var r=e.typed,t=e.addScalar,n=e.divideScalar,i=e.multiplyScalar,c=e.combinations,u=e.isNegative,a=e.isInteger;return r(PV,{"number | BigNumber":function(o){if(!a(o)||u(o))throw new TypeError("Non-negative integer value expected in function catalan");return n(c(i(o,2),o),t(o,1))}})});Q0.createCatalan=$4e});var IV=D(Y0=>{"use strict";Object.defineProperty(Y0,"__esModule",{value:!0});Y0.createComposition=void 0;var Q4e=oe(),qV="composition",Y4e=["typed","addScalar","combinations","isNegative","isPositive","isInteger","larger"],Z4e=(0,Q4e.factory)(qV,Y4e,function(e){var r=e.typed,t=e.addScalar,n=e.combinations,i=e.isPositive,c=e.isNegative,u=e.isInteger,a=e.larger;return r(qV,{"number | BigNumber, number | BigNumber":function(o,l){if(!u(o)||!i(o)||!u(l)||!i(l))throw new TypeError("Positive integer value expected in function composition");if(a(l,o))throw new TypeError("k must be less than or equal to n in function composition");return n(t(o,-1),t(l,-1))}})});Y0.createComposition=Z4e});var QA=D(K0=>{"use strict";Object.defineProperty(K0,"__esModule",{value:!0});K0.createUtil=void 0;var Z0=He(),X4e=oe(),X0=yr(),K4e="simplifyUtil",e5e=["FunctionNode","OperatorNode","SymbolNode"],r5e=(0,X4e.factory)(K4e,e5e,function(e){var r=e.FunctionNode,t=e.OperatorNode,n=e.SymbolNode,i={add:!0,multiply:!0},c={add:!0,multiply:!0};function u(f,v){if(!(0,Z0.isOperatorNode)(f))return!0;var h=f.fn.toString();return v&&(0,X0.hasOwnProperty)(v,h)&&(0,X0.hasOwnProperty)(v[h],"commutative")?v[h].commutative:i[h]||!1}function a(f,v){if(!(0,Z0.isOperatorNode)(f))return!1;var h=f.fn.toString();return v&&(0,X0.hasOwnProperty)(v,h)&&(0,X0.hasOwnProperty)(v[h],"associative")?v[h].associative:c[h]||!1}function s(f){if(!f.args||f.args.length===0)return f;f.args=o(f);for(var v=0;v<f.args.length;v++)s(f.args[v])}function o(f){var v,h=[],m=function y(g){for(var b=0;b<g.args.length;b++){var _=g.args[b];(0,Z0.isOperatorNode)(_)&&v===_.op?y(_):h.push(_)}};return a(f)?(v=f.op,m(f),h):f.args}function l(f){if(!(!f.args||f.args.length===0)){for(var v=p(f),h=f.args.length,m=0;m<h;m++)l(f.args[m]);if(h>2&&a(f)){for(var y=f.args.pop();f.args.length>0;)y=v([f.args.pop(),y]);f.args=y.args}}}function d(f){if(!(!f.args||f.args.length===0)){for(var v=p(f),h=f.args.length,m=0;m<h;m++)d(f.args[m]);if(h>2&&a(f)){for(var y=f.args.shift();f.args.length>0;)y=v([y,f.args.shift()]);f.args=y.args}}}function p(f){return(0,Z0.isOperatorNode)(f)?function(v){try{return new t(f.op,f.fn,v,f.implicit)}catch(h){return console.error(h),[]}}:function(v){return new r(new n(f.name),v)}}return{createMakeNodeFunction:p,isCommutative:u,isAssociative:a,flatten:s,allChildren:o,unflattenr:l,unflattenl:d}});K0.createUtil=r5e});var YA=D(e_=>{"use strict";Object.defineProperty(e_,"__esModule",{value:!0});e_.createSimplifyCore=void 0;var Yr=He(),t5e=oe(),n5e="simplifyCore",i5e=["equal","isZero","add","subtract","multiply","divide","pow","ConstantNode","OperatorNode","FunctionNode","ParenthesisNode"],a5e=(0,t5e.factory)(n5e,i5e,function(e){var r=e.equal,t=e.isZero,n=e.add,i=e.subtract,c=e.multiply,u=e.divide,a=e.pow,s=e.ConstantNode,o=e.OperatorNode,l=e.FunctionNode,d=e.ParenthesisNode,p=new s(0),f=new s(1);function v(h){if((0,Yr.isOperatorNode)(h)&&h.isUnary()){var m=v(h.args[0]);if(h.op==="+")return m;if(h.op==="-"){if((0,Yr.isOperatorNode)(m)){if(m.isUnary()&&m.op==="-")return m.args[0];if(m.isBinary()&&m.fn==="subtract")return new o("-","subtract",[m.args[1],m.args[0]])}return new o(h.op,h.fn,[m])}}else if((0,Yr.isOperatorNode)(h)&&h.isBinary()){var y=v(h.args[0]),g=v(h.args[1]);if(h.op==="+"){if((0,Yr.isConstantNode)(y)){if(t(y.value))return g;if((0,Yr.isConstantNode)(g))return new s(n(y.value,g.value))}return(0,Yr.isConstantNode)(g)&&t(g.value)?y:(0,Yr.isOperatorNode)(g)&&g.isUnary()&&g.op==="-"?new o("-","subtract",[y,g.args[0]]):new o(h.op,h.fn,g?[y,g]:[y])}else if(h.op==="-"){if((0,Yr.isConstantNode)(y)&&g){if((0,Yr.isConstantNode)(g))return new s(i(y.value,g.value));if(t(y.value))return new o("-","unaryMinus",[g])}if(h.fn==="subtract")return(0,Yr.isConstantNode)(g)&&t(g.value)?y:(0,Yr.isOperatorNode)(g)&&g.isUnary()&&g.op==="-"?v(new o("+","add",[y,g.args[0]])):new o(h.op,h.fn,[y,g])}else if(h.op==="*"){if((0,Yr.isConstantNode)(y)){if(t(y.value))return p;if(r(y.value,1))return g;if((0,Yr.isConstantNode)(g))return new s(c(y.value,g.value))}if((0,Yr.isConstantNode)(g)){if(t(g.value))return p;if(r(g.value,1))return y;if((0,Yr.isOperatorNode)(y)&&y.isBinary()&&y.op===h.op){var b=y.args[0];if((0,Yr.isConstantNode)(b)){var _=new s(c(b.value,g.value));return new o(h.op,h.fn,[_,y.args[1]],h.implicit)}}return new o(h.op,h.fn,[g,y],h.implicit)}return new o(h.op,h.fn,[y,g],h.implicit)}else if(h.op==="/"){if((0,Yr.isConstantNode)(y)){if(t(y.value))return p;if((0,Yr.isConstantNode)(g)&&(r(g.value,1)||r(g.value,2)||r(g.value,4)))return new s(u(y.value,g.value))}return new o(h.op,h.fn,[y,g])}else if(h.op==="^"){if((0,Yr.isConstantNode)(g)){if(t(g.value))return f;if(r(g.value,1))return y;if((0,Yr.isConstantNode)(y))return new s(a(y.value,g.value));if((0,Yr.isOperatorNode)(y)&&y.isBinary()&&y.op==="^"){var S=y.args[1];if((0,Yr.isConstantNode)(S))return new o(h.op,h.fn,[y.args[0],new s(c(S.value,g.value))])}}return new o(h.op,h.fn,[y,g])}}else if((0,Yr.isParenthesisNode)(h)){var w=v(h.content);return(0,Yr.isParenthesisNode)(w)||(0,Yr.isSymbolNode)(w)||(0,Yr.isConstantNode)(w)?w:new d(w)}else if((0,Yr.isFunctionNode)(h)){var O=h.args.map(v).map(function(x){return(0,Yr.isParenthesisNode)(x)?x.content:x});return new l(v(h.fn),O)}return h}return v});e_.createSimplifyCore=a5e});var ZA=D(r_=>{"use strict";Object.defineProperty(r_,"__esModule",{value:!0});r_.createSimplifyConstant=void 0;var ri=He(),s5e=oe(),o5e=QA(),BV=To(),c5e="simplifyConstant",u5e=["typed","config","mathWithTransform","?fraction","?bignumber","ConstantNode","OperatorNode","FunctionNode","SymbolNode"],l5e=(0,s5e.factory)(c5e,u5e,function(e){var r=e.typed,t=e.config,n=e.mathWithTransform,i=e.fraction,c=e.bignumber,u=e.ConstantNode,a=e.OperatorNode,s=e.FunctionNode,o=e.SymbolNode,l=(0,o5e.createUtil)({FunctionNode:s,OperatorNode:a,SymbolNode:o}),d=l.isCommutative,p=l.isAssociative,f=l.allChildren,v=l.createMakeNodeFunction;function h(x,N){var M=O(x,N);return(0,ri.isNode)(M)?M:y(M)}function m(x,N,M){try{return b(n[x].apply(null,N),M)}catch{return N=N.map(function(q){return(0,ri.isFraction)(q)?q.valueOf():q}),b(n[x].apply(null,N),M)}}var y=r({Fraction:S,number:function(N){return N<0?_(new u(-N)):new u(N)},BigNumber:function(N){return N<0?_(new u(-N)):new u(N)},Complex:function(N){throw new Error("Cannot convert Complex number to Node")}});function g(x,N){var M=N&&N.exactFractions!==!1;if(M&&isFinite(x)&&i){var I=i(x);if(I.valueOf()===x)return I}return x}var b=r({"string, Object":function(N,M){if(t.number==="BigNumber")return c===void 0&&(0,BV.noBignumber)(),c(N);if(t.number==="Fraction")return i===void 0&&(0,BV.noFraction)(),i(N);var I=parseFloat(N);return g(I,M)},"Fraction, Object":function(N,M){return N},"BigNumber, Object":function(N,M){return N},"number, Object":function(N,M){return g(N,M)},"Complex, Object":function(N,M){return N.im!==0?N:g(N.re,M)}});function _(x){return new a("-","unaryMinus",[x])}function S(x){var N,M=x.s*x.n;return M<0?N=new a("-","unaryMinus",[new u(-M)]):N=new u(M),x.d===1?N:new a("/","divide",[N,new u(x.d)])}function w(x,N,M,I){return N.reduce(function(q,z){if(!(0,ri.isNode)(q)&&!(0,ri.isNode)(z)){try{return m(x,[q,z],I)}catch{}q=y(q),z=y(z)}else(0,ri.isNode)(q)?(0,ri.isNode)(z)||(z=y(z)):q=y(q);return M([q,z])})}function O(x,N){switch(x.type){case"SymbolNode":return x;case"ConstantNode":return typeof x.value=="number"||!isNaN(x.value)?b(x.value,N):x;case"FunctionNode":if(n[x.name]&&n[x.name].rawArgs)return x;{var M=["add","multiply"];if(M.indexOf(x.name)===-1){var I=x.args.map(function(E){return O(E,N)});if(!I.some(ri.isNode))try{return m(x.name,I,N)}catch{}return I=I.map(function(E){return(0,ri.isNode)(E)?E:y(E)}),new s(x.name,I)}}case"OperatorNode":{var q=x.fn.toString(),z,R,j=v(x);if((0,ri.isOperatorNode)(x)&&x.isUnary())z=[O(x.args[0],N)],(0,ri.isNode)(z[0])?R=j(z):R=m(q,z,N);else if(p(x))if(z=f(x),z=z.map(function(E){return O(E,N)}),d(q)){for(var L=[],P=[],V=0;V<z.length;V++)(0,ri.isNode)(z[V])?P.push(z[V]):L.push(z[V]);L.length>1?(R=w(q,L,j,N),P.unshift(R),R=w(q,P,j,N)):R=w(q,z,j,N)}else R=w(q,z,j,N);else z=x.args.map(function(E){return O(E,N)}),R=w(q,z,j,N);return R}case"ParenthesisNode":return O(x.content,N);case"AccessorNode":case"ArrayNode":case"AssignmentNode":case"BlockNode":case"FunctionAssignmentNode":case"IndexNode":case"ObjectNode":case"RangeNode":case"ConditionalNode":default:throw new Error("Unimplemented node type in simplifyConstant: ".concat(x.type))}}return h});r_.createSimplifyConstant=l5e});var kV=D(t_=>{"use strict";Object.defineProperty(t_,"__esModule",{value:!0});t_.createResolve=void 0;var Lu=He(),d5e=oe(),p5e="resolve",f5e=["parse","FunctionNode","OperatorNode","ParenthesisNode"],h5e=(0,d5e.factory)(p5e,f5e,function(e){var r=e.parse,t=e.FunctionNode,n=e.OperatorNode,i=e.ParenthesisNode;function c(u,a){if(!a)return u;if((0,Lu.isSymbolNode)(u)){var s=a[u.name];if((0,Lu.isNode)(s))return c(s,a);if(typeof s=="number")return r(String(s))}else if((0,Lu.isOperatorNode)(u)){var o=u.args.map(function(d){return c(d,a)});return new n(u.op,u.fn,o,u.implicit)}else{if((0,Lu.isParenthesisNode)(u))return new i(c(u.content,a));if((0,Lu.isFunctionNode)(u)){var l=u.args.map(function(d){return c(d,a)});return new t(u.name,l)}}return u}return c});t_.createResolve=h5e});var RV=D(i_=>{"use strict";Object.defineProperty(i_,"__esModule",{value:!0});i_.createSimplify=void 0;var jV=He(),v5e=oe(),m5e=QA(),y5e=YA(),g5e=ZA(),b5e=kV(),TV=yr();function n_(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?n_=function(t){return typeof t}:n_=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n_(e)}var _5e="simplify",w5e=["config","typed","parse","add","subtract","multiply","divide","pow","isZero","equal","?fraction","?bignumber","mathWithTransform","ConstantNode","FunctionNode","OperatorNode","ParenthesisNode","SymbolNode"],S5e=(0,v5e.factory)(_5e,w5e,function(e){var r=e.config,t=e.typed,n=e.parse,i=e.add,c=e.subtract,u=e.multiply,a=e.divide,s=e.pow,o=e.isZero,l=e.equal,d=e.fraction,p=e.bignumber,f=e.mathWithTransform,v=e.ConstantNode,h=e.FunctionNode,m=e.OperatorNode,y=e.ParenthesisNode,g=e.SymbolNode,b=(0,g5e.createSimplifyConstant)({typed:t,config:r,mathWithTransform:f,fraction:d,bignumber:p,ConstantNode:v,OperatorNode:m,FunctionNode:h,SymbolNode:g}),_=(0,y5e.createSimplifyCore)({equal:l,isZero:o,add:i,subtract:c,multiply:u,divide:a,pow:s,ConstantNode:v,OperatorNode:m,FunctionNode:h,ParenthesisNode:y}),S=(0,b5e.createResolve)({parse:n,FunctionNode:h,OperatorNode:m,ParenthesisNode:y}),w=(0,m5e.createUtil)({FunctionNode:h,OperatorNode:m,SymbolNode:g}),O=w.isCommutative,x=w.isAssociative,N=w.flatten,M=w.unflattenr,I=w.unflattenl,q=w.createMakeNodeFunction,z=t("simplify",{string:function(fe){return z(n(fe),z.rules,{},{})},"string, Object":function(fe,Me){return z(n(fe),z.rules,Me,{})},"string, Object, Object":function(fe,Me,me){return z(n(fe),z.rules,Me,me)},"string, Array":function(fe,Me){return z(n(fe),Me,{},{})},"string, Array, Object":function(fe,Me,me){return z(n(fe),Me,me,{})},"string, Array, Object, Object":function(fe,Me,me,Ce){return z(n(fe),Me,me,Ce)},"Node, Object":function(fe,Me){return z(fe,z.rules,Me,{})},"Node, Object, Object":function(fe,Me,me){return z(fe,z.rules,Me,me)},Node:function(fe){return z(fe,z.rules,{},{})},"Node, Array":function(fe,Me){return z(fe,Me,{},{})},"Node, Array, Object":function(fe,Me,me){return z(fe,Me,me,{})},"Node, Array, Object, Object":function(fe,Me,me,Ce){Me=L(Me);var Be=S(fe,me);Be=R(Be);for(var je={},We=Be.toString({parenthesis:"all"});!je[We];){je[We]=!0,P=0;for(var Ge=0;Ge<Me.length;Ge++)typeof Me[Ge]=="function"?Be=Me[Ge](Be,Ce):(N(Be),Be=E(Be,Me[Ge])),I(Be);We=Be.toString({parenthesis:"all"})}return Be}});z.simplifyCore=_,z.resolve=S;function R(ne){return ne.transform(function(fe,Me,me){return(0,jV.isParenthesisNode)(fe)?R(fe.content):fe})}var j={true:!0,false:!0,e:!0,i:!0,Infinity:!0,LN2:!0,LN10:!0,LOG2E:!0,LOG10E:!0,NaN:!0,phi:!0,pi:!0,SQRT1_2:!0,SQRT2:!0,tau:!0};z.rules=[_,{l:"log(e)",r:"1"},{l:"n-n1",r:"n+-n1"},{l:"-(c*v)",r:"(-c) * v"},{l:"-v",r:"(-1) * v"},{l:"n/n1^n2",r:"n*n1^-n2"},{l:"n/n1",r:"n*n1^-1"},{l:"(n ^ n1) ^ n2",r:"n ^ (n1 * n2)"},{l:"n*n",r:"n^2"},{l:"n * n^n1",r:"n^(n1+1)"},{l:"n^n1 * n^n2",r:"n^(n1+n2)"},{l:"n+n",r:"2*n"},{l:"n+-n",r:"0"},{l:"n1*n2 + n2",r:"(n1+1)*n2"},{l:"n1*n3 + n2*n3",r:"(n1+n2)*n3"},{l:"n1 + -1 * (n2 + n3)",r:"n1 + -1 * n2 + -1 * n3"},b,{l:"(-n)*n1",r:"-(n*n1)"},{l:"c+v",r:"v+c",context:{add:{commutative:!1}}},{l:"v*c",r:"c*v",context:{multiply:{commutative:!1}}},{l:"n+-n1",r:"n-n1"},{l:"n*(n1^-1)",r:"n/n1"},{l:"n*n1^-n2",r:"n/n1^n2"},{l:"n1^-1",r:"1/n1"},{l:"n*(n1/n2)",r:"(n*n1)/n2"},{l:"n-(n1+n2)",r:"n-n1-n2"},{l:"1*n",r:"n"},{l:"n1/(n2/n3)",r:"(n1*n3)/n2"}];function L(ne){for(var fe=[],Me=0;Me<ne.length;Me++){var me=ne[Me],Ce=void 0,Be=n_(me);switch(Be){case"string":{var je=me.split("->");if(je.length===2)me={l:je[0],r:je[1]};else throw SyntaxError("Could not parse rule: "+me)}case"object":if(Ce={l:R(n(me.l)),r:R(n(me.r))},me.context&&(Ce.evaluate=me.context),me.evaluate&&(Ce.evaluate=n(me.evaluate)),x(Ce.l)){var We=q(Ce.l),Ge=V();Ce.expanded={},Ce.expanded.l=We([Ce.l.clone(),Ge]),N(Ce.expanded.l),M(Ce.expanded.l),Ce.expanded.r=We([Ce.r,Ge])}break;case"function":Ce=me;break;default:throw TypeError("Unsupported type of rule: "+Be)}fe.push(Ce)}return fe}var P=0;function V(){return new g("_p"+P++)}var E=t("applyRule",{"Node, Object":function(fe,Me){var me=fe;if(me instanceof m||me instanceof h){if(me.args)for(var Ce=0;Ce<me.args.length;Ce++)me.args[Ce]=E(me.args[Ce],Me)}else me instanceof y&&me.content&&(me.content=E(me.content,Me));var Be=Me.r,je=le(Me.l,me)[0];if(!je&&Me.expanded&&(Be=Me.expanded.r,je=le(Me.expanded.l,me)[0]),je){var We=me.implicit;me=Be.clone(),We&&"implicit"in Be&&(me.implicit=!0),me=me.transform(function(Ge){return Ge.isSymbolNode&&(0,TV.hasOwnProperty)(je.placeholders,Ge.name)?je.placeholders[Ge.name].clone():Ge})}return me}});function Z(ne,fe){var Me=[],me,Ce,Be=q(ne);if(O(ne,fe))for(var je=0;je<ne.args.length;je++)Ce=ne.args.slice(0),Ce.splice(je,1),me=Ce.length===1?Ce[0]:Be(Ce),Me.push(Be([ne.args[je],me]));else Ce=ne.args.slice(1),me=Ce.length===1?Ce[0]:Be(Ce),Me.push(Be([ne.args[0],me]));return Me}function ue(ne,fe){var Me={placeholders:{}};if(!ne.placeholders&&!fe.placeholders)return Me;if(ne.placeholders){if(!fe.placeholders)return ne}else return fe;for(var me in ne.placeholders)if(Me.placeholders[me]=ne.placeholders[me],(0,TV.hasOwnProperty)(fe.placeholders,me)&&!Oe(ne.placeholders[me],fe.placeholders[me]))return null;for(var Ce in fe.placeholders)Me.placeholders[Ce]=fe.placeholders[Ce];return Me}function ye(ne,fe){var Me=[];if(ne.length===0||fe.length===0)return Me;for(var me,Ce=0;Ce<ne.length;Ce++)for(var Be=0;Be<fe.length;Be++)me=ue(ne[Ce],fe[Be]),me&&Me.push(me);return Me}function X(ne){if(ne.length===0)return ne;for(var fe=ne.reduce(ye),Me=[],me={},Ce=0;Ce<fe.length;Ce++){var Be=JSON.stringify(fe[Ce]);me[Be]||(me[Be]=!0,Me.push(fe[Ce]))}return Me}function le(ne,fe,Me){var me=[{placeholders:{}}];if(ne instanceof m&&fe instanceof m||ne instanceof h&&fe instanceof h){if(ne instanceof m){if(ne.op!==fe.op||ne.fn!==fe.fn)return[]}else if(ne instanceof h&&ne.name!==fe.name)return[];if(fe.args.length===1&&ne.args.length===1||!x(fe)||Me){for(var Ce=[],Be=0;Be<ne.args.length;Be++){var je=le(ne.args[Be],fe.args[Be]);if(je.length===0)return[];Ce.push(je)}me=X(Ce)}else if(fe.args.length>=2&&ne.args.length===2){for(var We=Z(fe,ne.context),Ge=[],ie=0;ie<We.length;ie++){var pe=le(ne,We[ie],!0);Ge=Ge.concat(pe)}return Ge}else{if(ne.args.length>2)throw Error("Unexpected non-binary associative function: "+ne.toString());return[]}}else if(ne instanceof g){if(ne.name.length===0)throw new Error("Symbol in rule has 0 length...!?");if(j[ne.name]){if(ne.name!==fe.name)return[]}else if(ne.name[0]==="n"||ne.name.substring(0,2)==="_p")me[0].placeholders[ne.name]=fe;else if(ne.name[0]==="v")if(!(0,jV.isConstantNode)(fe))me[0].placeholders[ne.name]=fe;else return[];else if(ne.name[0]==="c")if(fe instanceof v)me[0].placeholders[ne.name]=fe;else return[];else throw new Error("Invalid symbol in rule: "+ne.name)}else if(ne instanceof v){if(!l(ne.value,fe.value))return[]}else return[];return me}function Oe(ne,fe){if(ne instanceof v&&fe instanceof v){if(!l(ne.value,fe.value))return!1}else if(ne instanceof g&&fe instanceof g){if(ne.name!==fe.name)return!1}else if(ne instanceof m&&fe instanceof m||ne instanceof h&&fe instanceof h){if(ne instanceof m){if(ne.op!==fe.op||ne.fn!==fe.fn)return!1}else if(ne instanceof h&&ne.name!==fe.name)return!1;if(ne.args.length!==fe.args.length)return!1;for(var Me=0;Me<ne.args.length;Me++)if(!Oe(ne.args[Me],fe.args[Me]))return!1}else return!1;return!0}return z});i_.createSimplify=S5e});var FV=D(a_=>{"use strict";Object.defineProperty(a_,"__esModule",{value:!0});a_.createDerivative=void 0;var Uu=He(),x5e=oe(),O5e="derivative",D5e=["typed","config","parse","simplify","equal","isZero","numeric","ConstantNode","FunctionNode","OperatorNode","ParenthesisNode","SymbolNode"],N5e=(0,x5e.factory)(O5e,D5e,function(e){var r=e.typed,t=e.config,n=e.parse,i=e.simplify,c=e.equal,u=e.isZero,a=e.numeric,s=e.ConstantNode,o=e.FunctionNode,l=e.OperatorNode,d=e.ParenthesisNode,p=e.SymbolNode,f=r("derivative",{"Node, SymbolNode, Object":function(_,S,w){var O={};h(O,_,S.name);var x=m(_,O);return w.simplify?i(x):x},"Node, SymbolNode":function(_,S){return f(_,S,{simplify:!0})},"string, SymbolNode":function(_,S){return f(n(_),S)},"string, SymbolNode, Object":function(_,S,w){return f(n(_),S,w)},"string, string":function(_,S){return f(n(_),n(S))},"string, string, Object":function(_,S,w){return f(n(_),n(S),w)},"Node, string":function(_,S){return f(_,n(S))},"Node, string, Object":function(_,S,w){return f(_,n(S),w)}});f._simplify=!0,f.toTex=function(b){return v.apply(null,b.args)};var v=r("_derivTex",{"Node, SymbolNode":function(_,S){return(0,Uu.isConstantNode)(_)&&(0,Uu.typeOf)(_.value)==="string"?v(n(_.value).toString(),S.toString(),1):v(_.toString(),S.toString(),1)},"Node, ConstantNode":function(_,S){if((0,Uu.typeOf)(S.value)==="string")return v(_,n(S.value));throw new Error("The second parameter to 'derivative' is a non-string constant")},"Node, SymbolNode, ConstantNode":function(_,S,w){return v(_.toString(),S.name,w.value)},"string, string, number":function(_,S,w){var O;return w===1?O="{d\\over d"+S+"}":O="{d^{"+w+"}\\over d"+S+"^{"+w+"}}",O+"\\left[".concat(_,"\\right]")}}),h=r("constTag",{"Object, ConstantNode, string":function(_,S){return _[S]=!0,!0},"Object, SymbolNode, string":function(_,S,w){return S.name!==w?(_[S]=!0,!0):!1},"Object, ParenthesisNode, string":function(_,S,w){return h(_,S.content,w)},"Object, FunctionAssignmentNode, string":function(_,S,w){return S.params.indexOf(w)===-1?(_[S]=!0,!0):h(_,S.expr,w)},"Object, FunctionNode | OperatorNode, string":function(_,S,w){if(S.args.length>0){for(var O=h(_,S.args[0],w),x=1;x<S.args.length;++x)O=h(_,S.args[x],w)&&O;if(O)return _[S]=!0,!0}return!1}}),m=r("_derivative",{"ConstantNode, Object":function(_){return g(0)},"SymbolNode, Object":function(_,S){return S[_]!==void 0?g(0):g(1)},"ParenthesisNode, Object":function(_,S){return new d(m(_.content,S))},"FunctionAssignmentNode, Object":function(_,S){return S[_]!==void 0?g(0):m(_.expr,S)},"FunctionNode, Object":function(_,S){if(_.args.length!==1&&y(_),S[_]!==void 0)return g(0);var w=_.args[0],O,x=!1,N=!1,M;switch(_.name){case"cbrt":x=!0,M=new l("*","multiply",[g(3),new l("^","pow",[w,new l("/","divide",[g(2),g(3)])])]);break;case"sqrt":case"nthRoot":if(_.args.length===1)x=!0,M=new l("*","multiply",[g(2),new o("sqrt",[w])]);else if(_.args.length===2)return O=new l("/","divide",[g(1),_.args[1]]),S[O]=S[_.args[1]],m(new l("^","pow",[w,O]),S);break;case"log10":O=g(10);case"log":if(!O&&_.args.length===1)M=w.clone(),x=!0;else if(_.args.length===1&&O||_.args.length===2&&S[_.args[1]]!==void 0)M=new l("*","multiply",[w.clone(),new o("log",[O||_.args[1]])]),x=!0;else if(_.args.length===2)return m(new l("/","divide",[new o("log",[w]),new o("log",[_.args[1]])]),S);break;case"pow":return S[O]=S[_.args[1]],m(new l("^","pow",[w,_.args[1]]),S);case"exp":M=new o("exp",[w.clone()]);break;case"sin":M=new o("cos",[w.clone()]);break;case"cos":M=new l("-","unaryMinus",[new o("sin",[w.clone()])]);break;case"tan":M=new l("^","pow",[new o("sec",[w.clone()]),g(2)]);break;case"sec":M=new l("*","multiply",[_,new o("tan",[w.clone()])]);break;case"csc":N=!0,M=new l("*","multiply",[_,new o("cot",[w.clone()])]);break;case"cot":N=!0,M=new l("^","pow",[new o("csc",[w.clone()]),g(2)]);break;case"asin":x=!0,M=new o("sqrt",[new l("-","subtract",[g(1),new l("^","pow",[w.clone(),g(2)])])]);break;case"acos":x=!0,N=!0,M=new o("sqrt",[new l("-","subtract",[g(1),new l("^","pow",[w.clone(),g(2)])])]);break;case"atan":x=!0,M=new l("+","add",[new l("^","pow",[w.clone(),g(2)]),g(1)]);break;case"asec":x=!0,M=new l("*","multiply",[new o("abs",[w.clone()]),new o("sqrt",[new l("-","subtract",[new l("^","pow",[w.clone(),g(2)]),g(1)])])]);break;case"acsc":x=!0,N=!0,M=new l("*","multiply",[new o("abs",[w.clone()]),new o("sqrt",[new l("-","subtract",[new l("^","pow",[w.clone(),g(2)]),g(1)])])]);break;case"acot":x=!0,N=!0,M=new l("+","add",[new l("^","pow",[w.clone(),g(2)]),g(1)]);break;case"sinh":M=new o("cosh",[w.clone()]);break;case"cosh":M=new o("sinh",[w.clone()]);break;case"tanh":M=new l("^","pow",[new o("sech",[w.clone()]),g(2)]);break;case"sech":N=!0,M=new l("*","multiply",[_,new o("tanh",[w.clone()])]);break;case"csch":N=!0,M=new l("*","multiply",[_,new o("coth",[w.clone()])]);break;case"coth":N=!0,M=new l("^","pow",[new o("csch",[w.clone()]),g(2)]);break;case"asinh":x=!0,M=new o("sqrt",[new l("+","add",[new l("^","pow",[w.clone(),g(2)]),g(1)])]);break;case"acosh":x=!0,M=new o("sqrt",[new l("-","subtract",[new l("^","pow",[w.clone(),g(2)]),g(1)])]);break;case"atanh":x=!0,M=new l("-","subtract",[g(1),new l("^","pow",[w.clone(),g(2)])]);break;case"asech":x=!0,N=!0,M=new l("*","multiply",[w.clone(),new o("sqrt",[new l("-","subtract",[g(1),new l("^","pow",[w.clone(),g(2)])])])]);break;case"acsch":x=!0,N=!0,M=new l("*","multiply",[new o("abs",[w.clone()]),new o("sqrt",[new l("+","add",[new l("^","pow",[w.clone(),g(2)]),g(1)])])]);break;case"acoth":x=!0,N=!0,M=new l("-","subtract",[g(1),new l("^","pow",[w.clone(),g(2)])]);break;case"abs":M=new l("/","divide",[new o(new p("abs"),[w.clone()]),w.clone()]);break;case"gamma":default:throw new Error('Function "'+_.name+'" is not supported by derivative, or a wrong number of arguments is passed')}var I,q;x?(I="/",q="divide"):(I="*",q="multiply");var z=m(w,S);return N&&(z=new l("-","unaryMinus",[z])),new l(I,q,[z,M])},"OperatorNode, Object":function(_,S){if(S[_]!==void 0)return g(0);if(_.op==="+")return new l(_.op,_.fn,_.args.map(function(j){return m(j,S)}));if(_.op==="-"){if(_.isUnary())return new l(_.op,_.fn,[m(_.args[0],S)]);if(_.isBinary())return new l(_.op,_.fn,[m(_.args[0],S),m(_.args[1],S)])}if(_.op==="*"){var w=_.args.filter(function(j){return S[j]!==void 0});if(w.length>0){var O=_.args.filter(function(j){return S[j]===void 0}),x=O.length===1?O[0]:new l("*","multiply",O),N=w.concat(m(x,S));return new l("*","multiply",N)}return new l("+","add",_.args.map(function(j){return new l("*","multiply",_.args.map(function(L){return L===j?m(L,S):L.clone()}))}))}if(_.op==="/"&&_.isBinary()){var M=_.args[0],I=_.args[1];return S[I]!==void 0?new l("/","divide",[m(M,S),I]):S[M]!==void 0?new l("*","multiply",[new l("-","unaryMinus",[M]),new l("/","divide",[m(I,S),new l("^","pow",[I.clone(),g(2)])])]):new l("/","divide",[new l("-","subtract",[new l("*","multiply",[m(M,S),I.clone()]),new l("*","multiply",[M.clone(),m(I,S)])]),new l("^","pow",[I.clone(),g(2)])])}if(_.op==="^"&&_.isBinary()){var q=_.args[0],z=_.args[1];if(S[q]!==void 0)return(0,Uu.isConstantNode)(q)&&(u(q.value)||c(q.value,1))?g(0):new l("*","multiply",[_,new l("*","multiply",[new o("log",[q.clone()]),m(z.clone(),S)])]);if(S[z]!==void 0){if((0,Uu.isConstantNode)(z)){if(u(z.value))return g(0);if(c(z.value,1))return m(q,S)}var R=new l("^","pow",[q.clone(),new l("-","subtract",[z,g(1)])]);return new l("*","multiply",[z.clone(),new l("*","multiply",[m(q,S),R])])}return new l("*","multiply",[new l("^","pow",[q.clone(),z.clone()]),new l("+","add",[new l("*","multiply",[m(q,S),new l("/","divide",[z.clone(),q.clone()])]),new l("*","multiply",[m(z,S),new o("log",[q.clone()])])])])}throw new Error('Operator "'+_.op+'" is not supported by derivative, or a wrong number of arguments is passed')}});function y(b){if(!((b.name==="log"||b.name==="nthRoot"||b.name==="pow")&&b.args.length===2)){for(var _=0;_<b.args.length;++_)b.args[_]=g(0);throw b.compile().evaluate(),new Error("Expected TypeError, but none found")}}function g(b,_){return new s(a(b,_||t.number))}return f});a_.createDerivative=N5e});var UV=D(s_=>{"use strict";Object.defineProperty(s_,"__esModule",{value:!0});s_.createRationalize=void 0;var XA=gr(),C5e=oe(),A5e=ZA(),M5e=YA(),LV="rationalize",P5e=["config","typed","equal","isZero","add","subtract","multiply","divide","pow","parse","simplify","?bignumber","?fraction","mathWithTransform","ConstantNode","OperatorNode","FunctionNode","SymbolNode","ParenthesisNode"],E5e=(0,C5e.factory)(LV,P5e,function(e){var r=e.config,t=e.typed,n=e.equal,i=e.isZero,c=e.add,u=e.subtract,a=e.multiply,s=e.divide,o=e.pow,l=e.parse,d=e.simplify,p=e.fraction,f=e.bignumber,v=e.mathWithTransform,h=e.ConstantNode,m=e.OperatorNode,y=e.FunctionNode,g=e.SymbolNode,b=e.ParenthesisNode,_=(0,A5e.createSimplifyConstant)({typed:t,config:r,mathWithTransform:v,fraction:p,bignumber:f,ConstantNode:h,OperatorNode:m,FunctionNode:y,SymbolNode:g}),S=(0,M5e.createSimplifyCore)({equal:n,isZero:i,add:c,subtract:u,multiply:a,divide:s,pow:o,ConstantNode:h,OperatorNode:m,FunctionNode:y,ParenthesisNode:b}),w=t(LV,{string:function(q){return w(l(q),{},!1)},"string, boolean":function(q,z){return w(l(q),{},z)},"string, Object":function(q,z){return w(l(q),z,!1)},"string, Object, boolean":function(q,z,R){return w(l(q),z,R)},Node:function(q){return w(q,{},!1)},"Node, boolean":function(q,z){return w(q,{},z)},"Node, Object":function(q,z){return w(q,z,!1)},"Node, Object, boolean":function(q,z,R){var j=x(),L=O(q,z,!0,j.firstRules),P=L.variables.length;if(q=L.expression,P>=1){q=N(q);var V,E,Z=!0,ue=!1;q=d(q,j.firstRules,{},{exactFractions:!1});for(var ye;E=Z?j.distrDivRules:j.sucDivRules,q=d(q,E),Z=!Z,ye=q.toString(),ye!==V;)ue=!0,V=ye;ue&&(q=d(q,j.firstRulesAgain,{},{exactFractions:!1})),q=d(q,j.finalRules,{},{exactFractions:!1})}var X=[],le={};return q.type==="OperatorNode"&&q.isBinary()&&q.op==="/"?(P===1&&(q.args[0]=M(q.args[0],X),q.args[1]=M(q.args[1])),R&&(le.numerator=q.args[0],le.denominator=q.args[1])):(P===1&&(q=M(q,X)),R&&(le.numerator=q,le.denominator=null)),R?(le.coefficients=X,le.variables=L.variables,le.expression=q,le):q}});function O(I,q,z,R){var j=[],L=d(I,R,q,{exactFractions:!1});z=!!z;var P="+-*"+(z?"/":"");E(L);var V={};return V.expression=L,V.variables=j,V;function E(Z){var ue=Z.type;if(ue==="FunctionNode")throw new Error("There is an unsolved function call");if(ue==="OperatorNode")if(Z.op==="^"){if(Z.args[1].type!=="ConstantNode"||!(0,XA.isInteger)(parseFloat(Z.args[1].value)))throw new Error("There is a non-integer exponent");E(Z.args[0])}else{if(P.indexOf(Z.op)===-1)throw new Error("Operator "+Z.op+" invalid in polynomial expression");for(var ye=0;ye<Z.args.length;ye++)E(Z.args[ye])}else if(ue==="SymbolNode"){var X=Z.name,le=j.indexOf(X);le===-1&&j.push(X)}else if(ue==="ParenthesisNode")E(Z.content);else if(ue!=="ConstantNode")throw new Error("type "+ue+" is not allowed in polynomial expression")}}function x(){var I=[S,{l:"n+n",r:"2*n"},{l:"n+-n",r:"0"},_,{l:"n*(n1^-1)",r:"n/n1"},{l:"n*n1^-n2",r:"n/n1^n2"},{l:"n1^-1",r:"1/n1"},{l:"n*(n1/n2)",r:"(n*n1)/n2"},{l:"1*n",r:"n"}],q=[{l:"(-n1)/(-n2)",r:"n1/n2"},{l:"(-n1)*(-n2)",r:"n1*n2"},{l:"n1--n2",r:"n1+n2"},{l:"n1-n2",r:"n1+(-n2)"},{l:"(n1+n2)*n3",r:"(n1*n3 + n2*n3)"},{l:"n1*(n2+n3)",r:"(n1*n2+n1*n3)"},{l:"c1*n + c2*n",r:"(c1+c2)*n"},{l:"c1*n + n",r:"(c1+1)*n"},{l:"c1*n - c2*n",r:"(c1-c2)*n"},{l:"c1*n - n",r:"(c1-1)*n"},{l:"v/c",r:"(1/c)*v"},{l:"v/-c",r:"-(1/c)*v"},{l:"-v*-c",r:"c*v"},{l:"-v*c",r:"-c*v"},{l:"v*-c",r:"-c*v"},{l:"v*c",r:"c*v"},{l:"-(-n1*n2)",r:"(n1*n2)"},{l:"-(n1*n2)",r:"(-n1*n2)"},{l:"-(-n1+n2)",r:"(n1-n2)"},{l:"-(n1+n2)",r:"(-n1-n2)"},{l:"(n1^n2)^n3",r:"(n1^(n2*n3))"},{l:"-(-n1/n2)",r:"(n1/n2)"},{l:"-(n1/n2)",r:"(-n1/n2)"}],z=[{l:"(n1/n2 + n3/n4)",r:"((n1*n4 + n3*n2)/(n2*n4))"},{l:"(n1/n2 + n3)",r:"((n1 + n3*n2)/n2)"},{l:"(n1 + n2/n3)",r:"((n1*n3 + n2)/n3)"}],R=[{l:"(n1/(n2/n3))",r:"((n1*n3)/n2)"},{l:"(n1/n2/n3)",r:"(n1/(n2*n3))"}],j={};return j.firstRules=I.concat(q,R),j.distrDivRules=z,j.sucDivRules=R,j.firstRulesAgain=I.concat(q),j.finalRules=[S,{l:"n*-n",r:"-n^2"},{l:"n*n",r:"n^2"},_,{l:"n*-n^n1",r:"-n^(n1+1)"},{l:"n*n^n1",r:"n^(n1+1)"},{l:"n^n1*-n^n2",r:"-n^(n1+n2)"},{l:"n^n1*n^n2",r:"n^(n1+n2)"},{l:"n^n1*-n",r:"-n^(n1+1)"},{l:"n^n1*n",r:"n^(n1+1)"},{l:"n^n1/-n",r:"-n^(n1-1)"},{l:"n^n1/n",r:"n^(n1-1)"},{l:"n/-n^n1",r:"-n^(1-n1)"},{l:"n/n^n1",r:"n^(1-n1)"},{l:"n^n1/-n^n2",r:"n^(n1-n2)"},{l:"n^n1/n^n2",r:"n^(n1-n2)"},{l:"n1+(-n2*n3)",r:"n1-n2*n3"},{l:"v*(-c)",r:"-c*v"},{l:"n1+-n2",r:"n1-n2"},{l:"v*c",r:"c*v"},{l:"(n1^n2)^n3",r:"(n1^(n2*n3))"}],j}function N(I,q,z){var R=I.type,j=arguments.length>1;if(R==="OperatorNode"&&I.isBinary()){var L=!1,P;if(I.op==="^"&&(I.args[0].type==="ParenthesisNode"||I.args[0].type==="OperatorNode")&&I.args[1].type==="ConstantNode"&&(P=parseFloat(I.args[1].value),L=P>=2&&(0,XA.isInteger)(P)),L){if(P>2){var V=I.args[0],E=new m("^","pow",[I.args[0].cloneDeep(),new h(P-1)]);I=new m("*","multiply",[V,E])}else I=new m("*","multiply",[I.args[0],I.args[0].cloneDeep()]);j&&(z==="content"?q.content=I:q.args[z]=I)}}if(R==="ParenthesisNode")N(I.content,I,"content");else if(R!=="ConstantNode"&&R!=="SymbolNode")for(var Z=0;Z<I.args.length;Z++)N(I.args[Z],I,Z);if(!j)return I}function M(I,q){q===void 0&&(q=[]),q[0]=0;var z={};z.cte=1,z.oper="+",z.fire="";var R=0,j="";X(I,null,z),R=q.length-1;for(var L=!0,P,V=R;V>=0;V--)if(q[V]!==0){var E=new h(L?q[V]:Math.abs(q[V])),Z=q[V]<0?"-":"+";if(V>0){var ue=new g(j);if(V>1){var ye=new h(V);ue=new m("^","pow",[ue,ye])}q[V]===-1&&L?E=new m("-","unaryMinus",[ue]):Math.abs(q[V])===1?E=ue:E=new m("*","multiply",[E,ue])}L?P=E:Z==="+"?P=new m("+","add",[P,E]):P=new m("-","subtract",[P,E]),L=!1}if(L)return new h(0);return P;function X(le,Oe,ne){var fe=le.type;if(fe==="FunctionNode")throw new Error("There is an unsolved function call");if(fe==="OperatorNode"){if("+-*^".indexOf(le.op)===-1)throw new Error("Operator "+le.op+" invalid");if(Oe!==null){if((le.fn==="unaryMinus"||le.fn==="pow")&&Oe.fn!=="add"&&Oe.fn!=="subtract"&&Oe.fn!=="multiply")throw new Error("Invalid "+le.op+" placing");if((le.fn==="subtract"||le.fn==="add"||le.fn==="multiply")&&Oe.fn!=="add"&&Oe.fn!=="subtract")throw new Error("Invalid "+le.op+" placing");if((le.fn==="subtract"||le.fn==="add"||le.fn==="unaryMinus")&&ne.noFil!==0)throw new Error("Invalid "+le.op+" placing")}(le.op==="^"||le.op==="*")&&(ne.fire=le.op);for(var Me=0;Me<le.args.length;Me++)le.fn==="unaryMinus"&&(ne.oper="-"),(le.op==="+"||le.fn==="subtract")&&(ne.fire="",ne.cte=1,ne.oper=Me===0?"+":le.op),ne.noFil=Me,X(le.args[Me],le,ne)}else if(fe==="SymbolNode"){if(le.name!==j&&j!=="")throw new Error("There is more than one variable");if(j=le.name,Oe===null){q[1]=1;return}if(Oe.op==="^"&&ne.noFil!==0)throw new Error("In power the variable should be the first parameter");if(Oe.op==="*"&&ne.noFil!==1)throw new Error("In multiply the variable should be the second parameter");(ne.fire===""||ne.fire==="*")&&(R<1&&(q[1]=0),q[1]+=ne.cte*(ne.oper==="+"?1:-1),R=Math.max(1,R))}else if(fe==="ConstantNode"){var me=parseFloat(le.value);if(Oe===null){q[0]=me;return}if(Oe.op==="^"){if(ne.noFil!==1)throw new Error("Constant cannot be powered");if(!(0,XA.isInteger)(me)||me<=0)throw new Error("Non-integer exponent is not allowed");for(var Ce=R+1;Ce<me;Ce++)q[Ce]=0;me>R&&(q[me]=0),q[me]+=ne.cte*(ne.oper==="+"?1:-1),R=Math.max(me,R);return}ne.cte=me,ne.fire===""&&(q[0]+=ne.cte*(ne.oper==="+"?1:-1))}else throw new Error("Type "+fe+" is not allowed")}}return w});s_.createRationalize=E5e});var zV=D(o_=>{"use strict";Object.defineProperty(o_,"__esModule",{value:!0});o_.createReviver=void 0;var q5e=oe(),I5e="reviver",B5e=["classes"],k5e=(0,q5e.factory)(I5e,B5e,function(e){var r=e.classes;return function(n,i){var c=r[i&&i.mathjs];return c&&typeof c.fromJSON=="function"?c.fromJSON(i):i}});o_.createReviver=k5e});var JV=D(c_=>{"use strict";Object.defineProperty(c_,"__esModule",{value:!0});c_.createReplacer=void 0;var j5e=oe(),T5e="replacer",R5e=[],F5e=(0,j5e.factory)(T5e,R5e,function(){return function(r,t){return typeof t=="number"&&(!isFinite(t)||isNaN(t))?{mathjs:"number",value:String(t)}:t}});c_.createReplacer=F5e});var VV=D(u_=>{"use strict";Object.defineProperty(u_,"__esModule",{value:!0});u_.version=void 0;var L5e="6.6.5";u_.version=L5e});var GV=D(wr=>{"use strict";Object.defineProperty(wr,"__esModule",{value:!0});wr.createVersion=wr.createUppercaseE=wr.createUppercasePi=wr.createI=wr.createSQRT2=wr.createSQRT1_2=wr.createLOG10E=wr.createLOG2E=wr.createLN10=wr.createLN2=wr.createPhi=wr.createE=wr.createTau=wr.createPi=wr.createNaN=wr.createInfinity=wr.createNull=wr.createFalse=wr.createTrue=void 0;var zs=oe(),U5e=VV(),l_=tA(),d_=rr(),z5e=(0,zs.factory)("true",[],function(){return!0});wr.createTrue=z5e;var J5e=(0,zs.factory)("false",[],function(){return!1});wr.createFalse=J5e;var V5e=(0,zs.factory)("null",[],function(){return null});wr.createNull=V5e;var G5e=Bn("Infinity",["config","?BigNumber"],function(e){var r=e.config,t=e.BigNumber;return r.number==="BigNumber"?new t(1/0):1/0});wr.createInfinity=G5e;var H5e=Bn("NaN",["config","?BigNumber"],function(e){var r=e.config,t=e.BigNumber;return r.number==="BigNumber"?new t(NaN):NaN});wr.createNaN=H5e;var W5e=Bn("pi",["config","?BigNumber"],function(e){var r=e.config,t=e.BigNumber;return r.number==="BigNumber"?(0,l_.createBigNumberPi)(t):d_.pi});wr.createPi=W5e;var $5e=Bn("tau",["config","?BigNumber"],function(e){var r=e.config,t=e.BigNumber;return r.number==="BigNumber"?(0,l_.createBigNumberTau)(t):d_.tau});wr.createTau=$5e;var Q5e=Bn("e",["config","?BigNumber"],function(e){var r=e.config,t=e.BigNumber;return r.number==="BigNumber"?(0,l_.createBigNumberE)(t):d_.e});wr.createE=Q5e;var Y5e=Bn("phi",["config","?BigNumber"],function(e){var r=e.config,t=e.BigNumber;return r.number==="BigNumber"?(0,l_.createBigNumberPhi)(t):d_.phi});wr.createPhi=Y5e;var Z5e=Bn("LN2",["config","?BigNumber"],function(e){var r=e.config,t=e.BigNumber;return r.number==="BigNumber"?new t(2).ln():Math.LN2});wr.createLN2=Z5e;var X5e=Bn("LN10",["config","?BigNumber"],function(e){var r=e.config,t=e.BigNumber;return r.number==="BigNumber"?new t(10).ln():Math.LN10});wr.createLN10=X5e;var K5e=Bn("LOG2E",["config","?BigNumber"],function(e){var r=e.config,t=e.BigNumber;return r.number==="BigNumber"?new t(1).div(new t(2).ln()):Math.LOG2E});wr.createLOG2E=K5e;var e6e=Bn("LOG10E",["config","?BigNumber"],function(e){var r=e.config,t=e.BigNumber;return r.number==="BigNumber"?new t(1).div(new t(10).ln()):Math.LOG10E});wr.createLOG10E=e6e;var r6e=Bn("SQRT1_2",["config","?BigNumber"],function(e){var r=e.config,t=e.BigNumber;return r.number==="BigNumber"?new t("0.5").sqrt():Math.SQRT1_2});wr.createSQRT1_2=r6e;var t6e=Bn("SQRT2",["config","?BigNumber"],function(e){var r=e.config,t=e.BigNumber;return r.number==="BigNumber"?new t(2).sqrt():Math.SQRT2});wr.createSQRT2=t6e;var n6e=Bn("i",["Complex"],function(e){var r=e.Complex;return r.I});wr.createI=n6e;var i6e=(0,zs.factory)("PI",["pi"],function(e){var r=e.pi;return r});wr.createUppercasePi=i6e;var a6e=(0,zs.factory)("E",["e"],function(e){var r=e.e;return r});wr.createUppercaseE=a6e;var s6e=(0,zs.factory)("version",[],function(){return U5e.version});wr.createVersion=s6e;function Bn(e,r,t){return(0,zs.factory)(e,r,t,{recreateOnConfigChange:!0})}});var WV=D(Fe=>{"use strict";Object.defineProperty(Fe,"__esModule",{value:!0});Fe.createPlanckTemperature=Fe.createPlanckCharge=Fe.createPlanckTime=Fe.createPlanckMass=Fe.createPlanckLength=Fe.createGravity=Fe.createMolarMassC12=Fe.createMolarMass=Fe.createWienDisplacement=Fe.createStefanBoltzmann=Fe.createSecondRadiation=Fe.createSackurTetrode=Fe.createMolarVolume=Fe.createMolarPlanckConstant=Fe.createGasConstant=Fe.createLoschmidt=Fe.createFirstRadiation=Fe.createFaraday=Fe.createBoltzmann=Fe.createAvogadro=Fe.createAtomicMass=Fe.createEfimovFactor=Fe.createWeakMixingAngle=Fe.createThomsonCrossSection=Fe.createRydberg=Fe.createQuantumOfCirculation=Fe.createNeutronMass=Fe.createDeuteronMass=Fe.createProtonMass=Fe.createHartreeEnergy=Fe.createFineStructure=Fe.createFermiCoupling=Fe.createElectronMass=Fe.createClassicalElectronRadius=Fe.createBohrRadius=Fe.createJosephson=Fe.createKlitzing=Fe.createNuclearMagneton=Fe.createMagneticFluxQuantum=Fe.createInverseConductanceQuantum=Fe.createConductanceQuantum=Fe.createBohrMagneton=Fe.createElementaryCharge=Fe.createCoulomb=Fe.createVacuumImpedance=Fe.createElectricConstant=Fe.createMagneticConstant=Fe.createReducedPlanckConstant=Fe.createPlanckConstant=Fe.createGravitationConstant=Fe.createSpeedOfLight=void 0;var HV=oe(),o6e=fr("speedOfLight","299792458","m s^-1");Fe.createSpeedOfLight=o6e;var c6e=fr("gravitationConstant","6.67430e-11","m^3 kg^-1 s^-2");Fe.createGravitationConstant=c6e;var u6e=fr("planckConstant","6.62607015e-34","J s");Fe.createPlanckConstant=u6e;var l6e=fr("reducedPlanckConstant","1.0545718176461565e-34","J s");Fe.createReducedPlanckConstant=l6e;var d6e=fr("magneticConstant","1.25663706212e-6","N A^-2");Fe.createMagneticConstant=d6e;var p6e=fr("electricConstant","8.8541878128e-12","F m^-1");Fe.createElectricConstant=p6e;var f6e=fr("vacuumImpedance","376.730313667","ohm");Fe.createVacuumImpedance=f6e;var h6e=fr("coulomb","8.987551792261171e9","N m^2 C^-2");Fe.createCoulomb=h6e;var v6e=fr("elementaryCharge","1.602176634e-19","C");Fe.createElementaryCharge=v6e;var m6e=fr("bohrMagneton","9.2740100783e-24","J T^-1");Fe.createBohrMagneton=m6e;var y6e=fr("conductanceQuantum","7.748091729863649e-5","S");Fe.createConductanceQuantum=y6e;var g6e=fr("inverseConductanceQuantum","12906.403729652257","ohm");Fe.createInverseConductanceQuantum=g6e;var b6e=fr("magneticFluxQuantum","2.0678338484619295e-15","Wb");Fe.createMagneticFluxQuantum=b6e;var _6e=fr("nuclearMagneton","5.0507837461e-27","J T^-1");Fe.createNuclearMagneton=_6e;var w6e=fr("klitzing","25812.807459304513","ohm");Fe.createKlitzing=w6e;var S6e=fr("josephson","4.835978484169836e14 Hz V","Hz V^-1");Fe.createJosephson=S6e;var x6e=fr("bohrRadius","5.29177210903e-11","m");Fe.createBohrRadius=x6e;var O6e=fr("classicalElectronRadius","2.8179403262e-15","m");Fe.createClassicalElectronRadius=O6e;var D6e=fr("electronMass","9.1093837015e-31","kg");Fe.createElectronMass=D6e;var N6e=fr("fermiCoupling","1.1663787e-5","GeV^-2");Fe.createFermiCoupling=N6e;var C6e=p_("fineStructure",.0072973525693);Fe.createFineStructure=C6e;var A6e=fr("hartreeEnergy","4.3597447222071e-18","J");Fe.createHartreeEnergy=A6e;var M6e=fr("protonMass","1.67262192369e-27","kg");Fe.createProtonMass=M6e;var P6e=fr("deuteronMass","3.3435830926e-27","kg");Fe.createDeuteronMass=P6e;var E6e=fr("neutronMass","1.6749271613e-27","kg");Fe.createNeutronMass=E6e;var q6e=fr("quantumOfCirculation","3.6369475516e-4","m^2 s^-1");Fe.createQuantumOfCirculation=q6e;var I6e=fr("rydberg","10973731.568160","m^-1");Fe.createRydberg=I6e;var B6e=fr("thomsonCrossSection","6.6524587321e-29","m^2");Fe.createThomsonCrossSection=B6e;var k6e=p_("weakMixingAngle",.2229);Fe.createWeakMixingAngle=k6e;var j6e=p_("efimovFactor",22.7);Fe.createEfimovFactor=j6e;var T6e=fr("atomicMass","1.66053906660e-27","kg");Fe.createAtomicMass=T6e;var R6e=fr("avogadro","6.02214076e23","mol^-1");Fe.createAvogadro=R6e;var F6e=fr("boltzmann","1.380649e-23","J K^-1");Fe.createBoltzmann=F6e;var L6e=fr("faraday","96485.33212331001","C mol^-1");Fe.createFaraday=L6e;var U6e=fr("firstRadiation","3.7417718521927573e-16","W m^2");Fe.createFirstRadiation=U6e;var z6e=fr("loschmidt","2.686780111798444e25","m^-3");Fe.createLoschmidt=z6e;var J6e=fr("gasConstant","8.31446261815324","J K^-1 mol^-1");Fe.createGasConstant=J6e;var V6e=fr("molarPlanckConstant","3.990312712893431e-10","J s mol^-1");Fe.createMolarPlanckConstant=V6e;var G6e=fr("molarVolume","0.022413969545014137","m^3 mol^-1");Fe.createMolarVolume=G6e;var H6e=p_("sackurTetrode",-1.16487052358);Fe.createSackurTetrode=H6e;var W6e=fr("secondRadiation","0.014387768775039337","m K");Fe.createSecondRadiation=W6e;var $6e=fr("stefanBoltzmann","5.67037441918443e-8","W m^-2 K^-4");Fe.createStefanBoltzmann=$6e;var Q6e=fr("wienDisplacement","2.897771955e-3","m K");Fe.createWienDisplacement=Q6e;var Y6e=fr("molarMass","0.99999999965e-3","kg mol^-1");Fe.createMolarMass=Y6e;var Z6e=fr("molarMassC12","11.9999999958e-3","kg mol^-1");Fe.createMolarMassC12=Z6e;var X6e=fr("gravity","9.80665","m s^-2");Fe.createGravity=X6e;var K6e=fr("planckLength","1.616255e-35","m");Fe.createPlanckLength=K6e;var e8e=fr("planckMass","2.176435e-8","kg");Fe.createPlanckMass=e8e;var r8e=fr("planckTime","5.391245e-44","s");Fe.createPlanckTime=r8e;var t8e=fr("planckCharge","1.87554603778e-18","C");Fe.createPlanckCharge=t8e;var n8e=fr("planckTemperature","1.416785e+32","K");Fe.createPlanckTemperature=n8e;function fr(e,r,t){var n=["config","Unit","BigNumber"];return(0,HV.factory)(e,n,function(i){var c=i.config,u=i.Unit,a=i.BigNumber,s=c.number==="BigNumber"?new a(r):parseFloat(r),o=new u(s,t);return o.fixPrefix=!0,o})}function p_(e,r){var t=["config","BigNumber"];return(0,HV.factory)(e,t,function(n){var i=n.config,c=n.BigNumber;return i.number==="BigNumber"?new c(r):r})}});var QV=D(f_=>{"use strict";Object.defineProperty(f_,"__esModule",{value:!0});f_.createApplyTransform=void 0;var i8e=Sn(),a8e=oe(),s8e=PC(),$V=He(),o8e="apply",c8e=["typed","isInteger"],u8e=(0,a8e.factory)(o8e,c8e,function(e){var r=e.typed,t=e.isInteger,n=(0,s8e.createApply)({typed:r,isInteger:t});return r("apply",{"...any":function(c){var u=c[1];(0,$V.isNumber)(u)?c[1]=u-1:(0,$V.isBigNumber)(u)&&(c[1]=u.minus(1));try{return n.apply(null,c)}catch(a){throw(0,i8e.errorTransform)(a)}}})},{isTransformFunction:!0});f_.createApplyTransform=u8e});var YV=D(h_=>{"use strict";Object.defineProperty(h_,"__esModule",{value:!0});h_.createColumnTransform=void 0;var l8e=Sn(),d8e=oe(),p8e=kC(),f8e=He(),h8e="column",v8e=["typed","Index","matrix","range"],m8e=(0,d8e.factory)(h8e,v8e,function(e){var r=e.typed,t=e.Index,n=e.matrix,i=e.range,c=(0,p8e.createColumn)({typed:r,Index:t,matrix:n,range:i});return r("column",{"...any":function(a){var s=a.length-1,o=a[s];(0,f8e.isNumber)(o)&&(a[s]=o-1);try{return c.apply(null,a)}catch(l){throw(0,l8e.errorTransform)(l)}}})},{isTransformFunction:!0});h_.createColumnTransform=m8e});var v_=D(KA=>{"use strict";Object.defineProperty(KA,"__esModule",{value:!0});KA.compileInlineExpression=g8e;var y8e=He();function g8e(e,r,t){var n=e.filter(function(a){return(0,y8e.isSymbolNode)(a)&&!(a.name in r)&&!(a.name in t)})[0];if(!n)throw new Error('No undefined variable found in inline expression "'+e+'"');var i=n.name,c=Object.create(t),u=e.compile();return function(s){return c[i]=s,u.evaluate(c)}}});var KV=D(m_=>{"use strict";Object.defineProperty(m_,"__esModule",{value:!0});m_.createFilterTransform=void 0;var ZV=He(),eM=er(),b8e=Na(),_8e=v_(),w8e=oe(),S8e="filter",x8e=["typed"],O8e=(0,w8e.factory)(S8e,x8e,function(e){var r=e.typed;function t(i,c,u){var a,s;return i[0]&&(a=i[0].compile().evaluate(u)),i[1]&&((0,ZV.isSymbolNode)(i[1])||(0,ZV.isFunctionAssignmentNode)(i[1])?s=i[1].compile().evaluate(u):s=(0,_8e.compileInlineExpression)(i[1],c,u)),n(a,s)}t.rawArgs=!0;var n=r("filter",{"Array, function":XV,"Matrix, function":function(c,u){return c.create(XV(c.toArray(),u))},"Array, RegExp":eM.filterRegExp,"Matrix, RegExp":function(c,u){return c.create((0,eM.filterRegExp)(c.toArray(),u))}});return t},{isTransformFunction:!0});m_.createFilterTransform=O8e;function XV(e,r){var t=(0,b8e.maxArgumentCount)(r);return(0,eM.filter)(e,function(n,i,c){return t===1?r(n):t===2?r(n,[i+1]):r(n,[i+1],c)})}});var rG=D(y_=>{"use strict";Object.defineProperty(y_,"__esModule",{value:!0});y_.createForEachTransform=void 0;var eG=He(),D8e=Na(),N8e=er(),C8e=oe(),A8e=v_(),M8e="forEach",P8e=["typed"],E8e=(0,C8e.factory)(M8e,P8e,function(e){var r=e.typed;function t(i,c,u){var a,s;return i[0]&&(a=i[0].compile().evaluate(u)),i[1]&&((0,eG.isSymbolNode)(i[1])||(0,eG.isFunctionAssignmentNode)(i[1])?s=i[1].compile().evaluate(u):s=(0,A8e.compileInlineExpression)(i[1],c,u)),n(a,s)}t.rawArgs=!0;var n=r("forEach",{"Array | Matrix, function":function(c,u){var a=(0,D8e.maxArgumentCount)(u),s=function o(l,d){Array.isArray(l)?(0,N8e.forEach)(l,function(p,f){o(p,d.concat(f+1))}):a===1?u(l):a===2?u(l,d):u(l,d,c)};s(c.valueOf(),[])}});return t},{isTransformFunction:!0});y_.createForEachTransform=E8e});var tG=D(g_=>{"use strict";Object.defineProperty(g_,"__esModule",{value:!0});g_.createIndexTransform=void 0;var zu=He(),q8e=oe(),I8e="index",B8e=["Index"],k8e=(0,q8e.factory)(I8e,B8e,function(e){var r=e.Index;return function(){for(var n=[],i=0,c=arguments.length;i<c;i++){var u=arguments[i];if((0,zu.isRange)(u))u.start--,u.end-=u.step>0?0:2;else if(u&&u.isSet===!0)u=u.map(function(s){return s-1});else if((0,zu.isArray)(u)||(0,zu.isMatrix)(u))u=u.map(function(s){return s-1});else if((0,zu.isNumber)(u))u--;else if((0,zu.isBigNumber)(u))u=u.toNumber()-1;else if(typeof u!="string")throw new TypeError("Dimension must be an Array, Matrix, number, string, or Range");n[i]=u}var a=new r;return r.apply(a,n),a}},{isTransformFunction:!0});g_.createIndexTransform=k8e});var aG=D(b_=>{"use strict";Object.defineProperty(b_,"__esModule",{value:!0});b_.createMapTransform=void 0;var nG=He(),j8e=Na(),T8e=er(),R8e=oe(),F8e=v_(),L8e="map",U8e=["typed"],z8e=(0,R8e.factory)(L8e,U8e,function(e){var r=e.typed;function t(i,c,u){var a,s;return i[0]&&(a=i[0].compile().evaluate(u)),i[1]&&((0,nG.isSymbolNode)(i[1])||(0,nG.isFunctionAssignmentNode)(i[1])?s=i[1].compile().evaluate(u):s=(0,F8e.compileInlineExpression)(i[1],c,u)),n(a,s)}t.rawArgs=!0;var n=r("map",{"Array, function":function(c,u){return iG(c,u,c)},"Matrix, function":function(c,u){return c.create(iG(c.valueOf(),u,c))}});return t},{isTransformFunction:!0});b_.createMapTransform=z8e;function iG(e,r,t){var n=(0,j8e.maxArgumentCount)(r);function i(c,u){return Array.isArray(c)?(0,T8e.map)(c,function(a,s){return i(a,u.concat(s+1))}):n===1?r(c):n===2?r(c,u):r(c,u,t)}return i(e,[])}});var sG=D(__=>{"use strict";Object.defineProperty(__,"__esModule",{value:!0});__.createMaxTransform=void 0;var rM=He(),J8e=oe(),V8e=Sn(),G8e=KC(),H8e="max",W8e=["typed","larger"],$8e=(0,J8e.factory)(H8e,W8e,function(e){var r=e.typed,t=e.larger,n=(0,G8e.createMax)({typed:r,larger:t});return r("max",{"...any":function(c){if(c.length===2&&(0,rM.isCollection)(c[0])){var u=c[1];(0,rM.isNumber)(u)?c[1]=u-1:(0,rM.isBigNumber)(u)&&(c[1]=u.minus(1))}try{return n.apply(null,c)}catch(a){throw(0,V8e.errorTransform)(a)}}})},{isTransformFunction:!0});__.createMaxTransform=$8e});var oG=D(w_=>{"use strict";Object.defineProperty(w_,"__esModule",{value:!0});w_.createMeanTransform=void 0;var tM=He(),Q8e=oe(),Y8e=Sn(),Z8e=zA(),X8e="mean",K8e=["typed","add","divide"],eRe=(0,Q8e.factory)(X8e,K8e,function(e){var r=e.typed,t=e.add,n=e.divide,i=(0,Z8e.createMean)({typed:r,add:t,divide:n});return r("mean",{"...any":function(u){if(u.length===2&&(0,tM.isCollection)(u[0])){var a=u[1];(0,tM.isNumber)(a)?u[1]=a-1:(0,tM.isBigNumber)(a)&&(u[1]=a.minus(1))}try{return i.apply(null,u)}catch(s){throw(0,Y8e.errorTransform)(s)}}})},{isTransformFunction:!0});w_.createMeanTransform=eRe});var cG=D(S_=>{"use strict";Object.defineProperty(S_,"__esModule",{value:!0});S_.createMinTransform=void 0;var nM=He(),rRe=oe(),tRe=Sn(),nRe=rA(),iRe="min",aRe=["typed","smaller"],sRe=(0,rRe.factory)(iRe,aRe,function(e){var r=e.typed,t=e.smaller,n=(0,nRe.createMin)({typed:r,smaller:t});return r("min",{"...any":function(c){if(c.length===2&&(0,nM.isCollection)(c[0])){var u=c[1];(0,nM.isNumber)(u)?c[1]=u-1:(0,nM.isBigNumber)(u)&&(c[1]=u.minus(1))}try{return n.apply(null,c)}catch(a){throw(0,tRe.errorTransform)(a)}}})},{isTransformFunction:!0});S_.createMinTransform=sRe});var uG=D(x_=>{"use strict";Object.defineProperty(x_,"__esModule",{value:!0});x_.createRangeTransform=void 0;var oRe=oe(),cRe=TC(),uRe="range",lRe=["typed","config","?matrix","?bignumber","smaller","smallerEq","larger","largerEq"],dRe=(0,oRe.factory)(uRe,lRe,function(e){var r=e.typed,t=e.config,n=e.matrix,i=e.bignumber,c=e.smaller,u=e.smallerEq,a=e.larger,s=e.largerEq,o=(0,cRe.createRange)({typed:r,config:t,matrix:n,bignumber:i,smaller:c,smallerEq:u,larger:a,largerEq:s});return r("range",{"...any":function(d){var p=d.length-1,f=d[p];return typeof f!="boolean"&&d.push(!0),o.apply(null,d)}})},{isTransformFunction:!0});x_.createRangeTransform=dRe});var lG=D(O_=>{"use strict";Object.defineProperty(O_,"__esModule",{value:!0});O_.createRowTransform=void 0;var pRe=oe(),fRe=FC(),hRe=Sn(),vRe=He(),mRe="row",yRe=["typed","Index","matrix","range"],gRe=(0,pRe.factory)(mRe,yRe,function(e){var r=e.typed,t=e.Index,n=e.matrix,i=e.range,c=(0,fRe.createRow)({typed:r,Index:t,matrix:n,range:i});return r("row",{"...any":function(a){var s=a.length-1,o=a[s];(0,vRe.isNumber)(o)&&(a[s]=o-1);try{return c.apply(null,a)}catch(l){throw(0,hRe.errorTransform)(l)}}})},{isTransformFunction:!0});O_.createRowTransform=gRe});var dG=D(D_=>{"use strict";Object.defineProperty(D_,"__esModule",{value:!0});D_.createSubsetTransform=void 0;var bRe=oe(),_Re=Sn(),wRe=GC(),SRe="subset",xRe=["typed","matrix"],ORe=(0,bRe.factory)(SRe,xRe,function(e){var r=e.typed,t=e.matrix,n=(0,wRe.createSubset)({typed:r,matrix:t});return r("subset",{"...any":function(c){try{return n.apply(null,c)}catch(u){throw(0,_Re.errorTransform)(u)}}})},{isTransformFunction:!0});D_.createSubsetTransform=ORe});var fG=D(N_=>{"use strict";Object.defineProperty(N_,"__esModule",{value:!0});N_.createConcatTransform=void 0;var pG=He(),DRe=Sn(),NRe=oe(),CRe=BC(),ARe="concat",MRe=["typed","matrix","isInteger"],PRe=(0,NRe.factory)(ARe,MRe,function(e){var r=e.typed,t=e.matrix,n=e.isInteger,i=(0,CRe.createConcat)({typed:r,matrix:t,isInteger:n});return r("concat",{"...any":function(u){var a=u.length-1,s=u[a];(0,pG.isNumber)(s)?u[a]=s-1:(0,pG.isBigNumber)(s)&&(u[a]=s.minus(1));try{return i.apply(null,u)}catch(o){throw(0,DRe.errorTransform)(o)}}})},{isTransformFunction:!0});N_.createConcatTransform=PRe});var hG=D(C_=>{"use strict";Object.defineProperty(C_,"__esModule",{value:!0});C_.createStdTransform=void 0;var ERe=oe(),qRe=VA(),iM=He(),IRe=Sn(),BRe="std",kRe=["typed","sqrt","variance"],jRe=(0,ERe.factory)(BRe,kRe,function(e){var r=e.typed,t=e.sqrt,n=e.variance,i=(0,qRe.createStd)({typed:r,sqrt:t,variance:n});return r("std",{"...any":function(u){if(u.length>=2&&(0,iM.isCollection)(u[0])){var a=u[1];(0,iM.isNumber)(a)?u[1]=a-1:(0,iM.isBigNumber)(a)&&(u[1]=a.minus(1))}try{return i.apply(null,u)}catch(s){throw(0,IRe.errorTransform)(s)}}})},{isTransformFunction:!0});C_.createStdTransform=jRe});var mG=D(A_=>{"use strict";Object.defineProperty(A_,"__esModule",{value:!0});A_.createSumTransform=void 0;var aM=He(),TRe=oe(),RRe=Sn(),FRe=LA(),vG="sum",LRe=["typed","config","add","?bignumber","?fraction"],URe=(0,TRe.factory)(vG,LRe,function(e){var r=e.typed,t=e.config,n=e.add,i=e.bignumber,c=e.fraction,u=(0,FRe.createSum)({typed:r,config:t,add:n,bignumber:i,fraction:c});return r(vG,{"...any":function(s){if(s.length===2&&(0,aM.isCollection)(s[0])){var o=s[1];(0,aM.isNumber)(o)?s[1]=o-1:(0,aM.isBigNumber)(o)&&(s[1]=o.minus(1))}try{return u.apply(null,s)}catch(l){throw(0,RRe.errorTransform)(l)}}})},{isTransformFunction:!0});A_.createSumTransform=URe});var gG=D(M_=>{"use strict";Object.defineProperty(M_,"__esModule",{value:!0});M_.createVarianceTransform=void 0;var zRe=oe(),sM=He(),JRe=Sn(),VRe=M0(),yG="variance",GRe=["typed","add","subtract","multiply","divide","apply","isNaN"],HRe=(0,zRe.factory)(yG,GRe,function(e){var r=e.typed,t=e.add,n=e.subtract,i=e.multiply,c=e.divide,u=e.apply,a=e.isNaN,s=(0,VRe.createVariance)({typed:r,add:t,subtract:n,multiply:i,divide:c,apply:u,isNaN:a});return r(yG,{"...any":function(l){if(l.length>=2&&(0,sM.isCollection)(l[0])){var d=l[1];(0,sM.isNumber)(d)?l[1]=d-1:(0,sM.isBigNumber)(d)&&(l[1]=d.minus(1))}try{return s.apply(null,l)}catch(p){throw(0,JRe.errorTransform)(p)}}})},{isTransformFunction:!0});M_.createVarianceTransform=HRe});var K=D(re=>{"use strict";Object.defineProperty(re,"__esModule",{value:!0});Object.defineProperty(re,"createTyped",{enumerable:!0,get:function(){return WRe.createTyped}});Object.defineProperty(re,"createResultSet",{enumerable:!0,get:function(){return $Re.createResultSet}});Object.defineProperty(re,"createBigNumberClass",{enumerable:!0,get:function(){return QRe.createBigNumberClass}});Object.defineProperty(re,"createComplexClass",{enumerable:!0,get:function(){return YRe.createComplexClass}});Object.defineProperty(re,"createFractionClass",{enumerable:!0,get:function(){return ZRe.createFractionClass}});Object.defineProperty(re,"createRangeClass",{enumerable:!0,get:function(){return XRe.createRangeClass}});Object.defineProperty(re,"createMatrixClass",{enumerable:!0,get:function(){return KRe.createMatrixClass}});Object.defineProperty(re,"createDenseMatrixClass",{enumerable:!0,get:function(){return eFe.createDenseMatrixClass}});Object.defineProperty(re,"createClone",{enumerable:!0,get:function(){return rFe.createClone}});Object.defineProperty(re,"createIsInteger",{enumerable:!0,get:function(){return tFe.createIsInteger}});Object.defineProperty(re,"createIsNegative",{enumerable:!0,get:function(){return nFe.createIsNegative}});Object.defineProperty(re,"createIsNumeric",{enumerable:!0,get:function(){return iFe.createIsNumeric}});Object.defineProperty(re,"createHasNumericValue",{enumerable:!0,get:function(){return aFe.createHasNumericValue}});Object.defineProperty(re,"createIsPositive",{enumerable:!0,get:function(){return sFe.createIsPositive}});Object.defineProperty(re,"createIsZero",{enumerable:!0,get:function(){return oFe.createIsZero}});Object.defineProperty(re,"createIsNaN",{enumerable:!0,get:function(){return cFe.createIsNaN}});Object.defineProperty(re,"createTypeOf",{enumerable:!0,get:function(){return bG.createTypeOf}});Object.defineProperty(re,"createDeprecatedTypeof",{enumerable:!0,get:function(){return bG.createDeprecatedTypeof}});Object.defineProperty(re,"createEqualScalar",{enumerable:!0,get:function(){return uFe.createEqualScalar}});Object.defineProperty(re,"createSparseMatrixClass",{enumerable:!0,get:function(){return lFe.createSparseMatrixClass}});Object.defineProperty(re,"createNumber",{enumerable:!0,get:function(){return dFe.createNumber}});Object.defineProperty(re,"createString",{enumerable:!0,get:function(){return pFe.createString}});Object.defineProperty(re,"createBoolean",{enumerable:!0,get:function(){return fFe.createBoolean}});Object.defineProperty(re,"createBignumber",{enumerable:!0,get:function(){return hFe.createBignumber}});Object.defineProperty(re,"createComplex",{enumerable:!0,get:function(){return vFe.createComplex}});Object.defineProperty(re,"createFraction",{enumerable:!0,get:function(){return mFe.createFraction}});Object.defineProperty(re,"createMatrix",{enumerable:!0,get:function(){return yFe.createMatrix}});Object.defineProperty(re,"createSplitUnit",{enumerable:!0,get:function(){return gFe.createSplitUnit}});Object.defineProperty(re,"createUnaryMinus",{enumerable:!0,get:function(){return bFe.createUnaryMinus}});Object.defineProperty(re,"createUnaryPlus",{enumerable:!0,get:function(){return _Fe.createUnaryPlus}});Object.defineProperty(re,"createAbs",{enumerable:!0,get:function(){return wFe.createAbs}});Object.defineProperty(re,"createApply",{enumerable:!0,get:function(){return SFe.createApply}});Object.defineProperty(re,"createAddScalar",{enumerable:!0,get:function(){return xFe.createAddScalar}});Object.defineProperty(re,"createCbrt",{enumerable:!0,get:function(){return OFe.createCbrt}});Object.defineProperty(re,"createCeil",{enumerable:!0,get:function(){return DFe.createCeil}});Object.defineProperty(re,"createCube",{enumerable:!0,get:function(){return NFe.createCube}});Object.defineProperty(re,"createExp",{enumerable:!0,get:function(){return CFe.createExp}});Object.defineProperty(re,"createExpm1",{enumerable:!0,get:function(){return AFe.createExpm1}});Object.defineProperty(re,"createFix",{enumerable:!0,get:function(){return MFe.createFix}});Object.defineProperty(re,"createFloor",{enumerable:!0,get:function(){return PFe.createFloor}});Object.defineProperty(re,"createGcd",{enumerable:!0,get:function(){return EFe.createGcd}});Object.defineProperty(re,"createLcm",{enumerable:!0,get:function(){return qFe.createLcm}});Object.defineProperty(re,"createLog10",{enumerable:!0,get:function(){return IFe.createLog10}});Object.defineProperty(re,"createLog2",{enumerable:!0,get:function(){return BFe.createLog2}});Object.defineProperty(re,"createMod",{enumerable:!0,get:function(){return kFe.createMod}});Object.defineProperty(re,"createMultiplyScalar",{enumerable:!0,get:function(){return jFe.createMultiplyScalar}});Object.defineProperty(re,"createMultiply",{enumerable:!0,get:function(){return TFe.createMultiply}});Object.defineProperty(re,"createNthRoot",{enumerable:!0,get:function(){return RFe.createNthRoot}});Object.defineProperty(re,"createSign",{enumerable:!0,get:function(){return FFe.createSign}});Object.defineProperty(re,"createSqrt",{enumerable:!0,get:function(){return LFe.createSqrt}});Object.defineProperty(re,"createSquare",{enumerable:!0,get:function(){return UFe.createSquare}});Object.defineProperty(re,"createSubtract",{enumerable:!0,get:function(){return zFe.createSubtract}});Object.defineProperty(re,"createXgcd",{enumerable:!0,get:function(){return JFe.createXgcd}});Object.defineProperty(re,"createDotMultiply",{enumerable:!0,get:function(){return VFe.createDotMultiply}});Object.defineProperty(re,"createBitAnd",{enumerable:!0,get:function(){return GFe.createBitAnd}});Object.defineProperty(re,"createBitNot",{enumerable:!0,get:function(){return HFe.createBitNot}});Object.defineProperty(re,"createBitOr",{enumerable:!0,get:function(){return WFe.createBitOr}});Object.defineProperty(re,"createBitXor",{enumerable:!0,get:function(){return $Fe.createBitXor}});Object.defineProperty(re,"createArg",{enumerable:!0,get:function(){return QFe.createArg}});Object.defineProperty(re,"createConj",{enumerable:!0,get:function(){return YFe.createConj}});Object.defineProperty(re,"createIm",{enumerable:!0,get:function(){return ZFe.createIm}});Object.defineProperty(re,"createRe",{enumerable:!0,get:function(){return XFe.createRe}});Object.defineProperty(re,"createNot",{enumerable:!0,get:function(){return KFe.createNot}});Object.defineProperty(re,"createOr",{enumerable:!0,get:function(){return eLe.createOr}});Object.defineProperty(re,"createXor",{enumerable:!0,get:function(){return rLe.createXor}});Object.defineProperty(re,"createConcat",{enumerable:!0,get:function(){return tLe.createConcat}});Object.defineProperty(re,"createColumn",{enumerable:!0,get:function(){return nLe.createColumn}});Object.defineProperty(re,"createCross",{enumerable:!0,get:function(){return iLe.createCross}});Object.defineProperty(re,"createDiag",{enumerable:!0,get:function(){return aLe.createDiag}});Object.defineProperty(re,"createEye",{enumerable:!0,get:function(){return sLe.createEye}});Object.defineProperty(re,"createFilter",{enumerable:!0,get:function(){return oLe.createFilter}});Object.defineProperty(re,"createFlatten",{enumerable:!0,get:function(){return cLe.createFlatten}});Object.defineProperty(re,"createForEach",{enumerable:!0,get:function(){return uLe.createForEach}});Object.defineProperty(re,"createGetMatrixDataType",{enumerable:!0,get:function(){return lLe.createGetMatrixDataType}});Object.defineProperty(re,"createIdentity",{enumerable:!0,get:function(){return dLe.createIdentity}});Object.defineProperty(re,"createKron",{enumerable:!0,get:function(){return pLe.createKron}});Object.defineProperty(re,"createMap",{enumerable:!0,get:function(){return fLe.createMap}});Object.defineProperty(re,"createOnes",{enumerable:!0,get:function(){return hLe.createOnes}});Object.defineProperty(re,"createRange",{enumerable:!0,get:function(){return vLe.createRange}});Object.defineProperty(re,"createReshape",{enumerable:!0,get:function(){return mLe.createReshape}});Object.defineProperty(re,"createResize",{enumerable:!0,get:function(){return yLe.createResize}});Object.defineProperty(re,"createRow",{enumerable:!0,get:function(){return gLe.createRow}});Object.defineProperty(re,"createSize",{enumerable:!0,get:function(){return bLe.createSize}});Object.defineProperty(re,"createSqueeze",{enumerable:!0,get:function(){return _Le.createSqueeze}});Object.defineProperty(re,"createSubset",{enumerable:!0,get:function(){return wLe.createSubset}});Object.defineProperty(re,"createTranspose",{enumerable:!0,get:function(){return SLe.createTranspose}});Object.defineProperty(re,"createCtranspose",{enumerable:!0,get:function(){return xLe.createCtranspose}});Object.defineProperty(re,"createZeros",{enumerable:!0,get:function(){return OLe.createZeros}});Object.defineProperty(re,"createErf",{enumerable:!0,get:function(){return DLe.createErf}});Object.defineProperty(re,"createMode",{enumerable:!0,get:function(){return NLe.createMode}});Object.defineProperty(re,"createProd",{enumerable:!0,get:function(){return CLe.createProd}});Object.defineProperty(re,"createFormat",{enumerable:!0,get:function(){return ALe.createFormat}});Object.defineProperty(re,"createPrint",{enumerable:!0,get:function(){return MLe.createPrint}});Object.defineProperty(re,"createTo",{enumerable:!0,get:function(){return PLe.createTo}});Object.defineProperty(re,"createIsPrime",{enumerable:!0,get:function(){return ELe.createIsPrime}});Object.defineProperty(re,"createNumeric",{enumerable:!0,get:function(){return qLe.createNumeric}});Object.defineProperty(re,"createDivideScalar",{enumerable:!0,get:function(){return ILe.createDivideScalar}});Object.defineProperty(re,"createPow",{enumerable:!0,get:function(){return BLe.createPow}});Object.defineProperty(re,"createRound",{enumerable:!0,get:function(){return kLe.createRound}});Object.defineProperty(re,"createLog",{enumerable:!0,get:function(){return jLe.createLog}});Object.defineProperty(re,"createLog1p",{enumerable:!0,get:function(){return TLe.createLog1p}});Object.defineProperty(re,"createNthRoots",{enumerable:!0,get:function(){return RLe.createNthRoots}});Object.defineProperty(re,"createDotPow",{enumerable:!0,get:function(){return FLe.createDotPow}});Object.defineProperty(re,"createDotDivide",{enumerable:!0,get:function(){return LLe.createDotDivide}});Object.defineProperty(re,"createLsolve",{enumerable:!0,get:function(){return ULe.createLsolve}});Object.defineProperty(re,"createUsolve",{enumerable:!0,get:function(){return zLe.createUsolve}});Object.defineProperty(re,"createLeftShift",{enumerable:!0,get:function(){return JLe.createLeftShift}});Object.defineProperty(re,"createRightArithShift",{enumerable:!0,get:function(){return VLe.createRightArithShift}});Object.defineProperty(re,"createRightLogShift",{enumerable:!0,get:function(){return GLe.createRightLogShift}});Object.defineProperty(re,"createAnd",{enumerable:!0,get:function(){return HLe.createAnd}});Object.defineProperty(re,"createCompare",{enumerable:!0,get:function(){return WLe.createCompare}});Object.defineProperty(re,"createCompareNatural",{enumerable:!0,get:function(){return $Le.createCompareNatural}});Object.defineProperty(re,"createCompareText",{enumerable:!0,get:function(){return QLe.createCompareText}});Object.defineProperty(re,"createEqual",{enumerable:!0,get:function(){return YLe.createEqual}});Object.defineProperty(re,"createEqualText",{enumerable:!0,get:function(){return ZLe.createEqualText}});Object.defineProperty(re,"createSmaller",{enumerable:!0,get:function(){return XLe.createSmaller}});Object.defineProperty(re,"createSmallerEq",{enumerable:!0,get:function(){return KLe.createSmallerEq}});Object.defineProperty(re,"createLarger",{enumerable:!0,get:function(){return eUe.createLarger}});Object.defineProperty(re,"createLargerEq",{enumerable:!0,get:function(){return rUe.createLargerEq}});Object.defineProperty(re,"createDeepEqual",{enumerable:!0,get:function(){return tUe.createDeepEqual}});Object.defineProperty(re,"createUnequal",{enumerable:!0,get:function(){return nUe.createUnequal}});Object.defineProperty(re,"createPartitionSelect",{enumerable:!0,get:function(){return iUe.createPartitionSelect}});Object.defineProperty(re,"createSort",{enumerable:!0,get:function(){return aUe.createSort}});Object.defineProperty(re,"createMax",{enumerable:!0,get:function(){return sUe.createMax}});Object.defineProperty(re,"createMin",{enumerable:!0,get:function(){return oUe.createMin}});Object.defineProperty(re,"createImmutableDenseMatrixClass",{enumerable:!0,get:function(){return cUe.createImmutableDenseMatrixClass}});Object.defineProperty(re,"createIndexClass",{enumerable:!0,get:function(){return uUe.createIndexClass}});Object.defineProperty(re,"createFibonacciHeapClass",{enumerable:!0,get:function(){return lUe.createFibonacciHeapClass}});Object.defineProperty(re,"createSpaClass",{enumerable:!0,get:function(){return dUe.createSpaClass}});Object.defineProperty(re,"createUnitClass",{enumerable:!0,get:function(){return pUe.createUnitClass}});Object.defineProperty(re,"createUnitFunction",{enumerable:!0,get:function(){return fUe.createUnitFunction}});Object.defineProperty(re,"createSparse",{enumerable:!0,get:function(){return hUe.createSparse}});Object.defineProperty(re,"createCreateUnit",{enumerable:!0,get:function(){return vUe.createCreateUnit}});Object.defineProperty(re,"createAcos",{enumerable:!0,get:function(){return mUe.createAcos}});Object.defineProperty(re,"createAcosh",{enumerable:!0,get:function(){return yUe.createAcosh}});Object.defineProperty(re,"createAcot",{enumerable:!0,get:function(){return gUe.createAcot}});Object.defineProperty(re,"createAcoth",{enumerable:!0,get:function(){return bUe.createAcoth}});Object.defineProperty(re,"createAcsc",{enumerable:!0,get:function(){return _Ue.createAcsc}});Object.defineProperty(re,"createAcsch",{enumerable:!0,get:function(){return wUe.createAcsch}});Object.defineProperty(re,"createAsec",{enumerable:!0,get:function(){return SUe.createAsec}});Object.defineProperty(re,"createAsech",{enumerable:!0,get:function(){return xUe.createAsech}});Object.defineProperty(re,"createAsin",{enumerable:!0,get:function(){return OUe.createAsin}});Object.defineProperty(re,"createAsinh",{enumerable:!0,get:function(){return DUe.createAsinh}});Object.defineProperty(re,"createAtan",{enumerable:!0,get:function(){return NUe.createAtan}});Object.defineProperty(re,"createAtan2",{enumerable:!0,get:function(){return CUe.createAtan2}});Object.defineProperty(re,"createAtanh",{enumerable:!0,get:function(){return AUe.createAtanh}});Object.defineProperty(re,"createCos",{enumerable:!0,get:function(){return MUe.createCos}});Object.defineProperty(re,"createCosh",{enumerable:!0,get:function(){return PUe.createCosh}});Object.defineProperty(re,"createCot",{enumerable:!0,get:function(){return EUe.createCot}});Object.defineProperty(re,"createCoth",{enumerable:!0,get:function(){return qUe.createCoth}});Object.defineProperty(re,"createCsc",{enumerable:!0,get:function(){return IUe.createCsc}});Object.defineProperty(re,"createCsch",{enumerable:!0,get:function(){return BUe.createCsch}});Object.defineProperty(re,"createSec",{enumerable:!0,get:function(){return kUe.createSec}});Object.defineProperty(re,"createSech",{enumerable:!0,get:function(){return jUe.createSech}});Object.defineProperty(re,"createSin",{enumerable:!0,get:function(){return TUe.createSin}});Object.defineProperty(re,"createSinh",{enumerable:!0,get:function(){return RUe.createSinh}});Object.defineProperty(re,"createTan",{enumerable:!0,get:function(){return FUe.createTan}});Object.defineProperty(re,"createTanh",{enumerable:!0,get:function(){return LUe.createTanh}});Object.defineProperty(re,"createSetCartesian",{enumerable:!0,get:function(){return UUe.createSetCartesian}});Object.defineProperty(re,"createSetDifference",{enumerable:!0,get:function(){return zUe.createSetDifference}});Object.defineProperty(re,"createSetDistinct",{enumerable:!0,get:function(){return JUe.createSetDistinct}});Object.defineProperty(re,"createSetIntersect",{enumerable:!0,get:function(){return VUe.createSetIntersect}});Object.defineProperty(re,"createSetIsSubset",{enumerable:!0,get:function(){return GUe.createSetIsSubset}});Object.defineProperty(re,"createSetMultiplicity",{enumerable:!0,get:function(){return HUe.createSetMultiplicity}});Object.defineProperty(re,"createSetPowerset",{enumerable:!0,get:function(){return WUe.createSetPowerset}});Object.defineProperty(re,"createSetSize",{enumerable:!0,get:function(){return $Ue.createSetSize}});Object.defineProperty(re,"createSetSymDifference",{enumerable:!0,get:function(){return QUe.createSetSymDifference}});Object.defineProperty(re,"createSetUnion",{enumerable:!0,get:function(){return YUe.createSetUnion}});Object.defineProperty(re,"createAdd",{enumerable:!0,get:function(){return ZUe.createAdd}});Object.defineProperty(re,"createHypot",{enumerable:!0,get:function(){return XUe.createHypot}});Object.defineProperty(re,"createNorm",{enumerable:!0,get:function(){return KUe.createNorm}});Object.defineProperty(re,"createDot",{enumerable:!0,get:function(){return e9e.createDot}});Object.defineProperty(re,"createTrace",{enumerable:!0,get:function(){return r9e.createTrace}});Object.defineProperty(re,"createIndex",{enumerable:!0,get:function(){return t9e.createIndex}});Object.defineProperty(re,"createNode",{enumerable:!0,get:function(){return n9e.createNode}});Object.defineProperty(re,"createAccessorNode",{enumerable:!0,get:function(){return i9e.createAccessorNode}});Object.defineProperty(re,"createArrayNode",{enumerable:!0,get:function(){return a9e.createArrayNode}});Object.defineProperty(re,"createAssignmentNode",{enumerable:!0,get:function(){return s9e.createAssignmentNode}});Object.defineProperty(re,"createBlockNode",{enumerable:!0,get:function(){return o9e.createBlockNode}});Object.defineProperty(re,"createConditionalNode",{enumerable:!0,get:function(){return c9e.createConditionalNode}});Object.defineProperty(re,"createConstantNode",{enumerable:!0,get:function(){return u9e.createConstantNode}});Object.defineProperty(re,"createFunctionAssignmentNode",{enumerable:!0,get:function(){return l9e.createFunctionAssignmentNode}});Object.defineProperty(re,"createIndexNode",{enumerable:!0,get:function(){return d9e.createIndexNode}});Object.defineProperty(re,"createObjectNode",{enumerable:!0,get:function(){return p9e.createObjectNode}});Object.defineProperty(re,"createOperatorNode",{enumerable:!0,get:function(){return f9e.createOperatorNode}});Object.defineProperty(re,"createParenthesisNode",{enumerable:!0,get:function(){return h9e.createParenthesisNode}});Object.defineProperty(re,"createRangeNode",{enumerable:!0,get:function(){return v9e.createRangeNode}});Object.defineProperty(re,"createRelationalNode",{enumerable:!0,get:function(){return m9e.createRelationalNode}});Object.defineProperty(re,"createSymbolNode",{enumerable:!0,get:function(){return y9e.createSymbolNode}});Object.defineProperty(re,"createFunctionNode",{enumerable:!0,get:function(){return g9e.createFunctionNode}});Object.defineProperty(re,"createParse",{enumerable:!0,get:function(){return b9e.createParse}});Object.defineProperty(re,"createCompile",{enumerable:!0,get:function(){return _9e.createCompile}});Object.defineProperty(re,"createEvaluate",{enumerable:!0,get:function(){return w9e.createEvaluate}});Object.defineProperty(re,"createDeprecatedEval",{enumerable:!0,get:function(){return S9e.createDeprecatedEval}});Object.defineProperty(re,"createParserClass",{enumerable:!0,get:function(){return x9e.createParserClass}});Object.defineProperty(re,"createParser",{enumerable:!0,get:function(){return O9e.createParser}});Object.defineProperty(re,"createLup",{enumerable:!0,get:function(){return D9e.createLup}});Object.defineProperty(re,"createQr",{enumerable:!0,get:function(){return N9e.createQr}});Object.defineProperty(re,"createSlu",{enumerable:!0,get:function(){return C9e.createSlu}});Object.defineProperty(re,"createLusolve",{enumerable:!0,get:function(){return A9e.createLusolve}});Object.defineProperty(re,"createHelpClass",{enumerable:!0,get:function(){return M9e.createHelpClass}});Object.defineProperty(re,"createChainClass",{enumerable:!0,get:function(){return P9e.createChainClass}});Object.defineProperty(re,"createHelp",{enumerable:!0,get:function(){return E9e.createHelp}});Object.defineProperty(re,"createChain",{enumerable:!0,get:function(){return q9e.createChain}});Object.defineProperty(re,"createDet",{enumerable:!0,get:function(){return I9e.createDet}});Object.defineProperty(re,"createInv",{enumerable:!0,get:function(){return B9e.createInv}});Object.defineProperty(re,"createEigs",{enumerable:!0,get:function(){return k9e.createEigs}});Object.defineProperty(re,"createExpm",{enumerable:!0,get:function(){return j9e.createExpm}});Object.defineProperty(re,"createSqrtm",{enumerable:!0,get:function(){return T9e.createSqrtm}});Object.defineProperty(re,"createDivide",{enumerable:!0,get:function(){return R9e.createDivide}});Object.defineProperty(re,"createDistance",{enumerable:!0,get:function(){return F9e.createDistance}});Object.defineProperty(re,"createIntersect",{enumerable:!0,get:function(){return L9e.createIntersect}});Object.defineProperty(re,"createSum",{enumerable:!0,get:function(){return U9e.createSum}});Object.defineProperty(re,"createMean",{enumerable:!0,get:function(){return z9e.createMean}});Object.defineProperty(re,"createMedian",{enumerable:!0,get:function(){return J9e.createMedian}});Object.defineProperty(re,"createMad",{enumerable:!0,get:function(){return V9e.createMad}});Object.defineProperty(re,"createVariance",{enumerable:!0,get:function(){return _G.createVariance}});Object.defineProperty(re,"createDeprecatedVar",{enumerable:!0,get:function(){return _G.createDeprecatedVar}});Object.defineProperty(re,"createQuantileSeq",{enumerable:!0,get:function(){return G9e.createQuantileSeq}});Object.defineProperty(re,"createStd",{enumerable:!0,get:function(){return H9e.createStd}});Object.defineProperty(re,"createCombinations",{enumerable:!0,get:function(){return W9e.createCombinations}});Object.defineProperty(re,"createCombinationsWithRep",{enumerable:!0,get:function(){return $9e.createCombinationsWithRep}});Object.defineProperty(re,"createGamma",{enumerable:!0,get:function(){return Q9e.createGamma}});Object.defineProperty(re,"createFactorial",{enumerable:!0,get:function(){return Y9e.createFactorial}});Object.defineProperty(re,"createKldivergence",{enumerable:!0,get:function(){return Z9e.createKldivergence}});Object.defineProperty(re,"createMultinomial",{enumerable:!0,get:function(){return X9e.createMultinomial}});Object.defineProperty(re,"createPermutations",{enumerable:!0,get:function(){return K9e.createPermutations}});Object.defineProperty(re,"createPickRandom",{enumerable:!0,get:function(){return eze.createPickRandom}});Object.defineProperty(re,"createRandom",{enumerable:!0,get:function(){return rze.createRandom}});Object.defineProperty(re,"createRandomInt",{enumerable:!0,get:function(){return tze.createRandomInt}});Object.defineProperty(re,"createStirlingS2",{enumerable:!0,get:function(){return nze.createStirlingS2}});Object.defineProperty(re,"createBellNumbers",{enumerable:!0,get:function(){return ize.createBellNumbers}});Object.defineProperty(re,"createCatalan",{enumerable:!0,get:function(){return aze.createCatalan}});Object.defineProperty(re,"createComposition",{enumerable:!0,get:function(){return sze.createComposition}});Object.defineProperty(re,"createSimplify",{enumerable:!0,get:function(){return oze.createSimplify}});Object.defineProperty(re,"createDerivative",{enumerable:!0,get:function(){return cze.createDerivative}});Object.defineProperty(re,"createRationalize",{enumerable:!0,get:function(){return uze.createRationalize}});Object.defineProperty(re,"createReviver",{enumerable:!0,get:function(){return lze.createReviver}});Object.defineProperty(re,"createReplacer",{enumerable:!0,get:function(){return dze.createReplacer}});Object.defineProperty(re,"createE",{enumerable:!0,get:function(){return xt.createE}});Object.defineProperty(re,"createUppercaseE",{enumerable:!0,get:function(){return xt.createUppercaseE}});Object.defineProperty(re,"createFalse",{enumerable:!0,get:function(){return xt.createFalse}});Object.defineProperty(re,"createI",{enumerable:!0,get:function(){return xt.createI}});Object.defineProperty(re,"createInfinity",{enumerable:!0,get:function(){return xt.createInfinity}});Object.defineProperty(re,"createLN10",{enumerable:!0,get:function(){return xt.createLN10}});Object.defineProperty(re,"createLN2",{enumerable:!0,get:function(){return xt.createLN2}});Object.defineProperty(re,"createLOG10E",{enumerable:!0,get:function(){return xt.createLOG10E}});Object.defineProperty(re,"createLOG2E",{enumerable:!0,get:function(){return xt.createLOG2E}});Object.defineProperty(re,"createNaN",{enumerable:!0,get:function(){return xt.createNaN}});Object.defineProperty(re,"createNull",{enumerable:!0,get:function(){return xt.createNull}});Object.defineProperty(re,"createPhi",{enumerable:!0,get:function(){return xt.createPhi}});Object.defineProperty(re,"createPi",{enumerable:!0,get:function(){return xt.createPi}});Object.defineProperty(re,"createUppercasePi",{enumerable:!0,get:function(){return xt.createUppercasePi}});Object.defineProperty(re,"createSQRT1_2",{enumerable:!0,get:function(){return xt.createSQRT1_2}});Object.defineProperty(re,"createSQRT2",{enumerable:!0,get:function(){return xt.createSQRT2}});Object.defineProperty(re,"createTau",{enumerable:!0,get:function(){return xt.createTau}});Object.defineProperty(re,"createTrue",{enumerable:!0,get:function(){return xt.createTrue}});Object.defineProperty(re,"createVersion",{enumerable:!0,get:function(){return xt.createVersion}});Object.defineProperty(re,"createAtomicMass",{enumerable:!0,get:function(){return cr.createAtomicMass}});Object.defineProperty(re,"createAvogadro",{enumerable:!0,get:function(){return cr.createAvogadro}});Object.defineProperty(re,"createBohrMagneton",{enumerable:!0,get:function(){return cr.createBohrMagneton}});Object.defineProperty(re,"createBohrRadius",{enumerable:!0,get:function(){return cr.createBohrRadius}});Object.defineProperty(re,"createBoltzmann",{enumerable:!0,get:function(){return cr.createBoltzmann}});Object.defineProperty(re,"createClassicalElectronRadius",{enumerable:!0,get:function(){return cr.createClassicalElectronRadius}});Object.defineProperty(re,"createConductanceQuantum",{enumerable:!0,get:function(){return cr.createConductanceQuantum}});Object.defineProperty(re,"createCoulomb",{enumerable:!0,get:function(){return cr.createCoulomb}});Object.defineProperty(re,"createDeuteronMass",{enumerable:!0,get:function(){return cr.createDeuteronMass}});Object.defineProperty(re,"createEfimovFactor",{enumerable:!0,get:function(){return cr.createEfimovFactor}});Object.defineProperty(re,"createElectricConstant",{enumerable:!0,get:function(){return cr.createElectricConstant}});Object.defineProperty(re,"createElectronMass",{enumerable:!0,get:function(){return cr.createElectronMass}});Object.defineProperty(re,"createElementaryCharge",{enumerable:!0,get:function(){return cr.createElementaryCharge}});Object.defineProperty(re,"createFaraday",{enumerable:!0,get:function(){return cr.createFaraday}});Object.defineProperty(re,"createFermiCoupling",{enumerable:!0,get:function(){return cr.createFermiCoupling}});Object.defineProperty(re,"createFineStructure",{enumerable:!0,get:function(){return cr.createFineStructure}});Object.defineProperty(re,"createFirstRadiation",{enumerable:!0,get:function(){return cr.createFirstRadiation}});Object.defineProperty(re,"createGasConstant",{enumerable:!0,get:function(){return cr.createGasConstant}});Object.defineProperty(re,"createGravitationConstant",{enumerable:!0,get:function(){return cr.createGravitationConstant}});Object.defineProperty(re,"createGravity",{enumerable:!0,get:function(){return cr.createGravity}});Object.defineProperty(re,"createHartreeEnergy",{enumerable:!0,get:function(){return cr.createHartreeEnergy}});Object.defineProperty(re,"createInverseConductanceQuantum",{enumerable:!0,get:function(){return cr.createInverseConductanceQuantum}});Object.defineProperty(re,"createKlitzing",{enumerable:!0,get:function(){return cr.createKlitzing}});Object.defineProperty(re,"createLoschmidt",{enumerable:!0,get:function(){return cr.createLoschmidt}});Object.defineProperty(re,"createMagneticConstant",{enumerable:!0,get:function(){return cr.createMagneticConstant}});Object.defineProperty(re,"createMagneticFluxQuantum",{enumerable:!0,get:function(){return cr.createMagneticFluxQuantum}});Object.defineProperty(re,"createMolarMass",{enumerable:!0,get:function(){return cr.createMolarMass}});Object.defineProperty(re,"createMolarMassC12",{enumerable:!0,get:function(){return cr.createMolarMassC12}});Object.defineProperty(re,"createMolarPlanckConstant",{enumerable:!0,get:function(){return cr.createMolarPlanckConstant}});Object.defineProperty(re,"createMolarVolume",{enumerable:!0,get:function(){return cr.createMolarVolume}});Object.defineProperty(re,"createNeutronMass",{enumerable:!0,get:function(){return cr.createNeutronMass}});Object.defineProperty(re,"createNuclearMagneton",{enumerable:!0,get:function(){return cr.createNuclearMagneton}});Object.defineProperty(re,"createPlanckCharge",{enumerable:!0,get:function(){return cr.createPlanckCharge}});Object.defineProperty(re,"createPlanckConstant",{enumerable:!0,get:function(){return cr.createPlanckConstant}});Object.defineProperty(re,"createPlanckLength",{enumerable:!0,get:function(){return cr.createPlanckLength}});Object.defineProperty(re,"createPlanckMass",{enumerable:!0,get:function(){return cr.createPlanckMass}});Object.defineProperty(re,"createPlanckTemperature",{enumerable:!0,get:function(){return cr.createPlanckTemperature}});Object.defineProperty(re,"createPlanckTime",{enumerable:!0,get:function(){return cr.createPlanckTime}});Object.defineProperty(re,"createProtonMass",{enumerable:!0,get:function(){return cr.createProtonMass}});Object.defineProperty(re,"createQuantumOfCirculation",{enumerable:!0,get:function(){return cr.createQuantumOfCirculation}});Object.defineProperty(re,"createReducedPlanckConstant",{enumerable:!0,get:function(){return cr.createReducedPlanckConstant}});Object.defineProperty(re,"createRydberg",{enumerable:!0,get:function(){return cr.createRydberg}});Object.defineProperty(re,"createSackurTetrode",{enumerable:!0,get:function(){return cr.createSackurTetrode}});Object.defineProperty(re,"createSecondRadiation",{enumerable:!0,get:function(){return cr.createSecondRadiation}});Object.defineProperty(re,"createSpeedOfLight",{enumerable:!0,get:function(){return cr.createSpeedOfLight}});Object.defineProperty(re,"createStefanBoltzmann",{enumerable:!0,get:function(){return cr.createStefanBoltzmann}});Object.defineProperty(re,"createThomsonCrossSection",{enumerable:!0,get:function(){return cr.createThomsonCrossSection}});Object.defineProperty(re,"createVacuumImpedance",{enumerable:!0,get:function(){return cr.createVacuumImpedance}});Object.defineProperty(re,"createWeakMixingAngle",{enumerable:!0,get:function(){return cr.createWeakMixingAngle}});Object.defineProperty(re,"createWienDisplacement",{enumerable:!0,get:function(){return cr.createWienDisplacement}});Object.defineProperty(re,"createApplyTransform",{enumerable:!0,get:function(){return pze.createApplyTransform}});Object.defineProperty(re,"createColumnTransform",{enumerable:!0,get:function(){return fze.createColumnTransform}});Object.defineProperty(re,"createFilterTransform",{enumerable:!0,get:function(){return hze.createFilterTransform}});Object.defineProperty(re,"createForEachTransform",{enumerable:!0,get:function(){return vze.createForEachTransform}});Object.defineProperty(re,"createIndexTransform",{enumerable:!0,get:function(){return mze.createIndexTransform}});Object.defineProperty(re,"createMapTransform",{enumerable:!0,get:function(){return yze.createMapTransform}});Object.defineProperty(re,"createMaxTransform",{enumerable:!0,get:function(){return gze.createMaxTransform}});Object.defineProperty(re,"createMeanTransform",{enumerable:!0,get:function(){return bze.createMeanTransform}});Object.defineProperty(re,"createMinTransform",{enumerable:!0,get:function(){return _ze.createMinTransform}});Object.defineProperty(re,"createRangeTransform",{enumerable:!0,get:function(){return wze.createRangeTransform}});Object.defineProperty(re,"createRowTransform",{enumerable:!0,get:function(){return Sze.createRowTransform}});Object.defineProperty(re,"createSubsetTransform",{enumerable:!0,get:function(){return xze.createSubsetTransform}});Object.defineProperty(re,"createConcatTransform",{enumerable:!0,get:function(){return Oze.createConcatTransform}});Object.defineProperty(re,"createStdTransform",{enumerable:!0,get:function(){return Dze.createStdTransform}});Object.defineProperty(re,"createSumTransform",{enumerable:!0,get:function(){return Nze.createSumTransform}});Object.defineProperty(re,"createVarianceTransform",{enumerable:!0,get:function(){return Cze.createVarianceTransform}});var WRe=Ej(),$Re=qj(),QRe=kj(),YRe=Fj(),ZRe=zj(),XRe=Jj(),KRe=Vj(),eFe=Hj(),rFe=$j(),tFe=Xj(),nFe=j3(),iFe=R3(),aFe=L3(),sFe=z3(),oFe=V3(),cFe=H3(),bG=CC(),uFe=K3(),lFe=e4(),dFe=r4(),pFe=n4(),fFe=a4(),hFe=s4(),vFe=o4(),mFe=c4(),yFe=l4(),gFe=p4(),bFe=h4(),_Fe=m4(),wFe=g4(),SFe=PC(),xFe=w4(),OFe=x4(),DFe=O4(),NFe=N4(),CFe=A4(),AFe=P4(),MFe=E4(),PFe=q4(),EFe=B4(),qFe=T4(),IFe=F4(),BFe=U4(),kFe=J4(),jFe=V4(),TFe=W4(),RFe=Q4(),FFe=X4(),LFe=K4(),UFe=r5(),zFe=n5(),JFe=a5(),VFe=o5(),GFe=u5(),HFe=d5(),WFe=f5(),$Fe=v5(),QFe=y5(),YFe=b5(),ZFe=w5(),XFe=x5(),KFe=D5(),eLe=C5(),rLe=M5(),tLe=BC(),nLe=kC(),iLe=k5(),aLe=T5(),sLe=R5(),oLe=L5(),cLe=V5(),uLe=H5(),lLe=$5(),dLe=Z5(),pLe=K5(),fLe=r6(),hLe=t6(),vLe=TC(),mLe=o6(),yLe=u6(),gLe=FC(),bLe=p6(),_Le=m6(),wLe=GC(),SLe=w6(),xLe=x6(),OLe=D6(),DLe=N6(),NLe=A6(),CLe=E6(),ALe=B6(),MLe=T6(),PLe=F6(),ELe=U6(),qLe=J6(),ILe=H6(),BLe=$6(),kLe=e8(),jLe=t8(),TLe=i8(),RLe=s8(),FLe=c8(),LLe=l8(),ULe=f8(),zLe=v8(),JLe=y8(),VLe=b8(),GLe=w8(),HLe=x8(),WLe=N8(),$Le=P8(),QLe=q8(),YLe=B8(),ZLe=j8(),XLe=F8(),KLe=z8(),eUe=G8(),rUe=$8(),tUe=Y8(),nUe=X8(),iUe=eR(),aUe=tR(),sUe=KC(),oUe=rA(),cUe=cR(),uUe=lR(),lUe=dR(),dUe=pR(),pUe=hR(),fUe=mR(),hUe=gR(),vUe=_R(),mUe=SR(),yUe=OR(),gUe=NR(),bUe=AR(),_Ue=PR(),wUe=qR(),SUe=BR(),xUe=jR(),OUe=RR(),DUe=FR(),NUe=LR(),CUe=zR(),AUe=VR(),MUe=HR(),PUe=$R(),EUe=YR(),qUe=XR(),IUe=eF(),BUe=tF(),kUe=iF(),jUe=sF(),TUe=cF(),RUe=lF(),FUe=pF(),LUe=fF(),UUe=mF(),zUe=gF(),JUe=_F(),VUe=SF(),GUe=OF(),HUe=NF(),WUe=AF(),$Ue=PF(),QUe=qF(),YUe=BF(),ZUe=jF(),XUe=FF(),KUe=UF(),e9e=VF(),r9e=HF(),t9e=$F(),n9e=ZF(),i9e=XF(),a9e=KF(),s9e=nL(),o9e=aL(),c9e=sL(),u9e=pL(),l9e=vL(),d9e=yL(),p9e=gL(),f9e=wL(),h9e=SL(),v9e=xL(),m9e=OL(),y9e=DL(),g9e=CL(),b9e=ML(),_9e=EL(),w9e=BL(),S9e=yA(),x9e=TL(),O9e=FL(),D9e=UL(),N9e=JL(),C9e=sU(),A9e=dU(),M9e=pU(),P9e=hU(),E9e=vJ(),q9e=yJ(),I9e=bJ(),B9e=wJ(),k9e=xJ(),j9e=DJ(),T9e=AJ(),R9e=MJ(),F9e=EJ(),L9e=qJ(),U9e=LA(),z9e=zA(),J9e=FJ(),V9e=UJ(),_G=M0(),G9e=HJ(),H9e=VA(),W9e=YJ(),$9e=eV(),Q9e=tV(),Y9e=iV(),Z9e=sV(),X9e=cV(),K9e=pV(),eze=bV(),rze=SV(),tze=DV(),nze=CV(),ize=MV(),aze=EV(),sze=IV(),oze=RV(),cze=FV(),uze=UV(),lze=zV(),dze=JV(),xt=GV(),cr=WV(),pze=QV(),fze=YV(),hze=KV(),vze=rG(),mze=tG(),yze=aG(),gze=sG(),bze=oG(),_ze=cG(),wze=uG(),Sze=lG(),xze=dG(),Oze=fG(),Dze=hG(),Nze=mG(),Cze=gG()});var F_=D(U=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0});U.cbrt=U.matrix=U.SparseMatrix=U.isNegative=U.SQRT2=U.random=U.combinationsWithRep=U.sin=U.csc=U.cos=U.asinh=U.acsch=U.acosh=U.print=U.mode=U.getMatrixDataType=U.conj=U.sqrt=U.log2=U.exp=U.addScalar=U.unaryMinus=U.fraction=U.string=U.typeOf=U.hasNumericValue=U.clone=U.LN2=U.randomInt=U.pickRandom=U.combinations=U.tanh=U.sinh=U.sech=U.csch=U.coth=U.cosh=U.atanh=U.atan=U.asin=U.asec=U.acsc=U.acot=U.acos=U.isPrime=U.format=U.erf=U.map=U.forEach=U.filter=U.not=U.im=U.arg=U.bitNot=U.square=U.sign=U.multiplyScalar=U.log10=U.expm1=U.cube=U.apply=U.unaryPlus=U.splitUnit=U.complex=U.boolean=U.number=U.equalScalar=U.isNaN=U.isPositive=U.isNumeric=U.isInteger=U.typed=U.phi=U.DenseMatrix=U.version=U.LOG2E=U._Infinity=U.e=U.Fraction=U.weakMixingAngle=U.sackurTetrode=U.fineStructure=U.efimovFactor=U.tau=U.SQRT1_2=U.pi=U._NaN=U.LOG10E=U.LN10=U.i=U.replacer=U.Matrix=U.BigNumber=U._true=U._null=U._false=U.eye=U.Range=U.Complex=U.ResultSet=void 0;U.xor=U.catalan=U.stirlingS2=U.distance=U.det=U.slu=U.lup=U.hypot=U.setMultiplicity=U.setDifference=U.deepEqual=U.lsolve=U.nthRoots=U.divideScalar=U.range=U.fix=U.index=U.setPowerset=U.setIsSubset=U.setDistinct=U.setCartesian=U.Index=U.equal=U.ctranspose=U.cross=U.subtract=U.ceil=U.permutations=U.factorial=U.sum=U.dot=U.cot=U.sort=U.smallerEq=U.and=U.numeric=U.transpose=U.kron=U.bitOr=U.lcm=U.bignumber=U.gamma=U.quantileSeq=U.norm=U.setSize=U.tan=U.asech=U.Spa=U.min=U.partitionSelect=U.largerEq=U.equalText=U.compareNatural=U.rightArithShift=U.dotPow=U.pow=U.prod=U.squeeze=U.resize=U.flatten=U.re=U.dotMultiply=U.multiply=U.floor=U.abs=U.isZero=U.composition=U.trace=U.add=U.sec=U.atan2=U.acoth=U.sparse=U.FibonacciHeap=U.ImmutableDenseMatrix=U.max=U.unequal=U.larger=U.smaller=U.compareText=U.compare=U.rightLogShift=U.leftShift=U.round=U.to=U.zeros=U.subset=U.size=U.reshape=U.ones=U.identity=U.diag=U.concat=U.or=U.bitXor=U.bitAnd=U.xgcd=U.nthRoot=U.mod=U.gcd=void 0;U.rydberg=U.mad=U.coulomb=U.magneticFluxQuantum=U.setUnion=U.planckConstant=U.gasConstant=U.median=U.log1p=U.thomsonCrossSection=U.planckTime=U.molarVolume=U.inverseConductanceQuantum=U.elementaryCharge=U.bohrRadius=U.kldivergence=U.sqrtm=U.unit=U.log=U.wienDisplacement=U.speedOfLight=U.quantumOfCirculation=U.planckMass=U.nuclearMagneton=U.molarMassC12=U.loschmidt=U.gravity=U.fermiCoupling=U.electricConstant=U.classicalElectronRadius=U.avogadro=U.bellNumbers=U.intersect=U.eigs=U.lusolve=U.setIntersect=U.usolve=U.column=U.vacuumImpedance=U.stefanBoltzmann=U.secondRadiation=U.reducedPlanckConstant=U.protonMass=U.planckTemperature=U.planckLength=U.planckCharge=U.neutronMass=U.molarPlanckConstant=U.molarMass=U.magneticConstant=U.klitzing=U.hartreeEnergy=U.gravitationConstant=U.firstRadiation=U.faraday=U.electronMass=U.deuteronMass=U.conductanceQuantum=U.boltzmann=U.bohrMagneton=U.atomicMass=U.multinomial=U.std=U.variance=U.mean=U.divide=U.expm=U.inv=U.qr=U.setSymDifference=U.createUnit=U.Unit=U.dotDivide=U.row=void 0;var Le=Md(),de=K(),Aze=(0,de.createResultSet)({});U.ResultSet=Aze;var st=(0,de.createComplexClass)({});U.Complex=st;var Mze=(0,de.createRangeClass)({});U.Range=Mze;var Pze=(0,de.createEye)({});U.eye=Pze;var Eze=(0,de.createFalse)({});U._false=Eze;var qze=(0,de.createNull)({});U._null=qze;var Ize=(0,de.createTrue)({});U._true=Ize;var Ve=(0,de.createBigNumberClass)({config:Le.config});U.BigNumber=Ve;var P_=(0,de.createMatrixClass)({});U.Matrix=P_;var Bze=(0,de.createReplacer)({});U.replacer=Bze;var kze=(0,de.createI)({Complex:st});U.i=kze;var jze=(0,de.createLN10)({BigNumber:Ve,config:Le.config});U.LN10=jze;var Tze=(0,de.createLOG10E)({BigNumber:Ve,config:Le.config});U.LOG10E=Tze;var Rze=(0,de.createNaN)({BigNumber:Ve,config:Le.config});U._NaN=Rze;var Fze=(0,de.createPi)({BigNumber:Ve,config:Le.config});U.pi=Fze;var Lze=(0,de.createSQRT1_2)({BigNumber:Ve,config:Le.config});U.SQRT1_2=Lze;var Uze=(0,de.createTau)({BigNumber:Ve,config:Le.config});U.tau=Uze;var zze=(0,de.createEfimovFactor)({BigNumber:Ve,config:Le.config});U.efimovFactor=zze;var Jze=(0,de.createFineStructure)({BigNumber:Ve,config:Le.config});U.fineStructure=Jze;var Vze=(0,de.createSackurTetrode)({BigNumber:Ve,config:Le.config});U.sackurTetrode=Vze;var Gze=(0,de.createWeakMixingAngle)({BigNumber:Ve,config:Le.config});U.weakMixingAngle=Gze;var Js=(0,de.createFractionClass)({});U.Fraction=Js;var Hze=(0,de.createE)({BigNumber:Ve,config:Le.config});U.e=Hze;var Wze=(0,de.createInfinity)({BigNumber:Ve,config:Le.config});U._Infinity=Wze;var $ze=(0,de.createLOG2E)({BigNumber:Ve,config:Le.config});U.LOG2E=$ze;var Qze=(0,de.createVersion)({});U.version=Qze;var Er=(0,de.createDenseMatrixClass)({Matrix:P_});U.DenseMatrix=Er;var Yze=(0,de.createPhi)({BigNumber:Ve,config:Le.config});U.phi=Yze;var Ne=(0,de.createTyped)({BigNumber:Ve,Complex:st,DenseMatrix:Er,Fraction:Js});U.typed=Ne;var ra=(0,de.createIsInteger)({typed:Ne});U.isInteger=ra;var sc=(0,de.createIsNumeric)({typed:Ne});U.isNumeric=sc;var E_=(0,de.createIsPositive)({typed:Ne});U.isPositive=E_;var q_=(0,de.createIsNaN)({typed:Ne});U.isNaN=q_;var Vr=(0,de.createEqualScalar)({config:Le.config,typed:Ne});U.equalScalar=Vr;var I_=(0,de.createNumber)({typed:Ne});U.number=I_;var Zze=(0,de.createBoolean)({typed:Ne});U.boolean=Zze;var oM=(0,de.createComplex)({Complex:st,typed:Ne});U.complex=oM;var Xze=(0,de.createSplitUnit)({typed:Ne});U.splitUnit=Xze;var Kze=(0,de.createUnaryPlus)({BigNumber:Ve,config:Le.config,typed:Ne});U.unaryPlus=Kze;var wG=(0,de.createApply)({isInteger:ra,typed:Ne});U.apply=wG;var e7e=(0,de.createCube)({typed:Ne});U.cube=e7e;var r7e=(0,de.createExpm1)({Complex:st,typed:Ne});U.expm1=r7e;var t7e=(0,de.createLog10)({Complex:st,config:Le.config,typed:Ne});U.log10=t7e;var Ht=(0,de.createMultiplyScalar)({typed:Ne});U.multiplyScalar=Ht;var SG=(0,de.createSign)({BigNumber:Ve,Fraction:Js,complex:oM,typed:Ne});U.sign=SG;var n7e=(0,de.createSquare)({typed:Ne});U.square=n7e;var i7e=(0,de.createBitNot)({typed:Ne});U.bitNot=i7e;var a7e=(0,de.createArg)({typed:Ne});U.arg=a7e;var s7e=(0,de.createIm)({typed:Ne});U.im=s7e;var xG=(0,de.createNot)({typed:Ne});U.not=xG;var o7e=(0,de.createFilter)({typed:Ne});U.filter=o7e;var c7e=(0,de.createForEach)({typed:Ne});U.forEach=c7e;var OG=(0,de.createMap)({typed:Ne});U.map=OG;var u7e=(0,de.createErf)({typed:Ne});U.erf=u7e;var DG=(0,de.createFormat)({typed:Ne});U.format=DG;var l7e=(0,de.createIsPrime)({typed:Ne});U.isPrime=l7e;var d7e=(0,de.createAcos)({Complex:st,config:Le.config,typed:Ne});U.acos=d7e;var p7e=(0,de.createAcot)({BigNumber:Ve,typed:Ne});U.acot=p7e;var f7e=(0,de.createAcsc)({BigNumber:Ve,Complex:st,config:Le.config,typed:Ne});U.acsc=f7e;var h7e=(0,de.createAsec)({BigNumber:Ve,Complex:st,config:Le.config,typed:Ne});U.asec=h7e;var v7e=(0,de.createAsin)({Complex:st,config:Le.config,typed:Ne});U.asin=v7e;var NG=(0,de.createAtan)({typed:Ne});U.atan=NG;var m7e=(0,de.createAtanh)({Complex:st,config:Le.config,typed:Ne});U.atanh=m7e;var y7e=(0,de.createCosh)({typed:Ne});U.cosh=y7e;var g7e=(0,de.createCoth)({BigNumber:Ve,typed:Ne});U.coth=g7e;var b7e=(0,de.createCsch)({BigNumber:Ve,typed:Ne});U.csch=b7e;var _7e=(0,de.createSech)({BigNumber:Ve,typed:Ne});U.sech=_7e;var w7e=(0,de.createSinh)({typed:Ne});U.sinh=w7e;var S7e=(0,de.createTanh)({typed:Ne});U.tanh=S7e;var B_=(0,de.createCombinations)({typed:Ne});U.combinations=B_;var x7e=(0,de.createPickRandom)({config:Le.config,typed:Ne});U.pickRandom=x7e;var O7e=(0,de.createRandomInt)({config:Le.config,typed:Ne});U.randomInt=O7e;var D7e=(0,de.createLN2)({BigNumber:Ve,config:Le.config});U.LN2=D7e;var N7e=(0,de.createClone)({typed:Ne});U.clone=N7e;var C7e=(0,de.createHasNumericValue)({isNumeric:sc,typed:Ne});U.hasNumericValue=C7e;var A7e=(0,de.createTypeOf)({typed:Ne});U.typeOf=A7e;var M7e=(0,de.createString)({typed:Ne});U.string=M7e;var k_=(0,de.createFraction)({Fraction:Js,typed:Ne});U.fraction=k_;var Ia=(0,de.createUnaryMinus)({typed:Ne});U.unaryMinus=Ia;var kt=(0,de.createAddScalar)({typed:Ne});U.addScalar=kt;var P7e=(0,de.createExp)({typed:Ne});U.exp=P7e;var E7e=(0,de.createLog2)({Complex:st,config:Le.config,typed:Ne});U.log2=E7e;var Vs=(0,de.createSqrt)({Complex:st,config:Le.config,typed:Ne});U.sqrt=Vs;var j_=(0,de.createConj)({typed:Ne});U.conj=j_;var q7e=(0,de.createGetMatrixDataType)({typed:Ne});U.getMatrixDataType=q7e;var I7e=(0,de.createMode)({isNaN:q_,isNumeric:sc,typed:Ne});U.mode=I7e;var B7e=(0,de.createPrint)({typed:Ne});U.print=B7e;var k7e=(0,de.createAcosh)({Complex:st,config:Le.config,typed:Ne});U.acosh=k7e;var j7e=(0,de.createAcsch)({BigNumber:Ve,typed:Ne});U.acsch=j7e;var T7e=(0,de.createAsinh)({typed:Ne});U.asinh=T7e;var CG=(0,de.createCos)({typed:Ne});U.cos=CG;var R7e=(0,de.createCsc)({BigNumber:Ve,typed:Ne});U.csc=R7e;var AG=(0,de.createSin)({typed:Ne});U.sin=AG;var F7e=(0,de.createCombinationsWithRep)({typed:Ne});U.combinationsWithRep=F7e;var L7e=(0,de.createRandom)({config:Le.config,typed:Ne});U.random=L7e;var U7e=(0,de.createSQRT2)({BigNumber:Ve,config:Le.config});U.SQRT2=U7e;var oc=(0,de.createIsNegative)({typed:Ne});U.isNegative=oc;var Ba=(0,de.createSparseMatrixClass)({Matrix:P_,equalScalar:Vr,typed:Ne});U.SparseMatrix=Ba;var Xe=(0,de.createMatrix)({DenseMatrix:Er,Matrix:P_,SparseMatrix:Ba,typed:Ne});U.matrix=Xe;var z7e=(0,de.createCbrt)({BigNumber:Ve,Complex:st,Fraction:Js,config:Le.config,isNegative:oc,matrix:Xe,typed:Ne,unaryMinus:Ia});U.cbrt=z7e;var J7e=(0,de.createGcd)({BigNumber:Ve,DenseMatrix:Er,equalScalar:Vr,matrix:Xe,typed:Ne});U.gcd=J7e;var V7e=(0,de.createMod)({DenseMatrix:Er,equalScalar:Vr,matrix:Xe,typed:Ne});U.mod=V7e;var G7e=(0,de.createNthRoot)({BigNumber:Ve,equalScalar:Vr,matrix:Xe,typed:Ne});U.nthRoot=G7e;var H7e=(0,de.createXgcd)({BigNumber:Ve,config:Le.config,matrix:Xe,typed:Ne});U.xgcd=H7e;var W7e=(0,de.createBitAnd)({equalScalar:Vr,matrix:Xe,typed:Ne});U.bitAnd=W7e;var $7e=(0,de.createBitXor)({DenseMatrix:Er,matrix:Xe,typed:Ne});U.bitXor=$7e;var Q7e=(0,de.createOr)({DenseMatrix:Er,equalScalar:Vr,matrix:Xe,typed:Ne});U.or=Q7e;var cM=(0,de.createConcat)({isInteger:ra,matrix:Xe,typed:Ne});U.concat=cM;var Y7e=(0,de.createDiag)({DenseMatrix:Er,SparseMatrix:Ba,matrix:Xe,typed:Ne});U.diag=Y7e;var cc=(0,de.createIdentity)({BigNumber:Ve,DenseMatrix:Er,SparseMatrix:Ba,config:Le.config,matrix:Xe,typed:Ne});U.identity=cc;var Z7e=(0,de.createOnes)({BigNumber:Ve,config:Le.config,matrix:Xe,typed:Ne});U.ones=Z7e;var X7e=(0,de.createReshape)({isInteger:ra,matrix:Xe,typed:Ne});U.reshape=X7e;var ti=(0,de.createSize)({matrix:Xe,config:Le.config,typed:Ne});U.size=ti;var xi=(0,de.createSubset)({matrix:Xe,typed:Ne});U.subset=xi;var Gs=(0,de.createZeros)({BigNumber:Ve,config:Le.config,matrix:Xe,typed:Ne});U.zeros=Gs;var K7e=(0,de.createTo)({matrix:Xe,typed:Ne});U.to=K7e;var T_=(0,de.createRound)({BigNumber:Ve,DenseMatrix:Er,equalScalar:Vr,matrix:Xe,typed:Ne,zeros:Gs});U.round=T_;var eJe=(0,de.createLeftShift)({DenseMatrix:Er,equalScalar:Vr,matrix:Xe,typed:Ne,zeros:Gs});U.leftShift=eJe;var rJe=(0,de.createRightLogShift)({DenseMatrix:Er,equalScalar:Vr,matrix:Xe,typed:Ne,zeros:Gs});U.rightLogShift=rJe;var uc=(0,de.createCompare)({BigNumber:Ve,DenseMatrix:Er,Fraction:Js,config:Le.config,equalScalar:Vr,matrix:Xe,typed:Ne});U.compare=uc;var MG=(0,de.createCompareText)({matrix:Xe,typed:Ne});U.compareText=MG;var ka=(0,de.createSmaller)({DenseMatrix:Er,config:Le.config,matrix:Xe,typed:Ne});U.smaller=ka;var ta=(0,de.createLarger)({DenseMatrix:Er,config:Le.config,matrix:Xe,typed:Ne});U.larger=ta;var tJe=(0,de.createUnequal)({DenseMatrix:Er,config:Le.config,equalScalar:Vr,matrix:Xe,typed:Ne});U.unequal=tJe;var PG=(0,de.createMax)({larger:ta,typed:Ne});U.max=PG;var EG=(0,de.createImmutableDenseMatrixClass)({DenseMatrix:Er,smaller:ka});U.ImmutableDenseMatrix=EG;var qG=(0,de.createFibonacciHeapClass)({larger:ta,smaller:ka});U.FibonacciHeap=qG;var nJe=(0,de.createSparse)({SparseMatrix:Ba,typed:Ne});U.sparse=nJe;var iJe=(0,de.createAcoth)({BigNumber:Ve,Complex:st,config:Le.config,typed:Ne});U.acoth=iJe;var aJe=(0,de.createAtan2)({BigNumber:Ve,DenseMatrix:Er,equalScalar:Vr,matrix:Xe,typed:Ne});U.atan2=aJe;var sJe=(0,de.createSec)({BigNumber:Ve,typed:Ne});U.sec=sJe;var fn=(0,de.createAdd)({DenseMatrix:Er,SparseMatrix:Ba,addScalar:kt,equalScalar:Vr,matrix:Xe,typed:Ne});U.add=fn;var oJe=(0,de.createTrace)({add:fn,matrix:Xe,typed:Ne});U.trace=oJe;var cJe=(0,de.createComposition)({addScalar:kt,combinations:B_,isInteger:ra,isNegative:oc,isPositive:E_,larger:ta,typed:Ne});U.composition=cJe;var uM=(0,de.createIsZero)({typed:Ne});U.isZero=uM;var kn=(0,de.createAbs)({typed:Ne});U.abs=kn;var IG=(0,de.createFloor)({config:Le.config,round:T_,typed:Ne});U.floor=IG;var At=(0,de.createMultiply)({addScalar:kt,equalScalar:Vr,matrix:Xe,multiplyScalar:Ht,typed:Ne});U.multiply=At;var uJe=(0,de.createDotMultiply)({equalScalar:Vr,matrix:Xe,multiplyScalar:Ht,typed:Ne});U.dotMultiply=uJe;var lJe=(0,de.createRe)({typed:Ne});U.re=lJe;var dJe=(0,de.createFlatten)({matrix:Xe,typed:Ne});U.flatten=dJe;var pJe=(0,de.createResize)({config:Le.config,matrix:Xe});U.resize=pJe;var fJe=(0,de.createSqueeze)({matrix:Xe,typed:Ne});U.squeeze=fJe;var hJe=(0,de.createProd)({multiply:At,typed:Ne});U.prod=hJe;var lc=(0,de.createPow)({Complex:st,config:Le.config,fraction:k_,identity:cc,matrix:Xe,multiply:At,number:I_,typed:Ne});U.pow=lc;var vJe=(0,de.createDotPow)({DenseMatrix:Er,equalScalar:Vr,matrix:Xe,pow:lc,typed:Ne});U.dotPow=vJe;var mJe=(0,de.createRightArithShift)({DenseMatrix:Er,equalScalar:Vr,matrix:Xe,typed:Ne,zeros:Gs});U.rightArithShift=mJe;var Oi=(0,de.createCompareNatural)({compare:uc,typed:Ne});U.compareNatural=Oi;var yJe=(0,de.createEqualText)({compareText:MG,isZero:uM,typed:Ne});U.equalText=yJe;var lM=(0,de.createLargerEq)({DenseMatrix:Er,config:Le.config,matrix:Xe,typed:Ne});U.largerEq=lM;var dM=(0,de.createPartitionSelect)({compare:uc,isNaN:q_,isNumeric:sc,typed:Ne});U.partitionSelect=dM;var gJe=(0,de.createMin)({smaller:ka,typed:Ne});U.min=gJe;var BG=(0,de.createSpaClass)({FibonacciHeap:qG,addScalar:kt,equalScalar:Vr});U.Spa=BG;var bJe=(0,de.createAsech)({BigNumber:Ve,Complex:st,config:Le.config,typed:Ne});U.asech=bJe;var _Je=(0,de.createTan)({typed:Ne});U.tan=_Je;var wJe=(0,de.createSetSize)({compareNatural:Oi,typed:Ne});U.setSize=wJe;var SJe=(0,de.createNorm)({abs:kn,add:fn,conj:j_,equalScalar:Vr,larger:ta,matrix:Xe,multiply:At,pow:lc,smaller:ka,sqrt:Vs,typed:Ne});U.norm=SJe;var xJe=(0,de.createQuantileSeq)({add:fn,compare:uc,multiply:At,partitionSelect:dM,typed:Ne});U.quantileSeq=xJe;var kG=(0,de.createGamma)({BigNumber:Ve,Complex:st,config:Le.config,multiplyScalar:Ht,pow:lc,typed:Ne});U.gamma=kG;var Ju=(0,de.createBignumber)({BigNumber:Ve,typed:Ne});U.bignumber=Ju;var OJe=(0,de.createLcm)({equalScalar:Vr,matrix:Xe,typed:Ne});U.lcm=OJe;var DJe=(0,de.createBitOr)({DenseMatrix:Er,equalScalar:Vr,matrix:Xe,typed:Ne});U.bitOr=DJe;var NJe=(0,de.createKron)({matrix:Xe,multiplyScalar:Ht,typed:Ne});U.kron=NJe;var pM=(0,de.createTranspose)({matrix:Xe,typed:Ne});U.transpose=pM;var jG=(0,de.createNumeric)({bignumber:Ju,fraction:k_,number:I_});U.numeric=jG;var CJe=(0,de.createAnd)({equalScalar:Vr,matrix:Xe,not:xG,typed:Ne,zeros:Gs});U.and=CJe;var TG=(0,de.createSmallerEq)({DenseMatrix:Er,config:Le.config,matrix:Xe,typed:Ne});U.smallerEq=TG;var AJe=(0,de.createSort)({compare:uc,compareNatural:Oi,matrix:Xe,typed:Ne});U.sort=AJe;var MJe=(0,de.createCot)({BigNumber:Ve,typed:Ne});U.cot=MJe;var PJe=(0,de.createDot)({add:fn,multiply:At,typed:Ne});U.dot=PJe;var RG=(0,de.createSum)({bignumber:Ju,fraction:k_,add:fn,config:Le.config,typed:Ne});U.sum=RG;var R_=(0,de.createFactorial)({gamma:kG,typed:Ne});U.factorial=R_;var EJe=(0,de.createPermutations)({factorial:R_,typed:Ne});U.permutations=EJe;var FG=(0,de.createCeil)({config:Le.config,round:T_,typed:Ne});U.ceil=FG;var Wt=(0,de.createSubtract)({DenseMatrix:Er,addScalar:kt,equalScalar:Vr,matrix:Xe,typed:Ne,unaryMinus:Ia});U.subtract=Wt;var qJe=(0,de.createCross)({matrix:Xe,multiply:At,subtract:Wt,typed:Ne});U.cross=qJe;var IJe=(0,de.createCtranspose)({conj:j_,transpose:pM,typed:Ne});U.ctranspose=IJe;var Vu=(0,de.createEqual)({DenseMatrix:Er,equalScalar:Vr,matrix:Xe,typed:Ne});U.equal=Vu;var jn=(0,de.createIndexClass)({ImmutableDenseMatrix:EG});U.Index=jn;var BJe=(0,de.createSetCartesian)({DenseMatrix:Er,Index:jn,compareNatural:Oi,size:ti,subset:xi,typed:Ne});U.setCartesian=BJe;var kJe=(0,de.createSetDistinct)({DenseMatrix:Er,Index:jn,compareNatural:Oi,size:ti,subset:xi,typed:Ne});U.setDistinct=kJe;var jJe=(0,de.createSetIsSubset)({Index:jn,compareNatural:Oi,size:ti,subset:xi,typed:Ne});U.setIsSubset=jJe;var TJe=(0,de.createSetPowerset)({Index:jn,compareNatural:Oi,size:ti,subset:xi,typed:Ne});U.setPowerset=TJe;var RJe=(0,de.createIndex)({Index:jn,typed:Ne});U.index=RJe;var LG=(0,de.createFix)({Complex:st,ceil:FG,floor:IG,typed:Ne});U.fix=LG;var fM=(0,de.createRange)({bignumber:Ju,matrix:Xe,config:Le.config,larger:ta,largerEq:lM,smaller:ka,smallerEq:TG,typed:Ne});U.range=fM;var Mt=(0,de.createDivideScalar)({numeric:jG,typed:Ne});U.divideScalar=Mt;var FJe=(0,de.createNthRoots)({Complex:st,config:Le.config,divideScalar:Mt,typed:Ne});U.nthRoots=FJe;var UG=(0,de.createLsolve)({DenseMatrix:Er,divideScalar:Mt,equalScalar:Vr,matrix:Xe,multiplyScalar:Ht,subtract:Wt,typed:Ne});U.lsolve=UG;var LJe=(0,de.createDeepEqual)({equal:Vu,typed:Ne});U.deepEqual=LJe;var zG=(0,de.createSetDifference)({DenseMatrix:Er,Index:jn,compareNatural:Oi,size:ti,subset:xi,typed:Ne});U.setDifference=zG;var UJe=(0,de.createSetMultiplicity)({Index:jn,compareNatural:Oi,size:ti,subset:xi,typed:Ne});U.setMultiplicity=UJe;var zJe=(0,de.createHypot)({abs:kn,addScalar:kt,divideScalar:Mt,isPositive:E_,multiplyScalar:Ht,smaller:ka,sqrt:Vs,typed:Ne});U.hypot=zJe;var hM=(0,de.createLup)({DenseMatrix:Er,Spa:BG,SparseMatrix:Ba,abs:kn,addScalar:kt,divideScalar:Mt,equalScalar:Vr,larger:ta,matrix:Xe,multiplyScalar:Ht,subtract:Wt,typed:Ne,unaryMinus:Ia});U.lup=hM;var JG=(0,de.createSlu)({SparseMatrix:Ba,abs:kn,add:fn,divideScalar:Mt,larger:ta,largerEq:lM,multiply:At,subtract:Wt,transpose:pM,typed:Ne});U.slu=JG;var VG=(0,de.createDet)({lup:hM,matrix:Xe,multiply:At,subtract:Wt,typed:Ne,unaryMinus:Ia});U.det=VG;var JJe=(0,de.createDistance)({abs:kn,addScalar:kt,divideScalar:Mt,multiplyScalar:Ht,sqrt:Vs,subtract:Wt,typed:Ne,unaryMinus:Ia});U.distance=JJe;var GG=(0,de.createStirlingS2)({addScalar:kt,combinations:B_,divideScalar:Mt,factorial:R_,isInteger:ra,isNegative:oc,larger:ta,multiplyScalar:Ht,pow:lc,subtract:Wt,typed:Ne});U.stirlingS2=GG;var VJe=(0,de.createCatalan)({addScalar:kt,combinations:B_,divideScalar:Mt,isInteger:ra,isNegative:oc,multiplyScalar:Ht,typed:Ne});U.catalan=VJe;var GJe=(0,de.createXor)({DenseMatrix:Er,matrix:Xe,typed:Ne});U.xor=GJe;var HJe=(0,de.createRow)({Index:jn,matrix:Xe,range:fM,typed:Ne});U.row=HJe;var HG=(0,de.createDotDivide)({DenseMatrix:Er,divideScalar:Mt,equalScalar:Vr,matrix:Xe,typed:Ne});U.dotDivide=HG;var ur=(0,de.createUnitClass)({BigNumber:Ve,Complex:st,Fraction:Js,abs:kn,addScalar:kt,config:Le.config,divideScalar:Mt,equal:Vu,fix:LG,format:DG,isNumeric:sc,multiplyScalar:Ht,number:I_,pow:lc,round:T_,subtract:Wt});U.Unit=ur;var WJe=(0,de.createCreateUnit)({Unit:ur,typed:Ne});U.createUnit=WJe;var WG=(0,de.createSetSymDifference)({Index:jn,concat:cM,setDifference:zG,size:ti,subset:xi,typed:Ne});U.setSymDifference=WG;var $Je=(0,de.createQr)({addScalar:kt,complex:oM,conj:j_,divideScalar:Mt,equal:Vu,identity:cc,isZero:uM,matrix:Xe,multiplyScalar:Ht,sign:SG,sqrt:Vs,subtract:Wt,typed:Ne,unaryMinus:Ia,zeros:Gs});U.qr=$Je;var Gu=(0,de.createInv)({abs:kn,addScalar:kt,det:VG,divideScalar:Mt,identity:cc,matrix:Xe,multiply:At,typed:Ne,unaryMinus:Ia});U.inv=Gu;var QJe=(0,de.createExpm)({abs:kn,add:fn,identity:cc,inv:Gu,multiply:At,typed:Ne});U.expm=QJe;var dc=(0,de.createDivide)({divideScalar:Mt,equalScalar:Vr,inv:Gu,matrix:Xe,multiply:At,typed:Ne});U.divide=dc;var YJe=(0,de.createMean)({add:fn,divide:dc,typed:Ne});U.mean=YJe;var $G=(0,de.createVariance)({add:fn,apply:wG,divide:dc,isNaN:q_,multiply:At,subtract:Wt,typed:Ne});U.variance=$G;var ZJe=(0,de.createStd)({sqrt:Vs,typed:Ne,variance:$G});U.std=ZJe;var XJe=(0,de.createMultinomial)({add:fn,divide:dc,factorial:R_,isInteger:ra,isPositive:E_,multiply:At,typed:Ne});U.multinomial=XJe;var KJe=(0,de.createAtomicMass)({BigNumber:Ve,Unit:ur,config:Le.config});U.atomicMass=KJe;var eVe=(0,de.createBohrMagneton)({BigNumber:Ve,Unit:ur,config:Le.config});U.bohrMagneton=eVe;var rVe=(0,de.createBoltzmann)({BigNumber:Ve,Unit:ur,config:Le.config});U.boltzmann=rVe;var tVe=(0,de.createConductanceQuantum)({BigNumber:Ve,Unit:ur,config:Le.config});U.conductanceQuantum=tVe;var nVe=(0,de.createDeuteronMass)({BigNumber:Ve,Unit:ur,config:Le.config});U.deuteronMass=nVe;var iVe=(0,de.createElectronMass)({BigNumber:Ve,Unit:ur,config:Le.config});U.electronMass=iVe;var aVe=(0,de.createFaraday)({BigNumber:Ve,Unit:ur,config:Le.config});U.faraday=aVe;var sVe=(0,de.createFirstRadiation)({BigNumber:Ve,Unit:ur,config:Le.config});U.firstRadiation=sVe;var oVe=(0,de.createGravitationConstant)({BigNumber:Ve,Unit:ur,config:Le.config});U.gravitationConstant=oVe;var cVe=(0,de.createHartreeEnergy)({BigNumber:Ve,Unit:ur,config:Le.config});U.hartreeEnergy=cVe;var uVe=(0,de.createKlitzing)({BigNumber:Ve,Unit:ur,config:Le.config});U.klitzing=uVe;var lVe=(0,de.createMagneticConstant)({BigNumber:Ve,Unit:ur,config:Le.config});U.magneticConstant=lVe;var dVe=(0,de.createMolarMass)({BigNumber:Ve,Unit:ur,config:Le.config});U.molarMass=dVe;var pVe=(0,de.createMolarPlanckConstant)({BigNumber:Ve,Unit:ur,config:Le.config});U.molarPlanckConstant=pVe;var fVe=(0,de.createNeutronMass)({BigNumber:Ve,Unit:ur,config:Le.config});U.neutronMass=fVe;var hVe=(0,de.createPlanckCharge)({BigNumber:Ve,Unit:ur,config:Le.config});U.planckCharge=hVe;var vVe=(0,de.createPlanckLength)({BigNumber:Ve,Unit:ur,config:Le.config});U.planckLength=vVe;var mVe=(0,de.createPlanckTemperature)({BigNumber:Ve,Unit:ur,config:Le.config});U.planckTemperature=mVe;var yVe=(0,de.createProtonMass)({BigNumber:Ve,Unit:ur,config:Le.config});U.protonMass=yVe;var gVe=(0,de.createReducedPlanckConstant)({BigNumber:Ve,Unit:ur,config:Le.config});U.reducedPlanckConstant=gVe;var bVe=(0,de.createSecondRadiation)({BigNumber:Ve,Unit:ur,config:Le.config});U.secondRadiation=bVe;var _Ve=(0,de.createStefanBoltzmann)({BigNumber:Ve,Unit:ur,config:Le.config});U.stefanBoltzmann=_Ve;var wVe=(0,de.createVacuumImpedance)({BigNumber:Ve,Unit:ur,config:Le.config});U.vacuumImpedance=wVe;var SVe=(0,de.createColumn)({Index:jn,matrix:Xe,range:fM,typed:Ne});U.column=SVe;var QG=(0,de.createUsolve)({DenseMatrix:Er,divideScalar:Mt,equalScalar:Vr,matrix:Xe,multiplyScalar:Ht,subtract:Wt,typed:Ne});U.usolve=QG;var YG=(0,de.createSetIntersect)({DenseMatrix:Er,Index:jn,compareNatural:Oi,size:ti,subset:xi,typed:Ne});U.setIntersect=YG;var xVe=(0,de.createLusolve)({DenseMatrix:Er,lsolve:UG,lup:hM,matrix:Xe,slu:JG,typed:Ne,usolve:QG});U.lusolve=xVe;var OVe=(0,de.createEigs)({abs:kn,add:fn,addScalar:kt,atan:NG,bignumber:Ju,config:Le.config,cos:CG,equal:Vu,inv:Gu,matrix:Xe,multiply:At,multiplyScalar:Ht,sin:AG,subtract:Wt,typed:Ne});U.eigs=OVe;var DVe=(0,de.createIntersect)({abs:kn,add:fn,addScalar:kt,config:Le.config,divideScalar:Mt,equalScalar:Vr,matrix:Xe,multiply:At,multiplyScalar:Ht,smaller:ka,subtract:Wt,typed:Ne});U.intersect=DVe;var NVe=(0,de.createBellNumbers)({addScalar:kt,isInteger:ra,isNegative:oc,stirlingS2:GG,typed:Ne});U.bellNumbers=NVe;var CVe=(0,de.createAvogadro)({BigNumber:Ve,Unit:ur,config:Le.config});U.avogadro=CVe;var AVe=(0,de.createClassicalElectronRadius)({BigNumber:Ve,Unit:ur,config:Le.config});U.classicalElectronRadius=AVe;var MVe=(0,de.createElectricConstant)({BigNumber:Ve,Unit:ur,config:Le.config});U.electricConstant=MVe;var PVe=(0,de.createFermiCoupling)({BigNumber:Ve,Unit:ur,config:Le.config});U.fermiCoupling=PVe;var EVe=(0,de.createGravity)({BigNumber:Ve,Unit:ur,config:Le.config});U.gravity=EVe;var qVe=(0,de.createLoschmidt)({BigNumber:Ve,Unit:ur,config:Le.config});U.loschmidt=qVe;var IVe=(0,de.createMolarMassC12)({BigNumber:Ve,Unit:ur,config:Le.config});U.molarMassC12=IVe;var BVe=(0,de.createNuclearMagneton)({BigNumber:Ve,Unit:ur,config:Le.config});U.nuclearMagneton=BVe;var kVe=(0,de.createPlanckMass)({BigNumber:Ve,Unit:ur,config:Le.config});U.planckMass=kVe;var jVe=(0,de.createQuantumOfCirculation)({BigNumber:Ve,Unit:ur,config:Le.config});U.quantumOfCirculation=jVe;var TVe=(0,de.createSpeedOfLight)({BigNumber:Ve,Unit:ur,config:Le.config});U.speedOfLight=TVe;var RVe=(0,de.createWienDisplacement)({BigNumber:Ve,Unit:ur,config:Le.config});U.wienDisplacement=RVe;var vM=(0,de.createLog)({Complex:st,config:Le.config,divideScalar:Mt,typed:Ne});U.log=vM;var FVe=(0,de.createUnitFunction)({Unit:ur,typed:Ne});U.unit=FVe;var LVe=(0,de.createSqrtm)({abs:kn,add:fn,identity:cc,inv:Gu,max:PG,multiply:At,size:ti,sqrt:Vs,subtract:Wt,typed:Ne});U.sqrtm=LVe;var UVe=(0,de.createKldivergence)({divide:dc,dotDivide:HG,isNumeric:sc,log:vM,matrix:Xe,multiply:At,sum:RG,typed:Ne});U.kldivergence=UVe;var zVe=(0,de.createBohrRadius)({BigNumber:Ve,Unit:ur,config:Le.config});U.bohrRadius=zVe;var JVe=(0,de.createElementaryCharge)({BigNumber:Ve,Unit:ur,config:Le.config});U.elementaryCharge=JVe;var VVe=(0,de.createInverseConductanceQuantum)({BigNumber:Ve,Unit:ur,config:Le.config});U.inverseConductanceQuantum=VVe;var GVe=(0,de.createMolarVolume)({BigNumber:Ve,Unit:ur,config:Le.config});U.molarVolume=GVe;var HVe=(0,de.createPlanckTime)({BigNumber:Ve,Unit:ur,config:Le.config});U.planckTime=HVe;var WVe=(0,de.createThomsonCrossSection)({BigNumber:Ve,Unit:ur,config:Le.config});U.thomsonCrossSection=WVe;var $Ve=(0,de.createLog1p)({Complex:st,config:Le.config,divideScalar:Mt,log:vM,typed:Ne});U.log1p=$Ve;var ZG=(0,de.createMedian)({add:fn,compare:uc,divide:dc,partitionSelect:dM,typed:Ne});U.median=ZG;var QVe=(0,de.createGasConstant)({BigNumber:Ve,Unit:ur,config:Le.config});U.gasConstant=QVe;var YVe=(0,de.createPlanckConstant)({BigNumber:Ve,Unit:ur,config:Le.config});U.planckConstant=YVe;var ZVe=(0,de.createSetUnion)({Index:jn,concat:cM,setIntersect:YG,setSymDifference:WG,size:ti,subset:xi,typed:Ne});U.setUnion=ZVe;var XVe=(0,de.createMagneticFluxQuantum)({BigNumber:Ve,Unit:ur,config:Le.config});U.magneticFluxQuantum=XVe;var KVe=(0,de.createCoulomb)({BigNumber:Ve,Unit:ur,config:Le.config});U.coulomb=KVe;var eGe=(0,de.createMad)({abs:kn,map:OG,median:ZG,subtract:Wt,typed:Ne});U.mad=eGe;var rGe=(0,de.createRydberg)({BigNumber:Ve,Unit:ur,config:Le.config});U.rydberg=rGe});var MM=D(Ke=>{"use strict";Object.defineProperty(Ke,"__esModule",{value:!0});Object.defineProperty(Ke,"docs",{enumerable:!0,get:function(){return tGe.embeddedDocs}});Ke.derivative=Ke.help=Ke.rationalize=Ke.simplify=Ke.parser=Ke.compile=Ke.Help=Ke.Parser=Ke.evaluate=Ke.parse=Ke.FunctionNode=Ke.SymbolNode=Ke.AssignmentNode=Ke.IndexNode=Ke.AccessorNode=Ke.chain=Ke.FunctionAssignmentNode=Ke.RangeNode=Ke.OperatorNode=Ke.ConditionalNode=Ke.reviver=Ke.Chain=Ke.RelationalNode=Ke.ParenthesisNode=Ke.ObjectNode=Ke.ConstantNode=Ke.BlockNode=Ke.ArrayNode=Ke.Node=void 0;var Hs=Md(),hr=K(),Y=F_(),tGe=kA();function Hu(){return Hu=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Hu.apply(this,arguments)}var pc={},Wu={},XG={},jt=(0,hr.createNode)({mathWithTransform:Wu});Ke.Node=jt;var yM=(0,hr.createArrayNode)({Node:jt});Ke.ArrayNode=yM;var gM=(0,hr.createBlockNode)({Node:jt,ResultSet:Y.ResultSet});Ke.BlockNode=gM;var fc=(0,hr.createConstantNode)({Node:jt});Ke.ConstantNode=fc;var bM=(0,hr.createObjectNode)({Node:jt});Ke.ObjectNode=bM;var hc=(0,hr.createParenthesisNode)({Node:jt});Ke.ParenthesisNode=hc;var _M=(0,hr.createRelationalNode)({Node:jt});Ke.RelationalNode=_M;var L_=(0,hr.createChainClass)({math:pc});Ke.Chain=L_;var KG=(0,hr.createReviver)({classes:XG});Ke.reviver=KG;var wM=(0,hr.createConditionalNode)({Node:jt});Ke.ConditionalNode=wM;var vc=(0,hr.createOperatorNode)({Node:jt});Ke.OperatorNode=vc;var SM=(0,hr.createRangeNode)({Node:jt});Ke.RangeNode=SM;var xM=(0,hr.createFunctionAssignmentNode)({Node:jt,typed:Y.typed});Ke.FunctionAssignmentNode=xM;var eH=(0,hr.createChain)({Chain:L_,typed:Y.typed});Ke.chain=eH;var OM=(0,hr.createAccessorNode)({Node:jt,subset:Y.subset});Ke.AccessorNode=OM;var DM=(0,hr.createIndexNode)({Node:jt,Range:Y.Range,size:Y.size});Ke.IndexNode=DM;var NM=(0,hr.createAssignmentNode)({matrix:Y.matrix,Node:jt,subset:Y.subset});Ke.AssignmentNode=NM;var Ws=(0,hr.createSymbolNode)({Unit:Y.Unit,Node:jt,math:pc});Ke.SymbolNode=Ws;var mc=(0,hr.createFunctionNode)({Node:jt,SymbolNode:Ws,math:pc});Ke.FunctionNode=mc;var na=(0,hr.createParse)({AccessorNode:OM,ArrayNode:yM,AssignmentNode:NM,BlockNode:gM,ConditionalNode:wM,ConstantNode:fc,FunctionAssignmentNode:xM,FunctionNode:mc,IndexNode:DM,ObjectNode:bM,OperatorNode:vc,ParenthesisNode:hc,RangeNode:SM,RelationalNode:_M,SymbolNode:Ws,config:Hs.config,numeric:Y.numeric,typed:Y.typed});Ke.parse=na;var mM=(0,hr.createEvaluate)({parse:na,typed:Y.typed});Ke.evaluate=mM;var CM=(0,hr.createParserClass)({parse:na});Ke.Parser=CM;var AM=(0,hr.createHelpClass)({parse:na});Ke.Help=AM;var rH=(0,hr.createCompile)({parse:na,typed:Y.typed});Ke.compile=rH;var tH=(0,hr.createParser)({Parser:CM,typed:Y.typed});Ke.parser=tH;var U_=(0,hr.createSimplify)({bignumber:Y.bignumber,fraction:Y.fraction,ConstantNode:fc,FunctionNode:mc,OperatorNode:vc,ParenthesisNode:hc,SymbolNode:Ws,add:Y.add,config:Hs.config,divide:Y.divide,equal:Y.equal,isZero:Y.isZero,mathWithTransform:Wu,multiply:Y.multiply,parse:na,pow:Y.pow,subtract:Y.subtract,typed:Y.typed});Ke.simplify=U_;var nH=(0,hr.createRationalize)({bignumber:Y.bignumber,fraction:Y.fraction,ConstantNode:fc,FunctionNode:mc,OperatorNode:vc,ParenthesisNode:hc,SymbolNode:Ws,add:Y.add,config:Hs.config,divide:Y.divide,equal:Y.equal,isZero:Y.isZero,mathWithTransform:Wu,multiply:Y.multiply,parse:na,pow:Y.pow,simplify:U_,subtract:Y.subtract,typed:Y.typed});Ke.rationalize=nH;var iH=(0,hr.createHelp)({Help:AM,mathWithTransform:Wu,typed:Y.typed});Ke.help=iH;var aH=(0,hr.createDerivative)({ConstantNode:fc,FunctionNode:mc,OperatorNode:vc,ParenthesisNode:hc,SymbolNode:Ws,config:Hs.config,equal:Y.equal,isZero:Y.isZero,numeric:Y.numeric,parse:na,simplify:U_,typed:Y.typed});Ke.derivative=aH;Hu(pc,{typeof:Y.typeOf,eye:Y.eye,reviver:KG,false:Y._false,null:Y._null,true:Y._true,replacer:Y.replacer,i:Y.i,LN10:Y.LN10,LOG10E:Y.LOG10E,NaN:Y._NaN,pi:Y.pi,SQRT1_2:Y.SQRT1_2,tau:Y.tau,efimovFactor:Y.efimovFactor,fineStructure:Y.fineStructure,sackurTetrode:Y.sackurTetrode,weakMixingAngle:Y.weakMixingAngle,e:Y.e,Infinity:Y._Infinity,LOG2E:Y.LOG2E,PI:Y.pi,version:Y.version,E:Y.e,phi:Y.phi,typed:Y.typed,isInteger:Y.isInteger,isNumeric:Y.isNumeric,isPositive:Y.isPositive,isNaN:Y.isNaN,equalScalar:Y.equalScalar,number:Y.number,boolean:Y.boolean,complex:Y.complex,splitUnit:Y.splitUnit,unaryPlus:Y.unaryPlus,apply:Y.apply,cube:Y.cube,expm1:Y.expm1,log10:Y.log10,multiplyScalar:Y.multiplyScalar,sign:Y.sign,square:Y.square,bitNot:Y.bitNot,arg:Y.arg,im:Y.im,not:Y.not,filter:Y.filter,forEach:Y.forEach,map:Y.map,erf:Y.erf,format:Y.format,isPrime:Y.isPrime,acos:Y.acos,acot:Y.acot,acsc:Y.acsc,asec:Y.asec,asin:Y.asin,atan:Y.atan,atanh:Y.atanh,cosh:Y.cosh,coth:Y.coth,csch:Y.csch,sech:Y.sech,sinh:Y.sinh,tanh:Y.tanh,chain:eH,combinations:Y.combinations,pickRandom:Y.pickRandom,randomInt:Y.randomInt,LN2:Y.LN2,clone:Y.clone,hasNumericValue:Y.hasNumericValue,typeOf:Y.typeOf,string:Y.string,fraction:Y.fraction,unaryMinus:Y.unaryMinus,addScalar:Y.addScalar,exp:Y.exp,log2:Y.log2,sqrt:Y.sqrt,conj:Y.conj,getMatrixDataType:Y.getMatrixDataType,mode:Y.mode,print:Y.print,acosh:Y.acosh,acsch:Y.acsch,asinh:Y.asinh,cos:Y.cos,csc:Y.csc,sin:Y.sin,combinationsWithRep:Y.combinationsWithRep,random:Y.random,SQRT2:Y.SQRT2,isNegative:Y.isNegative,matrix:Y.matrix,cbrt:Y.cbrt,gcd:Y.gcd,mod:Y.mod,nthRoot:Y.nthRoot,xgcd:Y.xgcd,bitAnd:Y.bitAnd,bitXor:Y.bitXor,or:Y.or,concat:Y.concat,diag:Y.diag,identity:Y.identity,ones:Y.ones,reshape:Y.reshape,size:Y.size,subset:Y.subset,zeros:Y.zeros,to:Y.to,round:Y.round,leftShift:Y.leftShift,rightLogShift:Y.rightLogShift,compare:Y.compare,compareText:Y.compareText,smaller:Y.smaller,larger:Y.larger,unequal:Y.unequal,max:Y.max,sparse:Y.sparse,acoth:Y.acoth,atan2:Y.atan2,sec:Y.sec,add:Y.add,trace:Y.trace,composition:Y.composition,isZero:Y.isZero,abs:Y.abs,floor:Y.floor,multiply:Y.multiply,dotMultiply:Y.dotMultiply,re:Y.re,flatten:Y.flatten,resize:Y.resize,squeeze:Y.squeeze,prod:Y.prod,pow:Y.pow,dotPow:Y.dotPow,rightArithShift:Y.rightArithShift,compareNatural:Y.compareNatural,equalText:Y.equalText,largerEq:Y.largerEq,partitionSelect:Y.partitionSelect,min:Y.min,asech:Y.asech,tan:Y.tan,setSize:Y.setSize,norm:Y.norm,quantileSeq:Y.quantileSeq,gamma:Y.gamma,bignumber:Y.bignumber,lcm:Y.lcm,bitOr:Y.bitOr,kron:Y.kron,transpose:Y.transpose,numeric:Y.numeric,and:Y.and,smallerEq:Y.smallerEq,sort:Y.sort,cot:Y.cot,dot:Y.dot,sum:Y.sum,factorial:Y.factorial,permutations:Y.permutations,ceil:Y.ceil,subtract:Y.subtract,cross:Y.cross,ctranspose:Y.ctranspose,equal:Y.equal,setCartesian:Y.setCartesian,setDistinct:Y.setDistinct,setIsSubset:Y.setIsSubset,setPowerset:Y.setPowerset,index:Y.index,fix:Y.fix,range:Y.range,divideScalar:Y.divideScalar,nthRoots:Y.nthRoots,lsolve:Y.lsolve,deepEqual:Y.deepEqual,setDifference:Y.setDifference,setMultiplicity:Y.setMultiplicity,hypot:Y.hypot,lup:Y.lup,slu:Y.slu,det:Y.det,distance:Y.distance,stirlingS2:Y.stirlingS2,catalan:Y.catalan,xor:Y.xor,row:Y.row,dotDivide:Y.dotDivide,createUnit:Y.createUnit,setSymDifference:Y.setSymDifference,qr:Y.qr,inv:Y.inv,expm:Y.expm,divide:Y.divide,mean:Y.mean,variance:Y.variance,std:Y.std,multinomial:Y.multinomial,atomicMass:Y.atomicMass,bohrMagneton:Y.bohrMagneton,boltzmann:Y.boltzmann,conductanceQuantum:Y.conductanceQuantum,deuteronMass:Y.deuteronMass,electronMass:Y.electronMass,faraday:Y.faraday,firstRadiation:Y.firstRadiation,gravitationConstant:Y.gravitationConstant,hartreeEnergy:Y.hartreeEnergy,klitzing:Y.klitzing,magneticConstant:Y.magneticConstant,molarMass:Y.molarMass,molarPlanckConstant:Y.molarPlanckConstant,neutronMass:Y.neutronMass,planckCharge:Y.planckCharge,planckLength:Y.planckLength,planckTemperature:Y.planckTemperature,protonMass:Y.protonMass,reducedPlanckConstant:Y.reducedPlanckConstant,secondRadiation:Y.secondRadiation,stefanBoltzmann:Y.stefanBoltzmann,vacuumImpedance:Y.vacuumImpedance,column:Y.column,usolve:Y.usolve,setIntersect:Y.setIntersect,lusolve:Y.lusolve,eigs:Y.eigs,intersect:Y.intersect,var:Y.variance,bellNumbers:Y.bellNumbers,avogadro:Y.avogadro,classicalElectronRadius:Y.classicalElectronRadius,electricConstant:Y.electricConstant,fermiCoupling:Y.fermiCoupling,gravity:Y.gravity,loschmidt:Y.loschmidt,molarMassC12:Y.molarMassC12,nuclearMagneton:Y.nuclearMagneton,planckMass:Y.planckMass,quantumOfCirculation:Y.quantumOfCirculation,speedOfLight:Y.speedOfLight,wienDisplacement:Y.wienDisplacement,log:Y.log,unit:Y.unit,parse:na,evaluate:mM,sqrtm:Y.sqrtm,kldivergence:Y.kldivergence,bohrRadius:Y.bohrRadius,elementaryCharge:Y.elementaryCharge,inverseConductanceQuantum:Y.inverseConductanceQuantum,molarVolume:Y.molarVolume,planckTime:Y.planckTime,thomsonCrossSection:Y.thomsonCrossSection,log1p:Y.log1p,compile:rH,parser:tH,median:Y.median,simplify:U_,rationalize:nH,gasConstant:Y.gasConstant,planckConstant:Y.planckConstant,setUnion:Y.setUnion,help:iH,derivative:aH,magneticFluxQuantum:Y.magneticFluxQuantum,eval:mM,coulomb:Y.coulomb,mad:Y.mad,rydberg:Y.rydberg,config:Hs.config});Hu(Wu,pc,{apply:(0,hr.createApplyTransform)({isInteger:Y.isInteger,typed:Y.typed}),filter:(0,hr.createFilterTransform)({typed:Y.typed}),map:(0,hr.createMapTransform)({typed:Y.typed}),forEach:(0,hr.createForEachTransform)({typed:Y.typed}),max:(0,hr.createMaxTransform)({larger:Y.larger,typed:Y.typed}),min:(0,hr.createMinTransform)({smaller:Y.smaller,typed:Y.typed}),subset:(0,hr.createSubsetTransform)({matrix:Y.matrix,typed:Y.typed}),concat:(0,hr.createConcatTransform)({isInteger:Y.isInteger,matrix:Y.matrix,typed:Y.typed}),range:(0,hr.createRangeTransform)({bignumber:Y.bignumber,matrix:Y.matrix,config:Hs.config,larger:Y.larger,largerEq:Y.largerEq,smaller:Y.smaller,smallerEq:Y.smallerEq,typed:Y.typed}),sum:(0,hr.createSumTransform)({bignumber:Y.bignumber,fraction:Y.fraction,add:Y.add,config:Hs.config,typed:Y.typed}),index:(0,hr.createIndexTransform)({Index:Y.Index}),column:(0,hr.createColumnTransform)({Index:Y.Index,matrix:Y.matrix,range:Y.range,typed:Y.typed}),row:(0,hr.createRowTransform)({Index:Y.Index,matrix:Y.matrix,range:Y.range,typed:Y.typed}),mean:(0,hr.createMeanTransform)({add:Y.add,divide:Y.divide,typed:Y.typed}),variance:(0,hr.createVarianceTransform)({add:Y.add,apply:Y.apply,divide:Y.divide,isNaN:Y.isNaN,multiply:Y.multiply,subtract:Y.subtract,typed:Y.typed}),std:(0,hr.createStdTransform)({sqrt:Y.sqrt,typed:Y.typed,variance:Y.variance})});Hu(XG,{ResultSet:Y.ResultSet,Complex:Y.Complex,Range:Y.Range,Node:jt,ArrayNode:yM,BlockNode:gM,ConstantNode:fc,ObjectNode:bM,ParenthesisNode:hc,RelationalNode:_M,Chain:L_,BigNumber:Y.BigNumber,Matrix:Y.Matrix,ConditionalNode:wM,OperatorNode:vc,Fraction:Y.Fraction,RangeNode:SM,DenseMatrix:Y.DenseMatrix,FunctionAssignmentNode:xM,SparseMatrix:Y.SparseMatrix,ImmutableDenseMatrix:Y.ImmutableDenseMatrix,FibonacciHeap:Y.FibonacciHeap,AccessorNode:OM,IndexNode:DM,Spa:Y.Spa,AssignmentNode:NM,Index:Y.Index,Unit:Y.Unit,SymbolNode:Ws,FunctionNode:mc,Parser:CM,Help:AM});L_.createProxy(pc)});var sH=D(Sr=>{"use strict";Object.defineProperty(Sr,"__esModule",{value:!0});Object.defineProperty(Sr,"isAccessorNode",{enumerable:!0,get:function(){return Or.isAccessorNode}});Object.defineProperty(Sr,"isArray",{enumerable:!0,get:function(){return Or.isArray}});Object.defineProperty(Sr,"isArrayNode",{enumerable:!0,get:function(){return Or.isArrayNode}});Object.defineProperty(Sr,"isAssignmentNode",{enumerable:!0,get:function(){return Or.isAssignmentNode}});Object.defineProperty(Sr,"isBigNumber",{enumerable:!0,get:function(){return Or.isBigNumber}});Object.defineProperty(Sr,"isBlockNode",{enumerable:!0,get:function(){return Or.isBlockNode}});Object.defineProperty(Sr,"isBoolean",{enumerable:!0,get:function(){return Or.isBoolean}});Object.defineProperty(Sr,"isChain",{enumerable:!0,get:function(){return Or.isChain}});Object.defineProperty(Sr,"isCollection",{enumerable:!0,get:function(){return Or.isCollection}});Object.defineProperty(Sr,"isComplex",{enumerable:!0,get:function(){return Or.isComplex}});Object.defineProperty(Sr,"isConditionalNode",{enumerable:!0,get:function(){return Or.isConditionalNode}});Object.defineProperty(Sr,"isConstantNode",{enumerable:!0,get:function(){return Or.isConstantNode}});Object.defineProperty(Sr,"isDate",{enumerable:!0,get:function(){return Or.isDate}});Object.defineProperty(Sr,"isDenseMatrix",{enumerable:!0,get:function(){return Or.isDenseMatrix}});Object.defineProperty(Sr,"isFraction",{enumerable:!0,get:function(){return Or.isFraction}});Object.defineProperty(Sr,"isFunction",{enumerable:!0,get:function(){return Or.isFunction}});Object.defineProperty(Sr,"isFunctionAssignmentNode",{enumerable:!0,get:function(){return Or.isFunctionAssignmentNode}});Object.defineProperty(Sr,"isFunctionNode",{enumerable:!0,get:function(){return Or.isFunctionNode}});Object.defineProperty(Sr,"isHelp",{enumerable:!0,get:function(){return Or.isHelp}});Object.defineProperty(Sr,"isIndex",{enumerable:!0,get:function(){return Or.isIndex}});Object.defineProperty(Sr,"isIndexNode",{enumerable:!0,get:function(){return Or.isIndexNode}});Object.defineProperty(Sr,"isMatrix",{enumerable:!0,get:function(){return Or.isMatrix}});Object.defineProperty(Sr,"isNode",{enumerable:!0,get:function(){return Or.isNode}});Object.defineProperty(Sr,"isNull",{enumerable:!0,get:function(){return Or.isNull}});Object.defineProperty(Sr,"isNumber",{enumerable:!0,get:function(){return Or.isNumber}});Object.defineProperty(Sr,"isString",{enumerable:!0,get:function(){return Or.isString}});Object.defineProperty(Sr,"isUndefined",{enumerable:!0,get:function(){return Or.isUndefined}});Object.defineProperty(Sr,"isObject",{enumerable:!0,get:function(){return Or.isObject}});Object.defineProperty(Sr,"isObjectNode",{enumerable:!0,get:function(){return Or.isObjectNode}});Object.defineProperty(Sr,"isOperatorNode",{enumerable:!0,get:function(){return Or.isOperatorNode}});Object.defineProperty(Sr,"isParenthesisNode",{enumerable:!0,get:function(){return Or.isParenthesisNode}});Object.defineProperty(Sr,"isRange",{enumerable:!0,get:function(){return Or.isRange}});Object.defineProperty(Sr,"isRangeNode",{enumerable:!0,get:function(){return Or.isRangeNode}});Object.defineProperty(Sr,"isRegExp",{enumerable:!0,get:function(){return Or.isRegExp}});Object.defineProperty(Sr,"isResultSet",{enumerable:!0,get:function(){return Or.isResultSet}});Object.defineProperty(Sr,"isSparseMatrix",{enumerable:!0,get:function(){return Or.isSparseMatrix}});Object.defineProperty(Sr,"isSymbolNode",{enumerable:!0,get:function(){return Or.isSymbolNode}});Object.defineProperty(Sr,"isUnit",{enumerable:!0,get:function(){return Or.isUnit}});var Or=He()});var Je=D(z_=>{"use strict";Object.defineProperty(z_,"__esModule",{value:!0});z_.BigNumberDependencies=void 0;var nGe=K(),iGe={createBigNumberClass:nGe.createBigNumberClass};z_.BigNumberDependencies=iGe});var rt=D(J_=>{"use strict";Object.defineProperty(J_,"__esModule",{value:!0});J_.ComplexDependencies=void 0;var aGe=K(),sGe={createComplexClass:aGe.createComplexClass};J_.ComplexDependencies=sGe});var $u=D(V_=>{"use strict";Object.defineProperty(V_,"__esModule",{value:!0});V_.MatrixDependencies=void 0;var oGe=K(),cGe={createMatrixClass:oGe.createMatrixClass};V_.MatrixDependencies=cGe});var Mr=D(G_=>{"use strict";Object.defineProperty(G_,"__esModule",{value:!0});G_.DenseMatrixDependencies=void 0;var uGe=$u(),lGe=K(),dGe={MatrixDependencies:uGe.MatrixDependencies,createDenseMatrixClass:lGe.createDenseMatrixClass};G_.DenseMatrixDependencies=dGe});var ja=D(H_=>{"use strict";Object.defineProperty(H_,"__esModule",{value:!0});H_.FractionDependencies=void 0;var pGe=K(),fGe={createFractionClass:pGe.createFractionClass};H_.FractionDependencies=fGe});var _e=D(W_=>{"use strict";Object.defineProperty(W_,"__esModule",{value:!0});W_.typedDependencies=void 0;var hGe=Je(),vGe=rt(),mGe=Mr(),yGe=ja(),gGe=K(),bGe={BigNumberDependencies:hGe.BigNumberDependencies,ComplexDependencies:vGe.ComplexDependencies,DenseMatrixDependencies:mGe.DenseMatrixDependencies,FractionDependencies:yGe.FractionDependencies,createTyped:gGe.createTyped};W_.typedDependencies=bGe});var PM=D($_=>{"use strict";Object.defineProperty($_,"__esModule",{value:!0});$_.ResultSetDependencies=void 0;var _Ge=K(),wGe={createResultSet:_Ge.createResultSet};$_.ResultSetDependencies=wGe});var EM=D(Q_=>{"use strict";Object.defineProperty(Q_,"__esModule",{value:!0});Q_.RangeDependencies=void 0;var SGe=K(),xGe={createRangeClass:SGe.createRangeClass};Q_.RangeDependencies=xGe});var oH=D(Y_=>{"use strict";Object.defineProperty(Y_,"__esModule",{value:!0});Y_.cloneDependencies=void 0;var OGe=_e(),DGe=K(),NGe={typedDependencies:OGe.typedDependencies,createClone:DGe.createClone};Y_.cloneDependencies=NGe});var zn=D(Z_=>{"use strict";Object.defineProperty(Z_,"__esModule",{value:!0});Z_.isIntegerDependencies=void 0;var CGe=_e(),AGe=K(),MGe={typedDependencies:CGe.typedDependencies,createIsInteger:AGe.createIsInteger};Z_.isIntegerDependencies=MGe});var $s=D(X_=>{"use strict";Object.defineProperty(X_,"__esModule",{value:!0});X_.isNegativeDependencies=void 0;var PGe=_e(),EGe=K(),qGe={typedDependencies:PGe.typedDependencies,createIsNegative:EGe.createIsNegative};X_.isNegativeDependencies=qGe});var Qs=D(K_=>{"use strict";Object.defineProperty(K_,"__esModule",{value:!0});K_.isNumericDependencies=void 0;var IGe=_e(),BGe=K(),kGe={typedDependencies:IGe.typedDependencies,createIsNumeric:BGe.createIsNumeric};K_.isNumericDependencies=kGe});var cH=D(e1=>{"use strict";Object.defineProperty(e1,"__esModule",{value:!0});e1.hasNumericValueDependencies=void 0;var jGe=Qs(),TGe=_e(),RGe=K(),FGe={isNumericDependencies:jGe.isNumericDependencies,typedDependencies:TGe.typedDependencies,createHasNumericValue:RGe.createHasNumericValue};e1.hasNumericValueDependencies=FGe});var Qu=D(r1=>{"use strict";Object.defineProperty(r1,"__esModule",{value:!0});r1.isPositiveDependencies=void 0;var LGe=_e(),UGe=K(),zGe={typedDependencies:LGe.typedDependencies,createIsPositive:UGe.createIsPositive};r1.isPositiveDependencies=zGe});var Ys=D(t1=>{"use strict";Object.defineProperty(t1,"__esModule",{value:!0});t1.isZeroDependencies=void 0;var JGe=_e(),VGe=K(),GGe={typedDependencies:JGe.typedDependencies,createIsZero:VGe.createIsZero};t1.isZeroDependencies=GGe});var yc=D(n1=>{"use strict";Object.defineProperty(n1,"__esModule",{value:!0});n1.isNaNDependencies=void 0;var HGe=_e(),WGe=K(),$Ge={typedDependencies:HGe.typedDependencies,createIsNaN:WGe.createIsNaN};n1.isNaNDependencies=$Ge});var uH=D(i1=>{"use strict";Object.defineProperty(i1,"__esModule",{value:!0});i1.typeOfDependencies=void 0;var QGe=_e(),YGe=K(),ZGe={typedDependencies:QGe.typedDependencies,createTypeOf:YGe.createTypeOf};i1.typeOfDependencies=ZGe});var lH=D(a1=>{"use strict";Object.defineProperty(a1,"__esModule",{value:!0});a1.typeofDependencies=void 0;var XGe=K(),KGe={createDeprecatedTypeof:XGe.createDeprecatedTypeof};a1.typeofDependencies=KGe});var zr=D(s1=>{"use strict";Object.defineProperty(s1,"__esModule",{value:!0});s1.equalScalarDependencies=void 0;var eHe=_e(),rHe=K(),tHe={typedDependencies:eHe.typedDependencies,createEqualScalar:rHe.createEqualScalar};s1.equalScalarDependencies=tHe});var ia=D(o1=>{"use strict";Object.defineProperty(o1,"__esModule",{value:!0});o1.SparseMatrixDependencies=void 0;var nHe=$u(),iHe=zr(),aHe=_e(),sHe=K(),oHe={MatrixDependencies:nHe.MatrixDependencies,equalScalarDependencies:iHe.equalScalarDependencies,typedDependencies:aHe.typedDependencies,createSparseMatrixClass:sHe.createSparseMatrixClass};o1.SparseMatrixDependencies=oHe});var Yu=D(c1=>{"use strict";Object.defineProperty(c1,"__esModule",{value:!0});c1.numberDependencies=void 0;var cHe=_e(),uHe=K(),lHe={typedDependencies:cHe.typedDependencies,createNumber:uHe.createNumber};c1.numberDependencies=lHe});var dH=D(u1=>{"use strict";Object.defineProperty(u1,"__esModule",{value:!0});u1.stringDependencies=void 0;var dHe=_e(),pHe=K(),fHe={typedDependencies:dHe.typedDependencies,createString:pHe.createString};u1.stringDependencies=fHe});var pH=D(l1=>{"use strict";Object.defineProperty(l1,"__esModule",{value:!0});l1.booleanDependencies=void 0;var hHe=_e(),vHe=K(),mHe={typedDependencies:hHe.typedDependencies,createBoolean:vHe.createBoolean};l1.booleanDependencies=mHe});var Di=D(d1=>{"use strict";Object.defineProperty(d1,"__esModule",{value:!0});d1.bignumberDependencies=void 0;var yHe=Je(),gHe=_e(),bHe=K(),_He={BigNumberDependencies:yHe.BigNumberDependencies,typedDependencies:gHe.typedDependencies,createBignumber:bHe.createBignumber};d1.bignumberDependencies=_He});var f1=D(p1=>{"use strict";Object.defineProperty(p1,"__esModule",{value:!0});p1.complexDependencies=void 0;var wHe=rt(),SHe=_e(),xHe=K(),OHe={ComplexDependencies:wHe.ComplexDependencies,typedDependencies:SHe.typedDependencies,createComplex:xHe.createComplex};p1.complexDependencies=OHe});var Ta=D(h1=>{"use strict";Object.defineProperty(h1,"__esModule",{value:!0});h1.fractionDependencies=void 0;var DHe=ja(),NHe=_e(),CHe=K(),AHe={FractionDependencies:DHe.FractionDependencies,typedDependencies:NHe.typedDependencies,createFraction:CHe.createFraction};h1.fractionDependencies=AHe});var Ye=D(v1=>{"use strict";Object.defineProperty(v1,"__esModule",{value:!0});v1.matrixDependencies=void 0;var MHe=Mr(),PHe=$u(),EHe=ia(),qHe=_e(),IHe=K(),BHe={DenseMatrixDependencies:MHe.DenseMatrixDependencies,MatrixDependencies:PHe.MatrixDependencies,SparseMatrixDependencies:EHe.SparseMatrixDependencies,typedDependencies:qHe.typedDependencies,createMatrix:IHe.createMatrix};v1.matrixDependencies=BHe});var fH=D(m1=>{"use strict";Object.defineProperty(m1,"__esModule",{value:!0});m1.splitUnitDependencies=void 0;var kHe=_e(),jHe=K(),THe={typedDependencies:kHe.typedDependencies,createSplitUnit:jHe.createSplitUnit};m1.splitUnitDependencies=THe});var aa=D(y1=>{"use strict";Object.defineProperty(y1,"__esModule",{value:!0});y1.unaryMinusDependencies=void 0;var RHe=_e(),FHe=K(),LHe={typedDependencies:RHe.typedDependencies,createUnaryMinus:FHe.createUnaryMinus};y1.unaryMinusDependencies=LHe});var hH=D(g1=>{"use strict";Object.defineProperty(g1,"__esModule",{value:!0});g1.unaryPlusDependencies=void 0;var UHe=Je(),zHe=_e(),JHe=K(),VHe={BigNumberDependencies:UHe.BigNumberDependencies,typedDependencies:zHe.typedDependencies,createUnaryPlus:JHe.createUnaryPlus};g1.unaryPlusDependencies=VHe});var xn=D(b1=>{"use strict";Object.defineProperty(b1,"__esModule",{value:!0});b1.absDependencies=void 0;var GHe=_e(),HHe=K(),WHe={typedDependencies:GHe.typedDependencies,createAbs:HHe.createAbs};b1.absDependencies=WHe});var w1=D(_1=>{"use strict";Object.defineProperty(_1,"__esModule",{value:!0});_1.applyDependencies=void 0;var $He=zn(),QHe=_e(),YHe=K(),ZHe={isIntegerDependencies:$He.isIntegerDependencies,typedDependencies:QHe.typedDependencies,createApply:YHe.createApply};_1.applyDependencies=ZHe});var Pt=D(S1=>{"use strict";Object.defineProperty(S1,"__esModule",{value:!0});S1.addScalarDependencies=void 0;var XHe=_e(),KHe=K(),eWe={typedDependencies:XHe.typedDependencies,createAddScalar:KHe.createAddScalar};S1.addScalarDependencies=eWe});var vH=D(x1=>{"use strict";Object.defineProperty(x1,"__esModule",{value:!0});x1.cbrtDependencies=void 0;var rWe=Je(),tWe=rt(),nWe=ja(),iWe=$s(),aWe=Ye(),sWe=_e(),oWe=aa(),cWe=K(),uWe={BigNumberDependencies:rWe.BigNumberDependencies,ComplexDependencies:tWe.ComplexDependencies,FractionDependencies:nWe.FractionDependencies,isNegativeDependencies:iWe.isNegativeDependencies,matrixDependencies:aWe.matrixDependencies,typedDependencies:sWe.typedDependencies,unaryMinusDependencies:oWe.unaryMinusDependencies,createCbrt:cWe.createCbrt};x1.cbrtDependencies=uWe});var Ra=D(O1=>{"use strict";Object.defineProperty(O1,"__esModule",{value:!0});O1.zerosDependencies=void 0;var lWe=Je(),dWe=Ye(),pWe=_e(),fWe=K(),hWe={BigNumberDependencies:lWe.BigNumberDependencies,matrixDependencies:dWe.matrixDependencies,typedDependencies:pWe.typedDependencies,createZeros:fWe.createZeros};O1.zerosDependencies=hWe});var Zu=D(D1=>{"use strict";Object.defineProperty(D1,"__esModule",{value:!0});D1.roundDependencies=void 0;var vWe=Je(),mWe=Mr(),yWe=zr(),gWe=Ye(),bWe=_e(),_We=Ra(),wWe=K(),SWe={BigNumberDependencies:vWe.BigNumberDependencies,DenseMatrixDependencies:mWe.DenseMatrixDependencies,equalScalarDependencies:yWe.equalScalarDependencies,matrixDependencies:gWe.matrixDependencies,typedDependencies:bWe.typedDependencies,zerosDependencies:_We.zerosDependencies,createRound:wWe.createRound};D1.roundDependencies=SWe});var qM=D(N1=>{"use strict";Object.defineProperty(N1,"__esModule",{value:!0});N1.ceilDependencies=void 0;var xWe=Zu(),OWe=_e(),DWe=K(),NWe={roundDependencies:xWe.roundDependencies,typedDependencies:OWe.typedDependencies,createCeil:DWe.createCeil};N1.ceilDependencies=NWe});var mH=D(C1=>{"use strict";Object.defineProperty(C1,"__esModule",{value:!0});C1.cubeDependencies=void 0;var CWe=_e(),AWe=K(),MWe={typedDependencies:CWe.typedDependencies,createCube:AWe.createCube};C1.cubeDependencies=MWe});var yH=D(A1=>{"use strict";Object.defineProperty(A1,"__esModule",{value:!0});A1.expDependencies=void 0;var PWe=_e(),EWe=K(),qWe={typedDependencies:PWe.typedDependencies,createExp:EWe.createExp};A1.expDependencies=qWe});var gH=D(M1=>{"use strict";Object.defineProperty(M1,"__esModule",{value:!0});M1.expm1Dependencies=void 0;var IWe=rt(),BWe=_e(),kWe=K(),jWe={ComplexDependencies:IWe.ComplexDependencies,typedDependencies:BWe.typedDependencies,createExpm1:kWe.createExpm1};M1.expm1Dependencies=jWe});var IM=D(P1=>{"use strict";Object.defineProperty(P1,"__esModule",{value:!0});P1.floorDependencies=void 0;var TWe=Zu(),RWe=_e(),FWe=K(),LWe={roundDependencies:TWe.roundDependencies,typedDependencies:RWe.typedDependencies,createFloor:FWe.createFloor};P1.floorDependencies=LWe});var BM=D(E1=>{"use strict";Object.defineProperty(E1,"__esModule",{value:!0});E1.fixDependencies=void 0;var UWe=rt(),zWe=qM(),JWe=IM(),VWe=_e(),GWe=K(),HWe={ComplexDependencies:UWe.ComplexDependencies,ceilDependencies:zWe.ceilDependencies,floorDependencies:JWe.floorDependencies,typedDependencies:VWe.typedDependencies,createFix:GWe.createFix};E1.fixDependencies=HWe});var bH=D(q1=>{"use strict";Object.defineProperty(q1,"__esModule",{value:!0});q1.gcdDependencies=void 0;var WWe=Je(),$We=Mr(),QWe=zr(),YWe=Ye(),ZWe=_e(),XWe=K(),KWe={BigNumberDependencies:WWe.BigNumberDependencies,DenseMatrixDependencies:$We.DenseMatrixDependencies,equalScalarDependencies:QWe.equalScalarDependencies,matrixDependencies:YWe.matrixDependencies,typedDependencies:ZWe.typedDependencies,createGcd:XWe.createGcd};q1.gcdDependencies=KWe});var _H=D(I1=>{"use strict";Object.defineProperty(I1,"__esModule",{value:!0});I1.lcmDependencies=void 0;var e$e=zr(),r$e=Ye(),t$e=_e(),n$e=K(),i$e={equalScalarDependencies:e$e.equalScalarDependencies,matrixDependencies:r$e.matrixDependencies,typedDependencies:t$e.typedDependencies,createLcm:n$e.createLcm};I1.lcmDependencies=i$e});var wH=D(B1=>{"use strict";Object.defineProperty(B1,"__esModule",{value:!0});B1.log10Dependencies=void 0;var a$e=rt(),s$e=_e(),o$e=K(),c$e={ComplexDependencies:a$e.ComplexDependencies,typedDependencies:s$e.typedDependencies,createLog10:o$e.createLog10};B1.log10Dependencies=c$e});var SH=D(k1=>{"use strict";Object.defineProperty(k1,"__esModule",{value:!0});k1.log2Dependencies=void 0;var u$e=rt(),l$e=_e(),d$e=K(),p$e={ComplexDependencies:u$e.ComplexDependencies,typedDependencies:l$e.typedDependencies,createLog2:d$e.createLog2};k1.log2Dependencies=p$e});var xH=D(j1=>{"use strict";Object.defineProperty(j1,"__esModule",{value:!0});j1.modDependencies=void 0;var f$e=Mr(),h$e=zr(),v$e=Ye(),m$e=_e(),y$e=K(),g$e={DenseMatrixDependencies:f$e.DenseMatrixDependencies,equalScalarDependencies:h$e.equalScalarDependencies,matrixDependencies:v$e.matrixDependencies,typedDependencies:m$e.typedDependencies,createMod:y$e.createMod};j1.modDependencies=g$e});var Tt=D(T1=>{"use strict";Object.defineProperty(T1,"__esModule",{value:!0});T1.multiplyScalarDependencies=void 0;var b$e=_e(),_$e=K(),w$e={typedDependencies:b$e.typedDependencies,createMultiplyScalar:_$e.createMultiplyScalar};T1.multiplyScalarDependencies=w$e});var dt=D(R1=>{"use strict";Object.defineProperty(R1,"__esModule",{value:!0});R1.multiplyDependencies=void 0;var S$e=Pt(),x$e=zr(),O$e=Ye(),D$e=Tt(),N$e=_e(),C$e=K(),A$e={addScalarDependencies:S$e.addScalarDependencies,equalScalarDependencies:x$e.equalScalarDependencies,matrixDependencies:O$e.matrixDependencies,multiplyScalarDependencies:D$e.multiplyScalarDependencies,typedDependencies:N$e.typedDependencies,createMultiply:C$e.createMultiply};R1.multiplyDependencies=A$e});var OH=D(F1=>{"use strict";Object.defineProperty(F1,"__esModule",{value:!0});F1.nthRootDependencies=void 0;var M$e=Je(),P$e=zr(),E$e=Ye(),q$e=_e(),I$e=K(),B$e={BigNumberDependencies:M$e.BigNumberDependencies,equalScalarDependencies:P$e.equalScalarDependencies,matrixDependencies:E$e.matrixDependencies,typedDependencies:q$e.typedDependencies,createNthRoot:I$e.createNthRoot};F1.nthRootDependencies=B$e});var kM=D(L1=>{"use strict";Object.defineProperty(L1,"__esModule",{value:!0});L1.signDependencies=void 0;var k$e=Je(),j$e=ja(),T$e=f1(),R$e=_e(),F$e=K(),L$e={BigNumberDependencies:k$e.BigNumberDependencies,FractionDependencies:j$e.FractionDependencies,complexDependencies:T$e.complexDependencies,typedDependencies:R$e.typedDependencies,createSign:F$e.createSign};L1.signDependencies=L$e});var sa=D(U1=>{"use strict";Object.defineProperty(U1,"__esModule",{value:!0});U1.sqrtDependencies=void 0;var U$e=rt(),z$e=_e(),J$e=K(),V$e={ComplexDependencies:U$e.ComplexDependencies,typedDependencies:z$e.typedDependencies,createSqrt:J$e.createSqrt};U1.sqrtDependencies=V$e});var DH=D(z1=>{"use strict";Object.defineProperty(z1,"__esModule",{value:!0});z1.squareDependencies=void 0;var G$e=_e(),H$e=K(),W$e={typedDependencies:G$e.typedDependencies,createSquare:H$e.createSquare};z1.squareDependencies=W$e});var bt=D(J1=>{"use strict";Object.defineProperty(J1,"__esModule",{value:!0});J1.subtractDependencies=void 0;var $$e=Mr(),Q$e=Pt(),Y$e=zr(),Z$e=Ye(),X$e=_e(),K$e=aa(),eQe=K(),rQe={DenseMatrixDependencies:$$e.DenseMatrixDependencies,addScalarDependencies:Q$e.addScalarDependencies,equalScalarDependencies:Y$e.equalScalarDependencies,matrixDependencies:Z$e.matrixDependencies,typedDependencies:X$e.typedDependencies,unaryMinusDependencies:K$e.unaryMinusDependencies,createSubtract:eQe.createSubtract};J1.subtractDependencies=rQe});var NH=D(V1=>{"use strict";Object.defineProperty(V1,"__esModule",{value:!0});V1.xgcdDependencies=void 0;var tQe=Je(),nQe=Ye(),iQe=_e(),aQe=K(),sQe={BigNumberDependencies:tQe.BigNumberDependencies,matrixDependencies:nQe.matrixDependencies,typedDependencies:iQe.typedDependencies,createXgcd:aQe.createXgcd};V1.xgcdDependencies=sQe});var CH=D(G1=>{"use strict";Object.defineProperty(G1,"__esModule",{value:!0});G1.dotMultiplyDependencies=void 0;var oQe=zr(),cQe=Ye(),uQe=Tt(),lQe=_e(),dQe=K(),pQe={equalScalarDependencies:oQe.equalScalarDependencies,matrixDependencies:cQe.matrixDependencies,multiplyScalarDependencies:uQe.multiplyScalarDependencies,typedDependencies:lQe.typedDependencies,createDotMultiply:dQe.createDotMultiply};G1.dotMultiplyDependencies=pQe});var AH=D(H1=>{"use strict";Object.defineProperty(H1,"__esModule",{value:!0});H1.bitAndDependencies=void 0;var fQe=zr(),hQe=Ye(),vQe=_e(),mQe=K(),yQe={equalScalarDependencies:fQe.equalScalarDependencies,matrixDependencies:hQe.matrixDependencies,typedDependencies:vQe.typedDependencies,createBitAnd:mQe.createBitAnd};H1.bitAndDependencies=yQe});var MH=D(W1=>{"use strict";Object.defineProperty(W1,"__esModule",{value:!0});W1.bitNotDependencies=void 0;var gQe=_e(),bQe=K(),_Qe={typedDependencies:gQe.typedDependencies,createBitNot:bQe.createBitNot};W1.bitNotDependencies=_Qe});var PH=D($1=>{"use strict";Object.defineProperty($1,"__esModule",{value:!0});$1.bitOrDependencies=void 0;var wQe=Mr(),SQe=zr(),xQe=Ye(),OQe=_e(),DQe=K(),NQe={DenseMatrixDependencies:wQe.DenseMatrixDependencies,equalScalarDependencies:SQe.equalScalarDependencies,matrixDependencies:xQe.matrixDependencies,typedDependencies:OQe.typedDependencies,createBitOr:DQe.createBitOr};$1.bitOrDependencies=NQe});var EH=D(Q1=>{"use strict";Object.defineProperty(Q1,"__esModule",{value:!0});Q1.bitXorDependencies=void 0;var CQe=Mr(),AQe=Ye(),MQe=_e(),PQe=K(),EQe={DenseMatrixDependencies:CQe.DenseMatrixDependencies,matrixDependencies:AQe.matrixDependencies,typedDependencies:MQe.typedDependencies,createBitXor:PQe.createBitXor};Q1.bitXorDependencies=EQe});var qH=D(Y1=>{"use strict";Object.defineProperty(Y1,"__esModule",{value:!0});Y1.argDependencies=void 0;var qQe=_e(),IQe=K(),BQe={typedDependencies:qQe.typedDependencies,createArg:IQe.createArg};Y1.argDependencies=BQe});var Xu=D(Z1=>{"use strict";Object.defineProperty(Z1,"__esModule",{value:!0});Z1.conjDependencies=void 0;var kQe=_e(),jQe=K(),TQe={typedDependencies:kQe.typedDependencies,createConj:jQe.createConj};Z1.conjDependencies=TQe});var IH=D(X1=>{"use strict";Object.defineProperty(X1,"__esModule",{value:!0});X1.imDependencies=void 0;var RQe=_e(),FQe=K(),LQe={typedDependencies:RQe.typedDependencies,createIm:FQe.createIm};X1.imDependencies=LQe});var BH=D(K1=>{"use strict";Object.defineProperty(K1,"__esModule",{value:!0});K1.reDependencies=void 0;var UQe=_e(),zQe=K(),JQe={typedDependencies:UQe.typedDependencies,createRe:zQe.createRe};K1.reDependencies=JQe});var jM=D(ew=>{"use strict";Object.defineProperty(ew,"__esModule",{value:!0});ew.notDependencies=void 0;var VQe=_e(),GQe=K(),HQe={typedDependencies:VQe.typedDependencies,createNot:GQe.createNot};ew.notDependencies=HQe});var kH=D(rw=>{"use strict";Object.defineProperty(rw,"__esModule",{value:!0});rw.orDependencies=void 0;var WQe=Mr(),$Qe=zr(),QQe=Ye(),YQe=_e(),ZQe=K(),XQe={DenseMatrixDependencies:WQe.DenseMatrixDependencies,equalScalarDependencies:$Qe.equalScalarDependencies,matrixDependencies:QQe.matrixDependencies,typedDependencies:YQe.typedDependencies,createOr:ZQe.createOr};rw.orDependencies=XQe});var jH=D(tw=>{"use strict";Object.defineProperty(tw,"__esModule",{value:!0});tw.xorDependencies=void 0;var KQe=Mr(),eYe=Ye(),rYe=_e(),tYe=K(),nYe={DenseMatrixDependencies:KQe.DenseMatrixDependencies,matrixDependencies:eYe.matrixDependencies,typedDependencies:rYe.typedDependencies,createXor:tYe.createXor};tw.xorDependencies=nYe});var iw=D(nw=>{"use strict";Object.defineProperty(nw,"__esModule",{value:!0});nw.concatDependencies=void 0;var iYe=zn(),aYe=Ye(),sYe=_e(),oYe=K(),cYe={isIntegerDependencies:iYe.isIntegerDependencies,matrixDependencies:aYe.matrixDependencies,typedDependencies:sYe.typedDependencies,createConcat:oYe.createConcat};nw.concatDependencies=cYe});var ni=D(aw=>{"use strict";Object.defineProperty(aw,"__esModule",{value:!0});aw.smallerDependencies=void 0;var uYe=Mr(),lYe=Ye(),dYe=_e(),pYe=K(),fYe={DenseMatrixDependencies:uYe.DenseMatrixDependencies,matrixDependencies:lYe.matrixDependencies,typedDependencies:dYe.typedDependencies,createSmaller:pYe.createSmaller};aw.smallerDependencies=fYe});var TM=D(sw=>{"use strict";Object.defineProperty(sw,"__esModule",{value:!0});sw.ImmutableDenseMatrixDependencies=void 0;var hYe=Mr(),vYe=ni(),mYe=K(),yYe={DenseMatrixDependencies:hYe.DenseMatrixDependencies,smallerDependencies:vYe.smallerDependencies,createImmutableDenseMatrixClass:mYe.createImmutableDenseMatrixClass};sw.ImmutableDenseMatrixDependencies=yYe});var Rt=D(ow=>{"use strict";Object.defineProperty(ow,"__esModule",{value:!0});ow.IndexDependencies=void 0;var gYe=TM(),bYe=K(),_Ye={ImmutableDenseMatrixDependencies:gYe.ImmutableDenseMatrixDependencies,createIndexClass:bYe.createIndexClass};ow.IndexDependencies=_Ye});var Jn=D(cw=>{"use strict";Object.defineProperty(cw,"__esModule",{value:!0});cw.largerDependencies=void 0;var wYe=Mr(),SYe=Ye(),xYe=_e(),OYe=K(),DYe={DenseMatrixDependencies:wYe.DenseMatrixDependencies,matrixDependencies:SYe.matrixDependencies,typedDependencies:xYe.typedDependencies,createLarger:OYe.createLarger};cw.largerDependencies=DYe});var Ku=D(uw=>{"use strict";Object.defineProperty(uw,"__esModule",{value:!0});uw.largerEqDependencies=void 0;var NYe=Mr(),CYe=Ye(),AYe=_e(),MYe=K(),PYe={DenseMatrixDependencies:NYe.DenseMatrixDependencies,matrixDependencies:CYe.matrixDependencies,typedDependencies:AYe.typedDependencies,createLargerEq:MYe.createLargerEq};uw.largerEqDependencies=PYe});var dw=D(lw=>{"use strict";Object.defineProperty(lw,"__esModule",{value:!0});lw.smallerEqDependencies=void 0;var EYe=Mr(),qYe=Ye(),IYe=_e(),BYe=K(),kYe={DenseMatrixDependencies:EYe.DenseMatrixDependencies,matrixDependencies:qYe.matrixDependencies,typedDependencies:IYe.typedDependencies,createSmallerEq:BYe.createSmallerEq};lw.smallerEqDependencies=kYe});var gc=D(pw=>{"use strict";Object.defineProperty(pw,"__esModule",{value:!0});pw.rangeDependencies=void 0;var jYe=Di(),TYe=Ye(),RYe=Jn(),FYe=Ku(),LYe=ni(),UYe=dw(),zYe=_e(),JYe=K(),VYe={bignumberDependencies:jYe.bignumberDependencies,matrixDependencies:TYe.matrixDependencies,largerDependencies:RYe.largerDependencies,largerEqDependencies:FYe.largerEqDependencies,smallerDependencies:LYe.smallerDependencies,smallerEqDependencies:UYe.smallerEqDependencies,typedDependencies:zYe.typedDependencies,createRange:JYe.createRange};pw.rangeDependencies=VYe});var TH=D(fw=>{"use strict";Object.defineProperty(fw,"__esModule",{value:!0});fw.columnDependencies=void 0;var GYe=Rt(),HYe=Ye(),WYe=gc(),$Ye=_e(),QYe=K(),YYe={IndexDependencies:GYe.IndexDependencies,matrixDependencies:HYe.matrixDependencies,rangeDependencies:WYe.rangeDependencies,typedDependencies:$Ye.typedDependencies,createColumn:QYe.createColumn};fw.columnDependencies=YYe});var RH=D(hw=>{"use strict";Object.defineProperty(hw,"__esModule",{value:!0});hw.crossDependencies=void 0;var ZYe=Ye(),XYe=dt(),KYe=bt(),eZe=_e(),rZe=K(),tZe={matrixDependencies:ZYe.matrixDependencies,multiplyDependencies:XYe.multiplyDependencies,subtractDependencies:KYe.subtractDependencies,typedDependencies:eZe.typedDependencies,createCross:rZe.createCross};hw.crossDependencies=tZe});var FH=D(vw=>{"use strict";Object.defineProperty(vw,"__esModule",{value:!0});vw.diagDependencies=void 0;var nZe=Mr(),iZe=ia(),aZe=Ye(),sZe=_e(),oZe=K(),cZe={DenseMatrixDependencies:nZe.DenseMatrixDependencies,SparseMatrixDependencies:iZe.SparseMatrixDependencies,matrixDependencies:aZe.matrixDependencies,typedDependencies:sZe.typedDependencies,createDiag:oZe.createDiag};vw.diagDependencies=cZe});var LH=D(mw=>{"use strict";Object.defineProperty(mw,"__esModule",{value:!0});mw.eyeDependencies=void 0;var uZe=K(),lZe={createEye:uZe.createEye};mw.eyeDependencies=lZe});var UH=D(yw=>{"use strict";Object.defineProperty(yw,"__esModule",{value:!0});yw.filterDependencies=void 0;var dZe=_e(),pZe=K(),fZe={typedDependencies:dZe.typedDependencies,createFilter:pZe.createFilter};yw.filterDependencies=fZe});var zH=D(gw=>{"use strict";Object.defineProperty(gw,"__esModule",{value:!0});gw.flattenDependencies=void 0;var hZe=Ye(),vZe=_e(),mZe=K(),yZe={matrixDependencies:hZe.matrixDependencies,typedDependencies:vZe.typedDependencies,createFlatten:mZe.createFlatten};gw.flattenDependencies=yZe});var JH=D(bw=>{"use strict";Object.defineProperty(bw,"__esModule",{value:!0});bw.forEachDependencies=void 0;var gZe=_e(),bZe=K(),_Ze={typedDependencies:gZe.typedDependencies,createForEach:bZe.createForEach};bw.forEachDependencies=_Ze});var VH=D(_w=>{"use strict";Object.defineProperty(_w,"__esModule",{value:!0});_w.getMatrixDataTypeDependencies=void 0;var wZe=_e(),SZe=K(),xZe={typedDependencies:wZe.typedDependencies,createGetMatrixDataType:SZe.createGetMatrixDataType};_w.getMatrixDataTypeDependencies=xZe});var Zs=D(ww=>{"use strict";Object.defineProperty(ww,"__esModule",{value:!0});ww.identityDependencies=void 0;var OZe=Je(),DZe=Mr(),NZe=ia(),CZe=Ye(),AZe=_e(),MZe=K(),PZe={BigNumberDependencies:OZe.BigNumberDependencies,DenseMatrixDependencies:DZe.DenseMatrixDependencies,SparseMatrixDependencies:NZe.SparseMatrixDependencies,matrixDependencies:CZe.matrixDependencies,typedDependencies:AZe.typedDependencies,createIdentity:MZe.createIdentity};ww.identityDependencies=PZe});var GH=D(Sw=>{"use strict";Object.defineProperty(Sw,"__esModule",{value:!0});Sw.kronDependencies=void 0;var EZe=Ye(),qZe=Tt(),IZe=_e(),BZe=K(),kZe={matrixDependencies:EZe.matrixDependencies,multiplyScalarDependencies:qZe.multiplyScalarDependencies,typedDependencies:IZe.typedDependencies,createKron:BZe.createKron};Sw.kronDependencies=kZe});var RM=D(xw=>{"use strict";Object.defineProperty(xw,"__esModule",{value:!0});xw.mapDependencies=void 0;var jZe=_e(),TZe=K(),RZe={typedDependencies:jZe.typedDependencies,createMap:TZe.createMap};xw.mapDependencies=RZe});var HH=D(Ow=>{"use strict";Object.defineProperty(Ow,"__esModule",{value:!0});Ow.onesDependencies=void 0;var FZe=Je(),LZe=Ye(),UZe=_e(),zZe=K(),JZe={BigNumberDependencies:FZe.BigNumberDependencies,matrixDependencies:LZe.matrixDependencies,typedDependencies:UZe.typedDependencies,createOnes:zZe.createOnes};Ow.onesDependencies=JZe});var WH=D(Dw=>{"use strict";Object.defineProperty(Dw,"__esModule",{value:!0});Dw.reshapeDependencies=void 0;var VZe=zn(),GZe=Ye(),HZe=_e(),WZe=K(),$Ze={isIntegerDependencies:VZe.isIntegerDependencies,matrixDependencies:GZe.matrixDependencies,typedDependencies:HZe.typedDependencies,createReshape:WZe.createReshape};Dw.reshapeDependencies=$Ze});var $H=D(Nw=>{"use strict";Object.defineProperty(Nw,"__esModule",{value:!0});Nw.resizeDependencies=void 0;var QZe=Ye(),YZe=K(),ZZe={matrixDependencies:QZe.matrixDependencies,createResize:YZe.createResize};Nw.resizeDependencies=ZZe});var QH=D(Cw=>{"use strict";Object.defineProperty(Cw,"__esModule",{value:!0});Cw.rowDependencies=void 0;var XZe=Rt(),KZe=Ye(),eXe=gc(),rXe=_e(),tXe=K(),nXe={IndexDependencies:XZe.IndexDependencies,matrixDependencies:KZe.matrixDependencies,rangeDependencies:eXe.rangeDependencies,typedDependencies:rXe.typedDependencies,createRow:tXe.createRow};Cw.rowDependencies=nXe});var Tn=D(Aw=>{"use strict";Object.defineProperty(Aw,"__esModule",{value:!0});Aw.sizeDependencies=void 0;var iXe=Ye(),aXe=_e(),sXe=K(),oXe={matrixDependencies:iXe.matrixDependencies,typedDependencies:aXe.typedDependencies,createSize:sXe.createSize};Aw.sizeDependencies=oXe});var YH=D(Mw=>{"use strict";Object.defineProperty(Mw,"__esModule",{value:!0});Mw.squeezeDependencies=void 0;var cXe=Ye(),uXe=_e(),lXe=K(),dXe={matrixDependencies:cXe.matrixDependencies,typedDependencies:uXe.typedDependencies,createSqueeze:lXe.createSqueeze};Mw.squeezeDependencies=dXe});var Rn=D(Pw=>{"use strict";Object.defineProperty(Pw,"__esModule",{value:!0});Pw.subsetDependencies=void 0;var pXe=Ye(),fXe=_e(),hXe=K(),vXe={matrixDependencies:pXe.matrixDependencies,typedDependencies:fXe.typedDependencies,createSubset:hXe.createSubset};Pw.subsetDependencies=vXe});var qw=D(Ew=>{"use strict";Object.defineProperty(Ew,"__esModule",{value:!0});Ew.transposeDependencies=void 0;var mXe=Ye(),yXe=_e(),gXe=K(),bXe={matrixDependencies:mXe.matrixDependencies,typedDependencies:yXe.typedDependencies,createTranspose:gXe.createTranspose};Ew.transposeDependencies=bXe});var ZH=D(Iw=>{"use strict";Object.defineProperty(Iw,"__esModule",{value:!0});Iw.ctransposeDependencies=void 0;var _Xe=Xu(),wXe=qw(),SXe=_e(),xXe=K(),OXe={conjDependencies:_Xe.conjDependencies,transposeDependencies:wXe.transposeDependencies,typedDependencies:SXe.typedDependencies,createCtranspose:xXe.createCtranspose};Iw.ctransposeDependencies=OXe});var XH=D(Bw=>{"use strict";Object.defineProperty(Bw,"__esModule",{value:!0});Bw.erfDependencies=void 0;var DXe=_e(),NXe=K(),CXe={typedDependencies:DXe.typedDependencies,createErf:NXe.createErf};Bw.erfDependencies=CXe});var KH=D(kw=>{"use strict";Object.defineProperty(kw,"__esModule",{value:!0});kw.modeDependencies=void 0;var AXe=yc(),MXe=Qs(),PXe=_e(),EXe=K(),qXe={isNaNDependencies:AXe.isNaNDependencies,isNumericDependencies:MXe.isNumericDependencies,typedDependencies:PXe.typedDependencies,createMode:EXe.createMode};kw.modeDependencies=qXe});var eW=D(jw=>{"use strict";Object.defineProperty(jw,"__esModule",{value:!0});jw.prodDependencies=void 0;var IXe=dt(),BXe=_e(),kXe=K(),jXe={multiplyDependencies:IXe.multiplyDependencies,typedDependencies:BXe.typedDependencies,createProd:kXe.createProd};jw.prodDependencies=jXe});var FM=D(Tw=>{"use strict";Object.defineProperty(Tw,"__esModule",{value:!0});Tw.formatDependencies=void 0;var TXe=_e(),RXe=K(),FXe={typedDependencies:TXe.typedDependencies,createFormat:RXe.createFormat};Tw.formatDependencies=FXe});var rW=D(Rw=>{"use strict";Object.defineProperty(Rw,"__esModule",{value:!0});Rw.printDependencies=void 0;var LXe=_e(),UXe=K(),zXe={typedDependencies:LXe.typedDependencies,createPrint:UXe.createPrint};Rw.printDependencies=zXe});var tW=D(Fw=>{"use strict";Object.defineProperty(Fw,"__esModule",{value:!0});Fw.toDependencies=void 0;var JXe=Ye(),VXe=_e(),GXe=K(),HXe={matrixDependencies:JXe.matrixDependencies,typedDependencies:VXe.typedDependencies,createTo:GXe.createTo};Fw.toDependencies=HXe});var nW=D(Lw=>{"use strict";Object.defineProperty(Lw,"__esModule",{value:!0});Lw.isPrimeDependencies=void 0;var WXe=_e(),$Xe=K(),QXe={typedDependencies:WXe.typedDependencies,createIsPrime:$Xe.createIsPrime};Lw.isPrimeDependencies=QXe});var el=D(Uw=>{"use strict";Object.defineProperty(Uw,"__esModule",{value:!0});Uw.numericDependencies=void 0;var YXe=Di(),ZXe=Ta(),XXe=Yu(),KXe=K(),eKe={bignumberDependencies:YXe.bignumberDependencies,fractionDependencies:ZXe.fractionDependencies,numberDependencies:XXe.numberDependencies,createNumeric:KXe.createNumeric};Uw.numericDependencies=eKe});var Ot=D(zw=>{"use strict";Object.defineProperty(zw,"__esModule",{value:!0});zw.divideScalarDependencies=void 0;var rKe=el(),tKe=_e(),nKe=K(),iKe={numericDependencies:rKe.numericDependencies,typedDependencies:tKe.typedDependencies,createDivideScalar:nKe.createDivideScalar};zw.divideScalarDependencies=iKe});var oa=D(Jw=>{"use strict";Object.defineProperty(Jw,"__esModule",{value:!0});Jw.powDependencies=void 0;var aKe=rt(),sKe=Ta(),oKe=Zs(),cKe=Ye(),uKe=dt(),lKe=Yu(),dKe=_e(),pKe=K(),fKe={ComplexDependencies:aKe.ComplexDependencies,fractionDependencies:sKe.fractionDependencies,identityDependencies:oKe.identityDependencies,matrixDependencies:cKe.matrixDependencies,multiplyDependencies:uKe.multiplyDependencies,numberDependencies:lKe.numberDependencies,typedDependencies:dKe.typedDependencies,createPow:pKe.createPow};Jw.powDependencies=fKe});var Gw=D(Vw=>{"use strict";Object.defineProperty(Vw,"__esModule",{value:!0});Vw.logDependencies=void 0;var hKe=rt(),vKe=Ot(),mKe=_e(),yKe=K(),gKe={ComplexDependencies:hKe.ComplexDependencies,divideScalarDependencies:vKe.divideScalarDependencies,typedDependencies:mKe.typedDependencies,createLog:yKe.createLog};Vw.logDependencies=gKe});var iW=D(Hw=>{"use strict";Object.defineProperty(Hw,"__esModule",{value:!0});Hw.log1pDependencies=void 0;var bKe=rt(),_Ke=Ot(),wKe=Gw(),SKe=_e(),xKe=K(),OKe={ComplexDependencies:bKe.ComplexDependencies,divideScalarDependencies:_Ke.divideScalarDependencies,logDependencies:wKe.logDependencies,typedDependencies:SKe.typedDependencies,createLog1p:xKe.createLog1p};Hw.log1pDependencies=OKe});var aW=D(Ww=>{"use strict";Object.defineProperty(Ww,"__esModule",{value:!0});Ww.nthRootsDependencies=void 0;var DKe=rt(),NKe=Ot(),CKe=_e(),AKe=K(),MKe={ComplexDependencies:DKe.ComplexDependencies,divideScalarDependencies:NKe.divideScalarDependencies,typedDependencies:CKe.typedDependencies,createNthRoots:AKe.createNthRoots};Ww.nthRootsDependencies=MKe});var sW=D($w=>{"use strict";Object.defineProperty($w,"__esModule",{value:!0});$w.dotPowDependencies=void 0;var PKe=Mr(),EKe=zr(),qKe=Ye(),IKe=oa(),BKe=_e(),kKe=K(),jKe={DenseMatrixDependencies:PKe.DenseMatrixDependencies,equalScalarDependencies:EKe.equalScalarDependencies,matrixDependencies:qKe.matrixDependencies,powDependencies:IKe.powDependencies,typedDependencies:BKe.typedDependencies,createDotPow:kKe.createDotPow};$w.dotPowDependencies=jKe});var LM=D(Qw=>{"use strict";Object.defineProperty(Qw,"__esModule",{value:!0});Qw.dotDivideDependencies=void 0;var TKe=Mr(),RKe=Ot(),FKe=zr(),LKe=Ye(),UKe=_e(),zKe=K(),JKe={DenseMatrixDependencies:TKe.DenseMatrixDependencies,divideScalarDependencies:RKe.divideScalarDependencies,equalScalarDependencies:FKe.equalScalarDependencies,matrixDependencies:LKe.matrixDependencies,typedDependencies:UKe.typedDependencies,createDotDivide:zKe.createDotDivide};Qw.dotDivideDependencies=JKe});var UM=D(Yw=>{"use strict";Object.defineProperty(Yw,"__esModule",{value:!0});Yw.lsolveDependencies=void 0;var VKe=Mr(),GKe=Ot(),HKe=zr(),WKe=Ye(),$Ke=Tt(),QKe=bt(),YKe=_e(),ZKe=K(),XKe={DenseMatrixDependencies:VKe.DenseMatrixDependencies,divideScalarDependencies:GKe.divideScalarDependencies,equalScalarDependencies:HKe.equalScalarDependencies,matrixDependencies:WKe.matrixDependencies,multiplyScalarDependencies:$Ke.multiplyScalarDependencies,subtractDependencies:QKe.subtractDependencies,typedDependencies:YKe.typedDependencies,createLsolve:ZKe.createLsolve};Yw.lsolveDependencies=XKe});var zM=D(Zw=>{"use strict";Object.defineProperty(Zw,"__esModule",{value:!0});Zw.usolveDependencies=void 0;var KKe=Mr(),eer=Ot(),rer=zr(),ter=Ye(),ner=Tt(),ier=bt(),aer=_e(),ser=K(),oer={DenseMatrixDependencies:KKe.DenseMatrixDependencies,divideScalarDependencies:eer.divideScalarDependencies,equalScalarDependencies:rer.equalScalarDependencies,matrixDependencies:ter.matrixDependencies,multiplyScalarDependencies:ner.multiplyScalarDependencies,subtractDependencies:ier.subtractDependencies,typedDependencies:aer.typedDependencies,createUsolve:ser.createUsolve};Zw.usolveDependencies=oer});var oW=D(Xw=>{"use strict";Object.defineProperty(Xw,"__esModule",{value:!0});Xw.leftShiftDependencies=void 0;var cer=Mr(),uer=zr(),ler=Ye(),der=_e(),per=Ra(),fer=K(),her={DenseMatrixDependencies:cer.DenseMatrixDependencies,equalScalarDependencies:uer.equalScalarDependencies,matrixDependencies:ler.matrixDependencies,typedDependencies:der.typedDependencies,zerosDependencies:per.zerosDependencies,createLeftShift:fer.createLeftShift};Xw.leftShiftDependencies=her});var cW=D(Kw=>{"use strict";Object.defineProperty(Kw,"__esModule",{value:!0});Kw.rightArithShiftDependencies=void 0;var ver=Mr(),mer=zr(),yer=Ye(),ger=_e(),ber=Ra(),_er=K(),wer={DenseMatrixDependencies:ver.DenseMatrixDependencies,equalScalarDependencies:mer.equalScalarDependencies,matrixDependencies:yer.matrixDependencies,typedDependencies:ger.typedDependencies,zerosDependencies:ber.zerosDependencies,createRightArithShift:_er.createRightArithShift};Kw.rightArithShiftDependencies=wer});var uW=D(eS=>{"use strict";Object.defineProperty(eS,"__esModule",{value:!0});eS.rightLogShiftDependencies=void 0;var Ser=Mr(),xer=zr(),Oer=Ye(),Der=_e(),Ner=Ra(),Cer=K(),Aer={DenseMatrixDependencies:Ser.DenseMatrixDependencies,equalScalarDependencies:xer.equalScalarDependencies,matrixDependencies:Oer.matrixDependencies,typedDependencies:Der.typedDependencies,zerosDependencies:Ner.zerosDependencies,createRightLogShift:Cer.createRightLogShift};eS.rightLogShiftDependencies=Aer});var lW=D(rS=>{"use strict";Object.defineProperty(rS,"__esModule",{value:!0});rS.andDependencies=void 0;var Mer=zr(),Per=Ye(),Eer=jM(),qer=_e(),Ier=Ra(),Ber=K(),ker={equalScalarDependencies:Mer.equalScalarDependencies,matrixDependencies:Per.matrixDependencies,notDependencies:Eer.notDependencies,typedDependencies:qer.typedDependencies,zerosDependencies:Ier.zerosDependencies,createAnd:Ber.createAnd};rS.andDependencies=ker});var Xs=D(tS=>{"use strict";Object.defineProperty(tS,"__esModule",{value:!0});tS.compareDependencies=void 0;var jer=Je(),Ter=Mr(),Rer=ja(),Fer=zr(),Ler=Ye(),Uer=_e(),zer=K(),Jer={BigNumberDependencies:jer.BigNumberDependencies,DenseMatrixDependencies:Ter.DenseMatrixDependencies,FractionDependencies:Rer.FractionDependencies,equalScalarDependencies:Fer.equalScalarDependencies,matrixDependencies:Ler.matrixDependencies,typedDependencies:Uer.typedDependencies,createCompare:zer.createCompare};tS.compareDependencies=Jer});var ii=D(nS=>{"use strict";Object.defineProperty(nS,"__esModule",{value:!0});nS.compareNaturalDependencies=void 0;var Ver=Xs(),Ger=_e(),Her=K(),Wer={compareDependencies:Ver.compareDependencies,typedDependencies:Ger.typedDependencies,createCompareNatural:Her.createCompareNatural};nS.compareNaturalDependencies=Wer});var JM=D(iS=>{"use strict";Object.defineProperty(iS,"__esModule",{value:!0});iS.compareTextDependencies=void 0;var $er=Ye(),Qer=_e(),Yer=K(),Zer={matrixDependencies:$er.matrixDependencies,typedDependencies:Qer.typedDependencies,createCompareText:Yer.createCompareText};iS.compareTextDependencies=Zer});var ca=D(aS=>{"use strict";Object.defineProperty(aS,"__esModule",{value:!0});aS.equalDependencies=void 0;var Xer=Mr(),Ker=zr(),err=Ye(),rrr=_e(),trr=K(),nrr={DenseMatrixDependencies:Xer.DenseMatrixDependencies,equalScalarDependencies:Ker.equalScalarDependencies,matrixDependencies:err.matrixDependencies,typedDependencies:rrr.typedDependencies,createEqual:trr.createEqual};aS.equalDependencies=nrr});var dW=D(sS=>{"use strict";Object.defineProperty(sS,"__esModule",{value:!0});sS.equalTextDependencies=void 0;var irr=JM(),arr=Ys(),srr=_e(),orr=K(),crr={compareTextDependencies:irr.compareTextDependencies,isZeroDependencies:arr.isZeroDependencies,typedDependencies:srr.typedDependencies,createEqualText:orr.createEqualText};sS.equalTextDependencies=crr});var pW=D(oS=>{"use strict";Object.defineProperty(oS,"__esModule",{value:!0});oS.deepEqualDependencies=void 0;var urr=ca(),lrr=_e(),drr=K(),prr={equalDependencies:urr.equalDependencies,typedDependencies:lrr.typedDependencies,createDeepEqual:drr.createDeepEqual};oS.deepEqualDependencies=prr});var fW=D(cS=>{"use strict";Object.defineProperty(cS,"__esModule",{value:!0});cS.unequalDependencies=void 0;var frr=Mr(),hrr=zr(),vrr=Ye(),mrr=_e(),yrr=K(),grr={DenseMatrixDependencies:frr.DenseMatrixDependencies,equalScalarDependencies:hrr.equalScalarDependencies,matrixDependencies:vrr.matrixDependencies,typedDependencies:mrr.typedDependencies,createUnequal:yrr.createUnequal};cS.unequalDependencies=grr});var lS=D(uS=>{"use strict";Object.defineProperty(uS,"__esModule",{value:!0});uS.partitionSelectDependencies=void 0;var brr=Xs(),_rr=yc(),wrr=Qs(),Srr=_e(),xrr=K(),Orr={compareDependencies:brr.compareDependencies,isNaNDependencies:_rr.isNaNDependencies,isNumericDependencies:wrr.isNumericDependencies,typedDependencies:Srr.typedDependencies,createPartitionSelect:xrr.createPartitionSelect};uS.partitionSelectDependencies=Orr});var hW=D(dS=>{"use strict";Object.defineProperty(dS,"__esModule",{value:!0});dS.sortDependencies=void 0;var Drr=Xs(),Nrr=ii(),Crr=Ye(),Arr=_e(),Mrr=K(),Prr={compareDependencies:Drr.compareDependencies,compareNaturalDependencies:Nrr.compareNaturalDependencies,matrixDependencies:Crr.matrixDependencies,typedDependencies:Arr.typedDependencies,createSort:Mrr.createSort};dS.sortDependencies=Prr});var VM=D(pS=>{"use strict";Object.defineProperty(pS,"__esModule",{value:!0});pS.maxDependencies=void 0;var Err=Jn(),qrr=_e(),Irr=K(),Brr={largerDependencies:Err.largerDependencies,typedDependencies:qrr.typedDependencies,createMax:Irr.createMax};pS.maxDependencies=Brr});var vW=D(fS=>{"use strict";Object.defineProperty(fS,"__esModule",{value:!0});fS.minDependencies=void 0;var krr=ni(),jrr=_e(),Trr=K(),Rrr={smallerDependencies:krr.smallerDependencies,typedDependencies:jrr.typedDependencies,createMin:Trr.createMin};fS.minDependencies=Rrr});var GM=D(hS=>{"use strict";Object.defineProperty(hS,"__esModule",{value:!0});hS.FibonacciHeapDependencies=void 0;var Frr=Jn(),Lrr=ni(),Urr=K(),zrr={largerDependencies:Frr.largerDependencies,smallerDependencies:Lrr.smallerDependencies,createFibonacciHeapClass:Urr.createFibonacciHeapClass};hS.FibonacciHeapDependencies=zrr});var HM=D(vS=>{"use strict";Object.defineProperty(vS,"__esModule",{value:!0});vS.SpaDependencies=void 0;var Jrr=GM(),Vrr=Pt(),Grr=zr(),Hrr=K(),Wrr={FibonacciHeapDependencies:Jrr.FibonacciHeapDependencies,addScalarDependencies:Vrr.addScalarDependencies,equalScalarDependencies:Grr.equalScalarDependencies,createSpaClass:Hrr.createSpaClass};vS.SpaDependencies=Wrr});var or=D(mS=>{"use strict";Object.defineProperty(mS,"__esModule",{value:!0});mS.UnitDependencies=void 0;var $rr=Je(),Qrr=rt(),Yrr=ja(),Zrr=xn(),Xrr=Pt(),Krr=Ot(),etr=ca(),rtr=BM(),ttr=FM(),ntr=Qs(),itr=Tt(),atr=Yu(),str=oa(),otr=Zu(),ctr=bt(),utr=K(),ltr={BigNumberDependencies:$rr.BigNumberDependencies,ComplexDependencies:Qrr.ComplexDependencies,FractionDependencies:Yrr.FractionDependencies,absDependencies:Zrr.absDependencies,addScalarDependencies:Xrr.addScalarDependencies,divideScalarDependencies:Krr.divideScalarDependencies,equalDependencies:etr.equalDependencies,fixDependencies:rtr.fixDependencies,formatDependencies:ttr.formatDependencies,isNumericDependencies:ntr.isNumericDependencies,multiplyScalarDependencies:itr.multiplyScalarDependencies,numberDependencies:atr.numberDependencies,powDependencies:str.powDependencies,roundDependencies:otr.roundDependencies,subtractDependencies:ctr.subtractDependencies,createUnitClass:utr.createUnitClass};mS.UnitDependencies=ltr});var mW=D(yS=>{"use strict";Object.defineProperty(yS,"__esModule",{value:!0});yS.unitDependencies=void 0;var dtr=or(),ptr=_e(),ftr=K(),htr={UnitDependencies:dtr.UnitDependencies,typedDependencies:ptr.typedDependencies,createUnitFunction:ftr.createUnitFunction};yS.unitDependencies=htr});var yW=D(gS=>{"use strict";Object.defineProperty(gS,"__esModule",{value:!0});gS.sparseDependencies=void 0;var vtr=ia(),mtr=_e(),ytr=K(),gtr={SparseMatrixDependencies:vtr.SparseMatrixDependencies,typedDependencies:mtr.typedDependencies,createSparse:ytr.createSparse};gS.sparseDependencies=gtr});var gW=D(bS=>{"use strict";Object.defineProperty(bS,"__esModule",{value:!0});bS.createUnitDependencies=void 0;var btr=or(),_tr=_e(),wtr=K(),Str={UnitDependencies:btr.UnitDependencies,typedDependencies:_tr.typedDependencies,createCreateUnit:wtr.createCreateUnit};bS.createUnitDependencies=Str});var bW=D(_S=>{"use strict";Object.defineProperty(_S,"__esModule",{value:!0});_S.acosDependencies=void 0;var xtr=rt(),Otr=_e(),Dtr=K(),Ntr={ComplexDependencies:xtr.ComplexDependencies,typedDependencies:Otr.typedDependencies,createAcos:Dtr.createAcos};_S.acosDependencies=Ntr});var _W=D(wS=>{"use strict";Object.defineProperty(wS,"__esModule",{value:!0});wS.acoshDependencies=void 0;var Ctr=rt(),Atr=_e(),Mtr=K(),Ptr={ComplexDependencies:Ctr.ComplexDependencies,typedDependencies:Atr.typedDependencies,createAcosh:Mtr.createAcosh};wS.acoshDependencies=Ptr});var wW=D(SS=>{"use strict";Object.defineProperty(SS,"__esModule",{value:!0});SS.acotDependencies=void 0;var Etr=Je(),qtr=_e(),Itr=K(),Btr={BigNumberDependencies:Etr.BigNumberDependencies,typedDependencies:qtr.typedDependencies,createAcot:Itr.createAcot};SS.acotDependencies=Btr});var SW=D(xS=>{"use strict";Object.defineProperty(xS,"__esModule",{value:!0});xS.acothDependencies=void 0;var ktr=Je(),jtr=rt(),Ttr=_e(),Rtr=K(),Ftr={BigNumberDependencies:ktr.BigNumberDependencies,ComplexDependencies:jtr.ComplexDependencies,typedDependencies:Ttr.typedDependencies,createAcoth:Rtr.createAcoth};xS.acothDependencies=Ftr});var xW=D(OS=>{"use strict";Object.defineProperty(OS,"__esModule",{value:!0});OS.acscDependencies=void 0;var Ltr=Je(),Utr=rt(),ztr=_e(),Jtr=K(),Vtr={BigNumberDependencies:Ltr.BigNumberDependencies,ComplexDependencies:Utr.ComplexDependencies,typedDependencies:ztr.typedDependencies,createAcsc:Jtr.createAcsc};OS.acscDependencies=Vtr});var OW=D(DS=>{"use strict";Object.defineProperty(DS,"__esModule",{value:!0});DS.acschDependencies=void 0;var Gtr=Je(),Htr=_e(),Wtr=K(),$tr={BigNumberDependencies:Gtr.BigNumberDependencies,typedDependencies:Htr.typedDependencies,createAcsch:Wtr.createAcsch};DS.acschDependencies=$tr});var DW=D(NS=>{"use strict";Object.defineProperty(NS,"__esModule",{value:!0});NS.asecDependencies=void 0;var Qtr=Je(),Ytr=rt(),Ztr=_e(),Xtr=K(),Ktr={BigNumberDependencies:Qtr.BigNumberDependencies,ComplexDependencies:Ytr.ComplexDependencies,typedDependencies:Ztr.typedDependencies,createAsec:Xtr.createAsec};NS.asecDependencies=Ktr});var NW=D(CS=>{"use strict";Object.defineProperty(CS,"__esModule",{value:!0});CS.asechDependencies=void 0;var enr=Je(),rnr=rt(),tnr=_e(),nnr=K(),inr={BigNumberDependencies:enr.BigNumberDependencies,ComplexDependencies:rnr.ComplexDependencies,typedDependencies:tnr.typedDependencies,createAsech:nnr.createAsech};CS.asechDependencies=inr});var CW=D(AS=>{"use strict";Object.defineProperty(AS,"__esModule",{value:!0});AS.asinDependencies=void 0;var anr=rt(),snr=_e(),onr=K(),cnr={ComplexDependencies:anr.ComplexDependencies,typedDependencies:snr.typedDependencies,createAsin:onr.createAsin};AS.asinDependencies=cnr});var AW=D(MS=>{"use strict";Object.defineProperty(MS,"__esModule",{value:!0});MS.asinhDependencies=void 0;var unr=_e(),lnr=K(),dnr={typedDependencies:unr.typedDependencies,createAsinh:lnr.createAsinh};MS.asinhDependencies=dnr});var WM=D(PS=>{"use strict";Object.defineProperty(PS,"__esModule",{value:!0});PS.atanDependencies=void 0;var pnr=_e(),fnr=K(),hnr={typedDependencies:pnr.typedDependencies,createAtan:fnr.createAtan};PS.atanDependencies=hnr});var MW=D(ES=>{"use strict";Object.defineProperty(ES,"__esModule",{value:!0});ES.atan2Dependencies=void 0;var vnr=Je(),mnr=Mr(),ynr=zr(),gnr=Ye(),bnr=_e(),_nr=K(),wnr={BigNumberDependencies:vnr.BigNumberDependencies,DenseMatrixDependencies:mnr.DenseMatrixDependencies,equalScalarDependencies:ynr.equalScalarDependencies,matrixDependencies:gnr.matrixDependencies,typedDependencies:bnr.typedDependencies,createAtan2:_nr.createAtan2};ES.atan2Dependencies=wnr});var PW=D(qS=>{"use strict";Object.defineProperty(qS,"__esModule",{value:!0});qS.atanhDependencies=void 0;var Snr=rt(),xnr=_e(),Onr=K(),Dnr={ComplexDependencies:Snr.ComplexDependencies,typedDependencies:xnr.typedDependencies,createAtanh:Onr.createAtanh};qS.atanhDependencies=Dnr});var $M=D(IS=>{"use strict";Object.defineProperty(IS,"__esModule",{value:!0});IS.cosDependencies=void 0;var Nnr=_e(),Cnr=K(),Anr={typedDependencies:Nnr.typedDependencies,createCos:Cnr.createCos};IS.cosDependencies=Anr});var EW=D(BS=>{"use strict";Object.defineProperty(BS,"__esModule",{value:!0});BS.coshDependencies=void 0;var Mnr=_e(),Pnr=K(),Enr={typedDependencies:Mnr.typedDependencies,createCosh:Pnr.createCosh};BS.coshDependencies=Enr});var qW=D(kS=>{"use strict";Object.defineProperty(kS,"__esModule",{value:!0});kS.cotDependencies=void 0;var qnr=Je(),Inr=_e(),Bnr=K(),knr={BigNumberDependencies:qnr.BigNumberDependencies,typedDependencies:Inr.typedDependencies,createCot:Bnr.createCot};kS.cotDependencies=knr});var IW=D(jS=>{"use strict";Object.defineProperty(jS,"__esModule",{value:!0});jS.cothDependencies=void 0;var jnr=Je(),Tnr=_e(),Rnr=K(),Fnr={BigNumberDependencies:jnr.BigNumberDependencies,typedDependencies:Tnr.typedDependencies,createCoth:Rnr.createCoth};jS.cothDependencies=Fnr});var BW=D(TS=>{"use strict";Object.defineProperty(TS,"__esModule",{value:!0});TS.cscDependencies=void 0;var Lnr=Je(),Unr=_e(),znr=K(),Jnr={BigNumberDependencies:Lnr.BigNumberDependencies,typedDependencies:Unr.typedDependencies,createCsc:znr.createCsc};TS.cscDependencies=Jnr});var kW=D(RS=>{"use strict";Object.defineProperty(RS,"__esModule",{value:!0});RS.cschDependencies=void 0;var Vnr=Je(),Gnr=_e(),Hnr=K(),Wnr={BigNumberDependencies:Vnr.BigNumberDependencies,typedDependencies:Gnr.typedDependencies,createCsch:Hnr.createCsch};RS.cschDependencies=Wnr});var jW=D(FS=>{"use strict";Object.defineProperty(FS,"__esModule",{value:!0});FS.secDependencies=void 0;var $nr=Je(),Qnr=_e(),Ynr=K(),Znr={BigNumberDependencies:$nr.BigNumberDependencies,typedDependencies:Qnr.typedDependencies,createSec:Ynr.createSec};FS.secDependencies=Znr});var TW=D(LS=>{"use strict";Object.defineProperty(LS,"__esModule",{value:!0});LS.sechDependencies=void 0;var Xnr=Je(),Knr=_e(),eir=K(),rir={BigNumberDependencies:Xnr.BigNumberDependencies,typedDependencies:Knr.typedDependencies,createSech:eir.createSech};LS.sechDependencies=rir});var QM=D(US=>{"use strict";Object.defineProperty(US,"__esModule",{value:!0});US.sinDependencies=void 0;var tir=_e(),nir=K(),iir={typedDependencies:tir.typedDependencies,createSin:nir.createSin};US.sinDependencies=iir});var RW=D(zS=>{"use strict";Object.defineProperty(zS,"__esModule",{value:!0});zS.sinhDependencies=void 0;var air=_e(),sir=K(),oir={typedDependencies:air.typedDependencies,createSinh:sir.createSinh};zS.sinhDependencies=oir});var FW=D(JS=>{"use strict";Object.defineProperty(JS,"__esModule",{value:!0});JS.tanDependencies=void 0;var cir=_e(),uir=K(),lir={typedDependencies:cir.typedDependencies,createTan:uir.createTan};JS.tanDependencies=lir});var LW=D(VS=>{"use strict";Object.defineProperty(VS,"__esModule",{value:!0});VS.tanhDependencies=void 0;var dir=_e(),pir=K(),fir={typedDependencies:dir.typedDependencies,createTanh:pir.createTanh};VS.tanhDependencies=fir});var UW=D(GS=>{"use strict";Object.defineProperty(GS,"__esModule",{value:!0});GS.setCartesianDependencies=void 0;var hir=Mr(),vir=Rt(),mir=ii(),yir=Tn(),gir=Rn(),bir=_e(),_ir=K(),wir={DenseMatrixDependencies:hir.DenseMatrixDependencies,IndexDependencies:vir.IndexDependencies,compareNaturalDependencies:mir.compareNaturalDependencies,sizeDependencies:yir.sizeDependencies,subsetDependencies:gir.subsetDependencies,typedDependencies:bir.typedDependencies,createSetCartesian:_ir.createSetCartesian};GS.setCartesianDependencies=wir});var YM=D(HS=>{"use strict";Object.defineProperty(HS,"__esModule",{value:!0});HS.setDifferenceDependencies=void 0;var Sir=Mr(),xir=Rt(),Oir=ii(),Dir=Tn(),Nir=Rn(),Cir=_e(),Air=K(),Mir={DenseMatrixDependencies:Sir.DenseMatrixDependencies,IndexDependencies:xir.IndexDependencies,compareNaturalDependencies:Oir.compareNaturalDependencies,sizeDependencies:Dir.sizeDependencies,subsetDependencies:Nir.subsetDependencies,typedDependencies:Cir.typedDependencies,createSetDifference:Air.createSetDifference};HS.setDifferenceDependencies=Mir});var zW=D(WS=>{"use strict";Object.defineProperty(WS,"__esModule",{value:!0});WS.setDistinctDependencies=void 0;var Pir=Mr(),Eir=Rt(),qir=ii(),Iir=Tn(),Bir=Rn(),kir=_e(),jir=K(),Tir={DenseMatrixDependencies:Pir.DenseMatrixDependencies,IndexDependencies:Eir.IndexDependencies,compareNaturalDependencies:qir.compareNaturalDependencies,sizeDependencies:Iir.sizeDependencies,subsetDependencies:Bir.subsetDependencies,typedDependencies:kir.typedDependencies,createSetDistinct:jir.createSetDistinct};WS.setDistinctDependencies=Tir});var ZM=D($S=>{"use strict";Object.defineProperty($S,"__esModule",{value:!0});$S.setIntersectDependencies=void 0;var Rir=Mr(),Fir=Rt(),Lir=ii(),Uir=Tn(),zir=Rn(),Jir=_e(),Vir=K(),Gir={DenseMatrixDependencies:Rir.DenseMatrixDependencies,IndexDependencies:Fir.IndexDependencies,compareNaturalDependencies:Lir.compareNaturalDependencies,sizeDependencies:Uir.sizeDependencies,subsetDependencies:zir.subsetDependencies,typedDependencies:Jir.typedDependencies,createSetIntersect:Vir.createSetIntersect};$S.setIntersectDependencies=Gir});var JW=D(QS=>{"use strict";Object.defineProperty(QS,"__esModule",{value:!0});QS.setIsSubsetDependencies=void 0;var Hir=Rt(),Wir=ii(),$ir=Tn(),Qir=Rn(),Yir=_e(),Zir=K(),Xir={IndexDependencies:Hir.IndexDependencies,compareNaturalDependencies:Wir.compareNaturalDependencies,sizeDependencies:$ir.sizeDependencies,subsetDependencies:Qir.subsetDependencies,typedDependencies:Yir.typedDependencies,createSetIsSubset:Zir.createSetIsSubset};QS.setIsSubsetDependencies=Xir});var VW=D(YS=>{"use strict";Object.defineProperty(YS,"__esModule",{value:!0});YS.setMultiplicityDependencies=void 0;var Kir=Rt(),ear=ii(),rar=Tn(),tar=Rn(),nar=_e(),iar=K(),aar={IndexDependencies:Kir.IndexDependencies,compareNaturalDependencies:ear.compareNaturalDependencies,sizeDependencies:rar.sizeDependencies,subsetDependencies:tar.subsetDependencies,typedDependencies:nar.typedDependencies,createSetMultiplicity:iar.createSetMultiplicity};YS.setMultiplicityDependencies=aar});var GW=D(ZS=>{"use strict";Object.defineProperty(ZS,"__esModule",{value:!0});ZS.setPowersetDependencies=void 0;var sar=Rt(),oar=ii(),car=Tn(),uar=Rn(),lar=_e(),dar=K(),par={IndexDependencies:sar.IndexDependencies,compareNaturalDependencies:oar.compareNaturalDependencies,sizeDependencies:car.sizeDependencies,subsetDependencies:uar.subsetDependencies,typedDependencies:lar.typedDependencies,createSetPowerset:dar.createSetPowerset};ZS.setPowersetDependencies=par});var HW=D(XS=>{"use strict";Object.defineProperty(XS,"__esModule",{value:!0});XS.setSizeDependencies=void 0;var far=ii(),har=_e(),mar=K(),yar={compareNaturalDependencies:far.compareNaturalDependencies,typedDependencies:har.typedDependencies,createSetSize:mar.createSetSize};XS.setSizeDependencies=yar});var XM=D(KS=>{"use strict";Object.defineProperty(KS,"__esModule",{value:!0});KS.setSymDifferenceDependencies=void 0;var gar=Rt(),bar=iw(),_ar=YM(),war=Tn(),Sar=Rn(),xar=_e(),Oar=K(),Dar={IndexDependencies:gar.IndexDependencies,concatDependencies:bar.concatDependencies,setDifferenceDependencies:_ar.setDifferenceDependencies,sizeDependencies:war.sizeDependencies,subsetDependencies:Sar.subsetDependencies,typedDependencies:xar.typedDependencies,createSetSymDifference:Oar.createSetSymDifference};KS.setSymDifferenceDependencies=Dar});var WW=D(ex=>{"use strict";Object.defineProperty(ex,"__esModule",{value:!0});ex.setUnionDependencies=void 0;var Nar=Rt(),Car=iw(),Aar=ZM(),Mar=XM(),Par=Tn(),Ear=Rn(),qar=_e(),Iar=K(),Bar={IndexDependencies:Nar.IndexDependencies,concatDependencies:Car.concatDependencies,setIntersectDependencies:Aar.setIntersectDependencies,setSymDifferenceDependencies:Mar.setSymDifferenceDependencies,sizeDependencies:Par.sizeDependencies,subsetDependencies:Ear.subsetDependencies,typedDependencies:qar.typedDependencies,createSetUnion:Iar.createSetUnion};ex.setUnionDependencies=Bar});var gt=D(rx=>{"use strict";Object.defineProperty(rx,"__esModule",{value:!0});rx.addDependencies=void 0;var kar=Mr(),jar=ia(),Tar=Pt(),Rar=zr(),Far=Ye(),Lar=_e(),Uar=K(),zar={DenseMatrixDependencies:kar.DenseMatrixDependencies,SparseMatrixDependencies:jar.SparseMatrixDependencies,addScalarDependencies:Tar.addScalarDependencies,equalScalarDependencies:Rar.equalScalarDependencies,matrixDependencies:Far.matrixDependencies,typedDependencies:Lar.typedDependencies,createAdd:Uar.createAdd};rx.addDependencies=zar});var $W=D(tx=>{"use strict";Object.defineProperty(tx,"__esModule",{value:!0});tx.hypotDependencies=void 0;var Jar=xn(),Var=Pt(),Gar=Ot(),Har=Qu(),War=Tt(),$ar=ni(),Qar=sa(),Yar=_e(),Zar=K(),Xar={absDependencies:Jar.absDependencies,addScalarDependencies:Var.addScalarDependencies,divideScalarDependencies:Gar.divideScalarDependencies,isPositiveDependencies:Har.isPositiveDependencies,multiplyScalarDependencies:War.multiplyScalarDependencies,smallerDependencies:$ar.smallerDependencies,sqrtDependencies:Qar.sqrtDependencies,typedDependencies:Yar.typedDependencies,createHypot:Zar.createHypot};tx.hypotDependencies=Xar});var QW=D(nx=>{"use strict";Object.defineProperty(nx,"__esModule",{value:!0});nx.normDependencies=void 0;var Kar=xn(),esr=gt(),rsr=Xu(),tsr=zr(),nsr=Jn(),isr=Ye(),asr=dt(),ssr=oa(),osr=ni(),csr=sa(),usr=_e(),lsr=K(),dsr={absDependencies:Kar.absDependencies,addDependencies:esr.addDependencies,conjDependencies:rsr.conjDependencies,equalScalarDependencies:tsr.equalScalarDependencies,largerDependencies:nsr.largerDependencies,matrixDependencies:isr.matrixDependencies,multiplyDependencies:asr.multiplyDependencies,powDependencies:ssr.powDependencies,smallerDependencies:osr.smallerDependencies,sqrtDependencies:csr.sqrtDependencies,typedDependencies:usr.typedDependencies,createNorm:lsr.createNorm};nx.normDependencies=dsr});var YW=D(ix=>{"use strict";Object.defineProperty(ix,"__esModule",{value:!0});ix.dotDependencies=void 0;var psr=gt(),fsr=dt(),hsr=_e(),vsr=K(),msr={addDependencies:psr.addDependencies,multiplyDependencies:fsr.multiplyDependencies,typedDependencies:hsr.typedDependencies,createDot:vsr.createDot};ix.dotDependencies=msr});var ZW=D(ax=>{"use strict";Object.defineProperty(ax,"__esModule",{value:!0});ax.traceDependencies=void 0;var ysr=gt(),gsr=Ye(),bsr=_e(),_sr=K(),wsr={addDependencies:ysr.addDependencies,matrixDependencies:gsr.matrixDependencies,typedDependencies:bsr.typedDependencies,createTrace:_sr.createTrace};ax.traceDependencies=wsr});var XW=D(sx=>{"use strict";Object.defineProperty(sx,"__esModule",{value:!0});sx.indexDependencies=void 0;var Ssr=Rt(),xsr=_e(),Osr=K(),Dsr={IndexDependencies:Ssr.IndexDependencies,typedDependencies:xsr.typedDependencies,createIndex:Osr.createIndex};sx.indexDependencies=Dsr});var Ft=D(ox=>{"use strict";Object.defineProperty(ox,"__esModule",{value:!0});ox.NodeDependencies=void 0;var Nsr=K(),Csr={createNode:Nsr.createNode};ox.NodeDependencies=Csr});var KM=D(cx=>{"use strict";Object.defineProperty(cx,"__esModule",{value:!0});cx.AccessorNodeDependencies=void 0;var Asr=Ft(),Msr=Rn(),Psr=K(),Esr={NodeDependencies:Asr.NodeDependencies,subsetDependencies:Msr.subsetDependencies,createAccessorNode:Psr.createAccessorNode};cx.AccessorNodeDependencies=Esr});var eP=D(ux=>{"use strict";Object.defineProperty(ux,"__esModule",{value:!0});ux.ArrayNodeDependencies=void 0;var qsr=Ft(),Isr=K(),Bsr={NodeDependencies:qsr.NodeDependencies,createArrayNode:Isr.createArrayNode};ux.ArrayNodeDependencies=Bsr});var rP=D(lx=>{"use strict";Object.defineProperty(lx,"__esModule",{value:!0});lx.AssignmentNodeDependencies=void 0;var ksr=Ye(),jsr=Ft(),Tsr=Rn(),Rsr=K(),Fsr={matrixDependencies:ksr.matrixDependencies,NodeDependencies:jsr.NodeDependencies,subsetDependencies:Tsr.subsetDependencies,createAssignmentNode:Rsr.createAssignmentNode};lx.AssignmentNodeDependencies=Fsr});var tP=D(dx=>{"use strict";Object.defineProperty(dx,"__esModule",{value:!0});dx.BlockNodeDependencies=void 0;var Lsr=Ft(),Usr=PM(),zsr=K(),Jsr={NodeDependencies:Lsr.NodeDependencies,ResultSetDependencies:Usr.ResultSetDependencies,createBlockNode:zsr.createBlockNode};dx.BlockNodeDependencies=Jsr});var nP=D(px=>{"use strict";Object.defineProperty(px,"__esModule",{value:!0});px.ConditionalNodeDependencies=void 0;var Vsr=Ft(),Gsr=K(),Hsr={NodeDependencies:Vsr.NodeDependencies,createConditionalNode:Gsr.createConditionalNode};px.ConditionalNodeDependencies=Hsr});var bc=D(fx=>{"use strict";Object.defineProperty(fx,"__esModule",{value:!0});fx.ConstantNodeDependencies=void 0;var Wsr=Ft(),$sr=K(),Qsr={NodeDependencies:Wsr.NodeDependencies,createConstantNode:$sr.createConstantNode};fx.ConstantNodeDependencies=Qsr});var iP=D(hx=>{"use strict";Object.defineProperty(hx,"__esModule",{value:!0});hx.FunctionAssignmentNodeDependencies=void 0;var Ysr=Ft(),Zsr=_e(),Xsr=K(),Ksr={NodeDependencies:Ysr.NodeDependencies,typedDependencies:Zsr.typedDependencies,createFunctionAssignmentNode:Xsr.createFunctionAssignmentNode};hx.FunctionAssignmentNodeDependencies=Ksr});var aP=D(vx=>{"use strict";Object.defineProperty(vx,"__esModule",{value:!0});vx.IndexNodeDependencies=void 0;var eor=Ft(),ror=EM(),tor=Tn(),nor=K(),ior={NodeDependencies:eor.NodeDependencies,RangeDependencies:ror.RangeDependencies,sizeDependencies:tor.sizeDependencies,createIndexNode:nor.createIndexNode};vx.IndexNodeDependencies=ior});var sP=D(mx=>{"use strict";Object.defineProperty(mx,"__esModule",{value:!0});mx.ObjectNodeDependencies=void 0;var aor=Ft(),sor=K(),oor={NodeDependencies:aor.NodeDependencies,createObjectNode:sor.createObjectNode};mx.ObjectNodeDependencies=oor});var _c=D(yx=>{"use strict";Object.defineProperty(yx,"__esModule",{value:!0});yx.OperatorNodeDependencies=void 0;var cor=Ft(),uor=K(),lor={NodeDependencies:cor.NodeDependencies,createOperatorNode:uor.createOperatorNode};yx.OperatorNodeDependencies=lor});var wc=D(gx=>{"use strict";Object.defineProperty(gx,"__esModule",{value:!0});gx.ParenthesisNodeDependencies=void 0;var dor=Ft(),por=K(),hor={NodeDependencies:dor.NodeDependencies,createParenthesisNode:por.createParenthesisNode};gx.ParenthesisNodeDependencies=hor});var oP=D(bx=>{"use strict";Object.defineProperty(bx,"__esModule",{value:!0});bx.RangeNodeDependencies=void 0;var vor=Ft(),mor=K(),yor={NodeDependencies:vor.NodeDependencies,createRangeNode:mor.createRangeNode};bx.RangeNodeDependencies=yor});var cP=D(_x=>{"use strict";Object.defineProperty(_x,"__esModule",{value:!0});_x.RelationalNodeDependencies=void 0;var gor=Ft(),bor=K(),_or={NodeDependencies:gor.NodeDependencies,createRelationalNode:bor.createRelationalNode};_x.RelationalNodeDependencies=_or});var Ks=D(wx=>{"use strict";Object.defineProperty(wx,"__esModule",{value:!0});wx.SymbolNodeDependencies=void 0;var wor=or(),Sor=Ft(),xor=K(),Oor={UnitDependencies:wor.UnitDependencies,NodeDependencies:Sor.NodeDependencies,createSymbolNode:xor.createSymbolNode};wx.SymbolNodeDependencies=Oor});var Sc=D(Sx=>{"use strict";Object.defineProperty(Sx,"__esModule",{value:!0});Sx.FunctionNodeDependencies=void 0;var Dor=Ft(),Nor=Ks(),Cor=K(),Aor={NodeDependencies:Dor.NodeDependencies,SymbolNodeDependencies:Nor.SymbolNodeDependencies,createFunctionNode:Cor.createFunctionNode};Sx.FunctionNodeDependencies=Aor});var ua=D(xx=>{"use strict";Object.defineProperty(xx,"__esModule",{value:!0});xx.parseDependencies=void 0;var Mor=KM(),Por=eP(),Eor=rP(),qor=tP(),Ior=nP(),Bor=bc(),kor=iP(),jor=Sc(),Tor=aP(),Ror=sP(),For=_c(),Lor=wc(),Uor=oP(),zor=cP(),Jor=Ks(),Vor=el(),Gor=_e(),Hor=K(),Wor={AccessorNodeDependencies:Mor.AccessorNodeDependencies,ArrayNodeDependencies:Por.ArrayNodeDependencies,AssignmentNodeDependencies:Eor.AssignmentNodeDependencies,BlockNodeDependencies:qor.BlockNodeDependencies,ConditionalNodeDependencies:Ior.ConditionalNodeDependencies,ConstantNodeDependencies:Bor.ConstantNodeDependencies,FunctionAssignmentNodeDependencies:kor.FunctionAssignmentNodeDependencies,FunctionNodeDependencies:jor.FunctionNodeDependencies,IndexNodeDependencies:Tor.IndexNodeDependencies,ObjectNodeDependencies:Ror.ObjectNodeDependencies,OperatorNodeDependencies:For.OperatorNodeDependencies,ParenthesisNodeDependencies:Lor.ParenthesisNodeDependencies,RangeNodeDependencies:Uor.RangeNodeDependencies,RelationalNodeDependencies:zor.RelationalNodeDependencies,SymbolNodeDependencies:Jor.SymbolNodeDependencies,numericDependencies:Vor.numericDependencies,typedDependencies:Gor.typedDependencies,createParse:Hor.createParse};xx.parseDependencies=Wor});var KW=D(Ox=>{"use strict";Object.defineProperty(Ox,"__esModule",{value:!0});Ox.compileDependencies=void 0;var $or=ua(),Qor=_e(),Yor=K(),Zor={parseDependencies:$or.parseDependencies,typedDependencies:Qor.typedDependencies,createCompile:Yor.createCompile};Ox.compileDependencies=Zor});var uP=D(Dx=>{"use strict";Object.defineProperty(Dx,"__esModule",{value:!0});Dx.evaluateDependencies=void 0;var Xor=ua(),Kor=_e(),ecr=K(),rcr={parseDependencies:Xor.parseDependencies,typedDependencies:Kor.typedDependencies,createEvaluate:ecr.createEvaluate};Dx.evaluateDependencies=rcr});var e$=D(Nx=>{"use strict";Object.defineProperty(Nx,"__esModule",{value:!0});Nx.evalDependencies=void 0;var tcr=uP(),ncr=K(),icr={evaluateDependencies:tcr.evaluateDependencies,createDeprecatedEval:ncr.createDeprecatedEval};Nx.evalDependencies=icr});var lP=D(Cx=>{"use strict";Object.defineProperty(Cx,"__esModule",{value:!0});Cx.ParserDependencies=void 0;var acr=ua(),scr=K(),ocr={parseDependencies:acr.parseDependencies,createParserClass:scr.createParserClass};Cx.ParserDependencies=ocr});var r$=D(Ax=>{"use strict";Object.defineProperty(Ax,"__esModule",{value:!0});Ax.parserDependencies=void 0;var ccr=lP(),ucr=_e(),lcr=K(),dcr={ParserDependencies:ccr.ParserDependencies,typedDependencies:ucr.typedDependencies,createParser:lcr.createParser};Ax.parserDependencies=dcr});var Px=D(Mx=>{"use strict";Object.defineProperty(Mx,"__esModule",{value:!0});Mx.lupDependencies=void 0;var pcr=Mr(),fcr=HM(),hcr=ia(),vcr=xn(),mcr=Pt(),ycr=Ot(),gcr=zr(),bcr=Jn(),_cr=Ye(),wcr=Tt(),Scr=bt(),xcr=_e(),Ocr=aa(),Dcr=K(),Ncr={DenseMatrixDependencies:pcr.DenseMatrixDependencies,SpaDependencies:fcr.SpaDependencies,SparseMatrixDependencies:hcr.SparseMatrixDependencies,absDependencies:vcr.absDependencies,addScalarDependencies:mcr.addScalarDependencies,divideScalarDependencies:ycr.divideScalarDependencies,equalScalarDependencies:gcr.equalScalarDependencies,largerDependencies:bcr.largerDependencies,matrixDependencies:_cr.matrixDependencies,multiplyScalarDependencies:wcr.multiplyScalarDependencies,subtractDependencies:Scr.subtractDependencies,typedDependencies:xcr.typedDependencies,unaryMinusDependencies:Ocr.unaryMinusDependencies,createLup:Dcr.createLup};Mx.lupDependencies=Ncr});var t$=D(Ex=>{"use strict";Object.defineProperty(Ex,"__esModule",{value:!0});Ex.qrDependencies=void 0;var Ccr=Pt(),Acr=f1(),Mcr=Xu(),Pcr=Ot(),Ecr=ca(),qcr=Zs(),Icr=Ys(),Bcr=Ye(),kcr=Tt(),jcr=kM(),Tcr=sa(),Rcr=bt(),Fcr=_e(),Lcr=aa(),Ucr=Ra(),zcr=K(),Jcr={addScalarDependencies:Ccr.addScalarDependencies,complexDependencies:Acr.complexDependencies,conjDependencies:Mcr.conjDependencies,divideScalarDependencies:Pcr.divideScalarDependencies,equalDependencies:Ecr.equalDependencies,identityDependencies:qcr.identityDependencies,isZeroDependencies:Icr.isZeroDependencies,matrixDependencies:Bcr.matrixDependencies,multiplyScalarDependencies:kcr.multiplyScalarDependencies,signDependencies:jcr.signDependencies,sqrtDependencies:Tcr.sqrtDependencies,subtractDependencies:Rcr.subtractDependencies,typedDependencies:Fcr.typedDependencies,unaryMinusDependencies:Lcr.unaryMinusDependencies,zerosDependencies:Ucr.zerosDependencies,createQr:zcr.createQr};Ex.qrDependencies=Jcr});var dP=D(qx=>{"use strict";Object.defineProperty(qx,"__esModule",{value:!0});qx.sluDependencies=void 0;var Vcr=ia(),Gcr=xn(),Hcr=gt(),Wcr=Ot(),$cr=Jn(),Qcr=Ku(),Ycr=dt(),Zcr=bt(),Xcr=qw(),Kcr=_e(),eur=K(),rur={SparseMatrixDependencies:Vcr.SparseMatrixDependencies,absDependencies:Gcr.absDependencies,addDependencies:Hcr.addDependencies,divideScalarDependencies:Wcr.divideScalarDependencies,largerDependencies:$cr.largerDependencies,largerEqDependencies:Qcr.largerEqDependencies,multiplyDependencies:Ycr.multiplyDependencies,subtractDependencies:Zcr.subtractDependencies,transposeDependencies:Xcr.transposeDependencies,typedDependencies:Kcr.typedDependencies,createSlu:eur.createSlu};qx.sluDependencies=rur});var n$=D(Ix=>{"use strict";Object.defineProperty(Ix,"__esModule",{value:!0});Ix.lusolveDependencies=void 0;var tur=Mr(),nur=UM(),iur=Px(),aur=Ye(),sur=dP(),our=_e(),cur=zM(),uur=K(),lur={DenseMatrixDependencies:tur.DenseMatrixDependencies,lsolveDependencies:nur.lsolveDependencies,lupDependencies:iur.lupDependencies,matrixDependencies:aur.matrixDependencies,sluDependencies:sur.sluDependencies,typedDependencies:our.typedDependencies,usolveDependencies:cur.usolveDependencies,createLusolve:uur.createLusolve};Ix.lusolveDependencies=lur});var pP=D(Bx=>{"use strict";Object.defineProperty(Bx,"__esModule",{value:!0});Bx.HelpDependencies=void 0;var dur=ua(),pur=K(),fur={parseDependencies:dur.parseDependencies,createHelpClass:pur.createHelpClass};Bx.HelpDependencies=fur});var fP=D(kx=>{"use strict";Object.defineProperty(kx,"__esModule",{value:!0});kx.ChainDependencies=void 0;var hur=K(),vur={createChainClass:hur.createChainClass};kx.ChainDependencies=vur});var i$=D(jx=>{"use strict";Object.defineProperty(jx,"__esModule",{value:!0});jx.helpDependencies=void 0;var mur=pP(),yur=_e(),gur=K(),bur={HelpDependencies:mur.HelpDependencies,typedDependencies:yur.typedDependencies,createHelp:gur.createHelp};jx.helpDependencies=bur});var a$=D(Tx=>{"use strict";Object.defineProperty(Tx,"__esModule",{value:!0});Tx.chainDependencies=void 0;var _ur=fP(),wur=_e(),Sur=K(),xur={ChainDependencies:_ur.ChainDependencies,typedDependencies:wur.typedDependencies,createChain:Sur.createChain};Tx.chainDependencies=xur});var hP=D(Rx=>{"use strict";Object.defineProperty(Rx,"__esModule",{value:!0});Rx.detDependencies=void 0;var Our=Px(),Dur=Ye(),Nur=dt(),Cur=bt(),Aur=_e(),Mur=aa(),Pur=K(),Eur={lupDependencies:Our.lupDependencies,matrixDependencies:Dur.matrixDependencies,multiplyDependencies:Nur.multiplyDependencies,subtractDependencies:Cur.subtractDependencies,typedDependencies:Aur.typedDependencies,unaryMinusDependencies:Mur.unaryMinusDependencies,createDet:Pur.createDet};Rx.detDependencies=Eur});var xc=D(Fx=>{"use strict";Object.defineProperty(Fx,"__esModule",{value:!0});Fx.invDependencies=void 0;var qur=xn(),Iur=Pt(),Bur=hP(),kur=Ot(),jur=Zs(),Tur=Ye(),Rur=dt(),Fur=_e(),Lur=aa(),Uur=K(),zur={absDependencies:qur.absDependencies,addScalarDependencies:Iur.addScalarDependencies,detDependencies:Bur.detDependencies,divideScalarDependencies:kur.divideScalarDependencies,identityDependencies:jur.identityDependencies,matrixDependencies:Tur.matrixDependencies,multiplyDependencies:Rur.multiplyDependencies,typedDependencies:Fur.typedDependencies,unaryMinusDependencies:Lur.unaryMinusDependencies,createInv:Uur.createInv};Fx.invDependencies=zur});var s$=D(Lx=>{"use strict";Object.defineProperty(Lx,"__esModule",{value:!0});Lx.eigsDependencies=void 0;var Jur=xn(),Vur=gt(),Gur=Pt(),Hur=WM(),Wur=Di(),$ur=$M(),Qur=ca(),Yur=xc(),Zur=Ye(),Xur=dt(),Kur=Tt(),elr=QM(),rlr=bt(),tlr=_e(),nlr=K(),ilr={absDependencies:Jur.absDependencies,addDependencies:Vur.addDependencies,addScalarDependencies:Gur.addScalarDependencies,atanDependencies:Hur.atanDependencies,bignumberDependencies:Wur.bignumberDependencies,cosDependencies:$ur.cosDependencies,equalDependencies:Qur.equalDependencies,invDependencies:Yur.invDependencies,matrixDependencies:Zur.matrixDependencies,multiplyDependencies:Xur.multiplyDependencies,multiplyScalarDependencies:Kur.multiplyScalarDependencies,sinDependencies:elr.sinDependencies,subtractDependencies:rlr.subtractDependencies,typedDependencies:tlr.typedDependencies,createEigs:nlr.createEigs};Lx.eigsDependencies=ilr});var o$=D(Ux=>{"use strict";Object.defineProperty(Ux,"__esModule",{value:!0});Ux.expmDependencies=void 0;var alr=xn(),slr=gt(),olr=Zs(),clr=xc(),ulr=dt(),llr=_e(),dlr=K(),plr={absDependencies:alr.absDependencies,addDependencies:slr.addDependencies,identityDependencies:olr.identityDependencies,invDependencies:clr.invDependencies,multiplyDependencies:ulr.multiplyDependencies,typedDependencies:llr.typedDependencies,createExpm:dlr.createExpm};Ux.expmDependencies=plr});var c$=D(zx=>{"use strict";Object.defineProperty(zx,"__esModule",{value:!0});zx.sqrtmDependencies=void 0;var flr=xn(),hlr=gt(),vlr=Zs(),mlr=xc(),ylr=VM(),glr=dt(),blr=Tn(),_lr=sa(),wlr=bt(),Slr=_e(),xlr=K(),Olr={absDependencies:flr.absDependencies,addDependencies:hlr.addDependencies,identityDependencies:vlr.identityDependencies,invDependencies:mlr.invDependencies,maxDependencies:ylr.maxDependencies,multiplyDependencies:glr.multiplyDependencies,sizeDependencies:blr.sizeDependencies,sqrtDependencies:_lr.sqrtDependencies,subtractDependencies:wlr.subtractDependencies,typedDependencies:Slr.typedDependencies,createSqrtm:xlr.createSqrtm};zx.sqrtmDependencies=Olr});var ai=D(Jx=>{"use strict";Object.defineProperty(Jx,"__esModule",{value:!0});Jx.divideDependencies=void 0;var Dlr=Ot(),Nlr=zr(),Clr=xc(),Alr=Ye(),Mlr=dt(),Plr=_e(),Elr=K(),qlr={divideScalarDependencies:Dlr.divideScalarDependencies,equalScalarDependencies:Nlr.equalScalarDependencies,invDependencies:Clr.invDependencies,matrixDependencies:Alr.matrixDependencies,multiplyDependencies:Mlr.multiplyDependencies,typedDependencies:Plr.typedDependencies,createDivide:Elr.createDivide};Jx.divideDependencies=qlr});var u$=D(Vx=>{"use strict";Object.defineProperty(Vx,"__esModule",{value:!0});Vx.distanceDependencies=void 0;var Ilr=xn(),Blr=Pt(),klr=Ot(),jlr=Tt(),Tlr=sa(),Rlr=bt(),Flr=_e(),Llr=aa(),Ulr=K(),zlr={absDependencies:Ilr.absDependencies,addScalarDependencies:Blr.addScalarDependencies,divideScalarDependencies:klr.divideScalarDependencies,multiplyScalarDependencies:jlr.multiplyScalarDependencies,sqrtDependencies:Tlr.sqrtDependencies,subtractDependencies:Rlr.subtractDependencies,typedDependencies:Flr.typedDependencies,unaryMinusDependencies:Llr.unaryMinusDependencies,createDistance:Ulr.createDistance};Vx.distanceDependencies=zlr});var l$=D(Gx=>{"use strict";Object.defineProperty(Gx,"__esModule",{value:!0});Gx.intersectDependencies=void 0;var Jlr=xn(),Vlr=gt(),Glr=Pt(),Hlr=Ot(),Wlr=zr(),$lr=Ye(),Qlr=dt(),Ylr=Tt(),Zlr=ni(),Xlr=bt(),Klr=_e(),edr=K(),rdr={absDependencies:Jlr.absDependencies,addDependencies:Vlr.addDependencies,addScalarDependencies:Glr.addScalarDependencies,divideScalarDependencies:Hlr.divideScalarDependencies,equalScalarDependencies:Wlr.equalScalarDependencies,matrixDependencies:$lr.matrixDependencies,multiplyDependencies:Qlr.multiplyDependencies,multiplyScalarDependencies:Ylr.multiplyScalarDependencies,smallerDependencies:Zlr.smallerDependencies,subtractDependencies:Xlr.subtractDependencies,typedDependencies:Klr.typedDependencies,createIntersect:edr.createIntersect};Gx.intersectDependencies=rdr});var vP=D(Hx=>{"use strict";Object.defineProperty(Hx,"__esModule",{value:!0});Hx.sumDependencies=void 0;var tdr=Di(),ndr=Ta(),idr=gt(),adr=_e(),sdr=K(),odr={bignumberDependencies:tdr.bignumberDependencies,fractionDependencies:ndr.fractionDependencies,addDependencies:idr.addDependencies,typedDependencies:adr.typedDependencies,createSum:sdr.createSum};Hx.sumDependencies=odr});var d$=D(Wx=>{"use strict";Object.defineProperty(Wx,"__esModule",{value:!0});Wx.meanDependencies=void 0;var cdr=gt(),udr=ai(),ldr=_e(),ddr=K(),pdr={addDependencies:cdr.addDependencies,divideDependencies:udr.divideDependencies,typedDependencies:ldr.typedDependencies,createMean:ddr.createMean};Wx.meanDependencies=pdr});var mP=D($x=>{"use strict";Object.defineProperty($x,"__esModule",{value:!0});$x.medianDependencies=void 0;var fdr=gt(),hdr=Xs(),vdr=ai(),mdr=lS(),ydr=_e(),gdr=K(),bdr={addDependencies:fdr.addDependencies,compareDependencies:hdr.compareDependencies,divideDependencies:vdr.divideDependencies,partitionSelectDependencies:mdr.partitionSelectDependencies,typedDependencies:ydr.typedDependencies,createMedian:gdr.createMedian};$x.medianDependencies=bdr});var p$=D(Qx=>{"use strict";Object.defineProperty(Qx,"__esModule",{value:!0});Qx.madDependencies=void 0;var _dr=xn(),wdr=RM(),Sdr=mP(),xdr=bt(),Odr=_e(),Ddr=K(),Ndr={absDependencies:_dr.absDependencies,mapDependencies:wdr.mapDependencies,medianDependencies:Sdr.medianDependencies,subtractDependencies:xdr.subtractDependencies,typedDependencies:Odr.typedDependencies,createMad:Ddr.createMad};Qx.madDependencies=Ndr});var rl=D(Yx=>{"use strict";Object.defineProperty(Yx,"__esModule",{value:!0});Yx.varianceDependencies=void 0;var Cdr=gt(),Adr=w1(),Mdr=ai(),Pdr=yc(),Edr=dt(),qdr=bt(),Idr=_e(),Bdr=K(),kdr={addDependencies:Cdr.addDependencies,applyDependencies:Adr.applyDependencies,divideDependencies:Mdr.divideDependencies,isNaNDependencies:Pdr.isNaNDependencies,multiplyDependencies:Edr.multiplyDependencies,subtractDependencies:qdr.subtractDependencies,typedDependencies:Idr.typedDependencies,createVariance:Bdr.createVariance};Yx.varianceDependencies=kdr});var f$=D(Zx=>{"use strict";Object.defineProperty(Zx,"__esModule",{value:!0});Zx.varDependencies=void 0;var jdr=rl(),Tdr=K(),Rdr={varianceDependencies:jdr.varianceDependencies,createDeprecatedVar:Tdr.createDeprecatedVar};Zx.varDependencies=Rdr});var h$=D(Xx=>{"use strict";Object.defineProperty(Xx,"__esModule",{value:!0});Xx.quantileSeqDependencies=void 0;var Fdr=gt(),Ldr=Xs(),Udr=dt(),zdr=lS(),Jdr=_e(),Vdr=K(),Gdr={addDependencies:Fdr.addDependencies,compareDependencies:Ldr.compareDependencies,multiplyDependencies:Udr.multiplyDependencies,partitionSelectDependencies:zdr.partitionSelectDependencies,typedDependencies:Jdr.typedDependencies,createQuantileSeq:Vdr.createQuantileSeq};Xx.quantileSeqDependencies=Gdr});var v$=D(Kx=>{"use strict";Object.defineProperty(Kx,"__esModule",{value:!0});Kx.stdDependencies=void 0;var Hdr=sa(),Wdr=_e(),$dr=rl(),Qdr=K(),Ydr={sqrtDependencies:Hdr.sqrtDependencies,typedDependencies:Wdr.typedDependencies,varianceDependencies:$dr.varianceDependencies,createStd:Qdr.createStd};Kx.stdDependencies=Ydr});var tl=D(eO=>{"use strict";Object.defineProperty(eO,"__esModule",{value:!0});eO.combinationsDependencies=void 0;var Zdr=_e(),Xdr=K(),Kdr={typedDependencies:Zdr.typedDependencies,createCombinations:Xdr.createCombinations};eO.combinationsDependencies=Kdr});var m$=D(rO=>{"use strict";Object.defineProperty(rO,"__esModule",{value:!0});rO.combinationsWithRepDependencies=void 0;var epr=_e(),rpr=K(),tpr={typedDependencies:epr.typedDependencies,createCombinationsWithRep:rpr.createCombinationsWithRep};rO.combinationsWithRepDependencies=tpr});var yP=D(tO=>{"use strict";Object.defineProperty(tO,"__esModule",{value:!0});tO.gammaDependencies=void 0;var npr=Je(),ipr=rt(),apr=Tt(),spr=oa(),opr=_e(),cpr=K(),upr={BigNumberDependencies:npr.BigNumberDependencies,ComplexDependencies:ipr.ComplexDependencies,multiplyScalarDependencies:apr.multiplyScalarDependencies,powDependencies:spr.powDependencies,typedDependencies:opr.typedDependencies,createGamma:cpr.createGamma};tO.gammaDependencies=upr});var nl=D(nO=>{"use strict";Object.defineProperty(nO,"__esModule",{value:!0});nO.factorialDependencies=void 0;var lpr=yP(),dpr=_e(),ppr=K(),fpr={gammaDependencies:lpr.gammaDependencies,typedDependencies:dpr.typedDependencies,createFactorial:ppr.createFactorial};nO.factorialDependencies=fpr});var y$=D(iO=>{"use strict";Object.defineProperty(iO,"__esModule",{value:!0});iO.kldivergenceDependencies=void 0;var hpr=ai(),vpr=LM(),mpr=Qs(),ypr=Gw(),gpr=Ye(),bpr=dt(),_pr=vP(),wpr=_e(),Spr=K(),xpr={divideDependencies:hpr.divideDependencies,dotDivideDependencies:vpr.dotDivideDependencies,isNumericDependencies:mpr.isNumericDependencies,logDependencies:ypr.logDependencies,matrixDependencies:gpr.matrixDependencies,multiplyDependencies:bpr.multiplyDependencies,sumDependencies:_pr.sumDependencies,typedDependencies:wpr.typedDependencies,createKldivergence:Spr.createKldivergence};iO.kldivergenceDependencies=xpr});var g$=D(aO=>{"use strict";Object.defineProperty(aO,"__esModule",{value:!0});aO.multinomialDependencies=void 0;var Opr=gt(),Dpr=ai(),Npr=nl(),Cpr=zn(),Apr=Qu(),Mpr=dt(),Ppr=_e(),Epr=K(),qpr={addDependencies:Opr.addDependencies,divideDependencies:Dpr.divideDependencies,factorialDependencies:Npr.factorialDependencies,isIntegerDependencies:Cpr.isIntegerDependencies,isPositiveDependencies:Apr.isPositiveDependencies,multiplyDependencies:Mpr.multiplyDependencies,typedDependencies:Ppr.typedDependencies,createMultinomial:Epr.createMultinomial};aO.multinomialDependencies=qpr});var b$=D(sO=>{"use strict";Object.defineProperty(sO,"__esModule",{value:!0});sO.permutationsDependencies=void 0;var Ipr=nl(),Bpr=_e(),kpr=K(),jpr={factorialDependencies:Ipr.factorialDependencies,typedDependencies:Bpr.typedDependencies,createPermutations:kpr.createPermutations};sO.permutationsDependencies=jpr});var _$=D(oO=>{"use strict";Object.defineProperty(oO,"__esModule",{value:!0});oO.pickRandomDependencies=void 0;var Tpr=_e(),Rpr=K(),Fpr={typedDependencies:Tpr.typedDependencies,createPickRandom:Rpr.createPickRandom};oO.pickRandomDependencies=Fpr});var w$=D(cO=>{"use strict";Object.defineProperty(cO,"__esModule",{value:!0});cO.randomDependencies=void 0;var Lpr=_e(),Upr=K(),zpr={typedDependencies:Lpr.typedDependencies,createRandom:Upr.createRandom};cO.randomDependencies=zpr});var S$=D(uO=>{"use strict";Object.defineProperty(uO,"__esModule",{value:!0});uO.randomIntDependencies=void 0;var Jpr=_e(),Vpr=K(),Gpr={typedDependencies:Jpr.typedDependencies,createRandomInt:Vpr.createRandomInt};uO.randomIntDependencies=Gpr});var gP=D(lO=>{"use strict";Object.defineProperty(lO,"__esModule",{value:!0});lO.stirlingS2Dependencies=void 0;var Hpr=Pt(),Wpr=tl(),$pr=Ot(),Qpr=nl(),Ypr=zn(),Zpr=$s(),Xpr=Jn(),Kpr=Tt(),efr=oa(),rfr=bt(),tfr=_e(),nfr=K(),ifr={addScalarDependencies:Hpr.addScalarDependencies,combinationsDependencies:Wpr.combinationsDependencies,divideScalarDependencies:$pr.divideScalarDependencies,factorialDependencies:Qpr.factorialDependencies,isIntegerDependencies:Ypr.isIntegerDependencies,isNegativeDependencies:Zpr.isNegativeDependencies,largerDependencies:Xpr.largerDependencies,multiplyScalarDependencies:Kpr.multiplyScalarDependencies,powDependencies:efr.powDependencies,subtractDependencies:rfr.subtractDependencies,typedDependencies:tfr.typedDependencies,createStirlingS2:nfr.createStirlingS2};lO.stirlingS2Dependencies=ifr});var x$=D(dO=>{"use strict";Object.defineProperty(dO,"__esModule",{value:!0});dO.bellNumbersDependencies=void 0;var afr=Pt(),sfr=zn(),ofr=$s(),cfr=gP(),ufr=_e(),lfr=K(),dfr={addScalarDependencies:afr.addScalarDependencies,isIntegerDependencies:sfr.isIntegerDependencies,isNegativeDependencies:ofr.isNegativeDependencies,stirlingS2Dependencies:cfr.stirlingS2Dependencies,typedDependencies:ufr.typedDependencies,createBellNumbers:lfr.createBellNumbers};dO.bellNumbersDependencies=dfr});var O$=D(pO=>{"use strict";Object.defineProperty(pO,"__esModule",{value:!0});pO.catalanDependencies=void 0;var pfr=Pt(),ffr=tl(),hfr=Ot(),vfr=zn(),mfr=$s(),yfr=Tt(),gfr=_e(),bfr=K(),_fr={addScalarDependencies:pfr.addScalarDependencies,combinationsDependencies:ffr.combinationsDependencies,divideScalarDependencies:hfr.divideScalarDependencies,isIntegerDependencies:vfr.isIntegerDependencies,isNegativeDependencies:mfr.isNegativeDependencies,multiplyScalarDependencies:yfr.multiplyScalarDependencies,typedDependencies:gfr.typedDependencies,createCatalan:bfr.createCatalan};pO.catalanDependencies=_fr});var D$=D(fO=>{"use strict";Object.defineProperty(fO,"__esModule",{value:!0});fO.compositionDependencies=void 0;var wfr=Pt(),Sfr=tl(),xfr=zn(),Ofr=$s(),Dfr=Qu(),Nfr=Jn(),Cfr=_e(),Afr=K(),Mfr={addScalarDependencies:wfr.addScalarDependencies,combinationsDependencies:Sfr.combinationsDependencies,isIntegerDependencies:xfr.isIntegerDependencies,isNegativeDependencies:Ofr.isNegativeDependencies,isPositiveDependencies:Dfr.isPositiveDependencies,largerDependencies:Nfr.largerDependencies,typedDependencies:Cfr.typedDependencies,createComposition:Afr.createComposition};fO.compositionDependencies=Mfr});var vO=D(hO=>{"use strict";Object.defineProperty(hO,"__esModule",{value:!0});hO.simplifyDependencies=void 0;var Pfr=Di(),Efr=Ta(),qfr=bc(),Ifr=Sc(),Bfr=_c(),kfr=wc(),jfr=Ks(),Tfr=gt(),Rfr=ai(),Ffr=ca(),Lfr=Ys(),Ufr=dt(),zfr=ua(),Jfr=oa(),Vfr=bt(),Gfr=_e(),Hfr=K(),Wfr={bignumberDependencies:Pfr.bignumberDependencies,fractionDependencies:Efr.fractionDependencies,ConstantNodeDependencies:qfr.ConstantNodeDependencies,FunctionNodeDependencies:Ifr.FunctionNodeDependencies,OperatorNodeDependencies:Bfr.OperatorNodeDependencies,ParenthesisNodeDependencies:kfr.ParenthesisNodeDependencies,SymbolNodeDependencies:jfr.SymbolNodeDependencies,addDependencies:Tfr.addDependencies,divideDependencies:Rfr.divideDependencies,equalDependencies:Ffr.equalDependencies,isZeroDependencies:Lfr.isZeroDependencies,multiplyDependencies:Ufr.multiplyDependencies,parseDependencies:zfr.parseDependencies,powDependencies:Jfr.powDependencies,subtractDependencies:Vfr.subtractDependencies,typedDependencies:Gfr.typedDependencies,createSimplify:Hfr.createSimplify};hO.simplifyDependencies=Wfr});var N$=D(mO=>{"use strict";Object.defineProperty(mO,"__esModule",{value:!0});mO.derivativeDependencies=void 0;var $fr=bc(),Qfr=Sc(),Yfr=_c(),Zfr=wc(),Xfr=Ks(),Kfr=ca(),ehr=Ys(),rhr=el(),thr=ua(),nhr=vO(),ihr=_e(),ahr=K(),shr={ConstantNodeDependencies:$fr.ConstantNodeDependencies,FunctionNodeDependencies:Qfr.FunctionNodeDependencies,OperatorNodeDependencies:Yfr.OperatorNodeDependencies,ParenthesisNodeDependencies:Zfr.ParenthesisNodeDependencies,SymbolNodeDependencies:Xfr.SymbolNodeDependencies,equalDependencies:Kfr.equalDependencies,isZeroDependencies:ehr.isZeroDependencies,numericDependencies:rhr.numericDependencies,parseDependencies:thr.parseDependencies,simplifyDependencies:nhr.simplifyDependencies,typedDependencies:ihr.typedDependencies,createDerivative:ahr.createDerivative};mO.derivativeDependencies=shr});var C$=D(yO=>{"use strict";Object.defineProperty(yO,"__esModule",{value:!0});yO.rationalizeDependencies=void 0;var ohr=Di(),chr=Ta(),uhr=bc(),lhr=Sc(),dhr=_c(),phr=wc(),fhr=Ks(),hhr=gt(),vhr=ai(),mhr=ca(),yhr=Ys(),ghr=dt(),bhr=ua(),_hr=oa(),whr=vO(),Shr=bt(),xhr=_e(),Ohr=K(),Dhr={bignumberDependencies:ohr.bignumberDependencies,fractionDependencies:chr.fractionDependencies,ConstantNodeDependencies:uhr.ConstantNodeDependencies,FunctionNodeDependencies:lhr.FunctionNodeDependencies,OperatorNodeDependencies:dhr.OperatorNodeDependencies,ParenthesisNodeDependencies:phr.ParenthesisNodeDependencies,SymbolNodeDependencies:fhr.SymbolNodeDependencies,addDependencies:hhr.addDependencies,divideDependencies:vhr.divideDependencies,equalDependencies:mhr.equalDependencies,isZeroDependencies:yhr.isZeroDependencies,multiplyDependencies:ghr.multiplyDependencies,parseDependencies:bhr.parseDependencies,powDependencies:_hr.powDependencies,simplifyDependencies:whr.simplifyDependencies,subtractDependencies:Shr.subtractDependencies,typedDependencies:xhr.typedDependencies,createRationalize:Ohr.createRationalize};yO.rationalizeDependencies=Dhr});var A$=D(gO=>{"use strict";Object.defineProperty(gO,"__esModule",{value:!0});gO.reviverDependencies=void 0;var Nhr=K(),Chr={createReviver:Nhr.createReviver};gO.reviverDependencies=Chr});var M$=D(bO=>{"use strict";Object.defineProperty(bO,"__esModule",{value:!0});bO.replacerDependencies=void 0;var Ahr=K(),Mhr={createReplacer:Ahr.createReplacer};bO.replacerDependencies=Mhr});var bP=D(_O=>{"use strict";Object.defineProperty(_O,"__esModule",{value:!0});_O.eDependencies=void 0;var Phr=Je(),Ehr=K(),qhr={BigNumberDependencies:Phr.BigNumberDependencies,createE:Ehr.createE};_O.eDependencies=qhr});var P$=D(wO=>{"use strict";Object.defineProperty(wO,"__esModule",{value:!0});wO.EDependencies=void 0;var Ihr=bP(),Bhr=K(),khr={eDependencies:Ihr.eDependencies,createUppercaseE:Bhr.createUppercaseE};wO.EDependencies=khr});var E$=D(SO=>{"use strict";Object.defineProperty(SO,"__esModule",{value:!0});SO.falseDependencies=void 0;var jhr=K(),Thr={createFalse:jhr.createFalse};SO.falseDependencies=Thr});var q$=D(xO=>{"use strict";Object.defineProperty(xO,"__esModule",{value:!0});xO.iDependencies=void 0;var Rhr=rt(),Fhr=K(),Lhr={ComplexDependencies:Rhr.ComplexDependencies,createI:Fhr.createI};xO.iDependencies=Lhr});var I$=D(OO=>{"use strict";Object.defineProperty(OO,"__esModule",{value:!0});OO.InfinityDependencies=void 0;var Uhr=Je(),zhr=K(),Jhr={BigNumberDependencies:Uhr.BigNumberDependencies,createInfinity:zhr.createInfinity};OO.InfinityDependencies=Jhr});var B$=D(DO=>{"use strict";Object.defineProperty(DO,"__esModule",{value:!0});DO.LN10Dependencies=void 0;var Vhr=Je(),Ghr=K(),Hhr={BigNumberDependencies:Vhr.BigNumberDependencies,createLN10:Ghr.createLN10};DO.LN10Dependencies=Hhr});var k$=D(NO=>{"use strict";Object.defineProperty(NO,"__esModule",{value:!0});NO.LN2Dependencies=void 0;var Whr=Je(),$hr=K(),Qhr={BigNumberDependencies:Whr.BigNumberDependencies,createLN2:$hr.createLN2};NO.LN2Dependencies=Qhr});var j$=D(CO=>{"use strict";Object.defineProperty(CO,"__esModule",{value:!0});CO.LOG10EDependencies=void 0;var Yhr=Je(),Zhr=K(),Xhr={BigNumberDependencies:Yhr.BigNumberDependencies,createLOG10E:Zhr.createLOG10E};CO.LOG10EDependencies=Xhr});var T$=D(AO=>{"use strict";Object.defineProperty(AO,"__esModule",{value:!0});AO.LOG2EDependencies=void 0;var Khr=Je(),evr=K(),rvr={BigNumberDependencies:Khr.BigNumberDependencies,createLOG2E:evr.createLOG2E};AO.LOG2EDependencies=rvr});var R$=D(MO=>{"use strict";Object.defineProperty(MO,"__esModule",{value:!0});MO.NaNDependencies=void 0;var tvr=Je(),nvr=K(),ivr={BigNumberDependencies:tvr.BigNumberDependencies,createNaN:nvr.createNaN};MO.NaNDependencies=ivr});var F$=D(PO=>{"use strict";Object.defineProperty(PO,"__esModule",{value:!0});PO.nullDependencies=void 0;var avr=K(),svr={createNull:avr.createNull};PO.nullDependencies=svr});var L$=D(EO=>{"use strict";Object.defineProperty(EO,"__esModule",{value:!0});EO.phiDependencies=void 0;var ovr=Je(),cvr=K(),uvr={BigNumberDependencies:ovr.BigNumberDependencies,createPhi:cvr.createPhi};EO.phiDependencies=uvr});var _P=D(qO=>{"use strict";Object.defineProperty(qO,"__esModule",{value:!0});qO.piDependencies=void 0;var lvr=Je(),dvr=K(),pvr={BigNumberDependencies:lvr.BigNumberDependencies,createPi:dvr.createPi};qO.piDependencies=pvr});var U$=D(IO=>{"use strict";Object.defineProperty(IO,"__esModule",{value:!0});IO.PIDependencies=void 0;var fvr=_P(),hvr=K(),vvr={piDependencies:fvr.piDependencies,createUppercasePi:hvr.createUppercasePi};IO.PIDependencies=vvr});var z$=D(BO=>{"use strict";Object.defineProperty(BO,"__esModule",{value:!0});BO.SQRT1_2Dependencies=void 0;var mvr=Je(),yvr=K(),gvr={BigNumberDependencies:mvr.BigNumberDependencies,createSQRT1_2:yvr.createSQRT1_2};BO.SQRT1_2Dependencies=gvr});var J$=D(kO=>{"use strict";Object.defineProperty(kO,"__esModule",{value:!0});kO.SQRT2Dependencies=void 0;var bvr=Je(),_vr=K(),wvr={BigNumberDependencies:bvr.BigNumberDependencies,createSQRT2:_vr.createSQRT2};kO.SQRT2Dependencies=wvr});var V$=D(jO=>{"use strict";Object.defineProperty(jO,"__esModule",{value:!0});jO.tauDependencies=void 0;var Svr=Je(),xvr=K(),Ovr={BigNumberDependencies:Svr.BigNumberDependencies,createTau:xvr.createTau};jO.tauDependencies=Ovr});var G$=D(TO=>{"use strict";Object.defineProperty(TO,"__esModule",{value:!0});TO.trueDependencies=void 0;var Dvr=K(),Nvr={createTrue:Dvr.createTrue};TO.trueDependencies=Nvr});var H$=D(RO=>{"use strict";Object.defineProperty(RO,"__esModule",{value:!0});RO.versionDependencies=void 0;var Cvr=K(),Avr={createVersion:Cvr.createVersion};RO.versionDependencies=Avr});var W$=D(FO=>{"use strict";Object.defineProperty(FO,"__esModule",{value:!0});FO.atomicMassDependencies=void 0;var Mvr=Je(),Pvr=or(),Evr=K(),qvr={BigNumberDependencies:Mvr.BigNumberDependencies,UnitDependencies:Pvr.UnitDependencies,createAtomicMass:Evr.createAtomicMass};FO.atomicMassDependencies=qvr});var $$=D(LO=>{"use strict";Object.defineProperty(LO,"__esModule",{value:!0});LO.avogadroDependencies=void 0;var Ivr=Je(),Bvr=or(),kvr=K(),jvr={BigNumberDependencies:Ivr.BigNumberDependencies,UnitDependencies:Bvr.UnitDependencies,createAvogadro:kvr.createAvogadro};LO.avogadroDependencies=jvr});var Q$=D(UO=>{"use strict";Object.defineProperty(UO,"__esModule",{value:!0});UO.bohrMagnetonDependencies=void 0;var Tvr=Je(),Rvr=or(),Fvr=K(),Lvr={BigNumberDependencies:Tvr.BigNumberDependencies,UnitDependencies:Rvr.UnitDependencies,createBohrMagneton:Fvr.createBohrMagneton};UO.bohrMagnetonDependencies=Lvr});var Y$=D(zO=>{"use strict";Object.defineProperty(zO,"__esModule",{value:!0});zO.bohrRadiusDependencies=void 0;var Uvr=Je(),zvr=or(),Jvr=K(),Vvr={BigNumberDependencies:Uvr.BigNumberDependencies,UnitDependencies:zvr.UnitDependencies,createBohrRadius:Jvr.createBohrRadius};zO.bohrRadiusDependencies=Vvr});var Z$=D(JO=>{"use strict";Object.defineProperty(JO,"__esModule",{value:!0});JO.boltzmannDependencies=void 0;var Gvr=Je(),Hvr=or(),Wvr=K(),$vr={BigNumberDependencies:Gvr.BigNumberDependencies,UnitDependencies:Hvr.UnitDependencies,createBoltzmann:Wvr.createBoltzmann};JO.boltzmannDependencies=$vr});var X$=D(VO=>{"use strict";Object.defineProperty(VO,"__esModule",{value:!0});VO.classicalElectronRadiusDependencies=void 0;var Qvr=Je(),Yvr=or(),Zvr=K(),Xvr={BigNumberDependencies:Qvr.BigNumberDependencies,UnitDependencies:Yvr.UnitDependencies,createClassicalElectronRadius:Zvr.createClassicalElectronRadius};VO.classicalElectronRadiusDependencies=Xvr});var K$=D(GO=>{"use strict";Object.defineProperty(GO,"__esModule",{value:!0});GO.conductanceQuantumDependencies=void 0;var Kvr=Je(),emr=or(),rmr=K(),tmr={BigNumberDependencies:Kvr.BigNumberDependencies,UnitDependencies:emr.UnitDependencies,createConductanceQuantum:rmr.createConductanceQuantum};GO.conductanceQuantumDependencies=tmr});var eQ=D(HO=>{"use strict";Object.defineProperty(HO,"__esModule",{value:!0});HO.coulombDependencies=void 0;var nmr=Je(),imr=or(),amr=K(),smr={BigNumberDependencies:nmr.BigNumberDependencies,UnitDependencies:imr.UnitDependencies,createCoulomb:amr.createCoulomb};HO.coulombDependencies=smr});var rQ=D(WO=>{"use strict";Object.defineProperty(WO,"__esModule",{value:!0});WO.deuteronMassDependencies=void 0;var omr=Je(),cmr=or(),umr=K(),lmr={BigNumberDependencies:omr.BigNumberDependencies,UnitDependencies:cmr.UnitDependencies,createDeuteronMass:umr.createDeuteronMass};WO.deuteronMassDependencies=lmr});var tQ=D($O=>{"use strict";Object.defineProperty($O,"__esModule",{value:!0});$O.efimovFactorDependencies=void 0;var dmr=Je(),pmr=K(),fmr={BigNumberDependencies:dmr.BigNumberDependencies,createEfimovFactor:pmr.createEfimovFactor};$O.efimovFactorDependencies=fmr});var nQ=D(QO=>{"use strict";Object.defineProperty(QO,"__esModule",{value:!0});QO.electricConstantDependencies=void 0;var hmr=Je(),vmr=or(),mmr=K(),ymr={BigNumberDependencies:hmr.BigNumberDependencies,UnitDependencies:vmr.UnitDependencies,createElectricConstant:mmr.createElectricConstant};QO.electricConstantDependencies=ymr});var iQ=D(YO=>{"use strict";Object.defineProperty(YO,"__esModule",{value:!0});YO.electronMassDependencies=void 0;var gmr=Je(),bmr=or(),_mr=K(),wmr={BigNumberDependencies:gmr.BigNumberDependencies,UnitDependencies:bmr.UnitDependencies,createElectronMass:_mr.createElectronMass};YO.electronMassDependencies=wmr});var aQ=D(ZO=>{"use strict";Object.defineProperty(ZO,"__esModule",{value:!0});ZO.elementaryChargeDependencies=void 0;var Smr=Je(),xmr=or(),Omr=K(),Dmr={BigNumberDependencies:Smr.BigNumberDependencies,UnitDependencies:xmr.UnitDependencies,createElementaryCharge:Omr.createElementaryCharge};ZO.elementaryChargeDependencies=Dmr});var sQ=D(XO=>{"use strict";Object.defineProperty(XO,"__esModule",{value:!0});XO.faradayDependencies=void 0;var Nmr=Je(),Cmr=or(),Amr=K(),Mmr={BigNumberDependencies:Nmr.BigNumberDependencies,UnitDependencies:Cmr.UnitDependencies,createFaraday:Amr.createFaraday};XO.faradayDependencies=Mmr});var oQ=D(KO=>{"use strict";Object.defineProperty(KO,"__esModule",{value:!0});KO.fermiCouplingDependencies=void 0;var Pmr=Je(),Emr=or(),qmr=K(),Imr={BigNumberDependencies:Pmr.BigNumberDependencies,UnitDependencies:Emr.UnitDependencies,createFermiCoupling:qmr.createFermiCoupling};KO.fermiCouplingDependencies=Imr});var cQ=D(eD=>{"use strict";Object.defineProperty(eD,"__esModule",{value:!0});eD.fineStructureDependencies=void 0;var Bmr=Je(),kmr=K(),jmr={BigNumberDependencies:Bmr.BigNumberDependencies,createFineStructure:kmr.createFineStructure};eD.fineStructureDependencies=jmr});var uQ=D(rD=>{"use strict";Object.defineProperty(rD,"__esModule",{value:!0});rD.firstRadiationDependencies=void 0;var Tmr=Je(),Rmr=or(),Fmr=K(),Lmr={BigNumberDependencies:Tmr.BigNumberDependencies,UnitDependencies:Rmr.UnitDependencies,createFirstRadiation:Fmr.createFirstRadiation};rD.firstRadiationDependencies=Lmr});var lQ=D(tD=>{"use strict";Object.defineProperty(tD,"__esModule",{value:!0});tD.gasConstantDependencies=void 0;var Umr=Je(),zmr=or(),Jmr=K(),Vmr={BigNumberDependencies:Umr.BigNumberDependencies,UnitDependencies:zmr.UnitDependencies,createGasConstant:Jmr.createGasConstant};tD.gasConstantDependencies=Vmr});var dQ=D(nD=>{"use strict";Object.defineProperty(nD,"__esModule",{value:!0});nD.gravitationConstantDependencies=void 0;var Gmr=Je(),Hmr=or(),Wmr=K(),$mr={BigNumberDependencies:Gmr.BigNumberDependencies,UnitDependencies:Hmr.UnitDependencies,createGravitationConstant:Wmr.createGravitationConstant};nD.gravitationConstantDependencies=$mr});var pQ=D(iD=>{"use strict";Object.defineProperty(iD,"__esModule",{value:!0});iD.gravityDependencies=void 0;var Qmr=Je(),Ymr=or(),Zmr=K(),Xmr={BigNumberDependencies:Qmr.BigNumberDependencies,UnitDependencies:Ymr.UnitDependencies,createGravity:Zmr.createGravity};iD.gravityDependencies=Xmr});var fQ=D(aD=>{"use strict";Object.defineProperty(aD,"__esModule",{value:!0});aD.hartreeEnergyDependencies=void 0;var Kmr=Je(),eyr=or(),ryr=K(),tyr={BigNumberDependencies:Kmr.BigNumberDependencies,UnitDependencies:eyr.UnitDependencies,createHartreeEnergy:ryr.createHartreeEnergy};aD.hartreeEnergyDependencies=tyr});var hQ=D(sD=>{"use strict";Object.defineProperty(sD,"__esModule",{value:!0});sD.inverseConductanceQuantumDependencies=void 0;var nyr=Je(),iyr=or(),ayr=K(),syr={BigNumberDependencies:nyr.BigNumberDependencies,UnitDependencies:iyr.UnitDependencies,createInverseConductanceQuantum:ayr.createInverseConductanceQuantum};sD.inverseConductanceQuantumDependencies=syr});var vQ=D(oD=>{"use strict";Object.defineProperty(oD,"__esModule",{value:!0});oD.klitzingDependencies=void 0;var oyr=Je(),cyr=or(),uyr=K(),lyr={BigNumberDependencies:oyr.BigNumberDependencies,UnitDependencies:cyr.UnitDependencies,createKlitzing:uyr.createKlitzing};oD.klitzingDependencies=lyr});var mQ=D(cD=>{"use strict";Object.defineProperty(cD,"__esModule",{value:!0});cD.loschmidtDependencies=void 0;var dyr=Je(),pyr=or(),fyr=K(),hyr={BigNumberDependencies:dyr.BigNumberDependencies,UnitDependencies:pyr.UnitDependencies,createLoschmidt:fyr.createLoschmidt};cD.loschmidtDependencies=hyr});var yQ=D(uD=>{"use strict";Object.defineProperty(uD,"__esModule",{value:!0});uD.magneticConstantDependencies=void 0;var vyr=Je(),myr=or(),yyr=K(),gyr={BigNumberDependencies:vyr.BigNumberDependencies,UnitDependencies:myr.UnitDependencies,createMagneticConstant:yyr.createMagneticConstant};uD.magneticConstantDependencies=gyr});var gQ=D(lD=>{"use strict";Object.defineProperty(lD,"__esModule",{value:!0});lD.magneticFluxQuantumDependencies=void 0;var byr=Je(),_yr=or(),wyr=K(),Syr={BigNumberDependencies:byr.BigNumberDependencies,UnitDependencies:_yr.UnitDependencies,createMagneticFluxQuantum:wyr.createMagneticFluxQuantum};lD.magneticFluxQuantumDependencies=Syr});var bQ=D(dD=>{"use strict";Object.defineProperty(dD,"__esModule",{value:!0});dD.molarMassDependencies=void 0;var xyr=Je(),Oyr=or(),Dyr=K(),Nyr={BigNumberDependencies:xyr.BigNumberDependencies,UnitDependencies:Oyr.UnitDependencies,createMolarMass:Dyr.createMolarMass};dD.molarMassDependencies=Nyr});var _Q=D(pD=>{"use strict";Object.defineProperty(pD,"__esModule",{value:!0});pD.molarMassC12Dependencies=void 0;var Cyr=Je(),Ayr=or(),Myr=K(),Pyr={BigNumberDependencies:Cyr.BigNumberDependencies,UnitDependencies:Ayr.UnitDependencies,createMolarMassC12:Myr.createMolarMassC12};pD.molarMassC12Dependencies=Pyr});var wQ=D(fD=>{"use strict";Object.defineProperty(fD,"__esModule",{value:!0});fD.molarPlanckConstantDependencies=void 0;var Eyr=Je(),qyr=or(),Iyr=K(),Byr={BigNumberDependencies:Eyr.BigNumberDependencies,UnitDependencies:qyr.UnitDependencies,createMolarPlanckConstant:Iyr.createMolarPlanckConstant};fD.molarPlanckConstantDependencies=Byr});var SQ=D(hD=>{"use strict";Object.defineProperty(hD,"__esModule",{value:!0});hD.molarVolumeDependencies=void 0;var kyr=Je(),jyr=or(),Tyr=K(),Ryr={BigNumberDependencies:kyr.BigNumberDependencies,UnitDependencies:jyr.UnitDependencies,createMolarVolume:Tyr.createMolarVolume};hD.molarVolumeDependencies=Ryr});var xQ=D(vD=>{"use strict";Object.defineProperty(vD,"__esModule",{value:!0});vD.neutronMassDependencies=void 0;var Fyr=Je(),Lyr=or(),Uyr=K(),zyr={BigNumberDependencies:Fyr.BigNumberDependencies,UnitDependencies:Lyr.UnitDependencies,createNeutronMass:Uyr.createNeutronMass};vD.neutronMassDependencies=zyr});var OQ=D(mD=>{"use strict";Object.defineProperty(mD,"__esModule",{value:!0});mD.nuclearMagnetonDependencies=void 0;var Jyr=Je(),Vyr=or(),Gyr=K(),Hyr={BigNumberDependencies:Jyr.BigNumberDependencies,UnitDependencies:Vyr.UnitDependencies,createNuclearMagneton:Gyr.createNuclearMagneton};mD.nuclearMagnetonDependencies=Hyr});var DQ=D(yD=>{"use strict";Object.defineProperty(yD,"__esModule",{value:!0});yD.planckChargeDependencies=void 0;var Wyr=Je(),$yr=or(),Qyr=K(),Yyr={BigNumberDependencies:Wyr.BigNumberDependencies,UnitDependencies:$yr.UnitDependencies,createPlanckCharge:Qyr.createPlanckCharge};yD.planckChargeDependencies=Yyr});var NQ=D(gD=>{"use strict";Object.defineProperty(gD,"__esModule",{value:!0});gD.planckConstantDependencies=void 0;var Zyr=Je(),Xyr=or(),Kyr=K(),egr={BigNumberDependencies:Zyr.BigNumberDependencies,UnitDependencies:Xyr.UnitDependencies,createPlanckConstant:Kyr.createPlanckConstant};gD.planckConstantDependencies=egr});var CQ=D(bD=>{"use strict";Object.defineProperty(bD,"__esModule",{value:!0});bD.planckLengthDependencies=void 0;var rgr=Je(),tgr=or(),ngr=K(),igr={BigNumberDependencies:rgr.BigNumberDependencies,UnitDependencies:tgr.UnitDependencies,createPlanckLength:ngr.createPlanckLength};bD.planckLengthDependencies=igr});var AQ=D(_D=>{"use strict";Object.defineProperty(_D,"__esModule",{value:!0});_D.planckMassDependencies=void 0;var agr=Je(),sgr=or(),ogr=K(),cgr={BigNumberDependencies:agr.BigNumberDependencies,UnitDependencies:sgr.UnitDependencies,createPlanckMass:ogr.createPlanckMass};_D.planckMassDependencies=cgr});var MQ=D(wD=>{"use strict";Object.defineProperty(wD,"__esModule",{value:!0});wD.planckTemperatureDependencies=void 0;var ugr=Je(),lgr=or(),dgr=K(),pgr={BigNumberDependencies:ugr.BigNumberDependencies,UnitDependencies:lgr.UnitDependencies,createPlanckTemperature:dgr.createPlanckTemperature};wD.planckTemperatureDependencies=pgr});var PQ=D(SD=>{"use strict";Object.defineProperty(SD,"__esModule",{value:!0});SD.planckTimeDependencies=void 0;var fgr=Je(),hgr=or(),vgr=K(),mgr={BigNumberDependencies:fgr.BigNumberDependencies,UnitDependencies:hgr.UnitDependencies,createPlanckTime:vgr.createPlanckTime};SD.planckTimeDependencies=mgr});var EQ=D(xD=>{"use strict";Object.defineProperty(xD,"__esModule",{value:!0});xD.protonMassDependencies=void 0;var ygr=Je(),ggr=or(),bgr=K(),_gr={BigNumberDependencies:ygr.BigNumberDependencies,UnitDependencies:ggr.UnitDependencies,createProtonMass:bgr.createProtonMass};xD.protonMassDependencies=_gr});var qQ=D(OD=>{"use strict";Object.defineProperty(OD,"__esModule",{value:!0});OD.quantumOfCirculationDependencies=void 0;var wgr=Je(),Sgr=or(),xgr=K(),Ogr={BigNumberDependencies:wgr.BigNumberDependencies,UnitDependencies:Sgr.UnitDependencies,createQuantumOfCirculation:xgr.createQuantumOfCirculation};OD.quantumOfCirculationDependencies=Ogr});var IQ=D(DD=>{"use strict";Object.defineProperty(DD,"__esModule",{value:!0});DD.reducedPlanckConstantDependencies=void 0;var Dgr=Je(),Ngr=or(),Cgr=K(),Agr={BigNumberDependencies:Dgr.BigNumberDependencies,UnitDependencies:Ngr.UnitDependencies,createReducedPlanckConstant:Cgr.createReducedPlanckConstant};DD.reducedPlanckConstantDependencies=Agr});var BQ=D(ND=>{"use strict";Object.defineProperty(ND,"__esModule",{value:!0});ND.rydbergDependencies=void 0;var Mgr=Je(),Pgr=or(),Egr=K(),qgr={BigNumberDependencies:Mgr.BigNumberDependencies,UnitDependencies:Pgr.UnitDependencies,createRydberg:Egr.createRydberg};ND.rydbergDependencies=qgr});var kQ=D(CD=>{"use strict";Object.defineProperty(CD,"__esModule",{value:!0});CD.sackurTetrodeDependencies=void 0;var Igr=Je(),Bgr=K(),kgr={BigNumberDependencies:Igr.BigNumberDependencies,createSackurTetrode:Bgr.createSackurTetrode};CD.sackurTetrodeDependencies=kgr});var jQ=D(AD=>{"use strict";Object.defineProperty(AD,"__esModule",{value:!0});AD.secondRadiationDependencies=void 0;var jgr=Je(),Tgr=or(),Rgr=K(),Fgr={BigNumberDependencies:jgr.BigNumberDependencies,UnitDependencies:Tgr.UnitDependencies,createSecondRadiation:Rgr.createSecondRadiation};AD.secondRadiationDependencies=Fgr});var TQ=D(MD=>{"use strict";Object.defineProperty(MD,"__esModule",{value:!0});MD.speedOfLightDependencies=void 0;var Lgr=Je(),Ugr=or(),zgr=K(),Jgr={BigNumberDependencies:Lgr.BigNumberDependencies,UnitDependencies:Ugr.UnitDependencies,createSpeedOfLight:zgr.createSpeedOfLight};MD.speedOfLightDependencies=Jgr});var RQ=D(PD=>{"use strict";Object.defineProperty(PD,"__esModule",{value:!0});PD.stefanBoltzmannDependencies=void 0;var Vgr=Je(),Ggr=or(),Hgr=K(),Wgr={BigNumberDependencies:Vgr.BigNumberDependencies,UnitDependencies:Ggr.UnitDependencies,createStefanBoltzmann:Hgr.createStefanBoltzmann};PD.stefanBoltzmannDependencies=Wgr});var FQ=D(ED=>{"use strict";Object.defineProperty(ED,"__esModule",{value:!0});ED.thomsonCrossSectionDependencies=void 0;var $gr=Je(),Qgr=or(),Ygr=K(),Zgr={BigNumberDependencies:$gr.BigNumberDependencies,UnitDependencies:Qgr.UnitDependencies,createThomsonCrossSection:Ygr.createThomsonCrossSection};ED.thomsonCrossSectionDependencies=Zgr});var LQ=D(qD=>{"use strict";Object.defineProperty(qD,"__esModule",{value:!0});qD.vacuumImpedanceDependencies=void 0;var Xgr=Je(),Kgr=or(),ebr=K(),rbr={BigNumberDependencies:Xgr.BigNumberDependencies,UnitDependencies:Kgr.UnitDependencies,createVacuumImpedance:ebr.createVacuumImpedance};qD.vacuumImpedanceDependencies=rbr});var UQ=D(ID=>{"use strict";Object.defineProperty(ID,"__esModule",{value:!0});ID.weakMixingAngleDependencies=void 0;var tbr=Je(),nbr=K(),ibr={BigNumberDependencies:tbr.BigNumberDependencies,createWeakMixingAngle:nbr.createWeakMixingAngle};ID.weakMixingAngleDependencies=ibr});var zQ=D(BD=>{"use strict";Object.defineProperty(BD,"__esModule",{value:!0});BD.wienDisplacementDependencies=void 0;var abr=Je(),sbr=or(),obr=K(),cbr={BigNumberDependencies:abr.BigNumberDependencies,UnitDependencies:sbr.UnitDependencies,createWienDisplacement:obr.createWienDisplacement};BD.wienDisplacementDependencies=cbr});var JQ=D(kD=>{"use strict";Object.defineProperty(kD,"__esModule",{value:!0});kD.applyTransformDependencies=void 0;var ubr=zn(),lbr=_e(),dbr=K(),pbr={isIntegerDependencies:ubr.isIntegerDependencies,typedDependencies:lbr.typedDependencies,createApplyTransform:dbr.createApplyTransform};kD.applyTransformDependencies=pbr});var VQ=D(jD=>{"use strict";Object.defineProperty(jD,"__esModule",{value:!0});jD.columnTransformDependencies=void 0;var fbr=Rt(),hbr=Ye(),vbr=gc(),mbr=_e(),ybr=K(),gbr={IndexDependencies:fbr.IndexDependencies,matrixDependencies:hbr.matrixDependencies,rangeDependencies:vbr.rangeDependencies,typedDependencies:mbr.typedDependencies,createColumnTransform:ybr.createColumnTransform};jD.columnTransformDependencies=gbr});var GQ=D(TD=>{"use strict";Object.defineProperty(TD,"__esModule",{value:!0});TD.filterTransformDependencies=void 0;var bbr=_e(),_br=K(),wbr={typedDependencies:bbr.typedDependencies,createFilterTransform:_br.createFilterTransform};TD.filterTransformDependencies=wbr});var HQ=D(RD=>{"use strict";Object.defineProperty(RD,"__esModule",{value:!0});RD.forEachTransformDependencies=void 0;var Sbr=_e(),xbr=K(),Obr={typedDependencies:Sbr.typedDependencies,createForEachTransform:xbr.createForEachTransform};RD.forEachTransformDependencies=Obr});var WQ=D(FD=>{"use strict";Object.defineProperty(FD,"__esModule",{value:!0});FD.indexTransformDependencies=void 0;var Dbr=Rt(),Nbr=K(),Cbr={IndexDependencies:Dbr.IndexDependencies,createIndexTransform:Nbr.createIndexTransform};FD.indexTransformDependencies=Cbr});var $Q=D(LD=>{"use strict";Object.defineProperty(LD,"__esModule",{value:!0});LD.mapTransformDependencies=void 0;var Abr=_e(),Mbr=K(),Pbr={typedDependencies:Abr.typedDependencies,createMapTransform:Mbr.createMapTransform};LD.mapTransformDependencies=Pbr});var QQ=D(UD=>{"use strict";Object.defineProperty(UD,"__esModule",{value:!0});UD.maxTransformDependencies=void 0;var Ebr=Jn(),qbr=_e(),Ibr=K(),Bbr={largerDependencies:Ebr.largerDependencies,typedDependencies:qbr.typedDependencies,createMaxTransform:Ibr.createMaxTransform};UD.maxTransformDependencies=Bbr});var YQ=D(zD=>{"use strict";Object.defineProperty(zD,"__esModule",{value:!0});zD.meanTransformDependencies=void 0;var kbr=gt(),jbr=ai(),Tbr=_e(),Rbr=K(),Fbr={addDependencies:kbr.addDependencies,divideDependencies:jbr.divideDependencies,typedDependencies:Tbr.typedDependencies,createMeanTransform:Rbr.createMeanTransform};zD.meanTransformDependencies=Fbr});var ZQ=D(JD=>{"use strict";Object.defineProperty(JD,"__esModule",{value:!0});JD.minTransformDependencies=void 0;var Lbr=ni(),Ubr=_e(),zbr=K(),Jbr={smallerDependencies:Lbr.smallerDependencies,typedDependencies:Ubr.typedDependencies,createMinTransform:zbr.createMinTransform};JD.minTransformDependencies=Jbr});var XQ=D(VD=>{"use strict";Object.defineProperty(VD,"__esModule",{value:!0});VD.rangeTransformDependencies=void 0;var Vbr=Di(),Gbr=Ye(),Hbr=Jn(),Wbr=Ku(),$br=ni(),Qbr=dw(),Ybr=_e(),Zbr=K(),Xbr={bignumberDependencies:Vbr.bignumberDependencies,matrixDependencies:Gbr.matrixDependencies,largerDependencies:Hbr.largerDependencies,largerEqDependencies:Wbr.largerEqDependencies,smallerDependencies:$br.smallerDependencies,smallerEqDependencies:Qbr.smallerEqDependencies,typedDependencies:Ybr.typedDependencies,createRangeTransform:Zbr.createRangeTransform};VD.rangeTransformDependencies=Xbr});var KQ=D(GD=>{"use strict";Object.defineProperty(GD,"__esModule",{value:!0});GD.rowTransformDependencies=void 0;var Kbr=Rt(),e0r=Ye(),r0r=gc(),t0r=_e(),n0r=K(),i0r={IndexDependencies:Kbr.IndexDependencies,matrixDependencies:e0r.matrixDependencies,rangeDependencies:r0r.rangeDependencies,typedDependencies:t0r.typedDependencies,createRowTransform:n0r.createRowTransform};GD.rowTransformDependencies=i0r});var eY=D(HD=>{"use strict";Object.defineProperty(HD,"__esModule",{value:!0});HD.subsetTransformDependencies=void 0;var a0r=Ye(),s0r=_e(),o0r=K(),c0r={matrixDependencies:a0r.matrixDependencies,typedDependencies:s0r.typedDependencies,createSubsetTransform:o0r.createSubsetTransform};HD.subsetTransformDependencies=c0r});var rY=D(WD=>{"use strict";Object.defineProperty(WD,"__esModule",{value:!0});WD.concatTransformDependencies=void 0;var u0r=zn(),l0r=Ye(),d0r=_e(),p0r=K(),f0r={isIntegerDependencies:u0r.isIntegerDependencies,matrixDependencies:l0r.matrixDependencies,typedDependencies:d0r.typedDependencies,createConcatTransform:p0r.createConcatTransform};WD.concatTransformDependencies=f0r});var tY=D($D=>{"use strict";Object.defineProperty($D,"__esModule",{value:!0});$D.stdTransformDependencies=void 0;var h0r=sa(),v0r=_e(),m0r=rl(),y0r=K(),g0r={sqrtDependencies:h0r.sqrtDependencies,typedDependencies:v0r.typedDependencies,varianceDependencies:m0r.varianceDependencies,createStdTransform:y0r.createStdTransform};$D.stdTransformDependencies=g0r});var nY=D(QD=>{"use strict";Object.defineProperty(QD,"__esModule",{value:!0});QD.sumTransformDependencies=void 0;var b0r=Di(),_0r=Ta(),w0r=gt(),S0r=_e(),x0r=K(),O0r={bignumberDependencies:b0r.bignumberDependencies,fractionDependencies:_0r.fractionDependencies,addDependencies:w0r.addDependencies,typedDependencies:S0r.typedDependencies,createSumTransform:x0r.createSumTransform};QD.sumTransformDependencies=O0r});var iY=D(YD=>{"use strict";Object.defineProperty(YD,"__esModule",{value:!0});YD.varianceTransformDependencies=void 0;var D0r=gt(),N0r=w1(),C0r=ai(),A0r=yc(),M0r=dt(),P0r=bt(),E0r=_e(),q0r=K(),I0r={addDependencies:D0r.addDependencies,applyDependencies:N0r.applyDependencies,divideDependencies:C0r.divideDependencies,isNaNDependencies:A0r.isNaNDependencies,multiplyDependencies:M0r.multiplyDependencies,subtractDependencies:P0r.subtractDependencies,typedDependencies:E0r.typedDependencies,createVarianceTransform:q0r.createVarianceTransform};YD.varianceTransformDependencies=I0r});var sY=D(XD=>{"use strict";function ZD(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ZD=function(t){return typeof t}:ZD=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ZD(e)}Object.defineProperty(XD,"__esModule",{value:!0});XD.all=void 0;var B0r=k0r(K());function aY(){if(typeof WeakMap!="function")return null;var e=new WeakMap;return aY=function(){return e},e}function k0r(e){if(e&&e.__esModule)return e;if(e===null||ZD(e)!=="object"&&typeof e!="function")return{default:e};var r=aY();if(r&&r.has(e))return r.get(e);var t={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var c=n?Object.getOwnPropertyDescriptor(e,i):null;c&&(c.get||c.set)?Object.defineProperty(t,i,c):t[i]=e[i]}return t.default=e,r&&r.set(e,t),t}var j0r=B0r;XD.all=j0r});var oY=D(ee=>{"use strict";Object.defineProperty(ee,"__esModule",{value:!0});Object.defineProperty(ee,"typedDependencies",{enumerable:!0,get:function(){return T0r.typedDependencies}});Object.defineProperty(ee,"ResultSetDependencies",{enumerable:!0,get:function(){return R0r.ResultSetDependencies}});Object.defineProperty(ee,"BigNumberDependencies",{enumerable:!0,get:function(){return F0r.BigNumberDependencies}});Object.defineProperty(ee,"ComplexDependencies",{enumerable:!0,get:function(){return L0r.ComplexDependencies}});Object.defineProperty(ee,"FractionDependencies",{enumerable:!0,get:function(){return U0r.FractionDependencies}});Object.defineProperty(ee,"RangeDependencies",{enumerable:!0,get:function(){return z0r.RangeDependencies}});Object.defineProperty(ee,"MatrixDependencies",{enumerable:!0,get:function(){return J0r.MatrixDependencies}});Object.defineProperty(ee,"DenseMatrixDependencies",{enumerable:!0,get:function(){return V0r.DenseMatrixDependencies}});Object.defineProperty(ee,"cloneDependencies",{enumerable:!0,get:function(){return G0r.cloneDependencies}});Object.defineProperty(ee,"isIntegerDependencies",{enumerable:!0,get:function(){return H0r.isIntegerDependencies}});Object.defineProperty(ee,"isNegativeDependencies",{enumerable:!0,get:function(){return W0r.isNegativeDependencies}});Object.defineProperty(ee,"isNumericDependencies",{enumerable:!0,get:function(){return $0r.isNumericDependencies}});Object.defineProperty(ee,"hasNumericValueDependencies",{enumerable:!0,get:function(){return Q0r.hasNumericValueDependencies}});Object.defineProperty(ee,"isPositiveDependencies",{enumerable:!0,get:function(){return Y0r.isPositiveDependencies}});Object.defineProperty(ee,"isZeroDependencies",{enumerable:!0,get:function(){return Z0r.isZeroDependencies}});Object.defineProperty(ee,"isNaNDependencies",{enumerable:!0,get:function(){return X0r.isNaNDependencies}});Object.defineProperty(ee,"typeOfDependencies",{enumerable:!0,get:function(){return K0r.typeOfDependencies}});Object.defineProperty(ee,"typeofDependencies",{enumerable:!0,get:function(){return e_r.typeofDependencies}});Object.defineProperty(ee,"equalScalarDependencies",{enumerable:!0,get:function(){return r_r.equalScalarDependencies}});Object.defineProperty(ee,"SparseMatrixDependencies",{enumerable:!0,get:function(){return t_r.SparseMatrixDependencies}});Object.defineProperty(ee,"numberDependencies",{enumerable:!0,get:function(){return n_r.numberDependencies}});Object.defineProperty(ee,"stringDependencies",{enumerable:!0,get:function(){return i_r.stringDependencies}});Object.defineProperty(ee,"booleanDependencies",{enumerable:!0,get:function(){return a_r.booleanDependencies}});Object.defineProperty(ee,"bignumberDependencies",{enumerable:!0,get:function(){return s_r.bignumberDependencies}});Object.defineProperty(ee,"complexDependencies",{enumerable:!0,get:function(){return o_r.complexDependencies}});Object.defineProperty(ee,"fractionDependencies",{enumerable:!0,get:function(){return c_r.fractionDependencies}});Object.defineProperty(ee,"matrixDependencies",{enumerable:!0,get:function(){return u_r.matrixDependencies}});Object.defineProperty(ee,"splitUnitDependencies",{enumerable:!0,get:function(){return l_r.splitUnitDependencies}});Object.defineProperty(ee,"unaryMinusDependencies",{enumerable:!0,get:function(){return d_r.unaryMinusDependencies}});Object.defineProperty(ee,"unaryPlusDependencies",{enumerable:!0,get:function(){return p_r.unaryPlusDependencies}});Object.defineProperty(ee,"absDependencies",{enumerable:!0,get:function(){return f_r.absDependencies}});Object.defineProperty(ee,"applyDependencies",{enumerable:!0,get:function(){return h_r.applyDependencies}});Object.defineProperty(ee,"addScalarDependencies",{enumerable:!0,get:function(){return v_r.addScalarDependencies}});Object.defineProperty(ee,"cbrtDependencies",{enumerable:!0,get:function(){return m_r.cbrtDependencies}});Object.defineProperty(ee,"ceilDependencies",{enumerable:!0,get:function(){return y_r.ceilDependencies}});Object.defineProperty(ee,"cubeDependencies",{enumerable:!0,get:function(){return g_r.cubeDependencies}});Object.defineProperty(ee,"expDependencies",{enumerable:!0,get:function(){return b_r.expDependencies}});Object.defineProperty(ee,"expm1Dependencies",{enumerable:!0,get:function(){return __r.expm1Dependencies}});Object.defineProperty(ee,"fixDependencies",{enumerable:!0,get:function(){return w_r.fixDependencies}});Object.defineProperty(ee,"floorDependencies",{enumerable:!0,get:function(){return S_r.floorDependencies}});Object.defineProperty(ee,"gcdDependencies",{enumerable:!0,get:function(){return x_r.gcdDependencies}});Object.defineProperty(ee,"lcmDependencies",{enumerable:!0,get:function(){return O_r.lcmDependencies}});Object.defineProperty(ee,"log10Dependencies",{enumerable:!0,get:function(){return D_r.log10Dependencies}});Object.defineProperty(ee,"log2Dependencies",{enumerable:!0,get:function(){return N_r.log2Dependencies}});Object.defineProperty(ee,"modDependencies",{enumerable:!0,get:function(){return C_r.modDependencies}});Object.defineProperty(ee,"multiplyScalarDependencies",{enumerable:!0,get:function(){return A_r.multiplyScalarDependencies}});Object.defineProperty(ee,"multiplyDependencies",{enumerable:!0,get:function(){return M_r.multiplyDependencies}});Object.defineProperty(ee,"nthRootDependencies",{enumerable:!0,get:function(){return P_r.nthRootDependencies}});Object.defineProperty(ee,"signDependencies",{enumerable:!0,get:function(){return E_r.signDependencies}});Object.defineProperty(ee,"sqrtDependencies",{enumerable:!0,get:function(){return q_r.sqrtDependencies}});Object.defineProperty(ee,"squareDependencies",{enumerable:!0,get:function(){return I_r.squareDependencies}});Object.defineProperty(ee,"subtractDependencies",{enumerable:!0,get:function(){return B_r.subtractDependencies}});Object.defineProperty(ee,"xgcdDependencies",{enumerable:!0,get:function(){return k_r.xgcdDependencies}});Object.defineProperty(ee,"dotMultiplyDependencies",{enumerable:!0,get:function(){return j_r.dotMultiplyDependencies}});Object.defineProperty(ee,"bitAndDependencies",{enumerable:!0,get:function(){return T_r.bitAndDependencies}});Object.defineProperty(ee,"bitNotDependencies",{enumerable:!0,get:function(){return R_r.bitNotDependencies}});Object.defineProperty(ee,"bitOrDependencies",{enumerable:!0,get:function(){return F_r.bitOrDependencies}});Object.defineProperty(ee,"bitXorDependencies",{enumerable:!0,get:function(){return L_r.bitXorDependencies}});Object.defineProperty(ee,"argDependencies",{enumerable:!0,get:function(){return U_r.argDependencies}});Object.defineProperty(ee,"conjDependencies",{enumerable:!0,get:function(){return z_r.conjDependencies}});Object.defineProperty(ee,"imDependencies",{enumerable:!0,get:function(){return J_r.imDependencies}});Object.defineProperty(ee,"reDependencies",{enumerable:!0,get:function(){return V_r.reDependencies}});Object.defineProperty(ee,"notDependencies",{enumerable:!0,get:function(){return G_r.notDependencies}});Object.defineProperty(ee,"orDependencies",{enumerable:!0,get:function(){return H_r.orDependencies}});Object.defineProperty(ee,"xorDependencies",{enumerable:!0,get:function(){return W_r.xorDependencies}});Object.defineProperty(ee,"concatDependencies",{enumerable:!0,get:function(){return $_r.concatDependencies}});Object.defineProperty(ee,"columnDependencies",{enumerable:!0,get:function(){return Q_r.columnDependencies}});Object.defineProperty(ee,"crossDependencies",{enumerable:!0,get:function(){return Y_r.crossDependencies}});Object.defineProperty(ee,"diagDependencies",{enumerable:!0,get:function(){return Z_r.diagDependencies}});Object.defineProperty(ee,"eyeDependencies",{enumerable:!0,get:function(){return X_r.eyeDependencies}});Object.defineProperty(ee,"filterDependencies",{enumerable:!0,get:function(){return K_r.filterDependencies}});Object.defineProperty(ee,"flattenDependencies",{enumerable:!0,get:function(){return e1r.flattenDependencies}});Object.defineProperty(ee,"forEachDependencies",{enumerable:!0,get:function(){return r1r.forEachDependencies}});Object.defineProperty(ee,"getMatrixDataTypeDependencies",{enumerable:!0,get:function(){return t1r.getMatrixDataTypeDependencies}});Object.defineProperty(ee,"identityDependencies",{enumerable:!0,get:function(){return n1r.identityDependencies}});Object.defineProperty(ee,"kronDependencies",{enumerable:!0,get:function(){return i1r.kronDependencies}});Object.defineProperty(ee,"mapDependencies",{enumerable:!0,get:function(){return a1r.mapDependencies}});Object.defineProperty(ee,"onesDependencies",{enumerable:!0,get:function(){return s1r.onesDependencies}});Object.defineProperty(ee,"rangeDependencies",{enumerable:!0,get:function(){return o1r.rangeDependencies}});Object.defineProperty(ee,"reshapeDependencies",{enumerable:!0,get:function(){return c1r.reshapeDependencies}});Object.defineProperty(ee,"resizeDependencies",{enumerable:!0,get:function(){return u1r.resizeDependencies}});Object.defineProperty(ee,"rowDependencies",{enumerable:!0,get:function(){return l1r.rowDependencies}});Object.defineProperty(ee,"sizeDependencies",{enumerable:!0,get:function(){return d1r.sizeDependencies}});Object.defineProperty(ee,"squeezeDependencies",{enumerable:!0,get:function(){return p1r.squeezeDependencies}});Object.defineProperty(ee,"subsetDependencies",{enumerable:!0,get:function(){return f1r.subsetDependencies}});Object.defineProperty(ee,"transposeDependencies",{enumerable:!0,get:function(){return h1r.transposeDependencies}});Object.defineProperty(ee,"ctransposeDependencies",{enumerable:!0,get:function(){return v1r.ctransposeDependencies}});Object.defineProperty(ee,"zerosDependencies",{enumerable:!0,get:function(){return m1r.zerosDependencies}});Object.defineProperty(ee,"erfDependencies",{enumerable:!0,get:function(){return y1r.erfDependencies}});Object.defineProperty(ee,"modeDependencies",{enumerable:!0,get:function(){return g1r.modeDependencies}});Object.defineProperty(ee,"prodDependencies",{enumerable:!0,get:function(){return b1r.prodDependencies}});Object.defineProperty(ee,"formatDependencies",{enumerable:!0,get:function(){return _1r.formatDependencies}});Object.defineProperty(ee,"printDependencies",{enumerable:!0,get:function(){return w1r.printDependencies}});Object.defineProperty(ee,"toDependencies",{enumerable:!0,get:function(){return S1r.toDependencies}});Object.defineProperty(ee,"isPrimeDependencies",{enumerable:!0,get:function(){return x1r.isPrimeDependencies}});Object.defineProperty(ee,"numericDependencies",{enumerable:!0,get:function(){return O1r.numericDependencies}});Object.defineProperty(ee,"divideScalarDependencies",{enumerable:!0,get:function(){return D1r.divideScalarDependencies}});Object.defineProperty(ee,"powDependencies",{enumerable:!0,get:function(){return N1r.powDependencies}});Object.defineProperty(ee,"roundDependencies",{enumerable:!0,get:function(){return C1r.roundDependencies}});Object.defineProperty(ee,"logDependencies",{enumerable:!0,get:function(){return A1r.logDependencies}});Object.defineProperty(ee,"log1pDependencies",{enumerable:!0,get:function(){return M1r.log1pDependencies}});Object.defineProperty(ee,"nthRootsDependencies",{enumerable:!0,get:function(){return P1r.nthRootsDependencies}});Object.defineProperty(ee,"dotPowDependencies",{enumerable:!0,get:function(){return E1r.dotPowDependencies}});Object.defineProperty(ee,"dotDivideDependencies",{enumerable:!0,get:function(){return q1r.dotDivideDependencies}});Object.defineProperty(ee,"lsolveDependencies",{enumerable:!0,get:function(){return I1r.lsolveDependencies}});Object.defineProperty(ee,"usolveDependencies",{enumerable:!0,get:function(){return B1r.usolveDependencies}});Object.defineProperty(ee,"leftShiftDependencies",{enumerable:!0,get:function(){return k1r.leftShiftDependencies}});Object.defineProperty(ee,"rightArithShiftDependencies",{enumerable:!0,get:function(){return j1r.rightArithShiftDependencies}});Object.defineProperty(ee,"rightLogShiftDependencies",{enumerable:!0,get:function(){return T1r.rightLogShiftDependencies}});Object.defineProperty(ee,"andDependencies",{enumerable:!0,get:function(){return R1r.andDependencies}});Object.defineProperty(ee,"compareDependencies",{enumerable:!0,get:function(){return F1r.compareDependencies}});Object.defineProperty(ee,"compareNaturalDependencies",{enumerable:!0,get:function(){return L1r.compareNaturalDependencies}});Object.defineProperty(ee,"compareTextDependencies",{enumerable:!0,get:function(){return U1r.compareTextDependencies}});Object.defineProperty(ee,"equalDependencies",{enumerable:!0,get:function(){return z1r.equalDependencies}});Object.defineProperty(ee,"equalTextDependencies",{enumerable:!0,get:function(){return J1r.equalTextDependencies}});Object.defineProperty(ee,"smallerDependencies",{enumerable:!0,get:function(){return V1r.smallerDependencies}});Object.defineProperty(ee,"smallerEqDependencies",{enumerable:!0,get:function(){return G1r.smallerEqDependencies}});Object.defineProperty(ee,"largerDependencies",{enumerable:!0,get:function(){return H1r.largerDependencies}});Object.defineProperty(ee,"largerEqDependencies",{enumerable:!0,get:function(){return W1r.largerEqDependencies}});Object.defineProperty(ee,"deepEqualDependencies",{enumerable:!0,get:function(){return $1r.deepEqualDependencies}});Object.defineProperty(ee,"unequalDependencies",{enumerable:!0,get:function(){return Q1r.unequalDependencies}});Object.defineProperty(ee,"partitionSelectDependencies",{enumerable:!0,get:function(){return Y1r.partitionSelectDependencies}});Object.defineProperty(ee,"sortDependencies",{enumerable:!0,get:function(){return Z1r.sortDependencies}});Object.defineProperty(ee,"maxDependencies",{enumerable:!0,get:function(){return X1r.maxDependencies}});Object.defineProperty(ee,"minDependencies",{enumerable:!0,get:function(){return K1r.minDependencies}});Object.defineProperty(ee,"ImmutableDenseMatrixDependencies",{enumerable:!0,get:function(){return ewr.ImmutableDenseMatrixDependencies}});Object.defineProperty(ee,"IndexDependencies",{enumerable:!0,get:function(){return rwr.IndexDependencies}});Object.defineProperty(ee,"FibonacciHeapDependencies",{enumerable:!0,get:function(){return twr.FibonacciHeapDependencies}});Object.defineProperty(ee,"SpaDependencies",{enumerable:!0,get:function(){return nwr.SpaDependencies}});Object.defineProperty(ee,"UnitDependencies",{enumerable:!0,get:function(){return iwr.UnitDependencies}});Object.defineProperty(ee,"unitDependencies",{enumerable:!0,get:function(){return awr.unitDependencies}});Object.defineProperty(ee,"sparseDependencies",{enumerable:!0,get:function(){return swr.sparseDependencies}});Object.defineProperty(ee,"createUnitDependencies",{enumerable:!0,get:function(){return owr.createUnitDependencies}});Object.defineProperty(ee,"acosDependencies",{enumerable:!0,get:function(){return cwr.acosDependencies}});Object.defineProperty(ee,"acoshDependencies",{enumerable:!0,get:function(){return uwr.acoshDependencies}});Object.defineProperty(ee,"acotDependencies",{enumerable:!0,get:function(){return lwr.acotDependencies}});Object.defineProperty(ee,"acothDependencies",{enumerable:!0,get:function(){return dwr.acothDependencies}});Object.defineProperty(ee,"acscDependencies",{enumerable:!0,get:function(){return pwr.acscDependencies}});Object.defineProperty(ee,"acschDependencies",{enumerable:!0,get:function(){return fwr.acschDependencies}});Object.defineProperty(ee,"asecDependencies",{enumerable:!0,get:function(){return hwr.asecDependencies}});Object.defineProperty(ee,"asechDependencies",{enumerable:!0,get:function(){return vwr.asechDependencies}});Object.defineProperty(ee,"asinDependencies",{enumerable:!0,get:function(){return mwr.asinDependencies}});Object.defineProperty(ee,"asinhDependencies",{enumerable:!0,get:function(){return ywr.asinhDependencies}});Object.defineProperty(ee,"atanDependencies",{enumerable:!0,get:function(){return gwr.atanDependencies}});Object.defineProperty(ee,"atan2Dependencies",{enumerable:!0,get:function(){return bwr.atan2Dependencies}});Object.defineProperty(ee,"atanhDependencies",{enumerable:!0,get:function(){return _wr.atanhDependencies}});Object.defineProperty(ee,"cosDependencies",{enumerable:!0,get:function(){return wwr.cosDependencies}});Object.defineProperty(ee,"coshDependencies",{enumerable:!0,get:function(){return Swr.coshDependencies}});Object.defineProperty(ee,"cotDependencies",{enumerable:!0,get:function(){return xwr.cotDependencies}});Object.defineProperty(ee,"cothDependencies",{enumerable:!0,get:function(){return Owr.cothDependencies}});Object.defineProperty(ee,"cscDependencies",{enumerable:!0,get:function(){return Dwr.cscDependencies}});Object.defineProperty(ee,"cschDependencies",{enumerable:!0,get:function(){return Nwr.cschDependencies}});Object.defineProperty(ee,"secDependencies",{enumerable:!0,get:function(){return Cwr.secDependencies}});Object.defineProperty(ee,"sechDependencies",{enumerable:!0,get:function(){return Awr.sechDependencies}});Object.defineProperty(ee,"sinDependencies",{enumerable:!0,get:function(){return Mwr.sinDependencies}});Object.defineProperty(ee,"sinhDependencies",{enumerable:!0,get:function(){return Pwr.sinhDependencies}});Object.defineProperty(ee,"tanDependencies",{enumerable:!0,get:function(){return Ewr.tanDependencies}});Object.defineProperty(ee,"tanhDependencies",{enumerable:!0,get:function(){return qwr.tanhDependencies}});Object.defineProperty(ee,"setCartesianDependencies",{enumerable:!0,get:function(){return Iwr.setCartesianDependencies}});Object.defineProperty(ee,"setDifferenceDependencies",{enumerable:!0,get:function(){return Bwr.setDifferenceDependencies}});Object.defineProperty(ee,"setDistinctDependencies",{enumerable:!0,get:function(){return kwr.setDistinctDependencies}});Object.defineProperty(ee,"setIntersectDependencies",{enumerable:!0,get:function(){return jwr.setIntersectDependencies}});Object.defineProperty(ee,"setIsSubsetDependencies",{enumerable:!0,get:function(){return Twr.setIsSubsetDependencies}});Object.defineProperty(ee,"setMultiplicityDependencies",{enumerable:!0,get:function(){return Rwr.setMultiplicityDependencies}});Object.defineProperty(ee,"setPowersetDependencies",{enumerable:!0,get:function(){return Fwr.setPowersetDependencies}});Object.defineProperty(ee,"setSizeDependencies",{enumerable:!0,get:function(){return Lwr.setSizeDependencies}});Object.defineProperty(ee,"setSymDifferenceDependencies",{enumerable:!0,get:function(){return Uwr.setSymDifferenceDependencies}});Object.defineProperty(ee,"setUnionDependencies",{enumerable:!0,get:function(){return zwr.setUnionDependencies}});Object.defineProperty(ee,"addDependencies",{enumerable:!0,get:function(){return Jwr.addDependencies}});Object.defineProperty(ee,"hypotDependencies",{enumerable:!0,get:function(){return Vwr.hypotDependencies}});Object.defineProperty(ee,"normDependencies",{enumerable:!0,get:function(){return Gwr.normDependencies}});Object.defineProperty(ee,"dotDependencies",{enumerable:!0,get:function(){return Hwr.dotDependencies}});Object.defineProperty(ee,"traceDependencies",{enumerable:!0,get:function(){return Wwr.traceDependencies}});Object.defineProperty(ee,"indexDependencies",{enumerable:!0,get:function(){return $wr.indexDependencies}});Object.defineProperty(ee,"NodeDependencies",{enumerable:!0,get:function(){return Qwr.NodeDependencies}});Object.defineProperty(ee,"AccessorNodeDependencies",{enumerable:!0,get:function(){return Ywr.AccessorNodeDependencies}});Object.defineProperty(ee,"ArrayNodeDependencies",{enumerable:!0,get:function(){return Zwr.ArrayNodeDependencies}});Object.defineProperty(ee,"AssignmentNodeDependencies",{enumerable:!0,get:function(){return Xwr.AssignmentNodeDependencies}});Object.defineProperty(ee,"BlockNodeDependencies",{enumerable:!0,get:function(){return Kwr.BlockNodeDependencies}});Object.defineProperty(ee,"ConditionalNodeDependencies",{enumerable:!0,get:function(){return eSr.ConditionalNodeDependencies}});Object.defineProperty(ee,"ConstantNodeDependencies",{enumerable:!0,get:function(){return rSr.ConstantNodeDependencies}});Object.defineProperty(ee,"FunctionAssignmentNodeDependencies",{enumerable:!0,get:function(){return tSr.FunctionAssignmentNodeDependencies}});Object.defineProperty(ee,"IndexNodeDependencies",{enumerable:!0,get:function(){return nSr.IndexNodeDependencies}});Object.defineProperty(ee,"ObjectNodeDependencies",{enumerable:!0,get:function(){return iSr.ObjectNodeDependencies}});Object.defineProperty(ee,"OperatorNodeDependencies",{enumerable:!0,get:function(){return aSr.OperatorNodeDependencies}});Object.defineProperty(ee,"ParenthesisNodeDependencies",{enumerable:!0,get:function(){return sSr.ParenthesisNodeDependencies}});Object.defineProperty(ee,"RangeNodeDependencies",{enumerable:!0,get:function(){return oSr.RangeNodeDependencies}});Object.defineProperty(ee,"RelationalNodeDependencies",{enumerable:!0,get:function(){return cSr.RelationalNodeDependencies}});Object.defineProperty(ee,"SymbolNodeDependencies",{enumerable:!0,get:function(){return uSr.SymbolNodeDependencies}});Object.defineProperty(ee,"FunctionNodeDependencies",{enumerable:!0,get:function(){return lSr.FunctionNodeDependencies}});Object.defineProperty(ee,"parseDependencies",{enumerable:!0,get:function(){return dSr.parseDependencies}});Object.defineProperty(ee,"compileDependencies",{enumerable:!0,get:function(){return pSr.compileDependencies}});Object.defineProperty(ee,"evaluateDependencies",{enumerable:!0,get:function(){return fSr.evaluateDependencies}});Object.defineProperty(ee,"evalDependencies",{enumerable:!0,get:function(){return hSr.evalDependencies}});Object.defineProperty(ee,"ParserDependencies",{enumerable:!0,get:function(){return vSr.ParserDependencies}});Object.defineProperty(ee,"parserDependencies",{enumerable:!0,get:function(){return mSr.parserDependencies}});Object.defineProperty(ee,"lupDependencies",{enumerable:!0,get:function(){return ySr.lupDependencies}});Object.defineProperty(ee,"qrDependencies",{enumerable:!0,get:function(){return gSr.qrDependencies}});Object.defineProperty(ee,"sluDependencies",{enumerable:!0,get:function(){return bSr.sluDependencies}});Object.defineProperty(ee,"lusolveDependencies",{enumerable:!0,get:function(){return _Sr.lusolveDependencies}});Object.defineProperty(ee,"HelpDependencies",{enumerable:!0,get:function(){return wSr.HelpDependencies}});Object.defineProperty(ee,"ChainDependencies",{enumerable:!0,get:function(){return SSr.ChainDependencies}});Object.defineProperty(ee,"helpDependencies",{enumerable:!0,get:function(){return xSr.helpDependencies}});Object.defineProperty(ee,"chainDependencies",{enumerable:!0,get:function(){return OSr.chainDependencies}});Object.defineProperty(ee,"detDependencies",{enumerable:!0,get:function(){return DSr.detDependencies}});Object.defineProperty(ee,"invDependencies",{enumerable:!0,get:function(){return NSr.invDependencies}});Object.defineProperty(ee,"eigsDependencies",{enumerable:!0,get:function(){return CSr.eigsDependencies}});Object.defineProperty(ee,"expmDependencies",{enumerable:!0,get:function(){return ASr.expmDependencies}});Object.defineProperty(ee,"sqrtmDependencies",{enumerable:!0,get:function(){return MSr.sqrtmDependencies}});Object.defineProperty(ee,"divideDependencies",{enumerable:!0,get:function(){return PSr.divideDependencies}});Object.defineProperty(ee,"distanceDependencies",{enumerable:!0,get:function(){return ESr.distanceDependencies}});Object.defineProperty(ee,"intersectDependencies",{enumerable:!0,get:function(){return qSr.intersectDependencies}});Object.defineProperty(ee,"sumDependencies",{enumerable:!0,get:function(){return ISr.sumDependencies}});Object.defineProperty(ee,"meanDependencies",{enumerable:!0,get:function(){return BSr.meanDependencies}});Object.defineProperty(ee,"medianDependencies",{enumerable:!0,get:function(){return kSr.medianDependencies}});Object.defineProperty(ee,"madDependencies",{enumerable:!0,get:function(){return jSr.madDependencies}});Object.defineProperty(ee,"varianceDependencies",{enumerable:!0,get:function(){return TSr.varianceDependencies}});Object.defineProperty(ee,"varDependencies",{enumerable:!0,get:function(){return RSr.varDependencies}});Object.defineProperty(ee,"quantileSeqDependencies",{enumerable:!0,get:function(){return FSr.quantileSeqDependencies}});Object.defineProperty(ee,"stdDependencies",{enumerable:!0,get:function(){return LSr.stdDependencies}});Object.defineProperty(ee,"combinationsDependencies",{enumerable:!0,get:function(){return USr.combinationsDependencies}});Object.defineProperty(ee,"combinationsWithRepDependencies",{enumerable:!0,get:function(){return zSr.combinationsWithRepDependencies}});Object.defineProperty(ee,"gammaDependencies",{enumerable:!0,get:function(){return JSr.gammaDependencies}});Object.defineProperty(ee,"factorialDependencies",{enumerable:!0,get:function(){return VSr.factorialDependencies}});Object.defineProperty(ee,"kldivergenceDependencies",{enumerable:!0,get:function(){return GSr.kldivergenceDependencies}});Object.defineProperty(ee,"multinomialDependencies",{enumerable:!0,get:function(){return HSr.multinomialDependencies}});Object.defineProperty(ee,"permutationsDependencies",{enumerable:!0,get:function(){return WSr.permutationsDependencies}});Object.defineProperty(ee,"pickRandomDependencies",{enumerable:!0,get:function(){return $Sr.pickRandomDependencies}});Object.defineProperty(ee,"randomDependencies",{enumerable:!0,get:function(){return QSr.randomDependencies}});Object.defineProperty(ee,"randomIntDependencies",{enumerable:!0,get:function(){return YSr.randomIntDependencies}});Object.defineProperty(ee,"stirlingS2Dependencies",{enumerable:!0,get:function(){return ZSr.stirlingS2Dependencies}});Object.defineProperty(ee,"bellNumbersDependencies",{enumerable:!0,get:function(){return XSr.bellNumbersDependencies}});Object.defineProperty(ee,"catalanDependencies",{enumerable:!0,get:function(){return KSr.catalanDependencies}});Object.defineProperty(ee,"compositionDependencies",{enumerable:!0,get:function(){return exr.compositionDependencies}});Object.defineProperty(ee,"simplifyDependencies",{enumerable:!0,get:function(){return rxr.simplifyDependencies}});Object.defineProperty(ee,"derivativeDependencies",{enumerable:!0,get:function(){return txr.derivativeDependencies}});Object.defineProperty(ee,"rationalizeDependencies",{enumerable:!0,get:function(){return nxr.rationalizeDependencies}});Object.defineProperty(ee,"reviverDependencies",{enumerable:!0,get:function(){return ixr.reviverDependencies}});Object.defineProperty(ee,"replacerDependencies",{enumerable:!0,get:function(){return axr.replacerDependencies}});Object.defineProperty(ee,"eDependencies",{enumerable:!0,get:function(){return sxr.eDependencies}});Object.defineProperty(ee,"EDependencies",{enumerable:!0,get:function(){return oxr.EDependencies}});Object.defineProperty(ee,"falseDependencies",{enumerable:!0,get:function(){return cxr.falseDependencies}});Object.defineProperty(ee,"iDependencies",{enumerable:!0,get:function(){return uxr.iDependencies}});Object.defineProperty(ee,"InfinityDependencies",{enumerable:!0,get:function(){return lxr.InfinityDependencies}});Object.defineProperty(ee,"LN10Dependencies",{enumerable:!0,get:function(){return dxr.LN10Dependencies}});Object.defineProperty(ee,"LN2Dependencies",{enumerable:!0,get:function(){return pxr.LN2Dependencies}});Object.defineProperty(ee,"LOG10EDependencies",{enumerable:!0,get:function(){return fxr.LOG10EDependencies}});Object.defineProperty(ee,"LOG2EDependencies",{enumerable:!0,get:function(){return hxr.LOG2EDependencies}});Object.defineProperty(ee,"NaNDependencies",{enumerable:!0,get:function(){return vxr.NaNDependencies}});Object.defineProperty(ee,"nullDependencies",{enumerable:!0,get:function(){return mxr.nullDependencies}});Object.defineProperty(ee,"phiDependencies",{enumerable:!0,get:function(){return yxr.phiDependencies}});Object.defineProperty(ee,"piDependencies",{enumerable:!0,get:function(){return gxr.piDependencies}});Object.defineProperty(ee,"PIDependencies",{enumerable:!0,get:function(){return bxr.PIDependencies}});Object.defineProperty(ee,"SQRT1_2Dependencies",{enumerable:!0,get:function(){return _xr.SQRT1_2Dependencies}});Object.defineProperty(ee,"SQRT2Dependencies",{enumerable:!0,get:function(){return wxr.SQRT2Dependencies}});Object.defineProperty(ee,"tauDependencies",{enumerable:!0,get:function(){return Sxr.tauDependencies}});Object.defineProperty(ee,"trueDependencies",{enumerable:!0,get:function(){return xxr.trueDependencies}});Object.defineProperty(ee,"versionDependencies",{enumerable:!0,get:function(){return Oxr.versionDependencies}});Object.defineProperty(ee,"atomicMassDependencies",{enumerable:!0,get:function(){return Dxr.atomicMassDependencies}});Object.defineProperty(ee,"avogadroDependencies",{enumerable:!0,get:function(){return Nxr.avogadroDependencies}});Object.defineProperty(ee,"bohrMagnetonDependencies",{enumerable:!0,get:function(){return Cxr.bohrMagnetonDependencies}});Object.defineProperty(ee,"bohrRadiusDependencies",{enumerable:!0,get:function(){return Axr.bohrRadiusDependencies}});Object.defineProperty(ee,"boltzmannDependencies",{enumerable:!0,get:function(){return Mxr.boltzmannDependencies}});Object.defineProperty(ee,"classicalElectronRadiusDependencies",{enumerable:!0,get:function(){return Pxr.classicalElectronRadiusDependencies}});Object.defineProperty(ee,"conductanceQuantumDependencies",{enumerable:!0,get:function(){return Exr.conductanceQuantumDependencies}});Object.defineProperty(ee,"coulombDependencies",{enumerable:!0,get:function(){return qxr.coulombDependencies}});Object.defineProperty(ee,"deuteronMassDependencies",{enumerable:!0,get:function(){return Ixr.deuteronMassDependencies}});Object.defineProperty(ee,"efimovFactorDependencies",{enumerable:!0,get:function(){return Bxr.efimovFactorDependencies}});Object.defineProperty(ee,"electricConstantDependencies",{enumerable:!0,get:function(){return kxr.electricConstantDependencies}});Object.defineProperty(ee,"electronMassDependencies",{enumerable:!0,get:function(){return jxr.electronMassDependencies}});Object.defineProperty(ee,"elementaryChargeDependencies",{enumerable:!0,get:function(){return Txr.elementaryChargeDependencies}});Object.defineProperty(ee,"faradayDependencies",{enumerable:!0,get:function(){return Rxr.faradayDependencies}});Object.defineProperty(ee,"fermiCouplingDependencies",{enumerable:!0,get:function(){return Fxr.fermiCouplingDependencies}});Object.defineProperty(ee,"fineStructureDependencies",{enumerable:!0,get:function(){return Lxr.fineStructureDependencies}});Object.defineProperty(ee,"firstRadiationDependencies",{enumerable:!0,get:function(){return Uxr.firstRadiationDependencies}});Object.defineProperty(ee,"gasConstantDependencies",{enumerable:!0,get:function(){return zxr.gasConstantDependencies}});Object.defineProperty(ee,"gravitationConstantDependencies",{enumerable:!0,get:function(){return Jxr.gravitationConstantDependencies}});Object.defineProperty(ee,"gravityDependencies",{enumerable:!0,get:function(){return Vxr.gravityDependencies}});Object.defineProperty(ee,"hartreeEnergyDependencies",{enumerable:!0,get:function(){return Gxr.hartreeEnergyDependencies}});Object.defineProperty(ee,"inverseConductanceQuantumDependencies",{enumerable:!0,get:function(){return Hxr.inverseConductanceQuantumDependencies}});Object.defineProperty(ee,"klitzingDependencies",{enumerable:!0,get:function(){return Wxr.klitzingDependencies}});Object.defineProperty(ee,"loschmidtDependencies",{enumerable:!0,get:function(){return $xr.loschmidtDependencies}});Object.defineProperty(ee,"magneticConstantDependencies",{enumerable:!0,get:function(){return Qxr.magneticConstantDependencies}});Object.defineProperty(ee,"magneticFluxQuantumDependencies",{enumerable:!0,get:function(){return Yxr.magneticFluxQuantumDependencies}});Object.defineProperty(ee,"molarMassDependencies",{enumerable:!0,get:function(){return Zxr.molarMassDependencies}});Object.defineProperty(ee,"molarMassC12Dependencies",{enumerable:!0,get:function(){return Xxr.molarMassC12Dependencies}});Object.defineProperty(ee,"molarPlanckConstantDependencies",{enumerable:!0,get:function(){return Kxr.molarPlanckConstantDependencies}});Object.defineProperty(ee,"molarVolumeDependencies",{enumerable:!0,get:function(){return eOr.molarVolumeDependencies}});Object.defineProperty(ee,"neutronMassDependencies",{enumerable:!0,get:function(){return rOr.neutronMassDependencies}});Object.defineProperty(ee,"nuclearMagnetonDependencies",{enumerable:!0,get:function(){return tOr.nuclearMagnetonDependencies}});Object.defineProperty(ee,"planckChargeDependencies",{enumerable:!0,get:function(){return nOr.planckChargeDependencies}});Object.defineProperty(ee,"planckConstantDependencies",{enumerable:!0,get:function(){return iOr.planckConstantDependencies}});Object.defineProperty(ee,"planckLengthDependencies",{enumerable:!0,get:function(){return aOr.planckLengthDependencies}});Object.defineProperty(ee,"planckMassDependencies",{enumerable:!0,get:function(){return sOr.planckMassDependencies}});Object.defineProperty(ee,"planckTemperatureDependencies",{enumerable:!0,get:function(){return oOr.planckTemperatureDependencies}});Object.defineProperty(ee,"planckTimeDependencies",{enumerable:!0,get:function(){return cOr.planckTimeDependencies}});Object.defineProperty(ee,"protonMassDependencies",{enumerable:!0,get:function(){return uOr.protonMassDependencies}});Object.defineProperty(ee,"quantumOfCirculationDependencies",{enumerable:!0,get:function(){return lOr.quantumOfCirculationDependencies}});Object.defineProperty(ee,"reducedPlanckConstantDependencies",{enumerable:!0,get:function(){return dOr.reducedPlanckConstantDependencies}});Object.defineProperty(ee,"rydbergDependencies",{enumerable:!0,get:function(){return pOr.rydbergDependencies}});Object.defineProperty(ee,"sackurTetrodeDependencies",{enumerable:!0,get:function(){return fOr.sackurTetrodeDependencies}});Object.defineProperty(ee,"secondRadiationDependencies",{enumerable:!0,get:function(){return hOr.secondRadiationDependencies}});Object.defineProperty(ee,"speedOfLightDependencies",{enumerable:!0,get:function(){return vOr.speedOfLightDependencies}});Object.defineProperty(ee,"stefanBoltzmannDependencies",{enumerable:!0,get:function(){return mOr.stefanBoltzmannDependencies}});Object.defineProperty(ee,"thomsonCrossSectionDependencies",{enumerable:!0,get:function(){return yOr.thomsonCrossSectionDependencies}});Object.defineProperty(ee,"vacuumImpedanceDependencies",{enumerable:!0,get:function(){return gOr.vacuumImpedanceDependencies}});Object.defineProperty(ee,"weakMixingAngleDependencies",{enumerable:!0,get:function(){return bOr.weakMixingAngleDependencies}});Object.defineProperty(ee,"wienDisplacementDependencies",{enumerable:!0,get:function(){return _Or.wienDisplacementDependencies}});Object.defineProperty(ee,"applyTransformDependencies",{enumerable:!0,get:function(){return wOr.applyTransformDependencies}});Object.defineProperty(ee,"columnTransformDependencies",{enumerable:!0,get:function(){return SOr.columnTransformDependencies}});Object.defineProperty(ee,"filterTransformDependencies",{enumerable:!0,get:function(){return xOr.filterTransformDependencies}});Object.defineProperty(ee,"forEachTransformDependencies",{enumerable:!0,get:function(){return OOr.forEachTransformDependencies}});Object.defineProperty(ee,"indexTransformDependencies",{enumerable:!0,get:function(){return DOr.indexTransformDependencies}});Object.defineProperty(ee,"mapTransformDependencies",{enumerable:!0,get:function(){return NOr.mapTransformDependencies}});Object.defineProperty(ee,"maxTransformDependencies",{enumerable:!0,get:function(){return COr.maxTransformDependencies}});Object.defineProperty(ee,"meanTransformDependencies",{enumerable:!0,get:function(){return AOr.meanTransformDependencies}});Object.defineProperty(ee,"minTransformDependencies",{enumerable:!0,get:function(){return MOr.minTransformDependencies}});Object.defineProperty(ee,"rangeTransformDependencies",{enumerable:!0,get:function(){return POr.rangeTransformDependencies}});Object.defineProperty(ee,"rowTransformDependencies",{enumerable:!0,get:function(){return EOr.rowTransformDependencies}});Object.defineProperty(ee,"subsetTransformDependencies",{enumerable:!0,get:function(){return qOr.subsetTransformDependencies}});Object.defineProperty(ee,"concatTransformDependencies",{enumerable:!0,get:function(){return IOr.concatTransformDependencies}});Object.defineProperty(ee,"stdTransformDependencies",{enumerable:!0,get:function(){return BOr.stdTransformDependencies}});Object.defineProperty(ee,"sumTransformDependencies",{enumerable:!0,get:function(){return kOr.sumTransformDependencies}});Object.defineProperty(ee,"varianceTransformDependencies",{enumerable:!0,get:function(){return jOr.varianceTransformDependencies}});Object.defineProperty(ee,"all",{enumerable:!0,get:function(){return TOr.all}});var T0r=_e(),R0r=PM(),F0r=Je(),L0r=rt(),U0r=ja(),z0r=EM(),J0r=$u(),V0r=Mr(),G0r=oH(),H0r=zn(),W0r=$s(),$0r=Qs(),Q0r=cH(),Y0r=Qu(),Z0r=Ys(),X0r=yc(),K0r=uH(),e_r=lH(),r_r=zr(),t_r=ia(),n_r=Yu(),i_r=dH(),a_r=pH(),s_r=Di(),o_r=f1(),c_r=Ta(),u_r=Ye(),l_r=fH(),d_r=aa(),p_r=hH(),f_r=xn(),h_r=w1(),v_r=Pt(),m_r=vH(),y_r=qM(),g_r=mH(),b_r=yH(),__r=gH(),w_r=BM(),S_r=IM(),x_r=bH(),O_r=_H(),D_r=wH(),N_r=SH(),C_r=xH(),A_r=Tt(),M_r=dt(),P_r=OH(),E_r=kM(),q_r=sa(),I_r=DH(),B_r=bt(),k_r=NH(),j_r=CH(),T_r=AH(),R_r=MH(),F_r=PH(),L_r=EH(),U_r=qH(),z_r=Xu(),J_r=IH(),V_r=BH(),G_r=jM(),H_r=kH(),W_r=jH(),$_r=iw(),Q_r=TH(),Y_r=RH(),Z_r=FH(),X_r=LH(),K_r=UH(),e1r=zH(),r1r=JH(),t1r=VH(),n1r=Zs(),i1r=GH(),a1r=RM(),s1r=HH(),o1r=gc(),c1r=WH(),u1r=$H(),l1r=QH(),d1r=Tn(),p1r=YH(),f1r=Rn(),h1r=qw(),v1r=ZH(),m1r=Ra(),y1r=XH(),g1r=KH(),b1r=eW(),_1r=FM(),w1r=rW(),S1r=tW(),x1r=nW(),O1r=el(),D1r=Ot(),N1r=oa(),C1r=Zu(),A1r=Gw(),M1r=iW(),P1r=aW(),E1r=sW(),q1r=LM(),I1r=UM(),B1r=zM(),k1r=oW(),j1r=cW(),T1r=uW(),R1r=lW(),F1r=Xs(),L1r=ii(),U1r=JM(),z1r=ca(),J1r=dW(),V1r=ni(),G1r=dw(),H1r=Jn(),W1r=Ku(),$1r=pW(),Q1r=fW(),Y1r=lS(),Z1r=hW(),X1r=VM(),K1r=vW(),ewr=TM(),rwr=Rt(),twr=GM(),nwr=HM(),iwr=or(),awr=mW(),swr=yW(),owr=gW(),cwr=bW(),uwr=_W(),lwr=wW(),dwr=SW(),pwr=xW(),fwr=OW(),hwr=DW(),vwr=NW(),mwr=CW(),ywr=AW(),gwr=WM(),bwr=MW(),_wr=PW(),wwr=$M(),Swr=EW(),xwr=qW(),Owr=IW(),Dwr=BW(),Nwr=kW(),Cwr=jW(),Awr=TW(),Mwr=QM(),Pwr=RW(),Ewr=FW(),qwr=LW(),Iwr=UW(),Bwr=YM(),kwr=zW(),jwr=ZM(),Twr=JW(),Rwr=VW(),Fwr=GW(),Lwr=HW(),Uwr=XM(),zwr=WW(),Jwr=gt(),Vwr=$W(),Gwr=QW(),Hwr=YW(),Wwr=ZW(),$wr=XW(),Qwr=Ft(),Ywr=KM(),Zwr=eP(),Xwr=rP(),Kwr=tP(),eSr=nP(),rSr=bc(),tSr=iP(),nSr=aP(),iSr=sP(),aSr=_c(),sSr=wc(),oSr=oP(),cSr=cP(),uSr=Ks(),lSr=Sc(),dSr=ua(),pSr=KW(),fSr=uP(),hSr=e$(),vSr=lP(),mSr=r$(),ySr=Px(),gSr=t$(),bSr=dP(),_Sr=n$(),wSr=pP(),SSr=fP(),xSr=i$(),OSr=a$(),DSr=hP(),NSr=xc(),CSr=s$(),ASr=o$(),MSr=c$(),PSr=ai(),ESr=u$(),qSr=l$(),ISr=vP(),BSr=d$(),kSr=mP(),jSr=p$(),TSr=rl(),RSr=f$(),FSr=h$(),LSr=v$(),USr=tl(),zSr=m$(),JSr=yP(),VSr=nl(),GSr=y$(),HSr=g$(),WSr=b$(),$Sr=_$(),QSr=w$(),YSr=S$(),ZSr=gP(),XSr=x$(),KSr=O$(),exr=D$(),rxr=vO(),txr=N$(),nxr=C$(),ixr=A$(),axr=M$(),sxr=bP(),oxr=P$(),cxr=E$(),uxr=q$(),lxr=I$(),dxr=B$(),pxr=k$(),fxr=j$(),hxr=T$(),vxr=R$(),mxr=F$(),yxr=L$(),gxr=_P(),bxr=U$(),_xr=z$(),wxr=J$(),Sxr=V$(),xxr=G$(),Oxr=H$(),Dxr=W$(),Nxr=$$(),Cxr=Q$(),Axr=Y$(),Mxr=Z$(),Pxr=X$(),Exr=K$(),qxr=eQ(),Ixr=rQ(),Bxr=tQ(),kxr=nQ(),jxr=iQ(),Txr=aQ(),Rxr=sQ(),Fxr=oQ(),Lxr=cQ(),Uxr=uQ(),zxr=lQ(),Jxr=dQ(),Vxr=pQ(),Gxr=fQ(),Hxr=hQ(),Wxr=vQ(),$xr=mQ(),Qxr=yQ(),Yxr=gQ(),Zxr=bQ(),Xxr=_Q(),Kxr=wQ(),eOr=SQ(),rOr=xQ(),tOr=OQ(),nOr=DQ(),iOr=NQ(),aOr=CQ(),sOr=AQ(),oOr=MQ(),cOr=PQ(),uOr=EQ(),lOr=qQ(),dOr=IQ(),pOr=BQ(),fOr=kQ(),hOr=jQ(),vOr=TQ(),mOr=RQ(),yOr=FQ(),gOr=LQ(),bOr=UQ(),_Or=zQ(),wOr=JQ(),SOr=VQ(),xOr=GQ(),OOr=HQ(),DOr=WQ(),NOr=$Q(),COr=QQ(),AOr=YQ(),MOr=ZQ(),POr=XQ(),EOr=KQ(),qOr=eY(),IOr=rY(),BOr=tY(),kOr=nY(),jOr=iY(),TOr=sY()});var cY=D(()=>{"use strict";Number.isFinite=Number.isFinite||function(e){return typeof e=="number"&&isFinite(e)};Number.isNaN=Number.isNaN||function(e){return e!==e}});var uY=D((Dtt,SP)=>{function wP(){}wP.prototype={on:function(e,r,t){var n=this.e||(this.e={});return(n[e]||(n[e]=[])).push({fn:r,ctx:t}),this},once:function(e,r,t){var n=this;function i(){n.off(e,i),r.apply(t,arguments)}return i._=r,this.on(e,i,t)},emit:function(e){var r=[].slice.call(arguments,1),t=((this.e||(this.e={}))[e]||[]).slice(),n=0,i=t.length;for(n;n<i;n++)t[n].fn.apply(t[n].ctx,r);return this},off:function(e,r){var t=this.e||(this.e={}),n=t[e],i=[];if(n&&r)for(var c=0,u=n.length;c<u;c++)n[c].fn!==r&&n[c].fn._!==r&&i.push(n[c]);return i.length?t[e]=i:delete t[e],this}};SP.exports=wP;SP.exports.TinyEmitter=wP});var lY=D(xP=>{"use strict";Object.defineProperty(xP,"__esModule",{value:!0});xP.mixin=LOr;var ROr=FOr(uY());function FOr(e){return e&&e.__esModule?e:{default:e}}function LOr(e){var r=new ROr.default;return e.on=r.on.bind(r),e.off=r.off.bind(r),e.once=r.once.bind(r),e.emit=r.emit.bind(r),e}});var pY=D(OP=>{"use strict";Object.defineProperty(OP,"__esModule",{value:!0});OP.importFactory=VOr;var il=He(),KD=oe(),hn=yr(),dY=er(),UOr=Fo(),zOr=Ji();function JOr(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function al(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?al=function(t){return typeof t}:al=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},al(e)}function VOr(e,r,t,n){function i(b,_){var S=arguments.length;if(S!==1&&S!==2)throw new UOr.ArgumentsError("import",S,1,2);_||(_={});function w(M,I,q){if((0,hn.isLegacyFactory)(I))o(I,_);else if(Array.isArray(I))I.forEach(function(j){return w(M,j)});else if(al(I)==="object")for(var z in I)(0,hn.hasOwnProperty)(I,z)&&w(M,I[z],z);else if((0,KD.isFactory)(I)||q!==void 0){var R=(0,KD.isFactory)(I)?y(I)?I.fn+".transform":I.fn:q;if((0,hn.hasOwnProperty)(M,R)&&M[R]!==I&&!_.silent)throw new Error('Cannot import "'+R+'" twice');M[R]=I}else if(!_.silent)throw new TypeError("Factory, Object, or Array expected")}var O={};w(O,b);for(var x in O)if((0,hn.hasOwnProperty)(O,x)){var N=O[x];if((0,KD.isFactory)(N))l(N,_);else if(d(N))c(x,N,_);else if(!_.silent)throw new TypeError("Factory, Object, or Array expected")}}function c(b,_,S){if(S.wrap&&typeof _=="function"&&(_=s(_)),f(_)&&(_=e(b,JOr({},_.signature,_))),p(t[b])&&p(_)){S.override?_=e(b,_.signatures):_=e(t[b],_),t[b]=_,delete n[b],u(b,_),t.emit("import",b,function(){return _});return}if(t[b]===void 0||S.override){t[b]=_,delete n[b],u(b,_),t.emit("import",b,function(){return _});return}if(!S.silent)throw new Error('Cannot import "'+b+'": already exists')}function u(b,_){_&&typeof _.transform=="function"?(t.expression.transform[b]=_.transform,v(b)&&(t.expression.mathWithTransform[b]=_.transform)):(delete t.expression.transform[b],v(b)&&(t.expression.mathWithTransform[b]=_))}function a(b){delete t.expression.transform[b],v(b)?t.expression.mathWithTransform[b]=t[b]:delete t.expression.mathWithTransform[b]}function s(b){var _=function(){for(var w=[],O=0,x=arguments.length;O<x;O++){var N=arguments[O];w[O]=N&&N.valueOf()}return b.apply(t,w)};return b.transform&&(_.transform=b.transform),_}function o(b,_){if((0,zOr.warnOnce)("Factories of type { name, factory } are deprecated since v6. Please create your factory functions using the math.factory function."),typeof b.name=="string"){var S=b.name,w=S in t.expression.transform,O=b.path?(0,hn.traverse)(t,b.path):t,x=(0,hn.hasOwnProperty)(O,S)?O[S]:void 0,N=function(){var q=r(b);if(q&&typeof q.transform=="function")throw new Error('Transforms cannot be attached to factory functions. Please create a separate function for it with exports.path="expression.transform"');if(p(x)&&p(q))return _.override||(q=e(x,q)),q;if(x===void 0||_.override)return q;if(_.silent)return x;throw new Error('Cannot import "'+S+'": already exists')};b.lazy!==!1?((0,hn.lazy)(O,S,N),w?a(S):(b.path==="expression.transform"||h(b))&&(0,hn.lazy)(t.expression.mathWithTransform,S,N)):(O[S]=N(),w?a(S):(b.path==="expression.transform"||h(b))&&(t.expression.mathWithTransform[S]=N()));var M=b.path?b.path+"."+b.name:b.name;n[M]=b,t.emit("import",S,N,b.path)}else r(b)}function l(b,_){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:b.fn;if((0,dY.contains)(S,"."))throw new Error("Factory name should not contain a nested path. Name: "+JSON.stringify(S));var w=y(b)?t.expression.transform:t,O=S in t.expression.transform,x=(0,hn.hasOwnProperty)(w,S)?w[S]:void 0,N=function(){var I={};b.dependencies.map(KD.stripOptionalNotation).forEach(function(z){if((0,dY.contains)(z,"."))throw new Error("Factory dependency should not contain a nested path. Name: "+JSON.stringify(z));z==="math"?I.math=t:z==="mathWithTransform"?I.mathWithTransform=t.expression.mathWithTransform:z==="classes"?I.classes=t:I[z]=t[z]});var q=b(I);if(q&&typeof q.transform=="function")throw new Error('Transforms cannot be attached to factory functions. Please create a separate function for it with exports.path="expression.transform"');if(x===void 0||_.override)return q;if(p(x)&&p(q))return e(x,q);if(_.silent)return x;throw new Error('Cannot import "'+S+'": already exists')};!b.meta||b.meta.lazy!==!1?((0,hn.lazy)(w,S,N),x&&O?a(S):(y(b)||m(b))&&(0,hn.lazy)(t.expression.mathWithTransform,S,function(){return w[S]})):(w[S]=N(),x&&O?a(S):(y(b)||m(b))&&(0,hn.lazy)(t.expression.mathWithTransform,S,function(){return w[S]})),n[S]=b,t.emit("import",S,N)}function d(b){return typeof b=="function"||typeof b=="number"||typeof b=="string"||typeof b=="boolean"||b===null||(0,il.isUnit)(b)||(0,il.isComplex)(b)||(0,il.isBigNumber)(b)||(0,il.isFraction)(b)||(0,il.isMatrix)(b)||Array.isArray(b)}function p(b){return typeof b=="function"&&al(b.signatures)==="object"}function f(b){return typeof b=="function"&&typeof b.signature=="string"}function v(b){return!(0,hn.hasOwnProperty)(g,b)}function h(b){return b.path===void 0&&!(0,hn.hasOwnProperty)(g,b.name)}function m(b){return b.fn.indexOf(".")===-1&&!(0,hn.hasOwnProperty)(g,b.fn)&&(!b.meta||!b.meta.isClass)}function y(b){return b!==void 0&&b.meta!==void 0&&b.meta.isTransformFunction===!0||!1}var g={expression:!0,type:!0,docs:!0,error:!0,json:!0,chain:!0};return i}});var mY=D(CP=>{"use strict";function eN(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?eN=function(t){return typeof t}:eN=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eN(e)}Object.defineProperty(CP,"__esModule",{value:!0});CP.create=vY;cY();var eo=yr(),GOr=KOr(lY()),HOr=pY(),WOr=iC(),DP=oe(),Dr=He(),fY=er(),$Or=Ji(),QOr=Fo(),YOr=vt(),ZOr=Li(),XOr=Nd();function hY(){if(typeof WeakMap!="function")return null;var e=new WeakMap;return hY=function(){return e},e}function KOr(e){if(e&&e.__esModule)return e;if(e===null||eN(e)!=="object"&&typeof e!="function")return{default:e};var r=hY();if(r&&r.has(e))return r.get(e);var t={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var c=n?Object.getOwnPropertyDescriptor(e,i):null;c&&(c.get||c.set)?Object.defineProperty(t,i,c):t[i]=e[i]}return t.default=e,r&&r.set(e,t),t}function NP(){return NP=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},NP.apply(this,arguments)}function vY(e,r){var t=NP({},XOr.DEFAULT_CONFIG,r);if(typeof Object.create!="function")throw new Error("ES5 not supported by this JavaScript engine. Please load the es5-shim and es5-sham library for compatibility.");var n=GOr.mixin({isNumber:Dr.isNumber,isComplex:Dr.isComplex,isBigNumber:Dr.isBigNumber,isFraction:Dr.isFraction,isUnit:Dr.isUnit,isString:Dr.isString,isArray:Dr.isArray,isMatrix:Dr.isMatrix,isCollection:Dr.isCollection,isDenseMatrix:Dr.isDenseMatrix,isSparseMatrix:Dr.isSparseMatrix,isRange:Dr.isRange,isIndex:Dr.isIndex,isBoolean:Dr.isBoolean,isResultSet:Dr.isResultSet,isHelp:Dr.isHelp,isFunction:Dr.isFunction,isDate:Dr.isDate,isRegExp:Dr.isRegExp,isObject:Dr.isObject,isNull:Dr.isNull,isUndefined:Dr.isUndefined,isAccessorNode:Dr.isAccessorNode,isArrayNode:Dr.isArrayNode,isAssignmentNode:Dr.isAssignmentNode,isBlockNode:Dr.isBlockNode,isConditionalNode:Dr.isConditionalNode,isConstantNode:Dr.isConstantNode,isFunctionAssignmentNode:Dr.isFunctionAssignmentNode,isFunctionNode:Dr.isFunctionNode,isIndexNode:Dr.isIndexNode,isNode:Dr.isNode,isObjectNode:Dr.isObjectNode,isOperatorNode:Dr.isOperatorNode,isParenthesisNode:Dr.isParenthesisNode,isRangeNode:Dr.isRangeNode,isSymbolNode:Dr.isSymbolNode,isChain:Dr.isChain});n.config=(0,WOr.configFactory)(t,n.emit),n.expression={transform:{},mathWithTransform:{config:n.config}};var i=[],c=[];function u(d){if((0,DP.isFactory)(d))return d(n);var p=d[Object.keys(d)[0]];if((0,DP.isFactory)(p))return p(n);if(!(0,eo.isLegacyFactory)(d))throw console.warn("Factory object with properties `type`, `name`, and `factory` expected",d),new Error("Factory object with properties `type`, `name`, and `factory` expected");var f=i.indexOf(d),v;return f===-1?(d.math===!0?v=d.factory(n.type,t,u,n.typed,n):v=d.factory(n.type,t,u,n.typed),i.push(d),c.push(v)):v=c[f],v}var a={};function s(){for(var d=arguments.length,p=new Array(d),f=0;f<d;f++)p[f]=arguments[f];return n.typed.apply(n.typed,p)}var o=(0,HOr.importFactory)(s,u,n,a);n.import=o,n.on("config",function(){(0,eo.values)(a).forEach(function(d){d&&d.meta&&d.meta.recreateOnConfigChange&&o(d,{override:!0})})}),n.create=vY.bind(null,e),n.factory=DP.factory,n.import((0,eo.values)((0,eo.deepFlatten)(e)));var l=["type.isNumber","type.isComplex","type.isBigNumber","type.isFraction","type.isUnit","type.isString","type.isArray","type.isMatrix","type.isDenseMatrix","type.isSparseMatrix","type.isCollection","type.isRange","type.isIndex","type.isBoolean","type.isResultSet","type.isHelp","type.isFunction","type.isDate","type.isRegExp","type.isObject","type.isNull","type.isUndefined","type.isAccessorNode","type.isArrayNode","type.isAssignmentNode","type.isBlockNode","type.isConditionalNode","type.isConstantNode","type.isFunctionAssignmentNode","type.isFunctionNode","type.isIndexNode","type.isNode","type.isObjectNode","type.isOperatorNode","type.isParenthesisNode","type.isRangeNode","type.isSymbolNode","type.isChain","type.BigNumber","type.Chain","type.Complex","type.Fraction","type.Matrix","type.DenseMatrix","type.SparseMatrix","type.Spa","type.FibonacciHeap","type.ImmutableDenseMatrix","type.Index","type.Range","type.ResultSet","type.Unit","type.Help","type.Parser","expression.parse","expression.Parser","expression.node.AccessorNode","expression.node.ArrayNode","expression.node.AssignmentNode","expression.node.BlockNode","expression.node.ConditionalNode","expression.node.ConstantNode","expression.node.IndexNode","expression.node.FunctionAssignmentNode","expression.node.FunctionNode","expression.node.Node","expression.node.ObjectNode","expression.node.OperatorNode","expression.node.ParenthesisNode","expression.node.RangeNode","expression.node.RelationalNode","expression.node.SymbolNode","json.reviver","error.ArgumentsError","error.DimensionError","error.IndexError"];return l.forEach(function(d){var p=d.split("."),f=(0,fY.initial)(p),v=(0,fY.last)(p),h=(0,eo.traverse)(n,f);(0,eo.lazy)(h,v,function(){return(0,$Or.warnOnce)("math.".concat(d," is moved to math.").concat(v," in v6.0.0. ")+"Please use the new location instead."),n[v]})}),(0,eo.lazy)(n.expression,"docs",function(){throw new Error(`math.expression.docs has been moved. Please import via "import { docs } from 'mathjs'"`)}),n.ArgumentsError=QOr.ArgumentsError,n.DimensionError=YOr.DimensionError,n.IndexError=ZOr.IndexError,n}});var yY=D(AP=>{"use strict";Object.defineProperty(AP,"__esModule",{value:!0});AP.createDeprecatedImport=eDr;function eDr(){return function(){throw new Error(`The global import function is not available anymore in v6.0.0. 
Please create a mathjs instance if you want to import functions. 
Example:

  import { create, all } from 'mathjs';
  const mathjs = create(all);
  mathjs.import(...);
`)}}});var gY=D(Et=>{"use strict";Object.defineProperty(Et,"__esModule",{value:!0});Et.error=Et.json=Et.expression=Et.type=Et.deprecatedTypeof=Et.deprecatedVar=Et.deprecatedImport=Et.deprecatedEval=void 0;var rDr=yA(),tDr=yY(),nDr=M0(),iDr=CC(),Nr=He(),aDr=Fo(),sDr=vt(),oDr=Li(),cDr=yr(),uDr=Ji(),vn=F_(),ct=MM(),lDr=(0,rDr.createDeprecatedEval)({evaluate:ct.evaluate});Et.deprecatedEval=lDr;var dDr=(0,tDr.createDeprecatedImport)({});Et.deprecatedImport=dDr;var pDr=(0,nDr.createDeprecatedVar)({variance:vn.variance});Et.deprecatedVar=pDr;var fDr=(0,iDr.createDeprecatedTypeof)({typeOf:vn.typeOf});Et.deprecatedTypeof=fDr;var hDr=sl("type",{isNumber:Nr.isNumber,isComplex:Nr.isComplex,isBigNumber:Nr.isBigNumber,isFraction:Nr.isFraction,isUnit:Nr.isUnit,isString:Nr.isString,isArray:Nr.isArray,isMatrix:Nr.isMatrix,isCollection:Nr.isCollection,isDenseMatrix:Nr.isDenseMatrix,isSparseMatrix:Nr.isSparseMatrix,isRange:Nr.isRange,isIndex:Nr.isIndex,isBoolean:Nr.isBoolean,isResultSet:Nr.isResultSet,isHelp:Nr.isHelp,isFunction:Nr.isFunction,isDate:Nr.isDate,isRegExp:Nr.isRegExp,isObject:Nr.isObject,isNull:Nr.isNull,isUndefined:Nr.isUndefined,isAccessorNode:Nr.isAccessorNode,isArrayNode:Nr.isArrayNode,isAssignmentNode:Nr.isAssignmentNode,isBlockNode:Nr.isBlockNode,isConditionalNode:Nr.isConditionalNode,isConstantNode:Nr.isConstantNode,isFunctionAssignmentNode:Nr.isFunctionAssignmentNode,isFunctionNode:Nr.isFunctionNode,isIndexNode:Nr.isIndexNode,isNode:Nr.isNode,isObjectNode:Nr.isObjectNode,isOperatorNode:Nr.isOperatorNode,isParenthesisNode:Nr.isParenthesisNode,isRangeNode:Nr.isRangeNode,isSymbolNode:Nr.isSymbolNode,isChain:Nr.isChain,BigNumber:vn.BigNumber,Chain:ct.Chain,Complex:vn.Complex,Fraction:vn.Fraction,Matrix:vn.Matrix,DenseMatrix:vn.DenseMatrix,SparseMatrix:vn.SparseMatrix,Spa:vn.Spa,FibonacciHeap:vn.FibonacciHeap,ImmutableDenseMatrix:vn.ImmutableDenseMatrix,Index:vn.Index,Range:vn.Range,ResultSet:vn.ResultSet,Unit:vn.Unit,Help:ct.Help,Parser:ct.Parser});Et.type=hDr;var vDr=sl("expression",{parse:ct.parse,Parser:ct.Parser,node:sl("expression.node",{AccessorNode:ct.AccessorNode,ArrayNode:ct.ArrayNode,AssignmentNode:ct.AssignmentNode,BlockNode:ct.BlockNode,ConditionalNode:ct.ConditionalNode,ConstantNode:ct.ConstantNode,IndexNode:ct.IndexNode,FunctionAssignmentNode:ct.FunctionAssignmentNode,FunctionNode:ct.FunctionNode,Node:ct.Node,ObjectNode:ct.ObjectNode,OperatorNode:ct.OperatorNode,ParenthesisNode:ct.ParenthesisNode,RangeNode:ct.RangeNode,RelationalNode:ct.RelationalNode,SymbolNode:ct.SymbolNode})});Et.expression=vDr;var mDr=sl("json",{reviver:ct.reviver});Et.json=mDr;var yDr=sl("error",{ArgumentsError:aDr.ArgumentsError,DimensionError:sDr.DimensionError,IndexError:oDr.IndexError});Et.error=yDr;function sl(e,r){var t={};return Object.keys(r).forEach(function(n){(0,cDr.lazy)(t,n,function(){return(0,uDr.warnOnce)("math.".concat(e,".").concat(n," is moved to math.").concat(n," in v6.0.0. ")+"Please use the new location instead."),r[n]})}),t}});var DY=D(pt=>{"use strict";Object.defineProperty(pt,"__esModule",{value:!0});var Oc={config:!0,IndexError:!0,DimensionError:!0,ArgumentsError:!0,create:!0,factory:!0};Object.defineProperty(pt,"config",{enumerable:!0,get:function(){return gDr.config}});Object.defineProperty(pt,"IndexError",{enumerable:!0,get:function(){return bDr.IndexError}});Object.defineProperty(pt,"DimensionError",{enumerable:!0,get:function(){return _Dr.DimensionError}});Object.defineProperty(pt,"ArgumentsError",{enumerable:!0,get:function(){return wDr.ArgumentsError}});Object.defineProperty(pt,"create",{enumerable:!0,get:function(){return SDr.create}});Object.defineProperty(pt,"factory",{enumerable:!0,get:function(){return xDr.factory}});var gDr=Md(),bY=F_();Object.keys(bY).forEach(function(e){e==="default"||e==="__esModule"||Object.prototype.hasOwnProperty.call(Oc,e)||Object.defineProperty(pt,e,{enumerable:!0,get:function(){return bY[e]}})});var _Y=MM();Object.keys(_Y).forEach(function(e){e==="default"||e==="__esModule"||Object.prototype.hasOwnProperty.call(Oc,e)||Object.defineProperty(pt,e,{enumerable:!0,get:function(){return _Y[e]}})});var wY=sH();Object.keys(wY).forEach(function(e){e==="default"||e==="__esModule"||Object.prototype.hasOwnProperty.call(Oc,e)||Object.defineProperty(pt,e,{enumerable:!0,get:function(){return wY[e]}})});var bDr=Li(),_Dr=vt(),wDr=Fo(),SY=oY();Object.keys(SY).forEach(function(e){e==="default"||e==="__esModule"||Object.prototype.hasOwnProperty.call(Oc,e)||Object.defineProperty(pt,e,{enumerable:!0,get:function(){return SY[e]}})});var xY=K();Object.keys(xY).forEach(function(e){e==="default"||e==="__esModule"||Object.prototype.hasOwnProperty.call(Oc,e)||Object.defineProperty(pt,e,{enumerable:!0,get:function(){return xY[e]}})});var SDr=mY(),xDr=oe(),OY=gY();Object.keys(OY).forEach(function(e){e==="default"||e==="__esModule"||Object.prototype.hasOwnProperty.call(Oc,e)||Object.defineProperty(pt,e,{enumerable:!0,get:function(){return OY[e]}})});pt.var=pt.deprecatedVar;pt.typeof=pt.deprecatedTypeof;pt.eval=pt.deprecatedEval;pt.import=pt.deprecatedImport});var si=D((qtt,NY)=>{NY.exports=DY()});var rN=D((exports,module)=>{"use strict";var numeric=typeof exports>"u"?function(){}:exports;typeof global<"u"&&(global.numeric=numeric);numeric.version="1.2.6";numeric.bench=function(r,t){var n,i,c,u;for(typeof t>"u"&&(t=15),c=.5,n=new Date;;){for(c*=2,u=c;u>3;u-=4)r(),r(),r(),r();for(;u>0;)r(),u--;if(i=new Date,i-n>t)break}for(u=c;u>3;u-=4)r(),r(),r(),r();for(;u>0;)r(),u--;return i=new Date,1e3*(3*c-1)/(i-n)};numeric._myIndexOf=function(r){var t=this.length,n;for(n=0;n<t;++n)if(this[n]===r)return n;return-1};numeric.myIndexOf=Array.prototype.indexOf?Array.prototype.indexOf:numeric._myIndexOf;numeric.Function=Function;numeric.precision=4;numeric.largeArray=50;numeric.prettyPrint=function(r){function t(c){if(c===0)return"0";if(isNaN(c))return"NaN";if(c<0)return"-"+t(-c);if(isFinite(c)){var u=Math.floor(Math.log(c)/Math.log(10)),a=c/Math.pow(10,u),s=a.toPrecision(numeric.precision);return parseFloat(s)===10&&(u++,a=1,s=a.toPrecision(numeric.precision)),parseFloat(s).toString()+"e"+u.toString()}return"Infinity"}var n=[];function i(c){var u;if(typeof c>"u")return n.push(Array(numeric.precision+8).join(" ")),!1;if(typeof c=="string")return n.push('"'+c+'"'),!1;if(typeof c=="boolean")return n.push(c.toString()),!1;if(typeof c=="number"){var a=t(c),s=c.toPrecision(numeric.precision),o=parseFloat(c.toString()).toString(),l=[a,s,o,parseFloat(s).toString(),parseFloat(o).toString()];for(u=1;u<l.length;u++)l[u].length<a.length&&(a=l[u]);return n.push(Array(numeric.precision+8-a.length).join(" ")+a),!1}if(c===null)return n.push("null"),!1;if(typeof c=="function"){n.push(c.toString());var d=!1;for(u in c)c.hasOwnProperty(u)&&(d?n.push(`,
`):n.push(`
{`),d=!0,n.push(u),n.push(`: 
`),i(c[u]));return d&&n.push(`}
`),!0}if(c instanceof Array){if(c.length>numeric.largeArray)return n.push("...Large Array..."),!0;var d=!1;for(n.push("["),u=0;u<c.length;u++)u>0&&(n.push(","),d&&n.push(`
 `)),d=i(c[u]);return n.push("]"),!0}n.push("{");var d=!1;for(u in c)c.hasOwnProperty(u)&&(d&&n.push(`,
`),d=!0,n.push(u),n.push(`: 
`),i(c[u]));return n.push("}"),!0}return i(r),n.join("")};numeric.parseDate=function(r){function t(n){if(typeof n=="string")return Date.parse(n.replace(/-/g,"/"));if(!(n instanceof Array))throw new Error("parseDate: parameter must be arrays of strings");var i=[],c;for(c=0;c<n.length;c++)i[c]=t(n[c]);return i}return t(r)};numeric.parseFloat=function(r){function t(n){if(typeof n=="string")return parseFloat(n);if(!(n instanceof Array))throw new Error("parseFloat: parameter must be arrays of strings");var i=[],c;for(c=0;c<n.length;c++)i[c]=t(n[c]);return i}return t(r)};numeric.parseCSV=function(r){var t=r.split(`
`),n,i,c=[],u=/(([^'",]*)|('[^']*')|("[^"]*")),/g,a=/^\s*(([+-]?[0-9]+(\.[0-9]*)?(e[+-]?[0-9]+)?)|([+-]?[0-9]*(\.[0-9]+)?(e[+-]?[0-9]+)?))\s*$/,s=function(p){return p.substr(0,p.length-1)},o=0;for(i=0;i<t.length;i++){var l=(t[i]+",").match(u),d;if(l.length>0){for(c[o]=[],n=0;n<l.length;n++)d=s(l[n]),a.test(d)?c[o][n]=parseFloat(d):c[o][n]=d;o++}}return c};numeric.toCSV=function(r){var t=numeric.dim(r),n,i,c,u,a,s;for(c=t[0],u=t[1],s=[],n=0;n<c;n++){for(a=[],i=0;i<c;i++)a[i]=r[n][i].toString();s[n]=a.join(", ")}return s.join(`
`)+`
`};numeric.getURL=function(r){var t=new XMLHttpRequest;return t.open("GET",r,!1),t.send(),t};numeric.imageURL=function(r){function t(g){var b=g.length,_,S,w,O,x,N,M,I,q="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",z="";for(_=0;_<b;_+=3)S=g[_],w=g[_+1],O=g[_+2],x=S>>2,N=((S&3)<<4)+(w>>4),M=((w&15)<<2)+(O>>6),I=O&63,_+1>=b?M=I=64:_+2>=b&&(I=64),z+=q.charAt(x)+q.charAt(N)+q.charAt(M)+q.charAt(I);return z}function n(g,b,_){typeof b>"u"&&(b=0),typeof _>"u"&&(_=g.length);var S=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],w=-1,O=0,x=g.length,N;for(N=b;N<_;N++)O=(w^g[N])&255,w=w>>>8^S[O];return w^-1}var i=r[0].length,c=r[0][0].length,u,a,s,o,l,d,p,f,v,h,m,y=[137,80,78,71,13,10,26,10,0,0,0,13,73,72,68,82,c>>24&255,c>>16&255,c>>8&255,c&255,i>>24&255,i>>16&255,i>>8&255,i&255,8,2,0,0,0,-1,-2,-3,-4,-5,-6,-7,-8,73,68,65,84,8,29];for(m=n(y,12,29),y[29]=m>>24&255,y[30]=m>>16&255,y[31]=m>>8&255,y[32]=m&255,u=1,a=0,f=0;f<i;f++){for(f<i-1?y.push(0):y.push(1),d=3*c+1+(f===0)&255,p=3*c+1+(f===0)>>8&255,y.push(d),y.push(p),y.push(~d&255),y.push(~p&255),f===0&&y.push(0),v=0;v<c;v++)for(o=0;o<3;o++)d=r[o][f][v],d>255?d=255:d<0?d=0:d=Math.round(d),u=(u+d)%65521,a=(a+u)%65521,y.push(d);y.push(0)}return h=(a<<16)+u,y.push(h>>24&255),y.push(h>>16&255),y.push(h>>8&255),y.push(h&255),l=y.length-41,y[33]=l>>24&255,y[34]=l>>16&255,y[35]=l>>8&255,y[36]=l&255,m=n(y,37),y.push(m>>24&255),y.push(m>>16&255),y.push(m>>8&255),y.push(m&255),y.push(0),y.push(0),y.push(0),y.push(0),y.push(73),y.push(69),y.push(78),y.push(68),y.push(174),y.push(66),y.push(96),y.push(130),"data:image/png;base64,"+t(y)};numeric._dim=function(r){for(var t=[];typeof r=="object";)t.push(r.length),r=r[0];return t};numeric.dim=function(r){var t,n;return typeof r=="object"?(t=r[0],typeof t=="object"?(n=t[0],typeof n=="object"?numeric._dim(r):[r.length,t.length]):[r.length]):[]};numeric.mapreduce=function(r,t){return Function("x","accum","_s","_k",'if(typeof accum === "undefined") accum = '+t+`;
if(typeof x === "number") { var xi = x; `+r+`; return accum; }
if(typeof _s === "undefined") _s = numeric.dim(x);
if(typeof _k === "undefined") _k = 0;
var _n = _s[_k];
var i,xi;
if(_k < _s.length-1) {
    for(i=_n-1;i>=0;i--) {
        accum = arguments.callee(x[i],accum,_s,_k+1);
    }    return accum;
}
for(i=_n-1;i>=1;i-=2) { 
    xi = x[i];
    `+r+`;
    xi = x[i-1];
    `+r+`;
}
if(i === 0) {
    xi = x[i];
    `+r+`
}
return accum;`)};numeric.mapreduce2=function(r,t){return Function("x",`var n = x.length;
var i,xi;
`+t+`;
for(i=n-1;i!==-1;--i) { 
    xi = x[i];
    `+r+`;
}
return accum;`)};numeric.same=function e(r,t){var n,i;if(!(r instanceof Array)||!(t instanceof Array)||(i=r.length,i!==t.length))return!1;for(n=0;n<i;n++)if(r[n]!==t[n])if(typeof r[n]=="object"){if(!e(r[n],t[n]))return!1}else return!1;return!0};numeric.rep=function(r,t,n){typeof n>"u"&&(n=0);var i=r[n],c=Array(i),u;if(n===r.length-1){for(u=i-2;u>=0;u-=2)c[u+1]=t,c[u]=t;return u===-1&&(c[0]=t),c}for(u=i-1;u>=0;u--)c[u]=numeric.rep(r,t,n+1);return c};numeric.dotMMsmall=function(r,t){var n,i,c,u,a,s,o,l,d,p,f,v,h,m;for(u=r.length,a=t.length,s=t[0].length,o=Array(u),n=u-1;n>=0;n--){for(l=Array(s),d=r[n],c=s-1;c>=0;c--){for(p=d[a-1]*t[a-1][c],i=a-2;i>=1;i-=2)f=i-1,p+=d[i]*t[i][c]+d[f]*t[f][c];i===0&&(p+=d[0]*t[0][c]),l[c]=p}o[n]=l}return o};numeric._getCol=function(r,t,n){var i=r.length,c;for(c=i-1;c>0;--c)n[c]=r[c][t],--c,n[c]=r[c][t];c===0&&(n[0]=r[0][t])};numeric.dotMMbig=function(r,t){var n=numeric._getCol,i=t.length,c=Array(i),u=r.length,a=t[0].length,s=new Array(u),o,l=numeric.dotVV,d,p,f,v;for(--i,--u,d=u;d!==-1;--d)s[d]=Array(a);for(--a,d=a;d!==-1;--d)for(n(t,d,c),p=u;p!==-1;--p)v=0,o=r[p],s[p][d]=l(o,c);return s};numeric.dotMV=function(r,t){var n=r.length,i=t.length,c,u=Array(n),a=numeric.dotVV;for(c=n-1;c>=0;c--)u[c]=a(r[c],t);return u};numeric.dotVM=function(r,t){var n,i,c,u,a,s,o,l,d,p,f,v,h,m,y,g,b,_,S;for(u=r.length,a=t[0].length,o=Array(a),c=a-1;c>=0;c--){for(p=r[u-1]*t[u-1][c],i=u-2;i>=1;i-=2)f=i-1,p+=r[i]*t[i][c]+r[f]*t[f][c];i===0&&(p+=r[0]*t[0][c]),o[c]=p}return o};numeric.dotVV=function(r,t){var n,i=r.length,c,u=r[i-1]*t[i-1];for(n=i-2;n>=1;n-=2)c=n-1,u+=r[n]*t[n]+r[c]*t[c];return n===0&&(u+=r[0]*t[0]),u};numeric.dot=function(r,t){var n=numeric.dim;switch(n(r).length*1e3+n(t).length){case 2002:return t.length<10?numeric.dotMMsmall(r,t):numeric.dotMMbig(r,t);case 2001:return numeric.dotMV(r,t);case 1002:return numeric.dotVM(r,t);case 1001:return numeric.dotVV(r,t);case 1e3:return numeric.mulVS(r,t);case 1:return numeric.mulSV(r,t);case 0:return r*t;default:throw new Error("numeric.dot only works on vectors and matrices")}};numeric.diag=function(r){var t,n,i,c=r.length,u=Array(c),a;for(t=c-1;t>=0;t--){for(a=Array(c),n=t+2,i=c-1;i>=n;i-=2)a[i]=0,a[i-1]=0;for(i>t&&(a[i]=0),a[t]=r[t],i=t-1;i>=1;i-=2)a[i]=0,a[i-1]=0;i===0&&(a[0]=0),u[t]=a}return u};numeric.getDiag=function(e){var r=Math.min(e.length,e[0].length),t,n=Array(r);for(t=r-1;t>=1;--t)n[t]=e[t][t],--t,n[t]=e[t][t];return t===0&&(n[0]=e[0][0]),n};numeric.identity=function(r){return numeric.diag(numeric.rep([r],1))};numeric.pointwise=function(r,t,n){typeof n>"u"&&(n="");var i=[],c,u=/\[i\]$/,a,s="",o=!1;for(c=0;c<r.length;c++)u.test(r[c])?(a=r[c].substring(0,r[c].length-3),s=a):a=r[c],a==="ret"&&(o=!0),i.push(a);return i[r.length]="_s",i[r.length+1]="_k",i[r.length+2]='if(typeof _s === "undefined") _s = numeric.dim('+s+`);
if(typeof _k === "undefined") _k = 0;
var _n = _s[_k];
var i`+(o?"":", ret = Array(_n)")+`;
if(_k < _s.length-1) {
    for(i=_n-1;i>=0;i--) ret[i] = arguments.callee(`+r.join(",")+`,_s,_k+1);
    return ret;
}
`+n+`
for(i=_n-1;i!==-1;--i) {
    `+t+`
}
return ret;`,Function.apply(null,i)};numeric.pointwise2=function(r,t,n){typeof n>"u"&&(n="");var i=[],c,u=/\[i\]$/,a,s="",o=!1;for(c=0;c<r.length;c++)u.test(r[c])?(a=r[c].substring(0,r[c].length-3),s=a):a=r[c],a==="ret"&&(o=!0),i.push(a);return i[r.length]="var _n = "+s+`.length;
var i`+(o?"":", ret = Array(_n)")+`;
`+n+`
for(i=_n-1;i!==-1;--i) {
`+t+`
}
return ret;`,Function.apply(null,i)};numeric._biforeach=function e(r,t,n,i,c){if(i===n.length-1){c(r,t);return}var u,a=n[i];for(u=a-1;u>=0;u--)e(typeof r=="object"?r[u]:r,typeof t=="object"?t[u]:t,n,i+1,c)};numeric._biforeach2=function e(r,t,n,i,c){if(i===n.length-1)return c(r,t);var u,a=n[i],s=Array(a);for(u=a-1;u>=0;--u)s[u]=e(typeof r=="object"?r[u]:r,typeof t=="object"?t[u]:t,n,i+1,c);return s};numeric._foreach=function e(r,t,n,i){if(n===t.length-1){i(r);return}var c,u=t[n];for(c=u-1;c>=0;c--)e(r[c],t,n+1,i)};numeric._foreach2=function e(r,t,n,i){if(n===t.length-1)return i(r);var c,u=t[n],a=Array(u);for(c=u-1;c>=0;c--)a[c]=e(r[c],t,n+1,i);return a};numeric.ops2={add:"+",sub:"-",mul:"*",div:"/",mod:"%",and:"&&",or:"||",eq:"===",neq:"!==",lt:"<",gt:">",leq:"<=",geq:">=",band:"&",bor:"|",bxor:"^",lshift:"<<",rshift:">>",rrshift:">>>"};numeric.opseq={addeq:"+=",subeq:"-=",muleq:"*=",diveq:"/=",modeq:"%=",lshifteq:"<<=",rshifteq:">>=",rrshifteq:">>>=",bandeq:"&=",boreq:"|=",bxoreq:"^="};numeric.mathfuns=["abs","acos","asin","atan","ceil","cos","exp","floor","log","round","sin","sqrt","tan","isNaN","isFinite"];numeric.mathfuns2=["atan2","pow","max","min"];numeric.ops1={neg:"-",not:"!",bnot:"~",clone:""};numeric.mapreducers={any:["if(xi) return true;","var accum = false;"],all:["if(!xi) return false;","var accum = true;"],sum:["accum += xi;","var accum = 0;"],prod:["accum *= xi;","var accum = 1;"],norm2Squared:["accum += xi*xi;","var accum = 0;"],norminf:["accum = max(accum,abs(xi));","var accum = 0, max = Math.max, abs = Math.abs;"],norm1:["accum += abs(xi)","var accum = 0, abs = Math.abs;"],sup:["accum = max(accum,xi);","var accum = -Infinity, max = Math.max;"],inf:["accum = min(accum,xi);","var accum = Infinity, min = Math.min;"]};(function(){var e,r;for(e=0;e<numeric.mathfuns2.length;++e)r=numeric.mathfuns2[e],numeric.ops2[r]=r;for(e in numeric.ops2)if(numeric.ops2.hasOwnProperty(e)){r=numeric.ops2[e];var t,n,i="";numeric.myIndexOf.call(numeric.mathfuns2,e)!==-1?(i="var "+r+" = Math."+r+`;
`,t=function(c,u,a){return c+" = "+r+"("+u+","+a+")"},n=function(c,u){return c+" = "+r+"("+c+","+u+")"}):(t=function(c,u,a){return c+" = "+u+" "+r+" "+a},numeric.opseq.hasOwnProperty(e+"eq")?n=function(c,u){return c+" "+r+"= "+u}:n=function(c,u){return c+" = "+c+" "+r+" "+u}),numeric[e+"VV"]=numeric.pointwise2(["x[i]","y[i]"],t("ret[i]","x[i]","y[i]"),i),numeric[e+"SV"]=numeric.pointwise2(["x","y[i]"],t("ret[i]","x","y[i]"),i),numeric[e+"VS"]=numeric.pointwise2(["x[i]","y"],t("ret[i]","x[i]","y"),i),numeric[e]=Function(`var n = arguments.length, i, x = arguments[0], y;
var VV = numeric.`+e+"VV, VS = numeric."+e+"VS, SV = numeric."+e+`SV;
var dim = numeric.dim;
for(i=1;i!==n;++i) { 
  y = arguments[i];
  if(typeof x === "object") {
      if(typeof y === "object") x = numeric._biforeach2(x,y,dim(x),0,VV);
      else x = numeric._biforeach2(x,y,dim(x),0,VS);
  } else if(typeof y === "object") x = numeric._biforeach2(x,y,dim(y),0,SV);
  else `+n("x","y")+`
}
return x;
`),numeric[r]=numeric[e],numeric[e+"eqV"]=numeric.pointwise2(["ret[i]","x[i]"],n("ret[i]","x[i]"),i),numeric[e+"eqS"]=numeric.pointwise2(["ret[i]","x"],n("ret[i]","x"),i),numeric[e+"eq"]=Function(`var n = arguments.length, i, x = arguments[0], y;
var V = numeric.`+e+"eqV, S = numeric."+e+`eqS
var s = numeric.dim(x);
for(i=1;i!==n;++i) { 
  y = arguments[i];
  if(typeof y === "object") numeric._biforeach(x,y,s,0,V);
  else numeric._biforeach(x,y,s,0,S);
}
return x;
`)}for(e=0;e<numeric.mathfuns2.length;++e)r=numeric.mathfuns2[e],delete numeric.ops2[r];for(e=0;e<numeric.mathfuns.length;++e)r=numeric.mathfuns[e],numeric.ops1[r]=r;for(e in numeric.ops1)numeric.ops1.hasOwnProperty(e)&&(i="",r=numeric.ops1[e],numeric.myIndexOf.call(numeric.mathfuns,e)!==-1&&Math.hasOwnProperty(r)&&(i="var "+r+" = Math."+r+`;
`),numeric[e+"eqV"]=numeric.pointwise2(["ret[i]"],"ret[i] = "+r+"(ret[i]);",i),numeric[e+"eq"]=Function("x",'if(typeof x !== "object") return '+r+`x
var i;
var V = numeric.`+e+`eqV;
var s = numeric.dim(x);
numeric._foreach(x,s,0,V);
return x;
`),numeric[e+"V"]=numeric.pointwise2(["x[i]"],"ret[i] = "+r+"(x[i]);",i),numeric[e]=Function("x",'if(typeof x !== "object") return '+r+`(x)
var i;
var V = numeric.`+e+`V;
var s = numeric.dim(x);
return numeric._foreach2(x,s,0,V);
`));for(e=0;e<numeric.mathfuns.length;++e)r=numeric.mathfuns[e],delete numeric.ops1[r];for(e in numeric.mapreducers)numeric.mapreducers.hasOwnProperty(e)&&(r=numeric.mapreducers[e],numeric[e+"V"]=numeric.mapreduce2(r[0],r[1]),numeric[e]=Function("x","s","k",r[1]+`if(typeof x !== "object") {    xi = x;
`+r[0]+`;
    return accum;
}if(typeof s === "undefined") s = numeric.dim(x);
if(typeof k === "undefined") k = 0;
if(k === s.length-1) return numeric.`+e+`V(x);
var xi;
var n = x.length, i;
for(i=n-1;i!==-1;--i) {
   xi = arguments.callee(x[i]);
`+r[0]+`;
}
return accum;
`))})();numeric.truncVV=numeric.pointwise(["x[i]","y[i]"],"ret[i] = round(x[i]/y[i])*y[i];","var round = Math.round;");numeric.truncVS=numeric.pointwise(["x[i]","y"],"ret[i] = round(x[i]/y)*y;","var round = Math.round;");numeric.truncSV=numeric.pointwise(["x","y[i]"],"ret[i] = round(x/y[i])*y[i];","var round = Math.round;");numeric.trunc=function(r,t){return typeof r=="object"?typeof t=="object"?numeric.truncVV(r,t):numeric.truncVS(r,t):typeof t=="object"?numeric.truncSV(r,t):Math.round(r/t)*t};numeric.inv=function(h){var t=numeric.dim(h),n=Math.abs,i=t[0],c=t[1],u=numeric.clone(h),a,s,o=numeric.identity(i),l,d,p,f,v,h;for(f=0;f<c;++f){var m=-1,y=-1;for(p=f;p!==i;++p)v=n(u[p][f]),v>y&&(m=p,y=v);for(s=u[m],u[m]=u[f],u[f]=s,d=o[m],o[m]=o[f],o[f]=d,h=s[f],v=f;v!==c;++v)s[v]/=h;for(v=c-1;v!==-1;--v)d[v]/=h;for(p=i-1;p!==-1;--p)if(p!==f){for(a=u[p],l=o[p],h=a[f],v=f+1;v!==c;++v)a[v]-=s[v]*h;for(v=c-1;v>0;--v)l[v]-=d[v]*h,--v,l[v]-=d[v]*h;v===0&&(l[0]-=d[0]*h)}}return o};numeric.det=function(r){var t=numeric.dim(r);if(t.length!==2||t[0]!==t[1])throw new Error("numeric: det() only works on square matrices");var n=t[0],i=1,c,u,a,s=numeric.clone(r),o,l,d,p,f,v,h;for(u=0;u<n-1;u++){for(a=u,c=u+1;c<n;c++)Math.abs(s[c][u])>Math.abs(s[a][u])&&(a=c);for(a!==u&&(p=s[a],s[a]=s[u],s[u]=p,i*=-1),o=s[u],c=u+1;c<n;c++){for(l=s[c],d=l[u]/o[u],a=u+1;a<n-1;a+=2)f=a+1,l[a]-=o[a]*d,l[f]-=o[f]*d;a!==n&&(l[a]-=o[a]*d)}if(o[u]===0)return 0;i*=o[u]}return i*s[u][u]};numeric.transpose=function(r){var t,n,i=r.length,c=r[0].length,u=Array(c),a,s,o;for(n=0;n<c;n++)u[n]=Array(i);for(t=i-1;t>=1;t-=2){for(s=r[t],a=r[t-1],n=c-1;n>=1;--n)o=u[n],o[t]=s[n],o[t-1]=a[n],--n,o=u[n],o[t]=s[n],o[t-1]=a[n];n===0&&(o=u[0],o[t]=s[0],o[t-1]=a[0])}if(t===0){for(a=r[0],n=c-1;n>=1;--n)u[n][0]=a[n],--n,u[n][0]=a[n];n===0&&(u[0][0]=a[0])}return u};numeric.negtranspose=function(r){var t,n,i=r.length,c=r[0].length,u=Array(c),a,s,o;for(n=0;n<c;n++)u[n]=Array(i);for(t=i-1;t>=1;t-=2){for(s=r[t],a=r[t-1],n=c-1;n>=1;--n)o=u[n],o[t]=-s[n],o[t-1]=-a[n],--n,o=u[n],o[t]=-s[n],o[t-1]=-a[n];n===0&&(o=u[0],o[t]=-s[0],o[t-1]=-a[0])}if(t===0){for(a=r[0],n=c-1;n>=1;--n)u[n][0]=-a[n],--n,u[n][0]=-a[n];n===0&&(u[0][0]=-a[0])}return u};numeric._random=function e(r,t){var n,i=r[t],c=Array(i),u;if(t===r.length-1){for(u=Math.random,n=i-1;n>=1;n-=2)c[n]=u(),c[n-1]=u();return n===0&&(c[0]=u()),c}for(n=i-1;n>=0;n--)c[n]=e(r,t+1);return c};numeric.random=function(r){return numeric._random(r,0)};numeric.norm2=function(r){return Math.sqrt(numeric.norm2Squared(r))};numeric.linspace=function(r,t,n){if(typeof n>"u"&&(n=Math.max(Math.round(t-r)+1,1)),n<2)return n===1?[r]:[];var i,c=Array(n);for(n--,i=n;i>=0;i--)c[i]=(i*t+(n-i)*r)/n;return c};numeric.getBlock=function(r,t,n){var i=numeric.dim(r);function c(u,a){var s,o=t[a],l=n[a]-o,d=Array(l);if(a===i.length-1){for(s=l;s>=0;s--)d[s]=u[s+o];return d}for(s=l;s>=0;s--)d[s]=c(u[s+o],a+1);return d}return c(r,0)};numeric.setBlock=function(r,t,n,i){var c=numeric.dim(r);function u(a,s,o){var l,d=t[o],p=n[o]-d;if(o===c.length-1)for(l=p;l>=0;l--)a[l+d]=s[l];for(l=p;l>=0;l--)u(a[l+d],s[l],o+1)}return u(r,i,0),r};numeric.getRange=function(r,t,n){var i=t.length,c=n.length,u,a,s=Array(i),o,l;for(u=i-1;u!==-1;--u)for(s[u]=Array(c),o=s[u],l=r[t[u]],a=c-1;a!==-1;--a)o[a]=l[n[a]];return s};numeric.blockMatrix=function(r){var t=numeric.dim(r);if(t.length<4)return numeric.blockMatrix([r]);var n=t[0],i=t[1],c,u,a,s,o;for(c=0,u=0,a=0;a<n;++a)c+=r[a][0].length;for(s=0;s<i;++s)u+=r[0][s][0].length;var l=Array(c);for(a=0;a<c;++a)l[a]=Array(u);var d=0,p,f,v,h,m;for(a=0;a<n;++a){for(p=u,s=i-1;s!==-1;--s)for(o=r[a][s],p-=o[0].length,v=o.length-1;v!==-1;--v)for(m=o[v],f=l[d+v],h=m.length-1;h!==-1;--h)f[p+h]=m[h];d+=r[a][0].length}return l};numeric.tensor=function(r,t){if(typeof r=="number"||typeof t=="number")return numeric.mul(r,t);var n=numeric.dim(r),i=numeric.dim(t);if(n.length!==1||i.length!==1)throw new Error("numeric: tensor product is only defined for vectors");var c=n[0],u=i[0],a=Array(c),s,o,l,d;for(o=c-1;o>=0;o--){for(s=Array(u),d=r[o],l=u-1;l>=3;--l)s[l]=d*t[l],--l,s[l]=d*t[l],--l,s[l]=d*t[l],--l,s[l]=d*t[l];for(;l>=0;)s[l]=d*t[l],--l;a[o]=s}return a};numeric.T=function(r,t){this.x=r,this.y=t};numeric.t=function(r,t){return new numeric.T(r,t)};numeric.Tbinop=function(r,t,n,i,c){var u=numeric.indexOf;if(typeof c!="string"){var a;c="";for(a in numeric)numeric.hasOwnProperty(a)&&(r.indexOf(a)>=0||t.indexOf(a)>=0||n.indexOf(a)>=0||i.indexOf(a)>=0)&&a.length>1&&(c+="var "+a+" = numeric."+a+`;
`)}return Function(["y"],`var x = this;
if(!(y instanceof numeric.T)) { y = new numeric.T(y); }
`+c+`
if(x.y) {  if(y.y) {    return new numeric.T(`+i+`);
  }
  return new numeric.T(`+n+`);
}
if(y.y) {
  return new numeric.T(`+t+`);
}
return new numeric.T(`+r+`);
`)};numeric.T.prototype.add=numeric.Tbinop("add(x.x,y.x)","add(x.x,y.x),y.y","add(x.x,y.x),x.y","add(x.x,y.x),add(x.y,y.y)");numeric.T.prototype.sub=numeric.Tbinop("sub(x.x,y.x)","sub(x.x,y.x),neg(y.y)","sub(x.x,y.x),x.y","sub(x.x,y.x),sub(x.y,y.y)");numeric.T.prototype.mul=numeric.Tbinop("mul(x.x,y.x)","mul(x.x,y.x),mul(x.x,y.y)","mul(x.x,y.x),mul(x.y,y.x)","sub(mul(x.x,y.x),mul(x.y,y.y)),add(mul(x.x,y.y),mul(x.y,y.x))");numeric.T.prototype.reciprocal=function(){var r=numeric.mul,t=numeric.div;if(this.y){var n=numeric.add(r(this.x,this.x),r(this.y,this.y));return new numeric.T(t(this.x,n),t(numeric.neg(this.y),n))}return new T(t(1,this.x))};numeric.T.prototype.div=function(r){if(r instanceof numeric.T||(r=new numeric.T(r)),r.y)return this.mul(r.reciprocal());var t=numeric.div;return this.y?new numeric.T(t(this.x,r.x),t(this.y,r.x)):new numeric.T(t(this.x,r.x))};numeric.T.prototype.dot=numeric.Tbinop("dot(x.x,y.x)","dot(x.x,y.x),dot(x.x,y.y)","dot(x.x,y.x),dot(x.y,y.x)","sub(dot(x.x,y.x),dot(x.y,y.y)),add(dot(x.x,y.y),dot(x.y,y.x))");numeric.T.prototype.transpose=function(){var r=numeric.transpose,t=this.x,n=this.y;return n?new numeric.T(r(t),r(n)):new numeric.T(r(t))};numeric.T.prototype.transjugate=function(){var r=numeric.transpose,t=this.x,n=this.y;return n?new numeric.T(r(t),numeric.negtranspose(n)):new numeric.T(r(t))};numeric.Tunop=function(r,t,n){return typeof n!="string"&&(n=""),Function(`var x = this;
`+n+`
if(x.y) {  `+t+`;
}
`+r+`;
`)};numeric.T.prototype.exp=numeric.Tunop("return new numeric.T(ex)","return new numeric.T(mul(cos(x.y),ex),mul(sin(x.y),ex))","var ex = numeric.exp(x.x), cos = numeric.cos, sin = numeric.sin, mul = numeric.mul;");numeric.T.prototype.conj=numeric.Tunop("return new numeric.T(x.x);","return new numeric.T(x.x,numeric.neg(x.y));");numeric.T.prototype.neg=numeric.Tunop("return new numeric.T(neg(x.x));","return new numeric.T(neg(x.x),neg(x.y));","var neg = numeric.neg;");numeric.T.prototype.sin=numeric.Tunop("return new numeric.T(numeric.sin(x.x))","return x.exp().sub(x.neg().exp()).div(new numeric.T(0,2));");numeric.T.prototype.cos=numeric.Tunop("return new numeric.T(numeric.cos(x.x))","return x.exp().add(x.neg().exp()).div(2);");numeric.T.prototype.abs=numeric.Tunop("return new numeric.T(numeric.abs(x.x));","return new numeric.T(numeric.sqrt(numeric.add(mul(x.x,x.x),mul(x.y,x.y))));","var mul = numeric.mul;");numeric.T.prototype.log=numeric.Tunop("return new numeric.T(numeric.log(x.x));",`var theta = new numeric.T(numeric.atan2(x.y,x.x)), r = x.abs();
return new numeric.T(numeric.log(r.x),theta.x);`);numeric.T.prototype.norm2=numeric.Tunop("return numeric.norm2(x.x);",`var f = numeric.norm2Squared;
return Math.sqrt(f(x.x)+f(x.y));`);numeric.T.prototype.inv=function(){var r=this;if(typeof r.y>"u")return new numeric.T(numeric.inv(r.x));var t=r.x.length,h,m,y,n=numeric.identity(t),i=numeric.rep([t,t],0),c=numeric.clone(r.x),u=numeric.clone(r.y),a,s,o,l,d,p,f,v,h,m,y,g,b,_,S,w,O,x;for(h=0;h<t;h++){for(_=c[h][h],S=u[h][h],g=_*_+S*S,y=h,m=h+1;m<t;m++)_=c[m][h],S=u[m][h],b=_*_+S*S,b>g&&(y=m,g=b);for(y!==h&&(x=c[h],c[h]=c[y],c[y]=x,x=u[h],u[h]=u[y],u[y]=x,x=n[h],n[h]=n[y],n[y]=x,x=i[h],i[h]=i[y],i[y]=x),a=c[h],s=u[h],d=n[h],p=i[h],_=a[h],S=s[h],m=h+1;m<t;m++)w=a[m],O=s[m],a[m]=(w*_+O*S)/g,s[m]=(O*_-w*S)/g;for(m=0;m<t;m++)w=d[m],O=p[m],d[m]=(w*_+O*S)/g,p[m]=(O*_-w*S)/g;for(m=h+1;m<t;m++){for(o=c[m],l=u[m],f=n[m],v=i[m],_=o[h],S=l[h],y=h+1;y<t;y++)w=a[y],O=s[y],o[y]-=w*_-O*S,l[y]-=O*_+w*S;for(y=0;y<t;y++)w=d[y],O=p[y],f[y]-=w*_-O*S,v[y]-=O*_+w*S}}for(h=t-1;h>0;h--)for(d=n[h],p=i[h],m=h-1;m>=0;m--)for(f=n[m],v=i[m],_=c[m][h],S=u[m][h],y=t-1;y>=0;y--)w=d[y],O=p[y],f[y]-=_*w-S*O,v[y]-=_*O+S*w;return new numeric.T(n,i)};numeric.T.prototype.get=function(r){var t=this.x,n=this.y,i=0,c,u=r.length;if(n){for(;i<u;)c=r[i],t=t[c],n=n[c],i++;return new numeric.T(t,n)}for(;i<u;)c=r[i],t=t[c],i++;return new numeric.T(t)};numeric.T.prototype.set=function(r,t){var n=this.x,i=this.y,c=0,u,a=r.length,s=t.x,o=t.y;if(a===0)return o?this.y=o:i&&(this.y=void 0),this.x=n,this;if(o){for(i||(i=numeric.rep(numeric.dim(n),0),this.y=i);c<a-1;)u=r[c],n=n[u],i=i[u],c++;return u=r[c],n[u]=s,i[u]=o,this}if(i){for(;c<a-1;)u=r[c],n=n[u],i=i[u],c++;return u=r[c],n[u]=s,s instanceof Array?i[u]=numeric.rep(numeric.dim(s),0):i[u]=0,this}for(;c<a-1;)u=r[c],n=n[u],c++;return u=r[c],n[u]=s,this};numeric.T.prototype.getRows=function(r,t){var n=t-r+1,i,c=Array(n),u,a=this.x,s=this.y;for(i=r;i<=t;i++)c[i-r]=a[i];if(s){for(u=Array(n),i=r;i<=t;i++)u[i-r]=s[i];return new numeric.T(c,u)}return new numeric.T(c)};numeric.T.prototype.setRows=function(r,t,n){var i,c=this.x,u=this.y,a=n.x,s=n.y;for(i=r;i<=t;i++)c[i]=a[i-r];if(s)for(u||(u=numeric.rep(numeric.dim(c),0),this.y=u),i=r;i<=t;i++)u[i]=s[i-r];else if(u)for(i=r;i<=t;i++)u[i]=numeric.rep([a[i-r].length],0);return this};numeric.T.prototype.getRow=function(r){var t=this.x,n=this.y;return n?new numeric.T(t[r],n[r]):new numeric.T(t[r])};numeric.T.prototype.setRow=function(r,t){var n=this.x,i=this.y,c=t.x,u=t.y;return n[r]=c,u?(i||(i=numeric.rep(numeric.dim(n),0),this.y=i),i[r]=u):i&&(i=numeric.rep([c.length],0)),this};numeric.T.prototype.getBlock=function(r,t){var n=this.x,i=this.y,c=numeric.getBlock;return i?new numeric.T(c(n,r,t),c(i,r,t)):new numeric.T(c(n,r,t))};numeric.T.prototype.setBlock=function(r,t,n){n instanceof numeric.T||(n=new numeric.T(n));var i=this.x,c=this.y,u=numeric.setBlock,a=n.x,s=n.y;if(s)return c||(this.y=numeric.rep(numeric.dim(this),0),c=this.y),u(i,r,t,a),u(c,r,t,s),this;u(i,r,t,a),c&&u(c,r,t,numeric.rep(numeric.dim(a),0))};numeric.T.rep=function(r,t){var n=numeric.T;t instanceof n||(t=new n(t));var i=t.x,c=t.y,u=numeric.rep;return c?new n(u(r,i),u(r,c)):new n(u(r,i))};numeric.T.diag=function(r){r instanceof numeric.T||(r=new numeric.T(r));var t=r.x,n=r.y,i=numeric.diag;return n?new numeric.T(i(t),i(n)):new numeric.T(i(t))};numeric.T.eig=function(){if(this.y)throw new Error("eig: not implemented for complex matrices.");return numeric.eig(this.x)};numeric.T.identity=function(r){return new numeric.T(numeric.identity(r))};numeric.T.prototype.getDiag=function(){var r=numeric,t=this.x,n=this.y;return n?new r.T(r.getDiag(t),r.getDiag(n)):new r.T(r.getDiag(t))};numeric.house=function(r){var t=numeric.clone(r),n=r[0]>=0?1:-1,i=n*numeric.norm2(r);t[0]+=i;var c=numeric.norm2(t);if(c===0)throw new Error("eig: internal error");return numeric.div(t,c)};numeric.toUpperHessenberg=function(r){var t=numeric.dim(r);if(t.length!==2||t[0]!==t[1])throw new Error("numeric: toUpperHessenberg() only works on square matrices");var n=t[0],i,c,u,a,s,o=numeric.clone(r),l,d,p,f,v=numeric.identity(n),h;for(c=0;c<n-2;c++){for(a=Array(n-c-1),i=c+1;i<n;i++)a[i-c-1]=o[i][c];if(numeric.norm2(a)>0){for(s=numeric.house(a),l=numeric.getBlock(o,[c+1,c],[n-1,n-1]),d=numeric.tensor(s,numeric.dot(s,l)),i=c+1;i<n;i++)for(p=o[i],f=d[i-c-1],u=c;u<n;u++)p[u]-=2*f[u-c];for(l=numeric.getBlock(o,[0,c+1],[n-1,n-1]),d=numeric.tensor(numeric.dot(l,s),s),i=0;i<n;i++)for(p=o[i],f=d[i],u=c+1;u<n;u++)p[u]-=2*f[u-c-1];for(l=Array(n-c-1),i=c+1;i<n;i++)l[i-c-1]=v[i];for(d=numeric.tensor(s,numeric.dot(s,l)),i=c+1;i<n;i++)for(h=v[i],f=d[i-c-1],u=0;u<n;u++)h[u]-=2*f[u]}}return{H:o,Q:v}};numeric.epsilon=2220446049250313e-31;numeric.QRFrancis=function(e,r){typeof r>"u"&&(r=1e4),e=numeric.clone(e);var t=numeric.clone(e),n=numeric.dim(e),i=n[0],c,u,a,s,o,l,d,p,f,v=numeric.identity(i),h,m,y,g,b,_,S,w,O;if(i<3)return{Q:v,B:[[0,i-1]]};var x=numeric.epsilon;for(O=0;O<r;O++){for(S=0;S<i-1;S++)if(Math.abs(e[S+1][S])<x*(Math.abs(e[S][S])+Math.abs(e[S+1][S+1]))){var N=numeric.QRFrancis(numeric.getBlock(e,[0,0],[S,S]),r),M=numeric.QRFrancis(numeric.getBlock(e,[S+1,S+1],[i-1,i-1]),r);for(y=Array(S+1),_=0;_<=S;_++)y[_]=v[_];for(g=numeric.dot(N.Q,y),_=0;_<=S;_++)v[_]=g[_];for(y=Array(i-S-1),_=S+1;_<i;_++)y[_-S-1]=v[_];for(g=numeric.dot(M.Q,y),_=S+1;_<i;_++)v[_]=g[_-S-1];return{Q:v,B:N.B.concat(numeric.add(M.B,S+1))}}if(a=e[i-2][i-2],s=e[i-2][i-1],o=e[i-1][i-2],l=e[i-1][i-1],p=a+l,d=a*l-s*o,f=numeric.getBlock(e,[0,0],[2,2]),p*p>=4*d){var I,q;I=.5*(p+Math.sqrt(p*p-4*d)),q=.5*(p-Math.sqrt(p*p-4*d)),f=numeric.add(numeric.sub(numeric.dot(f,f),numeric.mul(f,I+q)),numeric.diag(numeric.rep([3],I*q)))}else f=numeric.add(numeric.sub(numeric.dot(f,f),numeric.mul(f,p)),numeric.diag(numeric.rep([3],d)));for(c=[f[0][0],f[1][0],f[2][0]],u=numeric.house(c),y=[e[0],e[1],e[2]],g=numeric.tensor(u,numeric.dot(u,y)),_=0;_<3;_++)for(m=e[_],b=g[_],w=0;w<i;w++)m[w]-=2*b[w];for(y=numeric.getBlock(e,[0,0],[i-1,2]),g=numeric.tensor(numeric.dot(y,u),u),_=0;_<i;_++)for(m=e[_],b=g[_],w=0;w<3;w++)m[w]-=2*b[w];for(y=[v[0],v[1],v[2]],g=numeric.tensor(u,numeric.dot(u,y)),_=0;_<3;_++)for(h=v[_],b=g[_],w=0;w<i;w++)h[w]-=2*b[w];var z;for(S=0;S<i-2;S++){for(w=S;w<=S+1;w++)if(Math.abs(e[w+1][w])<x*(Math.abs(e[w][w])+Math.abs(e[w+1][w+1]))){var N=numeric.QRFrancis(numeric.getBlock(e,[0,0],[w,w]),r),M=numeric.QRFrancis(numeric.getBlock(e,[w+1,w+1],[i-1,i-1]),r);for(y=Array(w+1),_=0;_<=w;_++)y[_]=v[_];for(g=numeric.dot(N.Q,y),_=0;_<=w;_++)v[_]=g[_];for(y=Array(i-w-1),_=w+1;_<i;_++)y[_-w-1]=v[_];for(g=numeric.dot(M.Q,y),_=w+1;_<i;_++)v[_]=g[_-w-1];return{Q:v,B:N.B.concat(numeric.add(M.B,w+1))}}for(z=Math.min(i-1,S+3),c=Array(z-S),_=S+1;_<=z;_++)c[_-S-1]=e[_][S];for(u=numeric.house(c),y=numeric.getBlock(e,[S+1,S],[z,i-1]),g=numeric.tensor(u,numeric.dot(u,y)),_=S+1;_<=z;_++)for(m=e[_],b=g[_-S-1],w=S;w<i;w++)m[w]-=2*b[w-S];for(y=numeric.getBlock(e,[0,S+1],[i-1,z]),g=numeric.tensor(numeric.dot(y,u),u),_=0;_<i;_++)for(m=e[_],b=g[_],w=S+1;w<=z;w++)m[w]-=2*b[w-S-1];for(y=Array(z-S),_=S+1;_<=z;_++)y[_-S-1]=v[_];for(g=numeric.tensor(u,numeric.dot(u,y)),_=S+1;_<=z;_++)for(h=v[_],b=g[_-S-1],w=0;w<i;w++)h[w]-=2*b[w]}}throw new Error("numeric: eigenvalue iteration does not converge -- increase maxiter?")};numeric.eig=function(r,t){var n=numeric.toUpperHessenberg(r),i=numeric.QRFrancis(n.H,t),c=numeric.T,R=r.length,u,a,s=!1,o=i.B,l=numeric.dot(i.Q,numeric.dot(n.H,numeric.transpose(i.Q))),d=new c(numeric.dot(i.Q,n.Q)),p,f=o.length,v,h,m,y,g,b,_,S,w,O,x,N,M,I,q=Math.sqrt;for(a=0;a<f;a++)if(u=o[a][0],u!==o[a][1]){if(v=u+1,h=l[u][u],m=l[u][v],y=l[v][u],g=l[v][v],m===0&&y===0)continue;b=-h-g,_=h*g-m*y,S=b*b-4*_,S>=0?(b<0?w=-.5*(b-q(S)):w=-.5*(b+q(S)),M=(h-w)*(h-w)+m*m,I=y*y+(g-w)*(g-w),M>I?(M=q(M),x=(h-w)/M,N=m/M):(I=q(I),x=y/I,N=(g-w)/I),p=new c([[N,-x],[x,N]]),d.setRows(u,v,p.dot(d.getRows(u,v)))):(w=-.5*b,O=.5*q(-S),M=(h-w)*(h-w)+m*m,I=y*y+(g-w)*(g-w),M>I?(M=q(M+O*O),x=(h-w)/M,N=m/M,w=0,O/=M):(I=q(I+O*O),x=y/I,N=(g-w)/I,w=O/I,O=0),p=new c([[N,-x],[x,N]],[[w,O],[O,-w]]),d.setRows(u,v,p.dot(d.getRows(u,v))))}var z=d.dot(r).dot(d.transjugate()),R=r.length,j=numeric.T.identity(R);for(v=0;v<R;v++)if(v>0)for(a=v-1;a>=0;a--){var L=z.get([a,a]),P=z.get([v,v]);if(numeric.neq(L.x,P.x)||numeric.neq(L.y,P.y))w=z.getRow(a).getBlock([a],[v-1]),O=j.getRow(v).getBlock([a],[v-1]),j.set([v,a],z.get([a,v]).neg().sub(w.dot(O)).div(L.sub(P)));else{j.setRow(v,j.getRow(a));continue}}for(v=0;v<R;v++)w=j.getRow(v),j.setRow(v,w.div(w.norm2()));return j=j.transpose(),j=d.transjugate().dot(j),{lambda:z.getDiag(),E:j}};numeric.ccsSparse=function(r){var t=r.length,a,n,i,c,u=[];for(i=t-1;i!==-1;--i){n=r[i];for(c in n){for(c=parseInt(c);c>=u.length;)u[u.length]=0;n[c]!==0&&u[c]++}}var a=u.length,s=Array(a+1);for(s[0]=0,i=0;i<a;++i)s[i+1]=s[i]+u[i];var o=Array(s[a]),l=Array(s[a]);for(i=t-1;i!==-1;--i){n=r[i];for(c in n)n[c]!==0&&(u[c]--,o[s[c]+u[c]]=i,l[s[c]+u[c]]=n[c])}return[s,o,l]};numeric.ccsFull=function(r){var t=r[0],n=r[1],i=r[2],c=numeric.ccsDim(r),u=c[0],a=c[1],s,o,l,d,p,f=numeric.rep([u,a],0);for(s=0;s<a;s++)for(l=t[s],d=t[s+1],o=l;o<d;++o)f[n[o]][s]=i[o];return f};numeric.ccsTSolve=function(r,t,n,i,c){var u=r[0],a=r[1],s=r[2],o=u.length-1,l=Math.max,d=0;typeof i>"u"&&(n=numeric.rep([o],0)),typeof i>"u"&&(i=numeric.linspace(0,n.length-1)),typeof c>"u"&&(c=[]);function p(w){var O;if(n[w]===0){for(n[w]=1,O=u[w];O<u[w+1];++O)p(a[O]);c[d]=w,++d}}var f,v,h,m,y,g,b,_,S;for(f=i.length-1;f!==-1;--f)p(i[f]);for(c.length=d,f=c.length-1;f!==-1;--f)n[c[f]]=0;for(f=i.length-1;f!==-1;--f)v=i[f],n[v]=t[v];for(f=c.length-1;f!==-1;--f){for(v=c[f],h=u[v],m=l(u[v+1],h),y=h;y!==m;++y)if(a[y]===v){n[v]/=s[y];break}for(S=n[v],y=h;y!==m;++y)g=a[y],g!==v&&(n[g]-=S*s[y])}return n};numeric.ccsDFS=function(r){this.k=Array(r),this.k1=Array(r),this.j=Array(r)};numeric.ccsDFS.prototype.dfs=function(r,t,n,i,c,u){var a=0,s,o=c.length,l=this.k,d=this.k1,p=this.j,f,v;if(i[r]===0)for(i[r]=1,p[0]=r,l[0]=f=t[r],d[0]=v=t[r+1];;)if(f>=v){if(c[o]=p[a],a===0)return;++o,--a,f=l[a],v=d[a]}else s=u[n[f]],i[s]===0?(i[s]=1,l[a]=f,++a,p[a]=s,f=t[s],d[a]=v=t[s+1]):++f};numeric.ccsLPSolve=function(r,t,n,i,c,u,a){var s=r[0],o=r[1],l=r[2],d=s.length-1,p=0,f=t[0],v=t[1],h=t[2],m,y,g,b,_,S,w,O,x,N,M,I;for(y=f[c],g=f[c+1],i.length=0,m=y;m<g;++m)a.dfs(u[v[m]],s,o,n,i,u);for(m=i.length-1;m!==-1;--m)n[i[m]]=0;for(m=y;m!==g;++m)b=u[v[m]],n[b]=h[m];for(m=i.length-1;m!==-1;--m){for(b=i[m],S=s[b],w=s[b+1],O=S;O<w;++O)if(u[o[O]]===b){n[b]/=l[O];break}for(I=n[b],O=S;O<w;++O)x=u[o[O]],x!==b&&(n[x]-=I*l[O])}return n};numeric.ccsLUP1=function(r,t){var n=r[0].length-1,i=[numeric.rep([n+1],0),[],[]],c=[numeric.rep([n+1],0),[],[]],u=i[0],a=i[1],s=i[2],o=c[0],l=c[1],d=c[2],p=numeric.rep([n],0),f=numeric.rep([n],0),v,h,m,y,g,b,_,S,w,O,x=numeric.ccsLPSolve,N=Math.max,M=Math.abs,I=numeric.linspace(0,n-1),q=numeric.linspace(0,n-1),z=new numeric.ccsDFS(n);for(typeof t>"u"&&(t=1),v=0;v<n;++v){for(x(i,r,p,f,v,q,z),b=-1,_=-1,h=f.length-1;h!==-1;--h)m=f[h],!(m<=v)&&(S=M(p[m]),S>b&&(_=m,b=S));for(M(p[v])<t*b&&(h=I[v],b=I[_],I[v]=b,q[b]=v,I[_]=h,q[h]=_,b=p[v],p[v]=p[_],p[_]=b),b=u[v],_=o[v],w=p[v],a[b]=I[v],s[b]=1,++b,h=f.length-1;h!==-1;--h)m=f[h],S=p[m],f[h]=0,p[m]=0,m<=v?(l[_]=m,d[_]=S,++_):(a[b]=I[m],s[b]=S/w,++b);u[v+1]=b,o[v+1]=_}for(h=a.length-1;h!==-1;--h)a[h]=q[a[h]];return{L:i,U:c,P:I,Pinv:q}};numeric.ccsDFS0=function(r){this.k=Array(r),this.k1=Array(r),this.j=Array(r)};numeric.ccsDFS0.prototype.dfs=function(r,t,n,i,c,u,a){var s=0,o,l=c.length,d=this.k,p=this.k1,f=this.j,v,h;if(i[r]===0)for(i[r]=1,f[0]=r,d[0]=v=t[u[r]],p[0]=h=t[u[r]+1];;){if(isNaN(v))throw new Error("Ow!");if(v>=h){if(c[l]=u[f[s]],s===0)return;++l,--s,v=d[s],h=p[s]}else o=n[v],i[o]===0?(i[o]=1,d[s]=v,++s,f[s]=o,o=u[o],v=t[o],p[s]=h=t[o+1]):++v}};numeric.ccsLPSolve0=function(r,t,n,i,c,u,a,s){var o=r[0],l=r[1],d=r[2],p=o.length-1,f=0,v=t[0],h=t[1],m=t[2],y,g,b,_,S,w,O,x,N,M,I,q;for(g=v[c],b=v[c+1],i.length=0,y=g;y<b;++y)s.dfs(h[y],o,l,n,i,u,a);for(y=i.length-1;y!==-1;--y)_=i[y],n[a[_]]=0;for(y=g;y!==b;++y)_=h[y],n[_]=m[y];for(y=i.length-1;y!==-1;--y){for(_=i[y],N=a[_],w=o[_],O=o[_+1],x=w;x<O;++x)if(l[x]===N){n[N]/=d[x];break}for(q=n[N],x=w;x<O;++x)n[l[x]]-=q*d[x];n[N]=q}};numeric.ccsLUP0=function(r,t){var n=r[0].length-1,i=[numeric.rep([n+1],0),[],[]],c=[numeric.rep([n+1],0),[],[]],u=i[0],a=i[1],s=i[2],o=c[0],l=c[1],d=c[2],p=numeric.rep([n],0),f=numeric.rep([n],0),v,h,m,y,g,b,_,S,w,O,x=numeric.ccsLPSolve0,N=Math.max,M=Math.abs,I=numeric.linspace(0,n-1),q=numeric.linspace(0,n-1),z=new numeric.ccsDFS0(n);for(typeof t>"u"&&(t=1),v=0;v<n;++v){for(x(i,r,p,f,v,q,I,z),b=-1,_=-1,h=f.length-1;h!==-1;--h)m=f[h],!(m<=v)&&(S=M(p[I[m]]),S>b&&(_=m,b=S));for(M(p[I[v]])<t*b&&(h=I[v],b=I[_],I[v]=b,q[b]=v,I[_]=h,q[h]=_),b=u[v],_=o[v],w=p[I[v]],a[b]=I[v],s[b]=1,++b,h=f.length-1;h!==-1;--h)m=f[h],S=p[I[m]],f[h]=0,p[I[m]]=0,m<=v?(l[_]=m,d[_]=S,++_):(a[b]=I[m],s[b]=S/w,++b);u[v+1]=b,o[v+1]=_}for(h=a.length-1;h!==-1;--h)a[h]=q[a[h]];return{L:i,U:c,P:I,Pinv:q}};numeric.ccsLUP=numeric.ccsLUP0;numeric.ccsDim=function(r){return[numeric.sup(r[1])+1,r[0].length-1]};numeric.ccsGetBlock=function(r,t,n){var i=numeric.ccsDim(r),c=i[0],u=i[1];typeof t>"u"?t=numeric.linspace(0,c-1):typeof t=="number"&&(t=[t]),typeof n>"u"?n=numeric.linspace(0,u-1):typeof n=="number"&&(n=[n]);var a,s,o,l=t.length,d,p=n.length,f,v,h,m=numeric.rep([u],0),y=[],g=[],b=[m,y,g],_=r[0],S=r[1],w=r[2],O=numeric.rep([c],0),x=0,N=numeric.rep([c],0);for(d=0;d<p;++d){v=n[d];var M=_[v],I=_[v+1];for(a=M;a<I;++a)f=S[a],N[f]=1,O[f]=w[a];for(a=0;a<l;++a)h=t[a],N[h]&&(y[x]=a,g[x]=O[t[a]],++x);for(a=M;a<I;++a)f=S[a],N[f]=0;m[d+1]=x}return b};numeric.ccsDot=function(r,t){var n=r[0],i=r[1],c=r[2],u=t[0],a=t[1],s=t[2],o=numeric.ccsDim(r),l=numeric.ccsDim(t),d=o[0],p=o[1],f=l[1],v=numeric.rep([d],0),h=numeric.rep([d],0),m=Array(d),y=numeric.rep([f],0),g=[],b=[],_=[y,g,b],S,w,O,x,N,M,I,q,z,R,j;for(O=0;O!==f;++O){for(x=u[O],N=u[O+1],z=0,w=x;w<N;++w)for(R=a[w],j=s[w],M=n[R],I=n[R+1],S=M;S<I;++S)q=i[S],h[q]===0&&(m[z]=q,h[q]=1,z=z+1),v[q]=v[q]+c[S]*j;for(x=y[O],N=x+z,y[O+1]=N,w=z-1;w!==-1;--w)j=x+w,S=m[w],g[j]=S,b[j]=v[S],h[S]=0,v[S]=0;y[O+1]=y[O]+z}return _};numeric.ccsLUPSolve=function(r,t){var n=r.L,i=r.U,c=r.P,u=t[0],a=!1;typeof u!="object"&&(t=[[0,t.length],numeric.linspace(0,t.length-1),t],u=t[0],a=!0);var s=t[1],o=t[2],l=n[0].length-1,d=u.length-1,p=numeric.rep([l],0),f=Array(l),v=numeric.rep([l],0),h=Array(l),m=numeric.rep([d+1],0),y=[],g=[],b=numeric.ccsTSolve,_,S,w,O,x,N,M=0;for(_=0;_<d;++_){for(x=0,w=u[_],O=u[_+1],S=w;S<O;++S)N=r.Pinv[s[S]],h[x]=N,v[N]=o[S],++x;for(h.length=x,b(n,v,p,h,f),S=h.length-1;S!==-1;--S)v[h[S]]=0;if(b(i,p,v,f,h),a)return v;for(S=f.length-1;S!==-1;--S)p[f[S]]=0;for(S=h.length-1;S!==-1;--S)N=h[S],y[M]=N,g[M]=v[N],v[N]=0,++M;m[_+1]=M}return[m,y,g]};numeric.ccsbinop=function(r,t){return typeof t>"u"&&(t=""),Function("X","Y",`var Xi = X[0], Xj = X[1], Xv = X[2];
var Yi = Y[0], Yj = Y[1], Yv = Y[2];
var n = Xi.length-1,m = Math.max(numeric.sup(Xj),numeric.sup(Yj))+1;
var Zi = numeric.rep([n+1],0), Zj = [], Zv = [];
var x = numeric.rep([m],0),y = numeric.rep([m],0);
var xk,yk,zk;
var i,j,j0,j1,k,p=0;
`+t+`for(i=0;i<n;++i) {
  j0 = Xi[i]; j1 = Xi[i+1];
  for(j=j0;j!==j1;++j) {
    k = Xj[j];
    x[k] = 1;
    Zj[p] = k;
    ++p;
  }
  j0 = Yi[i]; j1 = Yi[i+1];
  for(j=j0;j!==j1;++j) {
    k = Yj[j];
    y[k] = Yv[j];
    if(x[k] === 0) {
      Zj[p] = k;
      ++p;
    }
  }
  Zi[i+1] = p;
  j0 = Xi[i]; j1 = Xi[i+1];
  for(j=j0;j!==j1;++j) x[Xj[j]] = Xv[j];
  j0 = Zi[i]; j1 = Zi[i+1];
  for(j=j0;j!==j1;++j) {
    k = Zj[j];
    xk = x[k];
    yk = y[k];
`+r+`
    Zv[j] = zk;
  }
  j0 = Xi[i]; j1 = Xi[i+1];
  for(j=j0;j!==j1;++j) x[Xj[j]] = 0;
  j0 = Yi[i]; j1 = Yi[i+1];
  for(j=j0;j!==j1;++j) y[Yj[j]] = 0;
}
return [Zi,Zj,Zv];`)};(function(){var k,A,B,C;for(k in numeric.ops2)isFinite(eval("1"+numeric.ops2[k]+"0"))?A="[Y[0],Y[1],numeric."+k+"(X,Y[2])]":A="NaN",isFinite(eval("0"+numeric.ops2[k]+"1"))?B="[X[0],X[1],numeric."+k+"(X[2],Y)]":B="NaN",isFinite(eval("1"+numeric.ops2[k]+"0"))&&isFinite(eval("0"+numeric.ops2[k]+"1"))?C="numeric.ccs"+k+"MM(X,Y)":C="NaN",numeric["ccs"+k+"MM"]=numeric.ccsbinop("zk = xk "+numeric.ops2[k]+"yk;"),numeric["ccs"+k]=Function("X","Y",'if(typeof X === "number") return '+A+`;
if(typeof Y === "number") return `+B+`;
return `+C+`;
`)})();numeric.ccsScatter=function e(r){var t=r[0],n=r[1],i=r[2],c=numeric.sup(n)+1,u=t.length,a=numeric.rep([c],0),s=Array(u),o=Array(u),l=numeric.rep([c],0),d;for(d=0;d<u;++d)l[n[d]]++;for(d=0;d<c;++d)a[d+1]=a[d]+l[d];var p=a.slice(0),f,v;for(d=0;d<u;++d)v=n[d],f=p[v],s[f]=t[d],o[f]=i[d],p[v]=p[v]+1;return[a,s,o]};numeric.ccsGather=function e(r){var t=r[0],n=r[1],i=r[2],c=t.length-1,u=n.length,a=Array(u),s=Array(u),o=Array(u),l,d,p,f,v;for(v=0,l=0;l<c;++l)for(p=t[l],f=t[l+1],d=p;d!==f;++d)s[v]=l,a[v]=n[d],o[v]=i[d],++v;return[a,s,o]};numeric.sdim=function e(r,t,n){if(typeof t>"u"&&(t=[]),typeof r!="object")return t;typeof n>"u"&&(n=0),n in t||(t[n]=0),r.length>t[n]&&(t[n]=r.length);var i;for(i in r)r.hasOwnProperty(i)&&e(r[i],t,n+1);return t};numeric.sclone=function e(r,t,n){typeof t>"u"&&(t=0),typeof n>"u"&&(n=numeric.sdim(r).length);var i,c=Array(r.length);if(t===n-1){for(i in r)r.hasOwnProperty(i)&&(c[i]=r[i]);return c}for(i in r)r.hasOwnProperty(i)&&(c[i]=e(r[i],t+1,n));return c};numeric.sdiag=function e(r){var t=r.length,n,i=Array(t),c,u,a;for(n=t-1;n>=1;n-=2)c=n-1,i[n]=[],i[n][n]=r[n],i[c]=[],i[c][c]=r[c];return n===0&&(i[0]=[],i[0][0]=r[n]),i};numeric.sidentity=function e(r){return numeric.sdiag(numeric.rep([r],1))};numeric.stranspose=function e(r){var t=[],n=r.length,i,c,u;for(i in r)if(!!r.hasOwnProperty(i)){u=r[i];for(c in u)!u.hasOwnProperty(c)||(typeof t[c]!="object"&&(t[c]=[]),t[c][i]=u[c])}return t};numeric.sLUP=function e(r,t){throw new Error("The function numeric.sLUP had a bug in it and has been removed. Please use the new numeric.ccsLUP function instead.")};numeric.sdotMM=function e(r,t){var n=r.length,i=t.length,c=numeric.stranspose(t),u=c.length,a,s,o,l,d,p,f=Array(n),v;for(o=n-1;o>=0;o--){for(v=[],a=r[o],d=u-1;d>=0;d--){p=0,s=c[d];for(l in a)!a.hasOwnProperty(l)||l in s&&(p+=a[l]*s[l]);p&&(v[d]=p)}f[o]=v}return f};numeric.sdotMV=function e(r,t){var n=r.length,i,c,u,a=Array(n),s;for(c=n-1;c>=0;c--){i=r[c],s=0;for(u in i)!i.hasOwnProperty(u)||t[u]&&(s+=i[u]*t[u]);s&&(a[c]=s)}return a};numeric.sdotVM=function e(r,t){var n,i,c,u,a=[],s;for(n in r)if(!!r.hasOwnProperty(n)){c=t[n],u=r[n];for(i in c)!c.hasOwnProperty(i)||(a[i]||(a[i]=0),a[i]+=u*c[i])}return a};numeric.sdotVV=function e(r,t){var n,i=0;for(n in r)r[n]&&t[n]&&(i+=r[n]*t[n]);return i};numeric.sdot=function e(r,t){var n=numeric.sdim(r).length,i=numeric.sdim(t).length,c=n*1e3+i;switch(c){case 0:return r*t;case 1001:return numeric.sdotVV(r,t);case 2001:return numeric.sdotMV(r,t);case 1002:return numeric.sdotVM(r,t);case 2002:return numeric.sdotMM(r,t);default:throw new Error("numeric.sdot not implemented for tensors of order "+n+" and "+i)}};numeric.sscatter=function e(r){var t=r[0].length,n,i,c,u=r.length,a=[],s;for(i=t-1;i>=0;--i)if(!!r[u-1][i]){for(s=a,c=0;c<u-2;c++)n=r[c][i],s[n]||(s[n]=[]),s=s[n];s[r[c][i]]=r[c+1][i]}return a};numeric.sgather=function e(r,t,n){typeof t>"u"&&(t=[]),typeof n>"u"&&(n=[]);var i,c,u;i=n.length;for(c in r)if(r.hasOwnProperty(c))if(n[i]=parseInt(c),u=r[c],typeof u=="number"){if(u){if(t.length===0)for(c=i+1;c>=0;--c)t[c]=[];for(c=i;c>=0;--c)t[c].push(n[c]);t[i+1].push(u)}}else e(u,t,n);return n.length>i&&n.pop(),t};numeric.cLU=function e(r){var t=r[0],n=r[1],i=r[2],N=t.length,c=0,u,a,s,o,l,d;for(u=0;u<N;u++)t[u]>c&&(c=t[u]);c++;var p=Array(c),f=Array(c),v=numeric.rep([c],1/0),h=numeric.rep([c],-1/0),b,_,m;for(s=0;s<N;s++)u=t[s],a=n[s],a<v[u]&&(v[u]=a),a>h[u]&&(h[u]=a);for(u=0;u<c-1;u++)h[u]>h[u+1]&&(h[u+1]=h[u]);for(u=c-1;u>=1;u--)v[u]<v[u-1]&&(v[u-1]=v[u]);var y=0,g=0;for(u=0;u<c;u++)f[u]=numeric.rep([h[u]-v[u]+1],0),p[u]=numeric.rep([u-v[u]],0),y+=u-v[u]+1,g+=h[u]-u+1;for(s=0;s<N;s++)u=t[s],f[u][n[s]-v[u]]=i[s];for(u=0;u<c-1;u++)for(o=u-v[u],b=f[u],a=u+1;v[a]<=u&&a<c;a++)if(l=u-v[a],d=h[u]-u,_=f[a],m=_[l]/b[o],m){for(s=1;s<=d;s++)_[s+l]-=m*b[s+o];p[a][u-v[a]]=m}var b=[],_=[],S=[],w=[],O=[],x=[],N,M,I;for(N=0,M=0,u=0;u<c;u++){for(o=v[u],l=h[u],I=f[u],a=u;a<=l;a++)I[a-o]&&(b[N]=u,_[N]=a,S[N]=I[a-o],N++);for(I=p[u],a=o;a<u;a++)I[a-o]&&(w[M]=u,O[M]=a,x[M]=I[a-o],M++);w[M]=u,O[M]=u,x[M]=1,M++}return{U:[b,_,S],L:[w,O,x]}};numeric.cLUsolve=function e(r,t){var n=r.L,i=r.U,c=numeric.clone(t),u=n[0],a=n[1],s=n[2],o=i[0],l=i[1],d=i[2],p=o.length,f=u.length,v=c.length,h,m,y;for(y=0,h=0;h<v;h++){for(;a[y]<h;)c[h]-=s[y]*c[a[y]],y++;y++}for(y=p-1,h=v-1;h>=0;h--){for(;l[y]>h;)c[h]-=d[y]*c[l[y]],y--;c[h]/=d[y],y--}return c};numeric.cgrid=function e(r,t){typeof r=="number"&&(r=[r,r]);var n=numeric.rep(r,-1),i,c,u;if(typeof t!="function")switch(t){case"L":t=function(a,s){return a>=r[0]/2||s<r[1]/2};break;default:t=function(a,s){return!0};break}for(u=0,i=1;i<r[0]-1;i++)for(c=1;c<r[1]-1;c++)t(i,c)&&(n[i][c]=u,u++);return n};numeric.cdelsq=function e(r){var t=[[-1,0],[0,-1],[0,1],[1,0]],n=numeric.dim(r),i=n[0],c=n[1],u,a,s,o,l,d=[],p=[],f=[];for(u=1;u<i-1;u++)for(a=1;a<c-1;a++)if(!(r[u][a]<0)){for(s=0;s<4;s++)o=u+t[s][0],l=a+t[s][1],!(r[o][l]<0)&&(d.push(r[u][a]),p.push(r[o][l]),f.push(-1));d.push(r[u][a]),p.push(r[u][a]),f.push(4)}return[d,p,f]};numeric.cdotMV=function e(r,t){var n,i=r[0],c=r[1],u=r[2],a,s=i.length,o;for(o=0,a=0;a<s;a++)i[a]>o&&(o=i[a]);for(o++,n=numeric.rep([o],0),a=0;a<s;a++)n[i[a]]+=u[a]*t[c[a]];return n};numeric.Spline=function e(r,t,n,i,c){this.x=r,this.yl=t,this.yr=n,this.kl=i,this.kr=c};numeric.Spline.prototype._at=function e(s,t){var n=this.x,i=this.yl,c=this.yr,u=this.kl,a=this.kr,s,o,l,d,p=numeric.add,f=numeric.sub,v=numeric.mul;o=f(v(u[t],n[t+1]-n[t]),f(c[t+1],i[t])),l=p(v(a[t+1],n[t]-n[t+1]),f(c[t+1],i[t])),d=(s-n[t])/(n[t+1]-n[t]);var h=d*(1-d);return p(p(p(v(1-d,i[t]),v(d,c[t+1])),v(o,h*(1-d))),v(l,h*d))};numeric.Spline.prototype.at=function e(r){if(typeof r=="number"){var t=this.x,l=t.length,n,i,c,u=Math.floor,a,s,o;for(n=0,i=l-1;i-n>1;)c=u((n+i)/2),t[c]<=r?n=c:i=c;return this._at(r,n)}var l=r.length,d,p=Array(l);for(d=l-1;d!==-1;--d)p[d]=this.at(r[d]);return p};numeric.Spline.prototype.diff=function e(){var r=this.x,t=this.yl,n=this.yr,i=this.kl,c=this.kr,u=t.length,a,s,o,l=i,d=c,p=Array(u),f=Array(u),v=numeric.add,h=numeric.mul,m=numeric.div,y=numeric.sub;for(a=u-1;a!==-1;--a)s=r[a+1]-r[a],o=y(n[a+1],t[a]),p[a]=m(v(h(o,6),h(i[a],-4*s),h(c[a+1],-2*s)),s*s),f[a+1]=m(v(h(o,-6),h(i[a],2*s),h(c[a+1],4*s)),s*s);return new numeric.Spline(r,l,d,p,f)};numeric.Spline.prototype.roots=function e(){function r(le){return le*le}function t(le,Oe,ne,fe,Me){var me=ne*2-(Oe-le),Ce=-fe*2+(Oe-le),Be=(Me+1)*.5,je=Be*(1-Be);return(1-Be)*le+Be*Oe+me*je*(1-Be)+Ce*je*Be}var _=[],n=this.x,i=this.yl,c=this.yr,u=this.kl,a=this.kr;typeof i[0]=="number"&&(i=[i],c=[c],u=[u],a=[a]);var s=i.length,o=n.length-1,l,d,p,f,v,h,m,y,g,b,_=Array(s),S,w,O,x,N,M,I,q,z,R,j,L,P,V,E,Z,ue,ye=Math.sqrt;for(l=0;l!==s;++l){for(m=i[l],y=c[l],g=u[l],b=a[l],S=[],d=0;d!==o;d++){for(d>0&&y[d]*m[d]<0&&S.push(n[d]),z=n[d+1]-n[d],R=n[d],x=m[d],N=y[d+1],w=g[d]/z,O=b[d+1]/z,q=r(w-O+3*(x-N))+12*O*x,M=O+3*x+2*w-3*N,I=3*(O+w+2*(x-N)),q<=0?(L=M/I,L>n[d]&&L<n[d+1]?j=[n[d],L,n[d+1]]:j=[n[d],n[d+1]]):(L=(M-ye(q))/I,P=(M+ye(q))/I,j=[n[d]],L>n[d]&&L<n[d+1]&&j.push(L),P>n[d]&&P<n[d+1]&&j.push(P),j.push(n[d+1])),E=j[0],L=this._at(E,d),p=0;p<j.length-1;p++){if(Z=j[p+1],P=this._at(Z,d),L===0){S.push(E),E=Z,L=P;continue}if(P===0||L*P>0){E=Z,L=P;continue}for(var X=0;ue=(L*Z-P*E)/(L-P),!(ue<=E||ue>=Z);)if(V=this._at(ue,d),V*P>0)Z=ue,P=V,X===-1&&(L*=.5),X=-1;else if(V*L>0)E=ue,L=V,X===1&&(P*=.5),X=1;else break;S.push(ue),E=j[p+1],L=this._at(E,d)}P===0&&S.push(Z)}_[l]=S}return typeof this.yl[0]=="number"?_[0]:_};numeric.spline=function e(r,t,n,i){var c=r.length,u=[],a=[],s=[],o,l=numeric.sub,d=numeric.mul,p=numeric.add;for(o=c-2;o>=0;o--)a[o]=r[o+1]-r[o],s[o]=l(t[o+1],t[o]);(typeof n=="string"||typeof i=="string")&&(n=i="periodic");var f=[[],[],[]];switch(typeof n){case"undefined":u[0]=d(3/(a[0]*a[0]),s[0]),f[0].push(0,0),f[1].push(0,1),f[2].push(2/a[0],1/a[0]);break;case"string":u[0]=p(d(3/(a[c-2]*a[c-2]),s[c-2]),d(3/(a[0]*a[0]),s[0])),f[0].push(0,0,0),f[1].push(c-2,0,1),f[2].push(1/a[c-2],2/a[c-2]+2/a[0],1/a[0]);break;default:u[0]=n,f[0].push(0),f[1].push(0),f[2].push(1);break}for(o=1;o<c-1;o++)u[o]=p(d(3/(a[o-1]*a[o-1]),s[o-1]),d(3/(a[o]*a[o]),s[o])),f[0].push(o,o,o),f[1].push(o-1,o,o+1),f[2].push(1/a[o-1],2/a[o-1]+2/a[o],1/a[o]);switch(typeof i){case"undefined":u[c-1]=d(3/(a[c-2]*a[c-2]),s[c-2]),f[0].push(c-1,c-1),f[1].push(c-2,c-1),f[2].push(1/a[c-2],2/a[c-2]);break;case"string":f[1][f[1].length-1]=0;break;default:u[c-1]=i,f[0].push(c-1),f[1].push(c-1),f[2].push(1);break}typeof u[0]!="number"?u=numeric.transpose(u):u=[u];var v=Array(u.length);if(typeof n=="string")for(o=v.length-1;o!==-1;--o)v[o]=numeric.ccsLUPSolve(numeric.ccsLUP(numeric.ccsScatter(f)),u[o]),v[o][c-1]=v[o][0];else for(o=v.length-1;o!==-1;--o)v[o]=numeric.cLUsolve(numeric.cLU(f),u[o]);return typeof t[0]=="number"?v=v[0]:v=numeric.transpose(v),new numeric.Spline(r,t,t,v,v)};numeric.fftpow2=function e(r,t){var n=r.length;if(n!==1){var i=Math.cos,c=Math.sin,u,a,s=Array(n/2),o=Array(n/2),l=Array(n/2),d=Array(n/2);for(a=n/2,u=n-1;u!==-1;--u)--a,l[a]=r[u],d[a]=t[u],--u,s[a]=r[u],o[a]=t[u];e(s,o),e(l,d),a=n/2;var p,f=-6.283185307179586/n,v,h;for(u=n-1;u!==-1;--u)--a,a===-1&&(a=n/2-1),p=f*u,v=i(p),h=c(p),r[u]=s[a]+v*l[a]-h*d[a],t[u]=o[a]+v*d[a]+h*l[a]}};numeric._ifftpow2=function e(r,t){var n=r.length;if(n!==1){var i=Math.cos,c=Math.sin,u,a,s=Array(n/2),o=Array(n/2),l=Array(n/2),d=Array(n/2);for(a=n/2,u=n-1;u!==-1;--u)--a,l[a]=r[u],d[a]=t[u],--u,s[a]=r[u],o[a]=t[u];e(s,o),e(l,d),a=n/2;var p,f=6.283185307179586/n,v,h;for(u=n-1;u!==-1;--u)--a,a===-1&&(a=n/2-1),p=f*u,v=i(p),h=c(p),r[u]=s[a]+v*l[a]-h*d[a],t[u]=o[a]+v*d[a]+h*l[a]}};numeric.ifftpow2=function e(r,t){numeric._ifftpow2(r,t),numeric.diveq(r,r.length),numeric.diveq(t,t.length)};numeric.convpow2=function e(r,t,n,i){numeric.fftpow2(r,t),numeric.fftpow2(n,i);var c,u=r.length,a,s,o,l;for(c=u-1;c!==-1;--c)a=r[c],o=t[c],s=n[c],l=i[c],r[c]=a*s-o*l,t[c]=a*l+o*s;numeric.ifftpow2(r,t)};numeric.T.prototype.fft=function e(){var r=this.x,t=this.y,n=r.length,i=Math.log,c=i(2),u=Math.ceil(i(2*n-1)/c),a=Math.pow(2,u),s=numeric.rep([a],0),o=numeric.rep([a],0),l=Math.cos,d=Math.sin,p,f=-3.141592653589793/n,v,h=numeric.rep([a],0),m=numeric.rep([a],0),y=Math.floor(n/2);for(p=0;p<n;p++)h[p]=r[p];if(typeof t<"u")for(p=0;p<n;p++)m[p]=t[p];for(s[0]=1,p=1;p<=a/2;p++)v=f*p*p,s[p]=l(v),o[p]=d(v),s[a-p]=l(v),o[a-p]=d(v);var g=new numeric.T(h,m),b=new numeric.T(s,o);return g=g.mul(b),numeric.convpow2(g.x,g.y,numeric.clone(b.x),numeric.neg(b.y)),g=g.mul(b),g.x.length=n,g.y.length=n,g};numeric.T.prototype.ifft=function e(){var r=this.x,t=this.y,n=r.length,i=Math.log,c=i(2),u=Math.ceil(i(2*n-1)/c),a=Math.pow(2,u),s=numeric.rep([a],0),o=numeric.rep([a],0),l=Math.cos,d=Math.sin,p,f=3.141592653589793/n,v,h=numeric.rep([a],0),m=numeric.rep([a],0),y=Math.floor(n/2);for(p=0;p<n;p++)h[p]=r[p];if(typeof t<"u")for(p=0;p<n;p++)m[p]=t[p];for(s[0]=1,p=1;p<=a/2;p++)v=f*p*p,s[p]=l(v),o[p]=d(v),s[a-p]=l(v),o[a-p]=d(v);var g=new numeric.T(h,m),b=new numeric.T(s,o);return g=g.mul(b),numeric.convpow2(g.x,g.y,numeric.clone(b.x),numeric.neg(b.y)),g=g.mul(b),g.x.length=n,g.y.length=n,g.div(n)};numeric.gradient=function e(r,t){var n=t.length,i=r(t);if(isNaN(i))throw new Error("gradient: f(x) is a NaN!");var v=Math.max,c,u=numeric.clone(t),a,s,o=Array(n),l=numeric.div,d=numeric.sub,p,f,v=Math.max,h=.001,m=Math.abs,y=Math.min,g,b,_,S=0,w,O,x;for(c=0;c<n;c++)for(var N=v(1e-6*i,1e-8);;){if(++S,S>20)throw new Error("Numerical gradient fails");if(u[c]=t[c]+N,a=r(u),u[c]=t[c]-N,s=r(u),u[c]=t[c],isNaN(a)||isNaN(s)){N/=16;continue}if(o[c]=(a-s)/(2*N),g=t[c]-N,b=t[c],_=t[c]+N,w=(a-i)/N,O=(i-s)/N,x=v(m(o[c]),m(i),m(a),m(s),m(g),m(b),m(_),1e-8),p=y(v(m(w-o[c]),m(O-o[c]),m(w-O))/x,N/x),p>h)N/=16;else break}return o};numeric.uncmin=function e(r,t,n,i,c,u,a){var s=numeric.gradient;typeof a>"u"&&(a={}),typeof n>"u"&&(n=1e-8),typeof i>"u"&&(i=function(fe){return s(r,fe)}),typeof c>"u"&&(c=1e3),t=numeric.clone(t);var o=t.length,l=r(t),d,p;if(isNaN(l))throw new Error("uncmin: f(x0) is a NaN!");var f=Math.max,v=numeric.norm2;n=f(n,numeric.epsilon);var h,m,y,g=a.Hinv||numeric.identity(o),b=numeric.dot,_=numeric.inv,S=numeric.sub,w=numeric.add,O=numeric.tensor,x=numeric.div,N=numeric.mul,M=numeric.all,I=numeric.isFinite,q=numeric.neg,z=0,R,j,L,P,V,E,Z,ue,ye,X,le,Oe,ne="";for(m=i(t);z<c;){if(typeof u=="function"&&u(z,t,l,m,g)){ne="Callback returned true";break}if(!M(I(m))){ne="Gradient has Infinity or NaN";break}if(h=q(b(g,m)),!M(I(h))){ne="Search direction has Infinity or NaN";break}if(X=v(h),X<n){ne="Newton step smaller than tol";break}for(ye=1,p=b(m,h),L=t;z<c&&!(ye*X<n);){if(j=N(h,ye),L=w(t,j),d=r(L),d-l>=.1*ye*p||isNaN(d)){ye*=.5,++z;continue}break}if(ye*X<n){ne="Line search step size smaller than tol";break}if(z===c){ne="maxit reached during line search";break}y=i(L),P=S(y,m),Z=b(P,j),V=b(g,P),g=S(w(g,N((Z+b(P,V))/(Z*Z),O(j,j))),x(w(O(V,j),O(j,V)),Z)),t=L,l=d,m=y,++z}return{solution:t,f:l,gradient:m,invHessian:g,iterations:z,message:ne}};numeric.Dopri=function e(r,t,n,i,c,u,a){this.x=r,this.y=t,this.f=n,this.ymid=i,this.iterations=c,this.events=a,this.message=u};numeric.Dopri.prototype._at=function e(m,t){function n(M){return M*M}var i=this,c=i.x,u=i.y,a=i.f,s=i.ymid,o=c.length,l,d,p,f,v,h,m,y=Math.floor,g,b=.5,_=numeric.add,S=numeric.mul,w=numeric.sub,O,x,N;return l=c[t],d=c[t+1],f=u[t],v=u[t+1],g=d-l,p=l+b*g,h=s[t],O=w(a[t],S(f,1/(l-p)+2/(l-d))),x=w(a[t+1],S(v,1/(d-p)+2/(d-l))),N=[n(m-d)*(m-p)/n(l-d)/(l-p),n(m-l)*n(m-d)/n(l-p)/n(d-p),n(m-l)*(m-p)/n(d-l)/(d-p),(m-l)*n(m-d)*(m-p)/n(l-d)/(l-p),(m-d)*n(m-l)*(m-p)/n(l-d)/(d-p)],_(_(_(_(S(f,N[0]),S(h,N[1])),S(v,N[2])),S(O,N[3])),S(x,N[4]))};numeric.Dopri.prototype.at=function e(r){var t,n,i,c=Math.floor;if(typeof r!="number"){var u=r.length,a=Array(u);for(t=u-1;t!==-1;--t)a[t]=this.at(r[t]);return a}var s=this.x;for(t=0,n=s.length-1;n-t>1;)i=c(.5*(t+n)),s[i]<=r?t=i:n=i;return this._at(r,t)};numeric.dopri=function e(r,t,n,i,c,u,a){typeof c>"u"&&(c=1e-6),typeof u>"u"&&(u=1e3);var s=[r],o=[n],l=[i(r,n)],d,p,f,v,h,m,y=[],g=1/5,b=[3/40,9/40],_=[44/45,-56/15,32/9],S=[19372/6561,-25360/2187,64448/6561,-212/729],w=[9017/3168,-355/33,46732/5247,49/176,-5103/18656],O=[35/384,0,500/1113,125/192,-2187/6784,11/84],x=[.5*6025192743/30085553152,0,.5*51252292925/65400821598,.5*-2691868925/45128329728,.5*187940372067/1594534317056,.5*-1776094331/19743644256,.5*11237099/235043384],N=[1/5,3/10,4/5,8/9,1,1],M=[-71/57600,0,71/16695,-71/1920,17253/339200,-22/525,1/40],I=0,q,z,R=(t-r)/10,j=0,L=numeric.add,P=numeric.mul,V,E,Z=Math.max,ue=Math.min,ye=Math.abs,X=numeric.norminf,le=Math.pow,Oe=numeric.any,ne=numeric.lt,fe=numeric.and,Me=numeric.sub,me,Ce,Be,je=new numeric.Dopri(s,o,l,y,-1,"");for(typeof a=="function"&&(me=a(r,n));r<t&&j<u;){if(++j,r+R>t&&(R=t-r),d=i(r+N[0]*R,L(n,P(g*R,l[I]))),p=i(r+N[1]*R,L(L(n,P(b[0]*R,l[I])),P(b[1]*R,d))),f=i(r+N[2]*R,L(L(L(n,P(_[0]*R,l[I])),P(_[1]*R,d)),P(_[2]*R,p))),v=i(r+N[3]*R,L(L(L(L(n,P(S[0]*R,l[I])),P(S[1]*R,d)),P(S[2]*R,p)),P(S[3]*R,f))),h=i(r+N[4]*R,L(L(L(L(L(n,P(w[0]*R,l[I])),P(w[1]*R,d)),P(w[2]*R,p)),P(w[3]*R,f)),P(w[4]*R,v))),V=L(L(L(L(L(n,P(l[I],R*O[0])),P(p,R*O[2])),P(f,R*O[3])),P(v,R*O[4])),P(h,R*O[5])),m=i(r+R,V),q=L(L(L(L(L(P(l[I],R*M[0]),P(p,R*M[2])),P(f,R*M[3])),P(v,R*M[4])),P(h,R*M[5])),P(m,R*M[6])),typeof q=="number"?E=ye(q):E=X(q),E>c){if(R=.2*R*le(c/E,.25),r+R===r){je.msg="Step size became too small";break}continue}if(y[I]=L(L(L(L(L(L(n,P(l[I],R*x[0])),P(p,R*x[2])),P(f,R*x[3])),P(v,R*x[4])),P(h,R*x[5])),P(m,R*x[6])),++I,s[I]=r+R,o[I]=V,l[I]=m,typeof a=="function"){var We,Ge=r,ie=r+.5*R,pe;if(Ce=a(ie,y[I-1]),Be=fe(ne(me,0),ne(0,Ce)),Oe(Be)||(Ge=ie,ie=r+R,me=Ce,Ce=a(ie,V),Be=fe(ne(me,0),ne(0,Ce))),Oe(Be)){for(var te,ce,ge,ve,Pe=0,ke=1,Te=1;;){if(typeof me=="number")pe=(Te*Ce*Ge-ke*me*ie)/(Te*Ce-ke*me);else for(pe=ie,z=me.length-1;z!==-1;--z)me[z]<0&&Ce[z]>0&&(pe=ue(pe,(Te*Ce[z]*Ge-ke*me[z]*ie)/(Te*Ce[z]-ke*me[z])));if(pe<=Ge||pe>=ie)break;We=je._at(pe,I-1),ve=a(pe,We),ge=fe(ne(me,0),ne(0,ve)),Oe(ge)?(ie=pe,Ce=ve,Be=ge,Te=1,Pe===-1?ke*=.5:ke=1,Pe=-1):(Ge=pe,me=ve,ke=1,Pe===1?Te*=.5:Te=1,Pe=1)}return V=je._at(.5*(r+pe),I-1),je.f[I]=i(pe,We),je.x[I]=pe,je.y[I]=We,je.ymid[I-1]=V,je.events=Be,je.iterations=j,je}}r+=R,n=V,me=Ce,R=ue(.8*R*le(c/E,.25),4*R)}return je.iterations=j,je};numeric.LU=function(e,r){r=r||!1;var t=Math.abs,n,i,c,u,a,s,o,l,d,p=e.length,f=p-1,v=new Array(p);for(r||(e=numeric.clone(e)),c=0;c<p;++c){for(o=c,s=e[c],d=t(s[c]),i=c+1;i<p;++i)u=t(e[i][c]),d<u&&(d=u,o=i);for(v[c]=o,o!=c&&(e[c]=e[o],e[o]=s,s=e[c]),a=s[c],n=c+1;n<p;++n)e[n][c]/=a;for(n=c+1;n<p;++n){for(l=e[n],i=c+1;i<f;++i)l[i]-=l[c]*s[i],++i,l[i]-=l[c]*s[i];i===f&&(l[i]-=l[c]*s[i])}}return{LU:e,P:v}};numeric.LUsolve=function e(r,t){var n,i,c=r.LU,u=c.length,a=numeric.clone(t),s=r.P,o,l,d,p;for(n=u-1;n!==-1;--n)a[n]=t[n];for(n=0;n<u;++n)for(o=s[n],s[n]!==n&&(p=a[n],a[n]=a[o],a[o]=p),l=c[n],i=0;i<n;++i)a[n]-=a[i]*l[i];for(n=u-1;n>=0;--n){for(l=c[n],i=n+1;i<u;++i)a[n]-=a[i]*l[i];a[n]/=l[n]}return a};numeric.solve=function e(r,t,n){return numeric.LUsolve(numeric.LU(r,n),t)};numeric.echelonize=function e(r){var t=numeric.dim(r),n=t[0],i=t[1],c=numeric.identity(n),u=Array(n),a,s,o,l,d,p,f,v,h=Math.abs,m=numeric.diveq;for(r=numeric.clone(r),a=0;a<n;++a){for(o=0,d=r[a],p=c[a],s=1;s<i;++s)h(d[o])<h(d[s])&&(o=s);for(u[a]=o,m(p,d[o]),m(d,d[o]),s=0;s<n;++s)if(s!==a){for(f=r[s],v=f[o],l=i-1;l!==-1;--l)f[l]-=d[l]*v;for(f=c[s],l=n-1;l!==-1;--l)f[l]-=p[l]*v}}return{I:c,A:r,P:u}};numeric.__solveLP=function e(r,t,n,i,c,u,a){var s=numeric.sum,o=numeric.log,l=numeric.mul,d=numeric.sub,p=numeric.dot,f=numeric.div,v=numeric.add,h=r.length,m=n.length,y,g=!1,b,_=0,S=1,w,O,x=numeric.transpose(t),N=numeric.svd,M=numeric.transpose,I=numeric.leq,q=Math.sqrt,z=Math.abs,R=numeric.muleq,j=numeric.norminf,L=numeric.any,P=Math.min,V=numeric.all,E=numeric.gt,Z=Array(h),ue=Array(m),ye=numeric.rep([m],1),X,le=numeric.solve,Oe=d(n,p(t,u)),ne,fe=p(r,r),Me;for(ne=_;ne<c;++ne){var me,Ce,Be;for(me=m-1;me!==-1;--me)ue[me]=f(t[me],Oe[me]);var je=M(ue);for(me=h-1;me!==-1;--me)Z[me]=s(je[me]);S=.25*z(fe/p(r,Z));var We=100*q(fe/p(Z,Z));for((!isFinite(S)||S>We)&&(S=We),Me=v(r,l(S,Z)),X=p(je,ue),me=h-1;me!==-1;--me)X[me][me]+=1;Be=le(X,f(Me,S),!0);var Ge=f(Oe,p(t,Be)),ie=1;for(me=m-1;me!==-1;--me)Ge[me]<0&&(ie=P(ie,-.999*Ge[me]));if(y=d(u,l(Be,ie)),Oe=d(n,p(t,y)),!V(E(Oe,0)))return{solution:u,message:"",iterations:ne};if(u=y,S<i)return{solution:y,message:"",iterations:ne};if(a){var pe=p(r,Me),te=p(t,Me);for(g=!0,me=m-1;me!==-1;--me)if(pe*te[me]<0){g=!1;break}}else u[h-1]>=0?g=!1:g=!0;if(g)return{solution:y,message:"Unbounded",iterations:ne}}return{solution:u,message:"maximum iteration count exceeded",iterations:ne}};numeric._solveLP=function e(r,t,n,i,c){var u=r.length,a=n.length,b,s=numeric.sum,o=numeric.log,l=numeric.mul,d=numeric.sub,p=numeric.dot,f=numeric.div,v=numeric.add,h=numeric.rep([u],0).concat([1]),m=numeric.rep([a,1],-1),y=numeric.blockMatrix([[t,m]]),g=n,b=numeric.rep([u],0).concat(Math.max(0,numeric.sup(numeric.neg(n)))+1),_=numeric.__solveLP(h,y,g,i,c,b,!1),S=numeric.clone(_.solution);S.length=u;var w=numeric.inf(d(n,p(t,S)));if(w<0)return{solution:NaN,message:"Infeasible",iterations:_.iterations};var O=numeric.__solveLP(r,t,n,i,c-_.iterations,S,!0);return O.iterations+=_.iterations,O};numeric.solveLP=function e(r,t,n,i,c,u,a){if(typeof a>"u"&&(a=1e3),typeof u>"u"&&(u=numeric.epsilon),typeof i>"u")return numeric._solveLP(r,t,n,u,a);var s=i.length,o=i[0].length,l=t.length,d=numeric.echelonize(i),p=numeric.rep([o],0),f=d.P,v=[],h;for(h=f.length-1;h!==-1;--h)p[f[h]]=1;for(h=o-1;h!==-1;--h)p[h]===0&&v.push(h);var m=numeric.getRange,y=numeric.linspace(0,s-1),g=numeric.linspace(0,l-1),b=m(i,y,v),_=m(t,g,f),S=m(t,g,v),w=numeric.dot,O=numeric.sub,x=w(_,d.I),N=O(S,w(x,b)),M=O(n,w(x,c)),I=Array(f.length),q=Array(v.length);for(h=f.length-1;h!==-1;--h)I[h]=r[f[h]];for(h=v.length-1;h!==-1;--h)q[h]=r[v[h]];var z=O(q,w(I,w(d.I,b))),R=numeric._solveLP(z,N,M,u,a),j=R.solution;if(j!==j)return R;var L=w(d.I,O(c,w(b,j))),P=Array(r.length);for(h=f.length-1;h!==-1;--h)P[f[h]]=L[h];for(h=v.length-1;h!==-1;--h)P[v[h]]=j[h];return{solution:P,message:R.message,iterations:R.iterations}};numeric.MPStoLP=function e(r){r instanceof String&&r.split(`
`);var t=0,n=["Initial state","NAME","ROWS","COLUMNS","RHS","BOUNDS","ENDATA"],i=r.length,c,u,a,s=0,o={},l=[],d=0,p={},f=0,v,h=[],m=[],y=[];function g(O){throw new Error("MPStoLP: "+O+`
Line `+c+": "+r[c]+`
Current state: `+n[t]+`
`)}for(c=0;c<i;++c){a=r[c];var b=a.match(/\S*/g),_=[];for(u=0;u<b.length;++u)b[u]!==""&&_.push(b[u]);if(_.length!==0){for(u=0;u<n.length&&a.substr(0,n[u].length)!==n[u];++u);if(u<n.length){if(t=u,u===1&&(v=_[1]),u===6)return{name:v,c:h,A:numeric.transpose(m),b:y,rows:o,vars:p};continue}switch(t){case 0:case 1:g("Unexpected line");case 2:switch(_[0]){case"N":s===0?s=_[1]:g("Two or more N rows");break;case"L":o[_[1]]=d,l[d]=1,y[d]=0,++d;break;case"G":o[_[1]]=d,l[d]=-1,y[d]=0,++d;break;case"E":o[_[1]]=d,l[d]=0,y[d]=0,++d;break;default:g("Parse error "+numeric.prettyPrint(_))}break;case 3:p.hasOwnProperty(_[0])||(p[_[0]]=f,h[f]=0,m[f]=numeric.rep([d],0),++f);var S=p[_[0]];for(u=1;u<_.length;u+=2){if(_[u]===s){h[S]=parseFloat(_[u+1]);continue}var w=o[_[u]];m[S][w]=(l[w]<0?-1:1)*parseFloat(_[u+1])}break;case 4:for(u=1;u<_.length;u+=2)y[o[_[u]]]=(l[o[_[u]]]<0?-1:1)*parseFloat(_[u+1]);break;case 5:break;case 6:g("Internal error")}}}g("Reached end of file without ENDATA")};numeric.seedrandom={pow:Math.pow,random:Math.random};(function(e,r,t,n,i,c,u){r.seedrandom=function(p,f){var v=[],h;return p=o(s(f?[p,e]:arguments.length?p:[new Date().getTime(),e,window],3),v),h=new a(v),o(h.S,e),r.random=function(){for(var y=h.g(n),g=u,b=0;y<i;)y=(y+b)*t,g*=t,b=h.g(1);for(;y>=c;)y/=2,g/=2,b>>>=1;return(y+b)/g},p};function a(d){var p,f,v=this,h=d.length,m=0,y=v.i=v.j=v.m=0;for(v.S=[],v.c=[],h||(d=[h++]);m<t;)v.S[m]=m++;for(m=0;m<t;m++)p=v.S[m],y=l(y+p+d[m%h]),f=v.S[y],v.S[m]=f,v.S[y]=p;v.g=function(b){var _=v.S,S=l(v.i+1),w=_[S],O=l(v.j+w),x=_[O];_[S]=x,_[O]=w;for(var N=_[l(w+x)];--b;)S=l(S+1),w=_[S],O=l(O+w),x=_[O],_[S]=x,_[O]=w,N=N*t+_[l(w+x)];return v.i=S,v.j=O,N},v.g(t)}function s(d,p,f,v,h){if(f=[],h=typeof d,p&&h=="object"){for(v in d)if(v.indexOf("S")<5)try{f.push(s(d[v],p-1))}catch{}}return f.length?f:d+(h!="string"?"\0":"")}function o(d,p,f,v){for(d+="",f=0,v=0;v<d.length;v++)p[l(v)]=l((f^=p[l(v)]*19)+d.charCodeAt(v));d="";for(v in p)d+=String.fromCharCode(p[v]);return d}function l(d){return d&t-1}u=r.pow(t,n),i=r.pow(2,i),c=i*2,o(r.random(),e)})([],numeric.seedrandom,256,6,52);(function(e){function r(s){if(typeof s!="object")return s;var o=[],l,d=s.length;for(l=0;l<d;l++)o[l+1]=r(s[l]);return o}function t(s){if(typeof s!="object")return s;var o=[],l,d=s.length;for(l=1;l<d;l++)o[l-1]=t(s[l]);return o}function n(s,o,l){var d,p,f,v,h;for(f=1;f<=l;f=f+1){for(s[f][f]=1/s[f][f],h=-s[f][f],d=1;d<f;d=d+1)s[d][f]=h*s[d][f];if(v=f+1,l<v)break;for(p=v;p<=l;p=p+1)for(h=s[f][p],s[f][p]=0,d=1;d<=f;d=d+1)s[d][p]=s[d][p]+h*s[d][f]}}function i(s,o,l,d){var p,f,v,h;for(f=1;f<=l;f=f+1){for(h=0,p=1;p<f;p=p+1)h=h+s[p][f]*d[p];d[f]=(d[f]-h)/s[f][f]}for(v=1;v<=l;v=v+1)for(f=l+1-v,d[f]=d[f]/s[f][f],h=-d[f],p=1;p<f;p=p+1)d[p]=d[p]+h*s[p][f]}function c(s,o,l,d){var p,f,v,h,m,y;for(f=1;f<=l;f=f+1){if(d[1]=f,y=0,v=f-1,v<1){if(y=s[f][f]-y,y<=0)break;s[f][f]=Math.sqrt(y)}else{for(h=1;h<=v;h=h+1){for(m=s[h][f],p=1;p<h;p=p+1)m=m-s[p][f]*s[p][h];m=m/s[h][h],s[h][f]=m,y=y+m*m}if(y=s[f][f]-y,y<=0)break;s[f][f]=Math.sqrt(y)}d[1]=0}}function u(s,o,l,d,p,f,v,h,m,y,g,b,_,S,w,O){var x,N,M,I,q,z,R,j,L,P,V,E,Z,ue,ye,X,le,Oe,ne,fe,Me,me,Ce,Be,je,We,Ge;Z=Math.min(d,y),M=2*d+Z*(Z+5)/2+2*y+1,Be=1e-60;do Be=Be+Be,je=1+.1*Be,We=1+.2*Be;while(je<=1||We<=1);for(x=1;x<=d;x=x+1)w[x]=o[x];for(x=d+1;x<=M;x=x+1)w[x]=0;for(x=1;x<=y;x=x+1)b[x]=0;if(q=[],O[1]===0){if(c(s,l,d,q),q[1]!==0){O[1]=2;return}i(s,l,d,o),n(s,l,d)}else{for(N=1;N<=d;N=N+1)for(p[N]=0,x=1;x<=N;x=x+1)p[N]=p[N]+s[x][N]*o[x];for(N=1;N<=d;N=N+1)for(o[N]=0,x=N;x<=d;x=x+1)o[N]=o[N]+s[N][x]*p[x]}for(f[1]=0,N=1;N<=d;N=N+1)for(p[N]=o[N],f[1]=f[1]+w[N]*p[N],w[N]=0,x=N+1;x<=d;x=x+1)s[x][N]=0;for(f[1]=-f[1]/2,O[1]=0,R=d,j=R+d,V=j+Z,L=V+Z+1,P=L+Z*(Z+1)/2,ue=P+y,x=1;x<=y;x=x+1){for(X=0,N=1;N<=d;N=N+1)X=X+v[N][x]*v[N][x];w[ue+x]=Math.sqrt(X)}_=0,S[1]=0,S[2]=0;function ie(){for(S[1]=S[1]+1,M=P,x=1;x<=y;x=x+1){for(M=M+1,X=-h[x],N=1;N<=d;N=N+1)X=X+v[N][x]*p[N];if(Math.abs(X)<Be&&(X=0),x>g)w[M]=X;else if(w[M]=-Math.abs(X),X>0){for(N=1;N<=d;N=N+1)v[N][x]=-v[N][x];h[x]=-h[x]}}for(x=1;x<=_;x=x+1)w[P+b[x]]=0;for(E=0,ye=0,x=1;x<=y;x=x+1)w[P+x]<ye*w[ue+x]&&(E=x,ye=w[P+x]/w[ue+x]);return E===0?999:0}function pe(){for(x=1;x<=d;x=x+1){for(X=0,N=1;N<=d;N=N+1)X=X+s[N][x]*v[N][E];w[x]=X}for(I=R,x=1;x<=d;x=x+1)w[I+x]=0;for(N=_+1;N<=d;N=N+1)for(x=1;x<=d;x=x+1)w[I+x]=w[I+x]+s[x][N]*w[N];for(me=!0,x=_;x>=1;x=x-1){for(X=w[x],M=L+x*(x+3)/2,I=M-x,N=x+1;N<=_;N=N+1)X=X-w[M]*w[j+N],M=M+N;if(X=X/w[I],w[j+x]=X,b[x]<g||X<0)break;me=!1,z=x}if(!me)for(le=w[V+z]/w[j+z],x=1;x<=_&&!(b[x]<g||w[j+x]<0);x=x+1)ye=w[V+x]/w[j+x],ye<le&&(le=ye,z=x);for(X=0,x=R+1;x<=R+d;x=x+1)X=X+w[x]*w[x];if(Math.abs(X)<=Be){if(me)return O[1]=1,999;for(x=1;x<=_;x=x+1)w[V+x]=w[V+x]-le*w[j+x];return w[V+_+1]=w[V+_+1]+le,700}else{for(X=0,x=1;x<=d;x=x+1)X=X+w[R+x]*v[x][E];for(Oe=-w[P+E]/X,Ce=!0,me||le<Oe&&(Oe=le,Ce=!1),x=1;x<=d;x=x+1)p[x]=p[x]+Oe*w[R+x],Math.abs(p[x])<Be&&(p[x]=0);for(f[1]=f[1]+Oe*X*(Oe/2+w[V+_+1]),x=1;x<=_;x=x+1)w[V+x]=w[V+x]-Oe*w[j+x];if(w[V+_+1]=w[V+_+1]+Oe,Ce){for(_=_+1,b[_]=E,M=L+(_-1)*_/2+1,x=1;x<=_-1;x=x+1)w[M]=w[x],M=M+1;if(_===d)w[M]=w[d];else{for(x=d;x>=_+1&&!(w[x]===0||(ne=Math.max(Math.abs(w[x-1]),Math.abs(w[x])),fe=Math.min(Math.abs(w[x-1]),Math.abs(w[x])),w[x-1]>=0?ye=Math.abs(ne*Math.sqrt(1+fe*fe/(ne*ne))):ye=-Math.abs(ne*Math.sqrt(1+fe*fe/(ne*ne))),ne=w[x-1]/ye,fe=w[x]/ye,ne===1));x=x-1)if(ne===0)for(w[x-1]=fe*ye,N=1;N<=d;N=N+1)ye=s[N][x-1],s[N][x-1]=s[N][x],s[N][x]=ye;else for(w[x-1]=ye,Me=fe/(1+ne),N=1;N<=d;N=N+1)ye=ne*s[N][x-1]+fe*s[N][x],s[N][x]=Me*(s[N][x-1]+ye)-s[N][x],s[N][x-1]=ye;w[M]=w[_]}}else{for(X=-h[E],N=1;N<=d;N=N+1)X=X+p[N]*v[N][E];if(E>g)w[P+E]=X;else if(w[P+E]=-Math.abs(X),X>0){for(N=1;N<=d;N=N+1)v[N][E]=-v[N][E];h[E]=-h[E]}return 700}}return 0}function te(){if(M=L+z*(z+1)/2+1,I=M+z,w[I]===0||(ne=Math.max(Math.abs(w[I-1]),Math.abs(w[I])),fe=Math.min(Math.abs(w[I-1]),Math.abs(w[I])),w[I-1]>=0?ye=Math.abs(ne*Math.sqrt(1+fe*fe/(ne*ne))):ye=-Math.abs(ne*Math.sqrt(1+fe*fe/(ne*ne))),ne=w[I-1]/ye,fe=w[I]/ye,ne===1))return 798;if(ne===0){for(x=z+1;x<=_;x=x+1)ye=w[I-1],w[I-1]=w[I],w[I]=ye,I=I+x;for(x=1;x<=d;x=x+1)ye=s[x][z],s[x][z]=s[x][z+1],s[x][z+1]=ye}else{for(Me=fe/(1+ne),x=z+1;x<=_;x=x+1)ye=ne*w[I-1]+fe*w[I],w[I]=Me*(w[I-1]+ye)-w[I],w[I-1]=ye,I=I+x;for(x=1;x<=d;x=x+1)ye=ne*s[x][z]+fe*s[x][z+1],s[x][z+1]=Me*(s[x][z]+ye)-s[x][z+1],s[x][z]=ye}return 0}function ce(){for(I=M-z,x=1;x<=z;x=x+1)w[I]=w[M],M=M+1,I=I+1;return w[V+z]=w[V+z+1],b[z]=b[z+1],z=z+1,z<_?797:0}function ge(){return w[V+_]=w[V+_+1],w[V+_+1]=0,b[_]=0,_=_-1,S[2]=S[2]+1,0}for(Ge=0;;){if(Ge=ie(),Ge===999)return;for(;Ge=pe(),Ge!==0;){if(Ge===999)return;if(Ge===700)if(z===_)ge();else{for(;te(),Ge=ce(),Ge===797;);ge()}}}}function a(s,o,l,d,p,f){s=r(s),o=r(o),l=r(l);var v,h,m,y,g,b=[],_=[],S=[],w=[],O=[],x;if(p=p||0,f=f?r(f):[void 0,0],d=d?r(d):[],h=s.length-1,m=l[1].length-1,!d)for(v=1;v<=m;v=v+1)d[v]=0;for(v=1;v<=m;v=v+1)_[v]=0;for(y=0,g=Math.min(h,m),v=1;v<=h;v=v+1)S[v]=0;for(b[1]=0,v=1;v<=2*h+g*(g+5)/2+2*m+1;v=v+1)w[v]=0;for(v=1;v<=2;v=v+1)O[v]=0;return u(s,o,h,h,S,b,l,d,h,m,p,_,y,O,w,f),x="",f[1]===1&&(x="constraints are inconsistent, no solution!"),f[1]===2&&(x="matrix D in quadratic function is not positive definite!"),{solution:t(S),value:t(b),unconstrained_solution:t(o),iterations:t(O),iact:t(_),message:x}}e.solveQP=a})(numeric);numeric.svd=function e(r){var t,n=numeric.epsilon,i=1e-64/n,c=50,u=0,a=0,s=0,o=0,l=0,d=numeric.clone(r),p=d.length,f=d[0].length;if(p<f)throw"Need more rows than columns";var v=new Array(f),h=new Array(f);for(a=0;a<f;a++)v[a]=h[a]=0;var m=numeric.rep([f,f],0);function y(q,z){return q=Math.abs(q),z=Math.abs(z),q>z?q*Math.sqrt(1+z*z/q/q):z==0?q:z*Math.sqrt(1+q*q/z/z)}var g=0,b=0,_=0,S=0,w=0,O=0,x=0;for(a=0;a<f;a++){for(v[a]=b,x=0,l=a+1,s=a;s<p;s++)x+=d[s][a]*d[s][a];if(x<=i)b=0;else for(g=d[a][a],b=Math.sqrt(x),g>=0&&(b=-b),_=g*b-x,d[a][a]=g-b,s=l;s<f;s++){for(x=0,o=a;o<p;o++)x+=d[o][a]*d[o][s];for(g=x/_,o=a;o<p;o++)d[o][s]+=g*d[o][a]}for(h[a]=b,x=0,s=l;s<f;s++)x=x+d[a][s]*d[a][s];if(x<=i)b=0;else{for(g=d[a][a+1],b=Math.sqrt(x),g>=0&&(b=-b),_=g*b-x,d[a][a+1]=g-b,s=l;s<f;s++)v[s]=d[a][s]/_;for(s=l;s<p;s++){for(x=0,o=l;o<f;o++)x+=d[s][o]*d[a][o];for(o=l;o<f;o++)d[s][o]+=x*v[o]}}w=Math.abs(h[a])+Math.abs(v[a]),w>S&&(S=w)}for(a=f-1;a!=-1;a+=-1){if(b!=0){for(_=b*d[a][a+1],s=l;s<f;s++)m[s][a]=d[a][s]/_;for(s=l;s<f;s++){for(x=0,o=l;o<f;o++)x+=d[a][o]*m[o][s];for(o=l;o<f;o++)m[o][s]+=x*m[o][a]}}for(s=l;s<f;s++)m[a][s]=0,m[s][a]=0;m[a][a]=1,b=v[a],l=a}for(a=f-1;a!=-1;a+=-1){for(l=a+1,b=h[a],s=l;s<f;s++)d[a][s]=0;if(b!=0){for(_=d[a][a]*b,s=l;s<f;s++){for(x=0,o=l;o<p;o++)x+=d[o][a]*d[o][s];for(g=x/_,o=a;o<p;o++)d[o][s]+=g*d[o][a]}for(s=a;s<p;s++)d[s][a]=d[s][a]/b}else for(s=a;s<p;s++)d[s][a]=0;d[a][a]+=1}for(n=n*S,o=f-1;o!=-1;o+=-1)for(var N=0;N<c;N++){var M=!1;for(l=o;l!=-1;l+=-1){if(Math.abs(v[l])<=n){M=!0;break}if(Math.abs(h[l-1])<=n)break}if(!M){u=0,x=1;var I=l-1;for(a=l;a<o+1&&(g=x*v[a],v[a]=u*v[a],!(Math.abs(g)<=n));a++)for(b=h[a],_=y(g,b),h[a]=_,u=b/_,x=-g/_,s=0;s<p;s++)w=d[s][I],O=d[s][a],d[s][I]=w*u+O*x,d[s][a]=-w*x+O*u}if(O=h[o],l==o){if(O<0)for(h[o]=-O,s=0;s<f;s++)m[s][o]=-m[s][o];break}if(N>=c-1)throw"Error: no convergence.";for(S=h[l],w=h[o-1],b=v[o-1],_=v[o],g=((w-O)*(w+O)+(b-_)*(b+_))/(2*_*w),b=y(g,1),g<0?g=((S-O)*(S+O)+_*(w/(g-b)-_))/S:g=((S-O)*(S+O)+_*(w/(g+b)-_))/S,u=1,x=1,a=l+1;a<o+1;a++){for(b=v[a],w=h[a],_=x*b,b=u*b,O=y(g,_),v[a-1]=O,u=g/O,x=_/O,g=S*u+b*x,b=-S*x+b*u,_=w*x,w=w*u,s=0;s<f;s++)S=m[s][a-1],O=m[s][a],m[s][a-1]=S*u+O*x,m[s][a]=-S*x+O*u;for(O=y(g,_),h[a-1]=O,u=g/O,x=_/O,g=u*b+x*w,S=-x*b+u*w,s=0;s<p;s++)w=d[s][a-1],O=d[s][a],d[s][a-1]=w*u+O*x,d[s][a]=-w*x+O*u}v[l]=0,v[o]=g,h[o]=S}for(a=0;a<h.length;a++)h[a]<n&&(h[a]=0);for(a=0;a<f;a++)for(s=a-1;s>=0;s--)if(h[s]<h[a]){for(u=h[s],h[s]=h[a],h[a]=u,o=0;o<d.length;o++)t=d[o][a],d[o][a]=d[o][s],d[o][s]=t;for(o=0;o<m.length;o++)t=m[o][a],m[o][a]=m[o][s],m[o][s]=t;a=s}return{U:d,S:h,V:m}}});var Dc=D(MP=>{function ODr(e){let r=e.length,t=[];for(let c=0;c<e[0].length;c++){let u=0;for(let a=0;a<r;a++)u+=e[a][c];t.push(u/r)}let n=[];for(let c=0;c<r;c++){n.push([]);for(let u=0;u<e[0].length;u++)n[c].push(e[c][u]-t[u])}let i=[];for(let c=0;c<e[0].length;c++)i.push([]);for(let c=0;c<e[0].length;c++)for(let u=c;u<e[0].length;u++){let a=0;for(let s=0;s<r;s++)a+=n[s][c]*n[s][u];a/=r-1,i[c][u]=a,i[u][c]=a}return i}function DDr(e){let r=[];for(let t=0;t<e[0].length;t++)r.push(0);for(let t=0;t<e.length;t++)for(let n=0;n<e[t].length;n++)r[n]+=e[t][n];for(let t=0;t<e[0].length;t++)r[t]/=e.length;return r}MP.cov=ODr;MP.mean=DDr});var PP=D(nN=>{"use strict";Object.defineProperty(nN,"__esModule",{value:!0});nN.csp=nN.CSP=MY;var tN=si(),NDr=AY(rN()),CY=AY(Dc());function AY(e){return e&&e.__esModule?e:{default:e}}function MY(e,r){var t=CY.default.cov(e),n=CY.default.cov(r);this.V=NDr.default.eig((0,tN.multiply)((0,tN.inv)((0,tN.add)(t,n)),t)).E.x}MY.prototype.project=function(e,r){var t=(0,tN.multiply)(e,this.V);r=typeof r<"u"?r:t[0].length;for(var n=[],i=0;i<t.length;i++){n.push([]);for(var c=0;c<r;c++){if(c%2==0)var u=c/2;else var u=t[0].length-(c+1)/2;n[i].push(t[i][u])}}return n}});var PY=D(EP=>{"use strict";Object.defineProperty(EP,"__esModule",{value:!0});EP.f1score=CDr;function CDr(e){if(e.length!=2||e[0].length!=2||e[1].length!=2)throw new Error("Confusion matrix must be of size 2x2");var r=e[0][0]/(e[0][0]+e[1][0]),t=e[0][0]/(e[0][0]+e[0][1]),n=2*t*r/(t+r);return n}});var EY=D(aN=>{"use strict";Object.defineProperty(aN,"__esModule",{value:!0});aN.lda=aN.LDA=IP;var oi=si(),iN=ADr(Dc());function ADr(e){return e&&e.__esModule?e:{default:e}}function IP(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];if(r.length<2)throw new Error("Please pass at least 2 classes");for(var n=r.length*(r.length-1)/2,i=0,c=1,u=new Array(n),a=0;a<n;a++)u[a]=MDr(r[i],r[c],i,c),c++,c==r.length&&(i++,c=i+1);this.pairs=u,this.numberOfClasses=r.length}function MDr(e,r,t,n){var i=(0,oi.transpose)(iN.default.mean(e)),c=(0,oi.transpose)(iN.default.mean(r)),u=(0,oi.add)(iN.default.cov(e),iN.default.cov(r)),a=(0,oi.multiply)((0,oi.inv)(u),(0,oi.subtract)(c,i)),s=(0,oi.multiply)(-1,(0,oi.transpose)(a),(0,oi.add)(i,c),1/2);return{theta:a,b:s,class1id:t,class2id:n}}IP.prototype.project=function(e){if(this.pairs.length!=1)throw new Error("LDA project currently only supports 2 classes. LDA classify can be used to perform multiclass classification.");return qP(e,this.pairs[0].theta,this.pairs[0].b)};function qP(e,r,t){return(0,oi.add)((0,oi.multiply)(e,r),t)}IP.prototype.classify=function(e){if(this.numberOfClasses==2)return qP(e,this.pairs[0].theta,this.pairs[0].b)<=0?0:1;for(var r=new Array(this.numberOfClasses),t=0;t<this.numberOfClasses;t++)r[t]=0;for(var n=0;n<this.pairs.length;n++){var i=this.pairs[n],c=qP(e,i.theta,i.b);c<=0?r[i.class1id]++:r[i.class2id]++}for(var u=0,a=r[0],s=1;s<r.length;s++)r[s]>a&&(u=s,a=r[s]);return u}});var qY=D(sN=>{"use strict";Object.defineProperty(sN,"__esModule",{value:!0});sN.signal=void 0;var Nc=si(),PDr=PP(),EDr=qDr(Od());function qDr(e){return e&&e.__esModule?e:{default:e}}var BP={},Cc={};sN.signal=Cc;Cc.getPSD=function(e,r){if(BP.hasOwnProperty(e))var t=BP[e];else{var t=new EDr.default(e);BP[e]=t}var n=t.createComplexArray();t.realTransform(n,r);var i=IDr(e,n);return i};function IDr(e,r){for(var t=[],n=0;n<e;n+=2)t.push(Math.sqrt(r[n]*r[n]+r[n+1]*r[n+1]));return t}var BDr={delta:[1,3],theta:[4,7],alpha:[8,12],beta:[13,30],gamma:[31,50]};Cc.getBandPower=function(e,r,t,n){(typeof n=="string"||n instanceof String)&&(n=BDr[n]);for(var i=Math.ceil(n[0]/t*e),c=Math.floor(n[1]/t*e),u=0,a=i;a<c+1;a++)u+=r[a];return u/(c-i+1)};function kP(e,r,t){this.size=e,this.length=0,this.callback=t,this.channels=[];for(var n=0;n<r;n++)this.channels.push([])}kP.prototype.addData=function(e){for(var r=0;r<e.length;r++)this.channels[r].push(e[r]);this.length+=1,this.length>=this.size&&(this.callback(this.channels),this.clear())};kP.prototype.clear=function(){this.length=0;for(var e=0;e<this.channels.length;e++)this.channels[e]=[]};Cc.EEGWindow=kP;Cc.generate=function(e,r,t,n){for(var i=(0,Nc.range)(0,n,1/t),c=(0,Nc.zeros)(i.size()[0]),u=0;u<e.length;u++)c=(0,Nc.add)(c,(0,Nc.multiply)(e[u],(0,Nc.sin)((0,Nc.multiply)(2*Math.PI*r[u],i))));return c.toArray()};Cc.CSP=PDr.csp});var IY=D(jP=>{"use strict";Object.defineProperty(jP,"__esModule",{value:!0});jP.partition=kDr;function kDr(e){for(var r=[],t=0,n=0,i=arguments.length,c=new Array(i>1?i-1:0),u=1;u<i;u++)c[u-1]=arguments[u];return c.forEach(function(a){n+=a;var s=Math.round(n*e.length);r.push(e.slice(t,s)),t=s}),r}});var BY=D(TP=>{"use strict";Object.defineProperty(TP,"__esModule",{value:!0});TP.round=jDr;function jDr(e,r){return t(e);function t(n){return n.map(function(i){return typeof i=="number"?parseFloat(i.toFixed(r)):t(i)})}}});var kY=D(FP=>{"use strict";Object.defineProperty(FP,"__esModule",{value:!0});FP.subscript=zDr;function TDr(e){return UDr(e)||LDr(e)||FDr(e)||RDr()}function RDr(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FDr(e,r){if(!!e){if(typeof e=="string")return RP(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return RP(e,r)}}function LDr(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function UDr(e){if(Array.isArray(e))return RP(e)}function RP(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function zDr(e){for(var r=arguments.length,t=new Array(r>1?r-1:0),n=1;n<r;n++)t[n-1]=arguments[n];return i.apply(void 0,[e].concat(t));function i(u){for(var a=arguments.length,s=new Array(a>1?a-1:0),o=1;o<a;o++)s[o-1]=arguments[o];var l=c(u,s.shift(),"matlab");if(s.length!=0)for(var d=0;d<l.length;d++)l[d]=i.apply(void 0,[l[d]].concat(s));return l}function c(u,a){var s,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"python";a=a.split(" ");var l=[];return a.forEach(function(d){var p=d.indexOf(":"),f=d.split(":");if(f.length>2||d==""){console.error("Invalid subscript string");return}f[1]==""&&(f[1]=u.length),f=f.map(Number),(o=="matlab"||o=="mat")&&(f[0]>0&&(f[0]-=1),f[1]==-1&&(f[1]=u.length),f[1]<0&&(f[1]+=1)),f.length==1&&f.push(f[0]+1),l.push(u.slice.apply(u,TDr(f)))}),(s=[]).concat.apply(s,l)}}});var jY=D(LP=>{"use strict";Object.defineProperty(LP,"__esModule",{value:!0});LP.toFixed=JDr;function JDr(e,r){return t(e);function t(n){return n.map(function(i){return typeof i=="number"?i.toFixed(r):t(i)})}}});var RY=D((ztt,TY)=>{"use strict";TY.exports=({onlyFirst:e=!1}={})=>{let r=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))"].join("|");return new RegExp(r,e?void 0:"g")}});var FY=D((Jtt,oN)=>{var VDr=function(){"use strict";function e(u,a,s,o){var l;typeof a=="object"&&(s=a.depth,o=a.prototype,l=a.filter,a=a.circular);var d=[],p=[],f=typeof Buffer<"u";typeof a>"u"&&(a=!0),typeof s>"u"&&(s=1/0);function v(h,m){if(h===null)return null;if(m==0)return h;var y,g;if(typeof h!="object")return h;if(e.__isArray(h))y=[];else if(e.__isRegExp(h))y=new RegExp(h.source,c(h)),h.lastIndex&&(y.lastIndex=h.lastIndex);else if(e.__isDate(h))y=new Date(h.getTime());else{if(f&&Buffer.isBuffer(h))return Buffer.allocUnsafe?y=Buffer.allocUnsafe(h.length):y=new Buffer(h.length),h.copy(y),y;typeof o>"u"?(g=Object.getPrototypeOf(h),y=Object.create(g)):(y=Object.create(o),g=o)}if(a){var b=d.indexOf(h);if(b!=-1)return p[b];d.push(h),p.push(y)}for(var _ in h){var S;g&&(S=Object.getOwnPropertyDescriptor(g,_)),!(S&&S.set==null)&&(y[_]=v(h[_],m-1))}return y}return v(u,s)}e.clonePrototype=function(a){if(a===null)return null;var s=function(){};return s.prototype=a,new s};function r(u){return Object.prototype.toString.call(u)}e.__objToStr=r;function t(u){return typeof u=="object"&&r(u)==="[object Date]"}e.__isDate=t;function n(u){return typeof u=="object"&&r(u)==="[object Array]"}e.__isArray=n;function i(u){return typeof u=="object"&&r(u)==="[object RegExp]"}e.__isRegExp=i;function c(u){var a="";return u.global&&(a+="g"),u.ignoreCase&&(a+="i"),u.multiline&&(a+="m"),a}return e.__getRegExpFlags=c,e}();typeof oN=="object"&&oN.exports&&(oN.exports=VDr)});var UY=D((Vtt,LY)=>{var GDr=FY();LY.exports=function(e,r){return e=e||{},Object.keys(r).forEach(function(t){typeof e[t]>"u"&&(e[t]=GDr(r[t]))}),e}});var JY=D((Gtt,zY)=>{zY.exports=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531],[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]]});var WY=D((Htt,UP)=>{"use strict";var HDr=UY(),ol=JY(),GY={nul:0,control:0};UP.exports=function(r){return HY(r,GY)};UP.exports.config=function(e){return e=HDr(e||{},GY),function(t){return HY(t,e)}};function HY(e,r){if(typeof e!="string")return VY(e,r);for(var t=0,n=0;n<e.length;n++){var i=VY(e.charCodeAt(n),r);if(i<0)return-1;t+=i}return t}function VY(e,r){return e===0?r.nul:e<32||e>=127&&e<160?r.control:WDr(e)?0:1+(e>=4352&&(e<=4447||e==9001||e==9002||e>=11904&&e<=42191&&e!=12351||e>=44032&&e<=55203||e>=63744&&e<=64255||e>=65040&&e<=65049||e>=65072&&e<=65135||e>=65280&&e<=65376||e>=65504&&e<=65510||e>=131072&&e<=196605||e>=196608&&e<=262141))}function WDr(e){var r=0,t=ol.length-1,n;if(e<ol[0][0]||e>ol[t][1])return!1;for(;t>=r;)if(n=Math.floor((r+t)/2),e>ol[n][1])r=n+1;else if(e<ol[n][0])t=n-1;else return!0;return!1}});var ZY=D((Wtt,YY)=>{var $Dr=RY()(),zP;try{zP=WY()}catch{}YY.exports=$r;function $r(){this.rows=[],this.row={__printers:{}}}$r.prototype.newRow=function(){return this.rows.push(this.row),this.row={__printers:{}},this};$r.prototype.cell=function(e,r,t){return this.row[e]=r,this.row.__printers[e]=t||cl,this};$r.prototype.separator="  ";function cl(e){return e===void 0?"":""+e}function VP(e){var r=e.replace($Dr,"");return zP==null?r.length:zP(r)}$r.string=cl;$r.leftPadder=GP;function GP(e){return function(r,t){var n=cl(r),i=VP(n),c=t>i?Array(t-i+1).join(e):"";return c+n}}var HP=$r.padLeft=GP(" ");$r.rightPadder=$Y;function $Y(e){return function(t,n){var i=cl(t),c=VP(i),u=n>c?Array(n-c+1).join(e):"";return i+u}}var QDr=$Y(" ");$r.number=function(e){return function(r,t){if(r==null)return"";if(typeof r!="number")throw new Error(""+r+" is not a number");var n=e==null?r+"":r.toFixed(e);return HP(n,t)}};function QY(e,r){for(var t in e)t!="__printers"&&r(t,e[t])}$r.prototype.columns=function(){for(var e={},r=0;r<2;r++)this.rows.forEach(function(t){var n=0;QY(t,function(i){n=Math.max(n,e[i]||0),e[i]=n,n++})});return Object.keys(e).sort(function(t,n){return e[t]-e[n]})};$r.prototype.print=function(){var e=this.columns(),r=this.separator,t={},n="";return this.rows.forEach(function(i){QY(i,function(c,u){var a=i.__printers[c].call(i,u);t[c]=Math.max(VP(a),t[c]||0)})}),this.rows.forEach(function(i){var c="";e.forEach(function(u){var a=t[u],s=i.hasOwnProperty(u)?""+i.__printers[u].call(i,i[u],a):"";c+=QDr(s,a)+r}),c=c.slice(0,-r.length),n+=c+`
`}),n};$r.prototype.toString=function(){var e=this.columns(),r=new $r;return r.separator=this.separator,e.forEach(function(t){r.cell(t,t)}),r.newRow(),r.pushDelimeter(e),r.rows=r.rows.concat(this.rows),this.totals&&this.rows.length&&(r.pushDelimeter(e),this.forEachTotal(r.cell.bind(r)),r.newRow()),r.print()};$r.prototype.pushDelimeter=function(e){return e=e||this.columns(),e.forEach(function(r){this.cell(r,void 0,GP("-"))},this),this.newRow()};$r.prototype.forEachTotal=function(e){for(var r in this.totals){var t=this.totals[r],n=t.init,i=this.rows.length;this.rows.forEach(function(c,u){n=t.reduce.call(c,n,c[r],u,i)}),e(r,n,t.printer)}};$r.prototype.printTransposed=function(e){e=e||{};var r=new $r;return r.separator=e.separator||this.separator,this.columns().forEach(function(t){r.cell(0,t,e.namePrinter),this.rows.forEach(function(n,i){r.cell(i+1,n[t],n.__printers[t])}),r.newRow()},this),r.print()};$r.prototype.sort=function(e){if(typeof e=="function")return this.rows.sort(e),this;var r=Array.isArray(e)?e:this.columns(),t=r.map(function(n){var i="asc",c=/(.*)\|\s*(asc|des)\s*$/.exec(n);return c&&(n=c[1],i=c[2]),function(u,a){return i=="asc"?JP(u[n],a[n]):JP(a[n],u[n])}});return this.sort(function(n,i){for(var c=0;c<t.length;c++){var u=t[c](n,i);if(u!=0)return u}return 0})};function JP(e,r){return e===r?0:e===void 0?1:r===void 0?-1:e===null?1:r===null?-1:e>r?1:e<r?-1:JP(String(e),String(r))}$r.prototype.total=function(e,r){return r=r||{},this.totals=this.totals||{},this.totals[e]={reduce:r.reduce||$r.aggr.sum,printer:r.printer||HP,init:r.init==null?0:r.init},this};$r.aggr={};$r.aggr.printer=function(e,r){return r=r||cl,function(t,n){return HP(e+r(t),n)}};$r.aggr.sum=function(e,r){return e+r};$r.aggr.avg=function(e,r,t,n){return e=e+r,t+1==n?e/n:e};$r.print=function(e,r,t){var n=r||{};r=typeof r=="function"?r:function(u,a){for(var s in u)if(!!u.hasOwnProperty(s)){var o=n[s]||{};a(o.name||s,u[s],o.printer)}};var i=new $r,c=i.cell.bind(i);return Array.isArray(e)?(t=t||function(u){return u.toString()},e.forEach(function(u){r(u,c),i.newRow()})):(t=t||function(u){return u.printTransposed({separator:" : "})},r(e,c),i.newRow()),t(i)};$r.log=function(e,r,t){console.log($r.print(e,r,t))};$r.prototype.log=function(){console.log(this.toString())}});var XY=D(WP=>{"use strict";Object.defineProperty(WP,"__esModule",{value:!0});WP.toTable=XDr;var YDr=ZDr(ZY());function ZDr(e){return e&&e.__esModule?e:{default:e}}function XDr(e){return YDr.default.print(e)}});var QP=D($P=>{"use strict";Object.defineProperty($P,"__esModule",{value:!0});$P.windowApply=KDr;function KDr(e,r,t){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:-1,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;n==-1&&(n=t);for(var c=[],u=0;u<e.length;u+=n){var a=e.slice(u,u+t);(i||a.length==t)&&c.push(r(a))}return c}});var cN=D(ZP=>{"use strict";Object.defineProperty(ZP,"__esModule",{value:!0});ZP.periodogram=aNr;var eNr=Sa(),rNr=tNr(Od());function tNr(e){return e&&e.__esModule?e:{default:e}}var YP={};function nNr(e){for(var r=[],t=e.length-1,n=Math.PI/t,i=0,c=0;c<e.length;c++){var u=Math.pow(Math.sin(n*c),2);r.push(e[c]*u),i+=Math.pow(u,2)}return{signal:r,scale:i}}function iNr(e,r){if(e.length!=r.length)throw new Error("Signal length must match taper length");for(var t=[],n=0,i=0;i<e.length;i++)t.push(e[i]*r[i]),n+=Math.pow(r[i],2);return{signal:t,scale:n}}function aNr(e,r,t){var n=Object.assign({fftSize:Math.pow(2,(0,eNr.nextpow2)(e.length)),window:"rectangular",_scaling:"psd"},t),i=n.fftSize,c=n.window,u=n._scaling,a;if(YP.hasOwnProperty(i)?a=YP[i]:(a=new rNr.default(i),YP[i]=a),u!="psd"&&u!="none")throw new Error("Unknown scaling");var s=e.length,o=s;if(Array.isArray(c)){var l=iNr(e,c);e=l.signal,o=l.scale}else if(c=="hann"){var d=nNr(e);e=d.signal,o=d.scale}else if(c!="rectangular")throw new Error("Unknown window type");s<i&&(e=e.concat(Array(i-e.length).fill(0)));var p=a.createComplexArray();a.realTransform(p,e),a.completeSpectrum(p);var f=[],v=2/(r*o);u=="none"&&(v=1);for(var h=0;h<p.length-1;h+=2){var m=Math.sqrt(Math.pow(p[h],2)+Math.pow(p[h+1],2)),y=v*Math.pow(m,2);f.push(y)}f=f.slice(0,f.length/2+1),u=="psd"&&(f[0]/=2,f[f.length-1]/=2);for(var g=new Array(f.length),b=0;b<g.length;b++)g[b]=b*(r/i);return{estimates:f,frequencies:g}}});var tZ=D(XP=>{"use strict";Object.defineProperty(XP,"__esModule",{value:!0});XP.bandpower=rZ;var sNr=cN(),KY=So(),oNr=Sa();function eZ(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,t=0,n=0;n<e.length;n++)t+=e[n];return t*r}function cNr(e){var r={delta:[1,3],theta:[4,7],alpha:[8,12],beta:[13,30],gamma:[31,50]};return(typeof e=="string"||typeof e[0]=="number")&&(e=[e]),e.map(function(t){if(typeof t=="string"){var n=r[t];if(n)return n;throw new Error("Invalid band type passed")}return t})}function rZ(e,r,t,n){var i=e.length;e.estimates&&(i=e.estimates.length);var c=Object.assign({fftSize:Math.pow(2,(0,oNr.nextpow2)(i)),average:!1,input:"samples",relative:!1,window:"hann"},n),u=c.fftSize,a=c.average,s=c.input,o=c.relative,l=c.window;if(n&&n.input=="samples"&&!Array.isArray(e))throw new Error("Expecting array of samples when input type of 'samples' is passed");if(e.estimates&&(e=e.estimates,s="psd"),u<e.length)throw new Error("fftSize must be greater than or equal to the length of samples");var d=t;if(t=cNr(t),Array.isArray(e[0])){var p=(0,KY.transpose)(e),f=p.map(function(M){return rZ(M,r,t,n)});if(f=(0,KY.transpose)(f),a)for(var v=0;v<f.length;v++){for(var h=0,m=0;m<f[v].length;m++)h+=f[v][m];f[v]=h/f[v].length}return typeof d=="string"||typeof d[0]=="number"?f[0]:f}var y;if(s=="samples")y=(0,sNr.periodogram)(e,r,{fftSize:u,window:l});else if(s=="psd")if(Array.isArray(e))y={estimates:e};else throw new Error("Invalid PSD");else throw new Error("Invalid input type");var g=1,b=r/u;o&&(g=eZ(y.estimates,b));for(var _=new Array(t.lenth),S=0;S<t.length;S++){var w=t[S],O=Math.floor(w[0]/r*u),x=Math.min(Math.ceil(w[1]/r*u),y.estimates.length-1),N=y.estimates.slice(O,x+1);if(N.length<2)throw new Error("Unable to calculate power in specified bands. Please increase fftSize or sample length");_[S]=eZ(N,b)/g}return typeof d=="string"||typeof d[0]=="number"?_[0]:_}});var aZ=D(eE=>{"use strict";Object.defineProperty(eE,"__esModule",{value:!0});eE.cspLearn=lNr;var KP=si(),uNr=iZ(rN()),nZ=iZ(Dc());function iZ(e){return e&&e.__esModule?e:{default:e}}function lNr(e,r){var t=nZ.default.cov(e),n=nZ.default.cov(r),i=uNr.default.eig((0,KP.multiply)((0,KP.inv)((0,KP.add)(t,n)),t)).E.x;return{V:i}}});var sZ=D(rE=>{"use strict";Object.defineProperty(rE,"__esModule",{value:!0});rE.cspProject=pNr;var dNr=si();function pNr(e,r,t){var n=(0,dNr.multiply)(r,e.V);t=typeof t<"u"?t:n[0].length;for(var i=[],c=0;c<n.length;c++){i.push([]);for(var u=0;u<t;u++){if(u%2==0)var a=u/2;else var a=n[0].length-(u+1)/2;i[c].push(n[c][a])}}return i}});var uZ=D(tE=>{"use strict";Object.defineProperty(tE,"__esModule",{value:!0});tE.fastICA=_Nr;var mr=si(),fNr=cZ(rN()),hNr=cZ(Dc());function cZ(e){return e&&e.__esModule?e:{default:e}}function vNr(e,r){return bNr(e)||gNr(e,r)||yNr(e,r)||mNr()}function mNr(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yNr(e,r){if(!!e){if(typeof e=="string")return oZ(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return oZ(e,r)}}function oZ(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function gNr(e,r){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var t=[],n=!0,i=!1,c=void 0;try{for(var u=e[Symbol.iterator](),a;!(n=(a=u.next()).done)&&(t.push(a.value),!(r&&t.length===r));n=!0);}catch(s){i=!0,c=s}finally{try{!n&&u.return!=null&&u.return()}finally{if(i)throw c}}return t}}function bNr(e){if(Array.isArray(e))return e}function _Nr(e,r){var t=Object.assign({maxIterations:1e3,debug:!1,fun:"logcosh"},r),n=t.maxIterations,i=t.debug,c=t.fun,u={logcosh:{g:function(ue){return(0,mr.tanh)(ue)},gp:function(ue){return(0,mr.subtract)(1,(0,mr.dotPow)((0,mr.tanh)(ue),2))}},exp:{g:function(ue){return(0,mr.dotMultiply)(ue,(0,mr.exp)((0,mr.dotDivide)((0,mr.dotPow)(ue,2),-2)))},gp:function(ue){return(0,mr.dotMultiply)((0,mr.subtract)(1,(0,mr.dotPow)(ue,2)),(0,mr.exp)((0,mr.dotDivide)((0,mr.dotPow)(ue,2),-2)))}}};if(!u.hasOwnProperty(c))throw new Error("Negentropy approximation function must be either 'exp' or 'logcosh'");var a=fNr.default.eig(hNr.default.cov((0,mr.transpose)(e))),s=a.E.x,o=a.lambda.x;o=(0,mr.abs)(o);for(var l=(0,mr.mean)(e,1),d=[],p=0;p<e.length;p++){d.push([]);for(var f=0;f<e[p].length;f++)d[p].push(e[p][f]-l[p])}for(var v=(0,mr.multiply)((0,mr.diag)(o.map(function(Z){return(0,mr.pow)(Z,-1/2)})),(0,mr.transpose)(s)),h=(0,mr.multiply)(v,d),m=u[c].g,y=u[c].gp,g=(0,mr.size)(h),b=vNr(g,2),_=b[0],S=b[1],w=_,O=[],x=0;x<w;x++)O.push((0,mr.random)([_]));for(var N=[],M=0;M<w;M++){var I=(0,mr.clone)(O[M]);i&&console.log(new Date().toLocaleTimeString(),"Computing component",M+1,"/",w);for(var q=!1,z=0;z<n;z++){var R=I,j=O[M],L=(0,mr.dot)(R,j)/((0,mr.norm)(R)*(0,mr.norm)(j)),P=1-(0,mr.abs)(L);if(I=j,i&&z==0&&console.log(new Date().toLocaleTimeString(),"On iteration",z+1,"/",n),i&&(z+1)%10==0&&console.log(new Date().toLocaleTimeString(),"On iteration",z+1,"/",n,"with a change of",Math.acos(Math.abs(L)),"rad"),z!=0&&P<5e-11){N.push(z),q=!0,i&&console.log(new Date().toLocaleTimeString(),"Converged on iteration",z);break}O[M]=(0,mr.transpose)((0,mr.subtract)((0,mr.multiply)(1/S,h,(0,mr.transpose)(m((0,mr.multiply)(O[M],h)))),(0,mr.multiply)(1/S,(0,mr.sum)(y((0,mr.multiply)(O[M],h))),(0,mr.transpose)(O[M]))));for(var V=0;V<M;V++)O[M]=(0,mr.subtract)(O[M],(0,mr.multiply)(O[M],(0,mr.transpose)(O[V]),O[V]));O[M]=(0,mr.divide)(O[M],(0,mr.norm)(O[M]))}q||(N.push(n),i&&console.log("Stopped at maxIterations before converged"))}var E=(0,mr.multiply)(O,h);return{source:E,weights:O,whitening:v,iterations:N}}});var lZ=D(lN=>{"use strict";Object.defineProperty(lN,"__esModule",{value:!0});lN.features=void 0;var Fn=si(),nE=So(),uN={};lN.features=uN;uN.logvar=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(r==null)return(0,Fn.log)((0,Fn.variance)(e));var t=["rows","cols","columns"];if(t.indexOf(r)==-1)throw"Invalid dimension";return(r=="cols"||r=="columns")&&(e=(0,nE.transpose)(e)),e.map(function(n){return(0,Fn.log)((0,Fn.variance)(n))})};uN.variance=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(r==null)return(0,Fn.log)((0,Fn.variance)(e));var t=["rows","cols","columns"];if(t.indexOf(r)==-1)throw"Invalid dimension";return(r=="cols"||r=="columns")&&(e=(0,nE.transpose)(e)),e.map(function(n){return(0,Fn.variance)(n)})};uN.rootMeanSquare=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(r==null)return(0,Fn.sqrt)((0,Fn.mean)((0,Fn.square)(e)));var t=["rows","cols","columns"];if(t.indexOf(r)==-1)throw"Invalid dimension";return(r=="cols"||r=="columns")&&(e=(0,nE.transpose)(e)),e.map(function(n){return(0,Fn.sqrt)((0,Fn.mean)((0,Fn.square)(n)))})}});var dZ=D(iE=>{"use strict";Object.defineProperty(iE,"__esModule",{value:!0});iE.generateSignal=wNr;var Ac=si();function wNr(e,r,t,n){for(var i=(0,Ac.range)(0,n,1/t),c=(0,Ac.zeros)(i.size()[0]),u=0;u<e.length;u++)c=(0,Ac.add)(c,(0,Ac.multiply)(e[u],(0,Ac.sin)((0,Ac.multiply)(2*Math.PI*r[u],i))));return c.toArray()}});var sE=D(aE=>{"use strict";Object.defineProperty(aE,"__esModule",{value:!0});aE.ldaProject=SNr;var pZ=si();function SNr(e,r){return(0,pZ.add)((0,pZ.multiply)(r,e.theta),e.b)}});var fZ=D(oE=>{"use strict";Object.defineProperty(oE,"__esModule",{value:!0});oE.ldaClassify=ONr;var xNr=sE();function ONr(e,r){var t=(0,xNr.ldaProject)(e,r);if(Array.isArray(t))for(var n=0;n<t.length;n++)t[n]=t[n]<0?0:1;else t=t<0?0:1;return t}});var hZ=D(cE=>{"use strict";Object.defineProperty(cE,"__esModule",{value:!0});cE.ldaLearn=NNr;var la=si(),dN=DNr(Dc());function DNr(e){return e&&e.__esModule?e:{default:e}}function NNr(e,r){var t=(0,la.transpose)(dN.default.mean(e)),n=(0,la.transpose)(dN.default.mean(r)),i=(0,la.add)(dN.default.cov(e),dN.default.cov(r)),c=(0,la.multiply)((0,la.inv)(i),(0,la.subtract)(n,t)),u=(0,la.multiply)(-1,(0,la.transpose)(c),(0,la.add)(t,n),1/2);return{theta:c,b:u}}});var vZ=D(uE=>{"use strict";Object.defineProperty(uE,"__esModule",{value:!0});uE.welch=PNr;var CNr=cN(),ANr=QP(),MNr=Sa();function PNr(e,r,t){var n=Object.assign({segmentLength:256,overlapLength:null,window:"hann",fftSize:null,verbose:!0},t),i=n.segmentLength,c=n.overlapLength,u=n.fftSize,a=n.window,s=n.verbose;c===null&&(c=Math.floor(i/2)),u===null&&(u=Math.pow(2,(0,MNr.nextpow2)(i)));var o=i-c;if(o<=0)throw new Error("Invalid overlap, must be less than segmentLength");var l=(0,ANr.windowApply)(e,function(m){return(0,CNr.periodogram)(m,r,{fftSize:u,window:a})},i,o,!1);if(l.length==0)throw new Error("Unable to calculate any PSD estimates");if(l.length==1)return s&&console.warn("Not enough data to compute more than one segment, returning single modified periodogram."),l[0];for(var d=l[0].estimates.length,p=new Array(d).fill(0),f=0;f<l.length;f++)for(var v=0;v<d;v++)p[v]+=l[f].estimates[v];for(var h=0;h<d;h++)p[h]=p[h]/l.length;return{estimates:p,frequencies:l[0].frequencies}}});var mZ=D(lE=>{"use strict";Object.defineProperty(lE,"__esModule",{value:!0});lE.accuracy=ENr;function ENr(e){for(var r=0,t=0;t<e.length;t++)r+=e[t][t];for(var n=0,i=0;i<e.length;i++)for(var c=0;c<e.length;c++)n+=e[i][c];return r/n}});var pN=D(dE=>{"use strict";Object.defineProperty(dE,"__esModule",{value:!0});dE.recall=qNr;function qNr(e){if(e.length!=2||e[0].length!=2||e[1].length!=2)throw new Error("Confusion matrix must be of size 2x2");return e[1][1]/(e[1][1]+e[1][0])}});var fE=D(pE=>{"use strict";Object.defineProperty(pE,"__esModule",{value:!0});pE.specificity=INr;function INr(e){if(e.length!=2||e[0].length!=2||e[1].length!=2)throw new Error("Confusion matrix must be of size 2x2");return e[0][0]/(e[0][0]+e[0][1])}});var yZ=D(hE=>{"use strict";Object.defineProperty(hE,"__esModule",{value:!0});hE.balancedAccuracy=jNr;var BNr=pN(),kNr=fE();function jNr(e){var r=(0,BNr.recall)(e),t=(0,kNr.specificity)(e);return(r+t)/2}});var gZ=D(mE=>{"use strict";Object.defineProperty(mE,"__esModule",{value:!0});mE.confusionMatrix=zNr;function TNr(e){return UNr(e)||LNr(e)||FNr(e)||RNr()}function RNr(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FNr(e,r){if(!!e){if(typeof e=="string")return vE(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return vE(e,r)}}function LNr(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function UNr(e){if(Array.isArray(e))return vE(e)}function vE(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function zNr(e,r){if(e.length!=r.length)throw new Error("predictedClasses length must equal actualClasses length");for(var t=Math.max.apply(Math,TNr(e.concat(r))),n=Array(t+1).fill().map(function(){return Array(t+1).fill(0)}),i=0;i<e.length;i++){var c=e[i],u=r[i];n[u][c]++}return n}});var gE=D(yE=>{"use strict";Object.defineProperty(yE,"__esModule",{value:!0});yE.precision=JNr;function JNr(e){if(e.length!=2||e[0].length!=2||e[1].length!=2)throw new Error("Confusion matrix must be of size 2x2");return e[1][1]/(e[1][1]+e[0][1])}});var bZ=D(bE=>{"use strict";Object.defineProperty(bE,"__esModule",{value:!0});bE.f1=HNr;var VNr=gE(),GNr=pN();function HNr(e){if(e.length!=2||e[0].length!=2||e[1].length!=2)throw new Error("Confusion matrix must be of size 2x2");var r=(0,VNr.precision)(e),t=(0,GNr.recall)(e),n=2*r*t/(r+t);return n}});var _Z=D(_E=>{"use strict";Object.defineProperty(_E,"__esModule",{value:!0});_E.mcc=WNr;function WNr(e){if(e.length!=2||e[0].length!=2||e[1].length!=2)throw new Error("Confusion matrix must be of size 2x2");var r=e[0][0],t=e[0][1],n=e[1][0],i=e[1][1];return(i*r-t*n)/Math.sqrt((i+t)*(i+n)*(r+t)*(r+n))}});var wZ=D(wE=>{"use strict";Object.defineProperty(wE,"__esModule",{value:!0});wE.wait=$Nr;function $Nr(e){return new Promise(function(r){return setTimeout(r,e)})}});var iX=D(Cr=>{"use strict";Object.defineProperty(Cr,"__esModule",{value:!0});var SZ=Vk();Object.keys(SZ).forEach(function(e){e==="default"||e==="__esModule"||Object.defineProperty(Cr,e,{enumerable:!0,get:function(){return SZ[e]}})});var xZ=PP();Object.keys(xZ).forEach(function(e){e==="default"||e==="__esModule"||Object.defineProperty(Cr,e,{enumerable:!0,get:function(){return xZ[e]}})});var OZ=PY();Object.keys(OZ).forEach(function(e){e==="default"||e==="__esModule"||Object.defineProperty(Cr,e,{enumerable:!0,get:function(){return OZ[e]}})});var DZ=EY();Object.keys(DZ).forEach(function(e){e==="default"||e==="__esModule"||Object.defineProperty(Cr,e,{enumerable:!0,get:function(){return DZ[e]}})});var NZ=V2();Object.keys(NZ).forEach(function(e){e==="default"||e==="__esModule"||Object.defineProperty(Cr,e,{enumerable:!0,get:function(){return NZ[e]}})});var CZ=H2();Object.keys(CZ).forEach(function(e){e==="default"||e==="__esModule"||Object.defineProperty(Cr,e,{enumerable:!0,get:function(){return CZ[e]}})});var AZ=qY();Object.keys(AZ).forEach(function(e){e==="default"||e==="__esModule"||Object.defineProperty(Cr,e,{enumerable:!0,get:function(){return AZ[e]}})});var MZ=$2();Object.keys(MZ).forEach(function(e){e==="default"||e==="__esModule"||Object.defineProperty(Cr,e,{enumerable:!0,get:function(){return MZ[e]}})});var PZ=IY();Object.keys(PZ).forEach(function(e){e==="default"||e==="__esModule"||Object.defineProperty(Cr,e,{enumerable:!0,get:function(){return PZ[e]}})});var EZ=BY();Object.keys(EZ).forEach(function(e){e==="default"||e==="__esModule"||Object.defineProperty(Cr,e,{enumerable:!0,get:function(){return EZ[e]}})});var qZ=kY();Object.keys(qZ).forEach(function(e){e==="default"||e==="__esModule"||Object.defineProperty(Cr,e,{enumerable:!0,get:function(){return qZ[e]}})});var IZ=jY();Object.keys(IZ).forEach(function(e){e==="default"||e==="__esModule"||Object.defineProperty(Cr,e,{enumerable:!0,get:function(){return IZ[e]}})});var BZ=XY();Object.keys(BZ).forEach(function(e){e==="default"||e==="__esModule"||Object.defineProperty(Cr,e,{enumerable:!0,get:function(){return BZ[e]}})});var kZ=QP();Object.keys(kZ).forEach(function(e){e==="default"||e==="__esModule"||Object.defineProperty(Cr,e,{enumerable:!0,get:function(){return kZ[e]}})});var jZ=tZ();Object.keys(jZ).forEach(function(e){e==="default"||e==="__esModule"||Object.defineProperty(Cr,e,{enumerable:!0,get:function(){return jZ[e]}})});var TZ=aZ();Object.keys(TZ).forEach(function(e){e==="default"||e==="__esModule"||Object.defineProperty(Cr,e,{enumerable:!0,get:function(){return TZ[e]}})});var RZ=sZ();Object.keys(RZ).forEach(function(e){e==="default"||e==="__esModule"||Object.defineProperty(Cr,e,{enumerable:!0,get:function(){return RZ[e]}})});var FZ=uZ();Object.keys(FZ).forEach(function(e){e==="default"||e==="__esModule"||Object.defineProperty(Cr,e,{enumerable:!0,get:function(){return FZ[e]}})});var LZ=lZ();Object.keys(LZ).forEach(function(e){e==="default"||e==="__esModule"||Object.defineProperty(Cr,e,{enumerable:!0,get:function(){return LZ[e]}})});var UZ=dZ();Object.keys(UZ).forEach(function(e){e==="default"||e==="__esModule"||Object.defineProperty(Cr,e,{enumerable:!0,get:function(){return UZ[e]}})});var zZ=fZ();Object.keys(zZ).forEach(function(e){e==="default"||e==="__esModule"||Object.defineProperty(Cr,e,{enumerable:!0,get:function(){return zZ[e]}})});var JZ=hZ();Object.keys(JZ).forEach(function(e){e==="default"||e==="__esModule"||Object.defineProperty(Cr,e,{enumerable:!0,get:function(){return JZ[e]}})});var VZ=sE();Object.keys(VZ).forEach(function(e){e==="default"||e==="__esModule"||Object.defineProperty(Cr,e,{enumerable:!0,get:function(){return VZ[e]}})});var GZ=Sa();Object.keys(GZ).forEach(function(e){e==="default"||e==="__esModule"||Object.defineProperty(Cr,e,{enumerable:!0,get:function(){return GZ[e]}})});var HZ=cN();Object.keys(HZ).forEach(function(e){e==="default"||e==="__esModule"||Object.defineProperty(Cr,e,{enumerable:!0,get:function(){return HZ[e]}})});var WZ=So();Object.keys(WZ).forEach(function(e){e==="default"||e==="__esModule"||Object.defineProperty(Cr,e,{enumerable:!0,get:function(){return WZ[e]}})});var $Z=vZ();Object.keys($Z).forEach(function(e){e==="default"||e==="__esModule"||Object.defineProperty(Cr,e,{enumerable:!0,get:function(){return $Z[e]}})});var QZ=mZ();Object.keys(QZ).forEach(function(e){e==="default"||e==="__esModule"||Object.defineProperty(Cr,e,{enumerable:!0,get:function(){return QZ[e]}})});var YZ=yZ();Object.keys(YZ).forEach(function(e){e==="default"||e==="__esModule"||Object.defineProperty(Cr,e,{enumerable:!0,get:function(){return YZ[e]}})});var ZZ=gZ();Object.keys(ZZ).forEach(function(e){e==="default"||e==="__esModule"||Object.defineProperty(Cr,e,{enumerable:!0,get:function(){return ZZ[e]}})});var XZ=bZ();Object.keys(XZ).forEach(function(e){e==="default"||e==="__esModule"||Object.defineProperty(Cr,e,{enumerable:!0,get:function(){return XZ[e]}})});var KZ=_Z();Object.keys(KZ).forEach(function(e){e==="default"||e==="__esModule"||Object.defineProperty(Cr,e,{enumerable:!0,get:function(){return KZ[e]}})});var eX=gE();Object.keys(eX).forEach(function(e){e==="default"||e==="__esModule"||Object.defineProperty(Cr,e,{enumerable:!0,get:function(){return eX[e]}})});var rX=pN();Object.keys(rX).forEach(function(e){e==="default"||e==="__esModule"||Object.defineProperty(Cr,e,{enumerable:!0,get:function(){return rX[e]}})});var tX=fE();Object.keys(tX).forEach(function(e){e==="default"||e==="__esModule"||Object.defineProperty(Cr,e,{enumerable:!0,get:function(){return tX[e]}})});var nX=wZ();Object.keys(nX).forEach(function(e){e==="default"||e==="__esModule"||Object.defineProperty(Cr,e,{enumerable:!0,get:function(){return nX[e]}})})});var sX=D(ul=>{"use strict";function fN(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?fN=function(t){return typeof t}:fN=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fN(e)}Object.defineProperty(ul,"__esModule",{value:!0});var QNr={};ul.default=void 0;var SE=YNr(iX());Object.keys(SE).forEach(function(e){e==="default"||e==="__esModule"||Object.prototype.hasOwnProperty.call(QNr,e)||Object.defineProperty(ul,e,{enumerable:!0,get:function(){return SE[e]}})});function aX(){if(typeof WeakMap!="function")return null;var e=new WeakMap;return aX=function(){return e},e}function YNr(e){if(e&&e.__esModule)return e;if(e===null||fN(e)!=="object"&&typeof e!="function")return{default:e};var r=aX();if(r&&r.has(e))return r.get(e);var t={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var c=n?Object.getOwnPropertyDescriptor(e,i):null;c&&(c.get||c.set)?Object.defineProperty(t,i,c):t[i]=e[i]}return t.default=e,r&&r.set(e,t),t}var ZNr=SE;ul.default=ZNr});var cX=D((gnt,oX)=>{oX.exports=sX()});var Uk=Boe(cX(),1);var Lk={};Ri(Lk,{__attributes:()=>HUr,__children:()=>WUr,__compose:()=>GUr,__listeners:()=>$Ur});var tq={};Ri(tq,{__children:()=>jAr,__listeners:()=>TAr,ondata:()=>kAr,output:()=>BAr});var ro={};Ri(ro,{__element:()=>XNr,__onconnected:()=>r2r,default:()=>n2r,itemTag:()=>e2r,options:()=>KNr,showHide:()=>t2r});var XNr="select",KNr={},e2r="option",r2r=function(){let e=this,r=e.__element;r||e.source&&(e=e.source,r=e.__element);let t=e.options;if(!Array.isArray(t)){t=[];for(let c in e.options)t.push({value:c,label:e.options[c]})}if(t.length===0)return;let n=t.reduce((c,u)=>c*!!u.show,!0);r&&(r.innerHTML=t.map(c=>{let u=typeof c=="object"?c.value:c,a=c?.label??u;return`<${this.itemTag} value='${u}'>${a}</${this.itemTag}>`})),r.onchange=c=>{n&&this.showHide(c.target.value,t,r),this.default(c.target.value)};let i=t?.[0]?.value;setTimeout(()=>{n&&this.showHide(i,t,r),this.default(i)},n?100:10)};function t2r(e,r,t){r.forEach(n=>{let i=t.parentNode.querySelector(`#${n.show}`);e===n.value?(i.style.display="",i.hasAttribute("escomponent")&&i.__component.default(i.value)):i.style.display="none"})}var n2r=e=>e;var xE={};Ri(xE,{__attributes:()=>c2r,__element:()=>o2r,__useclick:()=>i2r,cache:()=>s2r,default:()=>u2r,pressed:()=>a2r});var i2r=!0,a2r=!1,s2r=null,o2r="button",c2r={innerHTML:"Click Me",onclick:function(){this.__useclick&&(this.default({value:!0,__internal:!0}),this.default({value:!1,__internal:!0}))},onmousedown:function(){this.__useclick=!1,this.default({value:!0,__internal:!0});let e=()=>{this.default({value:!1,__internal:!0}),globalThis.removeEventListener("mouseup",e),setTimeout(()=>this.__useclick=!0,10)};globalThis.addEventListener("mouseup",e)}};function u2r(e){let r,t=e?.value??e;return e?.__internal?(this.pressed=t,this.cache?t&&(r=this.cache):r=t):t!==void 0&&(this.cache=t),r}var rq={};Ri(rq,{decoder:()=>wAr,default:()=>qAr,device:()=>NAr,info:()=>CAr,mode:()=>bAr,onconnect:()=>DAr,ondecoded:()=>SAr,routes:()=>OAr,selected:()=>_Ar,sps:()=>EAr,subprocesses:()=>xAr,thirdPartyDecoder:()=>AAr,transferred:()=>PAr,workerUrl:()=>MAr});var eq={};Ri(eq,{BLE:()=>hl,Devices:()=>YX,chartSettings:()=>fAr,createStreamPipeline:()=>gAr,decoders:()=>vAr,filterPresets:()=>pAr,gsworker:()=>GE,initDevice:()=>yAr,isMobile:()=>mAr,workers:()=>da});var l2r=Object.create,kE=Object.defineProperty,d2r=Object.getOwnPropertyDescriptor,jE=Object.getOwnPropertyNames,p2r=Object.getPrototypeOf,f2r=Object.prototype.hasOwnProperty,h2r=(e=>typeof bn<"u"?bn:typeof Proxy<"u"?new Proxy(e,{get:(r,t)=>(typeof bn<"u"?bn:r)[t]}):e)(function(e){if(typeof bn<"u")return bn.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')}),DN=(e,r)=>function(){return e&&(r=(0,e[jE(e)[0]])(e=0)),r},TE=(e,r)=>function(){return r||(0,e[jE(e)[0]])((r={exports:{}}).exports,r),r.exports},v2r=(e,r)=>{for(var t in r)kE(e,t,{get:r[t],enumerable:!0})},m2r=(e,r,t,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let i of jE(r))!f2r.call(e,i)&&i!==t&&kE(e,i,{get:()=>r[i],enumerable:!(n=d2r(r,i))||n.enumerable});return e},RE=(e,r,t)=>(t=e!=null?l2r(p2r(e)):{},m2r(r||!e||!e.__esModule?kE(t,"default",{value:e,enumerable:!0}):t,e)),y2r=TE({"../../graphscript/services/e2ee/sjcl.js"(e,r){"use strict";var t={cipher:{},hash:{},keyexchange:{},mode:{},misc:{},codec:{},exception:{corrupt:function(h){this.toString=function(){return"CORRUPT: "+this.message},this.message=h},invalid:function(h){this.toString=function(){return"INVALID: "+this.message},this.message=h},bug:function(h){this.toString=function(){return"BUG: "+this.message},this.message=h},notReady:function(h){this.toString=function(){return"NOT READY: "+this.message},this.message=h}}};t.cipher.aes=function(h){this.s[0][0][0]||this.O();var m,y,g,b,_=this.s[0][4],S=this.s[1];m=h.length;var w=1;if(m!==4&&m!==6&&m!==8)throw new t.exception.invalid("invalid aes key size");for(this.b=[g=h.slice(0),b=[]],h=m;h<4*m+28;h++)y=g[h-1],(h%m===0||m===8&&h%m===4)&&(y=_[y>>>24]<<24^_[y>>16&255]<<16^_[y>>8&255]<<8^_[y&255],h%m===0&&(y=y<<8^y>>>24^w<<24,w=w<<1^283*(w>>7))),g[h]=g[h-m]^y;for(m=0;h;m++,h--)y=g[m&3?h:h-4],b[m]=4>=h||4>m?y:S[0][_[y>>>24]]^S[1][_[y>>16&255]]^S[2][_[y>>8&255]]^S[3][_[y&255]]},t.cipher.aes.prototype={encrypt:function(h){return n(this,h,0)},decrypt:function(h){return n(this,h,1)},s:[[[],[],[],[],[]],[[],[],[],[],[]]],O:function(){var h=this.s[0],m=this.s[1],y=h[4],g=m[4],b,_,S,w=[],O=[],x,N,M,I;for(b=0;256>b;b++)O[(w[b]=b<<1^283*(b>>7))^b]=b;for(_=S=0;!y[_];_^=x||1,S=O[S]||1)for(M=S^S<<1^S<<2^S<<3^S<<4,M=M>>8^M&255^99,y[_]=M,g[M]=_,N=w[b=w[x=w[_]]],I=16843009*N^65537*b^257*x^16843008*_,N=257*w[M]^16843008*M,b=0;4>b;b++)h[b][_]=N=N<<24^N>>>8,m[b][M]=I=I<<24^I>>>8;for(b=0;5>b;b++)h[b]=h[b].slice(0),m[b]=m[b].slice(0)}};function n(h,m,y){if(m.length!==4)throw new t.exception.invalid("invalid aes block size");var g=h.b[y],b=m[0]^g[0],_=m[y?3:1]^g[1],S=m[2]^g[2];m=m[y?1:3]^g[3];var w,O,x,N=g.length/4-2,M,I=4,q=[0,0,0,0];w=h.s[y],h=w[0];var z=w[1],R=w[2],j=w[3],L=w[4];for(M=0;M<N;M++)w=h[b>>>24]^z[_>>16&255]^R[S>>8&255]^j[m&255]^g[I],O=h[_>>>24]^z[S>>16&255]^R[m>>8&255]^j[b&255]^g[I+1],x=h[S>>>24]^z[m>>16&255]^R[b>>8&255]^j[_&255]^g[I+2],m=h[m>>>24]^z[b>>16&255]^R[_>>8&255]^j[S&255]^g[I+3],I+=4,b=w,_=O,S=x;for(M=0;4>M;M++)q[y?3&-M:M]=L[b>>>24]<<24^L[_>>16&255]<<16^L[S>>8&255]<<8^L[m&255]^g[I++],w=b,b=_,_=S,S=m,m=w;return q}t.bitArray={bitSlice:function(h,m,y){return h=t.bitArray.$(h.slice(m/32),32-(m&31)).slice(1),y===void 0?h:t.bitArray.clamp(h,y-m)},extract:function(h,m,y){var g=Math.floor(-m-y&31);return((m+y-1^m)&-32?h[m/32|0]<<32-g^h[m/32+1|0]>>>g:h[m/32|0]>>>g)&(1<<y)-1},concat:function(h,m){if(h.length===0||m.length===0)return h.concat(m);var y=h[h.length-1],g=t.bitArray.getPartial(y);return g===32?h.concat(m):t.bitArray.$(m,g,y|0,h.slice(0,h.length-1))},bitLength:function(h){var m=h.length;return m===0?0:32*(m-1)+t.bitArray.getPartial(h[m-1])},clamp:function(h,m){if(32*h.length<m)return h;h=h.slice(0,Math.ceil(m/32));var y=h.length;return m=m&31,0<y&&m&&(h[y-1]=t.bitArray.partial(m,h[y-1]&2147483648>>m-1,1)),h},partial:function(h,m,y){return h===32?m:(y?m|0:m<<32-h)+1099511627776*h},getPartial:function(h){return Math.round(h/1099511627776)||32},equal:function(h,m){if(t.bitArray.bitLength(h)!==t.bitArray.bitLength(m))return!1;var y=0,g;for(g=0;g<h.length;g++)y|=h[g]^m[g];return y===0},$:function(h,m,y,g){var b;for(b=0,g===void 0&&(g=[]);32<=m;m-=32)g.push(y),y=0;if(m===0)return g.concat(h);for(b=0;b<h.length;b++)g.push(y|h[b]>>>m),y=h[b]<<32-m;return b=h.length?h[h.length-1]:0,h=t.bitArray.getPartial(b),g.push(t.bitArray.partial(m+h&31,32<m+h?y:g.pop(),1)),g},i:function(h,m){return[h[0]^m[0],h[1]^m[1],h[2]^m[2],h[3]^m[3]]},byteswapM:function(h){var m,y;for(m=0;m<h.length;++m)y=h[m],h[m]=y>>>24|y>>>8&65280|(y&65280)<<8|y<<24;return h}},t.codec.utf8String={fromBits:function(h){var m="",y=t.bitArray.bitLength(h),g,b;for(g=0;g<y/8;g++)(g&3)===0&&(b=h[g/4]),m+=String.fromCharCode(b>>>8>>>8>>>8),b<<=8;return decodeURIComponent(escape(m))},toBits:function(h){h=unescape(encodeURIComponent(h));var m=[],y,g=0;for(y=0;y<h.length;y++)g=g<<8|h.charCodeAt(y),(y&3)===3&&(m.push(g),g=0);return y&3&&m.push(t.bitArray.partial(8*(y&3),g)),m}},t.codec.hex={fromBits:function(h){var m="",y;for(y=0;y<h.length;y++)m+=((h[y]|0)+0xf00000000000).toString(16).substr(4);return m.substr(0,t.bitArray.bitLength(h)/4)},toBits:function(h){var m,y=[],g;for(h=h.replace(/\s|0x/g,""),g=h.length,h=h+"00000000",m=0;m<h.length;m+=8)y.push(parseInt(h.substr(m,8),16)^0);return t.bitArray.clamp(y,4*g)}},t.codec.base32={B:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",X:"0123456789ABCDEFGHIJKLMNOPQRSTUV",BITS:32,BASE:5,REMAINING:27,fromBits:function(h,m,y){var g=t.codec.base32.BASE,b=t.codec.base32.REMAINING,_="",S=0,w=t.codec.base32.B,O=0,x=t.bitArray.bitLength(h);for(y&&(w=t.codec.base32.X),y=0;_.length*g<x;)_+=w.charAt((O^h[y]>>>S)>>>b),S<g?(O=h[y]<<g-S,S+=b,y++):(O<<=g,S-=g);for(;_.length&7&&!m;)_+="=";return _},toBits:function(h,m){h=h.replace(/\s|=/g,"").toUpperCase();var y=t.codec.base32.BITS,g=t.codec.base32.BASE,b=t.codec.base32.REMAINING,_=[],S,w=0,O=t.codec.base32.B,x=0,N,M="base32";for(m&&(O=t.codec.base32.X,M="base32hex"),S=0;S<h.length;S++){if(N=O.indexOf(h.charAt(S)),0>N){if(!m)try{return t.codec.base32hex.toBits(h)}catch{}throw new t.exception.invalid("this isn't "+M+"!")}w>b?(w-=b,_.push(x^N>>>w),x=N<<y-w):(w+=g,x^=N<<y-w)}return w&56&&_.push(t.bitArray.partial(w&56,x,1)),_}},t.codec.base32hex={fromBits:function(h,m){return t.codec.base32.fromBits(h,m,1)},toBits:function(h){return t.codec.base32.toBits(h,1)}},t.codec.base64={B:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",fromBits:function(h,m,y){var g="",b=0,_=t.codec.base64.B,S=0,w=t.bitArray.bitLength(h);for(y&&(_=_.substr(0,62)+"-_"),y=0;6*g.length<w;)g+=_.charAt((S^h[y]>>>b)>>>26),6>b?(S=h[y]<<6-b,b+=26,y++):(S<<=6,b-=6);for(;g.length&3&&!m;)g+="=";return g},toBits:function(h,m){h=h.replace(/\s|=/g,"");var y=[],g,b=0,_=t.codec.base64.B,S=0,w;for(m&&(_=_.substr(0,62)+"-_"),g=0;g<h.length;g++){if(w=_.indexOf(h.charAt(g)),0>w)throw new t.exception.invalid("this isn't base64!");26<b?(b-=26,y.push(S^w>>>b),S=w<<32-b):(b+=6,S^=w<<32-b)}return b&56&&y.push(t.bitArray.partial(b&56,S,1)),y}},t.codec.base64url={fromBits:function(h){return t.codec.base64.fromBits(h,1,1)},toBits:function(h){return t.codec.base64.toBits(h,1)}},t.hash.sha256=function(h){this.b[0]||this.O(),h?(this.F=h.F.slice(0),this.A=h.A.slice(0),this.l=h.l):this.reset()},t.hash.sha256.hash=function(h){return new t.hash.sha256().update(h).finalize()},t.hash.sha256.prototype={blockSize:512,reset:function(){return this.F=this.Y.slice(0),this.A=[],this.l=0,this},update:function(h){typeof h=="string"&&(h=t.codec.utf8String.toBits(h));var m,y=this.A=t.bitArray.concat(this.A,h);if(m=this.l,h=this.l=m+t.bitArray.bitLength(h),9007199254740991<h)throw new t.exception.invalid("Cannot hash more than 2^53 - 1 bits");if(typeof Uint32Array<"u"){var g=new Uint32Array(y),b=0;for(m=512+m-(512+m&511);m<=h;m+=512)i(this,g.subarray(16*b,16*(b+1))),b+=1;y.splice(0,16*b)}else for(m=512+m-(512+m&511);m<=h;m+=512)i(this,y.splice(0,16));return this},finalize:function(){var h,y=this.A,m=this.F,y=t.bitArray.concat(y,[t.bitArray.partial(1,1)]);for(h=y.length+2;h&15;h++)y.push(0);for(y.push(Math.floor(this.l/4294967296)),y.push(this.l|0);y.length;)i(this,y.splice(0,16));return this.reset(),m},Y:[],b:[],O:function(){function h(_){return 4294967296*(_-Math.floor(_))|0}for(var m=0,y=2,g,b;64>m;y++){for(b=!0,g=2;g*g<=y;g++)if(y%g===0){b=!1;break}b&&(8>m&&(this.Y[m]=h(Math.pow(y,.5))),this.b[m]=h(Math.pow(y,1/3)),m++)}}};function i(h,m){var y,g,b,_=h.F,S=h.b,w=_[0],O=_[1],x=_[2],N=_[3],M=_[4],I=_[5],q=_[6],z=_[7];for(y=0;64>y;y++)16>y?g=m[y]:(g=m[y+1&15],b=m[y+14&15],g=m[y&15]=(g>>>7^g>>>18^g>>>3^g<<25^g<<14)+(b>>>17^b>>>19^b>>>10^b<<15^b<<13)+m[y&15]+m[y+9&15]|0),g=g+z+(M>>>6^M>>>11^M>>>25^M<<26^M<<21^M<<7)+(q^M&(I^q))+S[y],z=q,q=I,I=M,M=N+g|0,N=x,x=O,O=w,w=g+(O&x^N&(O^x))+(O>>>2^O>>>13^O>>>22^O<<30^O<<19^O<<10)|0;_[0]=_[0]+w|0,_[1]=_[1]+O|0,_[2]=_[2]+x|0,_[3]=_[3]+N|0,_[4]=_[4]+M|0,_[5]=_[5]+I|0,_[6]=_[6]+q|0,_[7]=_[7]+z|0}t.mode.ccm={name:"ccm",G:[],listenProgress:function(h){t.mode.ccm.G.push(h)},unListenProgress:function(h){h=t.mode.ccm.G.indexOf(h),-1<h&&t.mode.ccm.G.splice(h,1)},fa:function(h){var m=t.mode.ccm.G.slice(),y;for(y=0;y<m.length;y+=1)m[y](h)},encrypt:function(h,m,y,g,b){var _,S=m.slice(0),w=t.bitArray,O=w.bitLength(y)/8,x=w.bitLength(S)/8;if(b=b||64,g=g||[],7>O)throw new t.exception.invalid("ccm: iv must be at least 7 bytes");for(_=2;4>_&&x>>>8*_;_++);return _<15-O&&(_=15-O),y=w.clamp(y,8*(15-_)),m=t.mode.ccm.V(h,m,y,g,b,_),S=t.mode.ccm.C(h,S,y,m,b,_),w.concat(S.data,S.tag)},decrypt:function(h,m,y,g,b){b=b||64,g=g||[];var _=t.bitArray,S=_.bitLength(y)/8,x=_.bitLength(m),w=_.clamp(m,x-b),O=_.bitSlice(m,x-b),x=(x-b)/8;if(7>S)throw new t.exception.invalid("ccm: iv must be at least 7 bytes");for(m=2;4>m&&x>>>8*m;m++);if(m<15-S&&(m=15-S),y=_.clamp(y,8*(15-m)),w=t.mode.ccm.C(h,w,y,O,b,m),h=t.mode.ccm.V(h,w.data,y,g,b,m),!_.equal(w.tag,h))throw new t.exception.corrupt("ccm: tag doesn't match");return w.data},na:function(h,m,y,g,b,_){var S=[],w=t.bitArray,O=w.i;if(g=[w.partial(8,(m.length?64:0)|g-2<<2|_-1)],g=w.concat(g,y),g[3]|=b,g=h.encrypt(g),m.length)for(y=w.bitLength(m)/8,65279>=y?S=[w.partial(16,y)]:4294967295>=y&&(S=w.concat([w.partial(16,65534)],[y])),S=w.concat(S,m),m=0;m<S.length;m+=4)g=h.encrypt(O(g,S.slice(m,m+4).concat([0,0,0])));return g},V:function(h,m,y,g,b,_){var S=t.bitArray,w=S.i;if(b/=8,b%2||4>b||16<b)throw new t.exception.invalid("ccm: invalid tag length");if(4294967295<g.length||4294967295<m.length)throw new t.exception.bug("ccm: can't deal with 4GiB or more data");for(y=t.mode.ccm.na(h,g,y,b,S.bitLength(m)/8,_),g=0;g<m.length;g+=4)y=h.encrypt(w(y,m.slice(g,g+4).concat([0,0,0])));return S.clamp(y,8*b)},C:function(h,m,y,g,b,_){var S,w=t.bitArray;S=w.i;var O=m.length,x=w.bitLength(m),N=O/50,M=N;if(y=w.concat([w.partial(8,_-1)],y).concat([0,0,0]).slice(0,4),g=w.bitSlice(S(g,h.encrypt(y)),0,b),!O)return{tag:g,data:[]};for(S=0;S<O;S+=4)S>N&&(t.mode.ccm.fa(S/O),N+=M),y[3]++,b=h.encrypt(y),m[S]^=b[0],m[S+1]^=b[1],m[S+2]^=b[2],m[S+3]^=b[3];return{tag:g,data:w.clamp(m,x)}}},t.mode.ocb2={name:"ocb2",encrypt:function(h,m,y,g,b,_){if(t.bitArray.bitLength(y)!==128)throw new t.exception.invalid("ocb iv must be 128 bits");var S,w=t.mode.ocb2.S,O=t.bitArray,x=O.i,N=[0,0,0,0];y=w(h.encrypt(y));var M,I=[];for(g=g||[],b=b||64,S=0;S+4<m.length;S+=4)M=m.slice(S,S+4),N=x(N,M),I=I.concat(x(y,h.encrypt(x(y,M)))),y=w(y);return M=m.slice(S),m=O.bitLength(M),S=h.encrypt(x(y,[0,0,0,m])),M=O.clamp(x(M.concat([0,0,0]),S),m),N=x(N,x(M.concat([0,0,0]),S)),N=h.encrypt(x(N,x(y,w(y)))),g.length&&(N=x(N,_?g:t.mode.ocb2.pmac(h,g))),I.concat(O.concat(M,O.clamp(N,b)))},decrypt:function(h,m,y,g,b,_){if(t.bitArray.bitLength(y)!==128)throw new t.exception.invalid("ocb iv must be 128 bits");b=b||64;var S=t.mode.ocb2.S,w=t.bitArray,O=w.i,x=[0,0,0,0],N=S(h.encrypt(y)),M,I,q=t.bitArray.bitLength(m)-b,z=[];for(g=g||[],y=0;y+4<q/32;y+=4)M=O(N,h.decrypt(O(N,m.slice(y,y+4)))),x=O(x,M),z=z.concat(M),N=S(N);if(I=q-32*y,M=h.encrypt(O(N,[0,0,0,I])),M=O(M,w.clamp(m.slice(y),I).concat([0,0,0])),x=O(x,M),x=h.encrypt(O(x,O(N,S(N)))),g.length&&(x=O(x,_?g:t.mode.ocb2.pmac(h,g))),!w.equal(w.clamp(x,b),w.bitSlice(m,q)))throw new t.exception.corrupt("ocb: tag doesn't match");return z.concat(w.clamp(M,I))},pmac:function(h,m){var y,g=t.mode.ocb2.S,b=t.bitArray,_=b.i,S=[0,0,0,0],w=h.encrypt([0,0,0,0]),w=_(w,g(g(w)));for(y=0;y+4<m.length;y+=4)w=g(w),S=_(S,h.encrypt(_(w,m.slice(y,y+4))));return y=m.slice(y),128>b.bitLength(y)&&(w=_(w,g(w)),y=b.concat(y,[-2147483648,0,0,0])),S=_(S,y),h.encrypt(_(g(_(w,g(w))),S))},S:function(h){return[h[0]<<1^h[1]>>>31,h[1]<<1^h[2]>>>31,h[2]<<1^h[3]>>>31,h[3]<<1^135*(h[0]>>>31)]}},t.mode.gcm={name:"gcm",encrypt:function(h,m,y,g,b){var _=m.slice(0);return m=t.bitArray,g=g||[],h=t.mode.gcm.C(!0,h,_,g,y,b||128),m.concat(h.data,h.tag)},decrypt:function(h,m,y,g,b){var _=m.slice(0),S=t.bitArray,w=S.bitLength(_);if(b=b||128,g=g||[],b<=w?(m=S.bitSlice(_,w-b),_=S.bitSlice(_,0,w-b)):(m=_,_=[]),h=t.mode.gcm.C(!1,h,_,g,y,b),!S.equal(h.tag,m))throw new t.exception.corrupt("gcm: tag doesn't match");return h.data},ka:function(h,m){var y,g,b,_,S,w=t.bitArray.i;for(b=[0,0,0,0],_=m.slice(0),y=0;128>y;y++){for((g=(h[Math.floor(y/32)]&1<<31-y%32)!==0)&&(b=w(b,_)),S=(_[3]&1)!==0,g=3;0<g;g--)_[g]=_[g]>>>1|(_[g-1]&1)<<31;_[0]>>>=1,S&&(_[0]^=-520093696)}return b},j:function(h,m,y){var g,b=y.length;for(m=m.slice(0),g=0;g<b;g+=4)m[0]^=4294967295&y[g],m[1]^=4294967295&y[g+1],m[2]^=4294967295&y[g+2],m[3]^=4294967295&y[g+3],m=t.mode.gcm.ka(m,h);return m},C:function(h,m,y,g,b,_){var S,w,O,x,N,M,I,q,z=t.bitArray;for(M=y.length,I=z.bitLength(y),q=z.bitLength(g),w=z.bitLength(b),S=m.encrypt([0,0,0,0]),w===96?(b=b.slice(0),b=z.concat(b,[1])):(b=t.mode.gcm.j(S,[0,0,0,0],b),b=t.mode.gcm.j(S,b,[0,0,Math.floor(w/4294967296),w&4294967295])),w=t.mode.gcm.j(S,[0,0,0,0],g),N=b.slice(0),g=w.slice(0),h||(g=t.mode.gcm.j(S,w,y)),x=0;x<M;x+=4)N[3]++,O=m.encrypt(N),y[x]^=O[0],y[x+1]^=O[1],y[x+2]^=O[2],y[x+3]^=O[3];return y=z.clamp(y,I),h&&(g=t.mode.gcm.j(S,w,y)),h=[Math.floor(q/4294967296),q&4294967295,Math.floor(I/4294967296),I&4294967295],g=t.mode.gcm.j(S,g,h),O=m.encrypt(b),g[0]^=O[0],g[1]^=O[1],g[2]^=O[2],g[3]^=O[3],{tag:z.bitSlice(g,0,_),data:y}}},t.misc.hmac=function(h,m){this.W=m=m||t.hash.sha256;var y=[[],[]],g,b=m.prototype.blockSize/32;for(this.w=[new m,new m],h.length>b&&(h=m.hash(h)),g=0;g<b;g++)y[0][g]=h[g]^909522486,y[1][g]=h[g]^1549556828;this.w[0].update(y[0]),this.w[1].update(y[1]),this.R=new m(this.w[0])},t.misc.hmac.prototype.encrypt=t.misc.hmac.prototype.mac=function(h){if(this.aa)throw new t.exception.invalid("encrypt on already updated hmac called!");return this.update(h),this.digest(h)},t.misc.hmac.prototype.reset=function(){this.R=new this.W(this.w[0]),this.aa=!1},t.misc.hmac.prototype.update=function(h){this.aa=!0,this.R.update(h)},t.misc.hmac.prototype.digest=function(){var h=this.R.finalize(),h=new this.W(this.w[1]).update(h).finalize();return this.reset(),h},t.misc.pbkdf2=function(h,m,y,g,b){if(y=y||1e4,0>g||0>y)throw new t.exception.invalid("invalid params to pbkdf2");typeof h=="string"&&(h=t.codec.utf8String.toBits(h)),typeof m=="string"&&(m=t.codec.utf8String.toBits(m)),b=b||t.misc.hmac,h=new b(h);var _,S,w,O,x=[],N=t.bitArray;for(O=1;32*x.length<(g||1);O++){for(b=_=h.encrypt(N.concat(m,[O])),S=1;S<y;S++)for(_=h.encrypt(_),w=0;w<_.length;w++)b[w]^=_[w];x=x.concat(b)}return g&&(x=N.clamp(x,g)),x},t.prng=function(h){this.c=[new t.hash.sha256],this.m=[0],this.P=0,this.H={},this.N=0,this.U={},this.Z=this.f=this.o=this.ha=0,this.b=[0,0,0,0,0,0,0,0],this.h=[0,0,0,0],this.L=void 0,this.M=h,this.D=!1,this.K={progress:{},seeded:{}},this.u=this.ga=0,this.I=1,this.J=2,this.ca=65536,this.T=[0,48,64,96,128,192,256,384,512,768,1024],this.da=3e4,this.ba=80},t.prng.prototype={randomWords:function(h,m){var y=[],g;g=this.isReady(m);var b;if(g===this.u)throw new t.exception.notReady("generator isn't seeded");if(g&this.J){g=!(g&this.I),b=[];var _=0,S;for(this.Z=b[0]=new Date().valueOf()+this.da,S=0;16>S;S++)b.push(4294967296*Math.random()|0);for(S=0;S<this.c.length&&(b=b.concat(this.c[S].finalize()),_+=this.m[S],this.m[S]=0,g||!(this.P&1<<S));S++);for(this.P>=1<<this.c.length&&(this.c.push(new t.hash.sha256),this.m.push(0)),this.f-=_,_>this.o&&(this.o=_),this.P++,this.b=t.hash.sha256.hash(this.b.concat(b)),this.L=new t.cipher.aes(this.b),g=0;4>g&&(this.h[g]=this.h[g]+1|0,!this.h[g]);g++);}for(g=0;g<h;g+=4)(g+1)%this.ca===0&&a(this),b=s(this),y.push(b[0],b[1],b[2],b[3]);return a(this),y.slice(0,h)},setDefaultParanoia:function(h,m){if(h===0&&m!=="Setting paranoia=0 will ruin your security; use it only for testing")throw new t.exception.invalid("Setting paranoia=0 will ruin your security; use it only for testing");this.M=h},addEntropy:function(h,m,y){y=y||"user";var g,b,_=new Date().valueOf(),S=this.H[y],w=this.isReady(),O=0;switch(g=this.U[y],g===void 0&&(g=this.U[y]=this.ha++),S===void 0&&(S=this.H[y]=0),this.H[y]=(this.H[y]+1)%this.c.length,typeof h){case"number":m===void 0&&(m=1),this.c[S].update([g,this.N++,1,m,_,1,h|0]);break;case"object":if(y=Object.prototype.toString.call(h),y==="[object Uint32Array]"){for(b=[],y=0;y<h.length;y++)b.push(h[y]);h=b}else for(y!=="[object Array]"&&(O=1),y=0;y<h.length&&!O;y++)typeof h[y]!="number"&&(O=1);if(!O){if(m===void 0)for(y=m=0;y<h.length;y++)for(b=h[y];0<b;)m++,b=b>>>1;this.c[S].update([g,this.N++,2,m,_,h.length].concat(h))}break;case"string":m===void 0&&(m=h.length),this.c[S].update([g,this.N++,3,m,_,h.length]),this.c[S].update(h);break;default:O=1}if(O)throw new t.exception.bug("random: addEntropy only supports number, array of numbers or string");this.m[S]+=m,this.f+=m,w===this.u&&(this.isReady()!==this.u&&c("seeded",Math.max(this.o,this.f)),c("progress",this.getProgress()))},isReady:function(h){return h=this.T[h!==void 0?h:this.M],this.o&&this.o>=h?this.m[0]>this.ba&&new Date().valueOf()>this.Z?this.J|this.I:this.I:this.f>=h?this.J|this.u:this.u},getProgress:function(h){return h=this.T[h||this.M],this.o>=h||this.f>h?1:this.f/h},startCollectors:function(){if(!this.D){if(this.a={loadTimeCollector:o(this,this.ma),mouseCollector:o(this,this.oa),keyboardCollector:o(this,this.la),accelerometerCollector:o(this,this.ea),touchCollector:o(this,this.qa)},window.addEventListener)window.addEventListener("load",this.a.loadTimeCollector,!1),window.addEventListener("mousemove",this.a.mouseCollector,!1),window.addEventListener("keypress",this.a.keyboardCollector,!1),window.addEventListener("devicemotion",this.a.accelerometerCollector,!1),window.addEventListener("touchmove",this.a.touchCollector,!1);else if(document.attachEvent)document.attachEvent("onload",this.a.loadTimeCollector),document.attachEvent("onmousemove",this.a.mouseCollector),document.attachEvent("keypress",this.a.keyboardCollector);else throw new t.exception.bug("can't attach event");this.D=!0}},stopCollectors:function(){this.D&&(window.removeEventListener?(window.removeEventListener("load",this.a.loadTimeCollector,!1),window.removeEventListener("mousemove",this.a.mouseCollector,!1),window.removeEventListener("keypress",this.a.keyboardCollector,!1),window.removeEventListener("devicemotion",this.a.accelerometerCollector,!1),window.removeEventListener("touchmove",this.a.touchCollector,!1)):document.detachEvent&&(document.detachEvent("onload",this.a.loadTimeCollector),document.detachEvent("onmousemove",this.a.mouseCollector),document.detachEvent("keypress",this.a.keyboardCollector)),this.D=!1)},addEventListener:function(h,m){this.K[h][this.ga++]=m},removeEventListener:function(h,m){var y,g,b=this.K[h],_=[];for(g in b)b.hasOwnProperty(g)&&b[g]===m&&_.push(g);for(y=0;y<_.length;y++)g=_[y],delete b[g]},la:function(){u(this,1)},oa:function(h){var m,y;try{m=h.x||h.clientX||h.offsetX||0,y=h.y||h.clientY||h.offsetY||0}catch{y=m=0}m!=0&&y!=0&&this.addEntropy([m,y],2,"mouse"),u(this,0)},qa:function(h){h=h.touches[0]||h.changedTouches[0],this.addEntropy([h.pageX||h.clientX,h.pageY||h.clientY],1,"touch"),u(this,0)},ma:function(){u(this,2)},ea:function(h){if(h=h.accelerationIncludingGravity.x||h.accelerationIncludingGravity.y||h.accelerationIncludingGravity.z,window.orientation){var m=window.orientation;typeof m=="number"&&this.addEntropy(m,1,"accelerometer")}h&&this.addEntropy(h,2,"accelerometer"),u(this,0)}};function c(h,m){var y,g=t.random.K[h],b=[];for(y in g)g.hasOwnProperty(y)&&b.push(g[y]);for(y=0;y<b.length;y++)b[y](m)}function u(h,m){typeof window<"u"&&window.performance&&typeof window.performance.now=="function"?h.addEntropy(window.performance.now(),m,"loadtime"):h.addEntropy(new Date().valueOf(),m,"loadtime")}function a(h){h.b=s(h).concat(s(h)),h.L=new t.cipher.aes(h.b)}function s(h){for(var m=0;4>m&&(h.h[m]=h.h[m]+1|0,!h.h[m]);m++);return h.L.encrypt(h.h)}function o(h,m){return function(){m.apply(h,arguments)}}t.random=new t.prng(6);e:try{if(f=typeof r<"u"&&r.exports){try{v=h2r("crypto")}catch{v=null}f=d=v}if(f&&d.randomBytes)l=d.randomBytes(128),l=new Uint32Array(new Uint8Array(l).buffer),t.random.addEntropy(l,1024,"crypto['randomBytes']");else if(typeof window<"u"&&typeof Uint32Array<"u"){if(p=new Uint32Array(32),window.crypto&&window.crypto.getRandomValues)window.crypto.getRandomValues(p);else if(window.msCrypto&&window.msCrypto.getRandomValues)window.msCrypto.getRandomValues(p);else break e;t.random.addEntropy(p,1024,"crypto['getRandomValues']")}}catch(h){typeof window<"u"&&window.console&&(console.log("There was an error collecting entropy from the browser:"),console.log(h))}var l,d,p,f,v;t.json={defaults:{v:1,iter:1e4,ks:128,ts:64,mode:"ccm",adata:"",cipher:"aes"},ja:function(h,m,y,g){y=y||{},g=g||{};var b=t.json,_=b.g({iv:t.random.randomWords(4,0)},b.defaults),S;if(b.g(_,y),y=_.adata,typeof _.salt=="string"&&(_.salt=t.codec.base64.toBits(_.salt)),typeof _.iv=="string"&&(_.iv=t.codec.base64.toBits(_.iv)),!t.mode[_.mode]||!t.cipher[_.cipher]||typeof h=="string"&&100>=_.iter||_.ts!==64&&_.ts!==96&&_.ts!==128||_.ks!==128&&_.ks!==192&&_.ks!==256||2>_.iv.length||4<_.iv.length)throw new t.exception.invalid("json encrypt: invalid parameters");return typeof h=="string"?(S=t.misc.cachedPbkdf2(h,_),h=S.key.slice(0,_.ks/32),_.salt=S.salt):t.ecc&&h instanceof t.ecc.elGamal.publicKey&&(S=h.kem(),_.kemtag=S.tag,h=S.key.slice(0,_.ks/32)),typeof m=="string"&&(m=t.codec.utf8String.toBits(m)),typeof y=="string"&&(_.adata=y=t.codec.utf8String.toBits(y)),S=new t.cipher[_.cipher](h),b.g(g,_),g.key=h,_.ct=_.mode==="ccm"&&t.arrayBuffer&&t.arrayBuffer.ccm&&m instanceof ArrayBuffer?t.arrayBuffer.ccm.encrypt(S,m,_.iv,y,_.ts):t.mode[_.mode].encrypt(S,m,_.iv,y,_.ts),_},encrypt:function(h,m,y,g){var b=t.json,_=b.ja.apply(b,arguments);return b.encode(_)},ia:function(h,m,y,g){y=y||{},g=g||{};var b=t.json;m=b.g(b.g(b.g({},b.defaults),m),y,!0);var _,S;if(_=m.adata,typeof m.salt=="string"&&(m.salt=t.codec.base64.toBits(m.salt)),typeof m.iv=="string"&&(m.iv=t.codec.base64.toBits(m.iv)),!t.mode[m.mode]||!t.cipher[m.cipher]||typeof h=="string"&&100>=m.iter||m.ts!==64&&m.ts!==96&&m.ts!==128||m.ks!==128&&m.ks!==192&&m.ks!==256||!m.iv||2>m.iv.length||4<m.iv.length)throw new t.exception.invalid("json decrypt: invalid parameters");return typeof h=="string"?(S=t.misc.cachedPbkdf2(h,m),h=S.key.slice(0,m.ks/32),m.salt=S.salt):t.ecc&&h instanceof t.ecc.elGamal.secretKey&&(h=h.unkem(t.codec.base64.toBits(m.kemtag)).slice(0,m.ks/32)),typeof _=="string"&&(_=t.codec.utf8String.toBits(_)),S=new t.cipher[m.cipher](h),_=m.mode==="ccm"&&t.arrayBuffer&&t.arrayBuffer.ccm&&m.ct instanceof ArrayBuffer?t.arrayBuffer.ccm.decrypt(S,m.ct,m.iv,m.tag,_,m.ts):t.mode[m.mode].decrypt(S,m.ct,m.iv,_,m.ts),b.g(g,m),g.key=h,y.raw===1?_:t.codec.utf8String.fromBits(_)},decrypt:function(h,m,y,g){var b=t.json;return b.ia(h,b.decode(m),y,g)},encode:function(h){var m,y="{",g="";for(m in h)if(h.hasOwnProperty(m)){if(!m.match(/^[a-z0-9]+$/i))throw new t.exception.invalid("json encode: invalid property name");switch(y+=g+'"'+m+'":',g=",",typeof h[m]){case"number":case"boolean":y+=h[m];break;case"string":y+='"'+escape(h[m])+'"';break;case"object":y+='"'+t.codec.base64.fromBits(h[m],0)+'"';break;default:throw new t.exception.bug("json encode: unsupported type")}}return y+"}"},decode:function(h){if(h=h.replace(/\s/g,""),!h.match(/^\{.*\}$/))throw new t.exception.invalid("json decode: this isn't json!");h=h.replace(/^\{|\}$/g,"").split(/,/);var m={},y,g;for(y=0;y<h.length;y++){if(!(g=h[y].match(/^\s*(?:(["']?)([a-z][a-z0-9]*)\1)\s*:\s*(?:(-?\d+)|"([a-z0-9+\/%*_.@=\-]*)"|(true|false))$/i)))throw new t.exception.invalid("json decode: this isn't json!");g[3]!=null?m[g[2]]=parseInt(g[3],10):g[4]!=null?m[g[2]]=g[2].match(/^(ct|adata|salt|iv)$/)?t.codec.base64.toBits(g[4]):unescape(g[4]):g[5]!=null&&(m[g[2]]=g[5]==="true")}return m},g:function(h,m,y){if(h===void 0&&(h={}),m===void 0)return h;for(var g in m)if(m.hasOwnProperty(g)){if(y&&h[g]!==void 0&&h[g]!==m[g])throw new t.exception.invalid("required parameter overridden");h[g]=m[g]}return h},sa:function(h,m){var y={},g;for(g in h)h.hasOwnProperty(g)&&h[g]!==m[g]&&(y[g]=h[g]);return y},ra:function(h,m){var y={},g;for(g=0;g<m.length;g++)h[m[g]]!==void 0&&(y[m[g]]=h[m[g]]);return y}},t.encrypt=t.json.encrypt,t.decrypt=t.json.decrypt,t.misc.pa={},t.misc.cachedPbkdf2=function(h,m){var y=t.misc.pa,g;return m=m||{},g=m.iter||1e3,y=y[h]=y[h]||{},g=y[g]=y[g]||{firstSalt:m.salt&&m.salt.length?m.salt.slice(0):t.random.randomWords(2,0)},y=m.salt===void 0?g.firstSalt:m.salt,g[y]=g[y]||t.misc.pbkdf2(h,y,m.iter),{key:g[y].slice(0),salt:y.slice(0)}},typeof r<"u"&&r.exports&&(r.exports=t),typeof define=="function"&&define([],function(){return t})}}),g2r=TE({"../../graphscript/node_modules/web-worker/cjs/browser.js"(e,r){r.exports=Worker}}),uX,lX,OE,b2r,_2r,Mc,hN,dX,pX,fX,Va,SX,w2r,xX,FE=DN({"node_modules/@capacitor/core/dist/index.js"(){uX=e=>{let r=new Map;r.set("web",{name:"web"});let t=e.CapacitorPlatforms||{currentPlatform:{name:"web"},platforms:r},n=(c,u)=>{t.platforms.set(c,u)},i=c=>{t.platforms.has(c)&&(t.currentPlatform=t.platforms.get(c))};return t.addPlatform=n,t.setPlatform=i,t},lX=e=>e.CapacitorPlatforms=uX(e),OE=lX(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),b2r=OE.addPlatform,_2r=OE.setPlatform,function(e){e.Unimplemented="UNIMPLEMENTED",e.Unavailable="UNAVAILABLE"}(Mc||(Mc={})),hN=class extends Error{constructor(e,r,t){super(e),this.message=e,this.code=r,this.data=t}},dX=e=>{var r,t;return e?.androidBridge?"android":!((t=(r=e?.webkit)===null||r===void 0?void 0:r.messageHandlers)===null||t===void 0)&&t.bridge?"ios":"web"},pX=e=>{var r,t,n,i,c;let u=e.CapacitorCustomPlatform||null,a=e.Capacitor||{},s=a.Plugins=a.Plugins||{},o=e.CapacitorPlatforms,l=()=>u!==null?u.name:dX(e),d=((r=o?.currentPlatform)===null||r===void 0?void 0:r.getPlatform)||l,p=()=>d()!=="web",f=((t=o?.currentPlatform)===null||t===void 0?void 0:t.isNativePlatform)||p,v=O=>{let x=_.get(O);return!!(x?.platforms.has(d())||y(O))},h=((n=o?.currentPlatform)===null||n===void 0?void 0:n.isPluginAvailable)||v,m=O=>{var x;return(x=a.PluginHeaders)===null||x===void 0?void 0:x.find(N=>N.name===O)},y=((i=o?.currentPlatform)===null||i===void 0?void 0:i.getPluginHeader)||m,g=O=>e.console.error(O),b=(O,x,N)=>Promise.reject(`${N} does not have an implementation of "${x}".`),_=new Map,S=(O,x={})=>{let N=_.get(O);if(N)return console.warn(`Capacitor plugin "${O}" already registered. Cannot register plugins twice.`),N.proxy;let M=d(),I=y(O),q,z=async()=>(!q&&M in x?q=typeof x[M]=="function"?q=await x[M]():q=x[M]:u!==null&&!q&&"web"in x&&(q=typeof x.web=="function"?q=await x.web():q=x.web),q),R=(Z,ue)=>{var ye,X;if(I){let le=I?.methods.find(Oe=>ue===Oe.name);if(le)return le.rtype==="promise"?Oe=>a.nativePromise(O,ue.toString(),Oe):(Oe,ne)=>a.nativeCallback(O,ue.toString(),Oe,ne);if(Z)return(ye=Z[ue])===null||ye===void 0?void 0:ye.bind(Z)}else{if(Z)return(X=Z[ue])===null||X===void 0?void 0:X.bind(Z);throw new hN(`"${O}" plugin is not implemented on ${M}`,Mc.Unimplemented)}},j=Z=>{let ue,ye=(...X)=>{let le=z().then(Oe=>{let ne=R(Oe,Z);if(ne){let fe=ne(...X);return ue=fe?.remove,fe}else throw new hN(`"${O}.${Z}()" is not implemented on ${M}`,Mc.Unimplemented)});return Z==="addListener"&&(le.remove=async()=>ue()),le};return ye.toString=()=>`${Z.toString()}() { [capacitor code] }`,Object.defineProperty(ye,"name",{value:Z,writable:!1,configurable:!1}),ye},L=j("addListener"),P=j("removeListener"),V=(Z,ue)=>{let ye=L({eventName:Z},ue),X=async()=>{let Oe=await ye;P({eventName:Z,callbackId:Oe},ue)},le=new Promise(Oe=>ye.then(()=>Oe({remove:X})));return le.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await X()},le},E=new Proxy({},{get(Z,ue){switch(ue){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return I?V:L;case"removeListener":return P;default:return j(ue)}}});return s[O]=E,_.set(O,{name:O,proxy:E,platforms:new Set([...Object.keys(x),...I?[M]:[]])}),E},w=((c=o?.currentPlatform)===null||c===void 0?void 0:c.registerPlugin)||S;return a.convertFileSrc||(a.convertFileSrc=O=>O),a.getPlatform=d,a.handleError=g,a.isNativePlatform=f,a.isPluginAvailable=h,a.pluginMethodNoop=b,a.registerPlugin=w,a.Exception=hN,a.DEBUG=!!a.DEBUG,a.isLoggingEnabled=!!a.isLoggingEnabled,a.platform=a.getPlatform(),a.isNative=a.isNativePlatform(),a},fX=e=>e.Capacitor=pX(e),Va=fX(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),SX=Va.registerPlugin,w2r=Va.Plugins,xX=class{constructor(e){this.listeners={},this.windowListeners={},e&&(console.warn(`Capacitor WebPlugin "${e.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=e)}addListener(e,r){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(r);let n=this.windowListeners[e];n&&!n.registered&&this.addWindowListener(n);let i=async()=>this.removeListener(e,r),c=Promise.resolve({remove:i});return Object.defineProperty(c,"remove",{value:async()=>{console.warn("Using addListener() without 'await' is deprecated."),await i()}}),c}async removeAllListeners(){this.listeners={};for(let e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,r){let t=this.listeners[e];t&&t.forEach(n=>n(r))}hasListeners(e){return!!this.listeners[e].length}registerWindowListener(e,r){this.windowListeners[r]={registered:!1,windowEventName:e,pluginEventName:r,handler:t=>{this.notifyListeners(r,t)}}}unimplemented(e="not implemented"){return new Va.Exception(e,Mc.Unimplemented)}unavailable(e="not available"){return new Va.Exception(e,Mc.Unavailable)}async removeListener(e,r){let t=this.listeners[e];if(!t)return;let n=t.indexOf(r);this.listeners[e].splice(n,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){!e||(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}}}});function S2r(e){return new DataView(Uint8Array.from(e).buffer)}function x2r(e){return Array.from(new Uint8Array(e.buffer))}function O2r(e){return`0000${e.toString(16).padStart(4,"0")}-0000-1000-8000-00805f9b34fb`}function yN(e){let r=e.trim().split(" ").filter(t=>t!=="").map(t=>parseInt(t,16));return S2r(r)}function DE(e){return x2r(e).map(r=>{let t=r.toString(16);return t.length==1&&(t="0"+t),t}).join(" ")}function D2r(e){if(typeof e=="string")return e;if(typeof e=="number")return O2r(e);throw new Error("Invalid UUID")}function hX(e){let r={};if(!!e)return e.forEach((t,n)=>{r[n.toString()]=t}),r}var LE=DN({"node_modules/@capacitor-community/bluetooth-le/dist/esm/conversion.js"(){}});async function N2r(e,r,t){let n;return Promise.race([e,new Promise((i,c)=>{n=setTimeout(()=>c(t),r)})]).finally(()=>clearTimeout(n))}var C2r=DN({"node_modules/@capacitor-community/bluetooth-le/dist/esm/timeout.js"(){}}),OX={};v2r(OX,{BluetoothLeWeb:()=>DX});var DX,A2r=DN({"node_modules/@capacitor-community/bluetooth-le/dist/esm/web.js"(){FE(),LE(),C2r(),DX=class extends xX{constructor(){super(...arguments),this.deviceMap=new Map,this.discoveredDevices=new Map,this.scan=null,this.DEFAULT_CONNECTION_TIMEOUT=1e4,this.onAdvertisementReceivedCallback=this.onAdvertisementReceived.bind(this),this.onDisconnectedCallback=this.onDisconnected.bind(this),this.onCharacteristicValueChangedCallback=this.onCharacteristicValueChanged.bind(this)}async initialize(){if(typeof navigator>"u"||!navigator.bluetooth)throw this.unavailable("Web Bluetooth API not available in this browser.");if(!await navigator.bluetooth.getAvailability())throw this.unavailable("No Bluetooth radio available.")}async isEnabled(){return{value:!0}}async enable(){throw this.unavailable("enable is not available on web.")}async disable(){throw this.unavailable("disable is not available on web.")}async startEnabledNotifications(){}async stopEnabledNotifications(){}async isLocationEnabled(){throw this.unavailable("isLocationEnabled is not available on web.")}async openLocationSettings(){throw this.unavailable("openLocationSettings is not available on web.")}async openBluetoothSettings(){throw this.unavailable("openBluetoothSettings is not available on web.")}async openAppSettings(){throw this.unavailable("openAppSettings is not available on web.")}async setDisplayStrings(){}async requestDevice(e){let r=this.getFilters(e),t=await navigator.bluetooth.requestDevice({filters:r.length?r:void 0,optionalServices:e?.optionalServices,acceptAllDevices:r.length===0});return this.deviceMap.set(t.id,t),this.getBleDevice(t)}async requestLEScan(e){this.requestBleDeviceOptions=e;let r=this.getFilters(e);await this.stopLEScan(),this.discoveredDevices=new Map,navigator.bluetooth.removeEventListener("advertisementreceived",this.onAdvertisementReceivedCallback),navigator.bluetooth.addEventListener("advertisementreceived",this.onAdvertisementReceivedCallback),this.scan=await navigator.bluetooth.requestLEScan({filters:r.length?r:void 0,acceptAllAdvertisements:r.length===0,keepRepeatedDevices:e?.allowDuplicates})}onAdvertisementReceived(e){var r,t;let n=e.device.id;if(this.deviceMap.set(n,e.device),!this.discoveredDevices.has(n)||((r=this.requestBleDeviceOptions)===null||r===void 0?void 0:r.allowDuplicates)){this.discoveredDevices.set(n,!0);let c=this.getBleDevice(e.device),u={device:c,localName:c.name,rssi:e.rssi,txPower:e.txPower,manufacturerData:hX(e.manufacturerData),serviceData:hX(e.serviceData),uuids:(t=e.uuids)===null||t===void 0?void 0:t.map(D2r)};this.notifyListeners("onScanResult",u)}}async stopLEScan(){var e;!((e=this.scan)===null||e===void 0)&&e.active&&this.scan.stop(),this.scan=null}async getDevices(e){return{devices:(await navigator.bluetooth.getDevices()).map(n=>(this.deviceMap.set(n.id,n),this.getBleDevice(n)))}}async getConnectedDevices(e){return{devices:(await navigator.bluetooth.getDevices()).filter(n=>{var i;return(i=n.gatt)===null||i===void 0?void 0:i.connected}).map(n=>(this.deviceMap.set(n.id,n),this.getBleDevice(n)))}}async connect(e){var r,t;let n=this.getDeviceFromMap(e.deviceId);n.removeEventListener("gattserverdisconnected",this.onDisconnectedCallback),n.addEventListener("gattserverdisconnected",this.onDisconnectedCallback);let i=Symbol();if(n.gatt===void 0)throw new Error("No gatt server available.");try{let c=(r=e.timeout)!==null&&r!==void 0?r:this.DEFAULT_CONNECTION_TIMEOUT;await N2r(n.gatt.connect(),c,i)}catch(c){throw await((t=n.gatt)===null||t===void 0?void 0:t.disconnect()),c===i?new Error("Connection timeout"):c}}onDisconnected(e){let t=`disconnected|${e.target.id}`;this.notifyListeners(t,null)}async createBond(e){throw this.unavailable("createBond is not available on web.")}async isBonded(e){throw this.unavailable("isBonded is not available on web.")}async disconnect(e){var r;(r=this.getDeviceFromMap(e.deviceId).gatt)===null||r===void 0||r.disconnect()}async getServices(e){var r,t;let n=(t=await((r=this.getDeviceFromMap(e.deviceId).gatt)===null||r===void 0?void 0:r.getPrimaryServices()))!==null&&t!==void 0?t:[],i=[];for(let c of n){let u=await c.getCharacteristics(),a=[];for(let s of u)a.push({uuid:s.uuid,properties:this.getProperties(s),descriptors:await this.getDescriptors(s)});i.push({uuid:c.uuid,characteristics:a})}return{services:i}}async getDescriptors(e){try{return(await e.getDescriptors()).map(t=>({uuid:t.uuid}))}catch{return[]}}getProperties(e){return{broadcast:e.properties.broadcast,read:e.properties.read,writeWithoutResponse:e.properties.writeWithoutResponse,write:e.properties.write,notify:e.properties.notify,indicate:e.properties.indicate,authenticatedSignedWrites:e.properties.authenticatedSignedWrites,reliableWrite:e.properties.reliableWrite,writableAuxiliaries:e.properties.writableAuxiliaries}}async getCharacteristic(e){var r;let t=await((r=this.getDeviceFromMap(e.deviceId).gatt)===null||r===void 0?void 0:r.getPrimaryService(e?.service));return t?.getCharacteristic(e?.characteristic)}async getDescriptor(e){let r=await this.getCharacteristic(e);return r?.getDescriptor(e?.descriptor)}async readRssi(e){throw this.unavailable("readRssi is not available on web.")}async read(e){let r=await this.getCharacteristic(e);return{value:await r?.readValue()}}async write(e){let r=await this.getCharacteristic(e),t;typeof e.value=="string"?t=yN(e.value):t=e.value,await r?.writeValueWithResponse(t)}async writeWithoutResponse(e){let r=await this.getCharacteristic(e),t;typeof e.value=="string"?t=yN(e.value):t=e.value,await r?.writeValueWithoutResponse(t)}async readDescriptor(e){let r=await this.getDescriptor(e);return{value:await r?.readValue()}}async writeDescriptor(e){let r=await this.getDescriptor(e),t;typeof e.value=="string"?t=yN(e.value):t=e.value,await r?.writeValue(t)}async startNotifications(e){let r=await this.getCharacteristic(e);r?.removeEventListener("characteristicvaluechanged",this.onCharacteristicValueChangedCallback),r?.addEventListener("characteristicvaluechanged",this.onCharacteristicValueChangedCallback),await r?.startNotifications()}onCharacteristicValueChanged(e){var r,t;let n=e.target,i=`notification|${(r=n.service)===null||r===void 0?void 0:r.device.id}|${(t=n.service)===null||t===void 0?void 0:t.uuid}|${n.uuid}`;this.notifyListeners(i,{value:n.value})}async stopNotifications(e){let r=await this.getCharacteristic(e);await r?.stopNotifications()}getFilters(e){var r;let t=[];for(let n of(r=e?.services)!==null&&r!==void 0?r:[])t.push({services:[n],name:e?.name,namePrefix:e?.namePrefix});return(e?.name||e?.namePrefix)&&t.length===0&&t.push({name:e.name,namePrefix:e.namePrefix}),t}getDeviceFromMap(e){let r=this.deviceMap.get(e);if(r===void 0)throw new Error('Device not found. Call "requestDevice", "requestLEScan" or "getDevices" first.');return r}getBleDevice(e){var r;return{deviceId:e.id,name:(r=e.name)!==null&&r!==void 0?r:void 0}}}}}),M2r=TE({"node_modules/throat/index.js"(e,r){"use strict";function t(s){var o=new a,l=s|0;function d(m,y,g){return(l|0)!==0?(l=(l|0)-1,new Promise(function(b){b(m.apply(y,g))}).then(f,v)):new Promise(function(b){o.push(new c(b,m,y,g))}).then(p)}function p(m){try{return Promise.resolve(m.fn.apply(m.self,m.args)).then(f,v)}catch(y){v(y)}}function f(m){return h(),m}function v(m){throw h(),m}function h(){var m=o.shift();m?m.resolve(m):l=(l|0)+1}return d}function n(s,o){let l=t(s|0);return function(){for(var d=new Array(arguments.length),p=0;p<arguments.length;p++)d[p]=arguments[p];return l(o,this,d)}}function i(s){let o=t(s|0);return function(l){if(typeof l!="function")throw new TypeError("Expected throat fn to be a function but got "+typeof l);for(var d=new Array(arguments.length-1),p=1;p<arguments.length;p++)d[p-1]=arguments[p];return o(l,this,d)}}r.exports=function(o,l){if(typeof o=="function"){var d=l;l=o,o=d}if(typeof o!="number")throw new TypeError("Expected throat size to be a number but got "+typeof o);if(l!==void 0&&typeof l!="function")throw new TypeError("Expected throat fn to be a function but got "+typeof l);return typeof l=="function"?n(o|0,l):i(o|0)},r.exports.default=r.exports;function c(s,o,l,d){this.resolve=s,this.fn=o,this.self=l||null,this.args=d}var u=64;function a(){this._s1=[],this._s2=[],this._shiftBlock=this._pushBlock=new Array(u),this._pushIndex=0,this._shiftIndex=0}a.prototype.push=function(s){this._pushIndex===u&&(this._pushIndex=0,this._s1[this._s1.length]=this._pushBlock=new Array(u)),this._pushBlock[this._pushIndex++]=s},a.prototype.shift=function(){if(this._shiftIndex===u){this._shiftIndex=0;var s=this._s2;if(s.length===0){var o=this._s1;if(o.length===0)return;this._s1=s,s=this._s2=o.reverse()}this._shiftBlock=s.pop()}if(!(this._pushBlock===this._shiftBlock&&this._pushIndex===this._shiftIndex)){var l=this._shiftBlock[this._shiftIndex];return this._shiftBlock[this._shiftIndex++]=null,l}}}}),P2r=class{constructor(e){this.pushToState={},this.data={},this.triggers={},this.setState=r=>{Object.assign(this.data,r);for(let t of Object.getOwnPropertyNames(r))this.triggers[t]&&this.triggers[t].forEach(n=>n.onchange(this.data[t]));return this.data},this.setValue=(r,t)=>{this.data[r]=t,this.triggers[r]&&this.triggers[r].forEach(n=>n.onchange(this.data[r]))},this.subscribeTrigger=(r,t)=>{if(r){this.triggers[r]||(this.triggers[r]=[]);let n=this.triggers[r].length;return this.triggers[r].push({sub:n,onchange:t}),this.triggers[r].length-1}else return},this.unsubscribeTrigger=(r,t)=>{let n=this.triggers[r];if(n)if(!t)delete this.triggers[r];else{let i,c=n.find((u,a)=>{if(u.sub===i)return i=a,!0});return c&&n.splice(i,1),this.onRemoved&&this.onRemoved(c),!0}},this.subscribeTriggerOnce=(r,t)=>{let n,i=c=>{t(c),this.unsubscribeTrigger(r,n)};n=this.subscribeTrigger(r,i)},this.getTrigger=(r,t)=>{for(let n in this.triggers[r])if(this.triggers[r][n].sub===t)return this.triggers[r][n]},typeof e=="object"&&(this.data=e)}},NX=new P2r,Zt=class{constructor(e,r,t){if(this.__node={tag:`node${Math.floor(Math.random()*1e15)}`,unique:`${Math.random()}`,state:NX},this.__subscribe=(n,i,c,u,a)=>{let s=(l,d=(f,v)=>f,p=n)=>{let f=this.__node.state.subscribeTrigger(l,p),v=this.__node.state.getTrigger(l,f);return v.source=this.__node.tag,i&&(v.key=i),v.target=d(n),u&&(v.bound=u),f},o=l=>{if(!this.__node.graph.get(l)&&l.includes(".")){let p=this.__node.graph.get(l.substring(0,l.lastIndexOf("."))),f=l.substring(l.lastIndexOf(".")+1);p&&typeof p[f]=="function"&&(l=(...v)=>p[f](...v))}};if(i){this.__node.localState||this.__addLocalState(this),typeof n=="string"&&(typeof this[n]=="function"?n=this[n]:this.__node.graph&&o(n));let l,d=c?this.__node.unique+"."+i+"input":this.__node.unique+"."+i;return typeof n=="function"?l=s(d):n?.__node&&(l=s(d,(p,f)=>f||p.__node.unique,p=>{n.__operator&&n.__operator(p)})),l}else{typeof n=="string"&&(this.__node.graph?n=this.__node.graph.get(n):n=this.__node.graph.nodes.get(n));let l,d=c?this.__node.unique+"input":this.__node.unique;return typeof n=="function"?l=s(d):n?.__node&&(l=s(d,(p,f)=>f||p.__node.unique,p=>{n.__operator&&n.__operator(p)})),l}},this.__unsubscribe=(n,i,c)=>i?this.__node.state.unsubscribeTrigger(c?this.__node.unique+"."+i+"input":this.__node.unique+"."+i,n):this.__node.state.unsubscribeTrigger(c?this.__node.unique+"input":this.__node.unique,n),this.__setOperator=n=>(n=n.bind(this),this.__operator=(...i)=>{this.__node.inputState&&this.__node.state.setValue(this.__node.unique+"input",i);let c=n(...i);return typeof c?.then=="function"?c.then(u=>{u!==void 0&&this.__node.state.setValue(this.__node.unique,u)}).catch(console.error):c!==void 0&&this.__node.state.setValue(this.__node.unique,c),c},this.__operator),typeof e=="function"?e={__operator:e,__node:{forward:!0,tag:e.name}}:typeof e=="string"&&t?.get(e)&&(e=t.get(e)),typeof e=="object"){if(typeof e.__node=="string"?t?.get(e.__node.tag)?e=t.get(e.__node.tag):e.__node={}:e.__node||(e.__node={}),!e.__parent&&r&&(e.__parent=r),t&&(e.__node.graph=t),e.__operator){if(typeof e.__operator=="string"&&t){let n=t.get(e.__operator);n&&(e.__operator=n.__operator),!e.__node.tag&&e.__operator.name&&(e.__node.tag=e.__operator.name)}typeof e.__operator=="function"&&(e.__operator=this.__setOperator(e.__operator))}if(e.__node.tag||(e.__operator?.name?e.__node.tag=e.__operator.name:e.__node.tag=`node${Math.floor(Math.random()*1e15)}`),r?.__node&&!(r instanceof Ic||e instanceof Ic)&&(e.__node.tag=r.__node.tag+"."+e.__node.tag),r instanceof Ic&&e instanceof Ic&&(e.__node.loaders&&Object.assign(r.__node.loaders?r.__node.loaders:{},e.__node.loaders),r.__node.mapGraphs)){e.__node.nodes.forEach(i=>{r.__node.nodes.set(e.__node.tag+"."+i.__node.tag,i)});let n=()=>{e.__node.nodes.forEach(i=>{r.__node.nodes.delete(e.__node.tag+"."+i.__node.tag)})};this.__addDisconnected(n)}if(e.__node.initial=e,e.__node=Object.assign(this.__node,e.__node),Object.assign(this,e),e.__operator&&r instanceof Zt&&r.__operator){let n=r.__subscribe(this),i=()=>{r?.__unsubscribe(n)};this.__addDisconnected(i)}else if(typeof e.default=="function"&&!e.__operator){let n=e.default.bind(this);this.default=(...i)=>{this.__node.inputState&&this.__node.state.setValue(this.__node.unique+"input",i);let c=n(...i);return typeof c?.then=="function"?c.then(u=>{u!==void 0&&this.__node.state.setValue(this.__node.unique,u)}).catch(console.error):c!==void 0&&this.__node.state.setValue(this.__node.unique,c),c},e.default=this.default}e instanceof Ic&&(this.__node.source=e)}}__addLocalState(e){if(!e)return;this.__node.localState||(this.__node.localState={});let r=this.__node.localState;for(let t in e)if(typeof e[t]=="function"){if(!t.startsWith("_")){let n=e[t].bind(this);e[t]=(...i)=>{this.__node.inputState&&this.__node.state.setValue(this.__node.unique+"."+t+"input",i);let c=n(...i);return typeof c?.then=="function"?c.then(u=>{this.__node.state.setValue(this.__node.unique+"."+t,u)}).catch(console.error):this.__node.state.setValue(this.__node.unique+"."+t,c),c},this[t]=e[t]}}else{r[t]=e[t];let n={get:()=>r[t],set:u=>{this.__node.state.triggers[this.__node.unique+"."+t]&&this.__node.state.setValue(this.__node.unique+"."+t,u),r[t]=u},enumerable:!0,configurable:!0};Object.defineProperty(this,t,n);let i=this.__node.initial,c=Object.getOwnPropertyDescriptor(i,t);(c===void 0||c?.configurable)&&Object.defineProperty(i,t,n)}}__addOnconnected(e){Array.isArray(this.__ondisconnected)?this.__onconnected.push(e):typeof this.__onconnected=="function"?this.__onconnected=[e,this.__onconnected]:this.__onconnected=e}__addDisconnected(e){Array.isArray(this.__ondisconnected)?this.__ondisconnected.push(e):typeof this.__ondisconnected=="function"?this.__ondisconnected=[e,this.__ondisconnected]:this.__ondisconnected=e}__callConnected(e=this){typeof this.__onconnected=="function"?this.__onconnected(this):Array.isArray(this.__onconnected)&&this.__onconnected.forEach(r=>{r(this)})}__callDisconnected(e=this){typeof this.__ondisconnected=="function"?this.__ondisconnected(this):Array.isArray(this.__ondisconnected)&&this.__ondisconnected.forEach(r=>{r(this)})}},Ic=class{constructor(e){this.__node={tag:`graph${Math.floor(Math.random()*1e15)}`,nodes:new Map,state:NX},this.init=r=>{r&&(PE(this.__node,r),r.tree&&this.setTree(r.tree))},this.setTree=r=>{this.__node.tree=Object.assign(this.__node.tree?this.__node.tree:{},r);let t=Object.assign({},r);delete t.__node;let n=this.recursiveSet(t,this);if(r.__node){if(!r.__node.tag)r.__node._tag=`tree${Math.floor(Math.random()*1e15)}`;else if(!this.get(r.__node.tag)){let i=new Zt(r,this,this);for(let c in this.__node.loaders)this.__node.loaders[c](i,this,this,r,r);this.__node.nodes.set(i.__node.tag,i),i.__listeners&&(n[i.__node.tag]=i.__listeners)}}this.setListeners(n)},this.setLoaders=(r,t)=>(t?this.__node.loaders=r:Object.assign(this.__node.loaders,r),this.__node.loaders),this.add=(r,t)=>{let n={};typeof t=="string"&&(t=this.get(t));let i=Object.assign({},r);if(r.__node&&(i.__node=Object.assign({},r.__node)),!i.__node?.tag||!this.get(i.__node.tag)){let c=new Zt(i,t,this);for(let u in this.__node.loaders)this.__node.loaders[u](c,t,this,this.__node.tree,r);return this.__node.nodes.set(c.__node.tag,c),this.__node.tree[c.__node.tag]=r,c.__listeners&&(n[c.__node.tag]=c.__listeners),c.__children&&(c.__children=Object.assign({},c.__children),this.recursiveSet(c.__children,c,n)),this.setListeners(n),c.__callConnected(),c}},this.recursiveSet=(r,t,n={})=>{for(let i in r){let c=r[i];if(!Array.isArray(c)&&(typeof c=="function"?c={__operator:c}:typeof c=="string"?c=this.__node.tree[c]:typeof c=="boolean"&&(c=this.__node.tree[i]),typeof c=="object")){if(c=Object.assign({},c),c.__node||(c.__node={}),c.__node.tag||(c.__node.tag=i),this.get(c.__node.tag)||t?.__node&&this.get(t.__node.tag+"."+c.__node.tag))continue;let u=Object.assign({},c);u.__node=Object.assign({},c.__node);let a=new Zt(u,t,this);for(let s in this.__node.loaders)this.__node.loaders[s](a,t,this,r,c);r[i]=a,this.__node.tree[a.__node.tag]=c,this.set(a.__node.tag,a),a.__listeners?n[a.__node.tag]=a.__listeners:a.__children&&(a.__children=Object.assign({},a.__children),this.recursiveSet(a.__children,a,n)),a.__callConnected()}}return n},this.remove=(r,t=!0)=>{if(this.unsubscribe(r),typeof r=="string"&&(r=this.get(r)),r instanceof Zt){this.__node.nodes.delete(r.__node.tag),delete this.__node.tree[r.__node.tag],t&&this.clearListeners(r),r.__callDisconnected();let n=i=>{for(let c in i)this.unsubscribe(i[c]),this.__node.nodes.delete(i[c].__node.tag),delete this.__node.tree[i[c].__node.tag],this.__node.nodes.delete(c),delete this.__node.tree[c],i[c].__node.tag=i[c].__node.tag.substring(i[c].__node.tag.lastIndexOf(".")+1),t&&this.clearListeners(i[c]),i[c].__callDisconnected(),i[c].__children&&n(i[c].__children)};r.__children&&n(r.__children)}return r?.__node.tag&&r?.__parent&&(delete r?.__parent,r.__node.tag=r.__node.tag.substring(r.__node.tag.indexOf(".")+1)),r},this.removeTree=r=>{},this.run=(r,...t)=>{if(typeof r=="string"){let n=this.get(r);if(!n&&r.includes(".")){if(n=this.get(r.substring(0,r.lastIndexOf("."))),typeof n?.[r.substring(r.lastIndexOf(".")+1)]=="function")return n[r.substring(r.lastIndexOf(".")+1)](...t)}else return n.__operator(...t)}if(r?.__operator)return r?.__operator(...t)},this.setListeners=r=>{for(let t in r){let n=this.get(t);if(typeof r[t]=="object")for(let i in r[t]){let c=this.get(i),u;if(typeof r[t][i]!="object"&&(r[t][i]={callback:r[t][i]}),typeof r[t][i].callback=="function"&&(r[t][i].callback=r[t][i].callback.bind(n)),typeof n.__listeners!="object"&&(n.__listeners={}),c)u=this.subscribe(c,r[t][i].callback,void 0,r[t][i].inputState,t,i),typeof n.__listeners[i]!="object"&&(n.__listeners[i]={callback:r[t][i].callback,inputState:r[t][i]?.inputState}),n.__listeners[i].sub=u;else{let a=i.substring(0,i.lastIndexOf("."));c=this.get(a),c&&(u=this.subscribe(c,r[t][i].callback,i.substring(i.lastIndexOf(".")+1),r[t][i].inputState,t,i),typeof n.__listeners[i]!="object"&&(n.__listeners[i]={callback:r[t][i].callback,inputState:r[t][i]?.inputState}),n.__listeners[i].sub=u)}}}},this.clearListeners=(r,t)=>{if(typeof r=="string"&&(r=this.get(r)),r?.__listeners)for(let n in r.__listeners){if(t&&n!==t||typeof r.__listeners[n].sub!="number")continue;let i=this.get(n);i?this.unsubscribe(i,r.__listeners[n].sub,void 0,r.__listeners[n].inputState):(i=this.get(n.substring(0,n.lastIndexOf("."))),i&&this.unsubscribe(i,r.__listeners[n].sub,n.substring(n.lastIndexOf(".")+1),r.__listeners[n].inputState)),delete r.__listeners[n]}},this.get=r=>this.__node.nodes.get(r),this.set=(r,t)=>this.__node.nodes.set(r,t),this.getProps=(r,t)=>{if(typeof r=="string"&&(r=this.get(r)),r instanceof Zt){let n;t?n=Object.assign({},this.__node.tree[r.__node.tag]):(n=Object.assign({},r),delete n.__unsubscribe,delete n.__setOperator,delete n.__node,delete n.__subscribeState,delete n.__subscribe)}},this.subscribe=(r,t,n,i,c,u)=>{let a=r;r instanceof Zt||(a=this.get(r));let s;if(typeof t=="string"&&c){let o=this.get(c)?.[t];typeof o=="function"&&(t=o)}if(a instanceof Zt){s=a.__subscribe(t,n,i,c,u);let o=()=>{a.__unsubscribe(s,n,i)};a.__addDisconnected(o)}else if(typeof r=="string")if(t instanceof Zt&&t.__operator){s=this.get(r).__subscribe(t.__operator,n,i,c,u);let o=()=>{this.get(r).__unsubscribe(s)};t.__addDisconnected(o)}else(typeof t=="function"||typeof t=="string")&&(s=this.get(r).__subscribe(t,n,i,c,u),this.__node.state.getTrigger(this.get(r).__node.unique,s).source=r);return s},this.unsubscribe=(r,t,n,i)=>r instanceof Zt?r.__unsubscribe(t,n,i):this.get(r)?.__unsubscribe(t,n,i),this.setState=r=>{this.__node.state.setState(r)},this.init(e)}};function PE(e,r){for(let t in r)r[t]?.constructor.name==="Object"&&!Array.isArray(r[t])?e[t]?.constructor.name==="Object"&&!Array.isArray(e[t])?PE(e[t],r[t]):e[t]=PE({},r[t]):e[t]=r[t];return e}var E2r=(e,r,t)=>{e.__node.backward&&r instanceof Zt&&t.setListeners({[r.__node.tag]:{[e.__node.tag]:r}})},q2r=(e,r,t)=>{if(e.__operator&&!e.__node.looperSet){if(e.__node.looperSet=!0,typeof e.__node.delay=="number"){let n=e.__operator;e.__operator=(...i)=>new Promise((c,u)=>{setTimeout(async()=>{c(await n(...i))},e.__node.delay)})}else if(e.__node.frame===!0){let n=e.__operator;e.__operator=(...i)=>new Promise((c,u)=>{requestAnimationFrame(async()=>{c(await n(...i))})})}if(typeof e.__node.repeat=="number"||typeof e.__node.recursive=="number"){let n=e.__operator;e.__operator=async(...i)=>{let c=e.__node.repeat?e.__node.repeat:e.__node.recursive,u,a=async(s,...o)=>{for(;s>0;){if(e.__node.delay||e.__node.frame){n(...o).then(async l=>{e.__node.recursive?await a(s,l):await a(s,...o)});break}else u=await n(...i);s--}};return await a(c,...i),u}}if(e.__node.loop&&typeof e.__node.loop=="number"){"looping"in e.__node||(e.__node.looping=!0),e.__node.looper=()=>{e.__node.looping&&(e.__operator(),setTimeout(e.__node.looper,e.__node.loop))},e.__node.looping&&e.__node.looper();let n=i=>{i.__node.looping&&(i.__node.looping=!1)};e.__addDisconnected(n)}}},I2r=(e,r,t)=>{if(e.__node.animate===!0||e.__node.animation){typeof e.__node.animate=="function"&&(e.__node.animate=e.__node.animate.bind(e)),requestAnimationFrame(c=>{"animating"in c.__node||(c.__node.animating=!0),c.__node.animate=()=>{c.__node.animating&&(typeof c.__node.animate=="function"?c.__node.animation():c.__operator(),requestAnimationFrame(c.__node.animation))},requestAnimationFrame(c.__node.animation),c.__node.animating&&c.__node.animation()});let i=c=>{c.__node.animating&&(c.__node.animating=!1)};e.__addDisconnected(i)}},B2r=(e,r,t)=>{if(typeof e.__node.branch=="object"&&e.__operator&&!e.__node.branchApplied){let n=e.__operator;e.__node.branchApplied=!0,e.__operator=(...i)=>{let c=n(...i);for(let u in e.__node.branch){let a=()=>{typeof e.__node.branch[u].then=="function"?e.__node.branch[u].then(c):e.__node.branch[u].then instanceof Zt&&e.__node.branch[u].then.__operator?e.__node.branch[u].then.__operator(c):c=e.__node.branch[u].then};typeof e.__node.branch[u].if=="function"?e.__node.branch[u].if(c)&&a():e.__node.branch[u].if===c&&a()}return c}}if(e.__listeners){for(let n in e.__listeners)if(typeof e.__listeners[n]=="object"&&e.__listeners[n].branch&&!e.__listeners[n].branchApplied){let i=e.__listeners[n].callback;e.__listeners[n].branchApplied=!0,e.__listeners.callback=c=>{let u=()=>{typeof e.__listeners[n].branch.then=="function"?c=e.__listeners[n].branch.then(c):e.__listeners[n].branch.then instanceof Zt&&e.__listeners[n].branch.then.__operator?c=e.__listeners[n].branch.then.__operator(c):c=e.__listeners[n].branch.then};return typeof e.__listeners[n].branch.if=="function"?e.__listeners[n].branch.if(c)&&u():e.__listeners[n].branch.if===c&&u(),i(c)}}}},k2r=(e,r,t)=>{if(e.__listeners)for(let n in e.__listeners)typeof e.__listeners[n]=="object"&&e.__listeners[n].oncreate&&e.__listeners[n].callback(e.__listeners[n].oncreate)},j2r=(e,r,t)=>{if(e.__listeners)for(let n in e.__listeners)typeof e.__listeners[n]=="object"&&typeof e.__listeners[n].binding=="object"&&(e.__listeners.callback=e.__listeners.callback.bind(e.__listeners[n].binding))},T2r=(e,r,t)=>{if(e.__listeners){for(let n in e.__listeners)if(typeof e.__listeners[n]=="object"&&typeof e.__listeners[n].transform=="function"&&!e.__listeners[n].transformApplied){let i=e.__listeners[n].callback;e.__listeners[n].transformApplied=!0,e.__listeners.callback=c=>(c=e.__listeners[n].transform(c),i(c))}}},R2r=(e,r,t)=>{e.post&&!e.__operator?e.__setOperator(e.post):!e.__operator&&typeof e.get=="function"&&e.__setOperator(e.get),!e.get&&e.__operator&&(e.get=e.__operator),e.aliases&&e.aliases.forEach(n=>{t.__node.nodes.set(n,e);let i=c=>{t.__node.nodes.delete(n)};e.__addDisconnected(i)}),typeof t.__node.tree[e.__node.tag]=="object"&&e.get&&(t.__node.tree[e.__node.tag].get=e.get)},vX={backprop:E2r,loop:q2r,animate:I2r,branching:B2r,triggerListenerOncreate:k2r,bindListener:j2r,transformListenerResult:T2r,substitute__operator:R2r},UE=class extends Ic{constructor(e){super({...e,loaders:e?.loaders?Object.assign({...vX},e.loaders):{...vX}}),this.name=`service${Math.floor(Math.random()*1e15)}`,this.handleMethod=(r,t,n)=>{let i=t.toLowerCase(),c=this.__node.nodes.get(r);return c||(c=this.__node.tree[r]),c?.[i]?c[i]instanceof Function?c[i](n):(n&&(c[i]=n),c[i]):this.handleServiceMessage({route:r,args:n,method:t})},this.transmit=(...r)=>typeof r[0]=="object"?r[0].method?this.handleMethod(r[0].route,r[0].method,r[0].args):r[0].route?this.handleServiceMessage(r[0]):r[0].node?this.handleGraphNodeCall(r[0].node,r[0].args):(this.__node.keepState&&(r[0].route&&this.setState({[r[0].route]:r[0].args}),r[0].node&&this.setState({[r[0].node]:r[0].args})),r):r,this.receive=(...r)=>{if(r[0]&&typeof r[0]=="string"){let t=r[0].substring(0,8);(t.includes("{")||t.includes("["))&&(t.includes("\\")&&(r[0]=r[0].replace(/\\/g,"")),r[0][0]==='"'&&(r[0]=r[0].substring(1,r[0].length-1)),r[0]=JSON.parse(r[0]))}return typeof r[0]=="object"?r[0].method?this.handleMethod(r[0].route,r[0].method,r[0].args):r[0].route?this.handleServiceMessage(r[0]):r[0].node?this.handleGraphNodeCall(r[0].node,r[0].args):(this.__node.keepState&&(r[0].route&&this.setState({[r[0].route]:r[0].args}),r[0].node&&this.setState({[r[0].node]:r[0].args})),r):r},this.pipe=(r,t,n,i,c)=>{if(r instanceof Zt)return c?this.subscribe(r,u=>{let a=c(u);a!==void 0?this.transmit({route:t,args:a,method:i}):this.transmit({route:t,args:u,method:i},n)}):this.subscribe(r,u=>{this.transmit({route:t,args:u,method:i},n)});if(typeof r=="string")return this.subscribe(r,u=>{this.transmit({route:t,args:u,method:i},n)})},this.pipeOnce=(r,t,n,i,c)=>{if(r instanceof Zt)return c?r.__node.state.subscribeTriggerOnce(r.__node.unique,u=>{let a=c(u);a!==void 0?this.transmit({route:t,args:a,method:i}):this.transmit({route:t,args:u,method:i},n)}):this.__node.state.subscribeTriggerOnce(r.__node.unique,u=>{this.transmit({route:t,args:u,method:i},n)});if(typeof r=="string")return this.__node.state.subscribeTriggerOnce(this.__node.nodes.get(r).__node.unique,u=>{this.transmit({route:t,args:u,method:i},n)})},this.terminate=(...r)=>{},this.isTypedArray=F2r,this.recursivelyAssign=EE,this.spliceTypedArray=L2r,this.ping=()=>(console.log("pinged"),"pong"),this.echo=(...r)=>(this.transmit(...r),r),e?.services&&this.addServices(e.services),this.setTree(this)}addServices(e){for(let r in e)typeof e[r]=="function"&&(e[r]=new e[r]),e[r]?.__node?.loaders&&Object.assign(this.__node.loaders,e[r].__node.loaders),e[r]instanceof UE?e[r].__node.nodes.forEach((t,n)=>{this.__node.nodes.get(n)?this.__node.nodes.set(r+"."+n,t):this.__node.nodes.set(n,t)}):typeof e[r]=="object"&&this.setTree(e[r])}handleServiceMessage(e){let r;return typeof e=="object"&&(e.route?r=e.route:e.node&&(r=e.node)),r?Array.isArray(e.args)?this.run(r,...e.args):this.run(r,e.args):e}handleGraphNodeCall(e,r){if(!e)return r;if(r?.args)this.handleServiceMessage(r);else return Array.isArray(r)?this.run(e,...r):this.run(e,r)}};function F2r(e){return ArrayBuffer.isView(e)&&Object.prototype.toString.call(e)!=="[object DataView]"}var EE=(e,r)=>{for(let t in r)typeof r[t]=="object"&&!Array.isArray(r[t])?typeof e[t]=="object"&&!Array.isArray(e[t])?EE(e[t],r[t]):e[t]=EE({},r[t]):e[t]=r[t];return e};function L2r(e,r,t){let n=e.subarray(0,r),i;t&&(i=e.subarray(t+1));let c;return(n.length>0||i?.length>0)&&(c=new e.constructor(n.length+i.length)),c&&(n.length>0&&c.set(n),i&&i.length>0&&c.set(i,n.length)),c}function Ni(e=""){let r=u=>u.replace(/^\W*(function[^{]+\{([\s\S]*)\}|[^=]+=>[^{]*\{([\s\S]*)\}|[^=]+=>(.+))/i,"$2$3$4"),n=(u=>{let a=u.indexOf("=>")+1;return a<=0&&(a=u.indexOf("){")),a<=0&&(a=u.indexOf(") {")),u.slice(0,u.indexOf("{",a)+1)})(e),i=r(e),c;if(n.includes("function")){let u=n.split("(")[1].split(")")[0];c=new Function(u,i)}else if(n.substring(0,6)===i.substring(0,6)){let u=n.split("(")[1].split(")")[0];c=new Function(u,i.substring(i.indexOf("{")+1,i.length-1))}else try{c=(0,eval)(n+i+"}")}catch{}return c}var U2r=function(){let e=new Map,r=[],t=["this"];function n(){e.clear(),r.length=0,t.length=1}function i(u,a){var s=r.length-1,o=r[s];if(typeof o=="object")if(o[u]===a||s===0)t.push(u),r.push(a.pushed);else for(;s-->=0;){if(o=r[s],typeof o=="object"&&o[u]===a){s+=2,r.length=s,t.length=s,--s,r[s]=a,t[s]=u;break}s--}}function c(u,a){if(a!=null&&typeof a=="object"){u&&i(u,a);let s=e.get(a);if(s)return"[Circular Reference]"+s;e.set(a,t.join("."))}return a}return function(a,s){try{return r.push(a),JSON.stringify(a,c,s)}finally{n()}}}();JSON.stringifyWithCircularRefs===void 0&&(JSON.stringifyWithCircularRefs=U2r);var z2r=function(){let e=new Map,r=[],t=["this"];function n(){e.clear(),r.length=0,t.length=1}function i(u,a){var s=r.length-1;if(r[s]){var o=r[s];if(typeof o=="object")if(o[u]===a||s===0)t.push(u),r.push(a.pushed);else for(;s-->=0;){if(o=r[s],typeof o=="object"&&o[u]===a){s+=2,r.length=s,t.length=s,--s,r[s]=a,t[s]=u;break}s++}}}function c(u,a){let s;if(a!=null)if(typeof a=="object"){let o=a.constructor.name;u&&o==="Object"&&i(u,a);let l=e.get(a);if(l)return"[Circular Reference]"+l;if(e.set(a,t.join(".")),o==="Array")a.length>20?s=a.slice(a.length-20):s=a;else if(o.includes("Set"))s=Array.from(a);else if(o!=="Object"&&o!=="Number"&&o!=="String"&&o!=="Boolean")s="instanceof_"+o;else if(o==="Object"){let d={};for(let p in a)if(a[p]==null)d[p]=a[p];else if(Array.isArray(a[p]))a[p].length>20?d[p]=a[p].slice(a[p].length-20):d[p]=a[p];else if(a[p].constructor.name==="Object"){d[p]={};for(let f in a[p])if(Array.isArray(a[p][f]))a[p][f].length>20?d[p][f]=a[p][f].slice(a[p][f].length-20):d[p][f]=a[p][f];else if(a[p][f]!=null){let v=a[p][f].constructor.name;v.includes("Set")?d[p][f]=Array.from(a[p][f]):v!=="Number"&&v!=="String"&&v!=="Boolean"?d[p][f]="instanceof_"+v:d[p][f]=a[p][f]}else d[p][f]=a[p][f]}else{let f=a[p].constructor.name;f.includes("Set")?d[p]=Array.from(a[p]):f!=="Number"&&f!=="String"&&f!=="Boolean"?d[p]="instanceof_"+f:d[p]=a[p]}s=d}else s=a}else s=a;return s}return function(a,s){r.push(a);let o=JSON.stringify(a,c,s);return n(),o}}();JSON.stringifyFast===void 0&&(JSON.stringifyFast=z2r);var J2r={setRoute:function(e,r){if(typeof e=="string"&&(e=Ni(e)),typeof e=="function"){if(r||(r=e.name),this.__node.graph.get(r))this.__node.graph.get(r).__setOperator(e);else{let t=this.__node.graph.add({__node:{tag:r},__operator:e})}return!0}return!1},setNode:function(e,r){return typeof e=="string"&&(e=Ni(e)),typeof e=="function"?(r||(r=e.name),this.__node.graph.get(r)?this.__node.graph.get(r).__setOperator(e):this.__node.graph.add({__node:{tag:r},__operator:e}),!0):!1},setMethod:function(e,r,t){return typeof r=="string"&&(r=Ni(r)),typeof r=="function"?(t||(t=r.name),this.__node.graph.get(e)?this.__node.graph.get(e)[t]=r:this.__node.graph.add({__node:{tag:t,[t]:r}}),!0):!1},assignRoute:function(e,r){this.__node.graph.get(e)&&typeof r=="object"&&Object.assign(this.__node.graph.get(e),r)},transferClass:(e,r)=>{if(typeof e=="object"){let t=e.toString();return{route:"receiveClass",args:[t,r]}}return!1},receiveClass:function(e,r){if(typeof e=="string"&&e.indexOf("class")===0){let t=(0,eval)("("+e+")"),n=r;return n||(n=t.name),this.__node.graph[n]=t,!0}return!1},setGlobal:(e,r)=>(globalThis[e]=r,!0),assignGlobalObject:(e,r)=>globalThis[e]?(typeof r=="object"&&Object.assign(globalThis[e],r),!0):!1,setValue:function(e,r){return this.__node.graph[e]=r,!0},assignObject:function(e,r){return this.__node.graph[e]?(typeof r=="object"&&Object.assign(this.__node.graph[e],r),!0):!1},setGlobalFunction:(e,r)=>(typeof e=="string"&&(e=Ni(e)),typeof e=="function"?(r||(r=e.name),globalThis[r]=e,!0):!1),assignFunctionToGlobalObject:function(e,r,t){return globalThis[e]?(typeof r=="string"&&(r=Ni(r)),typeof r=="function"?(t||(t=r.name),this.__node.graph[e][t]=r,!0):!1):!1},setFunction:function(e,r){return typeof e=="string"&&(e=Ni(e)),typeof e=="function"?(r||(r=e.name),this.__node.graph[r]=e,!0):!1},assignFunctionToObject:function(e,r,t){return this.__node.graph[e]?(typeof r=="string"&&(r=Ni(r)),typeof r=="function"?(t||(t=r.name),this.__node.graph[e][t]=r,!0):!1):!1}},bnt=RE(y2r()),gN=class extends UE{constructor(e,r,t){super(e),this.name="http",this.fetchProxied=!1,this.listening={},this.GET=(n="http://localhost:8080/ping",i="",c)=>(i==="json"&&(c="application/json"),new Promise((u,a)=>{let s=gN.request({method:"GET",url:n,responseType:i,mimeType:c,onload:o=>{let l;s.responseType===""||s.responseType==="text"?l=s.responseText:l=s.response,n instanceof URL&&(n=n.toString()),this.setState({[n]:l}),u(l)},onabort:o=>{a(o)}})}).catch(console.error)),this.POST=(n,i="http://localhost:8080/echo",c="",u)=>(typeof n=="object"&&(c==="json"||c==="text"||!c)&&(n=JSON.stringify(n)),c==="json"&&(u="application/json"),new Promise((a,s)=>{let o=gN.request({method:"POST",url:i,data:n,responseType:c,mimeType:u,onload:l=>{let d;o.responseType===""||o.responseType==="text"?d=o.responseText:d=o.response,i instanceof URL&&(i=i.toString()),this.setState({[i]:d}),a(d)},onabort:l=>{s(l)}})}).catch(console.error)),this.transmit=(n,i)=>{let c=n;return typeof c=="object"&&(n=JSON.stringify(c)),c?.method?.toLowerCase()=="get"||n?.toLowerCase()==="get"?this.GET(i):this.POST(n,i)},this.transponder=(n,i,c="",u)=>{typeof i=="object"&&(i=JSON.stringify(i));let a="GET";if(i&&(a="POST"),c==="json")u="application/json";else return new Promise((s,o)=>{let l=gN.request({method:a,url:n,data:i,responseType:c,onload:d=>{let p=l.response;if(typeof p=="string"){let f=p.substring(0,8);(f.includes("{")||f.includes("["))&&(f.includes("\\")&&(p=p.replace(/\\/g,"")),p[0]==='"'&&(p=p.substring(1,p.length-1)),p=JSON.parse(p))}return typeof p?.method=="string"?s(this.handleMethod(p.route,p.method,p.args)):typeof p?.route=="string"?s(this.handleServiceMessage(p)):typeof p?.node=="string"||p.node instanceof Zt?s(this.handleGraphNodeCall(p.node,p.args)):s(p)},onabort:d=>{o(d)}})}).catch(console.error)},this.listen=(n="0",i=async(c,u,a)=>{let s=await c.text(),o=this.receive(s);this.setState({[a.url]:o})})=>{this.listening[n]={};let c=`${n}${Math.floor(Math.random()*1e15)}`;return this.listening[n][c]=i,this.fetchProxied||(globalThis.fetch=new Proxy(globalThis.fetch,{apply(u,a,s){let o=u.apply(a,s);return o.then(l=>{if(!!l.ok){if(this.listening[0])for(let d in this.listeners){let p=l.clone();this.listening[0][d](p,s,l)}else for(let d in this.listening)if(l.url.includes(d)){for(let p in this.listening[n]){let f=l.clone();this.listening[n][p](f,s,l)}break}}}).catch(l=>{console.error(l)}),o}}),this.fetchProxied=!0),c},this.stopListening=(n,i)=>{if(!n&&n!==0)for(let c in this.listening)delete this.listening[c];else i?delete this.listening[i]:delete this.listening[n]},this.setTree(this),this.listen(r,t)}},V2r=gN;V2r.request=e=>{let r=new XMLHttpRequest;return e.responseType?r.responseType=e.responseType:e.responseType="json",e.mimeType&&r.overrideMimeType(e.mimeType),e.onload&&r.addEventListener("load",e.onload,!1),e.onprogress&&r.addEventListener("progress",e.onprogress,!1),e.onabort&&r.addEventListener("abort",e.onabort,!1),e.onloadend&&r.addEventListener("loadend",e.onloadend,!1),e.onerror&&r.addEventListener("error",e.onerror,!1),r.open(e.method,e.url,!0,e.user,e.pass),e.onerror||(r.onerror=function(){r.abort()}),r.send(e.data),r};var to=RE(g2r()),G2r=class extends UE{constructor(e){super(),this.name="worker",this.workers={},this.threadRot=0,this.loadWorkerRoute=(r,t)=>{r.workerUrl&&(r.url=r.workerUrl),r.workerId&&(r.__node.tag=r.workerId),r.__node.tag||(r.__node.tag=t),r._id=r.__node.tag;let n;if(this.workers[r._id]?n=this.workers[r._id]:r.worker&&(n=r.worker),!n){n=this.addWorker(r);let i=c=>{c.worker?.terminate()};r.__addDisconnected(i)}if(r.worker=n,r.transferFunctions)for(let i in r.transferFunctions)this.transferFunction(n,r.transferFunctions[i],i);if(r.transferClasses)for(let i in r.transferClasses)this.transferClass(n,r.transferClasses[i],i);if(n)return r.__operator||(r.__operator=(...i)=>{if(r.callback)if(!this.__node.nodes.get(r.__node.tag)?.__children)n.post(r.callback,i);else return n.run(r.callback,i);else if(!this.__node.nodes.get(r.__node.tag)?.__children)n.send(i);else return n.request(i)}),r.init&&n.run(r.init,r.initArgs,r.initTransfer),n},this.workerloader={workers:(r,t,n,i)=>{let c=r;if(!r.parentRoute&&t?.callback&&t?.worker&&(r.parentRoute=t?.callback),c?.worker||c?.workerId||c?.workerUrl){let u=this.loadWorkerRoute(c,c.__node.tag);u&&(!c.parentRoute&&c.__parent?.callback&&(c.parentRoute=c.__parent.callback),c.__parent&&!c.portId&&(typeof c.__parent=="string"?c.__node.tag!==c.__parent&&u._id!==c.__parent&&(c.portId=this.establishMessageChannel(u,c.__parent)):c.__node.tag!==c.__parent?.__node?.tag&&u._id!==c.__parent.tag&&(c.portId=this.establishMessageChannel(u,c.__parent.worker))),c.parentRoute?(c.stopped||(typeof c.__parent=="string"&&c.__parent===u._id?u.run("subscribe",[c.parentRoute,void 0,c.callback]):c.__node.tag===c.__parent?.__node?.tag||u._id===c.__parent?.__node?.tag?u.run("subscribe",[c.parentRoute,void 0,c.callback]):u.run("subscribeToWorker",[c.parentRoute,c.portId,c.callback,c.blocking]).then(a=>{u.workerSubs[c.parentRoute+c.portId].sub=a})),!(typeof c.__parent=="string"&&c.__parent===u._id)&&!(c.__node.tag===c.__parent?.__node?.tag||u._id===c.__parent?.__node?.tag)&&(u.workerSubs[c.parentRoute+c.portId]={sub:null,route:c.parentRoute,portId:c.portId,callback:c.callback,blocking:c.blocking})):c.__parent&&(typeof c.__parent=="string"?(c.stopped||(c.__parent===u._id?u.run("subscribe",[c.__parent,void 0,c.callback]):u.run("subscribeToWorker",[c.__parent,c.portId,c.callback,c.blocking]).then(a=>{u.workerSubs[c.__parent+c.portId].sub=a})),typeof c.__parent=="string"&&c.__parent===u._id||(u.workerSubs[c+c.portId]={sub:null,route:u._id,portId:c.portId,callback:c.callback,blocking:c.blocking})):c.__parent?.__node?.tag&&c.__parent?.worker&&(c.stopped||(c.__node.tag===c.__parent.__node.tag||u._id===c.__parent.__node.tag?u.run("subscribe",[c.__parent.__node.tag,void 0,c.callback]):u.run("subscribeToWorker",[c.__parent.__node.tag,c.portId,c.callback,c.blocking]).then(a=>{u.workerSubs[c.__parent.__node.tag+c.portId].sub=a})),c.__node.tag===c.__parent?.__node?.tag||u._id===c.__parent?.__node?.tag||(u.workerSubs[c.__parent.__node.tag+c.portId]={sub:null,route:c.__parent.__node.tag,portId:c.portId,callback:c.callback,blocking:c.blocking}))))}else c.__parent&&c.parentRoute&&(typeof c.__parent=="string"&&i[c.__parent]?.worker?i[c.__parent].worker.subscribe(c.parentRoute,c.__node.tag,c.blocking):c.__parent?.worker&&c.__parent.worker.subscribe(c.parentRoute,c.__node.tag,c.blocking));return c}},this.addDefaultMessageListener=()=>{globalThis.onmessage=r=>{let t=this.receive(r.data);this.__node.keepState&&this.setState({[this.name]:t})}},this.postMessage=(r,t,n)=>{this.workers[t]?this.workers[t].send(r,n):globalThis.postMessage(r,t,n)},this.addWorker=r=>{let t;if(r._id||(r._id=`worker${Math.floor(Math.random()*1e15)}`),r.url?t=new to.default(r.url):r.port?t=r.port:this.workers[r._id]&&(this.workers[r._id].port?t=this.workers[r._id].port:t=this.workers[r._id].worker),!t)return;let n=(f,v)=>this.transmit(f,t,v),i=(f,v,h,m)=>{let y={route:f,args:v};return m&&(y.method=m),this.transmit(y,t,h)},c=(f,v,h,m)=>new Promise((y,g)=>{let b=Math.random(),_={route:"runRequest",args:[{route:f,args:v},r._id,b]};m&&(_.args[0].method=m);let S=w=>{typeof w.data=="object"&&w.data.callbackId===b&&(t.removeEventListener("message",S),y(w.data.args))};t.addEventListener("message",S),this.transmit(_,t,h)}),u=(f,v,h)=>new Promise((m,y)=>{let g=Math.random(),b={route:"runRequest",args:[f,r._id,g]};h&&(b.method=h);let _=S=>{typeof S.data=="object"&&S.data.callbackId===g&&(t.removeEventListener("message",_),m(S.data.args))};t.addEventListener("message",_),this.transmit(b,t,v)}),a={},s=(f,v,h)=>this.subscribeToWorker(f,r._id,v,h),o=(f,v)=>c("unsubscribe",[f,v]),l=async(f,v,h,m)=>{if(f)await c("subscribeToWorker",[f,v,h,m]).then(y=>{y&&(a[f+v]={sub:y,route:f,portId:v,callback:h,blocking:m})});else for(let y in a)typeof a[y].sub!="number"&&await c("subscribeToWorker",[a[y].route,a[y].portId,a[y].callback,a[y].blocking]).then(g=>{a[y].sub=g});return!0},d=async(f,v)=>{if(f&&v&&a[f+v])await c("unsubscribe",[f,a[f+v].sub]),a[f+v].sub=!1;else for(let h in a)typeof a[h].sub=="number"&&await c("unpipeWorkers",[a[h].route,a[h].portId,a[h].sub]),a[h].sub=!1;return!0},p=()=>{for(let f in a)typeof a[f].sub=="number"&&c("unpipeWorkers",[a[f].route,a[f].portId,a[f].sub]),a[f].sub=!1;return this.terminate(r._id)};return r.onmessage||(r.onmessage=f=>{this.receive(f.data),this.setState({[r._id]:f.data})}),r.onerror||(r.onerror=f=>{console.error(f.data)}),t.onmessage=r.onmessage,t.onerror=r.onerror,this.workers[r._id]={worker:t,send:n,post:i,run:c,request:u,subscribe:s,unsubscribe:o,terminate:p,start:l,stop:d,postMessage:t.postMessage,workerSubs:a,graph:this,...r},this.workers[r._id]},this.toObjectURL=r=>{let t=new Blob([r],{type:"text/javascript"});return URL.createObjectURL(t)},this.transmit=(r,t,n)=>{if(n||(n=this.getTransferable(r)),t instanceof to.default||t instanceof MessagePort)t.postMessage(r,n);else if(typeof t=="string")this.workers[t]&&(this.workers[t].port?this.workers[t].port.postMessage(r,n):this.workers[t].worker&&this.workers[t].worker.postMessage(r,n));else{let i=Object.keys(this.workers);this.workers[i[this.threadRot]].worker.postMessage(r,n),this.threadRot++,this.threadRot===i.length&&(this.threadRot=0)}return r},this.terminate=r=>{let t;if(typeof r=="string"){let n=this.workers[r];n&&(delete this.workers[r],r=n.worker,n.onclose&&(t=n.onclose))}return r instanceof to.default?(r.terminate(),t&&t(r),!0):r instanceof MessagePort?(r.close(),t&&t(r),!0):!1},this.establishMessageChannel=(r,t)=>{let n;if(typeof r=="string"?(n=r,this.workers[r]&&(this.workers[r].port?r=this.workers[r].port:t=this.workers[r].worker)):r?.worker&&(r=r.worker),typeof t=="string"?this.workers[t]&&(this.workers[t].port?t=this.workers[t].port:t=this.workers[t].worker):t?.worker&&(t=t.worker),r instanceof to.default||r instanceof MessagePort){let i=new MessageChannel,c=`port${Math.floor(Math.random()*1e15)}`;return r.postMessage({route:"addWorker",args:{port:i.port1,_id:c}},[i.port1]),t instanceof to.default||t instanceof MessagePort?t.postMessage({route:"addWorker",args:{port:i.port2,_id:c}},[i.port2]):n&&this.workers[n]&&(i.port2.onmessage=this.workers[n].onmessage,this.workers[n].port=i.port2),c}return!1},this.request=(r,t,n,i)=>{let c=this.workers[t].worker;return new Promise((u,a)=>{let s=Math.random(),o={route:"runRequest",args:[r,s]};i&&(o.method=i);let l=d=>{typeof d.data=="object"&&d.data.callbackId===s&&(c.removeEventListener("message",l),u(d.data.args))};c.addEventListener("message",l),this.transmit(o,c,n)})},this.runRequest=(r,t,n)=>{let i=this.receive(r);return typeof t=="string"&&this.workers[t]&&(this.workers[t].port?t=this.workers[t].port:t=this.workers[t].worker),i instanceof Promise?i.then(c=>{t instanceof to.default||t instanceof MessagePort?t.postMessage({args:c,callbackId:n}):typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&globalThis.postMessage({args:c,callbackId:n})}):t instanceof to.default||t instanceof MessagePort?t.postMessage({args:i,callbackId:n}):typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&globalThis.postMessage({args:i,callbackId:n}),i},this.subscribeWorker=(r,t,n)=>{let i;if(n){let c=!1;i=u=>{c||(c=!0,u instanceof Promise?u.then(a=>{t?.run&&t.run("triggerSubscription",[r,t._id,a]).then(s=>{c=!1})}):t?.run&&t.run("triggerSubscription",[r,t._id,u]).then(a=>{c=!1}))}}else i=c=>{c instanceof Promise?c.then(u=>{t?.postMessage?t.postMessage({args:u,callbackId:r}):globalThis.postMessage&&globalThis.postMessage({args:u,callbackId:r})}):t?.postMessage?t.postMessage({args:c,callbackId:r}):globalThis.postMessage&&globalThis.postMessage({args:c,callbackId:r})};return!n&&t?.port?t=t.port:!n&&t?.worker?t=t.worker:typeof t=="string"&&this.workers[t]&&(n?t=this.workers[t]:this.workers[t].port?t=this.workers[t].port:t=this.workers[t].worker),this.subscribe(r,i)},this.subscribeToWorker=(r,t,n,i)=>{if(typeof t=="string"&&this.workers[t])return this.subscribe(t,c=>{c?.callbackId===r&&(n?typeof n=="string"?this.run(n,c.args):n(c.args):this.setState({[t]:c.args}))}),this.workers[t].run("subscribeWorker",[r,t,i])},this.triggerSubscription=async(r,t,n)=>{if(this.__node.state.triggers[t])for(let i=0;i<this.__node.state.triggers[t].length;i++)await this.__node.state.triggers[t][i].onchange({args:n,callbackId:r});return!0},this.pipeWorkers=(r,t,n,i,c,u)=>(typeof r=="string"&&(r=this.workers[r]),typeof t=="string"&&(t=this.workers[t]),c||(c=this.establishMessageChannel(r.worker,t.worker)),t.run("subscribeToWorker",[n,c,i,u])),this.unpipeWorkers=(r,t,n)=>{if(typeof t=="string"&&(t=this.workers[t]),t)return t.run("unsubscribe",[r,n])},this.connections={workers:this.workers},e?.services&&this.addServices(e.services),this.setTree(this),this.setLoaders(this.workerloader),e&&this.init(e),typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope&&this.addDefaultMessageListener()}getTransferable(e){let r;if(typeof e=="object")if(e.args)if(e.args?.constructor?.name==="Object")for(let t in e.args)ArrayBuffer.isView(e.args[t])?r?r.push(e.args[t].buffer):r=[e.args[t].buffer]:e.args[t]?.constructor?.name==="ArrayBuffer"&&(r?r.push(e.args[t]):r=[e.args[t]]);else Array.isArray(e.args)&&e.args.length<11?e.args.forEach(t=>{ArrayBuffer.isView(t)?r=[t.buffer]:t?.constructor?.name==="ArrayBuffer"&&(r=[t])}):ArrayBuffer.isView(e.args)?r=[e.args.buffer]:e.args?.constructor?.name==="ArrayBuffer"&&(r=[e]);else if(e?.constructor?.name==="Object")for(let t in e)ArrayBuffer.isView(e[t])?r?r.push(e[t].buffer):r=[e[t].buffer]:e[t]?.constructor?.name==="ArrayBuffer"&&(r?r.push(e[t]):r=[e[t]]);else Array.isArray(e)&&e.length<11?e.forEach(t=>{ArrayBuffer.isView(t)?r=[t.buffer]:t.constructor?.name==="ArrayBuffer"&&(r=[t])}):ArrayBuffer.isView(e)?r=[e.buffer]:e.constructor?.name==="ArrayBuffer"&&(r=[e]);return r}transferFunction(e,r,t){return t||(t=r.name),e.request({route:"setRoute",args:[r.toString(),t]})}transferClass(e,r,t){return t||(t=r.name),e.request({route:"receiveClass",args:[r.toString(),t]})}},Pc=zE(["ctrlKey","metaKey","shiftKey","button","pointerType","clientX","clientY","pageX","pageY"]),H2r=zE(["deltaX","deltaY"]),W2r=zE(["ctrlKey","metaKey","shiftKey","keyCode"]);function $2r(e,r){e.preventDefault(),H2r(e,r)}function Q2r(e){e.preventDefault()}function Y2r(e,r,t){for(let n of r)t[n]=e[n]}function zE(e){return function(t,n){let i={type:t.type};Y2r(t,e,i),n(i)}}function NE(e,r){let t=[],n={type:e.type,touches:t};for(let i=0;i<e.touches.length;++i){let c=e.touches[i];t.push({pageX:c.pageX,pageY:c.pageY})}r(n)}var Z2r={37:!0,38:!0,39:!0,40:!0};function X2r(e,r){let{keyCode:t}=e;Z2r[t]&&(e.preventDefault(),W2r(e,r))}var K2r={contextmenu:Q2r,mousedown:Pc,mousemove:Pc,mouseup:Pc,pointerdown:Pc,pointermove:Pc,pointerup:Pc,touchstart:NE,touchmove:NE,touchend:NE,wheel:$2r,keydown:X2r};function JE(e,r,t){t||(t="proxy"+Math.floor(Math.random()*1e15));let n=u=>{r?r.postMessage({route:"handleProxyEvent",args:[u,t]}):CX(u,t)},i=Object.entries(K2r);for(let[u,a]of i)e.addEventListener(u,function(s){a(s,n)});let c=()=>{let u=e.getBoundingClientRect();n({type:"resize",left:u.left,top:u.top,width:e.clientWidth,height:e.clientHeight})};return c(),globalThis.addEventListener("resize",c),t}var eCr=class{addEventListener(e,r){this.__listeners===void 0&&(this.__listeners={});let t=this.__listeners;t[e]===void 0&&(t[e]=[]),t[e].indexOf(r)===-1&&t[e].push(r)}hasEventListener(e,r){if(this.__listeners===void 0)return!1;let t=this.__listeners;return t[e]!==void 0&&t[e].indexOf(r)!==-1}removeEventListener(e,r){if(this.__listeners===void 0)return;let n=this.__listeners[e];if(n!==void 0){let i=n.indexOf(r);i!==-1&&n.splice(i,1)}}dispatchEvent(e,r){if(this.__listeners===void 0)return;let n=this.__listeners[e.type];if(n!==void 0){r?e.target=r:e.target=this;let i=n.slice(0);for(let c=0,u=i.length;c<u;c++)i[c].call(this,e);e.target=null}}};function mX(){}var rCr=class extends eCr{constructor(){super(),this.__listeners={},this.style={},this.setPointerCapture=()=>{},this.releasePointerCapture=()=>{},this.getBoundingClientRect=()=>({left:this.left,top:this.top,width:this.width,height:this.height,right:this.left+this.width,bottom:this.top+this.height}),this.handleEvent=e=>{e.type==="resize"&&(this.left=e.left,this.top=e.top,this.width=e.width,this.height=e.height,typeof this.proxied=="object"&&(this.proxied.style.width=this.width+"px",this.proxied.style.height=this.height+"px",this.proxied.clientWidth=this.width,this.proxied.clientHeight=this.height)),e.preventDefault=mX,e.stopPropagation=mX,this.dispatchEvent(e,this.proxied)},this.style={}}get clientWidth(){return this.width}get clientHeight(){return this.height}focus(){}},xN=class{constructor(){this.targets={},this.makeProxy=(e,r=void 0)=>{e||(e=`proxyReceiver${Math.floor(Math.random()*1e15)}`);let t;this.targets[e]?t=this.targets[e]:(t=new rCr,this.targets[e]=t),typeof r=="object"&&(r.proxy=t,t.proxied=r,typeof WorkerGlobalScope<"u"&&(r.style=t.style),t.width&&(r.style.width=t.width+"px",r.clientWidth=t.width),t.height&&(r.style.height=t.height+"px",r.clientHeight=t.height),r.setPointerCapture=t.setPointerCapture.bind(t),r.releasePointerCapture=t.releasePointerCapture.bind(t),r.getBoundingClientRect=t.getBoundingClientRect.bind(t),r.addEventListener=t.addEventListener.bind(t),r.removeEventListener=t.removeEventListener.bind(t),r.handleEvent=t.handleEvent.bind(t),r.dispatchEvent=t.dispatchEvent.bind(t),r.focus=t.focus.bind(t))},this.getProxy=e=>this.targets[e],this.handleEvent=(e,r)=>{if(this.targets[r]||this.makeProxy(r),this.targets[r])return this.targets[r].handleEvent(e),!0},globalThis.document||(globalThis.document={})}};function tCr(e,r){return this?.__node?.graph?(this.__node.graph.ProxyManager||(this.__node.graph.ProxyManager=new xN),this.__node.graph.ProxyManager.makeProxy(e,r)):(globalThis.ProxyManager||(globalThis.ProxyManager=new xN),globalThis.ProxyManager.makeProxy(e,r)),e}function CX(e,r){if(this?.__node?.graph){if(this.__node.graph.ProxyManager||(this.__node.graph.ProxyManager=new xN),this.__node.graph.ProxyManager.handleEvent(e,r))return e}else if(globalThis.ProxyManager||(globalThis.ProxyManager=new xN),globalThis.ProxyManager.handleEvent(e,r))return e}var VE={initProxyElement:JE,makeProxy:tCr,handleProxyEvent:CX};function nCr(e){if(e.worker){let r=e.worker,t=e.route;return(r instanceof Blob||typeof r=="string")&&(r=new Worker(r)),delete e.worker,delete e.route,AX(r,e,t)}else return JE(e.canvas,void 0,e._id),MX(e)}function AX(e,r,t){if(!r)return;r._id||(r._id=`canvas${Math.floor(Math.random()*1e15)}`);let n=r.canvas.transferControlToOffscreen();r.width||(r.width=r.canvas.clientWidth),r.height||(r.height=r.canvas.clientHeight);let i={route:t||"setupCanvas",args:{...r,canvas:n}};this?.__node?.graph?this.__node.graph.run("initProxyElement",r.canvas,e,r._id):JE(r.canvas,e,r._id),r.draw&&(typeof r.draw=="function"?i.args.draw=r.draw.toString():i.args.draw=r.draw),r.update&&(typeof r.update=="function"?i.args.update=r.update.toString():i.args.update=r.update),r.init&&(typeof r.init=="function"?i.args.init=r.init.toString():i.args.init=r.init),r.clear&&(typeof r.clear=="function"?i.args.clear=r.clear.toString():i.args.clear=r.clear);let c=[n];return r.transfer&&(c.push(...r.transfer),delete r.transfer),e.postMessage(i,c),{_id:r._id,width:r.width,height:r.height,worker:e,draw:a=>{e.postMessage({route:"drawFrame",args:[a,r._id]})},update:a=>{e.postMessage({route:"updateCanvas",args:[a,r._id]})},clear:()=>{e.postMessage({route:"clearCanvas",args:r._id})},init:()=>{e.postMessage({route:"initCanvas",args:r._id})},stop:()=>{e.postMessage({route:"stopAnim",args:r._id})},start:()=>{e.postMessage({route:"startAnim",args:r._id})},set:a=>{e.postMessage({route:"setDraw",args:[a,r._id]})},terminate:()=>{e.terminate()}}}function bN(e,r){let t;if(this?.__node?.graph?r?t=this.__node.graph.CANVASES?.[e._id]:e._id?t=this.__node.graph.CANVASES?.[e._id]:t=this.__node.graph.CANVASES?.[Object.keys(this.__node.graph.CANVASES)[0]]:r||e._id?t=globalThis.CANVASES?.[e._id]:t=globalThis.CANVASES?.[Object.keys(globalThis.CANVASES)[0]],t)return e.canvas&&(t.canvas=e.canvas,this?.__node?.graph?this.__node.graph.run("makeProxy",t._id,t.canvas):VE.makeProxy(t._id,t.canvas)),typeof e.context=="string"?t.context=t.canvas.getContext(e.context):e.context&&(t.context=e.context),e.width&&(t.canvas.width=e.width),e.height&&(t.canvas.height=e.height),typeof e.draw=="string"&&(e.draw=pa(e.draw)),typeof e.draw=="function"&&(t.draw=e.draw),typeof e.update=="string"&&(e.update=pa(e.update)),typeof e.update=="function"&&(t.update=e.update),typeof e.init=="string"&&(e.init=pa(e.init)),typeof e.init=="function"&&(t.init=e.init),typeof e.clear=="string"&&(e.clear=pa(e.clear)),typeof e.clear=="function"&&(t.clear=e.clear),e._id}function MX(e){this?.__node?.graph?this.__node.graph.CANVASES||(this.__node.graph.CANVASES={}):globalThis.CANVASES||(globalThis.CANVASES={});let r=e;if(e._id?r._id=e._id:r._id=`canvas${Math.floor(Math.random()*1e15)}`,typeof e.context=="string"?r.context=e.canvas.getContext(e.context):r.context=e.context,"animating"in e?r.animating=e.animating:r.animating=!0,this?.__node?.graph?.CANVASES[r._id])this.__node.graph.run("setDraw",r);else if(globalThis.CANVASES?.[r._id])bN(r);else if(this?.__node?.graph&&(r.graph=this.__node.graph),this?.__node?.graph?this.__node.graph.CANVASES[r._id]=r:globalThis.CANVASES[r._id]=r,this?.__node.graph?this.__node.graph.run("makeProxy",r._id,r.canvas):VE.makeProxy(r._id,r.canvas),e.width&&(r.canvas.width=e.width),e.height&&(r.canvas.height=e.height),typeof r.draw=="string"?r.draw=pa(r.draw):typeof r.draw=="function"&&(r.draw=r.draw),typeof r.update=="string"?r.update=pa(r.update):typeof r.update=="function"&&(r.update=r.update),typeof r.init=="string"?r.init=pa(r.init):typeof r.init=="function"&&(r.init=r.init),typeof r.clear=="string"?r.clear=pa(r.clear):typeof r.clear=="function"&&(r.clear=r.clear),typeof r.init=="function"&&r.init(r,r.canvas,r.context),r.stop=()=>{_N(r._id)},r.start=t=>{qE(r._id,t)},r.set=t=>{bN(t,r._id)},typeof r.draw=="function"&&r.animating){let t=(n,i,c)=>{n.animating&&(n.draw(n,i,c),requestAnimationFrame(()=>{t(n,i,c)}))};t(r,r.canvas,r.context)}return typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?r._id:{_id:e._id,width:e.width,height:e.height,draw:n=>{PX(n,e._id)},update:n=>{IX(n,e._id)},clear:()=>{EX(e._id)},init:()=>{qX(e._id)},stop:()=>{_N(e._id)},start:()=>{qE(e._id)},set:n=>{bN(n,e._id)},terminate:()=>{_N(e._id)}}}function PX(e,r){let t;if(this?.__node?.graph?r?t=this.__node.graph.CANVASES?.[r]:t=this.__node.graph.CANVASES?.[Object.keys(this.__node.graph.CANVASES)[0]]:r?t=globalThis.CANVASES?.[r]:t=globalThis.CANVASES?.[Object.keys(globalThis.CANVASES)[0]],t&&(e&&Object.assign(t,e),t.draw))return t.draw(t,t.canvas,t.context),r}function EX(e){let r;if(this?.__node?.graph?e?r=this.__node.graph.CANVASES?.[e]:r=this.__node.graph.CANVASES?.[Object.keys(this.__node.graph.CANVASES)[0]]:e?r=globalThis.CANVASES?.[e]:r=globalThis.CANVASES?.[Object.keys(globalThis.CANVASES)[0]],r?.clear)return r.clear(r,r.canvas,r.context),e}function qX(e){let r;if(this?.__node?.graph?e?r=this.__node.graph.CANVASES?.[e]:r=this.__node.graph.CANVASES?.[Object.keys(this.__node.graph.CANVASES)[0]]:e?r=globalThis.CANVASES?.[e]:r=globalThis.CANVASES?.[Object.keys(globalThis.CANVASES)[0]],r?.init)return r.init(r,r.canvas,r.context),e}function IX(e,r){let t;if(this?.__node?.graph?r?t=this.__node.graph.CANVASES?.[r]:t=this.__node.graph.CANVASES?.[Object.keys(this.__node.graph.CANVASES)[0]]:r?t=globalThis.CANVASES?.[r]:t=globalThis.CANVASES?.[Object.keys(globalThis.CANVASES)[0]],t?.update)return t.update(t,t.canvas,t.context,e),r}function iCr(e,r){let t;if(this?.__node?.graph?r?t=this.__node.graph.CANVASES?.[r]:t=this.__node.graph.CANVASES?.[Object.keys(this.__node.graph.CANVASES)[0]]:r?t=globalThis.CANVASES?.[r]:t=globalThis.CANVASES?.[Object.keys(globalThis.CANVASES)[0]],t)return Object.assign(t,e),e.width&&(t.canvas.width=e.width),e.height&&(t.canvas.height=e.height),r}function qE(e,r){let t;if(this?.__node?.graph?e?t=this.__node.graph.CANVASES?.[e]:t=this.__node.graph.CANVASES?.[Object.keys(this.__node.graph.CANVASES)[0]]:e?t=globalThis.CANVASES?.[e]:t=globalThis.CANVASES?.[Object.keys(globalThis.CANVASES)[0]],t.animating=!0,t&&r)return typeof r=="string"&&(r=pa(r)),typeof r=="function"&&(t.draw=r),e;if(typeof t?.draw=="function"){let n=(i,c,u)=>{i.animating&&(i.draw(i,c,u),requestAnimationFrame(()=>{n(i,c,u)}))};return typeof t.clear=="function"&&t.clear(t,t.canvas,t.context),typeof t.init=="function"&&t.init(t,t.canvas,t.context),n(t,t.canvas,t.context),e}}function _N(e){let r;if(this?.__node?.graph?e?r=this.__node.graph.CANVASES?.[e]:r=this.__node.graph.CANVASES?.[Object.keys(this.__node.graph.CANVASES)[0]]:e?r=globalThis.CANVASES?.[e]:r=globalThis.CANVASES?.[Object.keys(globalThis.CANVASES)[0]],r)return r.animating=!1,typeof r.clear=="function"&&r.clear(r,r.canvas,r.context),e}var aCr={...VE,Renderer:nCr,transferCanvas:AX,setupCanvas:MX,setDraw:bN,drawFrame:PX,clearCanvas:EX,initCanvas:qX,updateCanvas:IX,setProps:iCr,startAnim:qE,stopAnim:_N};function pa(e=""){let r=u=>u.replace(/^\W*(function[^{]+\{([\s\S]*)\}|[^=]+=>[^{]*\{([\s\S]*)\}|[^=]+=>(.+))/i,"$2$3$4"),n=(u=>{let a=u.indexOf("=>")+1;return a<=0&&(a=u.indexOf("){")),a<=0&&(a=u.indexOf(") {")),u.slice(0,u.indexOf("{",a)+1)})(e),i=r(e),c;if(n.includes("function")){let u=n.split("(")[1].split(")")[0];c=new Function(u,i)}else if(n.substring(0,6)===i.substring(0,6)){let u=n.split("(")[1].split(")")[0];c=new Function(u,i.substring(i.indexOf("{")+1,i.length-1))}else try{c=(0,eval)(n+i+"}")}catch{}return c}var wN={},sCr=e=>Object.assign(wN,e);function oCr(e,r){let t={_id:e._id?e._id:`algorithm${Math.floor(Math.random()*1e15)}`,ondata:e.ondata,run:n=>t.ondata(t,n)};return e.structs&&ON(t,JSON.parse(JSON.stringify(e.structs))),r&&ON(t,JSON.parse(JSON.stringify(r))),e.oncreate&&(t.oncreate=e.oncreate),t.oncreate&&t.oncreate(t),t}var ON=(e,r)=>{for(let t in r)typeof r[t]=="object"&&!Array.isArray(r[t])?typeof e[t]=="object"&&!Array.isArray(e[t])?ON(e[t],r[t]):e[t]=ON({},r[t]):e[t]=r[t];return e},cCr={...J2r,loadAlgorithms:sCr,initSubprocesses:async function(r,t){if(t||(t=this.__node.graph),!!t){for(let n in r){let i=r[n];if(!i.worker&&i.url&&(i.worker=t.addWorker({url:i.url})),!i.worker)continue;let c=i.worker,u;if(u=t.establishMessageChannel(c.worker,i.source?.worker),i.source||(i.source=t),typeof i.subprocess=="object"){let a=i.subprocess;if(!a.name)continue;typeof a.oncreate=="function"&&(a.oncreate=a.oncreate.toString()),typeof a.ondata=="function"&&(a.ondata=a.ondata.toString()),i.worker.post("addSubprocessTemplate",[a.name,a.structs,a.oncreate,a.ondata,a.props]),i.subprocess=a.name}if(i.init){let a=await c.run(i.init,i.initArgs);i.otherArgs=a}if(i.otherArgs&&c.run("setValue",["otherArgsProxy",Array.isArray(i.otherArgs)?i.otherArgs:[i.otherArgs]]),i.pipeTo){if(c.run("setValue",["routeProxy",i.route]),c.run("setValue",["pipeRoute",i.pipeTo.route]),i.url&&!i.pipeTo.worker){let a=t.addWorker({url:i.url});i.pipeTo.portId=t.establishMessageChannel(c.worker,a.worker),i.pipeTo.worker=a}i.pipeTo.init&&(i.pipeTo.otherArgs=await i.pipeTo.worker.run(i.pipeTo.init,i.pipeTo.initArgs)),c.run("setValue",["pipePort",i.pipeTo.portId]),i.pipeTo.otherArgs&&c.run("setValue",["otherPipeArgs",i.pipeTo.otherArgs]),t.transferFunction(c,function(s){let o=s;this.__node.graph.otherArgsProxy&&(o=[s,...this.__node.graph.otherArgsProxy]);let l=this.__node.graph.run(this.__node.graph.routeProxy,o);if(!i.blocking)return new Promise(d=>{if(l instanceof Promise)l.then(p=>{if(p!==void 0){let f=p;this.__node.graph.otherPipeArgs&&(f=[p,...this.__node.graph.otherPipeArgs]),this.workers[this.__node.graph.pipePort]&&(i.blocking=!0,this.workers[this.__node.graph.pipePort].run(this.__node.graph.pipeRoute,f).then(v=>{i.blocking=!1,d(v)}))}});else if(l!==void 0){let p=l;this.__node.graph.otherPipeArgs&&(p=[l,...this.__node.graph.otherPipeArgs]),this.workers[this.__node.graph.pipePort]&&(i.blocking=!0,this.workers[this.__node.graph.pipePort].run(this.__node.graph.pipeRoute,p).then(f=>{i.blocking=!1,d(f)}))}})},i.route+"_pipeResults"),i.route=i.route+"_pipeResults"}else c.run("setValue",["routeProxy",i.route]),t.transferFunction(c,function(s){let o;return this.__node.graph.otherArgsProxy?o=this.__node.graph.nodes.get(this.__node.graph.routeProxy).__operator(s,...this.__node.graph.otherArgsProxy):o=this.__node.graph.nodes.get(this.__node.graph.routeProxy).__operator(s),this.__node.graph.state.triggers[this.__node.graph.routeProxy]&&(o instanceof Promise?o.then(l=>{this.setState({[this.__node.graph.routeProxy]:l})}):this.setState({[this.__node.graph.routeProxy]:o})),o},i.route+"_routeProxy"),i.route=i.route+"_routeProxy",i.stopped||c.run("subscribeToWorker",[i.subscribeRoute,u,i.route]).then(a=>{i.sub=a});i.stop=async()=>{if(i.source&&typeof i.sub=="number")return i.source.unsubscribe(i.subscribeRoute,i.sub),!0},i.start=async()=>{if(typeof i.sub!="number")return c.run("subscribeToWorker",[i.subscribeRoute,u,i.route,i.blocking]).then(a=>{i.sub=a})},i.setArgs=async a=>{if(Array.isArray(a))await c.run("setValue",["otherArgsProxy",a]);else if(typeof a=="object")for(let s in a)await c.run("setValue",[s,a[s]]);return!0},i.terminate=()=>{c.terminate(),i.source?.worker&&typeof i.sub=="number"&&i.source.post("unsubscribe",i.sub),i.pipeTo?.worker&&i.pipeTo.worker.terminate()},i.callback&&c.subscribe(i.route,a=>{typeof i.callback=="string"?this.__node.graph.run(i.callback,a):i.callback(a)})}return r}},addSubprocessTemplate:function(r,t,n,i,c){if(typeof n=="string"&&(n=Ni(n)),typeof i=="string"&&(i=Ni(i)),typeof i=="function")return wN[r]={ondata:i,oncreate:typeof n=="function"?n:null,structs:t},typeof c=="object"&&Object.assign(wN[r],c),!0},updateSubprocess:function(r,t){this.__node.graph.ALGORITHMS||(this.__node.graph.ALGORITHMS={}),t||(t=Object.keys(this.__node.graph.ALGORITHMS)[0]),t&&Object.assign(this.__node.graph.ALGORITHMS[t],r)},createSubprocess:function(r,t){if(this.__node.graph.ALGORITHMS||(this.__node.graph.ALGORITHMS={}),typeof r=="string"&&(r=wN[r]),typeof r=="object"){typeof r.ondata=="string"&&(r.ondata=Ni(r.ondata));let n;if(typeof r?.ondata=="function"&&(n=oCr(r,t)),n&&(this.__node.graph.ALGORITHMS[n._id]=n),console.log(n,r),n)return n._id}return!1},runSubprocess:function(r,t){if(this.__node.graph.ALGORITHMS||(this.__node.graph.ALGORITHMS={}),t||(t=Object.keys(this.__node.graph.ALGORITHMS)[0]),!t)return;let n=this.__node.graph.ALGORITHMS[t].run(r);if(n!==void 0)if(Array.isArray(n)){let i=[];if(n.forEach(c=>{c!==void 0&&(i.push(c),this.__node.graph.setState({[t]:c}))}),i.length>0)return i}else return this.__node.graph.setState({[t]:n}),n}},uCr=URL.createObjectURL(new Blob([String('(()=>{var __create=Object.create;var __defProp=Object.defineProperty;var __getOwnPropDesc=Object.getOwnPropertyDescriptor;var __getOwnPropNames=Object.getOwnPropertyNames;var __getProtoOf=Object.getPrototypeOf;var __hasOwnProp=Object.prototype.hasOwnProperty;var __require=(x=>typeof require!=="undefined"?require:typeof Proxy!=="undefined"?new Proxy(x,{get:(a,b)=>(typeof require!=="undefined"?require:a)[b]}):x)(function(x){if(typeof require!=="undefined")return require.apply(this,arguments);throw new Error(\'Dynamic require of "\'+x+\'" is not supported\')});var __commonJS=(cb,mod)=>function __require2(){return mod||(0,cb[__getOwnPropNames(cb)[0]])((mod={exports:{}}).exports,mod),mod.exports};var __copyProps=(to,from,except,desc)=>{if(from&&typeof from==="object"||typeof from==="function"){for(let key of __getOwnPropNames(from))if(!__hasOwnProp.call(to,key)&&key!==except)__defProp(to,key,{get:()=>from[key],enumerable:!(desc=__getOwnPropDesc(from,key))||desc.enumerable})}return to};var __toESM=(mod,isNodeMode,target)=>(target=mod!=null?__create(__getProtoOf(mod)):{},__copyProps(isNodeMode||!mod||!mod.__esModule?__defProp(target,"default",{value:mod,enumerable:true}):target,mod));var require_sjcl=__commonJS({"../../graphscript/services/e2ee/sjcl.js"(exports,module){"use strict";var sjcl2={cipher:{},hash:{},keyexchange:{},mode:{},misc:{},codec:{},exception:{corrupt:function(a){this.toString=function(){return"CORRUPT: "+this.message};this.message=a},invalid:function(a){this.toString=function(){return"INVALID: "+this.message};this.message=a},bug:function(a){this.toString=function(){return"BUG: "+this.message};this.message=a},notReady:function(a){this.toString=function(){return"NOT READY: "+this.message};this.message=a}}};sjcl2.cipher.aes=function(a){this.s[0][0][0]||this.O();var b,c,d,e,f=this.s[0][4],g=this.s[1];b=a.length;var h=1;if(4!==b&&6!==b&&8!==b)throw new sjcl2.exception.invalid("invalid aes key size");this.b=[d=a.slice(0),e=[]];for(a=b;a<4*b+28;a++){c=d[a-1];if(0===a%b||8===b&&4===a%b)c=f[c>>>24]<<24^f[c>>16&255]<<16^f[c>>8&255]<<8^f[c&255],0===a%b&&(c=c<<8^c>>>24^h<<24,h=h<<1^283*(h>>7));d[a]=d[a-b]^c}for(b=0;a;b++,a--)c=d[b&3?a:a-4],e[b]=4>=a||4>b?c:g[0][f[c>>>24]]^g[1][f[c>>16&255]]^g[2][f[c>>8&255]]^g[3][f[c&255]]};sjcl2.cipher.aes.prototype={encrypt:function(a){return t(this,a,0)},decrypt:function(a){return t(this,a,1)},s:[[[],[],[],[],[]],[[],[],[],[],[]]],O:function(){var a=this.s[0],b=this.s[1],c=a[4],d=b[4],e,f,g,h=[],k=[],l,n,m,p;for(e=0;256>e;e++)k[(h[e]=e<<1^283*(e>>7))^e]=e;for(f=g=0;!c[f];f^=l||1,g=k[g]||1)for(m=g^g<<1^g<<2^g<<3^g<<4,m=m>>8^m&255^99,c[f]=m,d[m]=f,n=h[e=h[l=h[f]]],p=16843009*n^65537*e^257*l^16843008*f,n=257*h[m]^16843008*m,e=0;4>e;e++)a[e][f]=n=n<<24^n>>>8,b[e][m]=p=p<<24^p>>>8;for(e=0;5>e;e++)a[e]=a[e].slice(0),b[e]=b[e].slice(0)}};function t(a,b,c){if(4!==b.length)throw new sjcl2.exception.invalid("invalid aes block size");var d=a.b[c],e=b[0]^d[0],f=b[c?3:1]^d[1],g=b[2]^d[2];b=b[c?1:3]^d[3];var h,k,l,n=d.length/4-2,m,p=4,r=[0,0,0,0];h=a.s[c];a=h[0];var q=h[1],v=h[2],w=h[3],x=h[4];for(m=0;m<n;m++)h=a[e>>>24]^q[f>>16&255]^v[g>>8&255]^w[b&255]^d[p],k=a[f>>>24]^q[g>>16&255]^v[b>>8&255]^w[e&255]^d[p+1],l=a[g>>>24]^q[b>>16&255]^v[e>>8&255]^w[f&255]^d[p+2],b=a[b>>>24]^q[e>>16&255]^v[f>>8&255]^w[g&255]^d[p+3],p+=4,e=h,f=k,g=l;for(m=0;4>m;m++)r[c?3&-m:m]=x[e>>>24]<<24^x[f>>16&255]<<16^x[g>>8&255]<<8^x[b&255]^d[p++],h=e,e=f,f=g,g=b,b=h;return r}sjcl2.bitArray={bitSlice:function(a,b,c){a=sjcl2.bitArray.$(a.slice(b/32),32-(b&31)).slice(1);return void 0===c?a:sjcl2.bitArray.clamp(a,c-b)},extract:function(a,b,c){var d=Math.floor(-b-c&31);return((b+c-1^b)&-32?a[b/32|0]<<32-d^a[b/32+1|0]>>>d:a[b/32|0]>>>d)&(1<<c)-1},concat:function(a,b){if(0===a.length||0===b.length)return a.concat(b);var c=a[a.length-1],d=sjcl2.bitArray.getPartial(c);return 32===d?a.concat(b):sjcl2.bitArray.$(b,d,c|0,a.slice(0,a.length-1))},bitLength:function(a){var b=a.length;return 0===b?0:32*(b-1)+sjcl2.bitArray.getPartial(a[b-1])},clamp:function(a,b){if(32*a.length<b)return a;a=a.slice(0,Math.ceil(b/32));var c=a.length;b=b&31;0<c&&b&&(a[c-1]=sjcl2.bitArray.partial(b,a[c-1]&2147483648>>b-1,1));return a},partial:function(a,b,c){return 32===a?b:(c?b|0:b<<32-a)+1099511627776*a},getPartial:function(a){return Math.round(a/1099511627776)||32},equal:function(a,b){if(sjcl2.bitArray.bitLength(a)!==sjcl2.bitArray.bitLength(b))return false;var c=0,d;for(d=0;d<a.length;d++)c|=a[d]^b[d];return 0===c},$:function(a,b,c,d){var e;e=0;for(void 0===d&&(d=[]);32<=b;b-=32)d.push(c),c=0;if(0===b)return d.concat(a);for(e=0;e<a.length;e++)d.push(c|a[e]>>>b),c=a[e]<<32-b;e=a.length?a[a.length-1]:0;a=sjcl2.bitArray.getPartial(e);d.push(sjcl2.bitArray.partial(b+a&31,32<b+a?c:d.pop(),1));return d},i:function(a,b){return[a[0]^b[0],a[1]^b[1],a[2]^b[2],a[3]^b[3]]},byteswapM:function(a){var b,c;for(b=0;b<a.length;++b)c=a[b],a[b]=c>>>24|c>>>8&65280|(c&65280)<<8|c<<24;return a}};sjcl2.codec.utf8String={fromBits:function(a){var b="",c=sjcl2.bitArray.bitLength(a),d,e;for(d=0;d<c/8;d++)0===(d&3)&&(e=a[d/4]),b+=String.fromCharCode(e>>>8>>>8>>>8),e<<=8;return decodeURIComponent(escape(b))},toBits:function(a){a=unescape(encodeURIComponent(a));var b=[],c,d=0;for(c=0;c<a.length;c++)d=d<<8|a.charCodeAt(c),3===(c&3)&&(b.push(d),d=0);c&3&&b.push(sjcl2.bitArray.partial(8*(c&3),d));return b}};sjcl2.codec.hex={fromBits:function(a){var b="",c;for(c=0;c<a.length;c++)b+=((a[c]|0)+0xf00000000000).toString(16).substr(4);return b.substr(0,sjcl2.bitArray.bitLength(a)/4)},toBits:function(a){var b,c=[],d;a=a.replace(/\\s|0x/g,"");d=a.length;a=a+"00000000";for(b=0;b<a.length;b+=8)c.push(parseInt(a.substr(b,8),16)^0);return sjcl2.bitArray.clamp(c,4*d)}};sjcl2.codec.base32={B:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",X:"0123456789ABCDEFGHIJKLMNOPQRSTUV",BITS:32,BASE:5,REMAINING:27,fromBits:function(a,b,c){var d=sjcl2.codec.base32.BASE,e=sjcl2.codec.base32.REMAINING,f="",g=0,h=sjcl2.codec.base32.B,k=0,l=sjcl2.bitArray.bitLength(a);c&&(h=sjcl2.codec.base32.X);for(c=0;f.length*d<l;)f+=h.charAt((k^a[c]>>>g)>>>e),g<d?(k=a[c]<<d-g,g+=e,c++):(k<<=d,g-=d);for(;f.length&7&&!b;)f+="=";return f},toBits:function(a,b){a=a.replace(/\\s|=/g,"").toUpperCase();var c=sjcl2.codec.base32.BITS,d=sjcl2.codec.base32.BASE,e=sjcl2.codec.base32.REMAINING,f=[],g,h=0,k=sjcl2.codec.base32.B,l=0,n,m="base32";b&&(k=sjcl2.codec.base32.X,m="base32hex");for(g=0;g<a.length;g++){n=k.indexOf(a.charAt(g));if(0>n){if(!b)try{return sjcl2.codec.base32hex.toBits(a)}catch(p){}throw new sjcl2.exception.invalid("this isn\'t "+m+"!")}h>e?(h-=e,f.push(l^n>>>h),l=n<<c-h):(h+=d,l^=n<<c-h)}h&56&&f.push(sjcl2.bitArray.partial(h&56,l,1));return f}};sjcl2.codec.base32hex={fromBits:function(a,b){return sjcl2.codec.base32.fromBits(a,b,1)},toBits:function(a){return sjcl2.codec.base32.toBits(a,1)}};sjcl2.codec.base64={B:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",fromBits:function(a,b,c){var d="",e=0,f=sjcl2.codec.base64.B,g=0,h=sjcl2.bitArray.bitLength(a);c&&(f=f.substr(0,62)+"-_");for(c=0;6*d.length<h;)d+=f.charAt((g^a[c]>>>e)>>>26),6>e?(g=a[c]<<6-e,e+=26,c++):(g<<=6,e-=6);for(;d.length&3&&!b;)d+="=";return d},toBits:function(a,b){a=a.replace(/\\s|=/g,"");var c=[],d,e=0,f=sjcl2.codec.base64.B,g=0,h;b&&(f=f.substr(0,62)+"-_");for(d=0;d<a.length;d++){h=f.indexOf(a.charAt(d));if(0>h)throw new sjcl2.exception.invalid("this isn\'t base64!");26<e?(e-=26,c.push(g^h>>>e),g=h<<32-e):(e+=6,g^=h<<32-e)}e&56&&c.push(sjcl2.bitArray.partial(e&56,g,1));return c}};sjcl2.codec.base64url={fromBits:function(a){return sjcl2.codec.base64.fromBits(a,1,1)},toBits:function(a){return sjcl2.codec.base64.toBits(a,1)}};sjcl2.hash.sha256=function(a){this.b[0]||this.O();a?(this.F=a.F.slice(0),this.A=a.A.slice(0),this.l=a.l):this.reset()};sjcl2.hash.sha256.hash=function(a){return new sjcl2.hash.sha256().update(a).finalize()};sjcl2.hash.sha256.prototype={blockSize:512,reset:function(){this.F=this.Y.slice(0);this.A=[];this.l=0;return this},update:function(a){"string"===typeof a&&(a=sjcl2.codec.utf8String.toBits(a));var b,c=this.A=sjcl2.bitArray.concat(this.A,a);b=this.l;a=this.l=b+sjcl2.bitArray.bitLength(a);if(9007199254740991<a)throw new sjcl2.exception.invalid("Cannot hash more than 2^53 - 1 bits");if("undefined"!==typeof Uint32Array){var d=new Uint32Array(c),e=0;for(b=512+b-(512+b&511);b<=a;b+=512)u(this,d.subarray(16*e,16*(e+1))),e+=1;c.splice(0,16*e)}else for(b=512+b-(512+b&511);b<=a;b+=512)u(this,c.splice(0,16));return this},finalize:function(){var a,b=this.A,c=this.F,b=sjcl2.bitArray.concat(b,[sjcl2.bitArray.partial(1,1)]);for(a=b.length+2;a&15;a++)b.push(0);b.push(Math.floor(this.l/4294967296));for(b.push(this.l|0);b.length;)u(this,b.splice(0,16));this.reset();return c},Y:[],b:[],O:function(){function a(a2){return 4294967296*(a2-Math.floor(a2))|0}for(var b=0,c=2,d,e;64>b;c++){e=true;for(d=2;d*d<=c;d++)if(0===c%d){e=false;break}e&&(8>b&&(this.Y[b]=a(Math.pow(c,.5))),this.b[b]=a(Math.pow(c,1/3)),b++)}}};function u(a,b){var c,d,e,f=a.F,g=a.b,h=f[0],k=f[1],l=f[2],n=f[3],m=f[4],p=f[5],r=f[6],q=f[7];for(c=0;64>c;c++)16>c?d=b[c]:(d=b[c+1&15],e=b[c+14&15],d=b[c&15]=(d>>>7^d>>>18^d>>>3^d<<25^d<<14)+(e>>>17^e>>>19^e>>>10^e<<15^e<<13)+b[c&15]+b[c+9&15]|0),d=d+q+(m>>>6^m>>>11^m>>>25^m<<26^m<<21^m<<7)+(r^m&(p^r))+g[c],q=r,r=p,p=m,m=n+d|0,n=l,l=k,k=h,h=d+(k&l^n&(k^l))+(k>>>2^k>>>13^k>>>22^k<<30^k<<19^k<<10)|0;f[0]=f[0]+h|0;f[1]=f[1]+k|0;f[2]=f[2]+l|0;f[3]=f[3]+n|0;f[4]=f[4]+m|0;f[5]=f[5]+p|0;f[6]=f[6]+r|0;f[7]=f[7]+q|0}sjcl2.mode.ccm={name:"ccm",G:[],listenProgress:function(a){sjcl2.mode.ccm.G.push(a)},unListenProgress:function(a){a=sjcl2.mode.ccm.G.indexOf(a);-1<a&&sjcl2.mode.ccm.G.splice(a,1)},fa:function(a){var b=sjcl2.mode.ccm.G.slice(),c;for(c=0;c<b.length;c+=1)b[c](a)},encrypt:function(a,b,c,d,e){var f,g=b.slice(0),h=sjcl2.bitArray,k=h.bitLength(c)/8,l=h.bitLength(g)/8;e=e||64;d=d||[];if(7>k)throw new sjcl2.exception.invalid("ccm: iv must be at least 7 bytes");for(f=2;4>f&&l>>>8*f;f++);f<15-k&&(f=15-k);c=h.clamp(c,8*(15-f));b=sjcl2.mode.ccm.V(a,b,c,d,e,f);g=sjcl2.mode.ccm.C(a,g,c,b,e,f);return h.concat(g.data,g.tag)},decrypt:function(a,b,c,d,e){e=e||64;d=d||[];var f=sjcl2.bitArray,g=f.bitLength(c)/8,h=f.bitLength(b),k=f.clamp(b,h-e),l=f.bitSlice(b,h-e),h=(h-e)/8;if(7>g)throw new sjcl2.exception.invalid("ccm: iv must be at least 7 bytes");for(b=2;4>b&&h>>>8*b;b++);b<15-g&&(b=15-g);c=f.clamp(c,8*(15-b));k=sjcl2.mode.ccm.C(a,k,c,l,e,b);a=sjcl2.mode.ccm.V(a,k.data,c,d,e,b);if(!f.equal(k.tag,a))throw new sjcl2.exception.corrupt("ccm: tag doesn\'t match");return k.data},na:function(a,b,c,d,e,f){var g=[],h=sjcl2.bitArray,k=h.i;d=[h.partial(8,(b.length?64:0)|d-2<<2|f-1)];d=h.concat(d,c);d[3]|=e;d=a.encrypt(d);if(b.length)for(c=h.bitLength(b)/8,65279>=c?g=[h.partial(16,c)]:4294967295>=c&&(g=h.concat([h.partial(16,65534)],[c])),g=h.concat(g,b),b=0;b<g.length;b+=4)d=a.encrypt(k(d,g.slice(b,b+4).concat([0,0,0])));return d},V:function(a,b,c,d,e,f){var g=sjcl2.bitArray,h=g.i;e/=8;if(e%2||4>e||16<e)throw new sjcl2.exception.invalid("ccm: invalid tag length");if(4294967295<d.length||4294967295<b.length)throw new sjcl2.exception.bug("ccm: can\'t deal with 4GiB or more data");c=sjcl2.mode.ccm.na(a,d,c,e,g.bitLength(b)/8,f);for(d=0;d<b.length;d+=4)c=a.encrypt(h(c,b.slice(d,d+4).concat([0,0,0])));return g.clamp(c,8*e)},C:function(a,b,c,d,e,f){var g,h=sjcl2.bitArray;g=h.i;var k=b.length,l=h.bitLength(b),n=k/50,m=n;c=h.concat([h.partial(8,f-1)],c).concat([0,0,0]).slice(0,4);d=h.bitSlice(g(d,a.encrypt(c)),0,e);if(!k)return{tag:d,data:[]};for(g=0;g<k;g+=4)g>n&&(sjcl2.mode.ccm.fa(g/k),n+=m),c[3]++,e=a.encrypt(c),b[g]^=e[0],b[g+1]^=e[1],b[g+2]^=e[2],b[g+3]^=e[3];return{tag:d,data:h.clamp(b,l)}}};sjcl2.mode.ocb2={name:"ocb2",encrypt:function(a,b,c,d,e,f){if(128!==sjcl2.bitArray.bitLength(c))throw new sjcl2.exception.invalid("ocb iv must be 128 bits");var g,h=sjcl2.mode.ocb2.S,k=sjcl2.bitArray,l=k.i,n=[0,0,0,0];c=h(a.encrypt(c));var m,p=[];d=d||[];e=e||64;for(g=0;g+4<b.length;g+=4)m=b.slice(g,g+4),n=l(n,m),p=p.concat(l(c,a.encrypt(l(c,m)))),c=h(c);m=b.slice(g);b=k.bitLength(m);g=a.encrypt(l(c,[0,0,0,b]));m=k.clamp(l(m.concat([0,0,0]),g),b);n=l(n,l(m.concat([0,0,0]),g));n=a.encrypt(l(n,l(c,h(c))));d.length&&(n=l(n,f?d:sjcl2.mode.ocb2.pmac(a,d)));return p.concat(k.concat(m,k.clamp(n,e)))},decrypt:function(a,b,c,d,e,f){if(128!==sjcl2.bitArray.bitLength(c))throw new sjcl2.exception.invalid("ocb iv must be 128 bits");e=e||64;var g=sjcl2.mode.ocb2.S,h=sjcl2.bitArray,k=h.i,l=[0,0,0,0],n=g(a.encrypt(c)),m,p,r=sjcl2.bitArray.bitLength(b)-e,q=[];d=d||[];for(c=0;c+4<r/32;c+=4)m=k(n,a.decrypt(k(n,b.slice(c,c+4)))),l=k(l,m),q=q.concat(m),n=g(n);p=r-32*c;m=a.encrypt(k(n,[0,0,0,p]));m=k(m,h.clamp(b.slice(c),p).concat([0,0,0]));l=k(l,m);l=a.encrypt(k(l,k(n,g(n))));d.length&&(l=k(l,f?d:sjcl2.mode.ocb2.pmac(a,d)));if(!h.equal(h.clamp(l,e),h.bitSlice(b,r)))throw new sjcl2.exception.corrupt("ocb: tag doesn\'t match");return q.concat(h.clamp(m,p))},pmac:function(a,b){var c,d=sjcl2.mode.ocb2.S,e=sjcl2.bitArray,f=e.i,g=[0,0,0,0],h=a.encrypt([0,0,0,0]),h=f(h,d(d(h)));for(c=0;c+4<b.length;c+=4)h=d(h),g=f(g,a.encrypt(f(h,b.slice(c,c+4))));c=b.slice(c);128>e.bitLength(c)&&(h=f(h,d(h)),c=e.concat(c,[-2147483648,0,0,0]));g=f(g,c);return a.encrypt(f(d(f(h,d(h))),g))},S:function(a){return[a[0]<<1^a[1]>>>31,a[1]<<1^a[2]>>>31,a[2]<<1^a[3]>>>31,a[3]<<1^135*(a[0]>>>31)]}};sjcl2.mode.gcm={name:"gcm",encrypt:function(a,b,c,d,e){var f=b.slice(0);b=sjcl2.bitArray;d=d||[];a=sjcl2.mode.gcm.C(true,a,f,d,c,e||128);return b.concat(a.data,a.tag)},decrypt:function(a,b,c,d,e){var f=b.slice(0),g=sjcl2.bitArray,h=g.bitLength(f);e=e||128;d=d||[];e<=h?(b=g.bitSlice(f,h-e),f=g.bitSlice(f,0,h-e)):(b=f,f=[]);a=sjcl2.mode.gcm.C(false,a,f,d,c,e);if(!g.equal(a.tag,b))throw new sjcl2.exception.corrupt("gcm: tag doesn\'t match");return a.data},ka:function(a,b){var c,d,e,f,g,h=sjcl2.bitArray.i;e=[0,0,0,0];f=b.slice(0);for(c=0;128>c;c++){(d=0!==(a[Math.floor(c/32)]&1<<31-c%32))&&(e=h(e,f));g=0!==(f[3]&1);for(d=3;0<d;d--)f[d]=f[d]>>>1|(f[d-1]&1)<<31;f[0]>>>=1;g&&(f[0]^=-520093696)}return e},j:function(a,b,c){var d,e=c.length;b=b.slice(0);for(d=0;d<e;d+=4)b[0]^=4294967295&c[d],b[1]^=4294967295&c[d+1],b[2]^=4294967295&c[d+2],b[3]^=4294967295&c[d+3],b=sjcl2.mode.gcm.ka(b,a);return b},C:function(a,b,c,d,e,f){var g,h,k,l,n,m,p,r,q=sjcl2.bitArray;m=c.length;p=q.bitLength(c);r=q.bitLength(d);h=q.bitLength(e);g=b.encrypt([0,0,0,0]);96===h?(e=e.slice(0),e=q.concat(e,[1])):(e=sjcl2.mode.gcm.j(g,[0,0,0,0],e),e=sjcl2.mode.gcm.j(g,e,[0,0,Math.floor(h/4294967296),h&4294967295]));h=sjcl2.mode.gcm.j(g,[0,0,0,0],d);n=e.slice(0);d=h.slice(0);a||(d=sjcl2.mode.gcm.j(g,h,c));for(l=0;l<m;l+=4)n[3]++,k=b.encrypt(n),c[l]^=k[0],c[l+1]^=k[1],c[l+2]^=k[2],c[l+3]^=k[3];c=q.clamp(c,p);a&&(d=sjcl2.mode.gcm.j(g,h,c));a=[Math.floor(r/4294967296),r&4294967295,Math.floor(p/4294967296),p&4294967295];d=sjcl2.mode.gcm.j(g,d,a);k=b.encrypt(e);d[0]^=k[0];d[1]^=k[1];d[2]^=k[2];d[3]^=k[3];return{tag:q.bitSlice(d,0,f),data:c}}};sjcl2.misc.hmac=function(a,b){this.W=b=b||sjcl2.hash.sha256;var c=[[],[]],d,e=b.prototype.blockSize/32;this.w=[new b,new b];a.length>e&&(a=b.hash(a));for(d=0;d<e;d++)c[0][d]=a[d]^909522486,c[1][d]=a[d]^1549556828;this.w[0].update(c[0]);this.w[1].update(c[1]);this.R=new b(this.w[0])};sjcl2.misc.hmac.prototype.encrypt=sjcl2.misc.hmac.prototype.mac=function(a){if(this.aa)throw new sjcl2.exception.invalid("encrypt on already updated hmac called!");this.update(a);return this.digest(a)};sjcl2.misc.hmac.prototype.reset=function(){this.R=new this.W(this.w[0]);this.aa=false};sjcl2.misc.hmac.prototype.update=function(a){this.aa=true;this.R.update(a)};sjcl2.misc.hmac.prototype.digest=function(){var a=this.R.finalize(),a=new this.W(this.w[1]).update(a).finalize();this.reset();return a};sjcl2.misc.pbkdf2=function(a,b,c,d,e){c=c||1e4;if(0>d||0>c)throw new sjcl2.exception.invalid("invalid params to pbkdf2");"string"===typeof a&&(a=sjcl2.codec.utf8String.toBits(a));"string"===typeof b&&(b=sjcl2.codec.utf8String.toBits(b));e=e||sjcl2.misc.hmac;a=new e(a);var f,g,h,k,l=[],n=sjcl2.bitArray;for(k=1;32*l.length<(d||1);k++){e=f=a.encrypt(n.concat(b,[k]));for(g=1;g<c;g++)for(f=a.encrypt(f),h=0;h<f.length;h++)e[h]^=f[h];l=l.concat(e)}d&&(l=n.clamp(l,d));return l};sjcl2.prng=function(a){this.c=[new sjcl2.hash.sha256];this.m=[0];this.P=0;this.H={};this.N=0;this.U={};this.Z=this.f=this.o=this.ha=0;this.b=[0,0,0,0,0,0,0,0];this.h=[0,0,0,0];this.L=void 0;this.M=a;this.D=false;this.K={progress:{},seeded:{}};this.u=this.ga=0;this.I=1;this.J=2;this.ca=65536;this.T=[0,48,64,96,128,192,256,384,512,768,1024];this.da=3e4;this.ba=80};sjcl2.prng.prototype={randomWords:function(a,b){var c=[],d;d=this.isReady(b);var e;if(d===this.u)throw new sjcl2.exception.notReady("generator isn\'t seeded");if(d&this.J){d=!(d&this.I);e=[];var f=0,g;this.Z=e[0]=new Date().valueOf()+this.da;for(g=0;16>g;g++)e.push(4294967296*Math.random()|0);for(g=0;g<this.c.length&&(e=e.concat(this.c[g].finalize()),f+=this.m[g],this.m[g]=0,d||!(this.P&1<<g));g++);this.P>=1<<this.c.length&&(this.c.push(new sjcl2.hash.sha256),this.m.push(0));this.f-=f;f>this.o&&(this.o=f);this.P++;this.b=sjcl2.hash.sha256.hash(this.b.concat(e));this.L=new sjcl2.cipher.aes(this.b);for(d=0;4>d&&(this.h[d]=this.h[d]+1|0,!this.h[d]);d++);}for(d=0;d<a;d+=4)0===(d+1)%this.ca&&y(this),e=z(this),c.push(e[0],e[1],e[2],e[3]);y(this);return c.slice(0,a)},setDefaultParanoia:function(a,b){if(0===a&&"Setting paranoia=0 will ruin your security; use it only for testing"!==b)throw new sjcl2.exception.invalid("Setting paranoia=0 will ruin your security; use it only for testing");this.M=a},addEntropy:function(a,b,c){c=c||"user";var d,e,f=new Date().valueOf(),g=this.H[c],h=this.isReady(),k=0;d=this.U[c];void 0===d&&(d=this.U[c]=this.ha++);void 0===g&&(g=this.H[c]=0);this.H[c]=(this.H[c]+1)%this.c.length;switch(typeof a){case"number":void 0===b&&(b=1);this.c[g].update([d,this.N++,1,b,f,1,a|0]);break;case"object":c=Object.prototype.toString.call(a);if("[object Uint32Array]"===c){e=[];for(c=0;c<a.length;c++)e.push(a[c]);a=e}else for("[object Array]"!==c&&(k=1),c=0;c<a.length&&!k;c++)"number"!==typeof a[c]&&(k=1);if(!k){if(void 0===b)for(c=b=0;c<a.length;c++)for(e=a[c];0<e;)b++,e=e>>>1;this.c[g].update([d,this.N++,2,b,f,a.length].concat(a))}break;case"string":void 0===b&&(b=a.length);this.c[g].update([d,this.N++,3,b,f,a.length]);this.c[g].update(a);break;default:k=1}if(k)throw new sjcl2.exception.bug("random: addEntropy only supports number, array of numbers or string");this.m[g]+=b;this.f+=b;h===this.u&&(this.isReady()!==this.u&&A("seeded",Math.max(this.o,this.f)),A("progress",this.getProgress()))},isReady:function(a){a=this.T[void 0!==a?a:this.M];return this.o&&this.o>=a?this.m[0]>this.ba&&new Date().valueOf()>this.Z?this.J|this.I:this.I:this.f>=a?this.J|this.u:this.u},getProgress:function(a){a=this.T[a?a:this.M];return this.o>=a?1:this.f>a?1:this.f/a},startCollectors:function(){if(!this.D){this.a={loadTimeCollector:B(this,this.ma),mouseCollector:B(this,this.oa),keyboardCollector:B(this,this.la),accelerometerCollector:B(this,this.ea),touchCollector:B(this,this.qa)};if(window.addEventListener)window.addEventListener("load",this.a.loadTimeCollector,false),window.addEventListener("mousemove",this.a.mouseCollector,false),window.addEventListener("keypress",this.a.keyboardCollector,false),window.addEventListener("devicemotion",this.a.accelerometerCollector,false),window.addEventListener("touchmove",this.a.touchCollector,false);else if(document.attachEvent)document.attachEvent("onload",this.a.loadTimeCollector),document.attachEvent("onmousemove",this.a.mouseCollector),document.attachEvent("keypress",this.a.keyboardCollector);else throw new sjcl2.exception.bug("can\'t attach event");this.D=true}},stopCollectors:function(){this.D&&(window.removeEventListener?(window.removeEventListener("load",this.a.loadTimeCollector,false),window.removeEventListener("mousemove",this.a.mouseCollector,false),window.removeEventListener("keypress",this.a.keyboardCollector,false),window.removeEventListener("devicemotion",this.a.accelerometerCollector,false),window.removeEventListener("touchmove",this.a.touchCollector,false)):document.detachEvent&&(document.detachEvent("onload",this.a.loadTimeCollector),document.detachEvent("onmousemove",this.a.mouseCollector),document.detachEvent("keypress",this.a.keyboardCollector)),this.D=false)},addEventListener:function(a,b){this.K[a][this.ga++]=b},removeEventListener:function(a,b){var c,d,e=this.K[a],f=[];for(d in e)e.hasOwnProperty(d)&&e[d]===b&&f.push(d);for(c=0;c<f.length;c++)d=f[c],delete e[d]},la:function(){C(this,1)},oa:function(a){var b,c;try{b=a.x||a.clientX||a.offsetX||0,c=a.y||a.clientY||a.offsetY||0}catch(d){c=b=0}0!=b&&0!=c&&this.addEntropy([b,c],2,"mouse");C(this,0)},qa:function(a){a=a.touches[0]||a.changedTouches[0];this.addEntropy([a.pageX||a.clientX,a.pageY||a.clientY],1,"touch");C(this,0)},ma:function(){C(this,2)},ea:function(a){a=a.accelerationIncludingGravity.x||a.accelerationIncludingGravity.y||a.accelerationIncludingGravity.z;if(window.orientation){var b=window.orientation;"number"===typeof b&&this.addEntropy(b,1,"accelerometer")}a&&this.addEntropy(a,2,"accelerometer");C(this,0)}};function A(a,b){var c,d=sjcl2.random.K[a],e=[];for(c in d)d.hasOwnProperty(c)&&e.push(d[c]);for(c=0;c<e.length;c++)e[c](b)}function C(a,b){"undefined"!==typeof window&&window.performance&&"function"===typeof window.performance.now?a.addEntropy(window.performance.now(),b,"loadtime"):a.addEntropy(new Date().valueOf(),b,"loadtime")}function y(a){a.b=z(a).concat(z(a));a.L=new sjcl2.cipher.aes(a.b)}function z(a){for(var b=0;4>b&&(a.h[b]=a.h[b]+1|0,!a.h[b]);b++);return a.L.encrypt(a.h)}function B(a,b){return function(){b.apply(a,arguments)}}sjcl2.random=new sjcl2.prng(6);a:try{if(G="undefined"!==typeof module&&module.exports){try{H=__require("crypto")}catch(a){H=null}G=E=H}if(G&&E.randomBytes)D=E.randomBytes(128),D=new Uint32Array(new Uint8Array(D).buffer),sjcl2.random.addEntropy(D,1024,"crypto[\'randomBytes\']");else if("undefined"!==typeof window&&"undefined"!==typeof Uint32Array){F=new Uint32Array(32);if(window.crypto&&window.crypto.getRandomValues)window.crypto.getRandomValues(F);else if(window.msCrypto&&window.msCrypto.getRandomValues)window.msCrypto.getRandomValues(F);else break a;sjcl2.random.addEntropy(F,1024,"crypto[\'getRandomValues\']")}}catch(a){"undefined"!==typeof window&&window.console&&(console.log("There was an error collecting entropy from the browser:"),console.log(a))}var D;var E;var F;var G;var H;sjcl2.json={defaults:{v:1,iter:1e4,ks:128,ts:64,mode:"ccm",adata:"",cipher:"aes"},ja:function(a,b,c,d){c=c||{};d=d||{};var e=sjcl2.json,f=e.g({iv:sjcl2.random.randomWords(4,0)},e.defaults),g;e.g(f,c);c=f.adata;"string"===typeof f.salt&&(f.salt=sjcl2.codec.base64.toBits(f.salt));"string"===typeof f.iv&&(f.iv=sjcl2.codec.base64.toBits(f.iv));if(!sjcl2.mode[f.mode]||!sjcl2.cipher[f.cipher]||"string"===typeof a&&100>=f.iter||64!==f.ts&&96!==f.ts&&128!==f.ts||128!==f.ks&&192!==f.ks&&256!==f.ks||2>f.iv.length||4<f.iv.length)throw new sjcl2.exception.invalid("json encrypt: invalid parameters");"string"===typeof a?(g=sjcl2.misc.cachedPbkdf2(a,f),a=g.key.slice(0,f.ks/32),f.salt=g.salt):sjcl2.ecc&&a instanceof sjcl2.ecc.elGamal.publicKey&&(g=a.kem(),f.kemtag=g.tag,a=g.key.slice(0,f.ks/32));"string"===typeof b&&(b=sjcl2.codec.utf8String.toBits(b));"string"===typeof c&&(f.adata=c=sjcl2.codec.utf8String.toBits(c));g=new sjcl2.cipher[f.cipher](a);e.g(d,f);d.key=a;f.ct="ccm"===f.mode&&sjcl2.arrayBuffer&&sjcl2.arrayBuffer.ccm&&b instanceof ArrayBuffer?sjcl2.arrayBuffer.ccm.encrypt(g,b,f.iv,c,f.ts):sjcl2.mode[f.mode].encrypt(g,b,f.iv,c,f.ts);return f},encrypt:function(a,b,c,d){var e=sjcl2.json,f=e.ja.apply(e,arguments);return e.encode(f)},ia:function(a,b,c,d){c=c||{};d=d||{};var e=sjcl2.json;b=e.g(e.g(e.g({},e.defaults),b),c,true);var f,g;f=b.adata;"string"===typeof b.salt&&(b.salt=sjcl2.codec.base64.toBits(b.salt));"string"===typeof b.iv&&(b.iv=sjcl2.codec.base64.toBits(b.iv));if(!sjcl2.mode[b.mode]||!sjcl2.cipher[b.cipher]||"string"===typeof a&&100>=b.iter||64!==b.ts&&96!==b.ts&&128!==b.ts||128!==b.ks&&192!==b.ks&&256!==b.ks||!b.iv||2>b.iv.length||4<b.iv.length)throw new sjcl2.exception.invalid("json decrypt: invalid parameters");"string"===typeof a?(g=sjcl2.misc.cachedPbkdf2(a,b),a=g.key.slice(0,b.ks/32),b.salt=g.salt):sjcl2.ecc&&a instanceof sjcl2.ecc.elGamal.secretKey&&(a=a.unkem(sjcl2.codec.base64.toBits(b.kemtag)).slice(0,b.ks/32));"string"===typeof f&&(f=sjcl2.codec.utf8String.toBits(f));g=new sjcl2.cipher[b.cipher](a);f="ccm"===b.mode&&sjcl2.arrayBuffer&&sjcl2.arrayBuffer.ccm&&b.ct instanceof ArrayBuffer?sjcl2.arrayBuffer.ccm.decrypt(g,b.ct,b.iv,b.tag,f,b.ts):sjcl2.mode[b.mode].decrypt(g,b.ct,b.iv,f,b.ts);e.g(d,b);d.key=a;return 1===c.raw?f:sjcl2.codec.utf8String.fromBits(f)},decrypt:function(a,b,c,d){var e=sjcl2.json;return e.ia(a,e.decode(b),c,d)},encode:function(a){var b,c="{",d="";for(b in a)if(a.hasOwnProperty(b)){if(!b.match(/^[a-z0-9]+$/i))throw new sjcl2.exception.invalid("json encode: invalid property name");c+=d+\'"\'+b+\'":\';d=",";switch(typeof a[b]){case"number":case"boolean":c+=a[b];break;case"string":c+=\'"\'+escape(a[b])+\'"\';break;case"object":c+=\'"\'+sjcl2.codec.base64.fromBits(a[b],0)+\'"\';break;default:throw new sjcl2.exception.bug("json encode: unsupported type")}}return c+"}"},decode:function(a){a=a.replace(/\\s/g,"");if(!a.match(/^\\{.*\\}$/))throw new sjcl2.exception.invalid("json decode: this isn\'t json!");a=a.replace(/^\\{|\\}$/g,"").split(/,/);var b={},c,d;for(c=0;c<a.length;c++){if(!(d=a[c].match(/^\\s*(?:(["\']?)([a-z][a-z0-9]*)\\1)\\s*:\\s*(?:(-?\\d+)|"([a-z0-9+\\/%*_.@=\\-]*)"|(true|false))$/i)))throw new sjcl2.exception.invalid("json decode: this isn\'t json!");null!=d[3]?b[d[2]]=parseInt(d[3],10):null!=d[4]?b[d[2]]=d[2].match(/^(ct|adata|salt|iv)$/)?sjcl2.codec.base64.toBits(d[4]):unescape(d[4]):null!=d[5]&&(b[d[2]]="true"===d[5])}return b},g:function(a,b,c){void 0===a&&(a={});if(void 0===b)return a;for(var d in b)if(b.hasOwnProperty(d)){if(c&&void 0!==a[d]&&a[d]!==b[d])throw new sjcl2.exception.invalid("required parameter overridden");a[d]=b[d]}return a},sa:function(a,b){var c={},d;for(d in a)a.hasOwnProperty(d)&&a[d]!==b[d]&&(c[d]=a[d]);return c},ra:function(a,b){var c={},d;for(d=0;d<b.length;d++)void 0!==a[b[d]]&&(c[b[d]]=a[b[d]]);return c}};sjcl2.encrypt=sjcl2.json.encrypt;sjcl2.decrypt=sjcl2.json.decrypt;sjcl2.misc.pa={};sjcl2.misc.cachedPbkdf2=function(a,b){var c=sjcl2.misc.pa,d;b=b||{};d=b.iter||1e3;c=c[a]=c[a]||{};d=c[d]=c[d]||{firstSalt:b.salt&&b.salt.length?b.salt.slice(0):sjcl2.random.randomWords(2,0)};c=void 0===b.salt?d.firstSalt:b.salt;d[c]=d[c]||sjcl2.misc.pbkdf2(a,c,b.iter);return{key:d[c].slice(0),salt:c.slice(0)}};"undefined"!==typeof module&&module.exports&&(module.exports=sjcl2);"function"===typeof define&&define([],function(){return sjcl2})}});var require_browser=__commonJS({"../../graphscript/node_modules/web-worker/cjs/browser.js"(exports,module){module.exports=Worker}});var EventHandler=class{constructor(data){this.pushToState={};this.data={};this.triggers={};this.setState=updateObj=>{Object.assign(this.data,updateObj);for(const prop of Object.getOwnPropertyNames(updateObj)){if(this.triggers[prop])this.triggers[prop].forEach(obj=>obj.onchange(this.data[prop]))}return this.data};this.setValue=(key,value)=>{this.data[key]=value;if(this.triggers[key])this.triggers[key].forEach(obj=>obj.onchange(this.data[key]))};this.subscribeTrigger=(key,onchange)=>{if(key){if(!this.triggers[key]){this.triggers[key]=[]}let l=this.triggers[key].length;this.triggers[key].push({sub:l,onchange});return this.triggers[key].length-1}else return void 0};this.unsubscribeTrigger=(key,sub)=>{let triggers=this.triggers[key];if(triggers){if(!sub)delete this.triggers[key];else{let sub2=void 0;let obj=triggers.find((o,i)=>{if(o.sub===sub2){sub2=i;return true}});if(obj)triggers.splice(sub2,1);if(this.onRemoved)this.onRemoved(obj);return true}}};this.subscribeTriggerOnce=(key,onchange)=>{let sub;let changed=value=>{onchange(value);this.unsubscribeTrigger(key,sub)};sub=this.subscribeTrigger(key,changed)};this.getTrigger=(key,sub)=>{for(const s in this.triggers[key]){if(this.triggers[key][s].sub===sub)return this.triggers[key][s]}};if(typeof data==="object")this.data=data}};var state=new EventHandler;var GraphNode=class{constructor(properties,parent,graph){this.__node={tag:`node${Math.floor(Math.random()*1e15)}`,unique:`${Math.random()}`,state};this.__subscribe=(callback,key,subInput,bound,target)=>{const subscribeToFunction=(k,setTarget=(callback2,target2)=>callback2,triggerCallback=callback)=>{let sub=this.__node.state.subscribeTrigger(k,triggerCallback);let trigger=this.__node.state.getTrigger(k,sub);trigger.source=this.__node.tag;if(key)trigger.key=key;trigger.target=setTarget(callback);if(bound)trigger.bound=bound;return sub};const subscribeToGraph=callback2=>{let fn=this.__node.graph.get(callback2);if(!fn&&callback2.includes(".")){let n=this.__node.graph.get(callback2.substring(0,callback2.lastIndexOf(".")));let key2=callback2.substring(callback2.lastIndexOf(".")+1);if(n&&typeof n[key2]==="function")callback2=(...args)=>{return n[key2](...args)}}};if(key){if(!this.__node.localState){this.__addLocalState(this)}if(typeof callback==="string"){if(typeof this[callback]==="function")callback=this[callback];else if(this.__node.graph)subscribeToGraph(callback)}let sub;let k=subInput?this.__node.unique+"."+key+"input":this.__node.unique+"."+key;if(typeof callback==="function")sub=subscribeToFunction(k);else if(callback?.__node)sub=subscribeToFunction(k,(callback2,target2)=>target2?target2:callback2.__node.unique,state2=>{if(callback.__operator)callback.__operator(state2)});return sub}else{if(typeof callback==="string"){if(this.__node.graph)callback=this.__node.graph.get(callback);else callback=this.__node.graph.nodes.get(callback)}let sub;let k=subInput?this.__node.unique+"input":this.__node.unique;if(typeof callback==="function")sub=subscribeToFunction(k);else if(callback?.__node)sub=subscribeToFunction(k,(callback2,target2)=>target2?target2:callback2.__node.unique,state2=>{if(callback.__operator)callback.__operator(state2)});return sub}};this.__unsubscribe=(sub,key,subInput)=>{if(key){return this.__node.state.unsubscribeTrigger(subInput?this.__node.unique+"."+key+"input":this.__node.unique+"."+key,sub)}else return this.__node.state.unsubscribeTrigger(subInput?this.__node.unique+"input":this.__node.unique,sub)};this.__setOperator=fn=>{fn=fn.bind(this);this.__operator=(...args)=>{if(this.__node.inputState)this.__node.state.setValue(this.__node.unique+"input",args);let result=fn(...args);if(typeof result?.then==="function"){result.then(res=>{if(res!==void 0)this.__node.state.setValue(this.__node.unique,res)}).catch(console.error)}else if(result!==void 0)this.__node.state.setValue(this.__node.unique,result);return result};return this.__operator};if(typeof properties==="function"){properties={__operator:properties,__node:{forward:true,tag:properties.name}}}else if(typeof properties==="string"){if(graph?.get(properties)){properties=graph.get(properties)}}if(typeof properties==="object"){if(typeof properties.__node==="string"){if(graph?.get(properties.__node.tag)){properties=graph.get(properties.__node.tag)}else properties.__node={}}else if(!properties.__node)properties.__node={};if(!properties.__parent&&parent)properties.__parent=parent;if(graph){properties.__node.graph=graph}if(properties.__operator){if(typeof properties.__operator==="string"){if(graph){let n=graph.get(properties.__operator);if(n)properties.__operator=n.__operator;if(!properties.__node.tag&&properties.__operator.name)properties.__node.tag=properties.__operator.name}}if(typeof properties.__operator==="function")properties.__operator=this.__setOperator(properties.__operator)}if(!properties.__node.tag){if(properties.__operator?.name)properties.__node.tag=properties.__operator.name;else properties.__node.tag=`node${Math.floor(Math.random()*1e15)}`}if(parent?.__node&&!(parent instanceof Graph||properties instanceof Graph))properties.__node.tag=parent.__node.tag+"."+properties.__node.tag;if(parent instanceof Graph&&properties instanceof Graph){if(properties.__node.loaders)Object.assign(parent.__node.loaders?parent.__node.loaders:{},properties.__node.loaders);if(parent.__node.mapGraphs){properties.__node.nodes.forEach(n=>{parent.__node.nodes.set(properties.__node.tag+"."+n.__node.tag,n)});let ondelete=()=>{properties.__node.nodes.forEach(n=>{parent.__node.nodes.delete(properties.__node.tag+"."+n.__node.tag)})};this.__addDisconnected(ondelete)}}properties.__node.initial=properties;properties.__node=Object.assign(this.__node,properties.__node);Object.assign(this,properties);if(properties.__operator&&parent instanceof GraphNode&&parent.__operator){let sub=parent.__subscribe(this);let ondelete=()=>{parent?.__unsubscribe(sub)};this.__addDisconnected(ondelete)}else if(typeof properties.default==="function"&&!properties.__operator){let fn=properties.default.bind(this);this.default=(...args)=>{if(this.__node.inputState)this.__node.state.setValue(this.__node.unique+"input",args);let result=fn(...args);if(typeof result?.then==="function"){result.then(res=>{if(res!==void 0)this.__node.state.setValue(this.__node.unique,res)}).catch(console.error)}else if(result!==void 0)this.__node.state.setValue(this.__node.unique,result);return result};properties.default=this.default}if(properties instanceof Graph)this.__node.source=properties}}__addLocalState(props){if(!props)return;if(!this.__node.localState){this.__node.localState={}}let localState=this.__node.localState;for(let k in props){if(typeof props[k]==="function"){if(!k.startsWith("_")){let fn=props[k].bind(this);props[k]=(...args)=>{if(this.__node.inputState)this.__node.state.setValue(this.__node.unique+"."+k+"input",args);let result=fn(...args);if(typeof result?.then==="function"){result.then(res=>{this.__node.state.setValue(this.__node.unique+"."+k,res)}).catch(console.error)}else this.__node.state.setValue(this.__node.unique+"."+k,result);return result};this[k]=props[k]}}else{localState[k]=props[k];let definition={get:()=>{return localState[k]},set:v=>{if(this.__node.state.triggers[this.__node.unique+"."+k])this.__node.state.setValue(this.__node.unique+"."+k,v);localState[k]=v},enumerable:true,configurable:true};Object.defineProperty(this,k,definition);const ogProps=this.__node.initial;let dec=Object.getOwnPropertyDescriptor(ogProps,k);if(dec===void 0||dec?.configurable)Object.defineProperty(ogProps,k,definition)}}}__addOnconnected(callback){if(Array.isArray(this.__ondisconnected)){this.__onconnected.push(callback)}else if(typeof this.__onconnected==="function"){this.__onconnected=[callback,this.__onconnected]}else this.__onconnected=callback}__addDisconnected(callback){if(Array.isArray(this.__ondisconnected)){this.__ondisconnected.push(callback)}else if(typeof this.__ondisconnected==="function"){this.__ondisconnected=[callback,this.__ondisconnected]}else this.__ondisconnected=callback}__callConnected(node=this){if(typeof this.__onconnected==="function"){this.__onconnected(this)}else if(Array.isArray(this.__onconnected)){this.__onconnected.forEach(o=>{o(this)})}}__callDisconnected(node=this){if(typeof this.__ondisconnected==="function")this.__ondisconnected(this);else if(Array.isArray(this.__ondisconnected)){this.__ondisconnected.forEach(o=>{o(this)})}}};var Graph=class{constructor(options){this.__node={tag:`graph${Math.floor(Math.random()*1e15)}`,nodes:new Map,state};this.init=options=>{if(options){recursivelyAssign(this.__node,options);if(options.tree)this.setTree(options.tree)}};this.setTree=tree=>{this.__node.tree=Object.assign(this.__node.tree?this.__node.tree:{},tree);let cpy=Object.assign({},tree);delete cpy.__node;let listeners=this.recursiveSet(cpy,this);if(tree.__node){if(!tree.__node.tag)tree.__node._tag=`tree${Math.floor(Math.random()*1e15)}`;else if(!this.get(tree.__node.tag)){let node=new GraphNode(tree,this,this);for(const l in this.__node.loaders){this.__node.loaders[l](node,this,this,tree,tree)}this.__node.nodes.set(node.__node.tag,node);if(node.__listeners){listeners[node.__node.tag]=node.__listeners}}}this.setListeners(listeners)};this.setLoaders=(loaders2,replace)=>{if(replace)this.__node.loaders=loaders2;else Object.assign(this.__node.loaders,loaders2);return this.__node.loaders};this.add=(properties,parent)=>{let listeners={};if(typeof parent==="string")parent=this.get(parent);let props=Object.assign({},properties);if(properties.__node)props.__node=Object.assign({},properties.__node);if(!props.__node?.tag||!this.get(props.__node.tag)){let node=new GraphNode(props,parent,this);for(const l in this.__node.loaders){this.__node.loaders[l](node,parent,this,this.__node.tree,properties)}this.__node.nodes.set(node.__node.tag,node);this.__node.tree[node.__node.tag]=properties;if(node.__listeners){listeners[node.__node.tag]=node.__listeners}if(node.__children){node.__children=Object.assign({},node.__children);this.recursiveSet(node.__children,node,listeners)}this.setListeners(listeners);node.__callConnected();return node}return};this.recursiveSet=(t,parent,listeners={})=>{for(const key in t){let p=t[key];if(Array.isArray(p))continue;if(typeof p==="function")p={__operator:p};else if(typeof p==="string")p=this.__node.tree[p];else if(typeof p==="boolean")p=this.__node.tree[key];if(typeof p==="object"){p=Object.assign({},p);if(!p.__node)p.__node={};if(!p.__node.tag)p.__node.tag=key;if(this.get(p.__node.tag)||parent?.__node&&this.get(parent.__node.tag+"."+p.__node.tag))continue;let props=Object.assign({},p);props.__node=Object.assign({},p.__node);let node=new GraphNode(props,parent,this);for(const l in this.__node.loaders){this.__node.loaders[l](node,parent,this,t,p)}t[key]=node;this.__node.tree[node.__node.tag]=p;this.set(node.__node.tag,node);if(node.__listeners){listeners[node.__node.tag]=node.__listeners}else if(node.__children){node.__children=Object.assign({},node.__children);this.recursiveSet(node.__children,node,listeners)}node.__callConnected()}}return listeners};this.remove=(node,clearListeners=true)=>{this.unsubscribe(node);if(typeof node==="string")node=this.get(node);if(node instanceof GraphNode){this.__node.nodes.delete(node.__node.tag);delete this.__node.tree[node.__node.tag];if(clearListeners){this.clearListeners(node)}node.__callDisconnected();const recursiveRemove=t=>{for(const key in t){this.unsubscribe(t[key]);this.__node.nodes.delete(t[key].__node.tag);delete this.__node.tree[t[key].__node.tag];this.__node.nodes.delete(key);delete this.__node.tree[key];t[key].__node.tag=t[key].__node.tag.substring(t[key].__node.tag.lastIndexOf(".")+1);if(clearListeners){this.clearListeners(t[key])}t[key].__callDisconnected();if(t[key].__children){recursiveRemove(t[key].__children)}}};if(node.__children){recursiveRemove(node.__children)}}if(node?.__node.tag&&node?.__parent){delete node?.__parent;node.__node.tag=node.__node.tag.substring(node.__node.tag.indexOf(".")+1)}return node};this.removeTree=tree=>{};this.run=(node,...args)=>{if(typeof node==="string"){let nd=this.get(node);if(!nd&&node.includes(".")){nd=this.get(node.substring(0,node.lastIndexOf(".")));if(typeof nd?.[node.substring(node.lastIndexOf(".")+1)]==="function")return nd[node.substring(node.lastIndexOf(".")+1)](...args)}else return nd.__operator(...args)}if(node?.__operator){return node?.__operator(...args)}};this.setListeners=listeners=>{for(const key in listeners){let node=this.get(key);if(typeof listeners[key]==="object"){for(const k in listeners[key]){let n=this.get(k);let sub;if(typeof listeners[key][k]!=="object")listeners[key][k]={callback:listeners[key][k]};if(typeof listeners[key][k].callback==="function")listeners[key][k].callback=listeners[key][k].callback.bind(node);if(typeof node.__listeners!=="object")node.__listeners={};if(!n){let tag=k.substring(0,k.lastIndexOf("."));n=this.get(tag);if(n){sub=this.subscribe(n,listeners[key][k].callback,k.substring(k.lastIndexOf(".")+1),listeners[key][k].inputState,key,k);if(typeof node.__listeners[k]!=="object")node.__listeners[k]={callback:listeners[key][k].callback,inputState:listeners[key][k]?.inputState};node.__listeners[k].sub=sub}}else{sub=this.subscribe(n,listeners[key][k].callback,void 0,listeners[key][k].inputState,key,k);if(typeof node.__listeners[k]!=="object")node.__listeners[k]={callback:listeners[key][k].callback,inputState:listeners[key][k]?.inputState};node.__listeners[k].sub=sub}}}}};this.clearListeners=(node,listener)=>{if(typeof node==="string")node=this.get(node);if(node?.__listeners){for(const key in node.__listeners){if(listener&&key!==listener)continue;if(typeof node.__listeners[key].sub!=="number")continue;let n=this.get(key);if(!n){n=this.get(key.substring(0,key.lastIndexOf(".")));if(n)this.unsubscribe(n,node.__listeners[key].sub,key.substring(key.lastIndexOf(".")+1),node.__listeners[key].inputState)}else{this.unsubscribe(n,node.__listeners[key].sub,void 0,node.__listeners[key].inputState)}delete node.__listeners[key]}}};this.get=tag=>{return this.__node.nodes.get(tag)};this.set=(tag,node)=>{return this.__node.nodes.set(tag,node)};this.getProps=(node,getInitial)=>{if(typeof node==="string")node=this.get(node);if(node instanceof GraphNode){let cpy;if(getInitial)cpy=Object.assign({},this.__node.tree[node.__node.tag]);else{cpy=Object.assign({},node);delete cpy.__unsubscribe;delete cpy.__setOperator;delete cpy.__node;delete cpy.__subscribeState;delete cpy.__subscribe}}};this.subscribe=(node,callback,key,subInput,target,bound)=>{let nd=node;if(!(node instanceof GraphNode))nd=this.get(node);let sub;if(typeof callback==="string"&&target){let method=this.get(target)?.[callback];if(typeof method==="function")callback=method}if(nd instanceof GraphNode){sub=nd.__subscribe(callback,key,subInput,target,bound);let ondelete=()=>{nd.__unsubscribe(sub,key,subInput)};nd.__addDisconnected(ondelete)}else if(typeof node==="string"){if(callback instanceof GraphNode&&callback.__operator){sub=this.get(node).__subscribe(callback.__operator,key,subInput,target,bound);let ondelete=()=>{this.get(node).__unsubscribe(sub)};callback.__addDisconnected(ondelete)}else if(typeof callback==="function"||typeof callback==="string"){sub=this.get(node).__subscribe(callback,key,subInput,target,bound);this.__node.state.getTrigger(this.get(node).__node.unique,sub).source=node}}return sub};this.unsubscribe=(node,sub,key,subInput)=>{if(node instanceof GraphNode){return node.__unsubscribe(sub,key,subInput)}else return this.get(node)?.__unsubscribe(sub,key,subInput)};this.setState=update=>{this.__node.state.setState(update)};this.init(options)}};function recursivelyAssign(target,obj){for(const key in obj){if(obj[key]?.constructor.name==="Object"&&!Array.isArray(obj[key])){if(target[key]?.constructor.name==="Object"&&!Array.isArray(target[key]))recursivelyAssign(target[key],obj[key]);else target[key]=recursivelyAssign({},obj[key])}else{target[key]=obj[key]}}return target}var backprop=(node,parent,graph)=>{if(node.__node.backward&&parent instanceof GraphNode){graph.setListeners({[parent.__node.tag]:{[node.__node.tag]:parent}})}};var loop=(node,parent,graph)=>{if(node.__operator&&!node.__node.looperSet){node.__node.looperSet=true;if(typeof node.__node.delay==="number"){let fn=node.__operator;node.__operator=(...args)=>{return new Promise((res,rej)=>{setTimeout(async()=>{res(await fn(...args))},node.__node.delay)})}}else if(node.__node.frame===true){let fn=node.__operator;node.__operator=(...args)=>{return new Promise((res,rej)=>{requestAnimationFrame(async()=>{res(await fn(...args))})})}}if(typeof node.__node.repeat==="number"||typeof node.__node.recursive==="number"){let fn=node.__operator;node.__operator=async(...args)=>{let i=node.__node.repeat?node.__node.repeat:node.__node.recursive;let result;let repeater=async(tick,...inp)=>{while(tick>0){if(node.__node.delay||node.__node.frame){fn(...inp).then(async res=>{if(node.__node.recursive){await repeater(tick,res)}else await repeater(tick,...inp)});break}else result=await fn(...args);tick--}};await repeater(i,...args);return result}}if(node.__node.loop&&typeof node.__node.loop==="number"){if(!("looping"in node.__node))node.__node.looping=true;node.__node.looper=()=>{if(node.__node.looping){node.__operator();setTimeout(node.__node.looper,node.__node.loop)}};if(node.__node.looping)node.__node.looper();let ondelete=node2=>{if(node2.__node.looping)node2.__node.looping=false};node.__addDisconnected(ondelete)}}};var animate=(node,parent,graph)=>{if(node.__node.animate===true||node.__node.animation){if(typeof node.__node.animate==="function")node.__node.animate=node.__node.animate.bind(node);let anim=node2=>{if(!("animating"in node2.__node))node2.__node.animating=true;node2.__node.animate=()=>{if(node2.__node.animating){if(typeof node2.__node.animate==="function")node2.__node.animation();else node2.__operator();requestAnimationFrame(node2.__node.animation)}};requestAnimationFrame(node2.__node.animation);if(node2.__node.animating)node2.__node.animation()};requestAnimationFrame(anim);let ondelete=node2=>{if(node2.__node.animating)node2.__node.animating=false};node.__addDisconnected(ondelete)}};var branching=(node,parent,graph)=>{if(typeof node.__node.branch==="object"&&node.__operator&&!node.__node.branchApplied){let fn=node.__operator;node.__node.branchApplied=true;node.__operator=(...args)=>{let result=fn(...args);for(const key in node.__node.branch){let triggered=()=>{if(typeof node.__node.branch[key].then==="function"){node.__node.branch[key].then(result)}else if(node.__node.branch[key].then instanceof GraphNode&&node.__node.branch[key].then.__operator){node.__node.branch[key].then.__operator(result)}else result=node.__node.branch[key].then};if(typeof node.__node.branch[key].if==="function"){if(node.__node.branch[key].if(result)){triggered()}}else if(node.__node.branch[key].if===result){triggered()}}return result}}if(node.__listeners){for(const key in node.__listeners){if(typeof node.__listeners[key]==="object"){if(node.__listeners[key].branch&&!node.__listeners[key].branchApplied){let fn=node.__listeners[key].callback;node.__listeners[key].branchApplied=true;node.__listeners.callback=ret=>{let triggered=()=>{if(typeof node.__listeners[key].branch.then==="function"){ret=node.__listeners[key].branch.then(ret)}else if(node.__listeners[key].branch.then instanceof GraphNode&&node.__listeners[key].branch.then.__operator){ret=node.__listeners[key].branch.then.__operator(ret)}else ret=node.__listeners[key].branch.then};if(typeof node.__listeners[key].branch.if==="function"){if(node.__listeners[key].branch.if(ret)){triggered()}}else if(node.__listeners[key].branch.if===ret){triggered()}return fn(ret)}}}}}};var triggerListenerOncreate=(node,parent,graph)=>{if(node.__listeners){for(const key in node.__listeners){if(typeof node.__listeners[key]==="object"){if(node.__listeners[key].oncreate){node.__listeners[key].callback(node.__listeners[key].oncreate)}}}}};var bindListener=(node,parent,graph)=>{if(node.__listeners){for(const key in node.__listeners){if(typeof node.__listeners[key]==="object"){if(typeof node.__listeners[key].binding==="object"){node.__listeners.callback=node.__listeners.callback.bind(node.__listeners[key].binding)}}}}};var transformListenerResult=(node,parent,graph)=>{if(node.__listeners){for(const key in node.__listeners){if(typeof node.__listeners[key]==="object"){if(typeof node.__listeners[key].transform==="function"&&!node.__listeners[key].transformApplied){let fn=node.__listeners[key].callback;node.__listeners[key].transformApplied=true;node.__listeners.callback=ret=>{ret=node.__listeners[key].transform(ret);return fn(ret)}}}}}};var substitute__operator=(node,parent,graph)=>{if(node.post&&!node.__operator){node.__setOperator(node.post)}else if(!node.__operator&&typeof node.get=="function"){node.__setOperator(node.get)}if(!node.get&&node.__operator){node.get=node.__operator}if(node.aliases){node.aliases.forEach(a=>{graph.__node.nodes.set(a,node);let ondelete=node2=>{graph.__node.nodes.delete(a)};node.__addDisconnected(ondelete)})}if(typeof graph.__node.tree[node.__node.tag]==="object"&&node.get)graph.__node.tree[node.__node.tag].get=node.get};var loaders={backprop,loop,animate,branching,triggerListenerOncreate,bindListener,transformListenerResult,substitute__operator};var Service=class extends Graph{constructor(options){super({...options,loaders:options?.loaders?Object.assign({...loaders},options.loaders):{...loaders}});this.name=`service${Math.floor(Math.random()*1e15)}`;this.handleMethod=(route,method,args)=>{let m=method.toLowerCase();let src=this.__node.nodes.get(route);if(!src){src=this.__node.tree[route]}if(src?.[m]){if(!(src[m]instanceof Function)){if(args)src[m]=args;return src[m]}else return src[m](args)}else return this.handleServiceMessage({route,args,method})};this.transmit=(...args)=>{if(typeof args[0]==="object"){if(args[0].method){return this.handleMethod(args[0].route,args[0].method,args[0].args)}else if(args[0].route){return this.handleServiceMessage(args[0])}else if(args[0].node){return this.handleGraphNodeCall(args[0].node,args[0].args)}else if(this.__node.keepState){if(args[0].route)this.setState({[args[0].route]:args[0].args});if(args[0].node)this.setState({[args[0].node]:args[0].args})}return args}else return args};this.receive=(...args)=>{if(args[0]){if(typeof args[0]==="string"){let substr=args[0].substring(0,8);if(substr.includes("{")||substr.includes("[")){if(substr.includes("\\\\"))args[0]=args[0].replace(/\\\\/g,"");if(args[0][0]===\'"\'){args[0]=args[0].substring(1,args[0].length-1)};args[0]=JSON.parse(args[0])}}}if(typeof args[0]==="object"){if(args[0].method){return this.handleMethod(args[0].route,args[0].method,args[0].args)}else if(args[0].route){return this.handleServiceMessage(args[0])}else if(args[0].node){return this.handleGraphNodeCall(args[0].node,args[0].args)}else if(this.__node.keepState){if(args[0].route)this.setState({[args[0].route]:args[0].args});if(args[0].node)this.setState({[args[0].node]:args[0].args})}return args}else return args};this.pipe=(source,destination,endpoint,method,callback)=>{if(source instanceof GraphNode){if(callback)return this.subscribe(source,res=>{let mod=callback(res);if(mod!==void 0)this.transmit({route:destination,args:mod,method});else this.transmit({route:destination,args:res,method},endpoint)});else return this.subscribe(source,res=>{this.transmit({route:destination,args:res,method},endpoint)})}else if(typeof source==="string")return this.subscribe(source,res=>{this.transmit({route:destination,args:res,method},endpoint)})};this.pipeOnce=(source,destination,endpoint,method,callback)=>{if(source instanceof GraphNode){if(callback)return source.__node.state.subscribeTriggerOnce(source.__node.unique,res=>{let mod=callback(res);if(mod!==void 0)this.transmit({route:destination,args:mod,method});else this.transmit({route:destination,args:res,method},endpoint)});else return this.__node.state.subscribeTriggerOnce(source.__node.unique,res=>{this.transmit({route:destination,args:res,method},endpoint)})}else if(typeof source==="string")return this.__node.state.subscribeTriggerOnce(this.__node.nodes.get(source).__node.unique,res=>{this.transmit({route:destination,args:res,method},endpoint)})};this.terminate=(...args)=>{};this.isTypedArray=isTypedArray;this.recursivelyAssign=recursivelyAssign2;this.spliceTypedArray=spliceTypedArray;this.ping=()=>{console.log("pinged");return"pong"};this.echo=(...args)=>{this.transmit(...args);return args};if(options?.services)this.addServices(options.services);this.setTree(this)}addServices(services){for(const s in services){if(typeof services[s]==="function")services[s]=new services[s];if(services[s]?.__node?.loaders)Object.assign(this.__node.loaders,services[s].__node.loaders);if(services[s]instanceof Service){services[s].__node.nodes.forEach((n,tag)=>{if(!this.__node.nodes.get(tag)){this.__node.nodes.set(tag,n)}else this.__node.nodes.set(s+"."+tag,n)})}else if(typeof services[s]==="object")this.setTree(services[s])}}handleServiceMessage(message){let call;if(typeof message==="object"){if(message.route)call=message.route;else if(message.node)call=message.node}if(call){if(Array.isArray(message.args))return this.run(call,...message.args);else return this.run(call,message.args)}else return message}handleGraphNodeCall(route,args){if(!route)return args;if(args?.args){this.handleServiceMessage(args)}else if(Array.isArray(args))return this.run(route,...args);else return this.run(route,args)}};function isTypedArray(x){return ArrayBuffer.isView(x)&&Object.prototype.toString.call(x)!=="[object DataView]"}var recursivelyAssign2=(target,obj)=>{for(const key in obj){if(typeof obj[key]==="object"&&!Array.isArray(obj[key])){if(typeof target[key]==="object"&&!Array.isArray(target[key]))recursivelyAssign2(target[key],obj[key]);else target[key]=recursivelyAssign2({},obj[key])}else target[key]=obj[key]}return target};function spliceTypedArray(arr,start,end){let s=arr.subarray(0,start);let e;if(end){e=arr.subarray(end+1)}let ta;if(s.length>0||e?.length>0)ta=new arr.constructor(s.length+e.length);if(ta){if(s.length>0)ta.set(s);if(e&&e.length>0)ta.set(e,s.length)}return ta}function parseFunctionFromText(method=""){let getFunctionBody=methodString=>{return methodString.replace(/^\\W*(function[^{]+\\{([\\s\\S]*)\\}|[^=]+=>[^{]*\\{([\\s\\S]*)\\}|[^=]+=>(.+))/i,"$2$3$4")};let getFunctionHead=methodString=>{let startindex=methodString.indexOf("=>")+1;if(startindex<=0){startindex=methodString.indexOf("){")}if(startindex<=0){startindex=methodString.indexOf(") {")}return methodString.slice(0,methodString.indexOf("{",startindex)+1)};let newFuncHead=getFunctionHead(method);let newFuncBody=getFunctionBody(method);let newFunc;if(newFuncHead.includes("function")){let varName=newFuncHead.split("(")[1].split(")")[0];newFunc=new Function(varName,newFuncBody)}else{if(newFuncHead.substring(0,6)===newFuncBody.substring(0,6)){let varName=newFuncHead.split("(")[1].split(")")[0];newFunc=new Function(varName,newFuncBody.substring(newFuncBody.indexOf("{")+1,newFuncBody.length-1))}else{try{newFunc=(0,eval)(newFuncHead+newFuncBody+"}")}catch{}}}return newFunc}var stringifyWithCircularRefs=function(){const refs=new Map;const parents=[];const path=["this"];function clear(){refs.clear();parents.length=0;path.length=1}function updateParents(key,value){var idx=parents.length-1;var prev=parents[idx];if(typeof prev==="object"){if(prev[key]===value||idx===0){path.push(key);parents.push(value.pushed)}else{while(idx-->=0){prev=parents[idx];if(typeof prev==="object"){if(prev[key]===value){idx+=2;parents.length=idx;path.length=idx;--idx;parents[idx]=value;path[idx]=key;break}}idx--}}}}function checkCircular(key,value){if(value!=null){if(typeof value==="object"){if(key){updateParents(key,value)}let other=refs.get(value);if(other){return"[Circular Reference]"+other}else{refs.set(value,path.join("."))}}}return value}return function stringifyWithCircularRefs2(obj,space){try{parents.push(obj);return JSON.stringify(obj,checkCircular,space)}finally{clear()}}}();if(JSON.stringifyWithCircularRefs===void 0){JSON.stringifyWithCircularRefs=stringifyWithCircularRefs}var stringifyFast=function(){const refs=new Map;const parents=[];const path=["this"];function clear(){refs.clear();parents.length=0;path.length=1}function updateParents(key,value){var idx=parents.length-1;if(parents[idx]){var prev=parents[idx];if(typeof prev==="object"){if(prev[key]===value||idx===0){path.push(key);parents.push(value.pushed)}else{while(idx-->=0){prev=parents[idx];if(typeof prev==="object"){if(prev[key]===value){idx+=2;parents.length=idx;path.length=idx;--idx;parents[idx]=value;path[idx]=key;break}}idx++}}}}}function checkValues(key,value){let val;if(value!=null){if(typeof value==="object"){let c=value.constructor.name;if(key&&c==="Object"){updateParents(key,value)}let other=refs.get(value);if(other){return"[Circular Reference]"+other}else{refs.set(value,path.join("."))}if(c==="Array"){if(value.length>20){val=value.slice(value.length-20)}else val=value}else if(c.includes("Set")){val=Array.from(value)}else if(c!=="Object"&&c!=="Number"&&c!=="String"&&c!=="Boolean"){val="instanceof_"+c}else if(c==="Object"){let obj={};for(const prop in value){if(value[prop]==null){obj[prop]=value[prop]}else if(Array.isArray(value[prop])){if(value[prop].length>20)obj[prop]=value[prop].slice(value[prop].length-20);else obj[prop]=value[prop]}else if(value[prop].constructor.name==="Object"){obj[prop]={};for(const p in value[prop]){if(Array.isArray(value[prop][p])){if(value[prop][p].length>20)obj[prop][p]=value[prop][p].slice(value[prop][p].length-20);else obj[prop][p]=value[prop][p]}else{if(value[prop][p]!=null){let con=value[prop][p].constructor.name;if(con.includes("Set")){obj[prop][p]=Array.from(value[prop][p])}else if(con!=="Number"&&con!=="String"&&con!=="Boolean"){obj[prop][p]="instanceof_"+con}else{obj[prop][p]=value[prop][p]}}else{obj[prop][p]=value[prop][p]}}}}else{let con=value[prop].constructor.name;if(con.includes("Set")){obj[prop]=Array.from(value[prop])}else if(con!=="Number"&&con!=="String"&&con!=="Boolean"){obj[prop]="instanceof_"+con}else{obj[prop]=value[prop]}}}val=obj}else{val=value}}else{val=value}}return val}return function stringifyFast2(obj,space){parents.push(obj);let res=JSON.stringify(obj,checkValues,space);clear();return res}}();if(JSON.stringifyFast===void 0){JSON.stringifyFast=stringifyFast}var unsafeRoutes={setRoute:function(fn,fnName){if(typeof fn==="string")fn=parseFunctionFromText(fn);if(typeof fn==="function"){if(!fnName)fnName=fn.name;if(this.__node.graph.get(fnName)){this.__node.graph.get(fnName).__setOperator(fn)}else{let node=this.__node.graph.add({__node:{tag:fnName},__operator:fn})}return true}return false},setNode:function(fn,fnName){if(typeof fn==="string")fn=parseFunctionFromText(fn);if(typeof fn==="function"){if(!fnName)fnName=fn.name;if(this.__node.graph.get(fnName)){this.__node.graph.get(fnName).__setOperator(fn)}else this.__node.graph.add({__node:{tag:fnName},__operator:fn});return true}return false},setMethod:function(route,fn,fnName){if(typeof fn==="string")fn=parseFunctionFromText(fn);if(typeof fn==="function"){if(!fnName)fnName=fn.name;if(this.__node.graph.get(route)){this.__node.graph.get(route)[fnName]=fn}else this.__node.graph.add({__node:{tag:fnName,[fnName]:fn}});return true}return false},assignRoute:function(route,source){if(this.__node.graph.get(route)&&typeof source==="object"){Object.assign(this.__node.graph.get(route),source)}},transferClass:(classObj,className)=>{if(typeof classObj==="object"){let str2=classObj.toString();let message={route:"receiveClass",args:[str2,className]};return message}return false},receiveClass:function(stringified,className){if(typeof stringified==="string"){if(stringified.indexOf("class")===0){let cls=(0,eval)("("+stringified+")");let name=className;if(!name)name=cls.name;this.__node.graph[name]=cls;return true}}return false},setGlobal:(key,value)=>{globalThis[key]=value;return true},assignGlobalObject:(target,source)=>{if(!globalThis[target])return false;if(typeof source==="object")Object.assign(globalThis[target],source);return true},setValue:function(key,value){this.__node.graph[key]=value;return true},assignObject:function(target,source){if(!this.__node.graph[target])return false;if(typeof source==="object")Object.assign(this.__node.graph[target],source);return true},setGlobalFunction:(fn,fnName)=>{if(typeof fn==="string")fn=parseFunctionFromText(fn);if(typeof fn==="function"){if(!fnName)fnName=fn.name;globalThis[fnName]=fn;return true}return false},assignFunctionToGlobalObject:function(globalObjectName,fn,fnName){if(!globalThis[globalObjectName])return false;if(typeof fn==="string")fn=parseFunctionFromText(fn);if(typeof fn==="function"){if(!fnName)fnName=fn.name;this.__node.graph[globalObjectName][fnName]=fn;return true}return false},setFunction:function(fn,fnName){if(typeof fn==="string")fn=parseFunctionFromText(fn);if(typeof fn==="function"){if(!fnName)fnName=fn.name;this.__node.graph[fnName]=fn;return true}return false},assignFunctionToObject:function(objectName,fn,fnName){if(!this.__node.graph[objectName])return false;if(typeof fn==="string")fn=parseFunctionFromText(fn);if(typeof fn==="function"){if(!fnName)fnName=fn.name;this.__node.graph[objectName][fnName]=fn;return true}return false}};var import_sjcl=__toESM(require_sjcl());var _HTTPfrontend=class extends Service{constructor(options,path,fetched){super(options);this.name="http";this.fetchProxied=false;this.listening={};this.GET=(url="http://localhost:8080/ping",type="",mimeType)=>{if(type==="json")mimeType="application/json";return new Promise((resolve,reject)=>{let xhr=_HTTPfrontend.request({method:"GET",url,responseType:type,mimeType,onload:ev=>{let data;if(xhr.responseType===""||xhr.responseType==="text")data=xhr.responseText;else data=xhr.response;if(url instanceof URL)url=url.toString();this.setState({[url]:data});resolve(data)},onabort:er=>{reject(er)}})}).catch(console.error)};this.POST=(message,url="http://localhost:8080/echo",type="",mimeType)=>{if(typeof message==="object"&&(type==="json"||type==="text"||!type)){message=JSON.stringify(message)}if(type==="json")mimeType="application/json";return new Promise((resolve,reject)=>{let xhr=_HTTPfrontend.request({method:"POST",url,data:message,responseType:type,mimeType,onload:ev=>{let data;if(xhr.responseType===""||xhr.responseType==="text")data=xhr.responseText;else data=xhr.response;if(url instanceof URL)url=url.toString();this.setState({[url]:data});resolve(data)},onabort:er=>{reject(er)}})}).catch(console.error)};this.transmit=(message,url)=>{let obj=message;if(typeof obj==="object"){message=JSON.stringify(obj)}if(obj?.method?.toLowerCase()=="get"||message?.toLowerCase()==="get")return this.GET(url);return this.POST(message,url)};this.transponder=(url,message,type="",mimeType)=>{if(typeof message==="object")message=JSON.stringify(message);let method="GET";if(message){method="POST"}if(type==="json")mimeType="application/json";else return new Promise((resolve,reject)=>{let xhr=_HTTPfrontend.request({method,url,data:message,responseType:type,onload:ev=>{let body=xhr.response;if(typeof body==="string"){let substr=body.substring(0,8);if(substr.includes("{")||substr.includes("[")){if(substr.includes("\\\\"))body=body.replace(/\\\\/g,"");if(body[0]===\'"\'){body=body.substring(1,body.length-1)};body=JSON.parse(body)}}if(typeof body?.method==="string"){return resolve(this.handleMethod(body.route,body.method,body.args))}else if(typeof body?.route==="string"){return resolve(this.handleServiceMessage(body))}else if(typeof body?.node==="string"||body.node instanceof GraphNode){return resolve(this.handleGraphNodeCall(body.node,body.args))}else return resolve(body)},onabort:er=>{reject(er)}})}).catch(console.error)};this.listen=(path="0",fetched=async(clone,args,response)=>{const result=await clone.text();const returned=this.receive(result);this.setState({[response.url]:returned})})=>{this.listening[path]={};let listenerId=`${path}${Math.floor(Math.random()*1e15)}`;this.listening[path][listenerId]=fetched;if(!this.fetchProxied){globalThis.fetch=new Proxy(globalThis.fetch,{apply(fetch,that,args){const result=fetch.apply(that,args);result.then(response=>{if(!response.ok)return;if(this.listening["0"]){for(const key in this.listeners){const clone=response.clone();this.listening["0"][key](clone,args,response)}}else{for(const key in this.listening){if(response.url.includes(key)){for(const key2 in this.listening[path]){const clone=response.clone();this.listening[path][key2](clone,args,response)}break}}}}).catch(er=>{console.error(er)});return result}});this.fetchProxied=true}return listenerId};this.stopListening=(path,listener)=>{if(!path&&path!==0){for(const key in this.listening)delete this.listening[key]}else{if(!listener)delete this.listening[path];else delete this.listening[listener]}};this.setTree(this);this.listen(path,fetched)}};var HTTPfrontend=_HTTPfrontend;HTTPfrontend.request=options=>{const xhr=new XMLHttpRequest;if(options.responseType)xhr.responseType=options.responseType;else options.responseType="json";if(options.mimeType){xhr.overrideMimeType(options.mimeType)}if(options.onload)xhr.addEventListener("load",options.onload,false);if(options.onprogress)xhr.addEventListener("progress",options.onprogress,false);if(options.onabort)xhr.addEventListener("abort",options.onabort,false);if(options.onloadend)xhr.addEventListener("loadend",options.onloadend,false);if(options.onerror)xhr.addEventListener("error",options.onerror,false);xhr.open(options.method,options.url,true,options.user,options.pass);if(!options.onerror)xhr.onerror=function(){xhr.abort()};xhr.send(options.data);return xhr};var import_web_worker=__toESM(require_browser());var WorkerService=class extends Service{constructor(options){super();this.name="worker";this.workers={};this.threadRot=0;this.loadWorkerRoute=(rt,routeKey)=>{if(rt.workerUrl)rt.url=rt.workerUrl;if(rt.workerId)rt.__node.tag=rt.workerId;if(!rt.__node.tag)rt.__node.tag=routeKey;rt._id=rt.__node.tag;let worker;if(this.workers[rt._id])worker=this.workers[rt._id];else if(rt.worker)worker=rt.worker;if(!worker){worker=this.addWorker(rt);let ondelete=rt2=>{rt2.worker?.terminate()};rt.__addDisconnected(ondelete)}rt.worker=worker;if(rt.transferFunctions){for(const prop in rt.transferFunctions){this.transferFunction(worker,rt.transferFunctions[prop],prop)}}if(rt.transferClasses){for(const prop in rt.transferClasses){this.transferClass(worker,rt.transferClasses[prop],prop)}}if(worker){if(!rt.__operator){rt.__operator=(...args)=>{if(rt.callback){if(!this.__node.nodes.get(rt.__node.tag)?.__children)worker.post(rt.callback,args);else return worker.run(rt.callback,args)}else{if(!this.__node.nodes.get(rt.__node.tag)?.__children)worker.send(args);else return worker.request(args)}}}if(rt.init){worker.run(rt.init,rt.initArgs,rt.initTransfer)}return worker}};this.workerloader={"workers":(node,parent,graph,tree)=>{let rt=node;if(!node.parentRoute&&(parent?.callback&&parent?.worker))node.parentRoute=parent?.callback;if(rt?.worker||rt?.workerId||rt?.workerUrl){let worker=this.loadWorkerRoute(rt,rt.__node.tag);if(worker){if(!rt.parentRoute&&rt.__parent?.callback)rt.parentRoute=rt.__parent.callback;if(rt.__parent&&!rt.portId){if(typeof rt.__parent==="string"){if(rt.__node.tag!==rt.__parent&&worker._id!==rt.__parent)rt.portId=this.establishMessageChannel(worker,rt.__parent)}else if(rt.__node.tag!==rt.__parent?.__node?.tag&&worker._id!==rt.__parent.tag){rt.portId=this.establishMessageChannel(worker,rt.__parent.worker)}};if(rt.parentRoute){if(!rt.stopped){if(typeof rt.__parent==="string"&&rt.__parent===worker._id){worker.run("subscribe",[rt.parentRoute,void 0,rt.callback])}else if(rt.__node.tag===rt.__parent?.__node?.tag||worker._id===rt.__parent?.__node?.tag){worker.run("subscribe",[rt.parentRoute,void 0,rt.callback])}else worker.run("subscribeToWorker",[rt.parentRoute,rt.portId,rt.callback,rt.blocking]).then(sub=>{worker.workerSubs[rt.parentRoute+rt.portId].sub=sub})}if(!(typeof rt.__parent==="string"&&rt.__parent===worker._id)&&!(rt.__node.tag===rt.__parent?.__node?.tag||worker._id===rt.__parent?.__node?.tag))worker.workerSubs[rt.parentRoute+rt.portId]={sub:null,route:rt.parentRoute,portId:rt.portId,callback:rt.callback,blocking:rt.blocking}}else if(rt.__parent){if(typeof rt.__parent==="string"){if(!rt.stopped){if(rt.__parent===worker._id){worker.run("subscribe",[rt.__parent,void 0,rt.callback])}else worker.run("subscribeToWorker",[rt.__parent,rt.portId,rt.callback,rt.blocking]).then(sub=>{worker.workerSubs[rt.__parent+rt.portId].sub=sub})}if(!(typeof rt.__parent==="string"&&rt.__parent===worker._id))worker.workerSubs[rt+rt.portId]={sub:null,route:worker._id,portId:rt.portId,callback:rt.callback,blocking:rt.blocking}}else if(rt.__parent?.__node?.tag&&rt.__parent?.worker){if(!rt.stopped){if(rt.__node.tag===rt.__parent.__node.tag||worker._id===rt.__parent.__node.tag){worker.run("subscribe",[rt.__parent.__node.tag,void 0,rt.callback])}else worker.run("subscribeToWorker",[rt.__parent.__node.tag,rt.portId,rt.callback,rt.blocking]).then(sub=>{worker.workerSubs[rt.__parent.__node.tag+rt.portId].sub=sub})}if(!(rt.__node.tag===rt.__parent?.__node?.tag||worker._id===rt.__parent?.__node?.tag))worker.workerSubs[rt.__parent.__node.tag+rt.portId]={sub:null,route:rt.__parent.__node.tag,portId:rt.portId,callback:rt.callback,blocking:rt.blocking}}}}}else if(rt.__parent&&rt.parentRoute){if(typeof rt.__parent==="string"&&tree[rt.__parent]?.worker){tree[rt.__parent].worker.subscribe(rt.parentRoute,rt.__node.tag,rt.blocking)}else if(rt.__parent?.worker){rt.__parent.worker.subscribe(rt.parentRoute,rt.__node.tag,rt.blocking)}}return rt}};this.addDefaultMessageListener=()=>{globalThis.onmessage=ev=>{let result=this.receive(ev.data);if(this.__node.keepState)this.setState({[this.name]:result})}};this.postMessage=(message,target,transfer)=>{if(this.workers[target]){this.workers[target].send(message,transfer)}else{globalThis.postMessage(message,target,transfer)}};this.addWorker=options=>{let worker;if(!options._id)options._id=`worker${Math.floor(Math.random()*1e15)}`;if(options.url)worker=new import_web_worker.default(options.url);else if(options.port){worker=options.port}else if(this.workers[options._id]){if(this.workers[options._id].port)worker=this.workers[options._id].port;else worker=this.workers[options._id].worker}if(!worker)return;let send=(message,transfer)=>{return this.transmit(message,worker,transfer)};let post=(route,args,transfer,method)=>{let message={route,args};if(method)message.method=method;return this.transmit(message,worker,transfer)};let run=(route,args,transfer,method)=>{return new Promise((res,rej)=>{let callbackId=Math.random();let req={route:"runRequest",args:[{route,args},options._id,callbackId]};if(method)req.args[0].method=method;let onmessage=ev=>{if(typeof ev.data==="object"){if(ev.data.callbackId===callbackId){worker.removeEventListener("message",onmessage);res(ev.data.args)}}};worker.addEventListener("message",onmessage);this.transmit(req,worker,transfer)})};let request=(message,transfer,method)=>{return new Promise((res,rej)=>{let callbackId=Math.random();let req={route:"runRequest",args:[message,options._id,callbackId]};if(method)req.method=method;let onmessage=ev=>{if(typeof ev.data==="object"){if(ev.data.callbackId===callbackId){worker.removeEventListener("message",onmessage);res(ev.data.args)}}};worker.addEventListener("message",onmessage);this.transmit(req,worker,transfer)})};let workerSubs={};let subscribe=(route,callback,blocking)=>{return this.subscribeToWorker(route,options._id,callback,blocking)};let unsubscribe=(route,sub)=>{return run("unsubscribe",[route,sub])};let start=async(route,portId,callback,blocking)=>{if(route)await run("subscribeToWorker",[route,portId,callback,blocking]).then(sub=>{if(sub)workerSubs[route+portId]={sub,route,portId,callback,blocking}});else for(const key in workerSubs){if(typeof workerSubs[key].sub!=="number")await run("subscribeToWorker",[workerSubs[key].route,workerSubs[key].portId,workerSubs[key].callback,workerSubs[key].blocking]).then(sub=>{workerSubs[key].sub=sub})}return true};let stop=async(route,portId)=>{if(route&&portId&&workerSubs[route+portId]){await run("unsubscribe",[route,workerSubs[route+portId].sub]);workerSubs[route+portId].sub=false}else{for(const key in workerSubs){if(typeof workerSubs[key].sub==="number"){await run("unpipeWorkers",[workerSubs[key].route,workerSubs[key].portId,workerSubs[key].sub])}workerSubs[key].sub=false}}return true};let terminate=()=>{for(const key in workerSubs){if(typeof workerSubs[key].sub==="number"){run("unpipeWorkers",[workerSubs[key].route,workerSubs[key].portId,workerSubs[key].sub])}workerSubs[key].sub=false}return this.terminate(options._id)};if(!options.onmessage)options.onmessage=ev=>{this.receive(ev.data);this.setState({[options._id]:ev.data})};if(!options.onerror){options.onerror=ev=>{console.error(ev.data)}}worker.onmessage=options.onmessage;worker.onerror=options.onerror;this.workers[options._id]={worker,send,post,run,request,subscribe,unsubscribe,terminate,start,stop,postMessage:worker.postMessage,workerSubs,graph:this,...options};return this.workers[options._id]};this.toObjectURL=scriptTemplate=>{let blob=new Blob([scriptTemplate],{type:"text/javascript"});return URL.createObjectURL(blob)};this.transmit=(message,worker,transfer)=>{if(!transfer){transfer=this.getTransferable(message)}if(worker instanceof import_web_worker.default||worker instanceof MessagePort){worker.postMessage(message,transfer)}else if(typeof worker==="string"){if(this.workers[worker]){if(this.workers[worker].port)this.workers[worker].port.postMessage(message,transfer);else if(this.workers[worker].worker)this.workers[worker].worker.postMessage(message,transfer)}}else{let keys=Object.keys(this.workers);this.workers[keys[this.threadRot]].worker.postMessage(message,transfer);this.threadRot++;if(this.threadRot===keys.length)this.threadRot=0}return message};this.terminate=worker=>{let onclose;if(typeof worker==="string"){let obj=this.workers[worker];if(obj){delete this.workers[worker];worker=obj.worker;if(obj.onclose)onclose=obj.onclose}}if(worker instanceof import_web_worker.default){worker.terminate();if(onclose)onclose(worker);return true}if(worker instanceof MessagePort){worker.close();if(onclose)onclose(worker);return true}return false};this.establishMessageChannel=(worker,worker2)=>{let workerId;if(typeof worker==="string"){workerId=worker;if(this.workers[worker]){if(this.workers[worker].port)worker=this.workers[worker].port;else worker2=this.workers[worker].worker}}else if(worker?.worker){worker=worker.worker}if(typeof worker2==="string"){if(this.workers[worker2]){if(this.workers[worker2].port)worker2=this.workers[worker2].port;else worker2=this.workers[worker2].worker}}else if(worker2?.worker){worker2=worker2.worker}if(worker instanceof import_web_worker.default||worker instanceof MessagePort){let channel=new MessageChannel;let portId=`port${Math.floor(Math.random()*1e15)}`;worker.postMessage({route:"addWorker",args:{port:channel.port1,_id:portId}},[channel.port1]);if(worker2 instanceof import_web_worker.default||worker2 instanceof MessagePort){worker2.postMessage({route:"addWorker",args:{port:channel.port2,_id:portId}},[channel.port2])}else if(workerId&&this.workers[workerId]){channel.port2.onmessage=this.workers[workerId].onmessage;this.workers[workerId].port=channel.port2}return portId}return false};this.request=(message,workerId,transfer,method)=>{let worker=this.workers[workerId].worker;return new Promise((res,rej)=>{let callbackId=Math.random();let req={route:"runRequest",args:[message,callbackId]};if(method)req.method=method;let onmessage=ev=>{if(typeof ev.data==="object"){if(ev.data.callbackId===callbackId){worker.removeEventListener("message",onmessage);res(ev.data.args)}}};worker.addEventListener("message",onmessage);this.transmit(req,worker,transfer)})};this.runRequest=(message,worker,callbackId)=>{let res=this.receive(message);if(typeof worker==="string"&&this.workers[worker]){if(this.workers[worker].port)worker=this.workers[worker].port;else worker=this.workers[worker].worker}if(res instanceof Promise){res.then(r=>{if(worker instanceof import_web_worker.default||worker instanceof MessagePort)worker.postMessage({args:r,callbackId});else if(typeof WorkerGlobalScope!=="undefined"&&self instanceof WorkerGlobalScope)globalThis.postMessage({args:r,callbackId})})}else{if(worker instanceof import_web_worker.default||worker instanceof MessagePort)worker.postMessage({args:res,callbackId});else if(typeof WorkerGlobalScope!=="undefined"&&self instanceof WorkerGlobalScope)globalThis.postMessage({args:res,callbackId})}return res};this.subscribeWorker=(route,worker,blocking)=>{let callback;if(blocking){let blocked=false;callback=res=>{if(!blocked){blocked=true;if(res instanceof Promise){res.then(r=>{if(worker?.run)worker.run("triggerSubscription",[route,worker._id,r]).then(ret=>{blocked=false})})}else{if(worker?.run)worker.run("triggerSubscription",[route,worker._id,res]).then(ret=>{blocked=false})}}}}else{callback=res=>{if(res instanceof Promise){res.then(r=>{if(worker?.postMessage)worker.postMessage({args:r,callbackId:route});else if(globalThis.postMessage)globalThis.postMessage({args:r,callbackId:route})})}else{if(worker?.postMessage)worker.postMessage({args:res,callbackId:route});else if(globalThis.postMessage)globalThis.postMessage({args:res,callbackId:route})}}}if(!blocking&&worker?.port){worker=worker.port}else if(!blocking&&worker?.worker){worker=worker.worker}else if(typeof worker==="string"&&this.workers[worker]){if(blocking)worker=this.workers[worker];else if(this.workers[worker].port)worker=this.workers[worker].port;else worker=this.workers[worker].worker}return this.subscribe(route,callback)};this.subscribeToWorker=(route,workerId,callback,blocking)=>{if(typeof workerId==="string"&&this.workers[workerId]){this.subscribe(workerId,res=>{if(res?.callbackId===route){if(!callback)this.setState({[workerId]:res.args});else if(typeof callback==="string"){this.run(callback,res.args)}else callback(res.args)}});return this.workers[workerId].run("subscribeWorker",[route,workerId,blocking])}};this.triggerSubscription=async(route,workerId,result)=>{if(this.__node.state.triggers[workerId])for(let i=0;i<this.__node.state.triggers[workerId].length;i++){await this.__node.state.triggers[workerId][i].onchange({args:result,callbackId:route})}return true};this.pipeWorkers=(sourceWorker,listenerWorker,sourceRoute,listenerRoute,portId,blocking)=>{if(typeof sourceWorker==="string")sourceWorker=this.workers[sourceWorker];if(typeof listenerWorker==="string")listenerWorker=this.workers[listenerWorker];if(!portId){portId=this.establishMessageChannel(sourceWorker.worker,listenerWorker.worker)}return listenerWorker.run("subscribeToWorker",[sourceRoute,portId,listenerRoute,blocking])};this.unpipeWorkers=(sourceRoute,sourceWorker,sub)=>{if(typeof sourceWorker==="string")sourceWorker=this.workers[sourceWorker];if(sourceWorker)return sourceWorker.run("unsubscribe",[sourceRoute,sub])};this.connections={workers:this.workers};if(options?.services)this.addServices(options.services);this.setTree(this);this.setLoaders(this.workerloader);if(options)this.init(options);if(typeof WorkerGlobalScope!=="undefined"&&globalThis instanceof WorkerGlobalScope){this.addDefaultMessageListener()}}getTransferable(message){let transfer;if(typeof message==="object"){if(message.args){if(message.args?.constructor?.name==="Object"){for(const key in message.args){if(ArrayBuffer.isView(message.args[key])){if(!transfer)transfer=[message.args[key].buffer];else transfer.push(message.args[key].buffer)}else if(message.args[key]?.constructor?.name==="ArrayBuffer"){if(!transfer)transfer=[message.args[key]];else transfer.push(message.args[key])}}}else if(Array.isArray(message.args)&&message.args.length<11){message.args.forEach(arg=>{if(ArrayBuffer.isView(arg)){transfer=[arg.buffer]}else if(arg?.constructor?.name==="ArrayBuffer")transfer=[arg]})}else if(ArrayBuffer.isView(message.args)){transfer=[message.args.buffer]}else if(message.args?.constructor?.name==="ArrayBuffer"){transfer=[message]}}else if(message?.constructor?.name==="Object"){for(const key in message){if(ArrayBuffer.isView(message[key])){if(!transfer)transfer=[message[key].buffer];else transfer.push(message[key].buffer)}else if(message[key]?.constructor?.name==="ArrayBuffer"){if(!transfer)transfer=[message[key]];else transfer.push(message[key])}}}else if(Array.isArray(message)&&message.length<11){message.forEach(arg=>{if(ArrayBuffer.isView(arg)){transfer=[arg.buffer]}else if(arg.constructor?.name==="ArrayBuffer")transfer=[arg]})}else if(ArrayBuffer.isView(message)){transfer=[message.buffer]}else if(message.constructor?.name==="ArrayBuffer"){transfer=[message]}}return transfer}transferFunction(worker,fn,fnName){if(!fnName)fnName=fn.name;return worker.request({route:"setRoute",args:[fn.toString(),fnName]})}transferClass(worker,cls,className){if(!className)className=cls.name;return worker.request({route:"receiveClass",args:[cls.toString(),className]})}};var mouseEventHandler=makeSendPropertiesHandler(["ctrlKey","metaKey","shiftKey","button","pointerType","clientX","clientY","pageX","pageY"]);var wheelEventHandlerImpl=makeSendPropertiesHandler(["deltaX","deltaY"]);var keydownEventHandler=makeSendPropertiesHandler(["ctrlKey","metaKey","shiftKey","keyCode"]);function wheelEventHandler(event,sendFn){event.preventDefault();wheelEventHandlerImpl(event,sendFn)}function preventDefaultHandler(event){event.preventDefault()}function copyProperties(src,properties,dst){for(const name of properties){dst[name]=src[name]}}function makeSendPropertiesHandler(properties){return function sendProperties(event,sendFn){const data={type:event.type};copyProperties(event,properties,data);sendFn(data)}}function touchEventHandler(event,sendFn){const touches=[];const data={type:event.type,touches};for(let i=0;i<event.touches.length;++i){const touch=event.touches[i];touches.push({pageX:touch.pageX,pageY:touch.pageY})}sendFn(data)}var orbitKeys={"37":true,"38":true,"39":true,"40":true};function filteredKeydownEventHandler(event,sendFn){const{keyCode}=event;if(orbitKeys[keyCode]){event.preventDefault();keydownEventHandler(event,sendFn)}}var eventHandlers={contextmenu:preventDefaultHandler,mousedown:mouseEventHandler,mousemove:mouseEventHandler,mouseup:mouseEventHandler,pointerdown:mouseEventHandler,pointermove:mouseEventHandler,pointerup:mouseEventHandler,touchstart:touchEventHandler,touchmove:touchEventHandler,touchend:touchEventHandler,wheel:wheelEventHandler,keydown:filteredKeydownEventHandler};function initProxyElement(element,worker,id){if(!id)id="proxy"+Math.floor(Math.random()*1e15);const sendEvent=data=>{if(!worker){handleProxyEvent(data,id)}else worker.postMessage({route:"handleProxyEvent",args:[data,id]})};let entries=Object.entries(eventHandlers);for(const[eventName,handler]of entries){element.addEventListener(eventName,function(event){handler(event,sendEvent)})}const sendSize=()=>{const rect=element.getBoundingClientRect();sendEvent({type:"resize",left:rect.left,top:rect.top,width:element.clientWidth,height:element.clientHeight})};sendSize();globalThis.addEventListener("resize",sendSize);return id}var EventDispatcher=class{addEventListener(type,listener){if(this.__listeners===void 0)this.__listeners={};const listeners=this.__listeners;if(listeners[type]===void 0){listeners[type]=[]}if(listeners[type].indexOf(listener)===-1){listeners[type].push(listener)}}hasEventListener(type,listener){if(this.__listeners===void 0)return false;const listeners=this.__listeners;return listeners[type]!==void 0&&listeners[type].indexOf(listener)!==-1}removeEventListener(type,listener){if(this.__listeners===void 0)return;const listeners=this.__listeners;const listenerArray=listeners[type];if(listenerArray!==void 0){const index=listenerArray.indexOf(listener);if(index!==-1){listenerArray.splice(index,1)}}}dispatchEvent(event,target){if(this.__listeners===void 0)return;const listeners=this.__listeners;const listenerArray=listeners[event.type];if(listenerArray!==void 0){if(!target)event.target=this;else event.target=target;const array=listenerArray.slice(0);for(let i=0,l=array.length;i<l;i++){array[i].call(this,event)}event.target=null}}};function noop(){}var ElementProxyReceiver=class extends EventDispatcher{constructor(){super();this.__listeners={};this.style={};this.setPointerCapture=()=>{};this.releasePointerCapture=()=>{};this.getBoundingClientRect=()=>{return{left:this.left,top:this.top,width:this.width,height:this.height,right:this.left+this.width,bottom:this.top+this.height}};this.handleEvent=data=>{if(data.type==="resize"){this.left=data.left;this.top=data.top;this.width=data.width;this.height=data.height;if(typeof this.proxied==="object"){this.proxied.style.width=this.width+"px";this.proxied.style.height=this.height+"px";this.proxied.clientWidth=this.width;this.proxied.clientHeight=this.height}}data.preventDefault=noop;data.stopPropagation=noop;this.dispatchEvent(data,this.proxied)};this.style={}}get clientWidth(){return this.width}get clientHeight(){return this.height}focus(){}};var ProxyManager=class{constructor(){this.targets={};this.makeProxy=(id,addTo=void 0)=>{if(!id)id=`proxyReceiver${Math.floor(Math.random()*1e15)}`;let proxy;if(this.targets[id])proxy=this.targets[id];else{proxy=new ElementProxyReceiver;this.targets[id]=proxy}if(typeof addTo==="object"){addTo.proxy=proxy;proxy.proxied=addTo;if(typeof WorkerGlobalScope!=="undefined")addTo.style=proxy.style;if(proxy.width){addTo.style.width=proxy.width+"px";addTo.clientWidth=proxy.width}if(proxy.height){addTo.style.height=proxy.height+"px";addTo.clientHeight=proxy.height}addTo.setPointerCapture=proxy.setPointerCapture.bind(proxy);addTo.releasePointerCapture=proxy.releasePointerCapture.bind(proxy);addTo.getBoundingClientRect=proxy.getBoundingClientRect.bind(proxy);addTo.addEventListener=proxy.addEventListener.bind(proxy);addTo.removeEventListener=proxy.removeEventListener.bind(proxy);addTo.handleEvent=proxy.handleEvent.bind(proxy);addTo.dispatchEvent=proxy.dispatchEvent.bind(proxy);addTo.focus=proxy.focus.bind(proxy)}};this.getProxy=id=>{return this.targets[id]};this.handleEvent=(data,id)=>{if(!this.targets[id])this.makeProxy(id);if(this.targets[id]){this.targets[id].handleEvent(data);return true}return void 0};if(!globalThis.document)globalThis.document={}}};function makeProxy(id,elm){if(this?.__node?.graph){if(!this.__node.graph.ProxyManager)this.__node.graph.ProxyManager=new ProxyManager;this.__node.graph.ProxyManager.makeProxy(id,elm)}else{if(!globalThis.ProxyManager)globalThis.ProxyManager=new ProxyManager;globalThis.ProxyManager.makeProxy(id,elm)}return id}function handleProxyEvent(data,id){if(this?.__node?.graph){if(!this.__node.graph.ProxyManager)this.__node.graph.ProxyManager=new ProxyManager;if(this.__node.graph.ProxyManager.handleEvent(data,id))return data}else{if(!globalThis.ProxyManager)globalThis.ProxyManager=new ProxyManager;if(globalThis.ProxyManager.handleEvent(data,id))return data}}var proxyElementWorkerRoutes={initProxyElement,makeProxy,handleProxyEvent};function Renderer(options){if(options.worker){let worker=options.worker;let route=options.route;if(worker instanceof Blob||typeof worker==="string"){worker=new Worker(worker)}delete options.worker;delete options.route;return transferCanvas(worker,options,route)}else{initProxyElement(options.canvas,void 0,options._id);return setupCanvas(options)}}function transferCanvas(worker,options,route){if(!options)return void 0;if(!options._id)options._id=`canvas${Math.floor(Math.random()*1e15)}`;let offscreen=options.canvas.transferControlToOffscreen();if(!options.width)options.width=options.canvas.clientWidth;if(!options.height)options.height=options.canvas.clientHeight;let message={route:route?route:"setupCanvas",args:{...options,canvas:offscreen}};if(this?.__node?.graph)this.__node.graph.run("initProxyElement",options.canvas,worker,options._id);else initProxyElement(options.canvas,worker,options._id);if(options.draw){if(typeof options.draw==="function")message.args.draw=options.draw.toString();else message.args.draw=options.draw}if(options.update){if(typeof options.update==="function")message.args.update=options.update.toString();else message.args.update=options.update}if(options.init){if(typeof options.init==="function")message.args.init=options.init.toString();else message.args.init=options.init}if(options.clear){if(typeof options.clear==="function")message.args.clear=options.clear.toString();else message.args.clear=options.clear}let transfer=[offscreen];if(options.transfer){transfer.push(...options.transfer);delete options.transfer}worker.postMessage(message,transfer);const canvascontrols={_id:options._id,width:options.width,height:options.height,worker,draw:props=>{worker.postMessage({route:"drawFrame",args:[props,options._id]})},update:props=>{worker.postMessage({route:"updateCanvas",args:[props,options._id]})},clear:()=>{worker.postMessage({route:"clearCanvas",args:options._id})},init:()=>{worker.postMessage({route:"initCanvas",args:options._id})},stop:()=>{worker.postMessage({route:"stopAnim",args:options._id})},start:()=>{worker.postMessage({route:"startAnim",args:options._id})},set:newDrawProps=>{worker.postMessage({route:"setDraw",args:[newDrawProps,options._id]})},terminate:()=>{worker.terminate()}};return canvascontrols}function setDraw(settings,_id){let canvasopts;if(this?.__node?.graph){if(_id)canvasopts=this.__node.graph.CANVASES?.[settings._id];else if(settings._id)canvasopts=this.__node.graph.CANVASES?.[settings._id];else canvasopts=this.__node.graph.CANVASES?.[Object.keys(this.__node.graph.CANVASES)[0]]}else{if(_id)canvasopts=globalThis.CANVASES?.[settings._id];else if(settings._id)canvasopts=globalThis.CANVASES?.[settings._id];else canvasopts=globalThis.CANVASES?.[Object.keys(globalThis.CANVASES)[0]]}if(canvasopts){if(settings.canvas){canvasopts.canvas=settings.canvas;if(this?.__node?.graph)this.__node.graph.run("makeProxy",canvasopts._id,canvasopts.canvas);else proxyElementWorkerRoutes.makeProxy(canvasopts._id,canvasopts.canvas)}if(typeof settings.context==="string")canvasopts.context=canvasopts.canvas.getContext(settings.context);else if(settings.context)canvasopts.context=settings.context;if(settings.width)canvasopts.canvas.width=settings.width;if(settings.height)canvasopts.canvas.height=settings.height;if(typeof settings.draw==="string")settings.draw=parseFunctionFromText2(settings.draw);if(typeof settings.draw==="function"){canvasopts.draw=settings.draw}if(typeof settings.update==="string")settings.update=parseFunctionFromText2(settings.update);if(typeof settings.update==="function"){canvasopts.update=settings.update}if(typeof settings.init==="string")settings.init=parseFunctionFromText2(settings.init);if(typeof settings.init==="function"){canvasopts.init=settings.init}if(typeof settings.clear==="string")settings.clear=parseFunctionFromText2(settings.clear);if(typeof settings.clear==="function"){canvasopts.clear=settings.clear}return settings._id}return void 0}function setupCanvas(options){if(this?.__node?.graph){if(!this.__node.graph.CANVASES)this.__node.graph.CANVASES={}}else if(!globalThis.CANVASES)globalThis.CANVASES={};let canvasOptions=options;options._id?canvasOptions._id=options._id:canvasOptions._id=`canvas${Math.floor(Math.random()*1e15)}`;typeof options.context==="string"?canvasOptions.context=options.canvas.getContext(options.context):canvasOptions.context=options.context;"animating"in options?canvasOptions.animating=options.animating:canvasOptions.animating=true;if(this?.__node?.graph?.CANVASES[canvasOptions._id]){this.__node.graph.run("setDraw",canvasOptions)}else if(globalThis.CANVASES?.[canvasOptions._id]){setDraw(canvasOptions)}else{if(this?.__node?.graph)canvasOptions.graph=this.__node.graph;if(this?.__node?.graph)this.__node.graph.CANVASES[canvasOptions._id]=canvasOptions;else globalThis.CANVASES[canvasOptions._id]=canvasOptions;if(this?.__node.graph)this.__node.graph.run("makeProxy",canvasOptions._id,canvasOptions.canvas);else proxyElementWorkerRoutes.makeProxy(canvasOptions._id,canvasOptions.canvas);if(options.width)canvasOptions.canvas.width=options.width;if(options.height)canvasOptions.canvas.height=options.height;if(typeof canvasOptions.draw==="string"){canvasOptions.draw=parseFunctionFromText2(canvasOptions.draw)}else if(typeof canvasOptions.draw==="function"){canvasOptions.draw=canvasOptions.draw}if(typeof canvasOptions.update==="string"){canvasOptions.update=parseFunctionFromText2(canvasOptions.update)}else if(typeof canvasOptions.update==="function"){canvasOptions.update=canvasOptions.update}if(typeof canvasOptions.init==="string"){canvasOptions.init=parseFunctionFromText2(canvasOptions.init)}else if(typeof canvasOptions.init==="function"){canvasOptions.init=canvasOptions.init}if(typeof canvasOptions.clear==="string"){canvasOptions.clear=parseFunctionFromText2(canvasOptions.clear)}else if(typeof canvasOptions.clear==="function"){canvasOptions.clear=canvasOptions.clear}if(typeof canvasOptions.init==="function")canvasOptions.init(canvasOptions,canvasOptions.canvas,canvasOptions.context);canvasOptions.stop=()=>{stopAnim(canvasOptions._id)};canvasOptions.start=draw=>{startAnim(canvasOptions._id,draw)};canvasOptions.set=settings=>{setDraw(settings,canvasOptions._id)};if(typeof canvasOptions.draw==="function"&&canvasOptions.animating){let draw=(s,canvas,context)=>{if(s.animating){s.draw(s,canvas,context);requestAnimationFrame(()=>{draw(s,canvas,context)})}};draw(canvasOptions,canvasOptions.canvas,canvasOptions.context)}}if(typeof WorkerGlobalScope!=="undefined"&&self instanceof WorkerGlobalScope)return canvasOptions._id;else{const canvascontrols={_id:options._id,width:options.width,height:options.height,draw:props=>{drawFrame(props,options._id)},update:props=>{updateCanvas(props,options._id)},clear:()=>{clearCanvas(options._id)},init:()=>{initCanvas(options._id)},stop:()=>{stopAnim(options._id)},start:()=>{startAnim(options._id)},set:newDrawProps=>{setDraw(newDrawProps,options._id)},terminate:()=>{stopAnim(options._id)}};return canvascontrols}}function drawFrame(props,_id){let canvasopts;if(this?.__node?.graph){if(!_id)canvasopts=this.__node.graph.CANVASES?.[Object.keys(this.__node.graph.CANVASES)[0]];else canvasopts=this.__node.graph.CANVASES?.[_id]}else{if(!_id)canvasopts=globalThis.CANVASES?.[Object.keys(globalThis.CANVASES)[0]];else canvasopts=globalThis.CANVASES?.[_id]}if(canvasopts){if(props)Object.assign(canvasopts,props);if(canvasopts.draw){canvasopts.draw(canvasopts,canvasopts.canvas,canvasopts.context);return _id}}return void 0}function clearCanvas(_id){let canvasopts;if(this?.__node?.graph){if(!_id)canvasopts=this.__node.graph.CANVASES?.[Object.keys(this.__node.graph.CANVASES)[0]];else canvasopts=this.__node.graph.CANVASES?.[_id]}else{if(!_id)canvasopts=globalThis.CANVASES?.[Object.keys(globalThis.CANVASES)[0]];else canvasopts=globalThis.CANVASES?.[_id]}if(canvasopts?.clear){canvasopts.clear(canvasopts,canvasopts.canvas,canvasopts.context);return _id}return void 0}function initCanvas(_id){let canvasopts;if(this?.__node?.graph){if(!_id)canvasopts=this.__node.graph.CANVASES?.[Object.keys(this.__node.graph.CANVASES)[0]];else canvasopts=this.__node.graph.CANVASES?.[_id]}else{if(!_id)canvasopts=globalThis.CANVASES?.[Object.keys(globalThis.CANVASES)[0]];else canvasopts=globalThis.CANVASES?.[_id]}if(canvasopts?.init){canvasopts.init(canvasopts,canvasopts.canvas,canvasopts.context);return _id}return void 0}function updateCanvas(input,_id){let canvasopts;if(this?.__node?.graph){if(!_id)canvasopts=this.__node.graph.CANVASES?.[Object.keys(this.__node.graph.CANVASES)[0]];else canvasopts=this.__node.graph.CANVASES?.[_id]}else{if(!_id)canvasopts=globalThis.CANVASES?.[Object.keys(globalThis.CANVASES)[0]];else canvasopts=globalThis.CANVASES?.[_id]}if(canvasopts?.update){canvasopts.update(canvasopts,canvasopts.canvas,canvasopts.context,input);return _id}return void 0}function setProps(props,_id){let canvasopts;if(this?.__node?.graph){if(!_id)canvasopts=this.__node.graph.CANVASES?.[Object.keys(this.__node.graph.CANVASES)[0]];else canvasopts=this.__node.graph.CANVASES?.[_id]}else{if(!_id)canvasopts=globalThis.CANVASES?.[Object.keys(globalThis.CANVASES)[0]];else canvasopts=globalThis.CANVASES?.[_id]}if(canvasopts){Object.assign(canvasopts,props);if(props.width)canvasopts.canvas.width=props.width;if(props.height)canvasopts.canvas.height=props.height;return _id}return void 0}function startAnim(_id,draw){let canvasopts;if(this?.__node?.graph){if(!_id)canvasopts=this.__node.graph.CANVASES?.[Object.keys(this.__node.graph.CANVASES)[0]];else canvasopts=this.__node.graph.CANVASES?.[_id]}else{if(!_id)canvasopts=globalThis.CANVASES?.[Object.keys(globalThis.CANVASES)[0]];else canvasopts=globalThis.CANVASES?.[_id]}canvasopts.animating=true;if(canvasopts&&draw){if(typeof draw==="string")draw=parseFunctionFromText2(draw);if(typeof draw==="function"){canvasopts.draw=draw}return _id}if(typeof canvasopts?.draw==="function"){let draw2=(s,canvas,context)=>{if(s.animating){s.draw(s,canvas,context);requestAnimationFrame(()=>{draw2(s,canvas,context)})}};if(typeof canvasopts.clear==="function")canvasopts.clear(canvasopts,canvasopts.canvas,canvasopts.context);if(typeof canvasopts.init==="function")canvasopts.init(canvasopts,canvasopts.canvas,canvasopts.context);draw2(canvasopts,canvasopts.canvas,canvasopts.context);return _id}return void 0}function stopAnim(_id){let canvasopts;if(this?.__node?.graph){if(!_id)canvasopts=this.__node.graph.CANVASES?.[Object.keys(this.__node.graph.CANVASES)[0]];else canvasopts=this.__node.graph.CANVASES?.[_id]}else{if(!_id)canvasopts=globalThis.CANVASES?.[Object.keys(globalThis.CANVASES)[0]];else canvasopts=globalThis.CANVASES?.[_id]}if(canvasopts){canvasopts.animating=false;if(typeof canvasopts.clear==="function")canvasopts.clear(canvasopts,canvasopts.canvas,canvasopts.context);return _id}return void 0}var workerCanvasRoutes={...proxyElementWorkerRoutes,Renderer,transferCanvas,setupCanvas,setDraw,drawFrame,clearCanvas,initCanvas,updateCanvas,setProps,startAnim,stopAnim};function parseFunctionFromText2(method=""){let getFunctionBody=methodString=>{return methodString.replace(/^\\W*(function[^{]+\\{([\\s\\S]*)\\}|[^=]+=>[^{]*\\{([\\s\\S]*)\\}|[^=]+=>(.+))/i,"$2$3$4")};let getFunctionHead=methodString=>{let startindex=methodString.indexOf("=>")+1;if(startindex<=0){startindex=methodString.indexOf("){")}if(startindex<=0){startindex=methodString.indexOf(") {")}return methodString.slice(0,methodString.indexOf("{",startindex)+1)};let newFuncHead=getFunctionHead(method);let newFuncBody=getFunctionBody(method);let newFunc;if(newFuncHead.includes("function")){let varName=newFuncHead.split("(")[1].split(")")[0];newFunc=new Function(varName,newFuncBody)}else{if(newFuncHead.substring(0,6)===newFuncBody.substring(0,6)){let varName=newFuncHead.split("(")[1].split(")")[0];newFunc=new Function(varName,newFuncBody.substring(newFuncBody.indexOf("{")+1,newFuncBody.length-1))}else{try{newFunc=(0,eval)(newFuncHead+newFuncBody+"}")}catch{}}}return newFunc}var algorithms={};var loadAlgorithms=settings=>{return Object.assign(algorithms,settings)};function createSubprocess(options,inputs){let ctx={_id:options._id?options._id:`algorithm${Math.floor(Math.random()*1e15)}`,ondata:options.ondata,run:data=>{return ctx.ondata(ctx,data)}};if(options.structs)recursivelyAssign3(ctx,JSON.parse(JSON.stringify(options.structs)));if(inputs)recursivelyAssign3(ctx,JSON.parse(JSON.stringify(inputs)));if(options.oncreate){ctx.oncreate=options.oncreate}if(ctx.oncreate){ctx.oncreate(ctx)}return ctx}var recursivelyAssign3=(target,obj)=>{for(const key in obj){if(typeof obj[key]==="object"&&!Array.isArray(obj[key])){if(typeof target[key]==="object"&&!Array.isArray(target[key]))recursivelyAssign3(target[key],obj[key]);else target[key]=recursivelyAssign3({},obj[key])}else target[key]=obj[key]}return target};var subprocessRoutes={...unsafeRoutes,loadAlgorithms,"initSubprocesses":async function initSubprocesses(subprocesses,service){if(!service)service=this.__node.graph;if(!service)return void 0;for(const p in subprocesses){let s=subprocesses[p];if(!s.worker&&s.url)s.worker=service.addWorker({url:s.url});if(!s.worker)continue;let w=s.worker;let wpId;wpId=service.establishMessageChannel(w.worker,s.source?.worker);if(!s.source)s.source=service;if(typeof s.subprocess==="object"){const p2=s.subprocess;if(!p2.name)continue;if(typeof p2.oncreate==="function"){p2.oncreate=p2.oncreate.toString()}if(typeof p2.ondata==="function"){p2.ondata=p2.ondata.toString()}s.worker.post("addSubprocessTemplate",[p2.name,p2.structs,p2.oncreate,p2.ondata,p2.props]);s.subprocess=p2.name}if(s.init){let r=await w.run(s.init,s.initArgs);s.otherArgs=r}if(s.otherArgs){w.run("setValue",["otherArgsProxy",Array.isArray(s.otherArgs)?s.otherArgs:[s.otherArgs]])}if(s.pipeTo){w.run("setValue",["routeProxy",s.route]);w.run("setValue",["pipeRoute",s.pipeTo.route]);if(s.url&&!s.pipeTo.worker){let w2=service.addWorker({url:s.url});s.pipeTo.portId=service.establishMessageChannel(w.worker,w2.worker);s.pipeTo.worker=w2}if(s.pipeTo.init){s.pipeTo.otherArgs=await s.pipeTo.worker.run(s.pipeTo.init,s.pipeTo.initArgs)}w.run("setValue",["pipePort",s.pipeTo.portId]);if(s.pipeTo.otherArgs)w.run("setValue",["otherPipeArgs",s.pipeTo.otherArgs]);service.transferFunction(w,function pipeResults(data){let inp=data;if(this.__node.graph.otherArgsProxy)inp=[data,...this.__node.graph.otherArgsProxy];let r=this.__node.graph.run(this.__node.graph.routeProxy,inp);if(!s.blocking)return new Promise(res=>{if(r instanceof Promise){r.then(rr=>{if(rr!==void 0){let args=rr;if(this.__node.graph.otherPipeArgs)args=[rr,...this.__node.graph.otherPipeArgs];if(this.workers[this.__node.graph.pipePort]){s.blocking=true;this.workers[this.__node.graph.pipePort].run(this.__node.graph.pipeRoute,args).then(result=>{s.blocking=false;res(result)})}}})}else if(r!==void 0){let args=r;if(this.__node.graph.otherPipeArgs)args=[r,...this.__node.graph.otherPipeArgs];if(this.workers[this.__node.graph.pipePort]){s.blocking=true;this.workers[this.__node.graph.pipePort].run(this.__node.graph.pipeRoute,args).then(result=>{s.blocking=false;res(result)})}}});return void 0},s.route+"_pipeResults");s.route=s.route+"_pipeResults"}else{w.run("setValue",["routeProxy",s.route]);service.transferFunction(w,function routeProxy(data){let r;if(this.__node.graph.otherArgsProxy)r=this.__node.graph.nodes.get(this.__node.graph.routeProxy).__operator(data,...this.__node.graph.otherArgsProxy);else r=this.__node.graph.nodes.get(this.__node.graph.routeProxy).__operator(data);if(this.__node.graph.state.triggers[this.__node.graph.routeProxy]){if(r instanceof Promise){r.then(rr=>{this.setState({[this.__node.graph.routeProxy]:rr})})}else this.setState({[this.__node.graph.routeProxy]:r})}return r},s.route+"_routeProxy");s.route=s.route+"_routeProxy";if(!s.stopped)w.run("subscribeToWorker",[s.subscribeRoute,wpId,s.route]).then(sub=>{s.sub=sub})}s.stop=async()=>{if(s.source&&typeof s.sub==="number"){s.source.unsubscribe(s.subscribeRoute,s.sub);return true}return void 0};s.start=async()=>{if(typeof s.sub!=="number")return w.run("subscribeToWorker",[s.subscribeRoute,wpId,s.route,s.blocking]).then(sub=>{s.sub=sub})};s.setArgs=async args=>{if(Array.isArray(args))await w.run("setValue",["otherArgsProxy",args]);else if(typeof args==="object"){for(const key in args){await w.run("setValue",[key,args[key]])}}return true};s.terminate=()=>{w.terminate();if(s.source?.worker&&typeof s.sub==="number"){s.source.post("unsubscribe",s.sub)}if(s.pipeTo?.worker){s.pipeTo.worker.terminate()}};if(s.callback)w.subscribe(s.route,res=>{if(typeof s.callback==="string")this.__node.graph.run(s.callback,res);else s.callback(res)})}return subprocesses},"addSubprocessTemplate":function subprocesstempalte(name,structs,oncreate,ondata,props){if(typeof oncreate==="string")oncreate=parseFunctionFromText(oncreate);if(typeof ondata==="string")ondata=parseFunctionFromText(ondata);if(typeof ondata==="function"){algorithms[name]={ondata,oncreate:typeof oncreate==="function"?oncreate:null,structs};if(typeof props==="object")Object.assign(algorithms[name],props);return true}},"updateSubprocess":function updatesubprocess(structs,_id){if(!this.__node.graph.ALGORITHMS)this.__node.graph.ALGORITHMS={};if(!_id)_id=Object.keys(this.__node.graph.ALGORITHMS)[0];if(!_id)return;Object.assign(this.__node.graph.ALGORITHMS[_id],structs)},"createSubprocess":function creatsubprocess(options,inputs){if(!this.__node.graph.ALGORITHMS)this.__node.graph.ALGORITHMS={};if(typeof options==="string"){options=algorithms[options]}if(typeof options==="object"){if(typeof options.ondata==="string")options.ondata=parseFunctionFromText(options.ondata);let ctx;if(typeof options?.ondata==="function")ctx=createSubprocess(options,inputs);if(ctx)this.__node.graph.ALGORITHMS[ctx._id]=ctx;console.log(ctx,options);if(ctx)return ctx._id}return false},"runSubprocess":function runsubprocess(data,_id){if(!this.__node.graph.ALGORITHMS)this.__node.graph.ALGORITHMS={};if(!_id)_id=Object.keys(this.__node.graph.ALGORITHMS)[0];if(!_id)return;let res=this.__node.graph.ALGORITHMS[_id].run(data);if(res!==void 0){if(Array.isArray(res)){let pass=[];res.forEach(r=>{if(r!==void 0){pass.push(r);this.__node.graph.setState({[_id]:r})}});if(pass.length>0){return pass}}else{this.__node.graph.setState({[_id]:res});return res}}}};var _ArrayManip=class{constructor(){this.recursivelyAssign=(target,obj)=>{for(const key in obj){if(typeof obj[key]==="object"){if(typeof target[key]==="object")this.recursivelyAssign(target[key],obj[key]);else target[key]=this.recursivelyAssign({},obj[key])}else target[key]=obj[key]}return target}}static autoscale(array,lineIdx=0,nLines=1,centerZero=false,ymin,ymax,clamp){if(array?.length===0)return array;let max=ymax?ymax:Math.max(...array);let min=ymin?ymin:Math.min(...array);let _lines=1/nLines;let scalar=1;if(centerZero){let absmax=Math.max(Math.abs(min),Math.abs(max));if(absmax!==0)scalar=_lines/absmax;return array.map(y=>{if(clamp){if(y<min)y=min;if(y>max)y=max}return y*scalar+(_lines*(lineIdx+1)*2-1-_lines)})}else{if(max===min){if(max!==0){scalar=_lines/max}else if(min!==0){scalar=_lines/Math.abs(min)}}else scalar=_lines/(max-min);return array.map(y=>{if(clamp){if(y<min)y=min;if(y>max)y=max}return 2*((y-min)*scalar-1/(2*nLines))+(_lines*(lineIdx+1)*2-1-_lines)})}}static genTimestamps(ct,sps9){let now=Date.now();let toInterp=[now-ct*1e3/sps9,now];return _ArrayManip.upsample(toInterp,ct)}static absmax(array){return Math.max(Math.abs(Math.min(...array)),Math.max(...array))}static downsample(array,fitCount,scalar=1){if(array.length>fitCount){let output=new Array(fitCount);let incr=array.length/fitCount;let lastIdx=array.length-1;let last=0;let counter=0;for(let i=incr;i<array.length;i+=incr){let rounded=Math.round(i);if(rounded>lastIdx)rounded=lastIdx;for(let j=last;j<rounded;j++){output[counter]+=array[j]}output[counter]/=(rounded-last)*scalar;counter++;last=rounded}return output}else return array}static upsample(array,fitCount,scalar=1){var linearInterpolate=function(before2,after2,atPoint2){return(before2+(after2-before2)*atPoint2)*scalar};var newData=new Array(fitCount);var springFactor=(array.length-1)/(fitCount-1);newData[0]=array[0];for(var i=1;i<fitCount-1;i++){var tmp=i*springFactor;var before=Math.floor(tmp);var after=Math.ceil(tmp);var atPoint=tmp-before;newData[i]=linearInterpolate(array[before],array[after],atPoint)}newData[fitCount-1]=array[array.length-1];return newData}static interpolate(array,fitCount,scalar=1){if(array.length>fitCount){return _ArrayManip.downsample(array,fitCount,scalar)}else if(array.length<fitCount){return _ArrayManip.upsample(array,fitCount,scalar)}return array}static HSLToRGB(h,s,l,scalar=255){s/=100;l/=100;let c=(1-Math.abs(2*l-1))*s,x=c*(1-Math.abs(h/60%2-1)),m=l-c/2,r=0,g=0,b=0;if(0<=h&&h<60){r=c;g=x;b=0}else if(60<=h&&h<120){r=x;g=c;b=0}else if(120<=h&&h<180){r=0;g=c;b=x}else if(180<=h&&h<240){r=0;g=x;b=c}else if(240<=h&&h<300){r=x;g=0;b=c}else if(300<=h&&h<360){r=c;g=0;b=x}r=(r+m)*scalar;g=(g+m)*scalar;b=(b+m)*scalar;return[r,g,b]}static circularBuffer(arr,newEntries){if(newEntries.length<arr.length){let slice=arr.slice(newEntries.length);let len=arr.length;arr.splice(0,len,...slice,...newEntries)}else if(newEntries.length>arr.length){let len=arr.length;arr.splice(0,len,newEntries.slice(len-newEntries.length))}else{arr.splice(0,arr.length,...newEntries)}return arr}static reformatData(data,key){if(Array.isArray(data)){if(Array.isArray(data[0])){let d={};data.forEach((arr,i)=>{d[i]=arr});data=d;if(isNaN(data[0][0]))return void 0}else if(key){data={[key]:data};if(isNaN(data[key][0]))return void 0}else{data={0:data};if(isNaN(data[0][0]))return void 0}}else if(typeof data==="object"){for(const key2 in data){if(typeof data[key2]==="number")data[key2]=[data[key2]];else if(data[key2]?.values){if(typeof data[key2].values==="number")data[key2].values=[data[key2].values]}if(isNaN(data[key2][0]))return void 0}}else if(typeof data==="string"){let split;if(data.includes("\\r\\n")){let lines=data.split("\\r\\n");data={};lines.forEach((l,j)=>{if(l.includes("	")){split=l.split("	")}else if(l.includes(",")){split=l.split(",")}else if(l.includes("|")){split=l.split("|")}split.forEach((val,i)=>{if(val.includes(":")){let[key2,v]=val.split(":");let fl=parseFloat(v);if(fl)data[key2]=[fl];else return void 0}else{let fl=parseFloat(val);if(fl)data[i]=[fl];else return void 0}})})}else if(data.includes("	")){split=data.split("	")}else if(data.includes(",")){split=data.split(",")}else if(data.includes("|")){split=data.split("|")}data={};if(split){split.forEach((val,i)=>{if(val.includes(":")){let[key2,v]=val.split(":");let fl=parseFloat(v);if(fl)data[key2]=[fl];else return void 0}else{let fl=parseFloat(val);if(fl)data[i]=[fl];else return void 0}})}}else if(typeof data==="number"){if(key)data={[key]:[data]};else data={0:[data]}}return data}static padTime(data,lastValue,time,targetFit){let slopeIncr=(data[0]-lastValue)/time/targetFit;let padded=[...new Array(targetFit-data.length).map((_,i)=>lastValue+slopeIncr*(i+1)),...data];return padded}static interpolateForTime(data,time,targetSPS){return _ArrayManip.interpolate(data,Math.ceil(targetSPS*time))}isTypedArray(x){return ArrayBuffer.isView(x)&&Object.prototype.toString.call(x)!=="[object DataView]"}spliceTypedArray(arr,start,end){let s=arr.subarray(0,start);let e;if(end){e=arr.subarray(end+1)}let n;if(s.length>0||e?.length>0)n=new arr.constructor(s.length+e.length);if(s.length>0)n.set(s);if(e&&e.length>0)n.set(e,s.length);return n}};var ArrayManip=_ArrayManip;ArrayManip.bufferValues=(objects,property,keys,buffer)=>{if(!Array.isArray(keys)&&typeof keys==="object")keys=Object.keys(keys);if(!buffer){let object_keys=Object.keys(objects);if(keys)buffer=new Float32Array(object_keys.length*keys.length);else{if(typeof objects[object_keys[0]][property]==="object"){keys=Object.keys(objects[object_keys[0]][property]);buffer=new Float32Array(object_keys.length*keys.length)}else buffer=new Float32Array(object_keys.length)}}let i=0;for(const key in objects){if(objects[key][property]){if(keys){for(let j=0;j<keys.length;j++){buffer[i]=objects[key][property][keys[j]];i++}}else{buffer[i]=objects[key][property];i++}}}return buffer};var rechk=/^([<>])?(([1-9]\\d*)?([xcbB?hHiIfdsp]))*$/;var refmt=/([1-9]\\d*)?([xcbB?hHiIfdsp])/g;var str=(v,o,c)=>String.fromCharCode(...new Uint8Array(v.buffer,v.byteOffset+o,c));var rts=(v,o,c,s)=>new Uint8Array(v.buffer,v.byteOffset+o,c).set(s.split("").map(str2=>str2.charCodeAt(0)));var pst=(v,o,c)=>str(v,o+1,Math.min(v.getUint8(o),c-1));var tsp=(v,o,c,s)=>{v.setUint8(o,s.length);rts(v,o+1,c-1,s)};var lut=le=>({x:c=>[1,c,0],c:c=>[c,1,o=>({u:v=>str(v,o,1),p:(v,c2)=>rts(v,o,1,c2)})],"?":c=>[c,1,o=>({u:v=>Boolean(v.getUint8(o)),p:(v,B)=>v.setUint8(o,B)})],b:c=>[c,1,o=>({u:v=>v.getInt8(o),p:(v,b)=>v.setInt8(o,b)})],B:c=>[c,1,o=>({u:v=>v.getUint8(o),p:(v,B)=>v.setUint8(o,B)})],h:c=>[c,2,o=>({u:v=>v.getInt16(o,le),p:(v,h)=>v.setInt16(o,h,le)})],H:c=>[c,2,o=>({u:v=>v.getUint16(o,le),p:(v,H)=>v.setUint16(o,H,le)})],i:c=>[c,4,o=>({u:v=>v.getInt32(o,le),p:(v,i)=>v.setInt32(o,i,le)})],I:c=>[c,4,o=>({u:v=>v.getUint32(o,le),p:(v,I)=>v.setUint32(o,I,le)})],f:c=>[c,4,o=>({u:v=>v.getFloat32(o,le),p:(v,f)=>v.setFloat32(o,f,le)})],d:c=>[c,8,o=>({u:v=>v.getFloat64(o,le),p:(v,d)=>v.setFloat64(o,d,le)})],s:c=>[1,c,o=>({u:v=>str(v,o,c),p:(v,s)=>rts(v,o,c,s.slice(0,c))})],p:c=>[1,c,o=>({u:v=>pst(v,o,c),p:(v,s)=>tsp(v,o,c,s.slice(0,c-1))})]});var errbuf=new RangeError("Structure larger than remaining buffer");var errval=new RangeError("Not enough values for structure");var _ByteParser=class extends ArrayManip{static toDataView(value){if(!(value instanceof DataView)){if(typeof value==="string"&&parseInt(value))value=parseInt(value);if(typeof value==="string"){let enc=new TextEncoder;let hascodes={};for(const code in _ByteParser.codes){while(value.indexOf(code)>-1){let idx=value.indexOf(code);value=value.replace(code,"");hascodes[idx]=code}}let encoded=Array.from(enc.encode(value));for(const key in hascodes){encoded.splice(parseInt(key),0,_ByteParser.codes[hascodes[key]])}value=new DataView(new Uint8Array(encoded).buffer)}else if(typeof value==="number"){let tmp=value;if(value<256){value=new DataView(new ArrayBuffer(1));value.setUint8(0,tmp)}else if(value<65536){value=new DataView(new ArrayBuffer(2));value.setInt16(0,tmp)}else{value=new DataView(new ArrayBuffer(4));value.setUint32(0,tmp)}}else if(value instanceof ArrayBuffer||typeof SharedArrayBuffer!=="undefined"&&value instanceof SharedArrayBuffer){value=new DataView(value)}else if(Array.isArray(value)){value=new DataView(Uint8Array.from(value).buffer)}else if(typeof value==="object"){value=new TextEncoder().encode(JSON.stringify(value))}}return value}static searchBuffer(buffer,searchString,limit){var needle=searchString;var haystack=buffer;var search=_ByteParser.boyerMoore(needle);var skip=search.byteLength;var indices=[];for(var i=search(haystack);i!==-1;i=search(haystack,i+skip)){indices.push(i);if(limit){if(indices.length>=limit)break}}return indices}static bytesToInt16(x0,x1){let int16=(255&x0)<<8|255&x1;if((int16&32768)>0){int16|=4294901760}else{int16&=65535}return int16}static bytesToUInt16(x0,x1){return x0*256+x1}static Uint16ToBytes(y){return[y&255,y>>8&255]}static bytesToInt24(x0,x1,x2){let int24=(255&x0)<<16|(255&x1)<<8|255&x2;if((int24&8388608)>0){int24|=4278190080}else{int24&=16777215}return int24}static bytesToUInt24(x0,x1,x2){return x0*65536+x1*256+x2}static Uint24ToBytes(y){return[y&255,y>>8&255,y>>16&255]}static bytesToInt32(x0,x1,x2,x3){let int32=(255&x0)<<24|(255&x1)<<16|(255&x2)<<8|255&x3;if((int32&2147483648)>0){int32|=0}else{int32&=4294967295}return int32}static bytesToUInt32(x0,x1,x2,x3){return x0*16777216+x1*65536+x2*256+x3}static Uint32ToBytes(y){return[y&255,y>>8&255,y>>16&255,y>>24&255]}static get2sCompliment(val,nbits3){if(val>4294967296)return null;return val<<32-nbits3>>32-nbits3}static getSignedInt(...args){let pos=0;function getInt(size){var value=0;var first=true;while(size--){if(first){let byte=args[pos++];value+=byte&127;if(byte&128){value-=128}first=false}else{value*=256;value+=args[pos++]}}return value}return getInt(args.length)}static asUint8Array(input){if(input instanceof Uint8Array){return input}else if(typeof input==="string"){var arr=new Uint8Array(input.length);for(var i=0;i<input.length;i++){var c=input.charCodeAt(i);if(c>127){throw new TypeError("Only ASCII patterns are supported")}arr[i]=c}return arr}else{return new Uint8Array(input)}}static boyerMoore(patternBuffer){var pattern=_ByteParser.asUint8Array(patternBuffer);var M=pattern.length;if(M===0){throw new TypeError("patternBuffer must be at least 1 byte long")}var R=256;var rightmost_positions=new Int32Array(R);for(var c=0;c<R;c++){rightmost_positions[c]=-1}for(var j=0;j<M;j++){rightmost_positions[pattern[j]]=j}var boyerMooreSearch=(txtBuffer,start,end)=>{var txt=_ByteParser.asUint8Array(txtBuffer);if(start===void 0)start=0;if(end===void 0)end=txt.length;var pat=pattern;var right=rightmost_positions;var lastIndex=end-pat.length;var lastPatIndex=pat.length-1;var skip;for(var i=start;i<=lastIndex;i+=skip){skip=0;for(var j2=lastPatIndex;j2>=0;j2--){var c2=txt[i+j2];if(pat[j2]!==c2){skip=Math.max(1,j2-right[c2]);break}}if(skip===0){return i}}return-1};boyerMooreSearch.byteLength=pattern.byteLength;return boyerMooreSearch}static struct(format){let fns=[],size=0,m=rechk.exec(format);if(!m){throw new RangeError("Invalid format string")}const t=lut("<"===m[1]),lu=(n,c)=>t[c](n?parseInt(n,10):1);while(m=refmt.exec(format)){((r,s,f)=>{for(let i=0;i<r;++i,size+=s){if(f){fns.push(f(size))}}})(...lu(...m.slice(1)))}const unpack_from=(arrb,offs)=>{if(arrb.byteLength<(offs|0)+size){throw errbuf}let v=new DataView(arrb,offs|0);return fns.map(f=>f.u(v))};const pack_into=(arrb,offs,...values)=>{if(values.length<fns.length){throw errval}if(arrb.byteLength<offs+size){throw errbuf}const v=new DataView(arrb,offs);new Uint8Array(arrb,offs,size).fill(0);fns.forEach((f,i)=>f.p(v,values[i]))};const pack=(...values)=>{let b=new ArrayBuffer(size);pack_into(b,0,...values);return b};const unpack=arrb=>unpack_from(arrb,0);function*iter_unpack(arrb){for(let offs=0;offs+size<=arrb.byteLength;offs+=size){yield unpack_from(arrb,offs)}}return Object.freeze({unpack,pack,unpack_from,pack_into,iter_unpack,format,size})}};var ByteParser=_ByteParser;ByteParser.codes={"\\\\n":10,"\\\\r":13,"\\\\t":9,"\\\\s":32,"\\\\b":8,"\\\\f":12,"\\\\":92};var WebSerial=class extends ByteParser{constructor(){super(...arguments);this.streams={};this.createStream=options=>{let stream={_id:options._id?options._id:`stream${Math.floor(Math.random()*1e15)}`,info:options.port.getInfo(),running:false,...options};if(options.port?.readable){if(options.transforms){stream.reader=WebSerial.setStreamTransforms(options.port.readable,options.transforms).getReader()}else{stream.reader=options.port.readable.getReader()}}this.streams[stream._id]=stream;return stream}}getPorts(){return navigator.serial.getPorts()}requestPort(usbVendorId,usbProductId){let options={};if(usbVendorId){options.usbVendorId=usbVendorId}if(usbProductId){options.usbProductId=usbProductId}if(options.usbVendorId)return navigator.serial.requestPort({filters:[options]});else return navigator.serial.requestPort()}openPort(port,options){if(options)options=Object.assign({},options);if(options?.ondisconnect){port.ondisconnect=options.ondisconnect;delete options.ondisconnect}return port.open(options).then(()=>{if(options?.onconnect)options.onconnect(port)})}async readWithTimeout(port,timeout){const reader=port.readable.getReader();const timer=setTimeout(()=>{reader.releaseLock()},timeout);const result=await reader.read();clearTimeout(timer);reader.releaseLock();return result}async writePort(port,message){const writer=port.writable.getWriter();await writer.write(WebSerial.toDataView(message));writer.releaseLock();return true}getSignals(port){return port.getSignals()}setSignals(port,signals){return port.setSignals(signals)}readStream(stream){if(stream.reader&&!stream.running){let reader=stream.reader;if(stream.buffering){if(typeof stream.buffering!=="object")stream.buffering={};if(!stream.buffering.buffer){stream.buffering.buffer=[]}if(!stream.buffering.searchBytes)stream.buffering.searchBytes=new Uint8Array([13,10])}let readLoop=()=>{if(stream.port.readable&&stream.running){reader.read().then(result=>{if(result.done)reader.releaseLock();else{if(stream.buffering){stream.buffering.buffer.push(...result.value);const needle=stream.buffering.searchBytes;const haystack=stream.buffering.buffer;const search=WebSerial.boyerMoore(needle);const skip=search.byteLength;let nextIndex=-1;for(var i=search(haystack);i!==-1;i=search(haystack,i+skip)){if(!stream.buffering.locked&&!("lockIdx"in stream.buffering))stream.buffering.lockIdx=i;else{nextIndex=i;if(nextIndex>=0){if(!stream.buffering.locked){stream.ondata(new Uint8Array(stream.buffering.buffer.splice(stream.buffering.lockIdx+stream.buffering.searchBytes.length,nextIndex+stream.buffering.searchBytes.length)));stream.buffering.buffer.splice(0,stream.buffering.searchBytes.length);stream.buffering.locked=true}else if(nextIndex>0){stream.ondata(new Uint8Array(stream.buffering.buffer.splice(stream.buffering.searchBytes.length,nextIndex)))}}}}}else stream.ondata(result.value);setTimeout(()=>{readLoop()},stream.frequency)}}).catch(er=>{console.error(stream._id," Read error:",er);if(er.message.includes("overrun")||er.message.includes("framing")){delete stream.reader;this.reconnect(stream)}})}else if(!stream.running&&stream.port.readable){try{reader.releaseLock()}catch(er){console.error(er)}}};stream.running=true;readLoop();return stream}return void 0}writeStream(stream,message){if(typeof stream==="string")stream=this.streams[stream];if(stream.port.writable){let writer=stream.port.writable.getWriter();writer.write(WebSerial.toDataView(message));writer.releaseLock();return true}return void 0}closeStream(stream,onclose){if(typeof stream==="string")stream=this.streams[stream];stream.running=false;return new Promise((res,rej)=>{setTimeout(async()=>{if(stream.port.readable&&stream.reader){try{stream.reader.releaseLock()}catch(er){console.error(er)}if(stream.transforms)try{await stream.reader.cancel()}catch(err){console.error(err)}}try{await stream.port.close().then(()=>{if(onclose)onclose(this.streams[stream._id])});delete this.streams[stream._id];res(true)}catch(er){rej(er)}},300)})}reconnect(stream,options){if(typeof stream==="string")stream=this.streams[stream];return new Promise((res,rej)=>{if(typeof stream!=="object"){rej(void 0);return}let info=stream.port.getInfo();this.closeStream(stream._id).then(closed=>{setTimeout(()=>{this.getPorts().then(ports=>{for(let i=0;i<ports.length;i++){if(ports[i].getInfo().usbVendorId===info.usbVendorId&&ports[i].getInfo().usbProductId===info.usbProductId){if(!options)options=stream;else options._id=stream._id;delete options.port;this.openPort(ports[i],options.settings).then(()=>{const stream2=this.createStream({...options,port:ports[i]});this.readStream(stream2);res(stream2)}).catch(rej)}}}).catch(rej)},100)})})}static setStreamTransforms(stream,transforms){let transform=[];Object.keys(transforms).forEach(t=>{let opt=transforms[t];if(opt instanceof TransformStream){transform.push(opt)}else{if(!opt.start)opt.start=function start(){};if(!opt.flush)opt.flush=function flush(){};let transformer=new TransformStream({start:opt.start,transform:opt.transform,flush:opt.flush},opt.writableStrategy,opt.readableStrategy);transform.push(transformer)}});let str2=stream;transform.forEach(transform2=>{str2=str2.pipeThrough(transform2)});return str2}};function ads131m08codec(data){let arr;if(data.getInt8)arr=new Uint8Array(data.buffer);else if(!data.buffer)arr=new Uint8Array(data);else arr=data;let output={0:new Array(9),1:new Array(9),2:new Array(9),3:new Array(9),4:new Array(9),5:new Array(9),6:new Array(9),7:new Array(9),timestamp:Date.now()};for(let i=0;i<9;i++){let j=i*25;output[0][i]=ByteParser.bytesToInt24(arr[j],arr[j+1],arr[j+2]);output[1][i]=ByteParser.bytesToInt24(arr[j+3],arr[j+4],arr[j+5]);output[2][i]=ByteParser.bytesToInt24(arr[j+6],arr[j+7],arr[j+8]);output[3][i]=ByteParser.bytesToInt24(arr[j+9],arr[j+10],arr[j+11]);output[4][i]=ByteParser.bytesToInt24(arr[j+12],arr[j+13],arr[j+14]);output[5][i]=ByteParser.bytesToInt24(arr[j+15],arr[j+16],arr[j+17]);output[6][i]=ByteParser.bytesToInt24(arr[j+18],arr[j+19],arr[j+20]);output[7][i]=ByteParser.bytesToInt24(arr[j+21],arr[j+22],arr[j+23])}return output}var decoder=new TextDecoder;function ads131m08_arduinocodec(data){const parsed=decoder.decode(data);let split;if(parsed.includes("|"))split=parsed.split("|");else if(split.includes(","))split=parsed.split(",");else split=parsed.split("	");return{"0":parseInt(split[0]),"1":parseInt(split[1]),"2":parseInt(split[2]),"3":parseInt(split[3]),"4":parseInt(split[4]),"5":parseInt(split[5]),"6":parseInt(split[6]),"7":parseInt(split[7]),timestamp:Date.now()}}var sps=250;var defaultChartSetting={nSec:10,sps,units:"mV"};var ads131m08ChartSettings={lines:{"0":JSON.parse(JSON.stringify(defaultChartSetting)),"1":JSON.parse(JSON.stringify(defaultChartSetting)),"2":JSON.parse(JSON.stringify(defaultChartSetting)),"3":JSON.parse(JSON.stringify(defaultChartSetting)),"4":JSON.parse(JSON.stringify(defaultChartSetting)),"5":JSON.parse(JSON.stringify(defaultChartSetting)),"6":JSON.parse(JSON.stringify(defaultChartSetting)),"7":JSON.parse(JSON.stringify(defaultChartSetting))}};var gain=32;var nbits=24;var vref=1.2;var defaultsetting={sps,useDCBlock:false,useBandpass:false,bandpassLower:3,bandpassUpper:45,useScaling:true,scalar:.96*1e3*vref/(gain*(Math.pow(2,nbits)-1))};var ads131m08FilterSettings={"0":JSON.parse(JSON.stringify(defaultsetting)),"1":JSON.parse(JSON.stringify(defaultsetting)),"2":JSON.parse(JSON.stringify(defaultsetting)),"3":JSON.parse(JSON.stringify(defaultsetting)),"4":JSON.parse(JSON.stringify(defaultsetting)),"5":JSON.parse(JSON.stringify(defaultsetting)),"6":JSON.parse(JSON.stringify(defaultsetting)),"7":JSON.parse(JSON.stringify(defaultsetting))};function cytoncodec(data){let arr;if(!data.buffer)arr=new Uint8Array(data);else arr=data;let output={};for(let i=0;i<8;i++){let idx=1+3*i;output[i]=ByteParser.bytesToInt24(arr[idx],arr[idx+1],arr[idx+2])}let accIdx=25;output.ax=ByteParser.bytesToInt16(arr[accIdx],arr[accIdx+1]);output.ay=ByteParser.bytesToInt16(arr[accIdx+2],arr[accIdx+3]);output.az=ByteParser.bytesToInt16(arr[accIdx+4],arr[accIdx+5]);output.gx=ByteParser.bytesToInt16(arr[accIdx+6],arr[accIdx+7]);output.gy=ByteParser.bytesToInt16(arr[accIdx+8],arr[accIdx+9]);output.gz=ByteParser.bytesToInt16(arr[accIdx+10],arr[accIdx+11]);output.timestamp=Date.now();return output}var sps2=250;var cytonSerialSettings={baudRate:115200,codec:cytoncodec,write:"b\\n",sps:sps2};var defaultChartSetting2={nSec:10,sps:sps2,units:"mV"};var cytonChartSettings={lines:{"0":JSON.parse(JSON.stringify(defaultChartSetting2)),"1":JSON.parse(JSON.stringify(defaultChartSetting2)),"2":JSON.parse(JSON.stringify(defaultChartSetting2)),"3":JSON.parse(JSON.stringify(defaultChartSetting2)),"4":JSON.parse(JSON.stringify(defaultChartSetting2)),"5":JSON.parse(JSON.stringify(defaultChartSetting2)),"6":JSON.parse(JSON.stringify(defaultChartSetting2)),"7":JSON.parse(JSON.stringify(defaultChartSetting2)),"ax":JSON.parse(JSON.stringify(defaultChartSetting2)),"ay":JSON.parse(JSON.stringify(defaultChartSetting2)),"az":JSON.parse(JSON.stringify(defaultChartSetting2)),"gx":JSON.parse(JSON.stringify(defaultChartSetting2)),"gy":JSON.parse(JSON.stringify(defaultChartSetting2)),"gz":JSON.parse(JSON.stringify(defaultChartSetting2))},generateNewLines:true};var defaultsetting2={sps:sps2,useDCBlock:true,useBandpass:true,bandpassLower:3,bandpassUpper:45,useScaling:true,scalar:1e3*4.5/(24*(Math.pow(2,23)-1))};var cytonFilterSettings={"0":JSON.parse(JSON.stringify(defaultsetting2)),"1":JSON.parse(JSON.stringify(defaultsetting2)),"2":JSON.parse(JSON.stringify(defaultsetting2)),"3":JSON.parse(JSON.stringify(defaultsetting2)),"4":JSON.parse(JSON.stringify(defaultsetting2)),"5":JSON.parse(JSON.stringify(defaultsetting2)),"6":JSON.parse(JSON.stringify(defaultsetting2)),"7":JSON.parse(JSON.stringify(defaultsetting2)),"8":JSON.parse(JSON.stringify(defaultsetting2)),"9":JSON.parse(JSON.stringify(defaultsetting2)),"10":JSON.parse(JSON.stringify(defaultsetting2)),"11":JSON.parse(JSON.stringify(defaultsetting2)),"12":JSON.parse(JSON.stringify(defaultsetting2)),"13":JSON.parse(JSON.stringify(defaultsetting2)),"14":JSON.parse(JSON.stringify(defaultsetting2)),"15":JSON.parse(JSON.stringify(defaultsetting2))};function freeeeg128codec(data){let arr;if(data.getInt8)arr=new Uint8Array(data.buffer);else if(!data.buffer)arr=new Uint8Array(data);else arr=data;let output={};for(let i=0;i<128;i++){let idx=i*3+1;output[i]=ByteParser.bytesToInt24(arr[idx],arr[idx+1],arr[idx+2])}let accIdx=385;output["ax"]=ByteParser.bytesToInt16(arr[accIdx],arr[accIdx+1]);output["ay"]=ByteParser.bytesToInt16(arr[accIdx+2],arr[accIdx+3]);output["az"]=ByteParser.bytesToInt16(arr[accIdx+4],arr[accIdx+5]);output["gx"]=ByteParser.bytesToInt16(arr[accIdx+6],arr[accIdx+7]);output["gy"]=ByteParser.bytesToInt16(arr[accIdx+8],arr[accIdx+9]);output["gz"]=ByteParser.bytesToInt16(arr[accIdx+10],arr[accIdx+11]);output.timestamp=Date.now();return output}var sps3=250;var freeeeg128SerialSettings={baudRate:921600,bufferSize:2e3,frequency:1.9,codec:freeeeg128codec,sps:sps3};var freeeeg128ChartSettings={lines:{"ax":{nSec:10,sps:sps3},"ay":{nSec:10,sps:sps3},"az":{nSec:10,sps:sps3},"gx":{nSec:10,sps:sps3},"gy":{nSec:10,sps:sps3},"gz":{nSec:10,sps:sps3}}};var freeeeg128FilterSettings={};for(let i=0;i<128;i++){freeeeg128ChartSettings.lines[i]={sps:sps3,nSec:10,units:"mV"};freeeeg128FilterSettings[i]={sps:250,useDCBlock:true,useBandpass:true,bandpassLower:3,bandpassUpper:45,scalar:1e3*2.5/(32*(Math.pow(2,24)-1))}}function freeeeg32codec(data){let arr;if(data.getInt8)arr=new Uint8Array(data.buffer);else if(!data.buffer)arr=new Uint8Array(data);else arr=data;let output={};for(let i=0;i<32;i++){let idx=i*3+1;output[i]=ByteParser.bytesToInt24(arr[idx],arr[idx+1],arr[idx+2])}let accIdx=97;output["ax"]=ByteParser.bytesToInt16(arr[accIdx],arr[accIdx+1]);output["ay"]=ByteParser.bytesToInt16(arr[accIdx+2],arr[accIdx+3]);output["az"]=ByteParser.bytesToInt16(arr[accIdx+4],arr[accIdx+5]);output["gx"]=ByteParser.bytesToInt16(arr[accIdx+6],arr[accIdx+7]);output["gy"]=ByteParser.bytesToInt16(arr[accIdx+8],arr[accIdx+9]);output["gz"]=ByteParser.bytesToInt16(arr[accIdx+10],arr[accIdx+11]);output.timestamp=Date.now();return output}var sps4=512;var freeeeg32SerialSettings={baudRate:921600,bufferSize:2e3,frequency:1.9,codec:freeeeg32codec,sps:sps4};var freeeeg32_optical_SerialSettings={baudRate:1e6,bufferSize:2e3,frequency:1.9,codec:freeeeg32codec,sps:sps4};var defaultChartSetting3={nSec:10,sps:sps4};var freeeeg32ChartSettings={lines:{"ax":JSON.parse(JSON.stringify(defaultChartSetting3)),"ay":JSON.parse(JSON.stringify(defaultChartSetting3)),"az":JSON.parse(JSON.stringify(defaultChartSetting3)),"gx":JSON.parse(JSON.stringify(defaultChartSetting3)),"gy":JSON.parse(JSON.stringify(defaultChartSetting3)),"gz":JSON.parse(JSON.stringify(defaultChartSetting3))}};var freeeeg32FilterSettings={};for(let i=0;i<32;i++){freeeeg32ChartSettings.lines[i]={sps:sps4,nSec:10,units:"mV"};freeeeg32FilterSettings[i]={sps:sps4,useDCBlock:true,useBandpass:true,bandpassLower:3,bandpassUpper:45,useScaling:true,scalar:1e3*2.5/(8*(Math.pow(2,24)-1))}}var textdecoder=new TextDecoder;function hegduinocodec(value){let output={timestamp:0,red:0,infrared:0,heg:0,ambient:0,temperature:0};let txt=textdecoder.decode(value);let line=txt.split("|");if(line.length===3){output.timestamp=Date.now();output.red=parseInt(line[0]);output.infrared=parseInt(line[1]);output.heg=parseFloat(line[2])}else if(line.length>=2){output.timestamp=Date.now();output.red=parseInt(line[1]);output.infrared=parseInt(line[2]);output.heg=parseFloat(line[3]);if(line[4])output.ambient=parseFloat(line[4]);if(line[5])output.temperature=parseFloat(line[5]);return output}else return txt}var sps5=40;var hegduinoSerialSettings={baudRate:115200,write:"t\\n",codec:hegduinocodec,sps:sps5};var hegduinoV1SerialSettings=Object.assign({},hegduinoSerialSettings);hegduinoV1SerialSettings.sps=19;var hegduinoBLESettings={sps:sps5,services:{["6E400001-B5A3-F393-E0A9-E50E24DCCA9E".toLowerCase()]:{"6e400002-b5a3-f393-e0a9-e50e24dcca9e":{write:"t"},"6e400003-b5a3-f393-e0a9-e50e24dcca9e":{notify:true,notifyCallback:void 0,codec:hegduinocodec,sps:sps5}},["6E400004-B5A3-F393-E0A9-E50E24DCCA9E".toLowerCase()]:{["6E400005-B5A3-F393-E0A9-E50E24DCCA9E".toLowerCase()]:{read:true},["6E400006-B5A3-F393-E0A9-E50E24DCCA9E".toLowerCase()]:{write:void 0,notify:true,notifyCallback:void 0},["6E400007-B5A3-F393-E0A9-E50E24DCCA9E".toLowerCase()]:{read:true}}},androidWebBLE:"o"};var hegduinoV1BLESettings=Object.assign({},hegduinoSerialSettings);hegduinoV1BLESettings.sps=19;function max3010xcodec(data){let arr;if(data.getInt8)arr=new Uint8Array(data.buffer);else if(!data.buffer)arr=new Uint8Array(data);else arr=data;const output={"red":new Array(32),"ir":new Array(32),"max_dietemp":ByteParser.get2sCompliment(arr[193],8)+.0625*arr[194],"timestamp":Date.now()};let i=0;while(i<32){let idx=i*6;if(i%2===0){output["ir"][i]=(arr[idx+1]<<16|arr[idx+2]<<8|arr[idx+3])&524287;output["ir"][i+1]=(arr[idx+4]<<16|arr[idx+5]<<8|arr[idx+6])&524287}else{output["red"][i-1]=(arr[idx+1]<<16|arr[idx+2]<<8|arr[idx+3])&524287;output["red"][i]=(arr[idx+4]<<16|arr[idx+5]<<8|arr[idx+6])&524287}i++}return output}function mpu6050codec(data){let arr;if(data.getInt8)arr=new Uint8Array(data.buffer);else if(!data.buffer)arr=new Uint8Array(data);else arr=data;let output={"ax":new Array(20),"ay":new Array(20),"az":new Array(20),"gx":new Array(20),"gy":new Array(20),"gz":new Array(20),"mpu_dietemp":(ByteParser.bytesToInt16(arr[241],arr[242])+521)/340+35,timestamp:Date.now()};for(let i=0;i<20;i++){let idx=i*12;output.ax[i]=ByteParser.bytesToInt16(arr[idx+1],arr[idx+2]);output.ay[i]=ByteParser.bytesToInt16(arr[idx+3],arr[idx+4]);output.az[i]=ByteParser.bytesToInt16(arr[idx+5],arr[idx+6]);output.gx[i]=ByteParser.bytesToInt16(arr[idx+7],arr[idx+8]);output.gy[i]=ByteParser.bytesToInt16(arr[idx+9],arr[idx+10]);output.gz[i]=ByteParser.bytesToInt16(arr[idx+11],arr[idx+12])}return output}function cognixionONE_EEG_codec(data){let arr;if(data.getInt8)arr=new Uint8Array(data.buffer);else if(!data.buffer)arr=new Uint8Array(data);else arr=data;let output={0:new Array,1:new Array,2:new Array,3:new Array,4:new Array,5:new Array,6:new Array,7:new Array,timestamp:Date.now()};for(let i=0;i<7;i++){let j=i*26+1;if(!arr[j+23])break;output[0][i]=ByteParser.bytesToUInt24(arr[j],arr[j+1],arr[j+2]);output[1][i]=ByteParser.bytesToUInt24(arr[j+3],arr[j+4],arr[j+5]);output[2][i]=ByteParser.bytesToUInt24(arr[j+6],arr[j+7],arr[j+8]);output[3][i]=ByteParser.bytesToUInt24(arr[j+9],arr[j+10],arr[j+11]);output[4][i]=ByteParser.bytesToUInt24(arr[j+12],arr[j+13],arr[j+14]);output[5][i]=ByteParser.bytesToUInt24(arr[j+15],arr[j+16],arr[j+17]);output[6][i]=ByteParser.bytesToUInt24(arr[j+18],arr[j+19],arr[j+20]);output[7][i]=ByteParser.bytesToUInt24(arr[j+21],arr[j+22],arr[j+23])}return output}var sps6=250;var cognixionONEBLESettings={services:{["82046698-6313-4BB1-9645-6BA28BF86DF5".toLowerCase()]:{["8204669A-6313-4BB1-9645-6BA28BF86DF5".toLowerCase()]:{notify:true,notifyCallback:void 0,codec:cognixionONE_EEG_codec,sps:sps6}},["82E12914-9AFA-4648-BD1B-8E2B3DC6DAAF".toLowerCase()]:{["82E12915-9AFA-4648-BD1B-8E2B3DC6DAAF".toLowerCase()]:{write:void 0},["82E12916-9AFA-4648-BD1B-8E2B3DC6DAAF".toLowerCase()]:{read:true}}},sps:sps6};var defaultChartSetting4={nSec:10,sps:sps6,units:"mV"};var cognixionONEChartSettings={lines:{"0":JSON.parse(JSON.stringify(defaultChartSetting4)),"1":JSON.parse(JSON.stringify(defaultChartSetting4)),"2":JSON.parse(JSON.stringify(defaultChartSetting4)),"3":JSON.parse(JSON.stringify(defaultChartSetting4)),"4":JSON.parse(JSON.stringify(defaultChartSetting4)),"5":JSON.parse(JSON.stringify(defaultChartSetting4)),"6":JSON.parse(JSON.stringify(defaultChartSetting4)),"7":JSON.parse(JSON.stringify(defaultChartSetting4))}};var PeanutCodes={2:{type:"POOR_SIGNAL",format:"<B",byteLength:1},144:{type:"heg",format:"<i",byteLength:4},145:{type:"filteredHEG",format:"<i",byteLength:4},147:{type:"rawdata4",format:"<iiii",byteLength:4*4},148:{type:"rawdata6",format:"<iiiiii",byteLength:4*6},160:{type:"sampleNumber",format:"<i",byteLength:4},176:{type:"debug0",format:"<i",byteLength:4},177:{type:"debug1",format:"<i",byteLength:4},178:{type:"debug2",format:"<i",byteLength:4},179:{type:"debug3",format:"<i",byteLength:4},180:{type:"debug4",format:"<iiiiii",byteLength:4*6},181:{type:"debug4",format:"<iiiiii",byteLength:4*6},182:{type:"rawdata27",format:"<B"+"i".repeat(26),byteLength:1+4*26}};function peanutcodec(data){let result={};let i=0;while(i<data.length){if(PeanutCodes[data[i]]&&i+1+PeanutCodes[data[i]].byteLength<=data.length){let slice=data.slice(i+1,i+1+PeanutCodes[data[i]].byteLength).buffer;let unpacked=ByteParser.struct(PeanutCodes[data[i]].format).unpack(slice);let code=PeanutCodes[data[i]].type;if(code==="unfilteredHEG"||code==="heg")unpacked=unpacked[0]/256;else if(code==="POOR_SIGNAL"||code==="sampleNumber"||code==="debug0"||code==="debug1"||code==="debug2"||code==="debug3")unpacked=unpacked[0];if(!result[PeanutCodes[data[i]].type]){if(Array.isArray(unpacked))result[PeanutCodes[data[i]].type]=unpacked;else result[PeanutCodes[data[i]].type]=[unpacked]}else{if(Array.isArray(unpacked))result[PeanutCodes[data[i]].type].push(...unpacked);else result[PeanutCodes[data[i]].type].push(unpacked)}i+=PeanutCodes[data[i]].byteLength+1}else i++}result.timestamp=Date.now();return result}var peanutSerialSettings={baudRate:38400,bufferSize:400,write:"protocol 3\\n",buffering:{searchBytes:new Uint8Array([170,170])},codec:peanutcodec,sps:10.101};var sealevel_hpa=1013.25;var bme280codec=data=>{let arr;if(data.getInt8)arr=new Uint8Array(data.buffer);else if(!data.buffer)arr=new Uint8Array(data);else arr=data;let output={temp:[],pressure:[],humidity:[],altitude:[]};for(let j=0;j<3;j++){let i=j*24;let tint=ByteParser.bytesToUInt32(arr[0+i],arr[1+i],arr[2+i],arr[3+i]);let tfrac=ByteParser.bytesToUInt32(arr[4+i],arr[5+i],arr[6+i],arr[7+i]);output.temp.push(tint+tfrac/Math.pow(10,Math.ceil(Math.log10(tfrac))));let pint=ByteParser.bytesToUInt32(arr[8+i],arr[9+i],arr[10+i],arr[11+i]);let pfrac=ByteParser.bytesToUInt32(arr[12+i],arr[13+i],arr[14+i],arr[15+i]);output.pressure.push(pint+pfrac/Math.pow(10,Math.ceil(Math.log10(pfrac))));let hint=ByteParser.bytesToUInt32(arr[16+i],arr[17+i],arr[18+i],arr[19+i]);let hfrac=ByteParser.bytesToUInt32(arr[20+i],arr[21+i],arr[22+i],arr[23+i]);output.humidity.push(hint+hfrac/Math.pow(10,Math.ceil(Math.log10(hfrac))));output.altitude.push(altitude(output.pressure[j],output.temp[j]))}return output};var exponent=1/5.257;var denom=1/.0065;function altitude(pressure,temperature){return(Math.pow(sealevel_hpa/pressure,exponent)-1)*(temperature+273.15)*denom}function nrf5x_usbcodec(data){let arr;if(data.getInt8)arr=new Uint8Array(data.buffer);else if(!data.buffer)arr=new Uint8Array(data);else arr=data;const output={};if(arr[0]===2){Object.assign(output,ads131m08codec(arr.subarray(2)))}else if(arr[0]===3){let result=ads131m08codec(arr.subarray(2));Object.keys(result).forEach((key,i)=>{output[i+8]=result[key]})}else if(arr[0]===4){Object.assign(output,mpu6050codec(arr.subarray(2)))}else if(arr[0]===5){Object.assign(output,max3010xcodec(arr.subarray(2)))}else if(arr[0]===6){Object.assign(output,bme280codec(arr.subarray(2)))}else{Object.assign(output,ads131m08codec(arr))}return output}var nrf5xSerialSettings={baudRate:115200,buffering:{searchBytes:new Uint8Array([240,240])},codec:nrf5x_usbcodec,sps:250};var nrf5xBLESettings={sps:250,services:{"0000cafe-b0ba-8bad-f00d-deadbeef0000":{"0001cafe-b0ba-8bad-f00d-deadbeef0000":{write:void 0},"0002cafe-b0ba-8bad-f00d-deadbeef0000":{notify:true,notifyCallback:void 0,codec:ads131m08codec,sps:250},"0003cafe-b0ba-8bad-f00d-deadbeef0000":{notify:true,notifyCallback:void 0,codec:max3010xcodec,sps:100},"0004cafe-b0ba-8bad-f00d-deadbeef0000":{notify:true,notifyCallback:void 0,codec:mpu6050codec,sps:100},"0005cafe-b0ba-8bad-f00d-deadbeef0000":{notify:true,notifyCallback:void 0,codec:ads131m08codec,sps:250},"0006cafe-b0ba-8bad-f00d-deadbeef0000":{notify:true,notifyCallback:void 0,codec:bme280codec,sps:3.33}}}};var defaultChartSetting5={nSec:10,sps:250,units:"mV"};var nrf5x_usbChartSettings={lines:{"0":JSON.parse(JSON.stringify(defaultChartSetting5)),"1":JSON.parse(JSON.stringify(defaultChartSetting5)),"2":JSON.parse(JSON.stringify(defaultChartSetting5)),"3":JSON.parse(JSON.stringify(defaultChartSetting5)),"4":JSON.parse(JSON.stringify(defaultChartSetting5)),"5":JSON.parse(JSON.stringify(defaultChartSetting5)),"6":JSON.parse(JSON.stringify(defaultChartSetting5)),"7":JSON.parse(JSON.stringify(defaultChartSetting5))},generateNewLines:true,cleanGeneration:false};var gain2=32;var nbits2=24;var vref2=1.2;var defaultsetting3={sps:250,useDCBlock:false,useBandpass:false,bandpassLower:3,bandpassUpper:45,useScaling:true,scalar:.96*1e3*vref2/(gain2*(Math.pow(2,nbits2)-1))};var nrf5x_usbFilterSettings={"0":JSON.parse(JSON.stringify(defaultsetting3)),"1":JSON.parse(JSON.stringify(defaultsetting3)),"2":JSON.parse(JSON.stringify(defaultsetting3)),"3":JSON.parse(JSON.stringify(defaultsetting3)),"4":JSON.parse(JSON.stringify(defaultsetting3)),"5":JSON.parse(JSON.stringify(defaultsetting3)),"6":JSON.parse(JSON.stringify(defaultsetting3)),"7":JSON.parse(JSON.stringify(defaultsetting3)),"8":JSON.parse(JSON.stringify(defaultsetting3)),"9":JSON.parse(JSON.stringify(defaultsetting3)),"10":JSON.parse(JSON.stringify(defaultsetting3)),"11":JSON.parse(JSON.stringify(defaultsetting3)),"12":JSON.parse(JSON.stringify(defaultsetting3)),"13":JSON.parse(JSON.stringify(defaultsetting3)),"14":JSON.parse(JSON.stringify(defaultsetting3)),"15":JSON.parse(JSON.stringify(defaultsetting3))};var textdecoder2=new TextDecoder;function statechangercodec(value){let output={timestamp:0,left_red:0,left_infrared:0,left_heg:0,center_red:0,center_infrared:0,center_heg:0,right_red:0,right_infrared:0,right_heg:0};let txt=textdecoder2.decode(value);let line=txt.split("|");if(line.length>=5){output.timestamp=Date.now();output.left_red=parseInt(line[1]);output.left_infrared=parseInt(line[2]);output.left_heg=parseFloat(line[3]);output.center_red=parseInt(line[4]);output.center_infrared=parseInt(line[5]);output.center_heg=parseFloat(line[6]);output.right_red=parseInt(line[7]);output.right_infrared=parseInt(line[8]);output.right_heg=parseFloat(line[9]);return output}else return txt}var statechangerSerialSettings={baudRate:115200,codec:statechangercodec};var statechangerBLESettings={services:{["6E400001-B5A3-F393-E0A9-E50E24DCCA9E".toLowerCase()]:{"6e400002-b5a3-f393-e0a9-e50e24dcca9e":{write:"t"},"6e400003-b5a3-f393-e0a9-e50e24dcca9e":{notify:true,notifyCallback:void 0,codec:statechangercodec}},["6E400004-B5A3-F393-E0A9-E50E24DCCA9E".toLowerCase()]:{["6E400005-B5A3-F393-E0A9-E50E24DCCA9E".toLowerCase()]:{read:true},["6E400006-B5A3-F393-E0A9-E50E24DCCA9E".toLowerCase()]:{write:void 0,notify:true,notifyCallback:void 0},["6E400007-B5A3-F393-E0A9-E50E24DCCA9E".toLowerCase()]:{read:true}}},androidWebBLE:"o"};function blueberrycodec(value){let output={red:value.getInt32(2),ir:value.getInt32(6),ir2:value.getInt32(10),timestamp:Date.now()};output.heg=output.red/(.5*(output.ir+output.ir2));return output}var sps7=40;var blueberryBLESettings={namePrefix:"blueberry",services:{"0f0e0d0c-0b0a-0908-0706-050403020100":{"1f1e1d1c-1b1a-1918-1716-151413121110":{write:void 0},"3f3e3d3c-3b3a-3938-3736-353433323130":{notify:true,notifyCallback:void 0,codec:blueberrycodec,sps:sps7}}},sps:sps7};function blueberryshortcodec(value){let output={sred:value.getInt32(2),sir:value.getInt32(6),sir2:value.getInt32(10),timestamp:Date.now()};output.sheg=output.sred/(.5*(output.sir+output.sir2));return output}function blueberrylongcodec(value){let output={red:value.getInt32(2),ir:value.getInt32(6),ir2:value.getInt32(10),timestamp:Date.now()};output.heg=output.sred/(.5*(output.ir+output.ir2));return output}var sps8=40;var blueberry2BLESettings={namePrefix:"blueberry",services:{"0f0e0d0c-0b0a-0908-0706-050403020100":{"1f1e1d1c-1b1a-1918-1716-151413121110":{write:void 0},"4f4e4d4c-4b6a-6968-6766-656463426160":{notify:true,notifyCallback:void 0,codec:blueberrylongcodec,sps:sps8},"4f4e4d4c-4b5a-5958-5756-555453425150":{notify:true,notifyCallback:void 0,codec:blueberryshortcodec,sps:sps8}}},sps:sps8};var defaultsetting1={sps:250,useDCBlock:true,useBandpass:true,bandpassLower:3,bandpassUpper:45};var ganglionFilterSettings={"0":JSON.parse(JSON.stringify(defaultsetting1)),"1":JSON.parse(JSON.stringify(defaultsetting1)),"2":JSON.parse(JSON.stringify(defaultsetting1)),"3":JSON.parse(JSON.stringify(defaultsetting1))};var defaultChartSetting6={nSec:10,sps:250,units:"mV"};var ganglionChartSettings={lines:{"0":JSON.parse(JSON.stringify(defaultChartSetting6)),"1":JSON.parse(JSON.stringify(defaultChartSetting6)),"2":JSON.parse(JSON.stringify(defaultChartSetting6)),"3":JSON.parse(JSON.stringify(defaultChartSetting6)),"ax":{nSec:10,sps:250,units:"mg"},"ay":{nSec:10,sps:250,units:"mg"},"az":{nSec:10,sps:250,units:"mg"}},generateNewLines:true};var defaultsetting4={sps:250,useDCBlock:true,useBandpass:true,bandpassLower:3,bandpassUpper:45};var museFilterSettings={"0":JSON.parse(JSON.stringify(defaultsetting4)),"1":JSON.parse(JSON.stringify(defaultsetting4)),"2":JSON.parse(JSON.stringify(defaultsetting4)),"3":JSON.parse(JSON.stringify(defaultsetting4)),"4":JSON.parse(JSON.stringify(defaultsetting4))};function hrcodec(data){return{hr:data.getInt8(1),timestamp:Date.now()}}var heartRateBLESettings={services:{"heart_rate":{"heart_rate_measurement":{notify:true,notifyCallback:void 0,codec:hrcodec}}}};var simulatorSettings={sps:250,simulate:{"0":{sps:250,freq:1,amplitude:1,offset:0},"1":{sps:250,freq:10,amplitude:1,offset:0},"2":{sps:250,freq:100,amplitude:.5,offset:.5},"3":{sps:250,freq:25,amplitude:1,offset:0}},connect:(settings={})=>{return new Promise(async(res,rej)=>{let _id=`simulated${Math.floor(Math.random()*1e15)}`;let info={_id,settings:Object.assign(Object.assign({},simulatorSettings),settings)};info.settings.looping=true;let loopTime=50;let lastTime=Date.now();let loop2=()=>{if(info.settings.looping){let newData={};let now=Date.now();let frame=now-lastTime;for(const key in info.settings.simulate){let newPoints=Math.floor(info.settings.simulate[key].sps*frame/1e3);newData[key]=new Array(newPoints).fill(0);newData[key]=newData[key].map((v,i)=>{return Math.sin(2*Math.PI*info.settings.simulate[key].freq*.001*(lastTime+frame*(i+1)/newPoints))*info.settings.simulate[key].amplitude+info.settings.simulate[key].offset})}lastTime=now;newData.timestamp=lastTime;info.settings.ondata(newData);setTimeout(()=>{loop2()},loopTime)}};loop2();if(info.settings.onconnect)info.settings.onconnect(info);res(info)})},codec:reading=>{console.log(reading);return reading},disconnect:info=>{console.log(info);info.settings.looping=false;info.settings.ondisconnect(info)},onconnect:info=>{console.log("muse connected!",info)},ondisconnect:info=>{console.log("muse disconnected!",info)},ondata:data=>{console.log(data)}};var Devices={BLE:{"nrf5x":nrf5xBLESettings,"hegduino":hegduinoBLESettings,"hegduinoV1":hegduinoV1BLESettings,"cognixionONE":cognixionONEBLESettings,"statechanger":statechangerBLESettings,"blueberry":blueberryBLESettings,"blueberry2":blueberry2BLESettings,"heart_rate":heartRateBLESettings},USB:{"nrf5x":nrf5xSerialSettings,"freeEEG32":freeeeg32SerialSettings,"freeEEG32_optical":freeeeg32_optical_SerialSettings,"freeEEG128":freeeeg128SerialSettings,"hegduino":hegduinoSerialSettings,"hegduinoV1":hegduinoV1SerialSettings,"cyton":cytonSerialSettings,"cyton_daisy":cytonSerialSettings,"peanut":peanutSerialSettings,"statechanger":statechangerSerialSettings,"cognixionONE":cytonSerialSettings},BLE_OTHER:{},USB_OTHER:{},OTHER:{"simulator":simulatorSettings}};var textdecoder3=new TextDecoder;var decoders={"raw":data=>{if(data?.buffer)return Array.from(new Uint8Array(data));else return data},"utf8":data=>{return textdecoder3.decode(data)},"console-f12":data=>{if(data?.buffer)data=Array.from(new Uint8Array(data));console.log(data);return data},"debug":(data,debugmessage)=>{if(data?.buffer)data=Array.from(new Uint8Array(data));console.log(debugmessage,data);return data},"ads131m08":ads131m08codec,"arduino_ads131m08":ads131m08_arduinocodec,"max3010x":max3010xcodec,"mpu6050":mpu6050codec,"bme280":bme280codec,"freeeeg32":freeeeg32codec,"freeeeg128":freeeeg128codec,"cyton":cytoncodec,"cognixionONE_BLE":cognixionONE_EEG_codec,"hegduino":hegduinocodec,"nrf5x":nrf5x_usbcodec,"peanut":peanutcodec,"statechanger":statechangercodec,"blueberry":blueberrycodec,"heart_rate":hrcodec};var BiquadChannelFilterer=class{constructor(options={sps:512,useSMA4:false,useNotch50:true,useNotch60:true,useLowpass:false,lowpassHz:100,useBandpass:false,bandpassLower:3,bandpassUpper:45,useDCBlock:true,DCBresonance:.995,trimOutliers:false,outlierTolerance:.2,useScaling:false,scalar:1}){this.idx=0;this.sps=options.sps;this.bandpassLower=options.bandpassLower?options.bandpassLower:3;this.bandpassUpper=options.bandpassUpper?options.bandpassUpper:45;this.useSMA4=options.useSMA4;this.last4=[];this.useNotch50=options.useNotch50;this.useNotch60=options.useNotch60;this.useLowpass=options.useLowpass;this.lowpassHz=options.lowpassHz?options.lowpassHz:100;this.useBandpass=options.useBandpass;this.useDCBlock=options.useDCBlock;this.DCBresonance=options.DCBresonance?options.DCBresonance:.995;this.useScaling=options.useScaling;this.scalar=options.scalar;this.trimOutliers=options.trimOutliers;this.outlierTolerance=options.outlierTolerance;let sps9=this.sps;this.notch50=[makeNotchFilter(50,sps9,2),makeNotchFilter(100,sps9,2)];this.notch60=[makeNotchFilter(60,sps9,2),makeNotchFilter(120,sps9,2)];this.lp1=[new Biquad("lowpass",this.lowpassHz,sps9),new Biquad("lowpass",this.lowpassHz,sps9),new Biquad("lowpass",this.lowpassHz,sps9),new Biquad("lowpass",this.lowpassHz,sps9)];this.bp1=[makeBandpassFilter(this.bandpassLower,this.bandpassUpper,sps9,1),makeBandpassFilter(this.bandpassLower,this.bandpassUpper,sps9,1),makeBandpassFilter(this.bandpassLower,this.bandpassUpper,sps9,1),makeBandpassFilter(this.bandpassLower,this.bandpassUpper,sps9,1)];this.dcb=new DCBlocker(options.DCBresonance?options.DCBresonance:.995)}reset(sps9=this.sps){this.notch50=[makeNotchFilter(50,sps9,2),makeNotchFilter(100,sps9,2)];this.notch60=[makeNotchFilter(60,sps9,2),makeNotchFilter(120,sps9,2)];this.lp1=[new Biquad("lowpass",this.lowpassHz,sps9),new Biquad("lowpass",this.lowpassHz,sps9),new Biquad("lowpass",this.lowpassHz,sps9),new Biquad("lowpass",this.lowpassHz,sps9)];this.bp1=[makeBandpassFilter(this.bandpassLower,this.bandpassUpper,sps9,1),makeBandpassFilter(this.bandpassLower,this.bandpassUpper,sps9,1),makeBandpassFilter(this.bandpassLower,this.bandpassUpper,sps9,1),makeBandpassFilter(this.bandpassLower,this.bandpassUpper,sps9,1)];this.dcb=new DCBlocker(this.DCBresonance)}setBandpass(bandpassLower=this.bandpassLower,bandpassUpper=this.bandpassUpper,sps9=this.sps){this.bandpassLower=bandpassLower;this.bandpassUpper=bandpassUpper;this.bp1=[makeBandpassFilter(bandpassLower,bandpassUpper,sps9),makeBandpassFilter(bandpassLower,bandpassUpper,sps9),makeBandpassFilter(bandpassLower,bandpassUpper,sps9),makeBandpassFilter(bandpassLower,bandpassUpper,sps9)]}apply(latestData=0){let out=latestData;if(this.useScaling===true){out*=this.scalar}if(this.filtered&&this.trimOutliers&&this.outlierTolerance){if(Math.abs(out-this.filtered)>this.outlierTolerance){out=this.filtered}}if(this.useDCBlock===true){out=this.dcb.applyFilter(out)}if(this.useSMA4===true){if(this.last4.length<4){this.last4.push(out)}else{out=this.last4.reduce((accumulator,currentValue)=>accumulator+currentValue)/this.last4.length;this.last4.shift();this.last4.push(out)}}if(this.useNotch50===true){this.notch50.forEach((f,i)=>{out=f.applyFilter(out)})}if(this.useNotch60===true){this.notch60.forEach((f,i)=>{out=f.applyFilter(out)})}if(this.useLowpass===true){this.lp1.forEach((f,i)=>{out=f.applyFilter(out)})}if(this.useBandpass===true){this.bp1.forEach((f,i)=>{out=f.applyFilter(out)})}this.filtered=out;this.idx++;return out}};var Biquad=class{constructor(type,freq,sps9,Q=1/Math.sqrt(2),dbGain=0){this.a0=0;this.a1=0;this.a2=0;this.b0=0;this.b1=0;this.b2=0;this.x1=0;this.x2=0;this.y1=0;this.y2=0;let types=["lowpass","highpass","bandpass","notch","peak","lowshelf","highshelf"];if(types.indexOf(type)<0){console.error("Valid types: \'lowpass\',\'highpass\',\'bandpass\',\'notch\',\'peak\',\'lowshelf\',\'highshelf\'");return}this.type=type;this.freq=freq;this.sps=sps9;this.Q=Q;this.dbGain=dbGain;let A=Math.pow(10,dbGain/40);let omega=2*Math.PI*freq/sps9;let sn=Math.sin(omega);let cs=Math.cos(omega);let alpha=sn/(2*Q);let beta=Math.sqrt(A+A);this[type](A,sn,cs,alpha,beta);this.b0/=this.a0;this.b1/=this.a0;this.b2/=this.a0;this.a1/=this.a0;this.a2/=this.a0}lowpass(A,sn,cs,alpha,beta){this.b0=(1-cs)*.5;this.b1=1-cs;this.b2=(1-cs)*.5;this.a0=1+alpha;this.a1=-2*cs;this.a2=1-alpha}highpass(A,sn,cs,alpha,beta){this.b0=(1+cs)*.5;this.b1=-(1+cs);this.b2=(1+cs)*.5;this.a0=1+alpha;this.a1=-2*cs;this.a2=1-alpha}bandpass(A,sn,cs,alpha,beta){this.b0=alpha;this.b1=0;this.b2=-alpha;this.a0=1+alpha;this.a1=-2*cs;this.a2=1-alpha}notch(A,sn,cs,alpha,beta){this.b0=1;this.b1=-2*cs;this.b2=1;this.a0=1+alpha;this.a1=-2*cs;this.a2=1-alpha}peak(A,sn,cs,alpha,beta){this.b0=1+alpha*A;this.b1=-2*cs;this.b2=1-alpha*A;this.a0=1+alpha/A;this.a1=-2*cs;this.a2=1-alpha/A}lowshelf(A,sn,cs,alpha,beta){this.b0=A*(A+1-(A-1)*cs+beta*sn);this.b1=2*A*(A-1-(A+1)*cs);this.b2=A*(A+1-(A-1)*cs-beta*sn);this.a0=A+1+(A+1)*cs+beta*sn;this.a1=2*(A-1+(A+1)*cs);this.a2=A+1+(A-1)*cs-beta*sn}highshelf(A,sn,cs,alpha,beta){this.b0=A*(A+1+(A-1)*cs+beta*sn);this.b1=2*A*(A-1+(A+1)*cs);this.b2=A*(A+1-(A-1)*cs-beta*sn);this.a0=A+1-(A+1)*cs-beta*sn;this.a1=2*(A-1-(A+1)*cs);this.a2=A+1-(A-1)*cs-beta*sn}applyFilter(signal_step){let y=this.b0*signal_step+this.b1*this.x1+this.b2*this.x2-this.a1*this.y1-this.a2*this.y2;this.x2=this.x1;this.x1=signal_step;this.y2=this.y1;this.y1=y;return y}zResult(freq){try{let phi=Math.pow(Math.sin(Math.PI*freq*2/(2*this.sps)),2);let result=(Math.pow(this.b0+this.b1+this.b2,2)-4*(this.b0*this.b1+4*this.b0*this.b2+this.b1*this.b2)*phi+16*this.b0*this.b2*phi*phi)/(Math.pow(1+this.a1+this.a2,2)-4*(this.a1+4*this.a2+this.a1*this.a2)*phi+16*this.a2*phi*phi);return result}catch(err){return-200}}static calcCenterFrequency(freqStart,freqEnd){return(freqStart+freqEnd)/2}static calcBandwidth(freqStart,freqEnd){return freqEnd-this.calcCenterFrequency(freqStart,freqEnd)}static calcBandpassQ(frequency,bandwidth,resonance=Math.pow(10,Math.floor(Math.log10(frequency)))){let Q=resonance*Math.sqrt((frequency-bandwidth)*(frequency+bandwidth))/(2*bandwidth);return Q}static calcNotchQ(frequency,bandwidth,resonance=Math.pow(10,Math.floor(Math.log10(frequency)))){let Q=resonance*frequency*bandwidth/Math.sqrt((frequency-bandwidth)*(frequency+bandwidth));return Q}};var DCBlocker=class{constructor(r=.995){this.r=r;this.y1=this.y2=this.x1=this.x2=0}applyFilter(signal_step){this.x2=this.x1;this.x1=signal_step;let y=this.x1-this.x2+this.r*this.y1;this.y2=this.y1;this.y1=y;return y}};var makeNotchFilter=(frequency,sps9,bandwidth)=>{return new Biquad("notch",frequency,sps9,Biquad.calcNotchQ(frequency,bandwidth),0)};var makeBandpassFilter=(freqStart,freqEnd,sps9,resonance=Math.pow(10,Math.floor(Math.log10(Biquad.calcCenterFrequency(freqStart,freqEnd)))))=>{return new Biquad("bandpass",Biquad.calcCenterFrequency(freqStart,freqEnd),sps9,Biquad.calcBandpassQ(Biquad.calcCenterFrequency(freqStart,freqEnd),Biquad.calcBandwidth(freqStart,freqEnd),resonance),0)};function loadStreamWorkerGlobals(){globalThis.WebSerial=WebSerial;globalThis.decoders=decoders;globalThis.decoder="raw";globalThis.ByteParser=ByteParser;globalThis.Devices=Devices;globalThis.filtering=true;globalThis.filters={};globalThis.BiquadChannelFilterer=BiquadChannelFilterer;globalThis.ArrayManip=ArrayManip}if(typeof WorkerGlobalScope!=="undefined"&&self instanceof WorkerGlobalScope){loadStreamWorkerGlobals()}var streamWorkerRoutes={"receiveDecoder":function receiveDecoder(decoder2,decoderName){globalThis.decoders[decoderName]=(0,eval)("("+decoder2+")")},"receiveCodec":function receiveDeviceCodec(decoder2,deviceType,device,service,characteristic){let codec=parseFunctionFromText(decoder2);if(codec){if(deviceType==="BLE"&&service&&characteristic){if(globalThis.Devices[deviceType][device]){if(globalThis.Devices[deviceType][device][service]){if(globalThis.Devices[deviceType][device][characteristic]){globalThis.Devices[deviceType][device][characteristic].codec=codec}else{globalThis.Devices[deviceType][device][characteristic]={codec}}}else{globalThis.Devices[deviceType][device]={[characteristic]:{codec}}}}}else if(globalThis.Devices[deviceType][device]?.codec){if(globalThis.Devices[deviceType][device])globalThis.Devices[deviceType][device].codec=codec;else{globalThis.Devices[deviceType][device]={codec}}}}},"decode":function decode(data){return globalThis.decoder(data)},"decodeAndParse":function decodeAndParse(data){let decoded=this.graph.run("decode",data);if(decoded){let parsed=globalThis.ArrayManip.reformatData(decoded);if(parsed){if(globalThis.filtering){for(const prop in parsed){if(globalThis.filters[prop]){let filter=globalThis.filters[prop];if(Array.isArray(parsed[prop])){parsed[prop]=parsed[prop].map(v=>filter.apply(v))}else if(parsed[prop]?.values){parsed[prop].values=parsed[prop].values.map(v=>filter.apply(v))}}}}return parsed}}return decoded},"setActiveDecoder":function setActiveDecoder(deviceType,device,service,characteristic){if(globalThis.Devices[deviceType][device]?.codec)globalThis.decoder=globalThis.Devices[deviceType][device]?.codec;else if(deviceType==="BLE"&&service&&characteristic&&globalThis.Devices[deviceType][device]?.[service]?.[characteristic]?.codec)globalThis.decoder=globalThis.Devices[deviceType][device][service][characteristic].codec;return true},"decodeDevice":function decodeDevice(data,deviceType,device,service,characteristic){if(globalThis.Devices[deviceType][device]?.codec)return globalThis.Devices[deviceType][device].codec(data);else if(deviceType==="BLE"&&service&&characteristic&&globalThis.Devices[deviceType][device]?.[service]?.[characteristic]?.codec)return globalThis.Devices[deviceType][device][service][characteristic].codec(data)},"decodeAndParseDevice":function decodeAndParseDevice(data,deviceType,deviceName,service,characteristic){let decoded;if(deviceType==="BLE"&&service&&characteristic&&globalThis.Devices[deviceType][deviceName]?.services[service]?.[characteristic]?.codec)decoded=globalThis.Devices[deviceType][deviceName].services[service][characteristic].codec(data);else if(globalThis.Devices[deviceType][deviceName]?.codec)decoded=globalThis.Devices[deviceType][deviceName].codec(data);else decoded=data;if(decoded){let parsed=globalThis.ArrayManip.reformatData(decoded);if(parsed){if(globalThis.filtering){for(const prop in parsed){if(globalThis.filters[prop]){let filter=globalThis.filters[prop];if(Array.isArray(parsed[prop])){parsed[prop]=parsed[prop].map(v=>filter.apply(v))}else if(parsed[prop]?.values){parsed[prop].values=parsed[prop].values.map(v=>filter.apply(v))}else if(typeof parsed[prop]==="number"){parsed[prop]=filter.apply(parsed[prop])}}}}return parsed}}return decoded},"toggleAnim":function toggleAnim(){globalThis.runningAnim=!globalThis.runningAnim;return globalThis.runningAnim},"setFilters":function setFilters(filters,clearFilters=false){if(!globalThis.filters||clearFilters)globalThis.filters={};for(const key in filters){globalThis.filters[key]=new BiquadChannelFilterer(filters[key])}return true},"getFilterSettings":function getFilterSettings(){if(globalThis.filters){let filters={};for(const key in globalThis.filters){filters[key]={sps:globalThis.filters[key].sps,useScaling:globalThis.filters[key].useScaling,scalar:globalThis.filters[key].scalar,useNotch50:globalThis.filters[key].useNotch50,useNotch60:globalThis.filters[key].useNotch60,useDCBlock:globalThis.filters[key].useDCBlock,useLowpass:globalThis.filters[key].useLowpass,lowpassHz:globalThis.filters[key].lowpassHz,useBandpass:globalThis.filters[key].useBandpass,bandpassLower:globalThis.filters[key].bandpassLower,bandpassUpper:globalThis.filters[key].bandpassUpper}}return filters}return void 0},"setupSerial":function setupSerial(){globalThis.Serial=new globalThis.WebSerial;globalThis.decoder="raw";console.log("worker: Setting up Serial",globalThis.Serial);return true},"openPort":function openPort(settings){const WorkerService2=this.graph;if(!globalThis.Serial)WorkerService2.run("setupSerial");return new Promise((res,rej)=>{globalThis.Serial.getPorts().then(ports=>{const Serial=globalThis.Serial;let port=ports.find(port2=>{return port2.getInfo().usbVendorId===settings.usbVendorId&&port2.getInfo().usbProductId===settings.usbProductId});if(port){Serial.openPort(port,settings).then(()=>{const stream=Serial.createStream({port,settings,frequency:settings.frequency?settings.frequency:10,buffering:settings.buffering,ondata:value=>{if(stream.settings.pipeTo){if(typeof stream.settings.pipeTo==="string")WorkerService2.transmit(value,stream.settings.pipeTo,[value.buffer]);else if(stream.settings.pipeTo?.route){let args=value;if(stream.settings.pipeTo.extraArgs)args=[value,...stream.settings.pipeTo.extraArgs];WorkerService2.transmit({route:stream.settings.pipeTo.route,args},stream.settings.pipeTo._id,[value.buffer])}}else{WorkerService2.transmit(value,void 0,[value.buffer])}}});Serial.readStream(stream);port.ondisconnect=()=>{postMessage(`${stream._id} disconnected`)};res({_id:stream._id,settings,info:stream.info})}).catch(()=>{postMessage(`disconnected`)});;}else{rej(false)}})})},"closeStream":function closeStream(streamId){return new Promise((res,rej)=>{const Serial=globalThis.Serial;let ondisconnect;if(Serial.streams[streamId].port?.ondisconnect)ondisconnect=Serial.streams[streamId].port.ondisconnect;Serial.closeStream(Serial.streams[streamId]).then(resolved=>{if(ondisconnect)ondisconnect(void 0);res(resolved)}).catch(rej)})},"writeStream":function writeStream(streamId,message){globalThis.Serial.writeStream(globalThis.Serial.streams[streamId],message);return true},"updateStreamSettings":function updateStreamSettings(streamId,settings){if(globalThis.Serial?.streams[streamId]){for(const key in settings){if(typeof settings[key]==="object"){Object.assign(globalThis.Serial.streams[streamId].settings[key],settings[key])}else globalThis.Serial.streams[streamId][key]=settings[key]}}}};if(typeof WorkerGlobalScope!=="undefined"&&self instanceof WorkerGlobalScope){const worker=new WorkerService({services:{workerCanvasRoutes,subprocessRoutes,streamWorkerRoutes}})}var stream_worker_default=self;})();\n')],{type:"text/javascript"})),GE=uCr,pl=class{constructor(){this.recursivelyAssign=(e,r)=>{for(let t in r)typeof r[t]=="object"?typeof e[t]=="object"?this.recursivelyAssign(e[t],r[t]):e[t]=this.recursivelyAssign({},r[t]):e[t]=r[t];return e}}static autoscale(e,r=0,t=1,n=!1,i,c,u){if(e?.length===0)return e;let a=c||Math.max(...e),s=i||Math.min(...e),o=1/t,l=1;if(n){let d=Math.max(Math.abs(s),Math.abs(a));return d!==0&&(l=o/d),e.map(p=>(u&&(p<s&&(p=s),p>a&&(p=a)),p*l+(o*(r+1)*2-1-o)))}else return a===s?a!==0?l=o/a:s!==0&&(l=o/Math.abs(s)):l=o/(a-s),e.map(d=>(u&&(d<s&&(d=s),d>a&&(d=a)),2*((d-s)*l-1/(2*t))+(o*(r+1)*2-1-o)))}static genTimestamps(e,r){let t=Date.now(),n=[t-e*1e3/r,t];return pl.upsample(n,e)}static absmax(e){return Math.max(Math.abs(Math.min(...e)),Math.max(...e))}static downsample(e,r,t=1){if(e.length>r){let n=new Array(r),i=e.length/r,c=e.length-1,u=0,a=0;for(let s=i;s<e.length;s+=i){let o=Math.round(s);o>c&&(o=c);for(let l=u;l<o;l++)n[a]+=e[l];n[a]/=(o-u)*t,a++,u=o}return n}else return e}static upsample(e,r,t=1){var n=function(d,p,f){return(d+(p-d)*f)*t},i=new Array(r),c=(e.length-1)/(r-1);i[0]=e[0];for(var u=1;u<r-1;u++){var a=u*c,s=Math.floor(a),o=Math.ceil(a),l=a-s;i[u]=n(e[s],e[o],l)}return i[r-1]=e[e.length-1],i}static interpolate(e,r,t=1){return e.length>r?pl.downsample(e,r,t):e.length<r?pl.upsample(e,r,t):e}static HSLToRGB(e,r,t,n=255){r/=100,t/=100;let i=(1-Math.abs(2*t-1))*r,c=i*(1-Math.abs(e/60%2-1)),u=t-i/2,a=0,s=0,o=0;return 0<=e&&e<60?(a=i,s=c,o=0):60<=e&&e<120?(a=c,s=i,o=0):120<=e&&e<180?(a=0,s=i,o=c):180<=e&&e<240?(a=0,s=c,o=i):240<=e&&e<300?(a=c,s=0,o=i):300<=e&&e<360&&(a=i,s=0,o=c),a=(a+u)*n,s=(s+u)*n,o=(o+u)*n,[a,s,o]}static circularBuffer(e,r){if(r.length<e.length){let t=e.slice(r.length),n=e.length;e.splice(0,n,...t,...r)}else if(r.length>e.length){let t=e.length;e.splice(0,t,r.slice(t-r.length))}else e.splice(0,e.length,...r);return e}static reformatData(e,r){if(Array.isArray(e)){if(Array.isArray(e[0])){let t={};if(e.forEach((n,i)=>{t[i]=n}),e=t,isNaN(e[0][0]))return}else if(r){if(e={[r]:e},isNaN(e[r][0]))return}else if(e={0:e},isNaN(e[0][0]))return}else if(typeof e=="object"){for(let t in e)if(typeof e[t]=="number"?e[t]=[e[t]]:e[t]?.values&&typeof e[t].values=="number"&&(e[t].values=[e[t].values]),isNaN(e[t][0]))return}else if(typeof e=="string"){let t;if(e.includes(`\r
`)){let n=e.split(`\r
`);e={},n.forEach((i,c)=>{i.includes("	")?t=i.split("	"):i.includes(",")?t=i.split(","):i.includes("|")&&(t=i.split("|")),t.forEach((u,a)=>{if(u.includes(":")){let[s,o]=u.split(":"),l=parseFloat(o);if(l)e[s]=[l];else return}else{let s=parseFloat(u);if(s)e[a]=[s];else return}})})}else e.includes("	")?t=e.split("	"):e.includes(",")?t=e.split(","):e.includes("|")&&(t=e.split("|"));e={},t&&t.forEach((n,i)=>{if(n.includes(":")){let[c,u]=n.split(":"),a=parseFloat(u);if(a)e[c]=[a];else return}else{let c=parseFloat(n);if(c)e[i]=[c];else return}})}else typeof e=="number"&&(r?e={[r]:[e]}:e={0:[e]});return e}static padTime(e,r,t,n){let i=(e[0]-r)/t/n;return[...new Array(n-e.length).map((u,a)=>r+i*(a+1)),...e]}static interpolateForTime(e,r,t){return pl.interpolate(e,Math.ceil(t*r))}isTypedArray(e){return ArrayBuffer.isView(e)&&Object.prototype.toString.call(e)!=="[object DataView]"}spliceTypedArray(e,r,t){let n=e.subarray(0,r),i;t&&(i=e.subarray(t+1));let c;return(n.length>0||i?.length>0)&&(c=new e.constructor(n.length+i.length)),n.length>0&&c.set(n),i&&i.length>0&&c.set(i,n.length),c}},BX=pl;BX.bufferValues=(e,r,t,n)=>{if(!Array.isArray(t)&&typeof t=="object"&&(t=Object.keys(t)),!n){let c=Object.keys(e);t?n=new Float32Array(c.length*t.length):typeof e[c[0]][r]=="object"?(t=Object.keys(e[c[0]][r]),n=new Float32Array(c.length*t.length)):n=new Float32Array(c.length)}let i=0;for(let c in e)if(e[c][r])if(t)for(let u=0;u<t.length;u++)n[i]=e[c][r][t[u]],i++;else n[i]=e[c][r],i++;return n};var lCr=/^([<>])?(([1-9]\d*)?([xcbB?hHiIfdsp]))*$/,dCr=/([1-9]\d*)?([xcbB?hHiIfdsp])/g,IE=(e,r,t)=>String.fromCharCode(...new Uint8Array(e.buffer,e.byteOffset+r,t)),BE=(e,r,t,n)=>new Uint8Array(e.buffer,e.byteOffset+r,t).set(n.split("").map(i=>i.charCodeAt(0))),pCr=(e,r,t)=>IE(e,r+1,Math.min(e.getUint8(r),t-1)),fCr=(e,r,t,n)=>{e.setUint8(r,n.length),BE(e,r+1,t-1,n)},hCr=e=>({x:r=>[1,r,0],c:r=>[r,1,t=>({u:n=>IE(n,t,1),p:(n,i)=>BE(n,t,1,i)})],"?":r=>[r,1,t=>({u:n=>Boolean(n.getUint8(t)),p:(n,i)=>n.setUint8(t,i)})],b:r=>[r,1,t=>({u:n=>n.getInt8(t),p:(n,i)=>n.setInt8(t,i)})],B:r=>[r,1,t=>({u:n=>n.getUint8(t),p:(n,i)=>n.setUint8(t,i)})],h:r=>[r,2,t=>({u:n=>n.getInt16(t,e),p:(n,i)=>n.setInt16(t,i,e)})],H:r=>[r,2,t=>({u:n=>n.getUint16(t,e),p:(n,i)=>n.setUint16(t,i,e)})],i:r=>[r,4,t=>({u:n=>n.getInt32(t,e),p:(n,i)=>n.setInt32(t,i,e)})],I:r=>[r,4,t=>({u:n=>n.getUint32(t,e),p:(n,i)=>n.setUint32(t,i,e)})],f:r=>[r,4,t=>({u:n=>n.getFloat32(t,e),p:(n,i)=>n.setFloat32(t,i,e)})],d:r=>[r,8,t=>({u:n=>n.getFloat64(t,e),p:(n,i)=>n.setFloat64(t,i,e)})],s:r=>[1,r,t=>({u:n=>IE(n,t,r),p:(n,i)=>BE(n,t,r,i.slice(0,r))})],p:r=>[1,r,t=>({u:n=>pCr(n,t,r),p:(n,i)=>fCr(n,t,r,i.slice(0,r-1))})]}),yX=new RangeError("Structure larger than remaining buffer"),vCr=new RangeError("Not enough values for structure"),Bc=class extends BX{static toDataView(e){if(!(e instanceof DataView))if(typeof e=="string"&&parseInt(e)&&(e=parseInt(e)),typeof e=="string"){let r=new TextEncoder,t={};for(let i in Bc.codes)for(;e.indexOf(i)>-1;){let c=e.indexOf(i);e=e.replace(i,""),t[c]=i}let n=Array.from(r.encode(e));for(let i in t)n.splice(parseInt(i),0,Bc.codes[t[i]]);e=new DataView(new Uint8Array(n).buffer)}else if(typeof e=="number"){let r=e;e<256?(e=new DataView(new ArrayBuffer(1)),e.setUint8(0,r)):e<65536?(e=new DataView(new ArrayBuffer(2)),e.setInt16(0,r)):(e=new DataView(new ArrayBuffer(4)),e.setUint32(0,r))}else e instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&e instanceof SharedArrayBuffer?e=new DataView(e):Array.isArray(e)?e=new DataView(Uint8Array.from(e).buffer):typeof e=="object"&&(e=new TextEncoder().encode(JSON.stringify(e)));return e}static searchBuffer(e,r,t){for(var n=r,i=e,c=Bc.boyerMoore(n),u=c.byteLength,a=[],s=c(i);s!==-1&&(a.push(s),!(t&&a.length>=t));s=c(i,s+u));return a}static bytesToInt16(e,r){let t=(255&e)<<8|255&r;return(t&32768)>0?t|=4294901760:t&=65535,t}static bytesToUInt16(e,r){return e*256+r}static Uint16ToBytes(e){return[e&255,e>>8&255]}static bytesToInt24(e,r,t){let n=(255&e)<<16|(255&r)<<8|255&t;return(n&8388608)>0?n|=4278190080:n&=16777215,n}static bytesToUInt24(e,r,t){return e*65536+r*256+t}static Uint24ToBytes(e){return[e&255,e>>8&255,e>>16&255]}static bytesToInt32(e,r,t,n){let i=(255&e)<<24|(255&r)<<16|(255&t)<<8|255&n;return(i&2147483648)>0?i|=0:i&=4294967295,i}static bytesToUInt32(e,r,t,n){return e*16777216+r*65536+t*256+n}static Uint32ToBytes(e){return[e&255,e>>8&255,e>>16&255,e>>24&255]}static get2sCompliment(e,r){return e>4294967296?null:e<<32-r>>32-r}static getSignedInt(...e){let r=0;function t(n){for(var i=0,c=!0;n--;)if(c){let u=e[r++];i+=u&127,u&128&&(i-=128),c=!1}else i*=256,i+=e[r++];return i}return t(e.length)}static asUint8Array(e){if(e instanceof Uint8Array)return e;if(typeof e=="string"){for(var r=new Uint8Array(e.length),t=0;t<e.length;t++){var n=e.charCodeAt(t);if(n>127)throw new TypeError("Only ASCII patterns are supported");r[t]=n}return r}else return new Uint8Array(e)}static boyerMoore(e){var r=Bc.asUint8Array(e),t=r.length;if(t===0)throw new TypeError("patternBuffer must be at least 1 byte long");for(var n=256,i=new Int32Array(n),c=0;c<n;c++)i[c]=-1;for(var u=0;u<t;u++)i[r[u]]=u;var a=(s,o,l)=>{var d=Bc.asUint8Array(s);o===void 0&&(o=0),l===void 0&&(l=d.length);for(var p=r,f=i,v=l-p.length,h=p.length-1,m,y=o;y<=v;y+=m){m=0;for(var g=h;g>=0;g--){var b=d[y+g];if(p[g]!==b){m=Math.max(1,g-f[b]);break}}if(m===0)return y}return-1};return a.byteLength=r.byteLength,a}static struct(e){let r=[],t=0,n=lCr.exec(e);if(!n)throw new RangeError("Invalid format string");let i=hCr(n[1]==="<"),c=(d,p)=>i[p](d?parseInt(d,10):1);for(;n=dCr.exec(e);)((d,p,f)=>{for(let v=0;v<d;++v,t+=p)f&&r.push(f(t))})(...c(...n.slice(1)));let u=(d,p)=>{if(d.byteLength<(p|0)+t)throw yX;let f=new DataView(d,p|0);return r.map(v=>v.u(f))},a=(d,p,...f)=>{if(f.length<r.length)throw vCr;if(d.byteLength<p+t)throw yX;let v=new DataView(d,p);new Uint8Array(d,p,t).fill(0),r.forEach((h,m)=>h.p(v,f[m]))},s=(...d)=>{let p=new ArrayBuffer(t);return a(p,0,...d),p},o=d=>u(d,0);function*l(d){for(let p=0;p+t<=d.byteLength;p+=t)yield u(d,p)}return Object.freeze({unpack:o,pack:s,unpack_from:u,pack_into:a,iter_unpack:l,format:e,size:t})}},nr=Bc;nr.codes={"\\n":10,"\\r":13,"\\t":9,"\\s":32,"\\b":8,"\\f":12,"\\":92};var gX;(function(e){e[e.SCAN_MODE_LOW_POWER=0]="SCAN_MODE_LOW_POWER",e[e.SCAN_MODE_BALANCED=1]="SCAN_MODE_BALANCED",e[e.SCAN_MODE_LOW_LATENCY=2]="SCAN_MODE_LOW_LATENCY"})(gX||(gX={}));FE();LE();FE();var Tr=SX("BluetoothLe",{web:()=>Promise.resolve().then(()=>(A2r(),OX)).then(e=>new e.BluetoothLeWeb)}),mCr=RE(M2r());function CE(e){return e?(0,mCr.default)(1):r=>r()}function $t(e){if(typeof e!="string")throw new Error(`Invalid UUID type ${typeof e}. Expected string.`);if(e=e.toLowerCase(),!(e.search(/^[0-9a-f]{8}\b-[0-9a-f]{4}\b-[0-9a-f]{4}\b-[0-9a-f]{4}\b-[0-9a-f]{12}$/)>=0))throw new Error(`Invalid UUID format ${e}. Expected 128 bit string (e.g. "0000180d-0000-1000-8000-00805f9b34fb").`);return e}var yCr=class{constructor(){this.scanListener=null,this.eventListeners=new Map,this.queue=CE(!0)}enableQueue(){this.queue=CE(!0)}disableQueue(){this.queue=CE(!1)}async initialize(e){await this.queue(async()=>{await Tr.initialize(e)})}async getEnabled(){return this.isEnabled()}async isEnabled(){return await this.queue(async()=>(await Tr.isEnabled()).value)}async enable(){await this.queue(async()=>{await Tr.enable()})}async disable(){await this.queue(async()=>{await Tr.disable()})}async startEnabledNotifications(e){await this.queue(async()=>{var r;let t="onEnabledChanged";await((r=this.eventListeners.get(t))===null||r===void 0?void 0:r.remove());let n=await Tr.addListener(t,i=>{e(i.value)});this.eventListeners.set(t,n),await Tr.startEnabledNotifications()})}async stopEnabledNotifications(){await this.queue(async()=>{var e;let r="onEnabledChanged";await((e=this.eventListeners.get(r))===null||e===void 0?void 0:e.remove()),this.eventListeners.delete(r),await Tr.stopEnabledNotifications()})}async isLocationEnabled(){return await this.queue(async()=>(await Tr.isLocationEnabled()).value)}async openLocationSettings(){await this.queue(async()=>{await Tr.openLocationSettings()})}async openBluetoothSettings(){await this.queue(async()=>{await Tr.openBluetoothSettings()})}async openAppSettings(){await this.queue(async()=>{await Tr.openAppSettings()})}async setDisplayStrings(e){await this.queue(async()=>{await Tr.setDisplayStrings(e)})}async requestDevice(e){return await this.queue(async()=>await Tr.requestDevice(e))}async requestLEScan(e,r){await this.queue(async()=>{var t;await((t=this.scanListener)===null||t===void 0?void 0:t.remove()),this.scanListener=await Tr.addListener("onScanResult",n=>{let i=Object.assign(Object.assign({},n),{manufacturerData:this.convertObject(n.manufacturerData),serviceData:this.convertObject(n.serviceData),rawAdvertisement:n.rawAdvertisement?this.convertValue(n.rawAdvertisement):void 0});r(i)}),await Tr.requestLEScan(e)})}async stopLEScan(){await this.queue(async()=>{var e;await((e=this.scanListener)===null||e===void 0?void 0:e.remove()),this.scanListener=null,await Tr.stopLEScan()})}async getDevices(e){return this.queue(async()=>(await Tr.getDevices({deviceIds:e})).devices)}async getConnectedDevices(e){return this.queue(async()=>(await Tr.getConnectedDevices({services:e})).devices)}async connect(e,r,t){await this.queue(async()=>{var n;if(r){let i=`disconnected|${e}`;await((n=this.eventListeners.get(i))===null||n===void 0?void 0:n.remove());let c=await Tr.addListener(i,()=>{r(e)});this.eventListeners.set(i,c)}await Tr.connect(Object.assign({deviceId:e},t))})}async createBond(e){await this.queue(async()=>{await Tr.createBond({deviceId:e})})}async isBonded(e){return await this.queue(async()=>(await Tr.isBonded({deviceId:e})).value)}async disconnect(e){await this.queue(async()=>{await Tr.disconnect({deviceId:e})})}async getServices(e){return await this.queue(async()=>(await Tr.getServices({deviceId:e})).services)}async readRssi(e){return await this.queue(async()=>{let t=await Tr.readRssi({deviceId:e});return parseFloat(t.value)})}async read(e,r,t,n){return r=$t(r),t=$t(t),await this.queue(async()=>{let c=await Tr.read(Object.assign({deviceId:e,service:r,characteristic:t},n));return this.convertValue(c.value)})}async write(e,r,t,n,i){return r=$t(r),t=$t(t),this.queue(async()=>{if(!n?.buffer)throw new Error("Invalid data.");let c=n;Va.getPlatform()!=="web"&&(c=DE(n)),await Tr.write(Object.assign({deviceId:e,service:r,characteristic:t,value:c},i))})}async writeWithoutResponse(e,r,t,n,i){r=$t(r),t=$t(t),await this.queue(async()=>{if(!n?.buffer)throw new Error("Invalid data.");let c=n;Va.getPlatform()!=="web"&&(c=DE(n)),await Tr.writeWithoutResponse(Object.assign({deviceId:e,service:r,characteristic:t,value:c},i))})}async readDescriptor(e,r,t,n,i){return r=$t(r),t=$t(t),n=$t(n),await this.queue(async()=>{let u=await Tr.readDescriptor(Object.assign({deviceId:e,service:r,characteristic:t,descriptor:n},i));return this.convertValue(u.value)})}async writeDescriptor(e,r,t,n,i,c){return r=$t(r),t=$t(t),n=$t(n),this.queue(async()=>{if(!i?.buffer)throw new Error("Invalid data.");let u=i;Va.getPlatform()!=="web"&&(u=DE(i)),await Tr.writeDescriptor(Object.assign({deviceId:e,service:r,characteristic:t,descriptor:n,value:u},c))})}async startNotifications(e,r,t,n){r=$t(r),t=$t(t),await this.queue(async()=>{var i;let c=`notification|${e}|${r}|${t}`;await((i=this.eventListeners.get(c))===null||i===void 0?void 0:i.remove());let u=await Tr.addListener(c,a=>{n(this.convertValue(a?.value))});this.eventListeners.set(c,u),await Tr.startNotifications({deviceId:e,service:r,characteristic:t})})}async stopNotifications(e,r,t){r=$t(r),t=$t(t),await this.queue(async()=>{var n;let i=`notification|${e}|${r}|${t}`;await((n=this.eventListeners.get(i))===null||n===void 0?void 0:n.remove()),this.eventListeners.delete(i),await Tr.stopNotifications({deviceId:e,service:r,characteristic:t})})}convertValue(e){return typeof e=="string"?yN(e):e===void 0?new DataView(new ArrayBuffer(0)):e}convertObject(e){if(e===void 0)return;let r={};for(let t of Object.keys(e))r[t]=this.convertValue(e[t]);return r}},gCr=new yCr;LE();var SN=class extends nr{constructor(e,r){super(),this.client=gCr,this.devices={},this.location=!1,this.initialized=!1,this.setupDevice=(t,n)=>new Promise(async(i,c)=>{this.devices[t.deviceId]={device:t,deviceId:t.deviceId,...n},this.client.connect(t.deviceId,u=>{this.devices[t.deviceId]?.ondisconnect&&this.devices[t.deviceId].ondisconnect(u)},n?.connectOptions).then(async()=>{let u=await this.getServices(t.deviceId);for(let a in n?.services){let s=u.find(o=>{if(o.uuid===a)return!0});if(s)for(let o in n.services[a]){if(!s.characteristics.find(d=>{if(d.uuid===o)return!0}))continue;let l=n.services[a][o];l.write&&await this.write(t,a,o,l.write,l.writeCallback,l.writeOptions),l.read&&await this.read(t,a,o,l.readCallback,l.readOptions),l.notify&&l.notifyCallback&&(await this.subscribe(t,a,o,l.notifyCallback),l.notifying=!0)}}}).catch(c),i(this.devices[t.deviceId])}),this.triangulate=(t,n=1500,i=60)=>new Promise((c,u)=>{if("Accelerometer"in globalThis){if(typeof globalThis.Accelerometer=="function"){let a=new globalThis.Accelerometer({frequency:i}),s=performance.now(),o=s,l={samples:[],vector:{}},d=()=>{if(o-s<n)this.readRssi(t).then(p=>{let f=a.x,v=a.y,h=a.z;o=performance.now(),l.samples.push({x:f,y:v,z:h,rssi:p,timestamp:o})});else{let p={x:0,y:0,z:0,rssiAvg:0};l.samples.forEach(f=>{}),a.removeEventListener("reading",d)}};a.addEventListener("reading",d)}}else u(new Error("No Accelerometer API detected"))}),r&&(this.location=r),e&&this.setup(e)}setup(e,r=this.location){let t=[];if(e)for(let i in e.services)t.push(i);let n={};return r||(n.androidNeverForLocation=!1),new Promise(async(i,c)=>{if(this.initialized||(await this.client.initialize(n),this.initialized=!0),e?.deviceId)i(await this.reconnect(e.deviceId));else if(e){let u={filters:[{services:t}]};this.isMobile()||(u.optionalServices=t),e?.namePrefix&&(u.filters[0].namePrefix=e.namePrefix),e?.name&&(u.filters[0].name=e.name),this.client.requestDevice(u).then(a=>{i(this.setupDevice(a,e))}).catch(c)}else this.client.requestDevice().then(u=>{i(this.setupDevice(u,e))}).catch(c)})}initialize(e){return new Promise((r,t)=>{this.client.initialize(e).then(()=>{r(!0)}).catch(t)})}requestDevice(e,r){return new Promise((t,n)=>{this.client.requestDevice(e).then(i=>{this.devices[i.deviceId]={device:i,deviceId:i.deviceId,...r},t(i)}).catch(n)})}getServices(e){return this.client.getServices(e)}connect(e,r){return new Promise((t,n)=>{this.client.connect(e.deviceId,i=>{r?.ondisconnect&&r.ondisconnect(i)},r?.connectOptions).then(i=>{t(e)}).catch(n)})}reconnect(e,r){return new Promise((t,n)=>{let i=this.isAndroid(),c=this.isMobile();console.log(e);let u=r;this.devices[e]&&(u=Object.assign(Object.assign({},this.devices[e]),u)),u?.deviceId&&delete u.deviceId,!c&&!navigator.bluetooth?.getDevices&&this.setup(u).then(a=>{t(a)}),i&&this.client.getDevices([e]).then(a=>{this.setupDevice(a[0],u).then(s=>{t(s)})}).catch(n)})}disconnect(e){return typeof e=="object"&&(e=e.deviceId),delete this.devices[e],this.client.disconnect(e)}write(e,r,t,n,i,c){return typeof e=="object"&&(e=e.deviceId),i?this.client.write(e,r,t,SN.toDataView(n)).then(i):this.client.writeWithoutResponse(e,r,t,SN.toDataView(n),c)}read(e,r,t,n,i){return typeof e=="object"&&(e=e.deviceId),n?this.client.read(e,r,t,i).then(n):this.client.read(e,r,t,i)}subscribe(e,r,t,n){return typeof e=="object"&&(e=e.deviceId),this.client.startNotifications(e,r,t,n)}unsubscribe(e,r,t){return typeof e=="object"&&(e=e.deviceId),this.client.stopNotifications(e,r,t)}scan(e,r){return this.client.requestLEScan(e,r)}stopScanning(){return this.client.stopLEScan()}readDescriptor(e,r,t,n,i){return this.client.readDescriptor(e.deviceId,r,t,n,i)}writeDescriptor(e,r,t,n,i,c){return this.client.writeDescriptor(e.deviceId,r,t,n,SN.toDataView(i),c)}readRssi(e){return this.client.readRssi(e.deviceId)}isMobile(){let e=!1;return function(r){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(r)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(r.substr(0,4)))&&(e=!0)}(navigator.userAgent||navigator.vendor||window.opera),e}isAndroid(){return navigator.userAgent.toLowerCase().indexOf("android")>-1}async distance(e,r,t,n,i){let c=await this.readRssi(e);if(c==0)return;let u=c/r;return u<1?Math.pow(u,10):t*Math.pow(u,n)+i}async distanceFromPhone(e,r,t){let n,i,c;return t&&(t==="nexus5"?(n=.42093,i=6.9476,c=.54992):t==="motoX"?(n=.9401940951,i=6.170094565,c=0):t==="iphone5"&&(n=.89976,i=7.7095,c=.111)),await this.distance(e,r,n,i,c)}},fl=class extends nr{constructor(){super(...arguments),this.streams={},this.createStream=e=>{let r={_id:e._id?e._id:`stream${Math.floor(Math.random()*1e15)}`,info:e.port.getInfo(),running:!1,...e};return e.port?.readable&&(e.transforms?r.reader=fl.setStreamTransforms(e.port.readable,e.transforms).getReader():r.reader=e.port.readable.getReader()),this.streams[r._id]=r,r}}getPorts(){return navigator.serial.getPorts()}requestPort(e,r){let t={};return e&&(t.usbVendorId=e),r&&(t.usbProductId=r),t.usbVendorId?navigator.serial.requestPort({filters:[t]}):navigator.serial.requestPort()}openPort(e,r){return r&&(r=Object.assign({},r)),r?.ondisconnect&&(e.ondisconnect=r.ondisconnect,delete r.ondisconnect),e.open(r).then(()=>{r?.onconnect&&r.onconnect(e)})}async readWithTimeout(e,r){let t=e.readable.getReader(),n=setTimeout(()=>{t.releaseLock()},r),i=await t.read();return clearTimeout(n),t.releaseLock(),i}async writePort(e,r){let t=e.writable.getWriter();return await t.write(fl.toDataView(r)),t.releaseLock(),!0}getSignals(e){return e.getSignals()}setSignals(e,r){return e.setSignals(r)}readStream(e){if(e.reader&&!e.running){let r=e.reader;e.buffering&&(typeof e.buffering!="object"&&(e.buffering={}),e.buffering.buffer||(e.buffering.buffer=[]),e.buffering.searchBytes||(e.buffering.searchBytes=new Uint8Array([13,10])));let t=()=>{if(e.port.readable&&e.running)r.read().then(n=>{if(n.done)r.releaseLock();else{if(e.buffering){e.buffering.buffer.push(...n.value);let c=e.buffering.searchBytes,u=e.buffering.buffer,a=fl.boyerMoore(c),s=a.byteLength,o=-1;for(var i=a(u);i!==-1;i=a(u,i+s))!e.buffering.locked&&!("lockIdx"in e.buffering)?e.buffering.lockIdx=i:(o=i,o>=0&&(e.buffering.locked?o>0&&e.ondata(new Uint8Array(e.buffering.buffer.splice(e.buffering.searchBytes.length,o))):(e.ondata(new Uint8Array(e.buffering.buffer.splice(e.buffering.lockIdx+e.buffering.searchBytes.length,o+e.buffering.searchBytes.length))),e.buffering.buffer.splice(0,e.buffering.searchBytes.length),e.buffering.locked=!0)))}else e.ondata(n.value);setTimeout(()=>{t()},e.frequency)}}).catch(n=>{console.error(e._id," Read error:",n),(n.message.includes("overrun")||n.message.includes("framing"))&&(delete e.reader,this.reconnect(e))});else if(!e.running&&e.port.readable)try{r.releaseLock()}catch(n){console.error(n)}};return e.running=!0,t(),e}}writeStream(e,r){if(typeof e=="string"&&(e=this.streams[e]),e.port.writable){let t=e.port.writable.getWriter();return t.write(fl.toDataView(r)),t.releaseLock(),!0}}closeStream(e,r){return typeof e=="string"&&(e=this.streams[e]),e.running=!1,new Promise((t,n)=>{setTimeout(async()=>{if(e.port.readable&&e.reader){try{e.reader.releaseLock()}catch(i){console.error(i)}if(e.transforms)try{await e.reader.cancel()}catch(i){console.error(i)}}try{await e.port.close().then(()=>{r&&r(this.streams[e._id])}),delete this.streams[e._id],t(!0)}catch(i){n(i)}},300)})}reconnect(e,r){return typeof e=="string"&&(e=this.streams[e]),new Promise((t,n)=>{if(typeof e!="object"){n(void 0);return}let i=e.port.getInfo();this.closeStream(e._id).then(c=>{setTimeout(()=>{this.getPorts().then(u=>{for(let a=0;a<u.length;a++)u[a].getInfo().usbVendorId===i.usbVendorId&&u[a].getInfo().usbProductId===i.usbProductId&&(r?r._id=e._id:r=e,delete r.port,this.openPort(u[a],r.settings).then(()=>{let s=this.createStream({...r,port:u[a]});this.readStream(s),t(s)}).catch(n))}).catch(n)},100)})})}static setStreamTransforms(e,r){let t=[];Object.keys(r).forEach(i=>{let c=r[i];if(c instanceof TransformStream)t.push(c);else{c.start||(c.start=function(){}),c.flush||(c.flush=function(){});let u=new TransformStream({start:c.start,transform:c.transform,flush:c.flush},c.writableStrategy,c.readableStrategy);t.push(u)}});let n=e;return t.forEach(i=>{n=n.pipeThrough(i)}),n}};function jc(e){let r;e.getInt8?r=new Uint8Array(e.buffer):e.buffer?r=e:r=new Uint8Array(e);let t={0:new Array(9),1:new Array(9),2:new Array(9),3:new Array(9),4:new Array(9),5:new Array(9),6:new Array(9),7:new Array(9),timestamp:Date.now()};for(let n=0;n<9;n++){let i=n*25;t[0][n]=nr.bytesToInt24(r[i],r[i+1],r[i+2]),t[1][n]=nr.bytesToInt24(r[i+3],r[i+4],r[i+5]),t[2][n]=nr.bytesToInt24(r[i+6],r[i+7],r[i+8]),t[3][n]=nr.bytesToInt24(r[i+9],r[i+10],r[i+11]),t[4][n]=nr.bytesToInt24(r[i+12],r[i+13],r[i+14]),t[5][n]=nr.bytesToInt24(r[i+15],r[i+16],r[i+17]),t[6][n]=nr.bytesToInt24(r[i+18],r[i+19],r[i+20]),t[7][n]=nr.bytesToInt24(r[i+21],r[i+22],r[i+23])}return t}var bCr=new TextDecoder;function _Cr(e){let r=bCr.decode(e),t;return r.includes("|")?t=r.split("|"):t.includes(",")?t=r.split(","):t=r.split("	"),{0:parseInt(t[0]),1:parseInt(t[1]),2:parseInt(t[2]),3:parseInt(t[3]),4:parseInt(t[4]),5:parseInt(t[5]),6:parseInt(t[6]),7:parseInt(t[7]),timestamp:Date.now()}}var kX=250,Fa={nSec:10,sps:kX,units:"mV"},bX={lines:{0:JSON.parse(JSON.stringify(Fa)),1:JSON.parse(JSON.stringify(Fa)),2:JSON.parse(JSON.stringify(Fa)),3:JSON.parse(JSON.stringify(Fa)),4:JSON.parse(JSON.stringify(Fa)),5:JSON.parse(JSON.stringify(Fa)),6:JSON.parse(JSON.stringify(Fa)),7:JSON.parse(JSON.stringify(Fa))}},wCr=32,SCr=24,xCr=1.2,La={sps:kX,useDCBlock:!1,useBandpass:!1,bandpassLower:3,bandpassUpper:45,useScaling:!0,scalar:.96*1e3*xCr/(wCr*(Math.pow(2,SCr)-1))},_X={0:JSON.parse(JSON.stringify(La)),1:JSON.parse(JSON.stringify(La)),2:JSON.parse(JSON.stringify(La)),3:JSON.parse(JSON.stringify(La)),4:JSON.parse(JSON.stringify(La)),5:JSON.parse(JSON.stringify(La)),6:JSON.parse(JSON.stringify(La)),7:JSON.parse(JSON.stringify(La))};function jX(e){let r;e.buffer?r=e:r=new Uint8Array(e);let t={};for(let i=0;i<8;i++){let c=1+3*i;t[i]=nr.bytesToInt24(r[c],r[c+1],r[c+2])}let n=25;return t.ax=nr.bytesToInt16(r[n],r[n+1]),t.ay=nr.bytesToInt16(r[n+2],r[n+3]),t.az=nr.bytesToInt16(r[n+4],r[n+5]),t.gx=nr.bytesToInt16(r[n+6],r[n+7]),t.gy=nr.bytesToInt16(r[n+8],r[n+9]),t.gz=nr.bytesToInt16(r[n+10],r[n+11]),t.timestamp=Date.now(),t}var HE=250,AE={baudRate:115200,codec:jX,write:`b
`,sps:HE},On={nSec:10,sps:HE,units:"mV"},OCr={lines:{0:JSON.parse(JSON.stringify(On)),1:JSON.parse(JSON.stringify(On)),2:JSON.parse(JSON.stringify(On)),3:JSON.parse(JSON.stringify(On)),4:JSON.parse(JSON.stringify(On)),5:JSON.parse(JSON.stringify(On)),6:JSON.parse(JSON.stringify(On)),7:JSON.parse(JSON.stringify(On)),ax:JSON.parse(JSON.stringify(On)),ay:JSON.parse(JSON.stringify(On)),az:JSON.parse(JSON.stringify(On)),gx:JSON.parse(JSON.stringify(On)),gy:JSON.parse(JSON.stringify(On)),gz:JSON.parse(JSON.stringify(On))},generateNewLines:!0},Qt={sps:HE,useDCBlock:!0,useBandpass:!0,bandpassLower:3,bandpassUpper:45,useScaling:!0,scalar:1e3*4.5/(24*(Math.pow(2,23)-1))},DCr={0:JSON.parse(JSON.stringify(Qt)),1:JSON.parse(JSON.stringify(Qt)),2:JSON.parse(JSON.stringify(Qt)),3:JSON.parse(JSON.stringify(Qt)),4:JSON.parse(JSON.stringify(Qt)),5:JSON.parse(JSON.stringify(Qt)),6:JSON.parse(JSON.stringify(Qt)),7:JSON.parse(JSON.stringify(Qt)),8:JSON.parse(JSON.stringify(Qt)),9:JSON.parse(JSON.stringify(Qt)),10:JSON.parse(JSON.stringify(Qt)),11:JSON.parse(JSON.stringify(Qt)),12:JSON.parse(JSON.stringify(Qt)),13:JSON.parse(JSON.stringify(Qt)),14:JSON.parse(JSON.stringify(Qt)),15:JSON.parse(JSON.stringify(Qt))};function TX(e){let r;e.getInt8?r=new Uint8Array(e.buffer):e.buffer?r=e:r=new Uint8Array(e);let t={};for(let i=0;i<128;i++){let c=i*3+1;t[i]=nr.bytesToInt24(r[c],r[c+1],r[c+2])}let n=385;return t.ax=nr.bytesToInt16(r[n],r[n+1]),t.ay=nr.bytesToInt16(r[n+2],r[n+3]),t.az=nr.bytesToInt16(r[n+4],r[n+5]),t.gx=nr.bytesToInt16(r[n+6],r[n+7]),t.gy=nr.bytesToInt16(r[n+8],r[n+9]),t.gz=nr.bytesToInt16(r[n+10],r[n+11]),t.timestamp=Date.now(),t}var Ja=250,NCr={baudRate:921600,bufferSize:2e3,frequency:1.9,codec:TX,sps:Ja},RX={lines:{ax:{nSec:10,sps:Ja},ay:{nSec:10,sps:Ja},az:{nSec:10,sps:Ja},gx:{nSec:10,sps:Ja},gy:{nSec:10,sps:Ja},gz:{nSec:10,sps:Ja}}},FX={};for(let e=0;e<128;e++)RX.lines[e]={sps:Ja,nSec:10,units:"mV"},FX[e]={sps:250,useDCBlock:!0,useBandpass:!0,bandpassLower:3,bandpassUpper:45,scalar:1e3*2.5/(32*(Math.pow(2,24)-1))};function WE(e){let r;e.getInt8?r=new Uint8Array(e.buffer):e.buffer?r=e:r=new Uint8Array(e);let t={};for(let i=0;i<32;i++){let c=i*3+1;t[i]=nr.bytesToInt24(r[c],r[c+1],r[c+2])}let n=97;return t.ax=nr.bytesToInt16(r[n],r[n+1]),t.ay=nr.bytesToInt16(r[n+2],r[n+3]),t.az=nr.bytesToInt16(r[n+4],r[n+5]),t.gx=nr.bytesToInt16(r[n+6],r[n+7]),t.gy=nr.bytesToInt16(r[n+8],r[n+9]),t.gz=nr.bytesToInt16(r[n+10],r[n+11]),t.timestamp=Date.now(),t}var vl=512,CCr={baudRate:921600,bufferSize:2e3,frequency:1.9,codec:WE,sps:vl},ACr={baudRate:1e6,bufferSize:2e3,frequency:1.9,codec:WE,sps:vl},Ec={nSec:10,sps:vl},LX={lines:{ax:JSON.parse(JSON.stringify(Ec)),ay:JSON.parse(JSON.stringify(Ec)),az:JSON.parse(JSON.stringify(Ec)),gx:JSON.parse(JSON.stringify(Ec)),gy:JSON.parse(JSON.stringify(Ec)),gz:JSON.parse(JSON.stringify(Ec))}},UX={};for(let e=0;e<32;e++)LX.lines[e]={sps:vl,nSec:10,units:"mV"},UX[e]={sps:vl,useDCBlock:!0,useBandpass:!0,bandpassLower:3,bandpassUpper:45,useScaling:!0,scalar:1e3*2.5/(8*(Math.pow(2,24)-1))};var MCr=new TextDecoder;function $E(e){let r={timestamp:0,red:0,infrared:0,heg:0,ambient:0,temperature:0},t=MCr.decode(e),n=t.split("|");if(n.length===3)r.timestamp=Date.now(),r.red=parseInt(n[0]),r.infrared=parseInt(n[1]),r.heg=parseFloat(n[2]);else return n.length>=2?(r.timestamp=Date.now(),r.red=parseInt(n[1]),r.infrared=parseInt(n[2]),r.heg=parseFloat(n[3]),n[4]&&(r.ambient=parseFloat(n[4])),n[5]&&(r.temperature=parseFloat(n[5])),r):t}var di=40,QE={baudRate:115200,write:`t
`,codec:$E,sps:di},zX=Object.assign({},QE);zX.sps=19;var PCr={sps:di,services:{["6E400001-B5A3-F393-E0A9-E50E24DCCA9E".toLowerCase()]:{"6e400002-b5a3-f393-e0a9-e50e24dcca9e":{write:"t"},"6e400003-b5a3-f393-e0a9-e50e24dcca9e":{notify:!0,notifyCallback:void 0,codec:$E,sps:di}},["6E400004-B5A3-F393-E0A9-E50E24DCCA9E".toLowerCase()]:{["6E400005-B5A3-F393-E0A9-E50E24DCCA9E".toLowerCase()]:{read:!0},["6E400006-B5A3-F393-E0A9-E50E24DCCA9E".toLowerCase()]:{write:void 0,notify:!0,notifyCallback:void 0},["6E400007-B5A3-F393-E0A9-E50E24DCCA9E".toLowerCase()]:{read:!0}}},androidWebBLE:"o"},JX=Object.assign({},QE);JX.sps=19;var wX={lines:{red:{nSec:60,sps:di},ir:{nSec:60,sps:di},heg:{nSec:60,sps:di},ambient:{nSec:60,sps:di},temperature:{nSec:60,sps:di,units:"C"}}},ME=19,ECr={red:{sps:ME,lowpassHz:2,useLowpass:!0},ir:{sps:ME,lowpassHz:2,useLowpass:!0},heg:{sps:ME,lowpassHz:2,useLowpass:!0}},qCr={red:{sps:di,lowpassHz:4,useLowpass:!0},ir:{sps:di,lowpassHz:4,useLowpass:!0},heg:{sps:di,lowpassHz:4,useLowpass:!0}};function YE(e){let r;e.getInt8?r=new Uint8Array(e.buffer):e.buffer?r=e:r=new Uint8Array(e);let t={red:new Array(32),ir:new Array(32),max_dietemp:nr.get2sCompliment(r[193],8)+.0625*r[194],timestamp:Date.now()},n=0;for(;n<32;){let i=n*6;n%2===0?(t.ir[n]=(r[i+1]<<16|r[i+2]<<8|r[i+3])&524287,t.ir[n+1]=(r[i+4]<<16|r[i+5]<<8|r[i+6])&524287):(t.red[n-1]=(r[i+1]<<16|r[i+2]<<8|r[i+3])&524287,t.red[n]=(r[i+4]<<16|r[i+5]<<8|r[i+6])&524287),n++}return t}var ICr={lines:{red:{nSec:10,sps:100},ir:{nSec:10,sps:100},max_dietemp:{nSec:10,sps:3.33,units:"C"}}};function ZE(e){let r;e.getInt8?r=new Uint8Array(e.buffer):e.buffer?r=e:r=new Uint8Array(e);let t={ax:new Array(20),ay:new Array(20),az:new Array(20),gx:new Array(20),gy:new Array(20),gz:new Array(20),mpu_dietemp:(nr.bytesToInt16(r[241],r[242])+521)/340+35,timestamp:Date.now()};for(let n=0;n<20;n++){let i=n*12;t.ax[n]=nr.bytesToInt16(r[i+1],r[i+2]),t.ay[n]=nr.bytesToInt16(r[i+3],r[i+4]),t.az[n]=nr.bytesToInt16(r[i+5],r[i+6]),t.gx[n]=nr.bytesToInt16(r[i+7],r[i+8]),t.gy[n]=nr.bytesToInt16(r[i+9],r[i+10]),t.gz[n]=nr.bytesToInt16(r[i+11],r[i+12])}return t}var qc=100,BCr={lines:{ax:{nSec:10,sps:qc},ay:{nSec:10,sps:qc},az:{nSec:10,sps:qc},gx:{nSec:10,sps:qc},gy:{nSec:10,sps:qc},gz:{nSec:10,sps:qc},mpu_dietemp:{nSec:10,sps:5,units:"C"}}};function VX(e){let r;e.getInt8?r=new Uint8Array(e.buffer):e.buffer?r=e:r=new Uint8Array(e);let t={0:new Array,1:new Array,2:new Array,3:new Array,4:new Array,5:new Array,6:new Array,7:new Array,timestamp:Date.now()};for(let n=0;n<7;n++){let i=n*26+1;if(!r[i+23])break;t[0][n]=nr.bytesToUInt24(r[i],r[i+1],r[i+2]),t[1][n]=nr.bytesToUInt24(r[i+3],r[i+4],r[i+5]),t[2][n]=nr.bytesToUInt24(r[i+6],r[i+7],r[i+8]),t[3][n]=nr.bytesToUInt24(r[i+9],r[i+10],r[i+11]),t[4][n]=nr.bytesToUInt24(r[i+12],r[i+13],r[i+14]),t[5][n]=nr.bytesToUInt24(r[i+15],r[i+16],r[i+17]),t[6][n]=nr.bytesToUInt24(r[i+18],r[i+19],r[i+20]),t[7][n]=nr.bytesToUInt24(r[i+21],r[i+22],r[i+23])}return t}var ui=250,kCr={services:{["82046698-6313-4BB1-9645-6BA28BF86DF5".toLowerCase()]:{["8204669A-6313-4BB1-9645-6BA28BF86DF5".toLowerCase()]:{notify:!0,notifyCallback:void 0,codec:VX,sps:ui}},["82E12914-9AFA-4648-BD1B-8E2B3DC6DAAF".toLowerCase()]:{["82E12915-9AFA-4648-BD1B-8E2B3DC6DAAF".toLowerCase()]:{write:void 0},["82E12916-9AFA-4648-BD1B-8E2B3DC6DAAF".toLowerCase()]:{read:!0}}},sps:ui},Ua={nSec:10,sps:ui,units:"mV"},jCr={lines:{0:JSON.parse(JSON.stringify(Ua)),1:JSON.parse(JSON.stringify(Ua)),2:JSON.parse(JSON.stringify(Ua)),3:JSON.parse(JSON.stringify(Ua)),4:JSON.parse(JSON.stringify(Ua)),5:JSON.parse(JSON.stringify(Ua)),6:JSON.parse(JSON.stringify(Ua)),7:JSON.parse(JSON.stringify(Ua))}},TCr={0:{sps:ui,useDCBlock:!0,useBandpass:!0,bandpassLower:3,bandpassUpper:45},1:{sps:ui,useDCBlock:!0,useBandpass:!0,bandpassLower:3,bandpassUpper:45},2:{sps:ui,useDCBlock:!0,useBandpass:!0,bandpassLower:3,bandpassUpper:45},3:{sps:ui,useDCBlock:!0,useBandpass:!0,bandpassLower:3,bandpassUpper:45},4:{sps:ui,useDCBlock:!0,useBandpass:!0,bandpassLower:3,bandpassUpper:45},5:{sps:ui,useDCBlock:!0,useBandpass:!0,bandpassLower:3,bandpassUpper:45},6:{sps:ui,useDCBlock:!0,useBandpass:!0,bandpassLower:3,bandpassUpper:45},7:{sps:ui,useDCBlock:!0,useBandpass:!0,bandpassLower:3,bandpassUpper:45}},ci={2:{type:"POOR_SIGNAL",format:"<B",byteLength:1},144:{type:"heg",format:"<i",byteLength:4},145:{type:"filteredHEG",format:"<i",byteLength:4},147:{type:"rawdata4",format:"<iiii",byteLength:4*4},148:{type:"rawdata6",format:"<iiiiii",byteLength:4*6},160:{type:"sampleNumber",format:"<i",byteLength:4},176:{type:"debug0",format:"<i",byteLength:4},177:{type:"debug1",format:"<i",byteLength:4},178:{type:"debug2",format:"<i",byteLength:4},179:{type:"debug3",format:"<i",byteLength:4},180:{type:"debug4",format:"<iiiiii",byteLength:4*6},181:{type:"debug4",format:"<iiiiii",byteLength:4*6},182:{type:"rawdata27",format:"<B"+"i".repeat(26),byteLength:1+4*26}};function GX(e){let r={},t=0;for(;t<e.length;)if(ci[e[t]]&&t+1+ci[e[t]].byteLength<=e.length){let n=e.slice(t+1,t+1+ci[e[t]].byteLength).buffer,i=nr.struct(ci[e[t]].format).unpack(n),c=ci[e[t]].type;c==="unfilteredHEG"||c==="heg"?i=i[0]/256:(c==="POOR_SIGNAL"||c==="sampleNumber"||c==="debug0"||c==="debug1"||c==="debug2"||c==="debug3")&&(i=i[0]),r[ci[e[t]].type]?Array.isArray(i)?r[ci[e[t]].type].push(...i):r[ci[e[t]].type].push(i):Array.isArray(i)?r[ci[e[t]].type]=i:r[ci[e[t]].type]=[i],t+=ci[e[t]].byteLength+1}else t++;return r.timestamp=Date.now(),r}var RCr={baudRate:38400,bufferSize:400,write:`protocol 3
`,buffering:{searchBytes:new Uint8Array([170,170])},codec:GX,sps:10.101},FCr={lines:{filteredHEG:{sps:10.101,nSec:60},heg:{sps:10.101,nSec:60},debug0:{sps:10.101,nSec:60},debug1:{sps:10.101,nSec:60},debug2:{sps:10.101,nSec:60},debug3:{sps:10.101,nSec:60},debug4:{sps:60.101,nSec:60}},generateNewLines:!1,cleanGeneration:!1},LCr=1013.25,XE=e=>{let r;e.getInt8?r=new Uint8Array(e.buffer):e.buffer?r=e:r=new Uint8Array(e);let t={temp:[],pressure:[],humidity:[],altitude:[]};for(let n=0;n<3;n++){let i=n*24,c=nr.bytesToUInt32(r[0+i],r[1+i],r[2+i],r[3+i]),u=nr.bytesToUInt32(r[4+i],r[5+i],r[6+i],r[7+i]);t.temp.push(c+u/Math.pow(10,Math.ceil(Math.log10(u))));let a=nr.bytesToUInt32(r[8+i],r[9+i],r[10+i],r[11+i]),s=nr.bytesToUInt32(r[12+i],r[13+i],r[14+i],r[15+i]);t.pressure.push(a+s/Math.pow(10,Math.ceil(Math.log10(s))));let o=nr.bytesToUInt32(r[16+i],r[17+i],r[18+i],r[19+i]),l=nr.bytesToUInt32(r[20+i],r[21+i],r[22+i],r[23+i]);t.humidity.push(o+l/Math.pow(10,Math.ceil(Math.log10(l)))),t.altitude.push(JCr(t.pressure[n],t.temp[n]))}return t},UCr=1/5.257,zCr=1/.0065;function JCr(e,r){return(Math.pow(LCr/e,UCr)-1)*(r+273.15)*zCr}function HX(e){let r;e.getInt8?r=new Uint8Array(e.buffer):e.buffer?r=e:r=new Uint8Array(e);let t={};if(r[0]===2)Object.assign(t,jc(r.subarray(2)));else if(r[0]===3){let n=jc(r.subarray(2));Object.keys(n).forEach((i,c)=>{t[c+8]=n[i]})}else r[0]===4?Object.assign(t,ZE(r.subarray(2))):r[0]===5?Object.assign(t,YE(r.subarray(2))):r[0]===6?Object.assign(t,XE(r.subarray(2))):Object.assign(t,jc(r));return t}var VCr={baudRate:115200,buffering:{searchBytes:new Uint8Array([240,240])},codec:HX,sps:250},GCr={sps:250,services:{"0000cafe-b0ba-8bad-f00d-deadbeef0000":{"0001cafe-b0ba-8bad-f00d-deadbeef0000":{write:void 0},"0002cafe-b0ba-8bad-f00d-deadbeef0000":{notify:!0,notifyCallback:void 0,codec:jc,sps:250},"0003cafe-b0ba-8bad-f00d-deadbeef0000":{notify:!0,notifyCallback:void 0,codec:YE,sps:100},"0004cafe-b0ba-8bad-f00d-deadbeef0000":{notify:!0,notifyCallback:void 0,codec:ZE,sps:100},"0005cafe-b0ba-8bad-f00d-deadbeef0000":{notify:!0,notifyCallback:void 0,codec:jc,sps:250},"0006cafe-b0ba-8bad-f00d-deadbeef0000":{notify:!0,notifyCallback:void 0,codec:XE,sps:3.33}}}},za={nSec:10,sps:250,units:"mV"},HCr={lines:{0:JSON.parse(JSON.stringify(za)),1:JSON.parse(JSON.stringify(za)),2:JSON.parse(JSON.stringify(za)),3:JSON.parse(JSON.stringify(za)),4:JSON.parse(JSON.stringify(za)),5:JSON.parse(JSON.stringify(za)),6:JSON.parse(JSON.stringify(za)),7:JSON.parse(JSON.stringify(za))},generateNewLines:!0,cleanGeneration:!1},WCr=32,$Cr=24,QCr=1.2,Yt={sps:250,useDCBlock:!1,useBandpass:!1,bandpassLower:3,bandpassUpper:45,useScaling:!0,scalar:.96*1e3*QCr/(WCr*(Math.pow(2,$Cr)-1))},YCr={0:JSON.parse(JSON.stringify(Yt)),1:JSON.parse(JSON.stringify(Yt)),2:JSON.parse(JSON.stringify(Yt)),3:JSON.parse(JSON.stringify(Yt)),4:JSON.parse(JSON.stringify(Yt)),5:JSON.parse(JSON.stringify(Yt)),6:JSON.parse(JSON.stringify(Yt)),7:JSON.parse(JSON.stringify(Yt)),8:JSON.parse(JSON.stringify(Yt)),9:JSON.parse(JSON.stringify(Yt)),10:JSON.parse(JSON.stringify(Yt)),11:JSON.parse(JSON.stringify(Yt)),12:JSON.parse(JSON.stringify(Yt)),13:JSON.parse(JSON.stringify(Yt)),14:JSON.parse(JSON.stringify(Yt)),15:JSON.parse(JSON.stringify(Yt))},ZCr=new TextDecoder;function KE(e){let r={timestamp:0,left_red:0,left_infrared:0,left_heg:0,center_red:0,center_infrared:0,center_heg:0,right_red:0,right_infrared:0,right_heg:0},t=ZCr.decode(e),n=t.split("|");return n.length>=5?(r.timestamp=Date.now(),r.left_red=parseInt(n[1]),r.left_infrared=parseInt(n[2]),r.left_heg=parseFloat(n[3]),r.center_red=parseInt(n[4]),r.center_infrared=parseInt(n[5]),r.center_heg=parseFloat(n[6]),r.right_red=parseInt(n[7]),r.right_infrared=parseInt(n[8]),r.right_heg=parseFloat(n[9]),r):t}var XCr={baudRate:115200,codec:KE},KCr={services:{["6E400001-B5A3-F393-E0A9-E50E24DCCA9E".toLowerCase()]:{"6e400002-b5a3-f393-e0a9-e50e24dcca9e":{write:"t"},"6e400003-b5a3-f393-e0a9-e50e24dcca9e":{notify:!0,notifyCallback:void 0,codec:KE}},["6E400004-B5A3-F393-E0A9-E50E24DCCA9E".toLowerCase()]:{["6E400005-B5A3-F393-E0A9-E50E24DCCA9E".toLowerCase()]:{read:!0},["6E400006-B5A3-F393-E0A9-E50E24DCCA9E".toLowerCase()]:{write:void 0,notify:!0,notifyCallback:void 0},["6E400007-B5A3-F393-E0A9-E50E24DCCA9E".toLowerCase()]:{read:!0}}},androidWebBLE:"o"},eAr={lines:{left_red:{nSec:60,sps:20},left_infrared:{nSec:60,sps:20},left_heg:{nSec:60,sps:20},center_red:{nSec:60,sps:20},center_infrared:{nSec:60,sps:20},center_heg:{nSec:60,sps:20},right_red:{nSec:60,sps:20},right_infrared:{nSec:60,sps:20},right_heg:{nSec:60,sps:20}}};function WX(e){let r={red:e.getInt32(2),ir:e.getInt32(6),ir2:e.getInt32(10),timestamp:Date.now()};return r.heg=r.red/(.5*(r.ir+r.ir2)),r}var kc=40,rAr={namePrefix:"blueberry",services:{"0f0e0d0c-0b0a-0908-0706-050403020100":{"1f1e1d1c-1b1a-1918-1716-151413121110":{write:void 0},"3f3e3d3c-3b3a-3938-3736-353433323130":{notify:!0,notifyCallback:void 0,codec:WX,sps:kc}}},sps:kc},tAr={lines:{red:{nSec:60,sps:kc},ir:{nSec:60,sps:kc},ir2:{nSec:60,sps:kc},heg:{nSec:60,sps:kc}}};function nAr(e){let r={sred:e.getInt32(2),sir:e.getInt32(6),sir2:e.getInt32(10),timestamp:Date.now()};return r.sheg=r.sred/(.5*(r.sir+r.sir2)),r}function iAr(e){let r={red:e.getInt32(2),ir:e.getInt32(6),ir2:e.getInt32(10),timestamp:Date.now()};return r.heg=r.sred/(.5*(r.ir+r.ir2)),r}var li=40,aAr={namePrefix:"blueberry",services:{"0f0e0d0c-0b0a-0908-0706-050403020100":{"1f1e1d1c-1b1a-1918-1716-151413121110":{write:void 0},"4f4e4d4c-4b6a-6968-6766-656463426160":{notify:!0,notifyCallback:void 0,codec:iAr,sps:li},"4f4e4d4c-4b5a-5958-5756-555453425150":{notify:!0,notifyCallback:void 0,codec:nAr,sps:li}}},sps:li},sAr={lines:{red:{nSec:60,sps:li},ir:{nSec:60,sps:li},ir2:{nSec:60,sps:li},heg:{nSec:60,sps:li},sred:{nSec:60,sps:li},sir:{nSec:60,sps:li},sir2:{nSec:60,sps:li},sheg:{nSec:60,sps:li}}},vN={sps:250,useDCBlock:!0,useBandpass:!0,bandpassLower:3,bandpassUpper:45},oAr={0:JSON.parse(JSON.stringify(vN)),1:JSON.parse(JSON.stringify(vN)),2:JSON.parse(JSON.stringify(vN)),3:JSON.parse(JSON.stringify(vN))},mN={nSec:10,sps:250,units:"mV"},cAr={lines:{0:JSON.parse(JSON.stringify(mN)),1:JSON.parse(JSON.stringify(mN)),2:JSON.parse(JSON.stringify(mN)),3:JSON.parse(JSON.stringify(mN)),ax:{nSec:10,sps:250,units:"mg"},ay:{nSec:10,sps:250,units:"mg"},az:{nSec:10,sps:250,units:"mg"}},generateNewLines:!0},ll={sps:250,useDCBlock:!0,useBandpass:!0,bandpassLower:3,bandpassUpper:45},uAr={0:JSON.parse(JSON.stringify(ll)),1:JSON.parse(JSON.stringify(ll)),2:JSON.parse(JSON.stringify(ll)),3:JSON.parse(JSON.stringify(ll)),4:JSON.parse(JSON.stringify(ll))},lAr={lines:{0:{nSec:10,sps:250,units:"uV"},1:{nSec:10,sps:250,units:"uV"},2:{nSec:10,sps:250,units:"uV"},3:{nSec:10,sps:250,units:"uV"},4:{nSec:10,sps:250,units:"uV"},ax:{nSec:10,sps:100,units:"mg"},ay:{nSec:10,sps:100,units:"mg"},az:{nSec:10,sps:100,units:"mg"},gx:{nSec:10,sps:100,units:"rps"},gy:{nSec:10,sps:100,units:"rps"},gz:{nSec:10,sps:100,units:"rps"}},generateNewLines:!0};function $X(e){return{hr:e.getInt8(1),timestamp:Date.now()}}var dAr={services:{heart_rate:{heart_rate_measurement:{notify:!0,notifyCallback:void 0,codec:$X}}}},QX={sps:250,simulate:{0:{sps:250,freq:1,amplitude:1,offset:0},1:{sps:250,freq:10,amplitude:1,offset:0},2:{sps:250,freq:100,amplitude:.5,offset:.5},3:{sps:250,freq:25,amplitude:1,offset:0}},connect:(e={})=>new Promise(async(r,t)=>{let i={_id:`simulated${Math.floor(Math.random()*1e15)}`,settings:Object.assign(Object.assign({},QX),e)};i.settings.looping=!0;let c=50,u=Date.now(),a=()=>{if(i.settings.looping){let s={},o=Date.now(),l=o-u;for(let d in i.settings.simulate){let p=Math.floor(i.settings.simulate[d].sps*l/1e3);s[d]=new Array(p).fill(0),s[d]=s[d].map((f,v)=>Math.sin(2*Math.PI*i.settings.simulate[d].freq*.001*(u+l*(v+1)/p))*i.settings.simulate[d].amplitude+i.settings.simulate[d].offset)}u=o,s.timestamp=u,i.settings.ondata(s),setTimeout(()=>{a()},c)}};a(),i.settings.onconnect&&i.settings.onconnect(i),r(i)}),codec:e=>(console.log(e),e),disconnect:e=>{console.log(e),e.settings.looping=!1,e.settings.ondisconnect(e)},onconnect:e=>{console.log("muse connected!",e)},ondisconnect:e=>{console.log("muse disconnected!",e)},ondata:e=>{console.log(e)}},YX={BLE:{nrf5x:GCr,hegduino:PCr,hegduinoV1:JX,cognixionONE:kCr,statechanger:KCr,blueberry:rAr,blueberry2:aAr,heart_rate:dAr},USB:{nrf5x:VCr,freeEEG32:CCr,freeEEG32_optical:ACr,freeEEG128:NCr,hegduino:QE,hegduinoV1:zX,cyton:AE,cyton_daisy:AE,peanut:RCr,statechanger:XCr,cognixionONE:AE},BLE_OTHER:{},USB_OTHER:{},OTHER:{simulator:QX}},dl={lines:{0:{nPoints:1e3}},generateNewLines:!0,cleanGeneration:!0},pAr={raw:void 0,utf8:void 0,"console-f12":void 0,debug:void 0,ads131m08:_X,max3010x:void 0,mpu6050:void 0,freeeeg32:UX,freeeeg128:FX,cyton:DCr,cognixionONE_BLE:TCr,hegduino:qCr,hegduinoV1:ECr,nrf5x:YCr,ganglion:oAr,muse:uAr,arduino_ads131m08:_X},fAr={raw:dl,utf8:dl,"console-f12":dl,debug:dl,ads131m08:bX,max3010x:ICr,mpu6050:BCr,freeeeg32:LX,freeeeg128:RX,cyton:OCr,cognixionONE_BLE:jCr,hegduino:wX,hegduinoV1:wX,nrf5x:HCr,statechanger:eAr,peanut:FCr,blueberry:tAr,blueberry2:sAr,ganglion:cAr,muse:lAr,arduino_ads131m08:bX,simulator:dl},hAr=new TextDecoder,vAr={raw:e=>e?.buffer?Array.from(new Uint8Array(e)):e,utf8:e=>hAr.decode(e),"console-f12":e=>(e?.buffer&&(e=Array.from(new Uint8Array(e))),console.log(e),e),debug:(e,r)=>(e?.buffer&&(e=Array.from(new Uint8Array(e))),console.log(r,e),e),ads131m08:jc,arduino_ads131m08:_Cr,max3010x:YE,mpu6050:ZE,bme280:XE,freeeeg32:WE,freeeeg128:TX,cyton:jX,cognixionONE_BLE:VX,hegduino:$E,nrf5x:HX,peanut:GX,statechanger:KE,blueberry:WX,heart_rate:$X};function mAr(){let e=!1;return function(r){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(r)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(r.substr(0,4)))&&(e=!0)}(navigator.userAgent||navigator.vendor||window.opera),e}var hl=new SN,da=new G2r({services:{workerCanvasRoutes:aCr,subprocessRoutes:cCr}});function yAr(e,r,t){t.devices||(t.devices=YX);let n=t.devices[e][r];if(!n)return;t.workerUrl||(t.workerUrl=GE),t.service||(t.service=da);let i=t.service.addWorker({url:t.workerUrl});if(t.tree){for(let c in t.tree){let u={callback:"decodeAndParseDevice",worker:i};t.tree[c].__parent=t.tree[c].__parent?Object.assign(t.tree[c].__parent,u):u}t.service.setTree(t.tree)}if(e.includes("OTHER"))return new Promise(async(c,u)=>{n.ondata=o=>{i.run("decodeAndParseDevice",[o,e,r]).then(l=>{typeof t.ondecoded=="function"&&t.ondecoded(l)})},n.ondisconnect=()=>{if(t.service.terminate(i._id),t.tree)for(let o in t.tree)t.service.remove(o)};let a=await n.connect(n),s={workers:{streamworker:i},disconnect:()=>{if(n.disconnect(a),t.ondisconnect&&t.ondisconnect(s),t.tree)for(let o in t.tree)t.service.remove(o)},device:a,options:t,read:o=>{if(n.read)return new Promise((l,d)=>{l(n.read(n,o))})},write:o=>{if(n.write)return new Promise((l,d)=>{l(n.write(n,o))})},tree:t.tree};t.onconnect&&t.onconnect(s),c(s)}).catch(c=>{if(console.error(c),t.service.terminate(i._id),t.tree)for(let u in t.tree)t.service.remove(u)});if(e==="BLE"){for(let c in n.services)for(let u in n.services[c])if(typeof t.ondecoded=="function"){if(n.services?.[c]?.[u]?.notify){n.services[c][u].notifyCallback=a=>{i.run("decodeAndParseDevice",[a,e,r,c,u],[a.buffer]).then(t.ondecoded)};break}}else typeof t.ondecoded=="object"&&t.ondecoded[u]&&(n.services?.[c]?.[u]?.notify&&(n.services[c][u].notifyCallback=a=>{i.run("decodeAndParseDevice",[a,e,r,c,u],[a.buffer]).then(t.ondecoded[u])}),n.services?.[c]?.[u]?.read&&(n.services[u].readCallback=a=>{i.run("decodeAndParseDevice",[a,e,r,c,u],[a.buffer]).then(t.ondecoded[u])}));return new Promise((c,u)=>{hl.setup(n).then(a=>{let s={workers:{streamworker:i},options:t,device:a,disconnect:async()=>{if(await hl.disconnect(a.deviceId),t.ondisconnect&&t.ondisconnect(s),i.terminate(),t.tree)for(let o in t.tree)t.service.remove(o)},read:o=>hl.read(a.device,o.service,o.characteristic,o.ondata,o.timeout),write:o=>hl.write(a.device,o.service,o.characteristic,o.data,o.callback,o.timeout),tree:t.tree};t.onconnect&&t.onconnect(s),c(s)}).catch(a=>{if(console.error(a),i.terminate(),t.tree)for(let s in t.tree)t.service.remove(s);u(a)})})}else if(e==="USB"){let c=t.service.addWorker({url:t.workerUrl});c.worker.addEventListener("message",s=>{if(typeof s.data=="string"&&s.data.includes("disconnected")&&(t.service.terminate(c._id),t.service.terminate(i._id),t.tree))for(let o in t.tree)t.service.remove(o)}),c.post("setupSerial");let u=t.service.establishMessageChannel(i.worker,c.worker),a=new fl;return new Promise((s,o)=>{a.requestPort(n.usbVendorId,n.usbProductId).then(l=>{let d=l.getInfo();c.run("openPort",{baudRate:n.baudRate,usbVendorId:d.usbVendorId,usbProductId:d.usbProductId,bufferSize:n.bufferSize,buffering:n.buffering?n.buffering:void 0,frequency:n.frequency?n.frequency:void 0,pipeTo:{route:"decodeAndParseDevice",_id:u,extraArgs:[e,r]}}).then(p=>{n.write&&c.post("writeStream",[p._id,n.write]),typeof t.ondecoded=="function"&&i.subscribe("decodeAndParseDevice",t.ondecoded);let f={workers:{streamworker:i,serialworker:c},device:p,options:t,disconnect:()=>{c.post("closeStream",p._id),t.ondisconnect&&t.ondisconnect(f)},read:()=>new Promise((v,h)=>{let m;m=i.subscribe("decodeAndParseDevice",y=>{c.unsubscribe("decodeAndParseDevice",m),v(y)})}),write:v=>c.run("writeStream",[p._id,v]),tree:t.tree};t.onconnect&&t.onconnect(f),s(f)})}).catch(l=>{if(console.error(l),t.service.terminate(c._id),t.service.terminate(i._id),t.tree)for(let d in t.tree)t.service.remove(d);o(l)})})}else return}function gAr(e=!1,r=!1,t,n){n||(n=GE);let i=da.addWorker({url:n}),c,u,a,s;e&&(a=da.addWorker({url:n}),s=da.establishMessageChannel(a.worker,i.worker),a.post("setupSerial")),r&&(c=da.addWorker({url:n}),u=da.establishMessageChannel(i.worker,c.worker),t&&(da.run("transferCanvas",c.worker,t),da.transferFunction(c,function(d){this.run("runUpdate",void 0,d)},"receiveParsedData"),c.post("subscribeToWorker",["decodeAndParseDevice",u,"receiveParsedData"])));let o={streamworker:i};return a&&(o.serialworker=a,o.decoderPort=s),c&&(o.renderworker=c,o.renderPort=u),o}var bAr="BLE",_Ar="hegduino",wAr=eq,SAr=void 0,xAr={},OAr={},DAr=()=>{},NAr=null,CAr=null,AAr=null,MAr=null,PAr={main:!1,canvas:!1},EAr=void 0;async function qAr(e,r){if(r?._internal)return e;this.selected=e;let t=this.thirdPartyDecoder?.Devices??this.decoder.Devices;if(this.device=t[this.mode]?.[this.selected],!this.device){console.warn("Device not found...",this.mode,this.selected);return}this.info&&(this.info.disconnect(),this.info=null);let n=typeof this.subprocesses=="function"?this.subprocesses.call(this):this.subprocesses,i=typeof this.routes=="function"?this.routes.call(this):this.routes,c=this.decoder.initDevice(this.mode,this.selected,{devices:t,routes:i,subprocesses:n,workerUrl:this.workerUrl,ondecoded:u=>{this.ondecoded&&this.ondecoded(u),this.default(u,{_internal:!0})}});if(c&&typeof this.onconnect=="function")return this.info=await c,this.sps=this.device.sps,this.onconnect.call(this,this.info),this.info}var IAr="[object Module]",ZX=e=>!!(e&&(!!Object.keys(e).reduce((t,n)=>{let i=Object.getOwnPropertyDescriptor(e,n),c=i&&i.get&&!i.set?1:0;return t+c},0)||Object.prototype.toString.call(e)===IAr));var XX=(e,r,t)=>{let n=t.accumulator;n||(n=t.accumulator={});let i=t.ignore||[],c=t.path||[],u=t.condition||!0,a=[],s=[],o=(l,d={},p)=>{for(let f in l){if(i.includes(f))continue;let v=l[f],h=[...p.path,f],m={typeof:typeof v,name:v?.constructor?.name,simple:!0,object:v&&typeof v=="object",path:h};if(m.object){let y=m.name;if(ZX(v)||y==="Object"||y==="Array"){m.simple=!0;let b=a.indexOf(v);if(b!==-1)d[f]=s[b];else{a.push(v);let _=u instanceof Function?u(f,v,m):u;m.pass=_,d[f]=r(f,v,m),_&&(s.push(d[f]),d[f]=o(v,d[f],{...p,path:h}))}}else m.simple=!1,d[f]=r(f,v,m)}else d[f]=r(f,v,m)}return d};return o(e,n,{path:c})};var KX=(e,r={})=>{if(typeof e=="object")Array.isArray(e)?(e=[...e],r.accumulator=[]):(e={...e},r.accumulator={});else return e;return XX(e,(t,n,i)=>i.simple&&i.object?Array.isArray(n)?[]:{}:n,r),r.accumulator};var BAr=!1,kAr=e=>KX(e),jAr={connectmode:{__compose:ro},selectUSB:{__compose:ro},selectBLE:{__compose:ro},selectBLEOther:{__compose:ro},selectOther:{__compose:ro},connect:{__compose:rq},toConnect:{__attributes:{innerHTML:"Connect"},__compose:xE}},TAr={toConnect:{selectBLE:!0,selectUSB:!0,selectBLEOther:!0,selectOther:!0},connect:{toConnect:!0},"connect.mode":{connectmode:!0},output:{ondata:!0},ondata:{connect:!0}};var KN={};Ri(KN,{Devices:()=>BI,Devices3rdParty:()=>Vte,ganglionChartSettings:()=>Ikr,ganglionFilterSettings:()=>qkr,ganglionSettings:()=>EI,museChartSettings:()=>pEr,museFilterSettings:()=>dEr,museSettings:()=>Hq});var gl=class{constructor(){this.recursivelyAssign=(e,r)=>{for(let t in r)typeof r[t]=="object"?typeof e[t]=="object"?this.recursivelyAssign(e[t],r[t]):e[t]=this.recursivelyAssign({},r[t]):e[t]=r[t];return e}}static autoscale(e,r=0,t=1,n=!1,i,c,u){if(e?.length===0)return e;let a=c||Math.max(...e),s=i||Math.min(...e),o=1/t,l=1;if(n){let d=Math.max(Math.abs(s),Math.abs(a));return d!==0&&(l=o/d),e.map(p=>(u&&(p<s&&(p=s),p>a&&(p=a)),p*l+(o*(r+1)*2-1-o)))}else return a===s?a!==0?l=o/a:s!==0&&(l=o/Math.abs(s)):l=o/(a-s),e.map(d=>(u&&(d<s&&(d=s),d>a&&(d=a)),2*((d-s)*l-1/(2*t))+(o*(r+1)*2-1-o)))}static genTimestamps(e,r){let t=Date.now(),n=[t-e*1e3/r,t];return gl.upsample(n,e)}static absmax(e){return Math.max(Math.abs(Math.min(...e)),Math.max(...e))}static downsample(e,r,t=1){if(e.length>r){let n=new Array(r),i=e.length/r,c=e.length-1,u=0,a=0;for(let s=i;s<e.length;s+=i){let o=Math.round(s);o>c&&(o=c);for(let l=u;l<o;l++)n[a]+=e[l];n[a]/=(o-u)*t,a++,u=o}return n}else return e}static upsample(e,r,t=1){var n=function(d,p,f){return(d+(p-d)*f)*t},i=new Array(r),c=(e.length-1)/(r-1);i[0]=e[0];for(var u=1;u<r-1;u++){var a=u*c,s=Math.floor(a),o=Math.ceil(a),l=a-s;i[u]=n(e[s],e[o],l)}return i[r-1]=e[e.length-1],i}static interpolate(e,r,t=1){return e.length>r?gl.downsample(e,r,t):e.length<r?gl.upsample(e,r,t):e}static HSLToRGB(e,r,t,n=255){r/=100,t/=100;let i=(1-Math.abs(2*t-1))*r,c=i*(1-Math.abs(e/60%2-1)),u=t-i/2,a=0,s=0,o=0;return 0<=e&&e<60?(a=i,s=c,o=0):60<=e&&e<120?(a=c,s=i,o=0):120<=e&&e<180?(a=0,s=i,o=c):180<=e&&e<240?(a=0,s=c,o=i):240<=e&&e<300?(a=c,s=0,o=i):300<=e&&e<360&&(a=i,s=0,o=c),a=(a+u)*n,s=(s+u)*n,o=(o+u)*n,[a,s,o]}static circularBuffer(e,r){if(r.length<e.length){let t=e.slice(r.length),n=e.length;e.splice(0,n,...t,...r)}else if(r.length>e.length){let t=e.length;e.splice(0,t,r.slice(t-r.length))}else e.splice(0,e.length,...r);return e}static reformatData(e,r){if(Array.isArray(e)){if(Array.isArray(e[0])){let t={};if(e.forEach((n,i)=>{t[i]=n}),e=t,isNaN(e[0][0]))return}else if(r){if(e={[r]:e},isNaN(e[r][0]))return}else if(e={0:e},isNaN(e[0][0]))return}else if(typeof e=="object"){for(let t in e)if(typeof e[t]=="number"?e[t]=[e[t]]:e[t]?.values&&typeof e[t].values=="number"&&(e[t].values=[e[t].values]),isNaN(e[t][0]))return}else if(typeof e=="string"){let t;if(e.includes(`\r
`)){let n=e.split(`\r
`);e={},n.forEach((i,c)=>{i.includes("	")?t=i.split("	"):i.includes(",")?t=i.split(","):i.includes("|")&&(t=i.split("|")),t.forEach((u,a)=>{if(u.includes(":")){let[s,o]=u.split(":"),l=parseFloat(o);if(l)e[s]=[l];else return}else{let s=parseFloat(u);if(s)e[a]=[s];else return}})})}else e.includes("	")?t=e.split("	"):e.includes(",")?t=e.split(","):e.includes("|")&&(t=e.split("|"));e={},t&&t.forEach((n,i)=>{if(n.includes(":")){let[c,u]=n.split(":"),a=parseFloat(u);if(a)e[c]=[a];else return}else{let c=parseFloat(n);if(c)e[i]=[c];else return}})}else typeof e=="number"&&(r?e={[r]:[e]}:e={0:[e]});return e}static padTime(e,r,t,n){let i=(e[0]-r)/t/n;return[...new Array(n-e.length).map((c,u)=>r+i*(u+1)),...e]}static interpolateForTime(e,r,t){return gl.interpolate(e,Math.ceil(t*r))}isTypedArray(e){return ArrayBuffer.isView(e)&&Object.prototype.toString.call(e)!=="[object DataView]"}spliceTypedArray(e,r,t){let n=e.subarray(0,r),i;t&&(i=e.subarray(t+1));let c;return(n.length>0||i?.length>0)&&(c=new e.constructor(n.length+i.length)),n.length>0&&c.set(n),i&&i.length>0&&c.set(i,n.length),c}},Pee=gl;Pee.bufferValues=(e,r,t,n)=>{if(!Array.isArray(t)&&typeof t=="object"&&(t=Object.keys(t)),!n){let c=Object.keys(e);t?n=new Float32Array(c.length*t.length):typeof e[c[0]][r]=="object"?(t=Object.keys(e[c[0]][r]),n=new Float32Array(c.length*t.length)):n=new Float32Array(c.length)}let i=0;for(let c in e)if(e[c][r])if(t)for(let u=0;u<t.length;u++)n[i]=e[c][r][t[u]],i++;else n[i]=e[c][r],i++;return n};var RAr=/^([<>])?(([1-9]\d*)?([xcbB?hHiIfdsp]))*$/,FAr=/([1-9]\d*)?([xcbB?hHiIfdsp])/g,dq=(e,r,t)=>String.fromCharCode(...new Uint8Array(e.buffer,e.byteOffset+r,t)),pq=(e,r,t,n)=>new Uint8Array(e.buffer,e.byteOffset+r,t).set(n.split("").map(i=>i.charCodeAt(0))),LAr=(e,r,t)=>dq(e,r+1,Math.min(e.getUint8(r),t-1)),UAr=(e,r,t,n)=>{e.setUint8(r,n.length),pq(e,r+1,t-1,n)},zAr=e=>({x:r=>[1,r,0],c:r=>[r,1,t=>({u:n=>dq(n,t,1),p:(n,i)=>pq(n,t,1,i)})],"?":r=>[r,1,t=>({u:n=>Boolean(n.getUint8(t)),p:(n,i)=>n.setUint8(t,i)})],b:r=>[r,1,t=>({u:n=>n.getInt8(t),p:(n,i)=>n.setInt8(t,i)})],B:r=>[r,1,t=>({u:n=>n.getUint8(t),p:(n,i)=>n.setUint8(t,i)})],h:r=>[r,2,t=>({u:n=>n.getInt16(t,e),p:(n,i)=>n.setInt16(t,i,e)})],H:r=>[r,2,t=>({u:n=>n.getUint16(t,e),p:(n,i)=>n.setUint16(t,i,e)})],i:r=>[r,4,t=>({u:n=>n.getInt32(t,e),p:(n,i)=>n.setInt32(t,i,e)})],I:r=>[r,4,t=>({u:n=>n.getUint32(t,e),p:(n,i)=>n.setUint32(t,i,e)})],f:r=>[r,4,t=>({u:n=>n.getFloat32(t,e),p:(n,i)=>n.setFloat32(t,i,e)})],d:r=>[r,8,t=>({u:n=>n.getFloat64(t,e),p:(n,i)=>n.setFloat64(t,i,e)})],s:r=>[1,r,t=>({u:n=>dq(n,t,r),p:(n,i)=>pq(n,t,r,i.slice(0,r))})],p:r=>[1,r,t=>({u:n=>LAr(n,t,r),p:(n,i)=>UAr(n,t,r,i.slice(0,r-1))})]}),eK=new RangeError("Structure larger than remaining buffer"),JAr=new RangeError("Not enough values for structure"),Rc=class extends Pee{static toDataView(e){if(!(e instanceof DataView))if(typeof e=="string"&&parseInt(e)&&(e=parseInt(e)),typeof e=="string"){let r=new TextEncoder,t={};for(let i in Rc.codes)for(;e.indexOf(i)>-1;){let c=e.indexOf(i);e=e.replace(i,""),t[c]=i}let n=Array.from(r.encode(e));for(let i in t)n.splice(parseInt(i),0,Rc.codes[t[i]]);e=new DataView(new Uint8Array(n).buffer)}else if(typeof e=="number"){let r=e;e<256?(e=new DataView(new ArrayBuffer(1)),e.setUint8(0,r)):e<65536?(e=new DataView(new ArrayBuffer(2)),e.setInt16(0,r)):(e=new DataView(new ArrayBuffer(4)),e.setUint32(0,r))}else e instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&e instanceof SharedArrayBuffer?e=new DataView(e):Array.isArray(e)?e=new DataView(Uint8Array.from(e).buffer):typeof e=="object"&&(e=new TextEncoder().encode(JSON.stringify(e)));return e}static searchBuffer(e,r,t){for(var n=r,i=e,c=Rc.boyerMoore(n),u=c.byteLength,a=[],s=c(i);s!==-1&&(a.push(s),!(t&&a.length>=t));s=c(i,s+u));return a}static bytesToInt16(e,r){let t=(255&e)<<8|255&r;return(t&32768)>0?t|=4294901760:t&=65535,t}static bytesToUInt16(e,r){return e*256+r}static Uint16ToBytes(e){return[e&255,e>>8&255]}static bytesToInt24(e,r,t){let n=(255&e)<<16|(255&r)<<8|255&t;return(n&8388608)>0?n|=4278190080:n&=16777215,n}static bytesToUInt24(e,r,t){return e*65536+r*256+t}static Uint24ToBytes(e){return[e&255,e>>8&255,e>>16&255]}static bytesToInt32(e,r,t,n){let i=(255&e)<<24|(255&r)<<16|(255&t)<<8|255&n;return(i&2147483648)>0?i|=0:i&=4294967295,i}static bytesToUInt32(e,r,t,n){return e*16777216+r*65536+t*256+n}static Uint32ToBytes(e){return[e&255,e>>8&255,e>>16&255,e>>24&255]}static get2sCompliment(e,r){return e>4294967296?null:e<<32-r>>32-r}static getSignedInt(...e){let r=0;function t(n){for(var i=0,c=!0;n--;)if(c){let u=e[r++];i+=u&127,u&128&&(i-=128),c=!1}else i*=256,i+=e[r++];return i}return t(e.length)}static asUint8Array(e){if(e instanceof Uint8Array)return e;if(typeof e=="string"){for(var r=new Uint8Array(e.length),t=0;t<e.length;t++){var n=e.charCodeAt(t);if(n>127)throw new TypeError("Only ASCII patterns are supported");r[t]=n}return r}else return new Uint8Array(e)}static boyerMoore(e){var r=Rc.asUint8Array(e),t=r.length;if(t===0)throw new TypeError("patternBuffer must be at least 1 byte long");for(var n=256,i=new Int32Array(n),c=0;c<n;c++)i[c]=-1;for(var u=0;u<t;u++)i[r[u]]=u;var a=(s,o,l)=>{var d=Rc.asUint8Array(s);o===void 0&&(o=0),l===void 0&&(l=d.length);for(var p=r,f=i,v=l-p.length,h=p.length-1,m,y=o;y<=v;y+=m){m=0;for(var g=h;g>=0;g--){var b=d[y+g];if(p[g]!==b){m=Math.max(1,g-f[b]);break}}if(m===0)return y}return-1};return a.byteLength=r.byteLength,a}static struct(e){let r=[],t=0,n=RAr.exec(e);if(!n)throw new RangeError("Invalid format string");let i=zAr(n[1]==="<"),c=(d,p)=>i[p](d?parseInt(d,10):1);for(;n=FAr.exec(e);)((d,p,f)=>{for(let v=0;v<d;++v,t+=p)f&&r.push(f(t))})(...c(...n.slice(1)));let u=(d,p)=>{if(d.byteLength<(p|0)+t)throw eK;let f=new DataView(d,p|0);return r.map(v=>v.u(f))},a=(d,p,...f)=>{if(f.length<r.length)throw JAr;if(d.byteLength<p+t)throw eK;let v=new DataView(d,p);new Uint8Array(d,p,t).fill(0),r.forEach((h,m)=>h.p(v,f[m]))},s=(...d)=>{let p=new ArrayBuffer(t);return a(p,0,...d),p},o=d=>u(d,0);function*l(d){for(let p=0;p+t<=d.byteLength;p+=t)yield u(d,p)}return Object.freeze({unpack:o,pack:s,unpack_from:u,pack_into:a,iter_unpack:l,format:e,size:t})}},ir=Rc;ir.codes={"\\n":10,"\\r":13,"\\t":9,"\\s":32,"\\b":8,"\\f":12,"\\":92};var VAr=Object.create,Eee=Object.defineProperty,GAr=Object.getOwnPropertyDescriptor,HAr=Object.getOwnPropertyNames,WAr=Object.getPrototypeOf,$Ar=Object.prototype.hasOwnProperty,Se=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports),QAr=(e,r,t,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let i of HAr(r))!$Ar.call(e,i)&&i!==t&&Eee(e,i,{get:()=>r[i],enumerable:!(n=GAr(r,i))||n.enumerable});return e},YAr=(e,r,t)=>(t=e!=null?VAr(WAr(e)):{},QAr(r||!e||!e.__esModule?Eee(t,"default",{value:e,enumerable:!0}):t,e)),Pl=Se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});function r(t){return typeof t=="function"}e.isFunction=r}),TN=Se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=!1;e.config={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){var n=new Error;console.warn(`DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: 
`+n.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}}),Cq=Se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});function r(t){setTimeout(function(){throw t},0)}e.hostReportError=r}),qee=Se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=TN(),t=Cq();e.empty={closed:!0,next:function(n){},error:function(n){if(r.config.useDeprecatedSynchronousErrorHandling)throw n;t.hostReportError(n)},complete:function(){}}}),Nn=Se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isArray=function(){return Array.isArray||function(r){return r&&typeof r.length=="number"}}()}),Aq=Se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});function r(t){return t!==null&&typeof t=="object"}e.isObject=r}),Iee=Se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(n){return Error.call(this),this.message=n?n.length+` errors occurred during unsubscription:
`+n.map(function(i,c){return c+1+") "+i.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=n,this}return t.prototype=Object.create(Error.prototype),t}();e.UnsubscriptionError=r}),qt=Se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Nn(),t=Aq(),n=Pl(),i=Iee(),c=function(){function a(s){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,s&&(this._ctorUnsubscribe=!0,this._unsubscribe=s)}return a.prototype.unsubscribe=function(){var s;if(!this.closed){var o=this,l=o._parentOrParents,d=o._ctorUnsubscribe,p=o._unsubscribe,f=o._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,l instanceof a)l.remove(this);else if(l!==null)for(var v=0;v<l.length;++v){var h=l[v];h.remove(this)}if(n.isFunction(p)){d&&(this._unsubscribe=void 0);try{p.call(this)}catch(g){s=g instanceof i.UnsubscriptionError?u(g.errors):[g]}}if(r.isArray(f))for(var v=-1,m=f.length;++v<m;){var y=f[v];if(t.isObject(y))try{y.unsubscribe()}catch(b){s=s||[],b instanceof i.UnsubscriptionError?s=s.concat(u(b.errors)):s.push(b)}}if(s)throw new i.UnsubscriptionError(s)}},a.prototype.add=function(s){var o=s;if(!s)return a.EMPTY;switch(typeof s){case"function":o=new a(s);case"object":if(o===this||o.closed||typeof o.unsubscribe!="function")return o;if(this.closed)return o.unsubscribe(),o;if(!(o instanceof a)){var l=o;o=new a,o._subscriptions=[l]}break;default:throw new Error("unrecognized teardown "+s+" added to Subscription.")}var d=o._parentOrParents;if(d===null)o._parentOrParents=this;else if(d instanceof a){if(d===this)return o;o._parentOrParents=[d,this]}else if(d.indexOf(this)===-1)d.push(this);else return o;var p=this._subscriptions;return p===null?this._subscriptions=[o]:p.push(o),o},a.prototype.remove=function(s){var o=this._subscriptions;if(o){var l=o.indexOf(s);l!==-1&&o.splice(l,1)}},a.EMPTY=function(s){return s.closed=!0,s}(new a),a}();e.Subscription=c;function u(a){return a.reduce(function(s,o){return s.concat(o instanceof i.UnsubscriptionError?o.errors:o)},[])}}),Mq=Se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.rxSubscriber=function(){return typeof Symbol=="function"?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),e.$$rxSubscriber=e.rxSubscriber}),dr=Se(e=>{"use strict";var r=e&&e.__extends||function(){var l=function(d,p){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,v){f.__proto__=v}||function(f,v){for(var h in v)v.hasOwnProperty(h)&&(f[h]=v[h])},l(d,p)};return function(d,p){l(d,p);function f(){this.constructor=d}d.prototype=p===null?Object.create(p):(f.prototype=p.prototype,new f)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=Pl(),n=qee(),i=qt(),c=Mq(),u=TN(),a=Cq(),s=function(l){r(d,l);function d(p,f,v){var h=l.call(this)||this;switch(h.syncErrorValue=null,h.syncErrorThrown=!1,h.syncErrorThrowable=!1,h.isStopped=!1,arguments.length){case 0:h.destination=n.empty;break;case 1:if(!p){h.destination=n.empty;break}if(typeof p=="object"){p instanceof d?(h.syncErrorThrowable=p.syncErrorThrowable,h.destination=p,p.add(h)):(h.syncErrorThrowable=!0,h.destination=new o(h,p));break}default:h.syncErrorThrowable=!0,h.destination=new o(h,p,f,v);break}return h}return d.prototype[c.rxSubscriber]=function(){return this},d.create=function(p,f,v){var h=new d(p,f,v);return h.syncErrorThrowable=!1,h},d.prototype.next=function(p){this.isStopped||this._next(p)},d.prototype.error=function(p){this.isStopped||(this.isStopped=!0,this._error(p))},d.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},d.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,l.prototype.unsubscribe.call(this))},d.prototype._next=function(p){this.destination.next(p)},d.prototype._error=function(p){this.destination.error(p),this.unsubscribe()},d.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},d.prototype._unsubscribeAndRecycle=function(){var p=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=p,this},d}(i.Subscription);e.Subscriber=s;var o=function(l){r(d,l);function d(p,f,v,h){var m=l.call(this)||this;m._parentSubscriber=p;var y,g=m;return t.isFunction(f)?y=f:f&&(y=f.next,v=f.error,h=f.complete,f!==n.empty&&(g=Object.create(f),t.isFunction(g.unsubscribe)&&m.add(g.unsubscribe.bind(g)),g.unsubscribe=m.unsubscribe.bind(m))),m._context=g,m._next=y,m._error=v,m._complete=h,m}return d.prototype.next=function(p){if(!this.isStopped&&this._next){var f=this._parentSubscriber;!u.config.useDeprecatedSynchronousErrorHandling||!f.syncErrorThrowable?this.__tryOrUnsub(this._next,p):this.__tryOrSetError(f,this._next,p)&&this.unsubscribe()}},d.prototype.error=function(p){if(!this.isStopped){var f=this._parentSubscriber,v=u.config.useDeprecatedSynchronousErrorHandling;if(this._error)!v||!f.syncErrorThrowable?(this.__tryOrUnsub(this._error,p),this.unsubscribe()):(this.__tryOrSetError(f,this._error,p),this.unsubscribe());else if(f.syncErrorThrowable)v?(f.syncErrorValue=p,f.syncErrorThrown=!0):a.hostReportError(p),this.unsubscribe();else{if(this.unsubscribe(),v)throw p;a.hostReportError(p)}}},d.prototype.complete=function(){var p=this;if(!this.isStopped){var f=this._parentSubscriber;if(this._complete){var v=function(){return p._complete.call(p._context)};!u.config.useDeprecatedSynchronousErrorHandling||!f.syncErrorThrowable?(this.__tryOrUnsub(v),this.unsubscribe()):(this.__tryOrSetError(f,v),this.unsubscribe())}else this.unsubscribe()}},d.prototype.__tryOrUnsub=function(p,f){try{p.call(this._context,f)}catch(v){if(this.unsubscribe(),u.config.useDeprecatedSynchronousErrorHandling)throw v;a.hostReportError(v)}},d.prototype.__tryOrSetError=function(p,f,v){if(!u.config.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{f.call(this._context,v)}catch(h){return u.config.useDeprecatedSynchronousErrorHandling?(p.syncErrorValue=h,p.syncErrorThrown=!0,!0):(a.hostReportError(h),!0)}return!1},d.prototype._unsubscribe=function(){var p=this._parentSubscriber;this._context=null,this._parentSubscriber=null,p.unsubscribe()},d}(s);e.SafeSubscriber=o}),Pq=Se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=dr();function t(n){for(;n;){var i=n,c=i.closed,u=i.destination,a=i.isStopped;if(c||a)return!1;u&&u instanceof r.Subscriber?n=u:n=null}return!0}e.canReportError=t}),ZAr=Se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=dr(),t=Mq(),n=qee();function i(c,u,a){if(c){if(c instanceof r.Subscriber)return c;if(c[t.rxSubscriber])return c[t.rxSubscriber]()}return!c&&!u&&!a?new r.Subscriber(n.empty):new r.Subscriber(c,u,a)}e.toSubscriber=i}),zc=Se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.observable=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}()}),oo=Se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});function r(t){return t}e.identity=r}),Eq=Se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=oo();function t(){for(var i=[],c=0;c<arguments.length;c++)i[c]=arguments[c];return n(i)}e.pipe=t;function n(i){return i.length===0?r.identity:i.length===1?i[0]:function(c){return i.reduce(function(u,a){return a(u)},c)}}e.pipeFromArray=n}),Rr=Se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Pq(),t=ZAr(),n=zc(),i=Eq(),c=TN(),u=function(){function s(o){this._isScalar=!1,o&&(this._subscribe=o)}return s.prototype.lift=function(o){var l=new s;return l.source=this,l.operator=o,l},s.prototype.subscribe=function(o,l,d){var p=this.operator,f=t.toSubscriber(o,l,d);if(p?f.add(p.call(f,this.source)):f.add(this.source||c.config.useDeprecatedSynchronousErrorHandling&&!f.syncErrorThrowable?this._subscribe(f):this._trySubscribe(f)),c.config.useDeprecatedSynchronousErrorHandling&&f.syncErrorThrowable&&(f.syncErrorThrowable=!1,f.syncErrorThrown))throw f.syncErrorValue;return f},s.prototype._trySubscribe=function(o){try{return this._subscribe(o)}catch(l){c.config.useDeprecatedSynchronousErrorHandling&&(o.syncErrorThrown=!0,o.syncErrorValue=l),r.canReportError(o)?o.error(l):console.warn(l)}},s.prototype.forEach=function(o,l){var d=this;return l=a(l),new l(function(p,f){var v;v=d.subscribe(function(h){try{o(h)}catch(m){f(m),v&&v.unsubscribe()}},f,p)})},s.prototype._subscribe=function(o){var l=this.source;return l&&l.subscribe(o)},s.prototype[n.observable]=function(){return this},s.prototype.pipe=function(){for(var o=[],l=0;l<arguments.length;l++)o[l]=arguments[l];return o.length===0?this:i.pipeFromArray(o)(this)},s.prototype.toPromise=function(o){var l=this;return o=a(o),new o(function(d,p){var f;l.subscribe(function(v){return f=v},function(v){return p(v)},function(){return d(f)})})},s.create=function(o){return new s(o)},s}();e.Observable=u;function a(s){if(s||(s=c.config.Promise||Promise),!s)throw new Error("no Promise impl found");return s}}),RN=Se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}();e.ObjectUnsubscribedError=r}),Bee=Se(e=>{"use strict";var r=e&&e.__extends||function(){var i=function(c,u){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var o in s)s.hasOwnProperty(o)&&(a[o]=s[o])},i(c,u)};return function(c,u){i(c,u);function a(){this.constructor=c}c.prototype=u===null?Object.create(u):(a.prototype=u.prototype,new a)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=qt(),n=function(i){r(c,i);function c(u,a){var s=i.call(this)||this;return s.subject=u,s.subscriber=a,s.closed=!1,s}return c.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var u=this.subject,a=u.observers;if(this.subject=null,!(!a||a.length===0||u.isStopped||u.closed)){var s=a.indexOf(this.subscriber);s!==-1&&a.splice(s,1)}}},c}(t.Subscription);e.SubjectSubscription=n}),mn=Se(e=>{"use strict";var r=e&&e.__extends||function(){var d=function(p,f){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,h){v.__proto__=h}||function(v,h){for(var m in h)h.hasOwnProperty(m)&&(v[m]=h[m])},d(p,f)};return function(p,f){d(p,f);function v(){this.constructor=p}p.prototype=f===null?Object.create(f):(v.prototype=f.prototype,new v)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=Rr(),n=dr(),i=qt(),c=RN(),u=Bee(),a=Mq(),s=function(d){r(p,d);function p(f){var v=d.call(this,f)||this;return v.destination=f,v}return p}(n.Subscriber);e.SubjectSubscriber=s;var o=function(d){r(p,d);function p(){var f=d.call(this)||this;return f.observers=[],f.closed=!1,f.isStopped=!1,f.hasError=!1,f.thrownError=null,f}return p.prototype[a.rxSubscriber]=function(){return new s(this)},p.prototype.lift=function(f){var v=new l(this,this);return v.operator=f,v},p.prototype.next=function(f){if(this.closed)throw new c.ObjectUnsubscribedError;if(!this.isStopped)for(var v=this.observers,h=v.length,m=v.slice(),y=0;y<h;y++)m[y].next(f)},p.prototype.error=function(f){if(this.closed)throw new c.ObjectUnsubscribedError;this.hasError=!0,this.thrownError=f,this.isStopped=!0;for(var v=this.observers,h=v.length,m=v.slice(),y=0;y<h;y++)m[y].error(f);this.observers.length=0},p.prototype.complete=function(){if(this.closed)throw new c.ObjectUnsubscribedError;this.isStopped=!0;for(var f=this.observers,v=f.length,h=f.slice(),m=0;m<v;m++)h[m].complete();this.observers.length=0},p.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},p.prototype._trySubscribe=function(f){if(this.closed)throw new c.ObjectUnsubscribedError;return d.prototype._trySubscribe.call(this,f)},p.prototype._subscribe=function(f){if(this.closed)throw new c.ObjectUnsubscribedError;return this.hasError?(f.error(this.thrownError),i.Subscription.EMPTY):this.isStopped?(f.complete(),i.Subscription.EMPTY):(this.observers.push(f),new u.SubjectSubscription(this,f))},p.prototype.asObservable=function(){var f=new t.Observable;return f.source=this,f},p.create=function(f,v){return new l(f,v)},p}(t.Observable);e.Subject=o;var l=function(d){r(p,d);function p(f,v){var h=d.call(this)||this;return h.destination=f,h.source=v,h}return p.prototype.next=function(f){var v=this.destination;v&&v.next&&v.next(f)},p.prototype.error=function(f){var v=this.destination;v&&v.error&&this.destination.error(f)},p.prototype.complete=function(){var f=this.destination;f&&f.complete&&this.destination.complete()},p.prototype._subscribe=function(f){var v=this.source;return v?this.source.subscribe(f):i.Subscription.EMPTY},p}(o);e.AnonymousSubject=l}),qq=Se(e=>{"use strict";var r=e&&e.__extends||function(){var u=function(a,s){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var d in l)l.hasOwnProperty(d)&&(o[d]=l[d])},u(a,s)};return function(a,s){u(a,s);function o(){this.constructor=a}a.prototype=s===null?Object.create(s):(o.prototype=s.prototype,new o)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=dr();function n(){return function(u){return u.lift(new i(u))}}e.refCount=n;var i=function(){function u(a){this.connectable=a}return u.prototype.call=function(a,s){var o=this.connectable;o._refCount++;var l=new c(a,o),d=s.subscribe(l);return l.closed||(l.connection=o.connect()),d},u}(),c=function(u){r(a,u);function a(s,o){var l=u.call(this,s)||this;return l.connectable=o,l}return a.prototype._unsubscribe=function(){var s=this.connectable;if(!s){this.connection=null;return}this.connectable=null;var o=s._refCount;if(o<=0){this.connection=null;return}if(s._refCount=o-1,o>1){this.connection=null;return}var l=this.connection,d=s._connection;this.connection=null,d&&(!l||d===l)&&d.unsubscribe()},a}(t.Subscriber)}),kee=Se(e=>{"use strict";var r=e&&e.__extends||function(){var d=function(p,f){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,h){v.__proto__=h}||function(v,h){for(var m in h)h.hasOwnProperty(m)&&(v[m]=h[m])},d(p,f)};return function(p,f){d(p,f);function v(){this.constructor=p}p.prototype=f===null?Object.create(f):(v.prototype=f.prototype,new v)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=mn(),n=Rr(),i=dr(),c=qt(),u=qq(),a=function(d){r(p,d);function p(f,v){var h=d.call(this)||this;return h.source=f,h.subjectFactory=v,h._refCount=0,h._isComplete=!1,h}return p.prototype._subscribe=function(f){return this.getSubject().subscribe(f)},p.prototype.getSubject=function(){var f=this._subject;return(!f||f.isStopped)&&(this._subject=this.subjectFactory()),this._subject},p.prototype.connect=function(){var f=this._connection;return f||(this._isComplete=!1,f=this._connection=new c.Subscription,f.add(this.source.subscribe(new s(this.getSubject(),this))),f.closed&&(this._connection=null,f=c.Subscription.EMPTY)),f},p.prototype.refCount=function(){return u.refCount()(this)},p}(n.Observable);e.ConnectableObservable=a,e.connectableObservableDescriptor=function(){var d=a.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:d._subscribe},_isComplete:{value:d._isComplete,writable:!0},getSubject:{value:d.getSubject},connect:{value:d.connect},refCount:{value:d.refCount}}}();var s=function(d){r(p,d);function p(f,v){var h=d.call(this,f)||this;return h.connectable=v,h}return p.prototype._error=function(f){this._unsubscribe(),d.prototype._error.call(this,f)},p.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),d.prototype._complete.call(this)},p.prototype._unsubscribe=function(){var f=this.connectable;if(f){this.connectable=null;var v=f._connection;f._refCount=0,f._subject=null,f._connection=null,v&&v.unsubscribe()}},p}(t.SubjectSubscriber),o=function(){function d(p){this.connectable=p}return d.prototype.call=function(p,f){var v=this.connectable;v._refCount++;var h=new l(p,v),m=f.subscribe(h);return h.closed||(h.connection=v.connect()),m},d}(),l=function(d){r(p,d);function p(f,v){var h=d.call(this,f)||this;return h.connectable=v,h}return p.prototype._unsubscribe=function(){var f=this.connectable;if(!f){this.connection=null;return}this.connectable=null;var v=f._refCount;if(v<=0){this.connection=null;return}if(f._refCount=v-1,v>1){this.connection=null;return}var h=this.connection,m=f._connection;this.connection=null,m&&(!h||m===h)&&m.unsubscribe()},p}(i.Subscriber)}),jee=Se(e=>{"use strict";var r=e&&e.__extends||function(){var p=function(f,v){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,m){h.__proto__=m}||function(h,m){for(var y in m)m.hasOwnProperty(y)&&(h[y]=m[y])},p(f,v)};return function(f,v){p(f,v);function h(){this.constructor=f}f.prototype=v===null?Object.create(v):(h.prototype=v.prototype,new h)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=dr(),n=qt(),i=Rr(),c=mn();function u(p,f,v,h){return function(m){return m.lift(new a(p,f,v,h))}}e.groupBy=u;var a=function(){function p(f,v,h,m){this.keySelector=f,this.elementSelector=v,this.durationSelector=h,this.subjectSelector=m}return p.prototype.call=function(f,v){return v.subscribe(new s(f,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))},p}(),s=function(p){r(f,p);function f(v,h,m,y,g){var b=p.call(this,v)||this;return b.keySelector=h,b.elementSelector=m,b.durationSelector=y,b.subjectSelector=g,b.groups=null,b.attemptedToUnsubscribe=!1,b.count=0,b}return f.prototype._next=function(v){var h;try{h=this.keySelector(v)}catch(m){this.error(m);return}this._group(v,h)},f.prototype._group=function(v,h){var m=this.groups;m||(m=this.groups=new Map);var y=m.get(h),g;if(this.elementSelector)try{g=this.elementSelector(v)}catch(S){this.error(S)}else g=v;if(!y){y=this.subjectSelector?this.subjectSelector():new c.Subject,m.set(h,y);var b=new l(h,y,this);if(this.destination.next(b),this.durationSelector){var _=void 0;try{_=this.durationSelector(new l(h,y))}catch(S){this.error(S);return}this.add(_.subscribe(new o(h,y,this)))}}y.closed||y.next(g)},f.prototype._error=function(v){var h=this.groups;h&&(h.forEach(function(m,y){m.error(v)}),h.clear()),this.destination.error(v)},f.prototype._complete=function(){var v=this.groups;v&&(v.forEach(function(h,m){h.complete()}),v.clear()),this.destination.complete()},f.prototype.removeGroup=function(v){this.groups.delete(v)},f.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,this.count===0&&p.prototype.unsubscribe.call(this))},f}(t.Subscriber),o=function(p){r(f,p);function f(v,h,m){var y=p.call(this,h)||this;return y.key=v,y.group=h,y.parent=m,y}return f.prototype._next=function(v){this.complete()},f.prototype._unsubscribe=function(){var v=this,h=v.parent,m=v.key;this.key=this.parent=null,h&&h.removeGroup(m)},f}(t.Subscriber),l=function(p){r(f,p);function f(v,h,m){var y=p.call(this)||this;return y.key=v,y.groupSubject=h,y.refCountSubscription=m,y}return f.prototype._subscribe=function(v){var h=new n.Subscription,m=this,y=m.refCountSubscription,g=m.groupSubject;return y&&!y.closed&&h.add(new d(y)),h.add(g.subscribe(v)),h},f}(i.Observable);e.GroupedObservable=l;var d=function(p){r(f,p);function f(v){var h=p.call(this)||this;return h.parent=v,v.count++,h}return f.prototype.unsubscribe=function(){var v=this.parent;!v.closed&&!this.closed&&(p.prototype.unsubscribe.call(this),v.count-=1,v.count===0&&v.attemptedToUnsubscribe&&v.unsubscribe())},f}(n.Subscription)}),Tee=Se(e=>{"use strict";var r=e&&e.__extends||function(){var c=function(u,a){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,o){s.__proto__=o}||function(s,o){for(var l in o)o.hasOwnProperty(l)&&(s[l]=o[l])},c(u,a)};return function(u,a){c(u,a);function s(){this.constructor=u}u.prototype=a===null?Object.create(a):(s.prototype=a.prototype,new s)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=mn(),n=RN(),i=function(c){r(u,c);function u(a){var s=c.call(this)||this;return s._value=a,s}return Object.defineProperty(u.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),u.prototype._subscribe=function(a){var s=c.prototype._subscribe.call(this,a);return s&&!s.closed&&a.next(this._value),s},u.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new n.ObjectUnsubscribedError;return this._value},u.prototype.next=function(a){c.prototype.next.call(this,this._value=a)},u}(t.Subject);e.BehaviorSubject=i}),XAr=Se(e=>{"use strict";var r=e&&e.__extends||function(){var i=function(c,u){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var o in s)s.hasOwnProperty(o)&&(a[o]=s[o])},i(c,u)};return function(c,u){i(c,u);function a(){this.constructor=c}c.prototype=u===null?Object.create(u):(a.prototype=u.prototype,new a)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=qt(),n=function(i){r(c,i);function c(u,a){return i.call(this)||this}return c.prototype.schedule=function(u,a){return a===void 0&&(a=0),this},c}(t.Subscription);e.Action=n}),El=Se(e=>{"use strict";var r=e&&e.__extends||function(){var i=function(c,u){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var o in s)s.hasOwnProperty(o)&&(a[o]=s[o])},i(c,u)};return function(c,u){i(c,u);function a(){this.constructor=c}c.prototype=u===null?Object.create(u):(a.prototype=u.prototype,new a)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=XAr(),n=function(i){r(c,i);function c(u,a){var s=i.call(this,u,a)||this;return s.scheduler=u,s.work=a,s.pending=!1,s}return c.prototype.schedule=function(u,a){if(a===void 0&&(a=0),this.closed)return this;this.state=u;var s=this.id,o=this.scheduler;return s!=null&&(this.id=this.recycleAsyncId(o,s,a)),this.pending=!0,this.delay=a,this.id=this.id||this.requestAsyncId(o,this.id,a),this},c.prototype.requestAsyncId=function(u,a,s){return s===void 0&&(s=0),setInterval(u.flush.bind(u,this),s)},c.prototype.recycleAsyncId=function(u,a,s){if(s===void 0&&(s=0),s!==null&&this.delay===s&&this.pending===!1)return a;clearInterval(a)},c.prototype.execute=function(u,a){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var s=this._execute(u,a);if(s)return s;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},c.prototype._execute=function(u,a){var s=!1,o=void 0;try{this.work(u)}catch(l){s=!0,o=!!l&&l||new Error(l)}if(s)return this.unsubscribe(),o},c.prototype._unsubscribe=function(){var u=this.id,a=this.scheduler,s=a.actions,o=s.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,o!==-1&&s.splice(o,1),u!=null&&(this.id=this.recycleAsyncId(a,u,null)),this.delay=null},c}(t.Action);e.AsyncAction=n}),KAr=Se(e=>{"use strict";var r=e&&e.__extends||function(){var i=function(c,u){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var o in s)s.hasOwnProperty(o)&&(a[o]=s[o])},i(c,u)};return function(c,u){i(c,u);function a(){this.constructor=c}c.prototype=u===null?Object.create(u):(a.prototype=u.prototype,new a)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=El(),n=function(i){r(c,i);function c(u,a){var s=i.call(this,u,a)||this;return s.scheduler=u,s.work=a,s}return c.prototype.schedule=function(u,a){return a===void 0&&(a=0),a>0?i.prototype.schedule.call(this,u,a):(this.delay=a,this.state=u,this.scheduler.flush(this),this)},c.prototype.execute=function(u,a){return a>0||this.closed?i.prototype.execute.call(this,u,a):this._execute(u,a)},c.prototype.requestAsyncId=function(u,a,s){return s===void 0&&(s=0),s!==null&&s>0||s===null&&this.delay>0?i.prototype.requestAsyncId.call(this,u,a,s):u.flush(this)},c}(t.AsyncAction);e.QueueAction=n}),Ree=Se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(n,i){i===void 0&&(i=t.now),this.SchedulerAction=n,this.now=i}return t.prototype.schedule=function(n,i,c){return i===void 0&&(i=0),new this.SchedulerAction(this,n).schedule(c,i)},t.now=function(){return Date.now()},t}();e.Scheduler=r}),ql=Se(e=>{"use strict";var r=e&&e.__extends||function(){var i=function(c,u){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var o in s)s.hasOwnProperty(o)&&(a[o]=s[o])},i(c,u)};return function(c,u){i(c,u);function a(){this.constructor=c}c.prototype=u===null?Object.create(u):(a.prototype=u.prototype,new a)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=Ree(),n=function(i){r(c,i);function c(u,a){a===void 0&&(a=t.Scheduler.now);var s=i.call(this,u,function(){return c.delegate&&c.delegate!==s?c.delegate.now():a()})||this;return s.actions=[],s.active=!1,s.scheduled=void 0,s}return c.prototype.schedule=function(u,a,s){return a===void 0&&(a=0),c.delegate&&c.delegate!==this?c.delegate.schedule(u,a,s):i.prototype.schedule.call(this,u,a,s)},c.prototype.flush=function(u){var a=this.actions;if(this.active){a.push(u);return}var s;this.active=!0;do if(s=u.execute(u.state,u.delay))break;while(u=a.shift());if(this.active=!1,s){for(;u=a.shift();)u.unsubscribe();throw s}},c}(t.Scheduler);e.AsyncScheduler=n}),eMr=Se(e=>{"use strict";var r=e&&e.__extends||function(){var i=function(c,u){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var o in s)s.hasOwnProperty(o)&&(a[o]=s[o])},i(c,u)};return function(c,u){i(c,u);function a(){this.constructor=c}c.prototype=u===null?Object.create(u):(a.prototype=u.prototype,new a)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=ql(),n=function(i){r(c,i);function c(){return i!==null&&i.apply(this,arguments)||this}return c}(t.AsyncScheduler);e.QueueScheduler=n}),Fee=Se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=KAr(),t=eMr();e.queueScheduler=new t.QueueScheduler(r.QueueAction),e.queue=e.queueScheduler}),Ci=Se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Rr();e.EMPTY=new r.Observable(function(i){return i.complete()});function t(i){return i?n(i):e.EMPTY}e.empty=t;function n(i){return new r.Observable(function(c){return i.schedule(function(){return c.complete()})})}}),Mi=Se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});function r(t){return t&&typeof t.schedule=="function"}e.isScheduler=r}),Lee=Se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.subscribeToArray=function(r){return function(t){for(var n=0,i=r.length;n<i&&!t.closed;n++)t.next(r[n]);t.complete()}}}),Iq=Se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Rr(),t=qt();function n(i,c){return new r.Observable(function(u){var a=new t.Subscription,s=0;return a.add(c.schedule(function(){if(s===i.length){u.complete();return}u.next(i[s++]),u.closed||a.add(this.schedule())})),a})}e.scheduleArray=n}),Il=Se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Rr(),t=Lee(),n=Iq();function i(c,u){return u?n.scheduleArray(c,u):new r.Observable(t.subscribeToArray(c))}e.fromArray=i}),FN=Se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Mi(),t=Il(),n=Iq();function i(){for(var c=[],u=0;u<arguments.length;u++)c[u]=arguments[u];var a=c[c.length-1];return r.isScheduler(a)?(c.pop(),n.scheduleArray(c,a)):t.fromArray(c)}e.of=i}),Bq=Se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Rr();function t(i,c){return c?new r.Observable(function(u){return c.schedule(n,0,{error:i,subscriber:u})}):new r.Observable(function(u){return u.error(i)})}e.throwError=t;function n(i){var c=i.error,u=i.subscriber;u.error(c)}}),LN=Se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Ci(),t=FN(),n=Bq(),i;(function(u){u.NEXT="N",u.ERROR="E",u.COMPLETE="C"})(i=e.NotificationKind||(e.NotificationKind={}));var c=function(){function u(a,s,o){this.kind=a,this.value=s,this.error=o,this.hasValue=a==="N"}return u.prototype.observe=function(a){switch(this.kind){case"N":return a.next&&a.next(this.value);case"E":return a.error&&a.error(this.error);case"C":return a.complete&&a.complete()}},u.prototype.do=function(a,s,o){var l=this.kind;switch(l){case"N":return a&&a(this.value);case"E":return s&&s(this.error);case"C":return o&&o()}},u.prototype.accept=function(a,s,o){return a&&typeof a.next=="function"?this.observe(a):this.do(a,s,o)},u.prototype.toObservable=function(){var a=this.kind;switch(a){case"N":return t.of(this.value);case"E":return n.throwError(this.error);case"C":return r.empty()}throw new Error("unexpected notification kind value")},u.createNext=function(a){return typeof a<"u"?new u("N",a):u.undefinedValueNotification},u.createError=function(a){return new u("E",void 0,a)},u.createComplete=function(){return u.completeNotification},u.completeNotification=new u("C"),u.undefinedValueNotification=new u("N",void 0),u}();e.Notification=c}),Uee=Se(e=>{"use strict";var r=e&&e.__extends||function(){var s=function(o,l){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,p){d.__proto__=p}||function(d,p){for(var f in p)p.hasOwnProperty(f)&&(d[f]=p[f])},s(o,l)};return function(o,l){s(o,l);function d(){this.constructor=o}o.prototype=l===null?Object.create(l):(d.prototype=l.prototype,new d)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=dr(),n=LN();function i(s,o){return o===void 0&&(o=0),function(l){return l.lift(new c(s,o))}}e.observeOn=i;var c=function(){function s(o,l){l===void 0&&(l=0),this.scheduler=o,this.delay=l}return s.prototype.call=function(o,l){return l.subscribe(new u(o,this.scheduler,this.delay))},s}();e.ObserveOnOperator=c;var u=function(s){r(o,s);function o(l,d,p){p===void 0&&(p=0);var f=s.call(this,l)||this;return f.scheduler=d,f.delay=p,f}return o.dispatch=function(l){var d=l.notification,p=l.destination;d.observe(p),this.unsubscribe()},o.prototype.scheduleMessage=function(l){var d=this.destination;d.add(this.scheduler.schedule(o.dispatch,this.delay,new a(l,this.destination)))},o.prototype._next=function(l){this.scheduleMessage(n.Notification.createNext(l))},o.prototype._error=function(l){this.scheduleMessage(n.Notification.createError(l)),this.unsubscribe()},o.prototype._complete=function(){this.scheduleMessage(n.Notification.createComplete()),this.unsubscribe()},o}(t.Subscriber);e.ObserveOnSubscriber=u;var a=function(){function s(o,l){this.notification=o,this.destination=l}return s}();e.ObserveOnMessage=a}),kq=Se(e=>{"use strict";var r=e&&e.__extends||function(){var l=function(d,p){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,v){f.__proto__=v}||function(f,v){for(var h in v)v.hasOwnProperty(h)&&(f[h]=v[h])},l(d,p)};return function(d,p){l(d,p);function f(){this.constructor=d}d.prototype=p===null?Object.create(p):(f.prototype=p.prototype,new f)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=mn(),n=Fee(),i=qt(),c=Uee(),u=RN(),a=Bee(),s=function(l){r(d,l);function d(p,f,v){p===void 0&&(p=Number.POSITIVE_INFINITY),f===void 0&&(f=Number.POSITIVE_INFINITY);var h=l.call(this)||this;return h.scheduler=v,h._events=[],h._infiniteTimeWindow=!1,h._bufferSize=p<1?1:p,h._windowTime=f<1?1:f,f===Number.POSITIVE_INFINITY?(h._infiniteTimeWindow=!0,h.next=h.nextInfiniteTimeWindow):h.next=h.nextTimeWindow,h}return d.prototype.nextInfiniteTimeWindow=function(p){if(!this.isStopped){var f=this._events;f.push(p),f.length>this._bufferSize&&f.shift()}l.prototype.next.call(this,p)},d.prototype.nextTimeWindow=function(p){this.isStopped||(this._events.push(new o(this._getNow(),p)),this._trimBufferThenGetEvents()),l.prototype.next.call(this,p)},d.prototype._subscribe=function(p){var f=this._infiniteTimeWindow,v=f?this._events:this._trimBufferThenGetEvents(),h=this.scheduler,m=v.length,y;if(this.closed)throw new u.ObjectUnsubscribedError;if(this.isStopped||this.hasError?y=i.Subscription.EMPTY:(this.observers.push(p),y=new a.SubjectSubscription(this,p)),h&&p.add(p=new c.ObserveOnSubscriber(p,h)),f)for(var g=0;g<m&&!p.closed;g++)p.next(v[g]);else for(var g=0;g<m&&!p.closed;g++)p.next(v[g].value);return this.hasError?p.error(this.thrownError):this.isStopped&&p.complete(),y},d.prototype._getNow=function(){return(this.scheduler||n.queue).now()},d.prototype._trimBufferThenGetEvents=function(){for(var p=this._getNow(),f=this._bufferSize,v=this._windowTime,h=this._events,m=h.length,y=0;y<m&&!(p-h[y].time<v);)y++;return m>f&&(y=Math.max(y,m-f)),y>0&&h.splice(0,y),h},d}(t.Subject);e.ReplaySubject=s;var o=function(){function l(d,p){this.time=d,this.value=p}return l}()}),UN=Se(e=>{"use strict";var r=e&&e.__extends||function(){var c=function(u,a){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,o){s.__proto__=o}||function(s,o){for(var l in o)o.hasOwnProperty(l)&&(s[l]=o[l])},c(u,a)};return function(u,a){c(u,a);function s(){this.constructor=u}u.prototype=a===null?Object.create(a):(s.prototype=a.prototype,new s)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=mn(),n=qt(),i=function(c){r(u,c);function u(){var a=c!==null&&c.apply(this,arguments)||this;return a.value=null,a.hasNext=!1,a.hasCompleted=!1,a}return u.prototype._subscribe=function(a){return this.hasError?(a.error(this.thrownError),n.Subscription.EMPTY):this.hasCompleted&&this.hasNext?(a.next(this.value),a.complete(),n.Subscription.EMPTY):c.prototype._subscribe.call(this,a)},u.prototype.next=function(a){this.hasCompleted||(this.value=a,this.hasNext=!0)},u.prototype.error=function(a){this.hasCompleted||c.prototype.error.call(this,a)},u.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&c.prototype.next.call(this,this.value),c.prototype.complete.call(this)},u}(t.Subject);e.AsyncSubject=i}),rMr=Se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=1,t=function(){return Promise.resolve()}(),n={};function i(c){return c in n?(delete n[c],!0):!1}e.Immediate={setImmediate:function(c){var u=r++;return n[u]=!0,t.then(function(){return i(u)&&c()}),u},clearImmediate:function(c){i(c)}},e.TestTools={pending:function(){return Object.keys(n).length}}}),tMr=Se(e=>{"use strict";var r=e&&e.__extends||function(){var c=function(u,a){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,o){s.__proto__=o}||function(s,o){for(var l in o)o.hasOwnProperty(l)&&(s[l]=o[l])},c(u,a)};return function(u,a){c(u,a);function s(){this.constructor=u}u.prototype=a===null?Object.create(a):(s.prototype=a.prototype,new s)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=rMr(),n=El(),i=function(c){r(u,c);function u(a,s){var o=c.call(this,a,s)||this;return o.scheduler=a,o.work=s,o}return u.prototype.requestAsyncId=function(a,s,o){return o===void 0&&(o=0),o!==null&&o>0?c.prototype.requestAsyncId.call(this,a,s,o):(a.actions.push(this),a.scheduled||(a.scheduled=t.Immediate.setImmediate(a.flush.bind(a,null))))},u.prototype.recycleAsyncId=function(a,s,o){if(o===void 0&&(o=0),o!==null&&o>0||o===null&&this.delay>0)return c.prototype.recycleAsyncId.call(this,a,s,o);a.actions.length===0&&(t.Immediate.clearImmediate(s),a.scheduled=void 0)},u}(n.AsyncAction);e.AsapAction=i}),nMr=Se(e=>{"use strict";var r=e&&e.__extends||function(){var i=function(c,u){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var o in s)s.hasOwnProperty(o)&&(a[o]=s[o])},i(c,u)};return function(c,u){i(c,u);function a(){this.constructor=c}c.prototype=u===null?Object.create(u):(a.prototype=u.prototype,new a)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=ql(),n=function(i){r(c,i);function c(){return i!==null&&i.apply(this,arguments)||this}return c.prototype.flush=function(u){this.active=!0,this.scheduled=void 0;var a=this.actions,s,o=-1,l=a.length;u=u||a.shift();do if(s=u.execute(u.state,u.delay))break;while(++o<l&&(u=a.shift()));if(this.active=!1,s){for(;++o<l&&(u=a.shift());)u.unsubscribe();throw s}},c}(t.AsyncScheduler);e.AsapScheduler=n}),zee=Se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=tMr(),t=nMr();e.asapScheduler=new t.AsapScheduler(r.AsapAction),e.asap=e.asapScheduler}),Cn=Se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=El(),t=ql();e.asyncScheduler=new t.AsyncScheduler(r.AsyncAction),e.async=e.asyncScheduler}),iMr=Se(e=>{"use strict";var r=e&&e.__extends||function(){var i=function(c,u){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var o in s)s.hasOwnProperty(o)&&(a[o]=s[o])},i(c,u)};return function(c,u){i(c,u);function a(){this.constructor=c}c.prototype=u===null?Object.create(u):(a.prototype=u.prototype,new a)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=El(),n=function(i){r(c,i);function c(u,a){var s=i.call(this,u,a)||this;return s.scheduler=u,s.work=a,s}return c.prototype.requestAsyncId=function(u,a,s){return s===void 0&&(s=0),s!==null&&s>0?i.prototype.requestAsyncId.call(this,u,a,s):(u.actions.push(this),u.scheduled||(u.scheduled=requestAnimationFrame(function(){return u.flush(null)})))},c.prototype.recycleAsyncId=function(u,a,s){if(s===void 0&&(s=0),s!==null&&s>0||s===null&&this.delay>0)return i.prototype.recycleAsyncId.call(this,u,a,s);u.actions.length===0&&(cancelAnimationFrame(a),u.scheduled=void 0)},c}(t.AsyncAction);e.AnimationFrameAction=n}),aMr=Se(e=>{"use strict";var r=e&&e.__extends||function(){var i=function(c,u){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var o in s)s.hasOwnProperty(o)&&(a[o]=s[o])},i(c,u)};return function(c,u){i(c,u);function a(){this.constructor=c}c.prototype=u===null?Object.create(u):(a.prototype=u.prototype,new a)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=ql(),n=function(i){r(c,i);function c(){return i!==null&&i.apply(this,arguments)||this}return c.prototype.flush=function(u){this.active=!0,this.scheduled=void 0;var a=this.actions,s,o=-1,l=a.length;u=u||a.shift();do if(s=u.execute(u.state,u.delay))break;while(++o<l&&(u=a.shift()));if(this.active=!1,s){for(;++o<l&&(u=a.shift());)u.unsubscribe();throw s}},c}(t.AsyncScheduler);e.AnimationFrameScheduler=n}),sMr=Se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=iMr(),t=aMr();e.animationFrameScheduler=new t.AnimationFrameScheduler(r.AnimationFrameAction),e.animationFrame=e.animationFrameScheduler}),oMr=Se(e=>{"use strict";var r=e&&e.__extends||function(){var u=function(a,s){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var d in l)l.hasOwnProperty(d)&&(o[d]=l[d])},u(a,s)};return function(a,s){u(a,s);function o(){this.constructor=a}a.prototype=s===null?Object.create(s):(o.prototype=s.prototype,new o)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=El(),n=ql(),i=function(u){r(a,u);function a(s,o){s===void 0&&(s=c),o===void 0&&(o=Number.POSITIVE_INFINITY);var l=u.call(this,s,function(){return l.frame})||this;return l.maxFrames=o,l.frame=0,l.index=-1,l}return a.prototype.flush=function(){for(var s=this,o=s.actions,l=s.maxFrames,d,p;(p=o[0])&&p.delay<=l&&(o.shift(),this.frame=p.delay,!(d=p.execute(p.state,p.delay))););if(d){for(;p=o.shift();)p.unsubscribe();throw d}},a.frameTimeFactor=10,a}(n.AsyncScheduler);e.VirtualTimeScheduler=i;var c=function(u){r(a,u);function a(s,o,l){l===void 0&&(l=s.index+=1);var d=u.call(this,s,o)||this;return d.scheduler=s,d.work=o,d.index=l,d.active=!0,d.index=s.index=l,d}return a.prototype.schedule=function(s,o){if(o===void 0&&(o=0),!this.id)return u.prototype.schedule.call(this,s,o);this.active=!1;var l=new a(this.scheduler,this.work);return this.add(l),l.schedule(s,o)},a.prototype.requestAsyncId=function(s,o,l){l===void 0&&(l=0),this.delay=s.frame+l;var d=s.actions;return d.push(this),d.sort(a.sortActions),!0},a.prototype.recycleAsyncId=function(s,o,l){l===void 0&&(l=0)},a.prototype._execute=function(s,o){if(this.active===!0)return u.prototype._execute.call(this,s,o)},a.sortActions=function(s,o){return s.delay===o.delay?s.index===o.index?0:s.index>o.index?1:-1:s.delay>o.delay?1:-1},a}(t.AsyncAction);e.VirtualAction=c}),jq=Se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});function r(){}e.noop=r}),cMr=Se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Rr();function t(n){return!!n&&(n instanceof r.Observable||typeof n.lift=="function"&&typeof n.subscribe=="function")}e.isObservable=t}),Bl=Se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t}();e.ArgumentOutOfRangeError=r}),kl=Se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t}();e.EmptyError=r}),Jee=Se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return t.prototype=Object.create(Error.prototype),t}();e.TimeoutError=r}),Gn=Se(e=>{"use strict";var r=e&&e.__extends||function(){var u=function(a,s){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var d in l)l.hasOwnProperty(d)&&(o[d]=l[d])},u(a,s)};return function(a,s){u(a,s);function o(){this.constructor=a}a.prototype=s===null?Object.create(s):(o.prototype=s.prototype,new o)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=dr();function n(u,a){return function(s){if(typeof u!="function")throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return s.lift(new i(u,a))}}e.map=n;var i=function(){function u(a,s){this.project=a,this.thisArg=s}return u.prototype.call=function(a,s){return s.subscribe(new c(a,this.project,this.thisArg))},u}();e.MapOperator=i;var c=function(u){r(a,u);function a(s,o,l){var d=u.call(this,s)||this;return d.project=o,d.count=0,d.thisArg=l||d,d}return a.prototype._next=function(s){var o;try{o=this.project.call(this.thisArg,s,this.count++)}catch(l){this.destination.error(l);return}this.destination.next(o)},a}(t.Subscriber)}),uMr=Se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Rr(),t=UN(),n=Gn(),i=Pq(),c=Nn(),u=Mi();function a(l,d,p){if(d)if(u.isScheduler(d))p=d;else return function(){for(var f=[],v=0;v<arguments.length;v++)f[v]=arguments[v];return a(l,p).apply(void 0,f).pipe(n.map(function(h){return c.isArray(h)?d.apply(void 0,h):d(h)}))};return function(){for(var f=[],v=0;v<arguments.length;v++)f[v]=arguments[v];var h=this,m,y={context:h,subject:m,callbackFunc:l,scheduler:p};return new r.Observable(function(g){if(p){var b={args:f,subscriber:g,params:y};return p.schedule(s,0,b)}else{if(!m){m=new t.AsyncSubject;var _=function(){for(var S=[],w=0;w<arguments.length;w++)S[w]=arguments[w];m.next(S.length<=1?S[0]:S),m.complete()};try{l.apply(h,f.concat([_]))}catch(S){i.canReportError(m)?m.error(S):console.warn(S)}}return m.subscribe(g)}})}}e.bindCallback=a;function s(l){var d=this,p=this,f=l.args,v=l.subscriber,h=l.params,m=h.callbackFunc,y=h.context,g=h.scheduler,b=h.subject;if(!b){b=h.subject=new t.AsyncSubject;var _=function(){for(var S=[],w=0;w<arguments.length;w++)S[w]=arguments[w];var O=S.length<=1?S[0]:S;d.add(g.schedule(o,0,{value:O,subject:b}))};try{m.apply(y,f.concat([_]))}catch(S){b.error(S)}}this.add(b.subscribe(v))}function o(l){var d=l.value,p=l.subject;p.next(d),p.complete()}}),lMr=Se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Rr(),t=UN(),n=Gn(),i=Pq(),c=Mi(),u=Nn();function a(d,p,f){if(p)if(c.isScheduler(p))f=p;else return function(){for(var v=[],h=0;h<arguments.length;h++)v[h]=arguments[h];return a(d,f).apply(void 0,v).pipe(n.map(function(m){return u.isArray(m)?p.apply(void 0,m):p(m)}))};return function(){for(var v=[],h=0;h<arguments.length;h++)v[h]=arguments[h];var m={subject:void 0,args:v,callbackFunc:d,scheduler:f,context:this};return new r.Observable(function(y){var g=m.context,b=m.subject;if(f)return f.schedule(s,0,{params:m,subscriber:y,context:g});if(!b){b=m.subject=new t.AsyncSubject;var _=function(){for(var S=[],w=0;w<arguments.length;w++)S[w]=arguments[w];var O=S.shift();if(O){b.error(O);return}b.next(S.length<=1?S[0]:S),b.complete()};try{d.apply(g,v.concat([_]))}catch(S){i.canReportError(b)?b.error(S):console.warn(S)}}return b.subscribe(y)})}}e.bindNodeCallback=a;function s(d){var p=this,f=d.params,v=d.subscriber,h=d.context,m=f.callbackFunc,y=f.args,g=f.scheduler,b=f.subject;if(!b){b=f.subject=new t.AsyncSubject;var _=function(){for(var S=[],w=0;w<arguments.length;w++)S[w]=arguments[w];var O=S.shift();if(O)p.add(g.schedule(l,0,{err:O,subject:b}));else{var x=S.length<=1?S[0]:S;p.add(g.schedule(o,0,{value:x,subject:b}))}};try{m.apply(h,y.concat([_]))}catch(S){this.add(g.schedule(l,0,{err:S,subject:b}))}}this.add(b.subscribe(v))}function o(d){var p=d.value,f=d.subject;f.next(p),f.complete()}function l(d){var p=d.err,f=d.subject;f.error(p)}}),co=Se(e=>{"use strict";var r=e&&e.__extends||function(){var i=function(c,u){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var o in s)s.hasOwnProperty(o)&&(a[o]=s[o])},i(c,u)};return function(c,u){i(c,u);function a(){this.constructor=c}c.prototype=u===null?Object.create(u):(a.prototype=u.prototype,new a)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=dr(),n=function(i){r(c,i);function c(){return i!==null&&i.apply(this,arguments)||this}return c.prototype.notifyNext=function(u,a,s,o,l){this.destination.next(a)},c.prototype.notifyError=function(u,a){this.destination.error(u)},c.prototype.notifyComplete=function(u){this.destination.complete()},c}(t.Subscriber);e.OuterSubscriber=n}),dMr=Se(e=>{"use strict";var r=e&&e.__extends||function(){var i=function(c,u){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var o in s)s.hasOwnProperty(o)&&(a[o]=s[o])},i(c,u)};return function(c,u){i(c,u);function a(){this.constructor=c}c.prototype=u===null?Object.create(u):(a.prototype=u.prototype,new a)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=dr(),n=function(i){r(c,i);function c(u,a,s){var o=i.call(this)||this;return o.parent=u,o.outerValue=a,o.outerIndex=s,o.index=0,o}return c.prototype._next=function(u){this.parent.notifyNext(this.outerValue,u,this.outerIndex,this.index++,this)},c.prototype._error=function(u){this.parent.notifyError(u,this),this.unsubscribe()},c.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},c}(t.Subscriber);e.InnerSubscriber=n}),pMr=Se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Cq();e.subscribeToPromise=function(t){return function(n){return t.then(function(i){n.closed||(n.next(i),n.complete())},function(i){return n.error(i)}).then(null,r.hostReportError),n}}}),jl=Se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});function r(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}e.getSymbolIterator=r,e.iterator=r(),e.$$iterator=e.iterator}),fMr=Se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=jl();e.subscribeToIterable=function(t){return function(n){var i=t[r.iterator]();do{var c=void 0;try{c=i.next()}catch(u){return n.error(u),n}if(c.done){n.complete();break}if(n.next(c.value),n.closed)break}while(!0);return typeof i.return=="function"&&n.add(function(){i.return&&i.return()}),n}}}),hMr=Se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=zc();e.subscribeToObservable=function(t){return function(n){var i=t[r.observable]();if(typeof i.subscribe!="function")throw new TypeError("Provided object does not correctly implement Symbol.observable");return i.subscribe(n)}}}),Vee=Se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isArrayLike=function(r){return r&&typeof r.length=="number"&&typeof r!="function"}}),Gee=Se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});function r(t){return!!t&&typeof t.subscribe!="function"&&typeof t.then=="function"}e.isPromise=r}),zN=Se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Lee(),t=pMr(),n=fMr(),i=hMr(),c=Vee(),u=Gee(),a=Aq(),s=jl(),o=zc();e.subscribeTo=function(l){if(!!l&&typeof l[o.observable]=="function")return i.subscribeToObservable(l);if(c.isArrayLike(l))return r.subscribeToArray(l);if(u.isPromise(l))return t.subscribeToPromise(l);if(!!l&&typeof l[s.iterator]=="function")return n.subscribeToIterable(l);var d=a.isObject(l)?"an invalid object":"'"+l+"'",p="You provided "+d+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";throw new TypeError(p)}}),uo=Se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=dMr(),t=zN(),n=Rr();function i(c,u,a,s,o){if(o===void 0&&(o=new r.InnerSubscriber(c,a,s)),!o.closed)return u instanceof n.Observable?u.subscribe(o):t.subscribeTo(u)(o)}e.subscribeToResult=i}),Tq=Se(e=>{"use strict";var r=e&&e.__extends||function(){var d=function(p,f){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,h){v.__proto__=h}||function(v,h){for(var m in h)h.hasOwnProperty(m)&&(v[m]=h[m])},d(p,f)};return function(p,f){d(p,f);function v(){this.constructor=p}p.prototype=f===null?Object.create(f):(v.prototype=f.prototype,new v)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=Mi(),n=Nn(),i=co(),c=uo(),u=Il(),a={};function s(){for(var d=[],p=0;p<arguments.length;p++)d[p]=arguments[p];var f=void 0,v=void 0;return t.isScheduler(d[d.length-1])&&(v=d.pop()),typeof d[d.length-1]=="function"&&(f=d.pop()),d.length===1&&n.isArray(d[0])&&(d=d[0]),u.fromArray(d,v).lift(new o(f))}e.combineLatest=s;var o=function(){function d(p){this.resultSelector=p}return d.prototype.call=function(p,f){return f.subscribe(new l(p,this.resultSelector))},d}();e.CombineLatestOperator=o;var l=function(d){r(p,d);function p(f,v){var h=d.call(this,f)||this;return h.resultSelector=v,h.active=0,h.values=[],h.observables=[],h}return p.prototype._next=function(f){this.values.push(a),this.observables.push(f)},p.prototype._complete=function(){var f=this.observables,v=f.length;if(v===0)this.destination.complete();else{this.active=v,this.toRespond=v;for(var h=0;h<v;h++){var m=f[h];this.add(c.subscribeToResult(this,m,void 0,h))}}},p.prototype.notifyComplete=function(f){(this.active-=1)===0&&this.destination.complete()},p.prototype.notifyNext=function(f,v,h){var m=this.values,y=m[h],g=this.toRespond?y===a?--this.toRespond:this.toRespond:0;m[h]=v,g===0&&(this.resultSelector?this._tryResultSelector(m):this.destination.next(m.slice()))},p.prototype._tryResultSelector=function(f){var v;try{v=this.resultSelector.apply(this,f)}catch(h){this.destination.error(h);return}this.destination.next(v)},p}(i.OuterSubscriber);e.CombineLatestSubscriber=l}),vMr=Se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Rr(),t=qt(),n=zc();function i(c,u){return new r.Observable(function(a){var s=new t.Subscription;return s.add(u.schedule(function(){var o=c[n.observable]();s.add(o.subscribe({next:function(l){s.add(u.schedule(function(){return a.next(l)}))},error:function(l){s.add(u.schedule(function(){return a.error(l)}))},complete:function(){s.add(u.schedule(function(){return a.complete()}))}}))})),s})}e.scheduleObservable=i}),mMr=Se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Rr(),t=qt();function n(i,c){return new r.Observable(function(u){var a=new t.Subscription;return a.add(c.schedule(function(){return i.then(function(s){a.add(c.schedule(function(){u.next(s),a.add(c.schedule(function(){return u.complete()}))}))},function(s){a.add(c.schedule(function(){return u.error(s)}))})})),a})}e.schedulePromise=n}),yMr=Se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Rr(),t=qt(),n=jl();function i(c,u){if(!c)throw new Error("Iterable cannot be null");return new r.Observable(function(a){var s=new t.Subscription,o;return s.add(function(){o&&typeof o.return=="function"&&o.return()}),s.add(u.schedule(function(){o=c[n.iterator](),s.add(u.schedule(function(){if(!a.closed){var l,d;try{var p=o.next();l=p.value,d=p.done}catch(f){a.error(f);return}d?a.complete():(a.next(l),this.schedule())}}))})),s})}e.scheduleIterable=i}),gMr=Se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=zc();function t(n){return n&&typeof n[r.observable]=="function"}e.isInteropObservable=t}),bMr=Se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=jl();function t(n){return n&&typeof n[r.iterator]=="function"}e.isIterable=t}),Hee=Se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=vMr(),t=mMr(),n=Iq(),i=yMr(),c=gMr(),u=Gee(),a=Vee(),s=bMr();function o(l,d){if(l!=null){if(c.isInteropObservable(l))return r.scheduleObservable(l,d);if(u.isPromise(l))return t.schedulePromise(l,d);if(a.isArrayLike(l))return n.scheduleArray(l,d);if(s.isIterable(l)||typeof l=="string")return i.scheduleIterable(l,d)}throw new TypeError((l!==null&&typeof l||l)+" is not observable")}e.scheduled=o}),Pi=Se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Rr(),t=zN(),n=Hee();function i(c,u){return u?n.scheduled(c,u):c instanceof r.Observable?c:new r.Observable(t.subscribeTo(c))}e.from=i}),ft=Se(e=>{"use strict";var r=e&&e.__extends||function(){var l=function(d,p){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,v){f.__proto__=v}||function(f,v){for(var h in v)v.hasOwnProperty(h)&&(f[h]=v[h])},l(d,p)};return function(d,p){l(d,p);function f(){this.constructor=d}d.prototype=p===null?Object.create(p):(f.prototype=p.prototype,new f)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=dr(),n=Rr(),i=zN(),c=function(l){r(d,l);function d(p){var f=l.call(this)||this;return f.parent=p,f}return d.prototype._next=function(p){this.parent.notifyNext(p)},d.prototype._error=function(p){this.parent.notifyError(p),this.unsubscribe()},d.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},d}(t.Subscriber);e.SimpleInnerSubscriber=c;var u=function(l){r(d,l);function d(p,f,v){var h=l.call(this)||this;return h.parent=p,h.outerValue=f,h.outerIndex=v,h}return d.prototype._next=function(p){this.parent.notifyNext(this.outerValue,p,this.outerIndex,this)},d.prototype._error=function(p){this.parent.notifyError(p),this.unsubscribe()},d.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},d}(t.Subscriber);e.ComplexInnerSubscriber=u;var a=function(l){r(d,l);function d(){return l!==null&&l.apply(this,arguments)||this}return d.prototype.notifyNext=function(p){this.destination.next(p)},d.prototype.notifyError=function(p){this.destination.error(p)},d.prototype.notifyComplete=function(){this.destination.complete()},d}(t.Subscriber);e.SimpleOuterSubscriber=a;var s=function(l){r(d,l);function d(){return l!==null&&l.apply(this,arguments)||this}return d.prototype.notifyNext=function(p,f,v,h){this.destination.next(f)},d.prototype.notifyError=function(p){this.destination.error(p)},d.prototype.notifyComplete=function(p){this.destination.complete()},d}(t.Subscriber);e.ComplexOuterSubscriber=s;function o(l,d){if(!d.closed){if(l instanceof n.Observable)return l.subscribe(d);var p;try{p=i.subscribeTo(l)(d)}catch(f){d.error(f)}return p}}e.innerSubscribe=o}),JN=Se(e=>{"use strict";var r=e&&e.__extends||function(){var s=function(o,l){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,p){d.__proto__=p}||function(d,p){for(var f in p)p.hasOwnProperty(f)&&(d[f]=p[f])},s(o,l)};return function(o,l){s(o,l);function d(){this.constructor=o}o.prototype=l===null?Object.create(l):(d.prototype=l.prototype,new d)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=Gn(),n=Pi(),i=ft();function c(s,o,l){return l===void 0&&(l=Number.POSITIVE_INFINITY),typeof o=="function"?function(d){return d.pipe(c(function(p,f){return n.from(s(p,f)).pipe(t.map(function(v,h){return o(p,v,f,h)}))},l))}:(typeof o=="number"&&(l=o),function(d){return d.lift(new u(s,l))})}e.mergeMap=c;var u=function(){function s(o,l){l===void 0&&(l=Number.POSITIVE_INFINITY),this.project=o,this.concurrent=l}return s.prototype.call=function(o,l){return l.subscribe(new a(o,this.project,this.concurrent))},s}();e.MergeMapOperator=u;var a=function(s){r(o,s);function o(l,d,p){p===void 0&&(p=Number.POSITIVE_INFINITY);var f=s.call(this,l)||this;return f.project=d,f.concurrent=p,f.hasCompleted=!1,f.buffer=[],f.active=0,f.index=0,f}return o.prototype._next=function(l){this.active<this.concurrent?this._tryNext(l):this.buffer.push(l)},o.prototype._tryNext=function(l){var d,p=this.index++;try{d=this.project(l,p)}catch(f){this.destination.error(f);return}this.active++,this._innerSub(d)},o.prototype._innerSub=function(l){var d=new i.SimpleInnerSubscriber(this),p=this.destination;p.add(d);var f=i.innerSubscribe(l,d);f!==d&&p.add(f)},o.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&this.destination.complete(),this.unsubscribe()},o.prototype.notifyNext=function(l){this.destination.next(l)},o.prototype.notifyComplete=function(){var l=this.buffer;this.active--,l.length>0?this._next(l.shift()):this.active===0&&this.hasCompleted&&this.destination.complete()},o}(i.SimpleOuterSubscriber);e.MergeMapSubscriber=a,e.flatMap=c}),Rq=Se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=JN(),t=oo();function n(i){return i===void 0&&(i=Number.POSITIVE_INFINITY),r.mergeMap(t.identity,i)}e.mergeAll=n}),Wee=Se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Rq();function t(){return r.mergeAll(1)}e.concatAll=t}),VN=Se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=FN(),t=Wee();function n(){for(var i=[],c=0;c<arguments.length;c++)i[c]=arguments[c];return t.concatAll()(r.of.apply(void 0,i))}e.concat=n}),Fq=Se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Rr(),t=Pi(),n=Ci();function i(c){return new r.Observable(function(u){var a;try{a=c()}catch(o){u.error(o);return}var s=a?t.from(a):n.empty();return s.subscribe(u)})}e.defer=i}),_Mr=Se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Rr(),t=Nn(),n=Gn(),i=Aq(),c=Pi();function u(){for(var s=[],o=0;o<arguments.length;o++)s[o]=arguments[o];if(s.length===1){var l=s[0];if(t.isArray(l))return a(l,null);if(i.isObject(l)&&Object.getPrototypeOf(l)===Object.prototype){var d=Object.keys(l);return a(d.map(function(f){return l[f]}),d)}}if(typeof s[s.length-1]=="function"){var p=s.pop();return s=s.length===1&&t.isArray(s[0])?s[0]:s,a(s,null).pipe(n.map(function(f){return p.apply(void 0,f)}))}return a(s,null)}e.forkJoin=u;function a(s,o){return new r.Observable(function(l){var d=s.length;if(d===0){l.complete();return}for(var p=new Array(d),f=0,v=0,h=function(y){var g=c.from(s[y]),b=!1;l.add(g.subscribe({next:function(_){b||(b=!0,v++),p[y]=_},error:function(_){return l.error(_)},complete:function(){f++,(f===d||!b)&&(v===d&&l.next(o?o.reduce(function(_,S,w){return _[S]=p[w],_},{}):p),l.complete())}}))},m=0;m<d;m++)h(m)})}}),wMr=Se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Rr(),t=Nn(),n=Pl(),i=Gn(),c=function(){return Object.prototype.toString}();function u(d,p,f,v){return n.isFunction(f)&&(v=f,f=void 0),v?u(d,p,f).pipe(i.map(function(h){return t.isArray(h)?v.apply(void 0,h):v(h)})):new r.Observable(function(h){function m(y){arguments.length>1?h.next(Array.prototype.slice.call(arguments)):h.next(y)}a(d,p,m,h,f)})}e.fromEvent=u;function a(d,p,f,v,h){var m;if(l(d)){var y=d;d.addEventListener(p,f,h),m=function(){return y.removeEventListener(p,f,h)}}else if(o(d)){var g=d;d.on(p,f),m=function(){return g.off(p,f)}}else if(s(d)){var b=d;d.addListener(p,f),m=function(){return b.removeListener(p,f)}}else if(d&&d.length)for(var _=0,S=d.length;_<S;_++)a(d[_],p,f,v,h);else throw new TypeError("Invalid event target");v.add(m)}function s(d){return d&&typeof d.addListener=="function"&&typeof d.removeListener=="function"}function o(d){return d&&typeof d.on=="function"&&typeof d.off=="function"}function l(d){return d&&typeof d.addEventListener=="function"&&typeof d.removeEventListener=="function"}}),SMr=Se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Rr(),t=Nn(),n=Pl(),i=Gn();function c(u,a,s){return s?c(u,a).pipe(i.map(function(o){return t.isArray(o)?s.apply(void 0,o):s(o)})):new r.Observable(function(o){var l=function(){for(var p=[],f=0;f<arguments.length;f++)p[f]=arguments[f];return o.next(p.length===1?p[0]:p)},d;try{d=u(l)}catch(p){o.error(p);return}if(n.isFunction(a))return function(){return a(l,d)}})}e.fromEventPattern=c}),xMr=Se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Rr(),t=oo(),n=Mi();function i(u,a,s,o,l){var d,p;if(arguments.length==1){var f=u;p=f.initialState,a=f.condition,s=f.iterate,d=f.resultSelector||t.identity,l=f.scheduler}else o===void 0||n.isScheduler(o)?(p=u,d=t.identity,l=o):(p=u,d=o);return new r.Observable(function(v){var h=p;if(l)return l.schedule(c,0,{subscriber:v,iterate:s,condition:a,resultSelector:d,state:h});do{if(a){var m=void 0;try{m=a(h)}catch(g){v.error(g);return}if(!m){v.complete();break}}var y=void 0;try{y=d(h)}catch(g){v.error(g);return}if(v.next(y),v.closed)break;try{h=s(h)}catch(g){v.error(g);return}}while(!0)})}e.generate=i;function c(u){var a=u.subscriber,s=u.condition;if(!a.closed){if(u.needIterate)try{u.state=u.iterate(u.state)}catch(d){a.error(d);return}else u.needIterate=!0;if(s){var o=void 0;try{o=s(u.state)}catch(d){a.error(d);return}if(!o){a.complete();return}if(a.closed)return}var l;try{l=u.resultSelector(u.state)}catch(d){a.error(d);return}if(!a.closed&&(a.next(l),!a.closed))return this.schedule(u)}}}),OMr=Se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Fq(),t=Ci();function n(i,c,u){return c===void 0&&(c=t.EMPTY),u===void 0&&(u=t.EMPTY),r.defer(function(){return i()?c:u})}e.iif=n}),GN=Se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Nn();function t(n){return!r.isArray(n)&&n-parseFloat(n)+1>=0}e.isNumeric=t}),DMr=Se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Rr(),t=Cn(),n=GN();function i(u,a){return u===void 0&&(u=0),a===void 0&&(a=t.async),(!n.isNumeric(u)||u<0)&&(u=0),(!a||typeof a.schedule!="function")&&(a=t.async),new r.Observable(function(s){return s.add(a.schedule(c,u,{subscriber:s,counter:0,period:u})),s})}e.interval=i;function c(u){var a=u.subscriber,s=u.counter,o=u.period;a.next(s),this.schedule({subscriber:a,counter:s+1,period:o},o)}}),$ee=Se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Rr(),t=Mi(),n=Rq(),i=Il();function c(){for(var u=[],a=0;a<arguments.length;a++)u[a]=arguments[a];var s=Number.POSITIVE_INFINITY,o=null,l=u[u.length-1];return t.isScheduler(l)?(o=u.pop(),u.length>1&&typeof u[u.length-1]=="number"&&(s=u.pop())):typeof l=="number"&&(s=u.pop()),o===null&&u.length===1&&u[0]instanceof r.Observable?u[0]:n.mergeAll(s)(i.fromArray(u,o))}e.merge=c}),rK=Se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Rr(),t=jq();e.NEVER=new r.Observable(t.noop);function n(){return e.NEVER}e.never=n}),NMr=Se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Rr(),t=Pi(),n=Nn(),i=Ci();function c(){for(var u=[],a=0;a<arguments.length;a++)u[a]=arguments[a];if(u.length===0)return i.EMPTY;var s=u[0],o=u.slice(1);return u.length===1&&n.isArray(s)?c.apply(void 0,s):new r.Observable(function(l){var d=function(){return l.add(c.apply(void 0,o).subscribe(l))};return t.from(s).subscribe({next:function(p){l.next(p)},error:d,complete:d})})}e.onErrorResumeNext=c}),CMr=Se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Rr(),t=qt();function n(c,u){return u?new r.Observable(function(a){var s=Object.keys(c),o=new t.Subscription;return o.add(u.schedule(i,0,{keys:s,index:0,subscriber:a,subscription:o,obj:c})),o}):new r.Observable(function(a){for(var s=Object.keys(c),o=0;o<s.length&&!a.closed;o++){var l=s[o];c.hasOwnProperty(l)&&a.next([l,c[l]])}a.complete()})}e.pairs=n;function i(c){var u=c.keys,a=c.index,s=c.subscriber,o=c.subscription,l=c.obj;if(!s.closed)if(a<u.length){var d=u[a];s.next([d,l[d]]),o.add(this.schedule({keys:u,index:a+1,subscriber:s,subscription:o,obj:l}))}else s.complete()}e.dispatch=i}),Qee=Se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});function r(t,n){function i(){return!i.pred.apply(i.thisArg,arguments)}return i.pred=t,i.thisArg=n,i}e.not=r}),Jc=Se(e=>{"use strict";var r=e&&e.__extends||function(){var u=function(a,s){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var d in l)l.hasOwnProperty(d)&&(o[d]=l[d])},u(a,s)};return function(a,s){u(a,s);function o(){this.constructor=a}a.prototype=s===null?Object.create(s):(o.prototype=s.prototype,new o)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=dr();function n(u,a){return function(s){return s.lift(new i(u,a))}}e.filter=n;var i=function(){function u(a,s){this.predicate=a,this.thisArg=s}return u.prototype.call=function(a,s){return s.subscribe(new c(a,this.predicate,this.thisArg))},u}(),c=function(u){r(a,u);function a(s,o,l){var d=u.call(this,s)||this;return d.predicate=o,d.thisArg=l,d.count=0,d}return a.prototype._next=function(s){var o;try{o=this.predicate.call(this.thisArg,s,this.count++)}catch(l){this.destination.error(l);return}o&&this.destination.next(s)},a}(t.Subscriber)}),AMr=Se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Qee(),t=zN(),n=Jc(),i=Rr();function c(u,a,s){return[n.filter(a,s)(new i.Observable(t.subscribeTo(u))),n.filter(r.not(a,s))(new i.Observable(t.subscribeTo(u)))]}e.partition=c}),Yee=Se(e=>{"use strict";var r=e&&e.__extends||function(){var o=function(l,d){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,f){p.__proto__=f}||function(p,f){for(var v in f)f.hasOwnProperty(v)&&(p[v]=f[v])},o(l,d)};return function(l,d){o(l,d);function p(){this.constructor=l}l.prototype=d===null?Object.create(d):(p.prototype=d.prototype,new p)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=Nn(),n=Il(),i=co(),c=uo();function u(){for(var o=[],l=0;l<arguments.length;l++)o[l]=arguments[l];if(o.length===1)if(t.isArray(o[0]))o=o[0];else return o[0];return n.fromArray(o,void 0).lift(new a)}e.race=u;var a=function(){function o(){}return o.prototype.call=function(l,d){return d.subscribe(new s(l))},o}();e.RaceOperator=a;var s=function(o){r(l,o);function l(d){var p=o.call(this,d)||this;return p.hasFirst=!1,p.observables=[],p.subscriptions=[],p}return l.prototype._next=function(d){this.observables.push(d)},l.prototype._complete=function(){var d=this.observables,p=d.length;if(p===0)this.destination.complete();else{for(var f=0;f<p&&!this.hasFirst;f++){var v=d[f],h=c.subscribeToResult(this,v,void 0,f);this.subscriptions&&this.subscriptions.push(h),this.add(h)}this.observables=null}},l.prototype.notifyNext=function(d,p,f){if(!this.hasFirst){this.hasFirst=!0;for(var v=0;v<this.subscriptions.length;v++)if(v!==f){var h=this.subscriptions[v];h.unsubscribe(),this.remove(h)}this.subscriptions=null}this.destination.next(p)},l}(i.OuterSubscriber);e.RaceSubscriber=s}),MMr=Se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Rr();function t(i,c,u){return i===void 0&&(i=0),new r.Observable(function(a){c===void 0&&(c=i,i=0);var s=0,o=i;if(u)return u.schedule(n,0,{index:s,count:c,start:i,subscriber:a});do{if(s++>=c){a.complete();break}if(a.next(o++),a.closed)break}while(!0)})}e.range=t;function n(i){var c=i.start,u=i.index,a=i.count,s=i.subscriber;if(u>=a){s.complete();return}s.next(c),!s.closed&&(i.index=u+1,i.start=c+1,this.schedule(i))}e.dispatch=n}),Zee=Se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Rr(),t=Cn(),n=GN(),i=Mi();function c(a,s,o){a===void 0&&(a=0);var l=-1;return n.isNumeric(s)?l=Number(s)<1&&1||Number(s):i.isScheduler(s)&&(o=s),i.isScheduler(o)||(o=t.async),new r.Observable(function(d){var p=n.isNumeric(a)?a:+a-o.now();return o.schedule(u,p,{index:0,period:l,subscriber:d})})}e.timer=c;function u(a){var s=a.index,o=a.period,l=a.subscriber;if(l.next(s),!l.closed){if(o===-1)return l.complete();a.index=s+1,this.schedule(a,o)}}}),PMr=Se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Rr(),t=Pi(),n=Ci();function i(c,u){return new r.Observable(function(a){var s;try{s=c()}catch(p){a.error(p);return}var o;try{o=u(s)}catch(p){a.error(p);return}var l=o?t.from(o):n.EMPTY,d=l.subscribe(a);return function(){d.unsubscribe(),s&&s.unsubscribe()}})}e.using=i}),Lq=Se(e=>{"use strict";var r=e&&e.__extends||function(){var f=function(v,h){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,y){m.__proto__=y}||function(m,y){for(var g in y)y.hasOwnProperty(g)&&(m[g]=y[g])},f(v,h)};return function(v,h){f(v,h);function m(){this.constructor=v}v.prototype=h===null?Object.create(h):(m.prototype=h.prototype,new m)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=Il(),n=Nn(),i=dr(),c=jl(),u=ft();function a(){for(var f=[],v=0;v<arguments.length;v++)f[v]=arguments[v];var h=f[f.length-1];return typeof h=="function"&&f.pop(),t.fromArray(f,void 0).lift(new s(h))}e.zip=a;var s=function(){function f(v){this.resultSelector=v}return f.prototype.call=function(v,h){return h.subscribe(new o(v,this.resultSelector))},f}();e.ZipOperator=s;var o=function(f){r(v,f);function v(h,m,y){y===void 0&&(y=Object.create(null));var g=f.call(this,h)||this;return g.resultSelector=m,g.iterators=[],g.active=0,g.resultSelector=typeof m=="function"?m:void 0,g}return v.prototype._next=function(h){var m=this.iterators;n.isArray(h)?m.push(new d(h)):typeof h[c.iterator]=="function"?m.push(new l(h[c.iterator]())):m.push(new p(this.destination,this,h))},v.prototype._complete=function(){var h=this.iterators,m=h.length;if(this.unsubscribe(),m===0){this.destination.complete();return}this.active=m;for(var y=0;y<m;y++){var g=h[y];if(g.stillUnsubscribed){var b=this.destination;b.add(g.subscribe())}else this.active--}},v.prototype.notifyInactive=function(){this.active--,this.active===0&&this.destination.complete()},v.prototype.checkIterators=function(){for(var h=this.iterators,m=h.length,y=this.destination,g=0;g<m;g++){var b=h[g];if(typeof b.hasValue=="function"&&!b.hasValue())return}for(var _=!1,S=[],g=0;g<m;g++){var b=h[g],w=b.next();if(b.hasCompleted()&&(_=!0),w.done){y.complete();return}S.push(w.value)}this.resultSelector?this._tryresultSelector(S):y.next(S),_&&y.complete()},v.prototype._tryresultSelector=function(h){var m;try{m=this.resultSelector.apply(this,h)}catch(y){this.destination.error(y);return}this.destination.next(m)},v}(i.Subscriber);e.ZipSubscriber=o;var l=function(){function f(v){this.iterator=v,this.nextResult=v.next()}return f.prototype.hasValue=function(){return!0},f.prototype.next=function(){var v=this.nextResult;return this.nextResult=this.iterator.next(),v},f.prototype.hasCompleted=function(){var v=this.nextResult;return Boolean(v&&v.done)},f}(),d=function(){function f(v){this.array=v,this.index=0,this.length=0,this.length=v.length}return f.prototype[c.iterator]=function(){return this},f.prototype.next=function(v){var h=this.index++,m=this.array;return h<this.length?{value:m[h],done:!1}:{value:null,done:!0}},f.prototype.hasValue=function(){return this.array.length>this.index},f.prototype.hasCompleted=function(){return this.array.length===this.index},f}(),p=function(f){r(v,f);function v(h,m,y){var g=f.call(this,h)||this;return g.parent=m,g.observable=y,g.stillUnsubscribed=!0,g.buffer=[],g.isComplete=!1,g}return v.prototype[c.iterator]=function(){return this},v.prototype.next=function(){var h=this.buffer;return h.length===0&&this.isComplete?{value:null,done:!0}:{value:h.shift(),done:!1}},v.prototype.hasValue=function(){return this.buffer.length>0},v.prototype.hasCompleted=function(){return this.buffer.length===0&&this.isComplete},v.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},v.prototype.notifyNext=function(h){this.buffer.push(h),this.parent.checkIterators()},v.prototype.subscribe=function(){return u.innerSubscribe(this.observable,new u.SimpleInnerSubscriber(this))},v}(u.SimpleOuterSubscriber)}),HN=Se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Rr();e.Observable=r.Observable;var t=kee();e.ConnectableObservable=t.ConnectableObservable;var n=jee();e.GroupedObservable=n.GroupedObservable;var i=zc();e.observable=i.observable;var c=mn();e.Subject=c.Subject;var u=Tee();e.BehaviorSubject=u.BehaviorSubject;var a=kq();e.ReplaySubject=a.ReplaySubject;var s=UN();e.AsyncSubject=s.AsyncSubject;var o=zee();e.asap=o.asap,e.asapScheduler=o.asapScheduler;var l=Cn();e.async=l.async,e.asyncScheduler=l.asyncScheduler;var d=Fee();e.queue=d.queue,e.queueScheduler=d.queueScheduler;var p=sMr();e.animationFrame=p.animationFrame,e.animationFrameScheduler=p.animationFrameScheduler;var f=oMr();e.VirtualTimeScheduler=f.VirtualTimeScheduler,e.VirtualAction=f.VirtualAction;var v=Ree();e.Scheduler=v.Scheduler;var h=qt();e.Subscription=h.Subscription;var m=dr();e.Subscriber=m.Subscriber;var y=LN();e.Notification=y.Notification,e.NotificationKind=y.NotificationKind;var g=Eq();e.pipe=g.pipe;var b=jq();e.noop=b.noop;var _=oo();e.identity=_.identity;var S=cMr();e.isObservable=S.isObservable;var w=Bl();e.ArgumentOutOfRangeError=w.ArgumentOutOfRangeError;var O=kl();e.EmptyError=O.EmptyError;var x=RN();e.ObjectUnsubscribedError=x.ObjectUnsubscribedError;var N=Iee();e.UnsubscriptionError=N.UnsubscriptionError;var M=Jee();e.TimeoutError=M.TimeoutError;var I=uMr();e.bindCallback=I.bindCallback;var q=lMr();e.bindNodeCallback=q.bindNodeCallback;var z=Tq();e.combineLatest=z.combineLatest;var R=VN();e.concat=R.concat;var j=Fq();e.defer=j.defer;var L=Ci();e.empty=L.empty;var P=_Mr();e.forkJoin=P.forkJoin;var V=Pi();e.from=V.from;var E=wMr();e.fromEvent=E.fromEvent;var Z=SMr();e.fromEventPattern=Z.fromEventPattern;var ue=xMr();e.generate=ue.generate;var ye=OMr();e.iif=ye.iif;var X=DMr();e.interval=X.interval;var le=$ee();e.merge=le.merge;var Oe=rK();e.never=Oe.never;var ne=FN();e.of=ne.of;var fe=NMr();e.onErrorResumeNext=fe.onErrorResumeNext;var Me=CMr();e.pairs=Me.pairs;var me=AMr();e.partition=me.partition;var Ce=Yee();e.race=Ce.race;var Be=MMr();e.range=Be.range;var je=Bq();e.throwError=je.throwError;var We=Zee();e.timer=We.timer;var Ge=PMr();e.using=Ge.using;var ie=Lq();e.zip=ie.zip;var pe=Hee();e.scheduled=pe.scheduled;var te=Ci();e.EMPTY=te.EMPTY;var ce=rK();e.NEVER=ce.NEVER;var ge=TN();e.config=ge.config}),Xee=Se(e=>{"use strict";var r=e&&e.__extends||function(){var u=function(a,s){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var d in l)l.hasOwnProperty(d)&&(o[d]=l[d])},u(a,s)};return function(a,s){u(a,s);function o(){this.constructor=a}a.prototype=s===null?Object.create(s):(o.prototype=s.prototype,new o)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=ft();function n(u){return function(a){return a.lift(new i(u))}}e.audit=n;var i=function(){function u(a){this.durationSelector=a}return u.prototype.call=function(a,s){return s.subscribe(new c(a,this.durationSelector))},u}(),c=function(u){r(a,u);function a(s,o){var l=u.call(this,s)||this;return l.durationSelector=o,l.hasValue=!1,l}return a.prototype._next=function(s){if(this.value=s,this.hasValue=!0,!this.throttled){var o=void 0;try{var l=this.durationSelector;o=l(s)}catch(p){return this.destination.error(p)}var d=t.innerSubscribe(o,new t.SimpleInnerSubscriber(this));!d||d.closed?this.clearThrottle():this.add(this.throttled=d)}},a.prototype.clearThrottle=function(){var s=this,o=s.value,l=s.hasValue,d=s.throttled;d&&(this.remove(d),this.throttled=void 0,d.unsubscribe()),l&&(this.value=void 0,this.hasValue=!1,this.destination.next(o))},a.prototype.notifyNext=function(){this.clearThrottle()},a.prototype.notifyComplete=function(){this.clearThrottle()},a}(t.SimpleOuterSubscriber)}),EMr=Se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Cn(),t=Xee(),n=Zee();function i(c,u){return u===void 0&&(u=r.async),t.audit(function(){return n.timer(c,u)})}e.auditTime=i}),qMr=Se(e=>{"use strict";var r=e&&e.__extends||function(){var u=function(a,s){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var d in l)l.hasOwnProperty(d)&&(o[d]=l[d])},u(a,s)};return function(a,s){u(a,s);function o(){this.constructor=a}a.prototype=s===null?Object.create(s):(o.prototype=s.prototype,new o)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=ft();function n(u){return function(a){return a.lift(new i(u))}}e.buffer=n;var i=function(){function u(a){this.closingNotifier=a}return u.prototype.call=function(a,s){return s.subscribe(new c(a,this.closingNotifier))},u}(),c=function(u){r(a,u);function a(s,o){var l=u.call(this,s)||this;return l.buffer=[],l.add(t.innerSubscribe(o,new t.SimpleInnerSubscriber(l))),l}return a.prototype._next=function(s){this.buffer.push(s)},a.prototype.notifyNext=function(){var s=this.buffer;this.buffer=[],this.destination.next(s)},a}(t.SimpleOuterSubscriber)}),IMr=Se(e=>{"use strict";var r=e&&e.__extends||function(){var a=function(s,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,d){l.__proto__=d}||function(l,d){for(var p in d)d.hasOwnProperty(p)&&(l[p]=d[p])},a(s,o)};return function(s,o){a(s,o);function l(){this.constructor=s}s.prototype=o===null?Object.create(o):(l.prototype=o.prototype,new l)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=dr();function n(a,s){return s===void 0&&(s=null),function(o){return o.lift(new i(a,s))}}e.bufferCount=n;var i=function(){function a(s,o){this.bufferSize=s,this.startBufferEvery=o,!o||s===o?this.subscriberClass=c:this.subscriberClass=u}return a.prototype.call=function(s,o){return o.subscribe(new this.subscriberClass(s,this.bufferSize,this.startBufferEvery))},a}(),c=function(a){r(s,a);function s(o,l){var d=a.call(this,o)||this;return d.bufferSize=l,d.buffer=[],d}return s.prototype._next=function(o){var l=this.buffer;l.push(o),l.length==this.bufferSize&&(this.destination.next(l),this.buffer=[])},s.prototype._complete=function(){var o=this.buffer;o.length>0&&this.destination.next(o),a.prototype._complete.call(this)},s}(t.Subscriber),u=function(a){r(s,a);function s(o,l,d){var p=a.call(this,o)||this;return p.bufferSize=l,p.startBufferEvery=d,p.buffers=[],p.count=0,p}return s.prototype._next=function(o){var l=this,d=l.bufferSize,p=l.startBufferEvery,f=l.buffers,v=l.count;this.count++,v%p===0&&f.push([]);for(var h=f.length;h--;){var m=f[h];m.push(o),m.length===d&&(f.splice(h,1),this.destination.next(m))}},s.prototype._complete=function(){for(var o=this,l=o.buffers,d=o.destination;l.length>0;){var p=l.shift();p.length>0&&d.next(p)}a.prototype._complete.call(this)},s}(t.Subscriber)}),BMr=Se(e=>{"use strict";var r=e&&e.__extends||function(){var p=function(f,v){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,m){h.__proto__=m}||function(h,m){for(var y in m)m.hasOwnProperty(y)&&(h[y]=m[y])},p(f,v)};return function(f,v){p(f,v);function h(){this.constructor=f}f.prototype=v===null?Object.create(v):(h.prototype=v.prototype,new h)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=Cn(),n=dr(),i=Mi();function c(p){var f=arguments.length,v=t.async;i.isScheduler(arguments[arguments.length-1])&&(v=arguments[arguments.length-1],f--);var h=null;f>=2&&(h=arguments[1]);var m=Number.POSITIVE_INFINITY;return f>=3&&(m=arguments[2]),function(y){return y.lift(new u(p,h,m,v))}}e.bufferTime=c;var u=function(){function p(f,v,h,m){this.bufferTimeSpan=f,this.bufferCreationInterval=v,this.maxBufferSize=h,this.scheduler=m}return p.prototype.call=function(f,v){return v.subscribe(new s(f,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},p}(),a=function(){function p(){this.buffer=[]}return p}(),s=function(p){r(f,p);function f(v,h,m,y,g){var b=p.call(this,v)||this;b.bufferTimeSpan=h,b.bufferCreationInterval=m,b.maxBufferSize=y,b.scheduler=g,b.contexts=[];var _=b.openContext();if(b.timespanOnly=m==null||m<0,b.timespanOnly){var S={subscriber:b,context:_,bufferTimeSpan:h};b.add(_.closeAction=g.schedule(o,h,S))}else{var w={subscriber:b,context:_},O={bufferTimeSpan:h,bufferCreationInterval:m,subscriber:b,scheduler:g};b.add(_.closeAction=g.schedule(d,h,w)),b.add(g.schedule(l,m,O))}return b}return f.prototype._next=function(v){for(var h=this.contexts,m=h.length,y,g=0;g<m;g++){var b=h[g],_=b.buffer;_.push(v),_.length==this.maxBufferSize&&(y=b)}y&&this.onBufferFull(y)},f.prototype._error=function(v){this.contexts.length=0,p.prototype._error.call(this,v)},f.prototype._complete=function(){for(var v=this,h=v.contexts,m=v.destination;h.length>0;){var y=h.shift();m.next(y.buffer)}p.prototype._complete.call(this)},f.prototype._unsubscribe=function(){this.contexts=null},f.prototype.onBufferFull=function(v){this.closeContext(v);var h=v.closeAction;if(h.unsubscribe(),this.remove(h),!this.closed&&this.timespanOnly){v=this.openContext();var m=this.bufferTimeSpan,y={subscriber:this,context:v,bufferTimeSpan:m};this.add(v.closeAction=this.scheduler.schedule(o,m,y))}},f.prototype.openContext=function(){var v=new a;return this.contexts.push(v),v},f.prototype.closeContext=function(v){this.destination.next(v.buffer);var h=this.contexts,m=h?h.indexOf(v):-1;m>=0&&h.splice(h.indexOf(v),1)},f}(n.Subscriber);function o(p){var f=p.subscriber,v=p.context;v&&f.closeContext(v),f.closed||(p.context=f.openContext(),p.context.closeAction=this.schedule(p,p.bufferTimeSpan))}function l(p){var f=p.bufferCreationInterval,v=p.bufferTimeSpan,h=p.subscriber,m=p.scheduler,y=h.openContext(),g=this;h.closed||(h.add(y.closeAction=m.schedule(d,v,{subscriber:h,context:y})),g.schedule(p,f))}function d(p){var f=p.subscriber,v=p.context;f.closeContext(v)}}),kMr=Se(e=>{"use strict";var r=e&&e.__extends||function(){var s=function(o,l){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,p){d.__proto__=p}||function(d,p){for(var f in p)p.hasOwnProperty(f)&&(d[f]=p[f])},s(o,l)};return function(o,l){s(o,l);function d(){this.constructor=o}o.prototype=l===null?Object.create(l):(d.prototype=l.prototype,new d)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=qt(),n=uo(),i=co();function c(s,o){return function(l){return l.lift(new u(s,o))}}e.bufferToggle=c;var u=function(){function s(o,l){this.openings=o,this.closingSelector=l}return s.prototype.call=function(o,l){return l.subscribe(new a(o,this.openings,this.closingSelector))},s}(),a=function(s){r(o,s);function o(l,d,p){var f=s.call(this,l)||this;return f.closingSelector=p,f.contexts=[],f.add(n.subscribeToResult(f,d)),f}return o.prototype._next=function(l){for(var d=this.contexts,p=d.length,f=0;f<p;f++)d[f].buffer.push(l)},o.prototype._error=function(l){for(var d=this.contexts;d.length>0;){var p=d.shift();p.subscription.unsubscribe(),p.buffer=null,p.subscription=null}this.contexts=null,s.prototype._error.call(this,l)},o.prototype._complete=function(){for(var l=this.contexts;l.length>0;){var d=l.shift();this.destination.next(d.buffer),d.subscription.unsubscribe(),d.buffer=null,d.subscription=null}this.contexts=null,s.prototype._complete.call(this)},o.prototype.notifyNext=function(l,d){l?this.closeBuffer(l):this.openBuffer(d)},o.prototype.notifyComplete=function(l){this.closeBuffer(l.context)},o.prototype.openBuffer=function(l){try{var d=this.closingSelector,p=d.call(this,l);p&&this.trySubscribe(p)}catch(f){this._error(f)}},o.prototype.closeBuffer=function(l){var d=this.contexts;if(d&&l){var p=l.buffer,f=l.subscription;this.destination.next(p),d.splice(d.indexOf(l),1),this.remove(f),f.unsubscribe()}},o.prototype.trySubscribe=function(l){var d=this.contexts,p=[],f=new t.Subscription,v={buffer:p,subscription:f};d.push(v);var h=n.subscribeToResult(this,l,v);!h||h.closed?this.closeBuffer(v):(h.context=v,this.add(h),f.add(h))},o}(i.OuterSubscriber)}),jMr=Se(e=>{"use strict";var r=e&&e.__extends||function(){var a=function(s,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,d){l.__proto__=d}||function(l,d){for(var p in d)d.hasOwnProperty(p)&&(l[p]=d[p])},a(s,o)};return function(s,o){a(s,o);function l(){this.constructor=s}s.prototype=o===null?Object.create(o):(l.prototype=o.prototype,new l)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=qt(),n=ft();function i(a){return function(s){return s.lift(new c(a))}}e.bufferWhen=i;var c=function(){function a(s){this.closingSelector=s}return a.prototype.call=function(s,o){return o.subscribe(new u(s,this.closingSelector))},a}(),u=function(a){r(s,a);function s(o,l){var d=a.call(this,o)||this;return d.closingSelector=l,d.subscribing=!1,d.openBuffer(),d}return s.prototype._next=function(o){this.buffer.push(o)},s.prototype._complete=function(){var o=this.buffer;o&&this.destination.next(o),a.prototype._complete.call(this)},s.prototype._unsubscribe=function(){this.buffer=void 0,this.subscribing=!1},s.prototype.notifyNext=function(){this.openBuffer()},s.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},s.prototype.openBuffer=function(){var o=this.closingSubscription;o&&(this.remove(o),o.unsubscribe());var l=this.buffer;this.buffer&&this.destination.next(l),this.buffer=[];var d;try{var p=this.closingSelector;d=p()}catch(f){return this.error(f)}o=new t.Subscription,this.closingSubscription=o,this.add(o),this.subscribing=!0,o.add(n.innerSubscribe(d,new n.SimpleInnerSubscriber(this))),this.subscribing=!1},s}(n.SimpleOuterSubscriber)}),TMr=Se(e=>{"use strict";var r=e&&e.__extends||function(){var u=function(a,s){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var d in l)l.hasOwnProperty(d)&&(o[d]=l[d])},u(a,s)};return function(a,s){u(a,s);function o(){this.constructor=a}a.prototype=s===null?Object.create(s):(o.prototype=s.prototype,new o)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=ft();function n(u){return function(a){var s=new i(u),o=a.lift(s);return s.caught=o}}e.catchError=n;var i=function(){function u(a){this.selector=a}return u.prototype.call=function(a,s){return s.subscribe(new c(a,this.selector,this.caught))},u}(),c=function(u){r(a,u);function a(s,o,l){var d=u.call(this,s)||this;return d.selector=o,d.caught=l,d}return a.prototype.error=function(s){if(!this.isStopped){var o=void 0;try{o=this.selector(s,this.caught)}catch(p){u.prototype.error.call(this,p);return}this._unsubscribeAndRecycle();var l=new t.SimpleInnerSubscriber(this);this.add(l);var d=t.innerSubscribe(o,l);d!==l&&this.add(d)}},a}(t.SimpleOuterSubscriber)}),RMr=Se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Tq();function t(n){return function(i){return i.lift(new r.CombineLatestOperator(n))}}e.combineAll=t}),FMr=Se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Nn(),t=Tq(),n=Pi();function i(){for(var c=[],u=0;u<arguments.length;u++)c[u]=arguments[u];var a=null;return typeof c[c.length-1]=="function"&&(a=c.pop()),c.length===1&&r.isArray(c[0])&&(c=c[0].slice()),function(s){return s.lift.call(n.from([s].concat(c)),new t.CombineLatestOperator(a))}}e.combineLatest=i}),LMr=Se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=VN();function t(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return function(c){return c.lift.call(r.concat.apply(void 0,[c].concat(n)))}}e.concat=t}),Kee=Se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=JN();function t(n,i){return r.mergeMap(n,i,1)}e.concatMap=t}),UMr=Se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Kee();function t(n,i){return r.concatMap(function(){return n},i)}e.concatMapTo=t}),zMr=Se(e=>{"use strict";var r=e&&e.__extends||function(){var u=function(a,s){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var d in l)l.hasOwnProperty(d)&&(o[d]=l[d])},u(a,s)};return function(a,s){u(a,s);function o(){this.constructor=a}a.prototype=s===null?Object.create(s):(o.prototype=s.prototype,new o)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=dr();function n(u){return function(a){return a.lift(new i(u,a))}}e.count=n;var i=function(){function u(a,s){this.predicate=a,this.source=s}return u.prototype.call=function(a,s){return s.subscribe(new c(a,this.predicate,this.source))},u}(),c=function(u){r(a,u);function a(s,o,l){var d=u.call(this,s)||this;return d.predicate=o,d.source=l,d.count=0,d.index=0,d}return a.prototype._next=function(s){this.predicate?this._tryPredicate(s):this.count++},a.prototype._tryPredicate=function(s){var o;try{o=this.predicate(s,this.index++,this.source)}catch(l){this.destination.error(l);return}o&&this.count++},a.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},a}(t.Subscriber)}),JMr=Se(e=>{"use strict";var r=e&&e.__extends||function(){var u=function(a,s){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var d in l)l.hasOwnProperty(d)&&(o[d]=l[d])},u(a,s)};return function(a,s){u(a,s);function o(){this.constructor=a}a.prototype=s===null?Object.create(s):(o.prototype=s.prototype,new o)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=ft();function n(u){return function(a){return a.lift(new i(u))}}e.debounce=n;var i=function(){function u(a){this.durationSelector=a}return u.prototype.call=function(a,s){return s.subscribe(new c(a,this.durationSelector))},u}(),c=function(u){r(a,u);function a(s,o){var l=u.call(this,s)||this;return l.durationSelector=o,l.hasValue=!1,l}return a.prototype._next=function(s){try{var o=this.durationSelector.call(this,s);o&&this._tryNext(s,o)}catch(l){this.destination.error(l)}},a.prototype._complete=function(){this.emitValue(),this.destination.complete()},a.prototype._tryNext=function(s,o){var l=this.durationSubscription;this.value=s,this.hasValue=!0,l&&(l.unsubscribe(),this.remove(l)),l=t.innerSubscribe(o,new t.SimpleInnerSubscriber(this)),l&&!l.closed&&this.add(this.durationSubscription=l)},a.prototype.notifyNext=function(){this.emitValue()},a.prototype.notifyComplete=function(){this.emitValue()},a.prototype.emitValue=function(){if(this.hasValue){var s=this.value,o=this.durationSubscription;o&&(this.durationSubscription=void 0,o.unsubscribe(),this.remove(o)),this.value=void 0,this.hasValue=!1,u.prototype._next.call(this,s)}},a}(t.SimpleOuterSubscriber)}),VMr=Se(e=>{"use strict";var r=e&&e.__extends||function(){var s=function(o,l){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,p){d.__proto__=p}||function(d,p){for(var f in p)p.hasOwnProperty(f)&&(d[f]=p[f])},s(o,l)};return function(o,l){s(o,l);function d(){this.constructor=o}o.prototype=l===null?Object.create(l):(d.prototype=l.prototype,new d)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=dr(),n=Cn();function i(s,o){return o===void 0&&(o=n.async),function(l){return l.lift(new c(s,o))}}e.debounceTime=i;var c=function(){function s(o,l){this.dueTime=o,this.scheduler=l}return s.prototype.call=function(o,l){return l.subscribe(new u(o,this.dueTime,this.scheduler))},s}(),u=function(s){r(o,s);function o(l,d,p){var f=s.call(this,l)||this;return f.dueTime=d,f.scheduler=p,f.debouncedSubscription=null,f.lastValue=null,f.hasValue=!1,f}return o.prototype._next=function(l){this.clearDebounce(),this.lastValue=l,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(a,this.dueTime,this))},o.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},o.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var l=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(l)}},o.prototype.clearDebounce=function(){var l=this.debouncedSubscription;l!==null&&(this.remove(l),l.unsubscribe(),this.debouncedSubscription=null)},o}(t.Subscriber);function a(s){s.debouncedNext()}}),Tl=Se(e=>{"use strict";var r=e&&e.__extends||function(){var u=function(a,s){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var d in l)l.hasOwnProperty(d)&&(o[d]=l[d])},u(a,s)};return function(a,s){u(a,s);function o(){this.constructor=a}a.prototype=s===null?Object.create(s):(o.prototype=s.prototype,new o)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=dr();function n(u){return u===void 0&&(u=null),function(a){return a.lift(new i(u))}}e.defaultIfEmpty=n;var i=function(){function u(a){this.defaultValue=a}return u.prototype.call=function(a,s){return s.subscribe(new c(a,this.defaultValue))},u}(),c=function(u){r(a,u);function a(s,o){var l=u.call(this,s)||this;return l.defaultValue=o,l.isEmpty=!0,l}return a.prototype._next=function(s){this.isEmpty=!1,this.destination.next(s)},a.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},a}(t.Subscriber)}),ere=Se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});function r(t){return t instanceof Date&&!isNaN(+t)}e.isDate=r}),GMr=Se(e=>{"use strict";var r=e&&e.__extends||function(){var l=function(d,p){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,v){f.__proto__=v}||function(f,v){for(var h in v)v.hasOwnProperty(h)&&(f[h]=v[h])},l(d,p)};return function(d,p){l(d,p);function f(){this.constructor=d}d.prototype=p===null?Object.create(p):(f.prototype=p.prototype,new f)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=Cn(),n=ere(),i=dr(),c=LN();function u(l,d){d===void 0&&(d=t.async);var p=n.isDate(l),f=p?+l-d.now():Math.abs(l);return function(v){return v.lift(new a(f,d))}}e.delay=u;var a=function(){function l(d,p){this.delay=d,this.scheduler=p}return l.prototype.call=function(d,p){return p.subscribe(new s(d,this.delay,this.scheduler))},l}(),s=function(l){r(d,l);function d(p,f,v){var h=l.call(this,p)||this;return h.delay=f,h.scheduler=v,h.queue=[],h.active=!1,h.errored=!1,h}return d.dispatch=function(p){for(var f=p.source,v=f.queue,h=p.scheduler,m=p.destination;v.length>0&&v[0].time-h.now()<=0;)v.shift().notification.observe(m);if(v.length>0){var y=Math.max(0,v[0].time-h.now());this.schedule(p,y)}else this.unsubscribe(),f.active=!1},d.prototype._schedule=function(p){this.active=!0;var f=this.destination;f.add(p.schedule(d.dispatch,this.delay,{source:this,destination:this.destination,scheduler:p}))},d.prototype.scheduleNotification=function(p){if(this.errored!==!0){var f=this.scheduler,v=new o(f.now()+this.delay,p);this.queue.push(v),this.active===!1&&this._schedule(f)}},d.prototype._next=function(p){this.scheduleNotification(c.Notification.createNext(p))},d.prototype._error=function(p){this.errored=!0,this.queue=[],this.destination.error(p),this.unsubscribe()},d.prototype._complete=function(){this.scheduleNotification(c.Notification.createComplete()),this.unsubscribe()},d}(i.Subscriber),o=function(){function l(d,p){this.time=d,this.notification=p}return l}()}),HMr=Se(e=>{"use strict";var r=e&&e.__extends||function(){var d=function(p,f){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,h){v.__proto__=h}||function(v,h){for(var m in h)h.hasOwnProperty(m)&&(v[m]=h[m])},d(p,f)};return function(p,f){d(p,f);function v(){this.constructor=p}p.prototype=f===null?Object.create(f):(v.prototype=f.prototype,new v)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=dr(),n=Rr(),i=co(),c=uo();function u(d,p){return p?function(f){return new o(f,p).lift(new a(d))}:function(f){return f.lift(new a(d))}}e.delayWhen=u;var a=function(){function d(p){this.delayDurationSelector=p}return d.prototype.call=function(p,f){return f.subscribe(new s(p,this.delayDurationSelector))},d}(),s=function(d){r(p,d);function p(f,v){var h=d.call(this,f)||this;return h.delayDurationSelector=v,h.completed=!1,h.delayNotifierSubscriptions=[],h.index=0,h}return p.prototype.notifyNext=function(f,v,h,m,y){this.destination.next(f),this.removeSubscription(y),this.tryComplete()},p.prototype.notifyError=function(f,v){this._error(f)},p.prototype.notifyComplete=function(f){var v=this.removeSubscription(f);v&&this.destination.next(v),this.tryComplete()},p.prototype._next=function(f){var v=this.index++;try{var h=this.delayDurationSelector(f,v);h&&this.tryDelay(h,f)}catch(m){this.destination.error(m)}},p.prototype._complete=function(){this.completed=!0,this.tryComplete(),this.unsubscribe()},p.prototype.removeSubscription=function(f){f.unsubscribe();var v=this.delayNotifierSubscriptions.indexOf(f);return v!==-1&&this.delayNotifierSubscriptions.splice(v,1),f.outerValue},p.prototype.tryDelay=function(f,v){var h=c.subscribeToResult(this,f,v);if(h&&!h.closed){var m=this.destination;m.add(h),this.delayNotifierSubscriptions.push(h)}},p.prototype.tryComplete=function(){this.completed&&this.delayNotifierSubscriptions.length===0&&this.destination.complete()},p}(i.OuterSubscriber),o=function(d){r(p,d);function p(f,v){var h=d.call(this)||this;return h.source=f,h.subscriptionDelay=v,h}return p.prototype._subscribe=function(f){this.subscriptionDelay.subscribe(new l(f,this.source))},p}(n.Observable),l=function(d){r(p,d);function p(f,v){var h=d.call(this)||this;return h.parent=f,h.source=v,h.sourceSubscribed=!1,h}return p.prototype._next=function(f){this.subscribeToSource()},p.prototype._error=function(f){this.unsubscribe(),this.parent.error(f)},p.prototype._complete=function(){this.unsubscribe(),this.subscribeToSource()},p.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},p}(t.Subscriber)}),WMr=Se(e=>{"use strict";var r=e&&e.__extends||function(){var u=function(a,s){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var d in l)l.hasOwnProperty(d)&&(o[d]=l[d])},u(a,s)};return function(a,s){u(a,s);function o(){this.constructor=a}a.prototype=s===null?Object.create(s):(o.prototype=s.prototype,new o)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=dr();function n(){return function(u){return u.lift(new i)}}e.dematerialize=n;var i=function(){function u(){}return u.prototype.call=function(a,s){return s.subscribe(new c(a))},u}(),c=function(u){r(a,u);function a(s){return u.call(this,s)||this}return a.prototype._next=function(s){s.observe(this.destination)},a}(t.Subscriber)}),$Mr=Se(e=>{"use strict";var r=e&&e.__extends||function(){var u=function(a,s){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var d in l)l.hasOwnProperty(d)&&(o[d]=l[d])},u(a,s)};return function(a,s){u(a,s);function o(){this.constructor=a}a.prototype=s===null?Object.create(s):(o.prototype=s.prototype,new o)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=ft();function n(u,a){return function(s){return s.lift(new i(u,a))}}e.distinct=n;var i=function(){function u(a,s){this.keySelector=a,this.flushes=s}return u.prototype.call=function(a,s){return s.subscribe(new c(a,this.keySelector,this.flushes))},u}(),c=function(u){r(a,u);function a(s,o,l){var d=u.call(this,s)||this;return d.keySelector=o,d.values=new Set,l&&d.add(t.innerSubscribe(l,new t.SimpleInnerSubscriber(d))),d}return a.prototype.notifyNext=function(){this.values.clear()},a.prototype.notifyError=function(s){this._error(s)},a.prototype._next=function(s){this.keySelector?this._useKeySelector(s):this._finalizeNext(s,s)},a.prototype._useKeySelector=function(s){var o,l=this.destination;try{o=this.keySelector(s)}catch(d){l.error(d);return}this._finalizeNext(o,s)},a.prototype._finalizeNext=function(s,o){var l=this.values;l.has(s)||(l.add(s),this.destination.next(o))},a}(t.SimpleOuterSubscriber);e.DistinctSubscriber=c}),rre=Se(e=>{"use strict";var r=e&&e.__extends||function(){var u=function(a,s){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var d in l)l.hasOwnProperty(d)&&(o[d]=l[d])},u(a,s)};return function(a,s){u(a,s);function o(){this.constructor=a}a.prototype=s===null?Object.create(s):(o.prototype=s.prototype,new o)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=dr();function n(u,a){return function(s){return s.lift(new i(u,a))}}e.distinctUntilChanged=n;var i=function(){function u(a,s){this.compare=a,this.keySelector=s}return u.prototype.call=function(a,s){return s.subscribe(new c(a,this.compare,this.keySelector))},u}(),c=function(u){r(a,u);function a(s,o,l){var d=u.call(this,s)||this;return d.keySelector=l,d.hasKey=!1,typeof o=="function"&&(d.compare=o),d}return a.prototype.compare=function(s,o){return s===o},a.prototype._next=function(s){var o;try{var l=this.keySelector;o=l?l(s):s}catch(f){return this.destination.error(f)}var d=!1;if(this.hasKey)try{var p=this.compare;d=p(this.key,o)}catch(f){return this.destination.error(f)}else this.hasKey=!0;d||(this.key=o,this.destination.next(s))},a}(t.Subscriber)}),QMr=Se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=rre();function t(n,i){return r.distinctUntilChanged(function(c,u){return i?i(c[n],u[n]):c[n]===u[n]})}e.distinctUntilKeyChanged=t}),WN=Se(e=>{"use strict";var r=e&&e.__extends||function(){var s=function(o,l){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,p){d.__proto__=p}||function(d,p){for(var f in p)p.hasOwnProperty(f)&&(d[f]=p[f])},s(o,l)};return function(o,l){s(o,l);function d(){this.constructor=o}o.prototype=l===null?Object.create(l):(d.prototype=l.prototype,new d)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=kl(),n=dr();function i(s){return s===void 0&&(s=a),function(o){return o.lift(new c(s))}}e.throwIfEmpty=i;var c=function(){function s(o){this.errorFactory=o}return s.prototype.call=function(o,l){return l.subscribe(new u(o,this.errorFactory))},s}(),u=function(s){r(o,s);function o(l,d){var p=s.call(this,l)||this;return p.errorFactory=d,p.hasValue=!1,p}return o.prototype._next=function(l){this.hasValue=!0,this.destination.next(l)},o.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var l=void 0;try{l=this.errorFactory()}catch(d){l=d}this.destination.error(l)},o}(n.Subscriber);function a(){return new t.EmptyError}}),Uq=Se(e=>{"use strict";var r=e&&e.__extends||function(){var s=function(o,l){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,p){d.__proto__=p}||function(d,p){for(var f in p)p.hasOwnProperty(f)&&(d[f]=p[f])},s(o,l)};return function(o,l){s(o,l);function d(){this.constructor=o}o.prototype=l===null?Object.create(l):(d.prototype=l.prototype,new d)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=dr(),n=Bl(),i=Ci();function c(s){return function(o){return s===0?i.empty():o.lift(new u(s))}}e.take=c;var u=function(){function s(o){if(this.total=o,this.total<0)throw new n.ArgumentOutOfRangeError}return s.prototype.call=function(o,l){return l.subscribe(new a(o,this.total))},s}(),a=function(s){r(o,s);function o(l,d){var p=s.call(this,l)||this;return p.total=d,p.count=0,p}return o.prototype._next=function(l){var d=this.total,p=++this.count;p<=d&&(this.destination.next(l),p===d&&(this.destination.complete(),this.unsubscribe()))},o}(t.Subscriber)}),YMr=Se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Bl(),t=Jc(),n=WN(),i=Tl(),c=Uq();function u(a,s){if(a<0)throw new r.ArgumentOutOfRangeError;var o=arguments.length>=2;return function(l){return l.pipe(t.filter(function(d,p){return p===a}),c.take(1),o?i.defaultIfEmpty(s):n.throwIfEmpty(function(){return new r.ArgumentOutOfRangeError}))}}e.elementAt=u}),ZMr=Se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=VN(),t=FN();function n(){for(var i=[],c=0;c<arguments.length;c++)i[c]=arguments[c];return function(u){return r.concat(u,t.of.apply(void 0,i))}}e.endWith=n}),XMr=Se(e=>{"use strict";var r=e&&e.__extends||function(){var u=function(a,s){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var d in l)l.hasOwnProperty(d)&&(o[d]=l[d])},u(a,s)};return function(a,s){u(a,s);function o(){this.constructor=a}a.prototype=s===null?Object.create(s):(o.prototype=s.prototype,new o)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=dr();function n(u,a){return function(s){return s.lift(new i(u,a,s))}}e.every=n;var i=function(){function u(a,s,o){this.predicate=a,this.thisArg=s,this.source=o}return u.prototype.call=function(a,s){return s.subscribe(new c(a,this.predicate,this.thisArg,this.source))},u}(),c=function(u){r(a,u);function a(s,o,l,d){var p=u.call(this,s)||this;return p.predicate=o,p.thisArg=l,p.source=d,p.index=0,p.thisArg=l||p,p}return a.prototype.notifyComplete=function(s){this.destination.next(s),this.destination.complete()},a.prototype._next=function(s){var o=!1;try{o=this.predicate.call(this.thisArg,s,this.index++,this.source)}catch(l){this.destination.error(l);return}o||this.notifyComplete(!1)},a.prototype._complete=function(){this.notifyComplete(!0)},a}(t.Subscriber)}),KMr=Se(e=>{"use strict";var r=e&&e.__extends||function(){var u=function(a,s){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var d in l)l.hasOwnProperty(d)&&(o[d]=l[d])},u(a,s)};return function(a,s){u(a,s);function o(){this.constructor=a}a.prototype=s===null?Object.create(s):(o.prototype=s.prototype,new o)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=ft();function n(){return function(u){return u.lift(new i)}}e.exhaust=n;var i=function(){function u(){}return u.prototype.call=function(a,s){return s.subscribe(new c(a))},u}(),c=function(u){r(a,u);function a(s){var o=u.call(this,s)||this;return o.hasCompleted=!1,o.hasSubscription=!1,o}return a.prototype._next=function(s){this.hasSubscription||(this.hasSubscription=!0,this.add(t.innerSubscribe(s,new t.SimpleInnerSubscriber(this))))},a.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},a.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},a}(t.SimpleOuterSubscriber)}),ePr=Se(e=>{"use strict";var r=e&&e.__extends||function(){var s=function(o,l){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,p){d.__proto__=p}||function(d,p){for(var f in p)p.hasOwnProperty(f)&&(d[f]=p[f])},s(o,l)};return function(o,l){s(o,l);function d(){this.constructor=o}o.prototype=l===null?Object.create(l):(d.prototype=l.prototype,new d)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=Gn(),n=Pi(),i=ft();function c(s,o){return o?function(l){return l.pipe(c(function(d,p){return n.from(s(d,p)).pipe(t.map(function(f,v){return o(d,f,p,v)}))}))}:function(l){return l.lift(new u(s))}}e.exhaustMap=c;var u=function(){function s(o){this.project=o}return s.prototype.call=function(o,l){return l.subscribe(new a(o,this.project))},s}(),a=function(s){r(o,s);function o(l,d){var p=s.call(this,l)||this;return p.project=d,p.hasSubscription=!1,p.hasCompleted=!1,p.index=0,p}return o.prototype._next=function(l){this.hasSubscription||this.tryNext(l)},o.prototype.tryNext=function(l){var d,p=this.index++;try{d=this.project(l,p)}catch(f){this.destination.error(f);return}this.hasSubscription=!0,this._innerSub(d)},o.prototype._innerSub=function(l){var d=new i.SimpleInnerSubscriber(this),p=this.destination;p.add(d);var f=i.innerSubscribe(l,d);f!==d&&p.add(f)},o.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()},o.prototype.notifyNext=function(l){this.destination.next(l)},o.prototype.notifyError=function(l){this.destination.error(l)},o.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},o}(i.SimpleOuterSubscriber)}),rPr=Se(e=>{"use strict";var r=e&&e.__extends||function(){var u=function(a,s){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var d in l)l.hasOwnProperty(d)&&(o[d]=l[d])},u(a,s)};return function(a,s){u(a,s);function o(){this.constructor=a}a.prototype=s===null?Object.create(s):(o.prototype=s.prototype,new o)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=ft();function n(u,a,s){return a===void 0&&(a=Number.POSITIVE_INFINITY),a=(a||0)<1?Number.POSITIVE_INFINITY:a,function(o){return o.lift(new i(u,a,s))}}e.expand=n;var i=function(){function u(a,s,o){this.project=a,this.concurrent=s,this.scheduler=o}return u.prototype.call=function(a,s){return s.subscribe(new c(a,this.project,this.concurrent,this.scheduler))},u}();e.ExpandOperator=i;var c=function(u){r(a,u);function a(s,o,l,d){var p=u.call(this,s)||this;return p.project=o,p.concurrent=l,p.scheduler=d,p.index=0,p.active=0,p.hasCompleted=!1,l<Number.POSITIVE_INFINITY&&(p.buffer=[]),p}return a.dispatch=function(s){var o=s.subscriber,l=s.result,d=s.value,p=s.index;o.subscribeToProjection(l,d,p)},a.prototype._next=function(s){var o=this.destination;if(o.closed){this._complete();return}var l=this.index++;if(this.active<this.concurrent){o.next(s);try{var d=this.project,p=d(s,l);if(!this.scheduler)this.subscribeToProjection(p,s,l);else{var f={subscriber:this,result:p,value:s,index:l},v=this.destination;v.add(this.scheduler.schedule(a.dispatch,0,f))}}catch(h){o.error(h)}}else this.buffer.push(s)},a.prototype.subscribeToProjection=function(s,o,l){this.active++;var d=this.destination;d.add(t.innerSubscribe(s,new t.SimpleInnerSubscriber(this)))},a.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&this.active===0&&this.destination.complete(),this.unsubscribe()},a.prototype.notifyNext=function(s){this._next(s)},a.prototype.notifyComplete=function(){var s=this.buffer;this.active--,s&&s.length>0&&this._next(s.shift()),this.hasCompleted&&this.active===0&&this.destination.complete()},a}(t.SimpleOuterSubscriber);e.ExpandSubscriber=c}),tPr=Se(e=>{"use strict";var r=e&&e.__extends||function(){var a=function(s,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,d){l.__proto__=d}||function(l,d){for(var p in d)d.hasOwnProperty(p)&&(l[p]=d[p])},a(s,o)};return function(s,o){a(s,o);function l(){this.constructor=s}s.prototype=o===null?Object.create(o):(l.prototype=o.prototype,new l)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=dr(),n=qt();function i(a){return function(s){return s.lift(new c(a))}}e.finalize=i;var c=function(){function a(s){this.callback=s}return a.prototype.call=function(s,o){return o.subscribe(new u(s,this.callback))},a}(),u=function(a){r(s,a);function s(o,l){var d=a.call(this,o)||this;return d.add(new n.Subscription(l)),d}return s}(t.Subscriber)}),tre=Se(e=>{"use strict";var r=e&&e.__extends||function(){var u=function(a,s){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var d in l)l.hasOwnProperty(d)&&(o[d]=l[d])},u(a,s)};return function(a,s){u(a,s);function o(){this.constructor=a}a.prototype=s===null?Object.create(s):(o.prototype=s.prototype,new o)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=dr();function n(u,a){if(typeof u!="function")throw new TypeError("predicate is not a function");return function(s){return s.lift(new i(u,s,!1,a))}}e.find=n;var i=function(){function u(a,s,o,l){this.predicate=a,this.source=s,this.yieldIndex=o,this.thisArg=l}return u.prototype.call=function(a,s){return s.subscribe(new c(a,this.predicate,this.source,this.yieldIndex,this.thisArg))},u}();e.FindValueOperator=i;var c=function(u){r(a,u);function a(s,o,l,d,p){var f=u.call(this,s)||this;return f.predicate=o,f.source=l,f.yieldIndex=d,f.thisArg=p,f.index=0,f}return a.prototype.notifyComplete=function(s){var o=this.destination;o.next(s),o.complete(),this.unsubscribe()},a.prototype._next=function(s){var o=this,l=o.predicate,d=o.thisArg,p=this.index++;try{var f=l.call(d||this,s,p,this.source);f&&this.notifyComplete(this.yieldIndex?p:s)}catch(v){this.destination.error(v)}},a.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},a}(t.Subscriber);e.FindValueSubscriber=c}),nPr=Se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=tre();function t(n,i){return function(c){return c.lift(new r.FindValueOperator(n,c,!0,i))}}e.findIndex=t}),iPr=Se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=kl(),t=Jc(),n=Uq(),i=Tl(),c=WN(),u=oo();function a(s,o){var l=arguments.length>=2;return function(d){return d.pipe(s?t.filter(function(p,f){return s(p,f,d)}):u.identity,n.take(1),l?i.defaultIfEmpty(o):c.throwIfEmpty(function(){return new r.EmptyError}))}}e.first=a}),aPr=Se(e=>{"use strict";var r=e&&e.__extends||function(){var u=function(a,s){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var d in l)l.hasOwnProperty(d)&&(o[d]=l[d])},u(a,s)};return function(a,s){u(a,s);function o(){this.constructor=a}a.prototype=s===null?Object.create(s):(o.prototype=s.prototype,new o)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=dr();function n(){return function(u){return u.lift(new i)}}e.ignoreElements=n;var i=function(){function u(){}return u.prototype.call=function(a,s){return s.subscribe(new c(a))},u}(),c=function(u){r(a,u);function a(){return u!==null&&u.apply(this,arguments)||this}return a.prototype._next=function(s){},a}(t.Subscriber)}),sPr=Se(e=>{"use strict";var r=e&&e.__extends||function(){var u=function(a,s){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var d in l)l.hasOwnProperty(d)&&(o[d]=l[d])},u(a,s)};return function(a,s){u(a,s);function o(){this.constructor=a}a.prototype=s===null?Object.create(s):(o.prototype=s.prototype,new o)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=dr();function n(){return function(u){return u.lift(new i)}}e.isEmpty=n;var i=function(){function u(){}return u.prototype.call=function(a,s){return s.subscribe(new c(a))},u}(),c=function(u){r(a,u);function a(s){return u.call(this,s)||this}return a.prototype.notifyComplete=function(s){var o=this.destination;o.next(s),o.complete()},a.prototype._next=function(s){this.notifyComplete(!1)},a.prototype._complete=function(){this.notifyComplete(!0)},a}(t.Subscriber)}),zq=Se(e=>{"use strict";var r=e&&e.__extends||function(){var s=function(o,l){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,p){d.__proto__=p}||function(d,p){for(var f in p)p.hasOwnProperty(f)&&(d[f]=p[f])},s(o,l)};return function(o,l){s(o,l);function d(){this.constructor=o}o.prototype=l===null?Object.create(l):(d.prototype=l.prototype,new d)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=dr(),n=Bl(),i=Ci();function c(s){return function(o){return s===0?i.empty():o.lift(new u(s))}}e.takeLast=c;var u=function(){function s(o){if(this.total=o,this.total<0)throw new n.ArgumentOutOfRangeError}return s.prototype.call=function(o,l){return l.subscribe(new a(o,this.total))},s}(),a=function(s){r(o,s);function o(l,d){var p=s.call(this,l)||this;return p.total=d,p.ring=new Array,p.count=0,p}return o.prototype._next=function(l){var d=this.ring,p=this.total,f=this.count++;if(d.length<p)d.push(l);else{var v=f%p;d[v]=l}},o.prototype._complete=function(){var l=this.destination,d=this.count;if(d>0)for(var p=this.count>=this.total?this.total:this.count,f=this.ring,v=0;v<p;v++){var h=d++%p;l.next(f[h])}l.complete()},o}(t.Subscriber)}),oPr=Se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=kl(),t=Jc(),n=zq(),i=WN(),c=Tl(),u=oo();function a(s,o){var l=arguments.length>=2;return function(d){return d.pipe(s?t.filter(function(p,f){return s(p,f,d)}):u.identity,n.takeLast(1),l?c.defaultIfEmpty(o):i.throwIfEmpty(function(){return new r.EmptyError}))}}e.last=a}),cPr=Se(e=>{"use strict";var r=e&&e.__extends||function(){var u=function(a,s){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var d in l)l.hasOwnProperty(d)&&(o[d]=l[d])},u(a,s)};return function(a,s){u(a,s);function o(){this.constructor=a}a.prototype=s===null?Object.create(s):(o.prototype=s.prototype,new o)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=dr();function n(u){return function(a){return a.lift(new i(u))}}e.mapTo=n;var i=function(){function u(a){this.value=a}return u.prototype.call=function(a,s){return s.subscribe(new c(a,this.value))},u}(),c=function(u){r(a,u);function a(s,o){var l=u.call(this,s)||this;return l.value=o,l}return a.prototype._next=function(s){this.destination.next(this.value)},a}(t.Subscriber)}),uPr=Se(e=>{"use strict";var r=e&&e.__extends||function(){var a=function(s,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,d){l.__proto__=d}||function(l,d){for(var p in d)d.hasOwnProperty(p)&&(l[p]=d[p])},a(s,o)};return function(s,o){a(s,o);function l(){this.constructor=s}s.prototype=o===null?Object.create(o):(l.prototype=o.prototype,new l)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=dr(),n=LN();function i(){return function(a){return a.lift(new c)}}e.materialize=i;var c=function(){function a(){}return a.prototype.call=function(s,o){return o.subscribe(new u(s))},a}(),u=function(a){r(s,a);function s(o){return a.call(this,o)||this}return s.prototype._next=function(o){this.destination.next(n.Notification.createNext(o))},s.prototype._error=function(o){var l=this.destination;l.next(n.Notification.createError(o)),l.complete()},s.prototype._complete=function(){var o=this.destination;o.next(n.Notification.createComplete()),o.complete()},s}(t.Subscriber)}),Jq=Se(e=>{"use strict";var r=e&&e.__extends||function(){var u=function(a,s){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var d in l)l.hasOwnProperty(d)&&(o[d]=l[d])},u(a,s)};return function(a,s){u(a,s);function o(){this.constructor=a}a.prototype=s===null?Object.create(s):(o.prototype=s.prototype,new o)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=dr();function n(u,a){var s=!1;return arguments.length>=2&&(s=!0),function(o){return o.lift(new i(u,a,s))}}e.scan=n;var i=function(){function u(a,s,o){o===void 0&&(o=!1),this.accumulator=a,this.seed=s,this.hasSeed=o}return u.prototype.call=function(a,s){return s.subscribe(new c(a,this.accumulator,this.seed,this.hasSeed))},u}(),c=function(u){r(a,u);function a(s,o,l,d){var p=u.call(this,s)||this;return p.accumulator=o,p._seed=l,p.hasSeed=d,p.index=0,p}return Object.defineProperty(a.prototype,"seed",{get:function(){return this._seed},set:function(s){this.hasSeed=!0,this._seed=s},enumerable:!0,configurable:!0}),a.prototype._next=function(s){if(!this.hasSeed)this.seed=s,this.destination.next(s);else return this._tryNext(s)},a.prototype._tryNext=function(s){var o=this.index++,l;try{l=this.accumulator(this.seed,s,o)}catch(d){this.destination.error(d)}this.seed=l,this.destination.next(l)},a}(t.Subscriber)}),$N=Se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Jq(),t=zq(),n=Tl(),i=Eq();function c(u,a){return arguments.length>=2?function(s){return i.pipe(r.scan(u,a),t.takeLast(1),n.defaultIfEmpty(a))(s)}:function(s){return i.pipe(r.scan(function(o,l,d){return u(o,l,d+1)}),t.takeLast(1))(s)}}e.reduce=c}),lPr=Se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=$N();function t(n){var i=typeof n=="function"?function(c,u){return n(c,u)>0?c:u}:function(c,u){return c>u?c:u};return r.reduce(i)}e.max=t}),dPr=Se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=$ee();function t(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return function(c){return c.lift.call(r.merge.apply(void 0,[c].concat(n)))}}e.merge=t}),pPr=Se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=JN();function t(n,i,c){return c===void 0&&(c=Number.POSITIVE_INFINITY),typeof i=="function"?r.mergeMap(function(){return n},i,c):(typeof i=="number"&&(c=i),r.mergeMap(function(){return n},c))}e.mergeMapTo=t}),fPr=Se(e=>{"use strict";var r=e&&e.__extends||function(){var u=function(a,s){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var d in l)l.hasOwnProperty(d)&&(o[d]=l[d])},u(a,s)};return function(a,s){u(a,s);function o(){this.constructor=a}a.prototype=s===null?Object.create(s):(o.prototype=s.prototype,new o)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=ft();function n(u,a,s){return s===void 0&&(s=Number.POSITIVE_INFINITY),function(o){return o.lift(new i(u,a,s))}}e.mergeScan=n;var i=function(){function u(a,s,o){this.accumulator=a,this.seed=s,this.concurrent=o}return u.prototype.call=function(a,s){return s.subscribe(new c(a,this.accumulator,this.seed,this.concurrent))},u}();e.MergeScanOperator=i;var c=function(u){r(a,u);function a(s,o,l,d){var p=u.call(this,s)||this;return p.accumulator=o,p.acc=l,p.concurrent=d,p.hasValue=!1,p.hasCompleted=!1,p.buffer=[],p.active=0,p.index=0,p}return a.prototype._next=function(s){if(this.active<this.concurrent){var o=this.index++,l=this.destination,d=void 0;try{var p=this.accumulator;d=p(this.acc,s,o)}catch(f){return l.error(f)}this.active++,this._innerSub(d)}else this.buffer.push(s)},a.prototype._innerSub=function(s){var o=new t.SimpleInnerSubscriber(this),l=this.destination;l.add(o);var d=t.innerSubscribe(s,o);d!==o&&l.add(d)},a.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete()),this.unsubscribe()},a.prototype.notifyNext=function(s){var o=this.destination;this.acc=s,this.hasValue=!0,o.next(s)},a.prototype.notifyComplete=function(){var s=this.buffer;this.active--,s.length>0?this._next(s.shift()):this.active===0&&this.hasCompleted&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete())},a}(t.SimpleOuterSubscriber);e.MergeScanSubscriber=c}),hPr=Se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=$N();function t(n){var i=typeof n=="function"?function(c,u){return n(c,u)<0?c:u}:function(c,u){return c<u?c:u};return r.reduce(i)}e.min=t}),Vc=Se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=kee();function t(i,c){return function(u){var a;if(typeof i=="function"?a=i:a=function(){return i},typeof c=="function")return u.lift(new n(a,c));var s=Object.create(u,r.connectableObservableDescriptor);return s.source=u,s.subjectFactory=a,s}}e.multicast=t;var n=function(){function i(c,u){this.subjectFactory=c,this.selector=u}return i.prototype.call=function(c,u){var a=this.selector,s=this.subjectFactory(),o=a(s).subscribe(c);return o.add(u.subscribe(s)),o},i}();e.MulticastOperator=n}),vPr=Se(e=>{"use strict";var r=e&&e.__extends||function(){var o=function(l,d){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,f){p.__proto__=f}||function(p,f){for(var v in f)f.hasOwnProperty(v)&&(p[v]=f[v])},o(l,d)};return function(l,d){o(l,d);function p(){this.constructor=l}l.prototype=d===null?Object.create(d):(p.prototype=d.prototype,new p)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=Pi(),n=Nn(),i=ft();function c(){for(var o=[],l=0;l<arguments.length;l++)o[l]=arguments[l];return o.length===1&&n.isArray(o[0])&&(o=o[0]),function(d){return d.lift(new a(o))}}e.onErrorResumeNext=c;function u(){for(var o=[],l=0;l<arguments.length;l++)o[l]=arguments[l];var d=void 0;return o.length===1&&n.isArray(o[0])&&(o=o[0]),d=o.shift(),t.from(d).lift(new a(o))}e.onErrorResumeNextStatic=u;var a=function(){function o(l){this.nextSources=l}return o.prototype.call=function(l,d){return d.subscribe(new s(l,this.nextSources))},o}(),s=function(o){r(l,o);function l(d,p){var f=o.call(this,d)||this;return f.destination=d,f.nextSources=p,f}return l.prototype.notifyError=function(){this.subscribeToNextSource()},l.prototype.notifyComplete=function(){this.subscribeToNextSource()},l.prototype._error=function(d){this.subscribeToNextSource(),this.unsubscribe()},l.prototype._complete=function(){this.subscribeToNextSource(),this.unsubscribe()},l.prototype.subscribeToNextSource=function(){var d=this.nextSources.shift();if(d){var p=new i.SimpleInnerSubscriber(this),f=this.destination;f.add(p);var v=i.innerSubscribe(d,p);v!==p&&f.add(v)}else this.destination.complete()},l}(i.SimpleOuterSubscriber)}),mPr=Se(e=>{"use strict";var r=e&&e.__extends||function(){var u=function(a,s){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var d in l)l.hasOwnProperty(d)&&(o[d]=l[d])},u(a,s)};return function(a,s){u(a,s);function o(){this.constructor=a}a.prototype=s===null?Object.create(s):(o.prototype=s.prototype,new o)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=dr();function n(){return function(u){return u.lift(new i)}}e.pairwise=n;var i=function(){function u(){}return u.prototype.call=function(a,s){return s.subscribe(new c(a))},u}(),c=function(u){r(a,u);function a(s){var o=u.call(this,s)||this;return o.hasPrev=!1,o}return a.prototype._next=function(s){var o;this.hasPrev?o=[this.prev,s]:this.hasPrev=!0,this.prev=s,o&&this.destination.next(o)},a}(t.Subscriber)}),yPr=Se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Qee(),t=Jc();function n(i,c){return function(u){return[t.filter(i,c)(u),t.filter(r.not(i,c))(u)]}}e.partition=n}),gPr=Se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Gn();function t(){for(var i=[],c=0;c<arguments.length;c++)i[c]=arguments[c];var u=i.length;if(u===0)throw new Error("list of properties cannot be empty.");return function(a){return r.map(n(i,u))(a)}}e.pluck=t;function n(i,c){var u=function(a){for(var s=a,o=0;o<c;o++){var l=s?.[i[o]];if(l!==void 0)s=l;else return}return s};return u}}),bPr=Se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=mn(),t=Vc();function n(i){return i?t.multicast(function(){return new r.Subject},i):t.multicast(new r.Subject)}e.publish=n}),_Pr=Se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Tee(),t=Vc();function n(i){return function(c){return t.multicast(new r.BehaviorSubject(i))(c)}}e.publishBehavior=n}),wPr=Se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=UN(),t=Vc();function n(){return function(i){return t.multicast(new r.AsyncSubject)(i)}}e.publishLast=n}),SPr=Se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=kq(),t=Vc();function n(i,c,u,a){u&&typeof u!="function"&&(a=u);var s=typeof u=="function"?u:void 0,o=new r.ReplaySubject(i,c,a);return function(l){return t.multicast(function(){return o},s)(l)}}e.publishReplay=n}),xPr=Se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Nn(),t=Yee();function n(){for(var i=[],c=0;c<arguments.length;c++)i[c]=arguments[c];return function(u){return i.length===1&&r.isArray(i[0])&&(i=i[0]),u.lift.call(t.race.apply(void 0,[u].concat(i)))}}e.race=n}),OPr=Se(e=>{"use strict";var r=e&&e.__extends||function(){var a=function(s,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,d){l.__proto__=d}||function(l,d){for(var p in d)d.hasOwnProperty(p)&&(l[p]=d[p])},a(s,o)};return function(s,o){a(s,o);function l(){this.constructor=s}s.prototype=o===null?Object.create(o):(l.prototype=o.prototype,new l)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=dr(),n=Ci();function i(a){return a===void 0&&(a=-1),function(s){return a===0?n.empty():a<0?s.lift(new c(-1,s)):s.lift(new c(a-1,s))}}e.repeat=i;var c=function(){function a(s,o){this.count=s,this.source=o}return a.prototype.call=function(s,o){return o.subscribe(new u(s,this.count,this.source))},a}(),u=function(a){r(s,a);function s(o,l,d){var p=a.call(this,o)||this;return p.count=l,p.source=d,p}return s.prototype.complete=function(){if(!this.isStopped){var o=this,l=o.source,d=o.count;if(d===0)return a.prototype.complete.call(this);d>-1&&(this.count=d-1),l.subscribe(this._unsubscribeAndRecycle())}},s}(t.Subscriber)}),DPr=Se(e=>{"use strict";var r=e&&e.__extends||function(){var a=function(s,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,d){l.__proto__=d}||function(l,d){for(var p in d)d.hasOwnProperty(p)&&(l[p]=d[p])},a(s,o)};return function(s,o){a(s,o);function l(){this.constructor=s}s.prototype=o===null?Object.create(o):(l.prototype=o.prototype,new l)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=mn(),n=ft();function i(a){return function(s){return s.lift(new c(a))}}e.repeatWhen=i;var c=function(){function a(s){this.notifier=s}return a.prototype.call=function(s,o){return o.subscribe(new u(s,this.notifier,o))},a}(),u=function(a){r(s,a);function s(o,l,d){var p=a.call(this,o)||this;return p.notifier=l,p.source=d,p.sourceIsBeingSubscribedTo=!0,p}return s.prototype.notifyNext=function(){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)},s.prototype.notifyComplete=function(){if(this.sourceIsBeingSubscribedTo===!1)return a.prototype.complete.call(this)},s.prototype.complete=function(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return a.prototype.complete.call(this);this._unsubscribeAndRecycle(),this.notifications.next(void 0)}},s.prototype._unsubscribe=function(){var o=this,l=o.notifications,d=o.retriesSubscription;l&&(l.unsubscribe(),this.notifications=void 0),d&&(d.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},s.prototype._unsubscribeAndRecycle=function(){var o=this._unsubscribe;return this._unsubscribe=null,a.prototype._unsubscribeAndRecycle.call(this),this._unsubscribe=o,this},s.prototype.subscribeToRetries=function(){this.notifications=new t.Subject;var o;try{var l=this.notifier;o=l(this.notifications)}catch{return a.prototype.complete.call(this)}this.retries=o,this.retriesSubscription=n.innerSubscribe(o,new n.SimpleInnerSubscriber(this))},s}(n.SimpleOuterSubscriber)}),NPr=Se(e=>{"use strict";var r=e&&e.__extends||function(){var u=function(a,s){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var d in l)l.hasOwnProperty(d)&&(o[d]=l[d])},u(a,s)};return function(a,s){u(a,s);function o(){this.constructor=a}a.prototype=s===null?Object.create(s):(o.prototype=s.prototype,new o)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=dr();function n(u){return u===void 0&&(u=-1),function(a){return a.lift(new i(u,a))}}e.retry=n;var i=function(){function u(a,s){this.count=a,this.source=s}return u.prototype.call=function(a,s){return s.subscribe(new c(a,this.count,this.source))},u}(),c=function(u){r(a,u);function a(s,o,l){var d=u.call(this,s)||this;return d.count=o,d.source=l,d}return a.prototype.error=function(s){if(!this.isStopped){var o=this,l=o.source,d=o.count;if(d===0)return u.prototype.error.call(this,s);d>-1&&(this.count=d-1),l.subscribe(this._unsubscribeAndRecycle())}},a}(t.Subscriber)}),CPr=Se(e=>{"use strict";var r=e&&e.__extends||function(){var a=function(s,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,d){l.__proto__=d}||function(l,d){for(var p in d)d.hasOwnProperty(p)&&(l[p]=d[p])},a(s,o)};return function(s,o){a(s,o);function l(){this.constructor=s}s.prototype=o===null?Object.create(o):(l.prototype=o.prototype,new l)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=mn(),n=ft();function i(a){return function(s){return s.lift(new c(a,s))}}e.retryWhen=i;var c=function(){function a(s,o){this.notifier=s,this.source=o}return a.prototype.call=function(s,o){return o.subscribe(new u(s,this.notifier,this.source))},a}(),u=function(a){r(s,a);function s(o,l,d){var p=a.call(this,o)||this;return p.notifier=l,p.source=d,p}return s.prototype.error=function(o){if(!this.isStopped){var l=this.errors,d=this.retries,p=this.retriesSubscription;if(d)this.errors=void 0,this.retriesSubscription=void 0;else{l=new t.Subject;try{var f=this.notifier;d=f(l)}catch(v){return a.prototype.error.call(this,v)}p=n.innerSubscribe(d,new n.SimpleInnerSubscriber(this))}this._unsubscribeAndRecycle(),this.errors=l,this.retries=d,this.retriesSubscription=p,l.next(o)}},s.prototype._unsubscribe=function(){var o=this,l=o.errors,d=o.retriesSubscription;l&&(l.unsubscribe(),this.errors=void 0),d&&(d.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},s.prototype.notifyNext=function(){var o=this._unsubscribe;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=o,this.source.subscribe(this)},s}(n.SimpleOuterSubscriber)}),APr=Se(e=>{"use strict";var r=e&&e.__extends||function(){var u=function(a,s){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var d in l)l.hasOwnProperty(d)&&(o[d]=l[d])},u(a,s)};return function(a,s){u(a,s);function o(){this.constructor=a}a.prototype=s===null?Object.create(s):(o.prototype=s.prototype,new o)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=ft();function n(u){return function(a){return a.lift(new i(u))}}e.sample=n;var i=function(){function u(a){this.notifier=a}return u.prototype.call=function(a,s){var o=new c(a),l=s.subscribe(o);return l.add(t.innerSubscribe(this.notifier,new t.SimpleInnerSubscriber(o))),l},u}(),c=function(u){r(a,u);function a(){var s=u!==null&&u.apply(this,arguments)||this;return s.hasValue=!1,s}return a.prototype._next=function(s){this.value=s,this.hasValue=!0},a.prototype.notifyNext=function(){this.emitValue()},a.prototype.notifyComplete=function(){this.emitValue()},a.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},a}(t.SimpleOuterSubscriber)}),MPr=Se(e=>{"use strict";var r=e&&e.__extends||function(){var s=function(o,l){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,p){d.__proto__=p}||function(d,p){for(var f in p)p.hasOwnProperty(f)&&(d[f]=p[f])},s(o,l)};return function(o,l){s(o,l);function d(){this.constructor=o}o.prototype=l===null?Object.create(l):(d.prototype=l.prototype,new d)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=dr(),n=Cn();function i(s,o){return o===void 0&&(o=n.async),function(l){return l.lift(new c(s,o))}}e.sampleTime=i;var c=function(){function s(o,l){this.period=o,this.scheduler=l}return s.prototype.call=function(o,l){return l.subscribe(new u(o,this.period,this.scheduler))},s}(),u=function(s){r(o,s);function o(l,d,p){var f=s.call(this,l)||this;return f.period=d,f.scheduler=p,f.hasValue=!1,f.add(p.schedule(a,d,{subscriber:f,period:d})),f}return o.prototype._next=function(l){this.lastValue=l,this.hasValue=!0},o.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},o}(t.Subscriber);function a(s){var o=s.subscriber,l=s.period;o.notifyNext(),this.schedule(s,l)}}),PPr=Se(e=>{"use strict";var r=e&&e.__extends||function(){var a=function(s,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,d){l.__proto__=d}||function(l,d){for(var p in d)d.hasOwnProperty(p)&&(l[p]=d[p])},a(s,o)};return function(s,o){a(s,o);function l(){this.constructor=s}s.prototype=o===null?Object.create(o):(l.prototype=o.prototype,new l)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=dr();function n(a,s){return function(o){return o.lift(new i(a,s))}}e.sequenceEqual=n;var i=function(){function a(s,o){this.compareTo=s,this.comparator=o}return a.prototype.call=function(s,o){return o.subscribe(new c(s,this.compareTo,this.comparator))},a}();e.SequenceEqualOperator=i;var c=function(a){r(s,a);function s(o,l,d){var p=a.call(this,o)||this;return p.compareTo=l,p.comparator=d,p._a=[],p._b=[],p._oneComplete=!1,p.destination.add(l.subscribe(new u(o,p))),p}return s.prototype._next=function(o){this._oneComplete&&this._b.length===0?this.emit(!1):(this._a.push(o),this.checkValues())},s.prototype._complete=function(){this._oneComplete?this.emit(this._a.length===0&&this._b.length===0):this._oneComplete=!0,this.unsubscribe()},s.prototype.checkValues=function(){for(var o=this,l=o._a,d=o._b,p=o.comparator;l.length>0&&d.length>0;){var f=l.shift(),v=d.shift(),h=!1;try{h=p?p(f,v):f===v}catch(m){this.destination.error(m)}h||this.emit(!1)}},s.prototype.emit=function(o){var l=this.destination;l.next(o),l.complete()},s.prototype.nextB=function(o){this._oneComplete&&this._a.length===0?this.emit(!1):(this._b.push(o),this.checkValues())},s.prototype.completeB=function(){this._oneComplete?this.emit(this._a.length===0&&this._b.length===0):this._oneComplete=!0},s}(t.Subscriber);e.SequenceEqualSubscriber=c;var u=function(a){r(s,a);function s(o,l){var d=a.call(this,o)||this;return d.parent=l,d}return s.prototype._next=function(o){this.parent.nextB(o)},s.prototype._error=function(o){this.parent.error(o),this.unsubscribe()},s.prototype._complete=function(){this.parent.completeB(),this.unsubscribe()},s}(t.Subscriber)}),EPr=Se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Vc(),t=qq(),n=mn();function i(){return new n.Subject}function c(){return function(u){return t.refCount()(r.multicast(i)(u))}}e.share=c}),qPr=Se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=kq();function t(i,c,u){var a;return i&&typeof i=="object"?a=i:a={bufferSize:i,windowTime:c,refCount:!1,scheduler:u},function(s){return s.lift(n(a))}}e.shareReplay=t;function n(i){var c=i.bufferSize,u=c===void 0?Number.POSITIVE_INFINITY:c,a=i.windowTime,s=a===void 0?Number.POSITIVE_INFINITY:a,o=i.refCount,l=i.scheduler,d,p=0,f,v=!1,h=!1;return function(m){p++;var y;!d||v?(v=!1,d=new r.ReplaySubject(u,s,l),y=d.subscribe(this),f=m.subscribe({next:function(g){d.next(g)},error:function(g){v=!0,d.error(g)},complete:function(){h=!0,f=void 0,d.complete()}}),h&&(f=void 0)):y=d.subscribe(this),this.add(function(){p--,y.unsubscribe(),y=void 0,f&&!h&&o&&p===0&&(f.unsubscribe(),f=void 0,d=void 0)})}}}),IPr=Se(e=>{"use strict";var r=e&&e.__extends||function(){var a=function(s,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,d){l.__proto__=d}||function(l,d){for(var p in d)d.hasOwnProperty(p)&&(l[p]=d[p])},a(s,o)};return function(s,o){a(s,o);function l(){this.constructor=s}s.prototype=o===null?Object.create(o):(l.prototype=o.prototype,new l)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=dr(),n=kl();function i(a){return function(s){return s.lift(new c(a,s))}}e.single=i;var c=function(){function a(s,o){this.predicate=s,this.source=o}return a.prototype.call=function(s,o){return o.subscribe(new u(s,this.predicate,this.source))},a}(),u=function(a){r(s,a);function s(o,l,d){var p=a.call(this,o)||this;return p.predicate=l,p.source=d,p.seenValue=!1,p.index=0,p}return s.prototype.applySingleValue=function(o){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=o)},s.prototype._next=function(o){var l=this.index++;this.predicate?this.tryNext(o,l):this.applySingleValue(o)},s.prototype.tryNext=function(o,l){try{this.predicate(o,l,this.source)&&this.applySingleValue(o)}catch(d){this.destination.error(d)}},s.prototype._complete=function(){var o=this.destination;this.index>0?(o.next(this.seenValue?this.singleValue:void 0),o.complete()):o.error(new n.EmptyError)},s}(t.Subscriber)}),BPr=Se(e=>{"use strict";var r=e&&e.__extends||function(){var u=function(a,s){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var d in l)l.hasOwnProperty(d)&&(o[d]=l[d])},u(a,s)};return function(a,s){u(a,s);function o(){this.constructor=a}a.prototype=s===null?Object.create(s):(o.prototype=s.prototype,new o)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=dr();function n(u){return function(a){return a.lift(new i(u))}}e.skip=n;var i=function(){function u(a){this.total=a}return u.prototype.call=function(a,s){return s.subscribe(new c(a,this.total))},u}(),c=function(u){r(a,u);function a(s,o){var l=u.call(this,s)||this;return l.total=o,l.count=0,l}return a.prototype._next=function(s){++this.count>this.total&&this.destination.next(s)},a}(t.Subscriber)}),kPr=Se(e=>{"use strict";var r=e&&e.__extends||function(){var a=function(s,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,d){l.__proto__=d}||function(l,d){for(var p in d)d.hasOwnProperty(p)&&(l[p]=d[p])},a(s,o)};return function(s,o){a(s,o);function l(){this.constructor=s}s.prototype=o===null?Object.create(o):(l.prototype=o.prototype,new l)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=dr(),n=Bl();function i(a){return function(s){return s.lift(new c(a))}}e.skipLast=i;var c=function(){function a(s){if(this._skipCount=s,this._skipCount<0)throw new n.ArgumentOutOfRangeError}return a.prototype.call=function(s,o){return this._skipCount===0?o.subscribe(new t.Subscriber(s)):o.subscribe(new u(s,this._skipCount))},a}(),u=function(a){r(s,a);function s(o,l){var d=a.call(this,o)||this;return d._skipCount=l,d._count=0,d._ring=new Array(l),d}return s.prototype._next=function(o){var l=this._skipCount,d=this._count++;if(d<l)this._ring[d]=o;else{var p=d%l,f=this._ring,v=f[p];f[p]=o,this.destination.next(v)}},s}(t.Subscriber)}),jPr=Se(e=>{"use strict";var r=e&&e.__extends||function(){var u=function(a,s){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var d in l)l.hasOwnProperty(d)&&(o[d]=l[d])},u(a,s)};return function(a,s){u(a,s);function o(){this.constructor=a}a.prototype=s===null?Object.create(s):(o.prototype=s.prototype,new o)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=ft();function n(u){return function(a){return a.lift(new i(u))}}e.skipUntil=n;var i=function(){function u(a){this.notifier=a}return u.prototype.call=function(a,s){return s.subscribe(new c(a,this.notifier))},u}(),c=function(u){r(a,u);function a(s,o){var l=u.call(this,s)||this;l.hasValue=!1;var d=new t.SimpleInnerSubscriber(l);l.add(d),l.innerSubscription=d;var p=t.innerSubscribe(o,d);return p!==d&&(l.add(p),l.innerSubscription=p),l}return a.prototype._next=function(s){this.hasValue&&u.prototype._next.call(this,s)},a.prototype.notifyNext=function(){this.hasValue=!0,this.innerSubscription&&this.innerSubscription.unsubscribe()},a.prototype.notifyComplete=function(){},a}(t.SimpleOuterSubscriber)}),TPr=Se(e=>{"use strict";var r=e&&e.__extends||function(){var u=function(a,s){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var d in l)l.hasOwnProperty(d)&&(o[d]=l[d])},u(a,s)};return function(a,s){u(a,s);function o(){this.constructor=a}a.prototype=s===null?Object.create(s):(o.prototype=s.prototype,new o)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=dr();function n(u){return function(a){return a.lift(new i(u))}}e.skipWhile=n;var i=function(){function u(a){this.predicate=a}return u.prototype.call=function(a,s){return s.subscribe(new c(a,this.predicate))},u}(),c=function(u){r(a,u);function a(s,o){var l=u.call(this,s)||this;return l.predicate=o,l.skipping=!0,l.index=0,l}return a.prototype._next=function(s){var o=this.destination;this.skipping&&this.tryCallPredicate(s),this.skipping||o.next(s)},a.prototype.tryCallPredicate=function(s){try{var o=this.predicate(s,this.index++);this.skipping=Boolean(o)}catch(l){this.destination.error(l)}},a}(t.Subscriber)}),RPr=Se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=VN(),t=Mi();function n(){for(var i=[],c=0;c<arguments.length;c++)i[c]=arguments[c];var u=i[i.length-1];return t.isScheduler(u)?(i.pop(),function(a){return r.concat(i,a,u)}):function(a){return r.concat(i,a)}}e.startWith=n}),FPr=Se(e=>{"use strict";var r=e&&e.__extends||function(){var u=function(a,s){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var d in l)l.hasOwnProperty(d)&&(o[d]=l[d])},u(a,s)};return function(a,s){u(a,s);function o(){this.constructor=a}a.prototype=s===null?Object.create(s):(o.prototype=s.prototype,new o)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=Rr(),n=zee(),i=GN(),c=function(u){r(a,u);function a(s,o,l){o===void 0&&(o=0),l===void 0&&(l=n.asap);var d=u.call(this)||this;return d.source=s,d.delayTime=o,d.scheduler=l,(!i.isNumeric(o)||o<0)&&(d.delayTime=0),(!l||typeof l.schedule!="function")&&(d.scheduler=n.asap),d}return a.create=function(s,o,l){return o===void 0&&(o=0),l===void 0&&(l=n.asap),new a(s,o,l)},a.dispatch=function(s){var o=s.source,l=s.subscriber;return this.add(o.subscribe(l))},a.prototype._subscribe=function(s){var o=this.delayTime,l=this.source,d=this.scheduler;return d.schedule(a.dispatch,o,{source:l,subscriber:s})},a}(t.Observable);e.SubscribeOnObservable=c}),LPr=Se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=FPr();function t(i,c){return c===void 0&&(c=0),function(u){return u.lift(new n(i,c))}}e.subscribeOn=t;var n=function(){function i(c,u){this.scheduler=c,this.delay=u}return i.prototype.call=function(c,u){return new r.SubscribeOnObservable(u,this.delay,this.scheduler).subscribe(c)},i}()}),Vq=Se(e=>{"use strict";var r=e&&e.__extends||function(){var s=function(o,l){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,p){d.__proto__=p}||function(d,p){for(var f in p)p.hasOwnProperty(f)&&(d[f]=p[f])},s(o,l)};return function(o,l){s(o,l);function d(){this.constructor=o}o.prototype=l===null?Object.create(l):(d.prototype=l.prototype,new d)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=Gn(),n=Pi(),i=ft();function c(s,o){return typeof o=="function"?function(l){return l.pipe(c(function(d,p){return n.from(s(d,p)).pipe(t.map(function(f,v){return o(d,f,p,v)}))}))}:function(l){return l.lift(new u(s))}}e.switchMap=c;var u=function(){function s(o){this.project=o}return s.prototype.call=function(o,l){return l.subscribe(new a(o,this.project))},s}(),a=function(s){r(o,s);function o(l,d){var p=s.call(this,l)||this;return p.project=d,p.index=0,p}return o.prototype._next=function(l){var d,p=this.index++;try{d=this.project(l,p)}catch(f){this.destination.error(f);return}this._innerSub(d)},o.prototype._innerSub=function(l){var d=this.innerSubscription;d&&d.unsubscribe();var p=new i.SimpleInnerSubscriber(this),f=this.destination;f.add(p),this.innerSubscription=i.innerSubscribe(l,p),this.innerSubscription!==p&&f.add(this.innerSubscription)},o.prototype._complete=function(){var l=this.innerSubscription;(!l||l.closed)&&s.prototype._complete.call(this),this.unsubscribe()},o.prototype._unsubscribe=function(){this.innerSubscription=void 0},o.prototype.notifyComplete=function(){this.innerSubscription=void 0,this.isStopped&&s.prototype._complete.call(this)},o.prototype.notifyNext=function(l){this.destination.next(l)},o}(i.SimpleOuterSubscriber)}),UPr=Se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Vq(),t=oo();function n(){return r.switchMap(t.identity)}e.switchAll=n}),zPr=Se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Vq();function t(n,i){return i?r.switchMap(function(){return n},i):r.switchMap(function(){return n})}e.switchMapTo=t}),JPr=Se(e=>{"use strict";var r=e&&e.__extends||function(){var u=function(a,s){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var d in l)l.hasOwnProperty(d)&&(o[d]=l[d])},u(a,s)};return function(a,s){u(a,s);function o(){this.constructor=a}a.prototype=s===null?Object.create(s):(o.prototype=s.prototype,new o)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=ft();function n(u){return function(a){return a.lift(new i(u))}}e.takeUntil=n;var i=function(){function u(a){this.notifier=a}return u.prototype.call=function(a,s){var o=new c(a),l=t.innerSubscribe(this.notifier,new t.SimpleInnerSubscriber(o));return l&&!o.seenValue?(o.add(l),s.subscribe(o)):o},u}(),c=function(u){r(a,u);function a(s){var o=u.call(this,s)||this;return o.seenValue=!1,o}return a.prototype.notifyNext=function(){this.seenValue=!0,this.complete()},a.prototype.notifyComplete=function(){},a}(t.SimpleOuterSubscriber)}),VPr=Se(e=>{"use strict";var r=e&&e.__extends||function(){var u=function(a,s){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var d in l)l.hasOwnProperty(d)&&(o[d]=l[d])},u(a,s)};return function(a,s){u(a,s);function o(){this.constructor=a}a.prototype=s===null?Object.create(s):(o.prototype=s.prototype,new o)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=dr();function n(u,a){return a===void 0&&(a=!1),function(s){return s.lift(new i(u,a))}}e.takeWhile=n;var i=function(){function u(a,s){this.predicate=a,this.inclusive=s}return u.prototype.call=function(a,s){return s.subscribe(new c(a,this.predicate,this.inclusive))},u}(),c=function(u){r(a,u);function a(s,o,l){var d=u.call(this,s)||this;return d.predicate=o,d.inclusive=l,d.index=0,d}return a.prototype._next=function(s){var o=this.destination,l;try{l=this.predicate(s,this.index++)}catch(d){o.error(d);return}this.nextOrComplete(s,l)},a.prototype.nextOrComplete=function(s,o){var l=this.destination;Boolean(o)?l.next(s):(this.inclusive&&l.next(s),l.complete())},a}(t.Subscriber)}),GPr=Se(e=>{"use strict";var r=e&&e.__extends||function(){var s=function(o,l){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,p){d.__proto__=p}||function(d,p){for(var f in p)p.hasOwnProperty(f)&&(d[f]=p[f])},s(o,l)};return function(o,l){s(o,l);function d(){this.constructor=o}o.prototype=l===null?Object.create(l):(d.prototype=l.prototype,new d)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=dr(),n=jq(),i=Pl();function c(s,o,l){return function(d){return d.lift(new u(s,o,l))}}e.tap=c;var u=function(){function s(o,l,d){this.nextOrObserver=o,this.error=l,this.complete=d}return s.prototype.call=function(o,l){return l.subscribe(new a(o,this.nextOrObserver,this.error,this.complete))},s}(),a=function(s){r(o,s);function o(l,d,p,f){var v=s.call(this,l)||this;return v._tapNext=n.noop,v._tapError=n.noop,v._tapComplete=n.noop,v._tapError=p||n.noop,v._tapComplete=f||n.noop,i.isFunction(d)?(v._context=v,v._tapNext=d):d&&(v._context=d,v._tapNext=d.next||n.noop,v._tapError=d.error||n.noop,v._tapComplete=d.complete||n.noop),v}return o.prototype._next=function(l){try{this._tapNext.call(this._context,l)}catch(d){this.destination.error(d);return}this.destination.next(l)},o.prototype._error=function(l){try{this._tapError.call(this._context,l)}catch(d){this.destination.error(d);return}this.destination.error(l)},o.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(l){this.destination.error(l);return}return this.destination.complete()},o}(t.Subscriber)}),nre=Se(e=>{"use strict";var r=e&&e.__extends||function(){var u=function(a,s){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var d in l)l.hasOwnProperty(d)&&(o[d]=l[d])},u(a,s)};return function(a,s){u(a,s);function o(){this.constructor=a}a.prototype=s===null?Object.create(s):(o.prototype=s.prototype,new o)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=ft();e.defaultThrottleConfig={leading:!0,trailing:!1};function n(u,a){return a===void 0&&(a=e.defaultThrottleConfig),function(s){return s.lift(new i(u,!!a.leading,!!a.trailing))}}e.throttle=n;var i=function(){function u(a,s,o){this.durationSelector=a,this.leading=s,this.trailing=o}return u.prototype.call=function(a,s){return s.subscribe(new c(a,this.durationSelector,this.leading,this.trailing))},u}(),c=function(u){r(a,u);function a(s,o,l,d){var p=u.call(this,s)||this;return p.destination=s,p.durationSelector=o,p._leading=l,p._trailing=d,p._hasValue=!1,p}return a.prototype._next=function(s){this._hasValue=!0,this._sendValue=s,this._throttled||(this._leading?this.send():this.throttle(s))},a.prototype.send=function(){var s=this,o=s._hasValue,l=s._sendValue;o&&(this.destination.next(l),this.throttle(l)),this._hasValue=!1,this._sendValue=void 0},a.prototype.throttle=function(s){var o=this.tryDurationSelector(s);o&&this.add(this._throttled=t.innerSubscribe(o,new t.SimpleInnerSubscriber(this)))},a.prototype.tryDurationSelector=function(s){try{return this.durationSelector(s)}catch(o){return this.destination.error(o),null}},a.prototype.throttlingDone=function(){var s=this,o=s._throttled,l=s._trailing;o&&o.unsubscribe(),this._throttled=void 0,l&&this.send()},a.prototype.notifyNext=function(){this.throttlingDone()},a.prototype.notifyComplete=function(){this.throttlingDone()},a}(t.SimpleOuterSubscriber)}),HPr=Se(e=>{"use strict";var r=e&&e.__extends||function(){var o=function(l,d){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,f){p.__proto__=f}||function(p,f){for(var v in f)f.hasOwnProperty(v)&&(p[v]=f[v])},o(l,d)};return function(l,d){o(l,d);function p(){this.constructor=l}l.prototype=d===null?Object.create(d):(p.prototype=d.prototype,new p)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=dr(),n=Cn(),i=nre();function c(o,l,d){return l===void 0&&(l=n.async),d===void 0&&(d=i.defaultThrottleConfig),function(p){return p.lift(new u(o,l,d.leading,d.trailing))}}e.throttleTime=c;var u=function(){function o(l,d,p,f){this.duration=l,this.scheduler=d,this.leading=p,this.trailing=f}return o.prototype.call=function(l,d){return d.subscribe(new a(l,this.duration,this.scheduler,this.leading,this.trailing))},o}(),a=function(o){r(l,o);function l(d,p,f,v,h){var m=o.call(this,d)||this;return m.duration=p,m.scheduler=f,m.leading=v,m.trailing=h,m._hasTrailingValue=!1,m._trailingValue=null,m}return l.prototype._next=function(d){this.throttled?this.trailing&&(this._trailingValue=d,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(s,this.duration,{subscriber:this})),this.leading?this.destination.next(d):this.trailing&&(this._trailingValue=d,this._hasTrailingValue=!0))},l.prototype._complete=function(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()},l.prototype.clearThrottle=function(){var d=this.throttled;d&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),d.unsubscribe(),this.remove(d),this.throttled=null)},l}(t.Subscriber);function s(o){var l=o.subscriber;l.clearThrottle()}}),WPr=Se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Cn(),t=Jq(),n=Fq(),i=Gn();function c(a){return a===void 0&&(a=r.async),function(s){return n.defer(function(){return s.pipe(t.scan(function(o,l){var d=o.current;return{value:l,current:a.now(),last:d}},{current:a.now(),value:void 0,last:void 0}),i.map(function(o){var l=o.current,d=o.last,p=o.value;return new u(p,l-d)}))})}}e.timeInterval=c;var u=function(){function a(s,o){this.value=s,this.interval=o}return a}();e.TimeInterval=u}),ire=Se(e=>{"use strict";var r=e&&e.__extends||function(){var s=function(o,l){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,p){d.__proto__=p}||function(d,p){for(var f in p)p.hasOwnProperty(f)&&(d[f]=p[f])},s(o,l)};return function(o,l){s(o,l);function d(){this.constructor=o}o.prototype=l===null?Object.create(l):(d.prototype=l.prototype,new d)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=Cn(),n=ere(),i=ft();function c(s,o,l){return l===void 0&&(l=t.async),function(d){var p=n.isDate(s),f=p?+s-l.now():Math.abs(s);return d.lift(new u(f,p,o,l))}}e.timeoutWith=c;var u=function(){function s(o,l,d,p){this.waitFor=o,this.absoluteTimeout=l,this.withObservable=d,this.scheduler=p}return s.prototype.call=function(o,l){return l.subscribe(new a(o,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},s}(),a=function(s){r(o,s);function o(l,d,p,f,v){var h=s.call(this,l)||this;return h.absoluteTimeout=d,h.waitFor=p,h.withObservable=f,h.scheduler=v,h.scheduleTimeout(),h}return o.dispatchTimeout=function(l){var d=l.withObservable;l._unsubscribeAndRecycle(),l.add(i.innerSubscribe(d,new i.SimpleInnerSubscriber(l)))},o.prototype.scheduleTimeout=function(){var l=this.action;l?this.action=l.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(o.dispatchTimeout,this.waitFor,this))},o.prototype._next=function(l){this.absoluteTimeout||this.scheduleTimeout(),s.prototype._next.call(this,l)},o.prototype._unsubscribe=function(){this.action=void 0,this.scheduler=null,this.withObservable=null},o}(i.SimpleOuterSubscriber)}),$Pr=Se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Cn(),t=Jee(),n=ire(),i=Bq();function c(u,a){return a===void 0&&(a=r.async),n.timeoutWith(u,i.throwError(new t.TimeoutError),a)}e.timeout=c}),QPr=Se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Cn(),t=Gn();function n(c){return c===void 0&&(c=r.async),t.map(function(u){return new i(u,c.now())})}e.timestamp=n;var i=function(){function c(u,a){this.value=u,this.timestamp=a}return c}();e.Timestamp=i}),YPr=Se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=$N();function t(i,c,u){return u===0?[c]:(i.push(c),i)}function n(){return r.reduce(t,[])}e.toArray=n}),ZPr=Se(e=>{"use strict";var r=e&&e.__extends||function(){var a=function(s,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,d){l.__proto__=d}||function(l,d){for(var p in d)d.hasOwnProperty(p)&&(l[p]=d[p])},a(s,o)};return function(s,o){a(s,o);function l(){this.constructor=s}s.prototype=o===null?Object.create(o):(l.prototype=o.prototype,new l)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=mn(),n=ft();function i(a){return function(s){return s.lift(new c(a))}}e.window=i;var c=function(){function a(s){this.windowBoundaries=s}return a.prototype.call=function(s,o){var l=new u(s),d=o.subscribe(l);return d.closed||l.add(n.innerSubscribe(this.windowBoundaries,new n.SimpleInnerSubscriber(l))),d},a}(),u=function(a){r(s,a);function s(o){var l=a.call(this,o)||this;return l.window=new t.Subject,o.next(l.window),l}return s.prototype.notifyNext=function(){this.openWindow()},s.prototype.notifyError=function(o){this._error(o)},s.prototype.notifyComplete=function(){this._complete()},s.prototype._next=function(o){this.window.next(o)},s.prototype._error=function(o){this.window.error(o),this.destination.error(o)},s.prototype._complete=function(){this.window.complete(),this.destination.complete()},s.prototype._unsubscribe=function(){this.window=null},s.prototype.openWindow=function(){var o=this.window;o&&o.complete();var l=this.destination,d=this.window=new t.Subject;l.next(d)},s}(n.SimpleOuterSubscriber)}),XPr=Se(e=>{"use strict";var r=e&&e.__extends||function(){var a=function(s,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,d){l.__proto__=d}||function(l,d){for(var p in d)d.hasOwnProperty(p)&&(l[p]=d[p])},a(s,o)};return function(s,o){a(s,o);function l(){this.constructor=s}s.prototype=o===null?Object.create(o):(l.prototype=o.prototype,new l)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=dr(),n=mn();function i(a,s){return s===void 0&&(s=0),function(o){return o.lift(new c(a,s))}}e.windowCount=i;var c=function(){function a(s,o){this.windowSize=s,this.startWindowEvery=o}return a.prototype.call=function(s,o){return o.subscribe(new u(s,this.windowSize,this.startWindowEvery))},a}(),u=function(a){r(s,a);function s(o,l,d){var p=a.call(this,o)||this;return p.destination=o,p.windowSize=l,p.startWindowEvery=d,p.windows=[new n.Subject],p.count=0,o.next(p.windows[0]),p}return s.prototype._next=function(o){for(var l=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,d=this.destination,p=this.windowSize,f=this.windows,v=f.length,h=0;h<v&&!this.closed;h++)f[h].next(o);var m=this.count-p+1;if(m>=0&&m%l===0&&!this.closed&&f.shift().complete(),++this.count%l===0&&!this.closed){var y=new n.Subject;f.push(y),d.next(y)}},s.prototype._error=function(o){var l=this.windows;if(l)for(;l.length>0&&!this.closed;)l.shift().error(o);this.destination.error(o)},s.prototype._complete=function(){var o=this.windows;if(o)for(;o.length>0&&!this.closed;)o.shift().complete();this.destination.complete()},s.prototype._unsubscribe=function(){this.count=0,this.windows=null},s}(t.Subscriber)}),KPr=Se(e=>{"use strict";var r=e&&e.__extends||function(){var v=function(h,m){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,g){y.__proto__=g}||function(y,g){for(var b in g)g.hasOwnProperty(b)&&(y[b]=g[b])},v(h,m)};return function(h,m){v(h,m);function y(){this.constructor=h}h.prototype=m===null?Object.create(m):(y.prototype=m.prototype,new y)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=mn(),n=Cn(),i=dr(),c=GN(),u=Mi();function a(v){var h=n.async,m=null,y=Number.POSITIVE_INFINITY;return u.isScheduler(arguments[3])&&(h=arguments[3]),u.isScheduler(arguments[2])?h=arguments[2]:c.isNumeric(arguments[2])&&(y=Number(arguments[2])),u.isScheduler(arguments[1])?h=arguments[1]:c.isNumeric(arguments[1])&&(m=Number(arguments[1])),function(g){return g.lift(new s(v,m,y,h))}}e.windowTime=a;var s=function(){function v(h,m,y,g){this.windowTimeSpan=h,this.windowCreationInterval=m,this.maxWindowSize=y,this.scheduler=g}return v.prototype.call=function(h,m){return m.subscribe(new l(h,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))},v}(),o=function(v){r(h,v);function h(){var m=v!==null&&v.apply(this,arguments)||this;return m._numberOfNextedValues=0,m}return h.prototype.next=function(m){this._numberOfNextedValues++,v.prototype.next.call(this,m)},Object.defineProperty(h.prototype,"numberOfNextedValues",{get:function(){return this._numberOfNextedValues},enumerable:!0,configurable:!0}),h}(t.Subject),l=function(v){r(h,v);function h(m,y,g,b,_){var S=v.call(this,m)||this;S.destination=m,S.windowTimeSpan=y,S.windowCreationInterval=g,S.maxWindowSize=b,S.scheduler=_,S.windows=[];var w=S.openWindow();if(g!==null&&g>=0){var O={subscriber:S,window:w,context:null},x={windowTimeSpan:y,windowCreationInterval:g,subscriber:S,scheduler:_};S.add(_.schedule(f,y,O)),S.add(_.schedule(p,g,x))}else{var N={subscriber:S,window:w,windowTimeSpan:y};S.add(_.schedule(d,y,N))}return S}return h.prototype._next=function(m){for(var y=this.windows,g=y.length,b=0;b<g;b++){var _=y[b];_.closed||(_.next(m),_.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(_))}},h.prototype._error=function(m){for(var y=this.windows;y.length>0;)y.shift().error(m);this.destination.error(m)},h.prototype._complete=function(){for(var m=this.windows;m.length>0;){var y=m.shift();y.closed||y.complete()}this.destination.complete()},h.prototype.openWindow=function(){var m=new o;this.windows.push(m);var y=this.destination;return y.next(m),m},h.prototype.closeWindow=function(m){m.complete();var y=this.windows;y.splice(y.indexOf(m),1)},h}(i.Subscriber);function d(v){var h=v.subscriber,m=v.windowTimeSpan,y=v.window;y&&h.closeWindow(y),v.window=h.openWindow(),this.schedule(v,m)}function p(v){var h=v.windowTimeSpan,m=v.subscriber,y=v.scheduler,g=v.windowCreationInterval,b=m.openWindow(),_=this,S={action:_,subscription:null},w={subscriber:m,window:b,context:S};S.subscription=y.schedule(f,h,w),_.add(S.subscription),_.schedule(v,g)}function f(v){var h=v.subscriber,m=v.window,y=v.context;y&&y.action&&y.subscription&&y.action.remove(y.subscription),h.closeWindow(m)}}),eEr=Se(e=>{"use strict";var r=e&&e.__extends||function(){var o=function(l,d){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,f){p.__proto__=f}||function(p,f){for(var v in f)f.hasOwnProperty(v)&&(p[v]=f[v])},o(l,d)};return function(l,d){o(l,d);function p(){this.constructor=l}l.prototype=d===null?Object.create(d):(p.prototype=d.prototype,new p)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=mn(),n=qt(),i=co(),c=uo();function u(o,l){return function(d){return d.lift(new a(o,l))}}e.windowToggle=u;var a=function(){function o(l,d){this.openings=l,this.closingSelector=d}return o.prototype.call=function(l,d){return d.subscribe(new s(l,this.openings,this.closingSelector))},o}(),s=function(o){r(l,o);function l(d,p,f){var v=o.call(this,d)||this;return v.openings=p,v.closingSelector=f,v.contexts=[],v.add(v.openSubscription=c.subscribeToResult(v,p,p)),v}return l.prototype._next=function(d){var p=this.contexts;if(p)for(var f=p.length,v=0;v<f;v++)p[v].window.next(d)},l.prototype._error=function(d){var p=this.contexts;if(this.contexts=null,p)for(var f=p.length,v=-1;++v<f;){var h=p[v];h.window.error(d),h.subscription.unsubscribe()}o.prototype._error.call(this,d)},l.prototype._complete=function(){var d=this.contexts;if(this.contexts=null,d)for(var p=d.length,f=-1;++f<p;){var v=d[f];v.window.complete(),v.subscription.unsubscribe()}o.prototype._complete.call(this)},l.prototype._unsubscribe=function(){var d=this.contexts;if(this.contexts=null,d)for(var p=d.length,f=-1;++f<p;){var v=d[f];v.window.unsubscribe(),v.subscription.unsubscribe()}},l.prototype.notifyNext=function(d,p,f,v,h){if(d===this.openings){var m=void 0;try{var y=this.closingSelector;m=y(p)}catch(w){return this.error(w)}var g=new t.Subject,b=new n.Subscription,_={window:g,subscription:b};this.contexts.push(_);var S=c.subscribeToResult(this,m,_);S.closed?this.closeWindow(this.contexts.length-1):(S.context=_,b.add(S)),this.destination.next(g)}else this.closeWindow(this.contexts.indexOf(d))},l.prototype.notifyError=function(d){this.error(d)},l.prototype.notifyComplete=function(d){d!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(d.context))},l.prototype.closeWindow=function(d){if(d!==-1){var p=this.contexts,f=p[d],v=f.window,h=f.subscription;p.splice(d,1),v.complete(),h.unsubscribe()}},l}(i.OuterSubscriber)}),rEr=Se(e=>{"use strict";var r=e&&e.__extends||function(){var s=function(o,l){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,p){d.__proto__=p}||function(d,p){for(var f in p)p.hasOwnProperty(f)&&(d[f]=p[f])},s(o,l)};return function(o,l){s(o,l);function d(){this.constructor=o}o.prototype=l===null?Object.create(l):(d.prototype=l.prototype,new d)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=mn(),n=co(),i=uo();function c(s){return function(o){return o.lift(new u(s))}}e.windowWhen=c;var u=function(){function s(o){this.closingSelector=o}return s.prototype.call=function(o,l){return l.subscribe(new a(o,this.closingSelector))},s}(),a=function(s){r(o,s);function o(l,d){var p=s.call(this,l)||this;return p.destination=l,p.closingSelector=d,p.openWindow(),p}return o.prototype.notifyNext=function(l,d,p,f,v){this.openWindow(v)},o.prototype.notifyError=function(l){this._error(l)},o.prototype.notifyComplete=function(l){this.openWindow(l)},o.prototype._next=function(l){this.window.next(l)},o.prototype._error=function(l){this.window.error(l),this.destination.error(l),this.unsubscribeClosingNotification()},o.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},o.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},o.prototype.openWindow=function(l){l===void 0&&(l=null),l&&(this.remove(l),l.unsubscribe());var d=this.window;d&&d.complete();var p=this.window=new t.Subject;this.destination.next(p);var f;try{var v=this.closingSelector;f=v()}catch(h){this.destination.error(h),this.window.error(h);return}this.add(this.closingNotification=i.subscribeToResult(this,f))},o}(n.OuterSubscriber)}),tEr=Se(e=>{"use strict";var r=e&&e.__extends||function(){var a=function(s,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,d){l.__proto__=d}||function(l,d){for(var p in d)d.hasOwnProperty(p)&&(l[p]=d[p])},a(s,o)};return function(s,o){a(s,o);function l(){this.constructor=s}s.prototype=o===null?Object.create(o):(l.prototype=o.prototype,new l)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=co(),n=uo();function i(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];return function(o){var l;typeof a[a.length-1]=="function"&&(l=a.pop());var d=a;return o.lift(new c(d,l))}}e.withLatestFrom=i;var c=function(){function a(s,o){this.observables=s,this.project=o}return a.prototype.call=function(s,o){return o.subscribe(new u(s,this.observables,this.project))},a}(),u=function(a){r(s,a);function s(o,l,d){var p=a.call(this,o)||this;p.observables=l,p.project=d,p.toRespond=[];var f=l.length;p.values=new Array(f);for(var v=0;v<f;v++)p.toRespond.push(v);for(var v=0;v<f;v++){var h=l[v];p.add(n.subscribeToResult(p,h,void 0,v))}return p}return s.prototype.notifyNext=function(o,l,d){this.values[d]=l;var p=this.toRespond;if(p.length>0){var f=p.indexOf(d);f!==-1&&p.splice(f,1)}},s.prototype.notifyComplete=function(){},s.prototype._next=function(o){if(this.toRespond.length===0){var l=[o].concat(this.values);this.project?this._tryProject(l):this.destination.next(l)}},s.prototype._tryProject=function(o){var l;try{l=this.project.apply(this,o)}catch(d){this.destination.error(d);return}this.destination.next(l)},s}(t.OuterSubscriber)}),nEr=Se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Lq();function t(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return function(c){return c.lift.call(r.zip.apply(void 0,[c].concat(n)))}}e.zip=t}),iEr=Se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Lq();function t(n){return function(i){return i.lift(new r.ZipOperator(n))}}e.zipAll=t}),Rl=Se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Xee();e.audit=r.audit;var t=EMr();e.auditTime=t.auditTime;var n=qMr();e.buffer=n.buffer;var i=IMr();e.bufferCount=i.bufferCount;var c=BMr();e.bufferTime=c.bufferTime;var u=kMr();e.bufferToggle=u.bufferToggle;var a=jMr();e.bufferWhen=a.bufferWhen;var s=TMr();e.catchError=s.catchError;var o=RMr();e.combineAll=o.combineAll;var l=FMr();e.combineLatest=l.combineLatest;var d=LMr();e.concat=d.concat;var p=Wee();e.concatAll=p.concatAll;var f=Kee();e.concatMap=f.concatMap;var v=UMr();e.concatMapTo=v.concatMapTo;var h=zMr();e.count=h.count;var m=JMr();e.debounce=m.debounce;var y=VMr();e.debounceTime=y.debounceTime;var g=Tl();e.defaultIfEmpty=g.defaultIfEmpty;var b=GMr();e.delay=b.delay;var _=HMr();e.delayWhen=_.delayWhen;var S=WMr();e.dematerialize=S.dematerialize;var w=$Mr();e.distinct=w.distinct;var O=rre();e.distinctUntilChanged=O.distinctUntilChanged;var x=QMr();e.distinctUntilKeyChanged=x.distinctUntilKeyChanged;var N=YMr();e.elementAt=N.elementAt;var M=ZMr();e.endWith=M.endWith;var I=XMr();e.every=I.every;var q=KMr();e.exhaust=q.exhaust;var z=ePr();e.exhaustMap=z.exhaustMap;var R=rPr();e.expand=R.expand;var j=Jc();e.filter=j.filter;var L=tPr();e.finalize=L.finalize;var P=tre();e.find=P.find;var V=nPr();e.findIndex=V.findIndex;var E=iPr();e.first=E.first;var Z=jee();e.groupBy=Z.groupBy;var ue=aPr();e.ignoreElements=ue.ignoreElements;var ye=sPr();e.isEmpty=ye.isEmpty;var X=oPr();e.last=X.last;var le=Gn();e.map=le.map;var Oe=cPr();e.mapTo=Oe.mapTo;var ne=uPr();e.materialize=ne.materialize;var fe=lPr();e.max=fe.max;var Me=dPr();e.merge=Me.merge;var me=Rq();e.mergeAll=me.mergeAll;var Ce=JN();e.mergeMap=Ce.mergeMap,e.flatMap=Ce.flatMap;var Be=pPr();e.mergeMapTo=Be.mergeMapTo;var je=fPr();e.mergeScan=je.mergeScan;var We=hPr();e.min=We.min;var Ge=Vc();e.multicast=Ge.multicast;var ie=Uee();e.observeOn=ie.observeOn;var pe=vPr();e.onErrorResumeNext=pe.onErrorResumeNext;var te=mPr();e.pairwise=te.pairwise;var ce=yPr();e.partition=ce.partition;var ge=gPr();e.pluck=ge.pluck;var ve=bPr();e.publish=ve.publish;var Pe=_Pr();e.publishBehavior=Pe.publishBehavior;var ke=wPr();e.publishLast=ke.publishLast;var Te=SPr();e.publishReplay=Te.publishReplay;var $e=xPr();e.race=$e.race;var Ue=$N();e.reduce=Ue.reduce;var Ze=OPr();e.repeat=Ze.repeat;var Pr=DPr();e.repeatWhen=Pr.repeatWhen;var Qr=NPr();e.retry=Qr.retry;var Gr=CPr();e.retryWhen=Gr.retryWhen;var wt=qq();e.refCount=wt.refCount;var cn=APr();e.sample=cn.sample;var Bt=MPr();e.sampleTime=Bt.sampleTime;var un=Jq();e.scan=un.scan;var Dt=PPr();e.sequenceEqual=Dt.sequenceEqual;var Br=EPr();e.share=Br.share;var gn=qPr();e.shareReplay=gn.shareReplay;var J=IPr();e.single=J.single;var be=BPr();e.skip=be.skip;var qe=kPr();e.skipLast=qe.skipLast;var ze=jPr();e.skipUntil=ze.skipUntil;var lr=TPr();e.skipWhile=lr.skipWhile;var _r=RPr();e.startWith=_r.startWith;var ln=LPr();e.subscribeOn=ln.subscribeOn;var ki=UPr();e.switchAll=ki.switchAll;var us=Vq();e.switchMap=us.switchMap;var ls=zPr();e.switchMapTo=ls.switchMapTo;var ds=Uq();e.take=ds.take;var ps=zq();e.takeLast=ps.takeLast;var fs=JPr();e.takeUntil=fs.takeUntil;var hs=VPr();e.takeWhile=hs.takeWhile;var vs=GPr();e.tap=vs.tap;var ms=nre();e.throttle=ms.throttle;var ys=HPr();e.throttleTime=ys.throttleTime;var gs=WN();e.throwIfEmpty=gs.throwIfEmpty;var bs=WPr();e.timeInterval=bs.timeInterval;var _s=$Pr();e.timeout=_s.timeout;var ji=ire();e.timeoutWith=ji.timeoutWith;var it=QPr();e.timestamp=it.timestamp;var ut=YPr();e.toArray=ut.toArray;var Lt=ZPr();e.window=Lt.window;var F=XPr();e.windowCount=F.windowCount;var G=KPr();e.windowTime=G.windowTime;var H=eEr();e.windowToggle=H.windowToggle;var W=rEr();e.windowWhen=W.windowWhen;var $=tEr();e.withLatestFrom=$.withLatestFrom;var Q=nEr();e.zip=Q.zip;var he=iEr();e.zipAll=he.zipAll}),aEr=Se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Rl();function t(d){return d.pipe(r.concatMap(function(p){return p.split("")}),r.scan(function(p,f){return p.indexOf("}")>=0?f:p+f},""),r.filter(function(p){return p.indexOf("}")>=0}),r.map(function(p){return JSON.parse(p)}))}e.parseControl=t;function n(d){for(var p=[],f=0;f<d.length;f++)f%3===0?p.push(d[f]<<4|d[f+1]>>4):(p.push((d[f]&15)<<8|d[f+1]),f++);return p}e.decodeUnsigned12BitData=n;function i(d){for(var p=[],f=0;f<d.length;f=f+3)p.push(d[f]<<16|d[f+1]<<8|d[f+2]);return p}e.decodeUnsigned24BitData=i;function c(d){return n(d).map(function(p){return .48828125*(p-2048)})}e.decodeEEGSamples=c;function u(d){return i(d)}e.decodePPGSamples=u;function a(d){return{sequenceId:d.getUint16(0),batteryLevel:d.getUint16(2)/512,fuelGaugeVoltage:d.getUint16(4)*2.2,temperature:d.getUint16(8)}}e.parseTelemetry=a;function s(d,p){function f(v){return{x:p*d.getInt16(v),y:p*d.getInt16(v+2),z:p*d.getInt16(v+4)}}return{sequenceId:d.getUint16(0),samples:[f(2),f(8),f(14)]}}function o(d){return s(d,610352e-10)}e.parseAccelerometer=o;function l(d){return s(d,.0074768)}e.parseGyroscope=l}),sEr=Se(e=>{"use strict";var r=e&&e.__awaiter||function(s,o,l,d){return new(l||(l=Promise))(function(p,f){function v(y){try{m(d.next(y))}catch(g){f(g)}}function h(y){try{m(d.throw(y))}catch(g){f(g)}}function m(y){y.done?p(y.value):new l(function(g){g(y.value)}).then(v,h)}m((d=d.apply(s,o||[])).next())})},t=e&&e.__generator||function(s,o){var l={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},d,p,f,v;return v={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(v[Symbol.iterator]=function(){return this}),v;function h(y){return function(g){return m([y,g])}}function m(y){if(d)throw new TypeError("Generator is already executing.");for(;l;)try{if(d=1,p&&(f=y[0]&2?p.return:y[0]?p.throw||((f=p.return)&&f.call(p),0):p.next)&&!(f=f.call(p,y[1])).done)return f;switch(p=0,f&&(y=[y[0]&2,f.value]),y[0]){case 0:case 1:f=y;break;case 4:return l.label++,{value:y[1],done:!1};case 5:l.label++,p=y[1],y=[0];continue;case 7:y=l.ops.pop(),l.trys.pop();continue;default:if(f=l.trys,!(f=f.length>0&&f[f.length-1])&&(y[0]===6||y[0]===2)){l=0;continue}if(y[0]===3&&(!f||y[1]>f[0]&&y[1]<f[3])){l.label=y[1];break}if(y[0]===6&&l.label<f[1]){l.label=f[1],f=y;break}if(f&&l.label<f[2]){l.label=f[2],l.ops.push(y);break}f[2]&&l.ops.pop(),l.trys.pop();continue}y=o.call(s,l)}catch(g){y=[6,g],p=0}finally{d=f=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}};Object.defineProperty(e,"__esModule",{value:!0});var n=HN(),i=Rl();function c(s){return new TextDecoder().decode(s.subarray(1,1+s[0]))}e.decodeResponse=c;function u(s){var o=new TextEncoder().encode("X"+s+`
`);return o[0]=o.length-1,o}e.encodeCommand=u;function a(s){return r(this,void 0,void 0,function(){var o;return t(this,function(l){switch(l.label){case 0:return[4,s.startNotifications()];case 1:return l.sent(),o=n.fromEvent(s.service.device,"gattserverdisconnected"),[2,n.fromEvent(s,"characteristicvaluechanged").pipe(i.takeUntil(o),i.map(function(d){return d.target.value}))]}})})}e.observableCharacteristic=a}),oEr=Se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=HN(),t=Rl(),n=Gq();function i(c){var u=[],a=null;return c.pipe(t.mergeMap(function(s){if(s.timestamp!==a&&(a=s.timestamp,u.length)){var o=r.from([u.slice()]);return u.splice(0,u.length,s),o}return u.push(s),r.from([])}),t.concat(r.from([u])),t.mergeMap(function(s){var o=s[0].samples.map(function(l,d){for(var p=[NaN,NaN,NaN,NaN,NaN],f=0,v=s;f<v.length;f++){var h=v[f];p[h.electrode]=h.samples[d]}return{data:p,index:s[0].index,timestamp:s[0].timestamp+d*1e3/n.EEG_FREQUENCY}});return r.from(o)}))}e.zipSamples=i}),cEr=Se(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=HN(),t=Rl(),n=Gq();function i(c){var u=[],a=null;return c.pipe(t.mergeMap(function(s){if(s.timestamp!==a&&(a=s.timestamp,u.length)){var o=r.from([u.slice()]);return u.splice(0,u.length,s),o}return u.push(s),r.from([])}),t.concat(r.from([u])),t.mergeMap(function(s){var o=s[0].samples.map(function(l,d){for(var p=[NaN,NaN,NaN],f=0,v=s;f<v.length;f++){var h=v[f];p[h.ppgChannel]=h.samples[d]}return{data:p,index:s[0].index,timestamp:s[0].timestamp+d*1e3/n.PPG_FREQUENCY}});return r.from(o)}))}e.zipSamplesPpg=i}),Gq=Se(e=>{"use strict";var r=e&&e.__awaiter||function(m,y,g,b){return new(g||(g=Promise))(function(_,S){function w(N){try{x(b.next(N))}catch(M){S(M)}}function O(N){try{x(b.throw(N))}catch(M){S(M)}}function x(N){N.done?_(N.value):new g(function(M){M(N.value)}).then(w,O)}x((b=b.apply(m,y||[])).next())})},t=e&&e.__generator||function(m,y){var g={label:0,sent:function(){if(S[0]&1)throw S[1];return S[1]},trys:[],ops:[]},b,_,S,w;return w={next:O(0),throw:O(1),return:O(2)},typeof Symbol=="function"&&(w[Symbol.iterator]=function(){return this}),w;function O(N){return function(M){return x([N,M])}}function x(N){if(b)throw new TypeError("Generator is already executing.");for(;g;)try{if(b=1,_&&(S=N[0]&2?_.return:N[0]?_.throw||((S=_.return)&&S.call(_),0):_.next)&&!(S=S.call(_,N[1])).done)return S;switch(_=0,S&&(N=[N[0]&2,S.value]),N[0]){case 0:case 1:S=N;break;case 4:return g.label++,{value:N[1],done:!1};case 5:g.label++,_=N[1],N=[0];continue;case 7:N=g.ops.pop(),g.trys.pop();continue;default:if(S=g.trys,!(S=S.length>0&&S[S.length-1])&&(N[0]===6||N[0]===2)){g=0;continue}if(N[0]===3&&(!S||N[1]>S[0]&&N[1]<S[3])){g.label=N[1];break}if(N[0]===6&&g.label<S[1]){g.label=S[1],S=N;break}if(S&&g.label<S[2]){g.label=S[2],g.ops.push(N);break}S[2]&&g.ops.pop(),g.trys.pop();continue}N=y.call(m,g)}catch(M){N=[6,M],_=0}finally{b=S=0}if(N[0]&5)throw N[1];return{value:N[0]?N[1]:void 0,done:!0}}};Object.defineProperty(e,"__esModule",{value:!0});var n=HN(),i=Rl(),c=aEr(),u=sEr(),a=oEr();e.zipSamples=a.zipSamples;var s=cEr();e.zipSamplesPpg=s.zipSamplesPpg,e.MUSE_SERVICE=65165;var o="273e0001-4c4d-454d-96be-f03bac821358",l="273e000b-4c4d-454d-96be-f03bac821358",d="273e0009-4c4d-454d-96be-f03bac821358",p="273e000a-4c4d-454d-96be-f03bac821358",f=["273e000f-4c4d-454d-96be-f03bac821358","273e0010-4c4d-454d-96be-f03bac821358","273e0011-4c4d-454d-96be-f03bac821358"];e.PPG_FREQUENCY=64,e.PPG_SAMPLES_PER_READING=6;var v=["273e0003-4c4d-454d-96be-f03bac821358","273e0004-4c4d-454d-96be-f03bac821358","273e0005-4c4d-454d-96be-f03bac821358","273e0006-4c4d-454d-96be-f03bac821358","273e0007-4c4d-454d-96be-f03bac821358"];e.EEG_FREQUENCY=256,e.EEG_SAMPLES_PER_READING=12,e.ppgChannelNames=["ambient","infrared","red"],e.channelNames=["TP9","AF7","AF8","TP10","AUX"];var h=function(){function m(){this.enableAux=!1,this.enablePpg=!1,this.deviceName="",this.connectionStatus=new n.BehaviorSubject(!1),this.gatt=null,this.lastIndex=null,this.lastTimestamp=null}return m.prototype.connect=function(y){return r(this,void 0,void 0,function(){var g,b,_,S,w,O,x,N,M,I,q,z,R,j,L,P,V,E,Z,ue,ye,X=this;return t(this,function(le){switch(le.label){case 0:return y?(this.gatt=y,[3,4]):[3,1];case 1:return[4,navigator.bluetooth.requestDevice({filters:[{services:[e.MUSE_SERVICE]}]})];case 2:return g=le.sent(),b=this,[4,g.gatt.connect()];case 3:b.gatt=le.sent(),le.label=4;case 4:return this.deviceName=this.gatt.device.name||null,[4,this.gatt.getPrimaryService(e.MUSE_SERVICE)];case 5:return _=le.sent(),n.fromEvent(this.gatt.device,"gattserverdisconnected").pipe(i.first()).subscribe(function(){X.gatt=null,X.connectionStatus.next(!1)}),S=this,[4,_.getCharacteristic(o)];case 6:return S.controlChar=le.sent(),w=this,[4,u.observableCharacteristic(this.controlChar)];case 7:return w.rawControlData=le.sent().pipe(i.map(function(Oe){return u.decodeResponse(new Uint8Array(Oe.buffer))}),i.share()),this.controlResponses=c.parseControl(this.rawControlData),[4,_.getCharacteristic(l)];case 8:return O=le.sent(),x=this,[4,u.observableCharacteristic(O)];case 9:return x.telemetryData=le.sent().pipe(i.map(c.parseTelemetry)),[4,_.getCharacteristic(d)];case 10:return N=le.sent(),M=this,[4,u.observableCharacteristic(N)];case 11:return M.gyroscopeData=le.sent().pipe(i.map(c.parseGyroscope)),[4,_.getCharacteristic(p)];case 12:return I=le.sent(),q=this,[4,u.observableCharacteristic(I)];case 13:if(q.accelerometerData=le.sent().pipe(i.map(c.parseAccelerometer)),this.eventMarkers=new n.Subject,!this.enablePpg)return[3,18];this.ppgCharacteristics=[],z=[],R=f.length,j=function(Oe){var ne,fe,Me,me;return t(this,function(Ce){switch(Ce.label){case 0:return ne=f[Oe],[4,_.getCharacteristic(ne)];case 1:return fe=Ce.sent(),me=(Me=z).push,[4,u.observableCharacteristic(fe)];case 2:return me.apply(Me,[Ce.sent().pipe(i.map(function(Be){var je=Be.getUint16(0);return{index:je,ppgChannel:Oe,samples:c.decodePPGSamples(new Uint8Array(Be.buffer).subarray(2)),timestamp:X.getTimestamp(je,e.PPG_SAMPLES_PER_READING,e.PPG_FREQUENCY)}}))]),L.ppgCharacteristics.push(fe),[2]}})},L=this,P=0,le.label=14;case 14:return P<R?[5,j(P)]:[3,17];case 15:le.sent(),le.label=16;case 16:return P++,[3,14];case 17:this.ppgReadings=n.merge.apply(void 0,z),le.label=18;case 18:this.eegCharacteristics=[],V=[],E=this.enableAux?v.length:4,Z=function(Oe){var ne,fe,Me,me;return t(this,function(Ce){switch(Ce.label){case 0:return ne=v[Oe],[4,_.getCharacteristic(ne)];case 1:return fe=Ce.sent(),me=(Me=V).push,[4,u.observableCharacteristic(fe)];case 2:return me.apply(Me,[Ce.sent().pipe(i.map(function(Be){var je=Be.getUint16(0);return{electrode:Oe,index:je,samples:c.decodeEEGSamples(new Uint8Array(Be.buffer).subarray(2)),timestamp:X.getTimestamp(je,e.EEG_SAMPLES_PER_READING,e.EEG_FREQUENCY)}}))]),ue.eegCharacteristics.push(fe),[2]}})},ue=this,ye=0,le.label=19;case 19:return ye<E?[5,Z(ye)]:[3,22];case 20:le.sent(),le.label=21;case 21:return ye++,[3,19];case 22:return this.eegReadings=n.merge.apply(void 0,V),this.connectionStatus.next(!0),[2]}})})},m.prototype.sendCommand=function(y){return r(this,void 0,void 0,function(){return t(this,function(g){switch(g.label){case 0:return[4,this.controlChar.writeValue(u.encodeCommand(y))];case 1:return g.sent(),[2]}})})},m.prototype.start=function(){return r(this,void 0,void 0,function(){var y;return t(this,function(g){switch(g.label){case 0:return[4,this.pause()];case 1:return g.sent(),y="p21",this.enablePpg?y="p50":this.enableAux&&(y="p20"),[4,this.controlChar.writeValue(u.encodeCommand(y))];case 2:return g.sent(),[4,this.controlChar.writeValue(u.encodeCommand("s"))];case 3:return g.sent(),[4,this.resume()];case 4:return g.sent(),[2]}})})},m.prototype.pause=function(){return r(this,void 0,void 0,function(){return t(this,function(y){switch(y.label){case 0:return[4,this.sendCommand("h")];case 1:return y.sent(),[2]}})})},m.prototype.resume=function(){return r(this,void 0,void 0,function(){return t(this,function(y){switch(y.label){case 0:return[4,this.sendCommand("d")];case 1:return y.sent(),[2]}})})},m.prototype.deviceInfo=function(){return r(this,void 0,void 0,function(){var y;return t(this,function(g){switch(g.label){case 0:return y=this.controlResponses.pipe(i.filter(function(b){return!!b.fw}),i.take(1)).toPromise(),[4,this.sendCommand("v1")];case 1:return g.sent(),[2,y]}})})},m.prototype.injectMarker=function(y,g){return g===void 0&&(g=new Date().getTime()),r(this,void 0,void 0,function(){return t(this,function(b){switch(b.label){case 0:return[4,this.eventMarkers.next({value:y,timestamp:g})];case 1:return b.sent(),[2]}})})},m.prototype.disconnect=function(){this.gatt&&(this.lastIndex=null,this.lastTimestamp=null,this.gatt.disconnect(),this.connectionStatus.next(!1))},m.prototype.getTimestamp=function(y,g,b){var _=1e3*(1/b)*g;for((this.lastIndex===null||this.lastTimestamp===null)&&(this.lastIndex=y,this.lastTimestamp=new Date().getTime()-_);this.lastIndex-y>4096;)y+=65536;return y===this.lastIndex?this.lastTimestamp:y>this.lastIndex?(this.lastTimestamp+=_*(y-this.lastIndex),this.lastIndex=y,this.lastTimestamp):this.lastTimestamp-_*(this.lastIndex-y)},m}();e.MuseClient=h}),uEr=YAr(Gq(),1),lEr=uEr.MuseClient,io=250,Hq={sps:io,connect:(e={})=>new Promise(async(r,t)=>{let n=`muse${Math.floor(Math.random()*1e15)}`,i=new lEr,c={_id:n,client:i,settings:Object.assign(Object.assign({},Hq),e)};i.enableAux=!0,await i.connect(),await i.start();let u;i.eegReadings.subscribe(a=>{a.origin="eeg",a.electrode===0&&(u=ir.genTimestamps(12,250)),u||(u=ir.genTimestamps(12,250)),a.timestamp=u,c.settings.ondata(a)}),i.telemetryData.subscribe(a=>{a.origin="telemetry",c.settings.ondata(a)}),i.gyroscopeData.subscribe(a=>{a.origin="gyro",c.settings.ondata(a)}),i.accelerometerData.subscribe(a=>{a.origin="accelerometer",c.settings.ondata(a)}),i.enablePPG&&i.ppgData.subscribe(a=>{a.origin="ppg",c.settings.ondata(a)}),c.settings.onconnect&&c.settings.onconnect(c),r(c)}),codec:e=>{let r=e.origin;if(r==="eeg")return{[e.electrode]:e.samples,timestamp:Date.now()};if(r==="gyro"){let t={gx:[],gy:[],gz:[],timestamp:Date.now()};return e.samples.forEach(n=>{t.gx.push(n.x),t.gy.push(n.y),t.gz.push(n.z)}),t}else if(r==="accelerometer"){let t={ax:[],ay:[],az:[],timestamp:Date.now()};return e.samples.forEach(n=>{t.ax.push(n.x),t.ay.push(n.y),t.az.push(n.z)}),t}else{if(r==="ppg")return{[`ppg${e.ppgChannel}`]:e.samples,timestamp:Date.now()};if(r==="telemetry")return e}},disconnect:e=>{e.client.disconnect(),e.settings.ondisconnect(e)},onconnect:e=>{console.log("muse connected!",e)},ondisconnect:e=>{console.log("muse disconnected!",e)},ondata:e=>{console.log(e)}},ml={sps:io,useDCBlock:!0,useBandpass:!0,bandpassLower:3,bandpassUpper:45},dEr={0:JSON.parse(JSON.stringify(ml)),1:JSON.parse(JSON.stringify(ml)),2:JSON.parse(JSON.stringify(ml)),3:JSON.parse(JSON.stringify(ml)),4:JSON.parse(JSON.stringify(ml))},pEr={lines:{0:{nSec:10,sps:io,units:"uV"},1:{nSec:10,sps:io,units:"uV"},2:{nSec:10,sps:io,units:"uV"},3:{nSec:10,sps:io,units:"uV"},4:{nSec:10,sps:io,units:"uV"},ax:{nSec:10,sps:100,units:"mg"},ay:{nSec:10,sps:100,units:"mg"},az:{nSec:10,sps:100,units:"mg"},gx:{nSec:10,sps:100,units:"rps"},gy:{nSec:10,sps:100,units:"rps"},gz:{nSec:10,sps:100,units:"rps"}},generateNewLines:!0},fEr=Object.create,Wq=Object.defineProperty,hEr=Object.defineProperties,vEr=Object.getOwnPropertyDescriptor,mEr=Object.getOwnPropertyDescriptors,yEr=Object.getOwnPropertyNames,IN=Object.getOwnPropertySymbols,gEr=Object.getPrototypeOf,$q=Object.prototype.hasOwnProperty,are=Object.prototype.propertyIsEnumerable,tK=(e,r,t)=>r in e?Wq(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,fq=(e,r)=>{for(var t in r||(r={}))$q.call(r,t)&&tK(e,t,r[t]);if(IN)for(var t of IN(r))are.call(r,t)&&tK(e,t,r[t]);return e},hq=(e,r)=>hEr(e,mEr(r)),bEr=(e,r)=>{var t={};for(var n in e)$q.call(e,n)&&r.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&IN)for(var n of IN(e))r.indexOf(n)<0&&are.call(e,n)&&(t[n]=e[n]);return t},_Er=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports),wEr=(e,r,t,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let i of yEr(r))!$q.call(e,i)&&i!==t&&Wq(e,i,{get:()=>r[i],enumerable:!(n=vEr(r,i))||n.enumerable});return e},SEr=(e,r,t)=>(t=e!=null?fEr(gEr(e)):{},wEr(r||!e||!e.__esModule?Wq(t,"default",{value:e,enumerable:!0}):t,e)),nK=(e,r,t)=>new Promise((n,i)=>{var c=s=>{try{a(t.next(s))}catch(o){i(o)}},u=s=>{try{a(t.throw(s))}catch(o){i(o)}},a=s=>s.done?n(s.value):Promise.resolve(s.value).then(c,u);a((t=t.apply(e,r)).next())}),xEr=_Er((e,r)=>{var t,n,i,c,u,a,s,o,l,d,p,f,v,h,m,y,g,b,_,S,w,O,x,N,M;(function(I){var q=typeof global=="object"?global:typeof self=="object"?self:typeof this=="object"?this:{};typeof define=="function"&&define.amd?define("tslib",["exports"],function(R){I(z(q,z(R)))}):typeof r=="object"&&typeof r.exports=="object"?I(z(q,z(r.exports))):I(z(q));function z(R,j){return R!==q&&(typeof Object.create=="function"?Object.defineProperty(R,"__esModule",{value:!0}):R.__esModule=!0),function(L,P){return R[L]=j?j(L,P):P}}})(function(I){var q=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(R,j){R.__proto__=j}||function(R,j){for(var L in j)Object.prototype.hasOwnProperty.call(j,L)&&(R[L]=j[L])};t=function(R,j){if(typeof j!="function"&&j!==null)throw new TypeError("Class extends value "+String(j)+" is not a constructor or null");q(R,j);function L(){this.constructor=R}R.prototype=j===null?Object.create(j):(L.prototype=j.prototype,new L)},n=Object.assign||function(R){for(var j,L=1,P=arguments.length;L<P;L++){j=arguments[L];for(var V in j)Object.prototype.hasOwnProperty.call(j,V)&&(R[V]=j[V])}return R},i=function(R,j){var L={};for(var P in R)Object.prototype.hasOwnProperty.call(R,P)&&j.indexOf(P)<0&&(L[P]=R[P]);if(R!=null&&typeof Object.getOwnPropertySymbols=="function")for(var V=0,P=Object.getOwnPropertySymbols(R);V<P.length;V++)j.indexOf(P[V])<0&&Object.prototype.propertyIsEnumerable.call(R,P[V])&&(L[P[V]]=R[P[V]]);return L},c=function(R,j,L,P){var V=arguments.length,E=V<3?j:P===null?P=Object.getOwnPropertyDescriptor(j,L):P,Z;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(R,j,L,P);else for(var ue=R.length-1;ue>=0;ue--)(Z=R[ue])&&(E=(V<3?Z(E):V>3?Z(j,L,E):Z(j,L))||E);return V>3&&E&&Object.defineProperty(j,L,E),E},u=function(R,j){return function(L,P){j(L,P,R)}},a=function(R,j){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(R,j)},s=function(R,j,L,P){function V(E){return E instanceof L?E:new L(function(Z){Z(E)})}return new(L||(L=Promise))(function(E,Z){function ue(le){try{X(P.next(le))}catch(Oe){Z(Oe)}}function ye(le){try{X(P.throw(le))}catch(Oe){Z(Oe)}}function X(le){le.done?E(le.value):V(le.value).then(ue,ye)}X((P=P.apply(R,j||[])).next())})},o=function(R,j){var L={label:0,sent:function(){if(E[0]&1)throw E[1];return E[1]},trys:[],ops:[]},P,V,E,Z;return Z={next:ue(0),throw:ue(1),return:ue(2)},typeof Symbol=="function"&&(Z[Symbol.iterator]=function(){return this}),Z;function ue(X){return function(le){return ye([X,le])}}function ye(X){if(P)throw new TypeError("Generator is already executing.");for(;L;)try{if(P=1,V&&(E=X[0]&2?V.return:X[0]?V.throw||((E=V.return)&&E.call(V),0):V.next)&&!(E=E.call(V,X[1])).done)return E;switch(V=0,E&&(X=[X[0]&2,E.value]),X[0]){case 0:case 1:E=X;break;case 4:return L.label++,{value:X[1],done:!1};case 5:L.label++,V=X[1],X=[0];continue;case 7:X=L.ops.pop(),L.trys.pop();continue;default:if(E=L.trys,!(E=E.length>0&&E[E.length-1])&&(X[0]===6||X[0]===2)){L=0;continue}if(X[0]===3&&(!E||X[1]>E[0]&&X[1]<E[3])){L.label=X[1];break}if(X[0]===6&&L.label<E[1]){L.label=E[1],E=X;break}if(E&&L.label<E[2]){L.label=E[2],L.ops.push(X);break}E[2]&&L.ops.pop(),L.trys.pop();continue}X=j.call(R,L)}catch(le){X=[6,le],V=0}finally{P=E=0}if(X[0]&5)throw X[1];return{value:X[0]?X[1]:void 0,done:!0}}},l=function(R,j){for(var L in R)L!=="default"&&!Object.prototype.hasOwnProperty.call(j,L)&&M(j,R,L)},M=Object.create?function(R,j,L,P){P===void 0&&(P=L);var V=Object.getOwnPropertyDescriptor(j,L);(!V||("get"in V?!j.__esModule:V.writable||V.configurable))&&(V={enumerable:!0,get:function(){return j[L]}}),Object.defineProperty(R,P,V)}:function(R,j,L,P){P===void 0&&(P=L),R[P]=j[L]},d=function(R){var j=typeof Symbol=="function"&&Symbol.iterator,L=j&&R[j],P=0;if(L)return L.call(R);if(R&&typeof R.length=="number")return{next:function(){return R&&P>=R.length&&(R=void 0),{value:R&&R[P++],done:!R}}};throw new TypeError(j?"Object is not iterable.":"Symbol.iterator is not defined.")},p=function(R,j){var L=typeof Symbol=="function"&&R[Symbol.iterator];if(!L)return R;var P=L.call(R),V,E=[],Z;try{for(;(j===void 0||j-- >0)&&!(V=P.next()).done;)E.push(V.value)}catch(ue){Z={error:ue}}finally{try{V&&!V.done&&(L=P.return)&&L.call(P)}finally{if(Z)throw Z.error}}return E},f=function(){for(var R=[],j=0;j<arguments.length;j++)R=R.concat(p(arguments[j]));return R},v=function(){for(var R=0,j=0,L=arguments.length;j<L;j++)R+=arguments[j].length;for(var P=Array(R),V=0,j=0;j<L;j++)for(var E=arguments[j],Z=0,ue=E.length;Z<ue;Z++,V++)P[V]=E[Z];return P},h=function(R,j,L){if(L||arguments.length===2)for(var P=0,V=j.length,E;P<V;P++)(E||!(P in j))&&(E||(E=Array.prototype.slice.call(j,0,P)),E[P]=j[P]);return R.concat(E||Array.prototype.slice.call(j))},m=function(R){return this instanceof m?(this.v=R,this):new m(R)},y=function(R,j,L){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var P=L.apply(R,j||[]),V,E=[];return V={},Z("next"),Z("throw"),Z("return"),V[Symbol.asyncIterator]=function(){return this},V;function Z(ne){P[ne]&&(V[ne]=function(fe){return new Promise(function(Me,me){E.push([ne,fe,Me,me])>1||ue(ne,fe)})})}function ue(ne,fe){try{ye(P[ne](fe))}catch(Me){Oe(E[0][3],Me)}}function ye(ne){ne.value instanceof m?Promise.resolve(ne.value.v).then(X,le):Oe(E[0][2],ne)}function X(ne){ue("next",ne)}function le(ne){ue("throw",ne)}function Oe(ne,fe){ne(fe),E.shift(),E.length&&ue(E[0][0],E[0][1])}},g=function(R){var j,L;return j={},P("next"),P("throw",function(V){throw V}),P("return"),j[Symbol.iterator]=function(){return this},j;function P(V,E){j[V]=R[V]?function(Z){return(L=!L)?{value:m(R[V](Z)),done:V==="return"}:E?E(Z):Z}:E}},b=function(R){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var j=R[Symbol.asyncIterator],L;return j?j.call(R):(R=typeof d=="function"?d(R):R[Symbol.iterator](),L={},P("next"),P("throw"),P("return"),L[Symbol.asyncIterator]=function(){return this},L);function P(E){L[E]=R[E]&&function(Z){return new Promise(function(ue,ye){Z=R[E](Z),V(ue,ye,Z.done,Z.value)})}}function V(E,Z,ue,ye){Promise.resolve(ye).then(function(X){E({value:X,done:ue})},Z)}},_=function(R,j){return Object.defineProperty?Object.defineProperty(R,"raw",{value:j}):R.raw=j,R};var z=Object.create?function(R,j){Object.defineProperty(R,"default",{enumerable:!0,value:j})}:function(R,j){R.default=j};S=function(R){if(R&&R.__esModule)return R;var j={};if(R!=null)for(var L in R)L!=="default"&&Object.prototype.hasOwnProperty.call(R,L)&&M(j,R,L);return z(j,R),j},w=function(R){return R&&R.__esModule?R:{default:R}},O=function(R,j,L,P){if(L==="a"&&!P)throw new TypeError("Private accessor was defined without a getter");if(typeof j=="function"?R!==j||!P:!j.has(R))throw new TypeError("Cannot read private member from an object whose class did not declare it");return L==="m"?P:L==="a"?P.call(R):P?P.value:j.get(R)},x=function(R,j,L,P,V){if(P==="m")throw new TypeError("Private method is not writable");if(P==="a"&&!V)throw new TypeError("Private accessor was defined without a setter");if(typeof j=="function"?R!==j||!V:!j.has(R))throw new TypeError("Cannot write private member to an object whose class did not declare it");return P==="a"?V.call(R,L):V?V.value=L:j.set(R,L),L},N=function(R,j){if(j===null||typeof j!="object"&&typeof j!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof R=="function"?j===R:R.has(j)},I("__extends",t),I("__assign",n),I("__rest",i),I("__decorate",c),I("__param",u),I("__metadata",a),I("__awaiter",s),I("__generator",o),I("__exportStar",l),I("__createBinding",M),I("__values",d),I("__read",p),I("__spread",f),I("__spreadArrays",v),I("__spreadArray",h),I("__await",m),I("__asyncGenerator",y),I("__asyncDelegator",g),I("__asyncValues",b),I("__makeTemplateObject",_),I("__importStar",S),I("__importDefault",w),I("__classPrivateFieldGet",O),I("__classPrivateFieldSet",x),I("__classPrivateFieldIn",N)})}),OEr=SEr(xEr(),1),{__extends:Gc,__assign:Jnt,__rest:Vnt,__decorate:Gnt,__param:Hnt,__metadata:Wnt,__awaiter:DEr,__generator:sre,__exportStar:$nt,__createBinding:Qnt,__values:BN,__read:Uc,__spread:Ynt,__spreadArrays:Znt,__spreadArray:Nl,__await:nq,__asyncGenerator:NEr,__asyncDelegator:Xnt,__asyncValues:CEr,__makeTemplateObject:Knt,__importStar:eit,__importDefault:rit,__classPrivateFieldGet:tit,__classPrivateFieldSet:nit,__classPrivateFieldIn:iit}=OEr.default;function tt(e){return typeof e=="function"}function Qq(e){var r=function(n){Error.call(n),n.stack=new Error().stack},t=e(r);return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var iq=Qq(function(e){return function(r){e(this),this.message=r?r.length+` errors occurred during unsubscription:
`+r.map(function(t,n){return n+1+") "+t.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=r}});function vq(e,r){if(e){var t=e.indexOf(r);0<=t&&e.splice(t,1)}}var QN=function(){function e(r){this.initialTeardown=r,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var r,t,n,i,c;if(!this.closed){this.closed=!0;var u=this._parentage;if(u)if(this._parentage=null,Array.isArray(u))try{for(var a=BN(u),s=a.next();!s.done;s=a.next()){var o=s.value;o.remove(this)}}catch(h){r={error:h}}finally{try{s&&!s.done&&(t=a.return)&&t.call(a)}finally{if(r)throw r.error}}else u.remove(this);var l=this.initialTeardown;if(tt(l))try{l()}catch(h){c=h instanceof iq?h.errors:[h]}var d=this._finalizers;if(d){this._finalizers=null;try{for(var p=BN(d),f=p.next();!f.done;f=p.next()){var v=f.value;try{iK(v)}catch(h){c=c??[],h instanceof iq?c=Nl(Nl([],Uc(c)),Uc(h.errors)):c.push(h)}}}catch(h){n={error:h}}finally{try{f&&!f.done&&(i=p.return)&&i.call(p)}finally{if(n)throw n.error}}}if(c)throw new iq(c)}},e.prototype.add=function(r){var t;if(r&&r!==this)if(this.closed)iK(r);else{if(r instanceof e){if(r.closed||r._hasParent(this))return;r._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(r)}},e.prototype._hasParent=function(r){var t=this._parentage;return t===r||Array.isArray(t)&&t.includes(r)},e.prototype._addParent=function(r){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(r),t):t?[t,r]:r},e.prototype._removeParent=function(r){var t=this._parentage;t===r?this._parentage=null:Array.isArray(t)&&vq(t,r)},e.prototype.remove=function(r){var t=this._finalizers;t&&vq(t,r),r instanceof e&&r._removeParent(this)},e.EMPTY=function(){var r=new e;return r.closed=!0,r}(),e}(),ore=QN.EMPTY;function cre(e){return e instanceof QN||e&&"closed"in e&&tt(e.remove)&&tt(e.add)&&tt(e.unsubscribe)}function iK(e){tt(e)?e():e.unsubscribe()}var lo={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},kN={setTimeout:function(e,r){for(var t=[],n=2;n<arguments.length;n++)t[n-2]=arguments[n];var i=kN.delegate;return i?.setTimeout?i.setTimeout.apply(i,Nl([e,r],Uc(t))):setTimeout.apply(void 0,Nl([e,r],Uc(t)))},clearTimeout:function(e){var r=kN.delegate;return(r?.clearTimeout||clearTimeout)(e)},delegate:void 0};function ure(e){kN.setTimeout(function(){var r=lo.onUnhandledError;if(r)r(e);else throw e})}function mq(){}var AEr=function(){return Yq("C",void 0,void 0)}();function MEr(e){return Yq("E",void 0,e)}function PEr(e){return Yq("N",e,void 0)}function Yq(e,r,t){return{kind:e,value:r,error:t}}var ao=null;function EN(e){if(lo.useDeprecatedSynchronousErrorHandling){var r=!ao;if(r&&(ao={errorThrown:!1,error:null}),e(),r){var t=ao,n=t.errorThrown,i=t.error;if(ao=null,n)throw i}}else e()}function EEr(e){lo.useDeprecatedSynchronousErrorHandling&&ao&&(ao.errorThrown=!0,ao.error=e)}var Zq=function(e){Gc(r,e);function r(t){var n=e.call(this)||this;return n.isStopped=!1,t?(n.destination=t,cre(t)&&t.add(n)):n.destination=kEr,n}return r.create=function(t,n,i){return new yq(t,n,i)},r.prototype.next=function(t){this.isStopped?sq(PEr(t),this):this._next(t)},r.prototype.error=function(t){this.isStopped?sq(MEr(t),this):(this.isStopped=!0,this._error(t))},r.prototype.complete=function(){this.isStopped?sq(AEr,this):(this.isStopped=!0,this._complete())},r.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},r.prototype._next=function(t){this.destination.next(t)},r.prototype._error=function(t){try{this.destination.error(t)}finally{this.unsubscribe()}},r.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},r}(QN),qEr=Function.prototype.bind;function aq(e,r){return qEr.call(e,r)}var IEr=function(){function e(r){this.partialObserver=r}return e.prototype.next=function(r){var t=this.partialObserver;if(t.next)try{t.next(r)}catch(n){NN(n)}},e.prototype.error=function(r){var t=this.partialObserver;if(t.error)try{t.error(r)}catch(n){NN(n)}else NN(r)},e.prototype.complete=function(){var r=this.partialObserver;if(r.complete)try{r.complete()}catch(t){NN(t)}},e}(),yq=function(e){Gc(r,e);function r(t,n,i){var c=e.call(this)||this,u;if(tt(t)||!t)u={next:t??void 0,error:n??void 0,complete:i??void 0};else{var a;c&&lo.useDeprecatedNextContext?(a=Object.create(t),a.unsubscribe=function(){return c.unsubscribe()},u={next:t.next&&aq(t.next,a),error:t.error&&aq(t.error,a),complete:t.complete&&aq(t.complete,a)}):u=t}return c.destination=new IEr(u),c}return r}(Zq);function NN(e){lo.useDeprecatedSynchronousErrorHandling?EEr(e):ure(e)}function BEr(e){throw e}function sq(e,r){var t=lo.onStoppedNotification;t&&kN.setTimeout(function(){return t(e,r)})}var kEr={closed:!0,next:mq,error:BEr,complete:mq},Xq=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function Kq(e){return e}function jEr(e){return e.length===0?Kq:e.length===1?e[0]:function(r){return e.reduce(function(t,n){return n(t)},r)}}var Ai=function(){function e(r){r&&(this._subscribe=r)}return e.prototype.lift=function(r){var t=new e;return t.source=this,t.operator=r,t},e.prototype.subscribe=function(r,t,n){var i=this,c=REr(r)?r:new yq(r,t,n);return EN(function(){var u=i,a=u.operator,s=u.source;c.add(a?a.call(c,s):s?i._subscribe(c):i._trySubscribe(c))}),c},e.prototype._trySubscribe=function(r){try{return this._subscribe(r)}catch(t){r.error(t)}},e.prototype.forEach=function(r,t){var n=this;return t=aK(t),new t(function(i,c){var u=new yq({next:function(a){try{r(a)}catch(s){c(s),u.unsubscribe()}},error:c,complete:i});n.subscribe(u)})},e.prototype._subscribe=function(r){var t;return(t=this.source)===null||t===void 0?void 0:t.subscribe(r)},e.prototype[Xq]=function(){return this},e.prototype.pipe=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];return jEr(r)(this)},e.prototype.toPromise=function(r){var t=this;return r=aK(r),new r(function(n,i){var c;t.subscribe(function(u){return c=u},function(u){return i(u)},function(){return n(c)})})},e.create=function(r){return new e(r)},e}();function aK(e){var r;return(r=e??lo.Promise)!==null&&r!==void 0?r:Promise}function TEr(e){return e&&tt(e.next)&&tt(e.error)&&tt(e.complete)}function REr(e){return e&&e instanceof Zq||TEr(e)&&cre(e)}function FEr(e){return tt(e?.lift)}function Ya(e){return function(r){if(FEr(r))return r.lift(function(t){try{return e(t,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function ma(e,r,t,n,i){return new LEr(e,r,t,n,i)}var LEr=function(e){Gc(r,e);function r(t,n,i,c,u,a){var s=e.call(this,t)||this;return s.onFinalize=u,s.shouldUnsubscribe=a,s._next=n?function(o){try{n(o)}catch(l){t.error(l)}}:e.prototype._next,s._error=c?function(o){try{c(o)}catch(l){t.error(l)}finally{this.unsubscribe()}}:e.prototype._error,s._complete=i?function(){try{i()}catch(o){t.error(o)}finally{this.unsubscribe()}}:e.prototype._complete,s}return r.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;e.prototype.unsubscribe.call(this),!n&&((t=this.onFinalize)===null||t===void 0||t.call(this))}},r}(Zq),UEr=Qq(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),jN=function(e){Gc(r,e);function r(){var t=e.call(this)||this;return t.closed=!1,t.currentObservers=null,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return r.prototype.lift=function(t){var n=new sK(this,this);return n.operator=t,n},r.prototype._throwIfClosed=function(){if(this.closed)throw new UEr},r.prototype.next=function(t){var n=this;EN(function(){var i,c;if(n._throwIfClosed(),!n.isStopped){n.currentObservers||(n.currentObservers=Array.from(n.observers));try{for(var u=BN(n.currentObservers),a=u.next();!a.done;a=u.next()){var s=a.value;s.next(t)}}catch(o){i={error:o}}finally{try{a&&!a.done&&(c=u.return)&&c.call(u)}finally{if(i)throw i.error}}}})},r.prototype.error=function(t){var n=this;EN(function(){if(n._throwIfClosed(),!n.isStopped){n.hasError=n.isStopped=!0,n.thrownError=t;for(var i=n.observers;i.length;)i.shift().error(t)}})},r.prototype.complete=function(){var t=this;EN(function(){if(t._throwIfClosed(),!t.isStopped){t.isStopped=!0;for(var n=t.observers;n.length;)n.shift().complete()}})},r.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(r.prototype,"observed",{get:function(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0},enumerable:!1,configurable:!0}),r.prototype._trySubscribe=function(t){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,t)},r.prototype._subscribe=function(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)},r.prototype._innerSubscribe=function(t){var n=this,i=this,c=i.hasError,u=i.isStopped,a=i.observers;return c||u?ore:(this.currentObservers=null,a.push(t),new QN(function(){n.currentObservers=null,vq(a,t)}))},r.prototype._checkFinalizedStatuses=function(t){var n=this,i=n.hasError,c=n.thrownError,u=n.isStopped;i?t.error(c):u&&t.complete()},r.prototype.asObservable=function(){var t=new Ai;return t.source=this,t},r.create=function(t,n){return new sK(t,n)},r}(Ai),sK=function(e){Gc(r,e);function r(t,n){var i=e.call(this)||this;return i.destination=t,i.source=n,i}return r.prototype.next=function(t){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.next)===null||i===void 0||i.call(n,t)},r.prototype.error=function(t){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.error)===null||i===void 0||i.call(n,t)},r.prototype.complete=function(){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||n===void 0||n.call(t)},r.prototype._subscribe=function(t){var n,i;return(i=(n=this.source)===null||n===void 0?void 0:n.subscribe(t))!==null&&i!==void 0?i:ore},r}(jN),zEr=function(e){Gc(r,e);function r(t){var n=e.call(this)||this;return n._value=t,n}return Object.defineProperty(r.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),r.prototype._subscribe=function(t){var n=e.prototype._subscribe.call(this,t);return!n.closed&&t.next(this._value),n},r.prototype.getValue=function(){var t=this,n=t.hasError,i=t.thrownError,c=t._value;if(n)throw i;return this._throwIfClosed(),c},r.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},r}(jN),JEr=new Ai(function(e){return e.complete()}),lre=function(e){return e&&typeof e.length=="number"&&typeof e!="function"};function VEr(e){return tt(e?.then)}function GEr(e){return tt(e[Xq])}function HEr(e){return Symbol.asyncIterator&&tt(e?.[Symbol.asyncIterator])}function WEr(e){return new TypeError("You provided "+(e!==null&&typeof e=="object"?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function $Er(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var QEr=$Er();function YEr(e){return tt(e?.[QEr])}function ZEr(e){return NEr(this,arguments,function(){var r,t,n,i;return sre(this,function(c){switch(c.label){case 0:r=e.getReader(),c.label=1;case 1:c.trys.push([1,,9,10]),c.label=2;case 2:return[4,nq(r.read())];case 3:return t=c.sent(),n=t.value,i=t.done,i?[4,nq(void 0)]:[3,5];case 4:return[2,c.sent()];case 5:return[4,nq(n)];case 6:return[4,c.sent()];case 7:return c.sent(),[3,2];case 8:return[3,10];case 9:return r.releaseLock(),[7];case 10:return[2]}})})}function XEr(e){return tt(e?.getReader)}function YN(e){if(e instanceof Ai)return e;if(e!=null){if(GEr(e))return KEr(e);if(lre(e))return eqr(e);if(VEr(e))return rqr(e);if(HEr(e))return dre(e);if(YEr(e))return tqr(e);if(XEr(e))return nqr(e)}throw WEr(e)}function KEr(e){return new Ai(function(r){var t=e[Xq]();if(tt(t.subscribe))return t.subscribe(r);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function eqr(e){return new Ai(function(r){for(var t=0;t<e.length&&!r.closed;t++)r.next(e[t]);r.complete()})}function rqr(e){return new Ai(function(r){e.then(function(t){r.closed||(r.next(t),r.complete())},function(t){return r.error(t)}).then(null,ure)})}function tqr(e){return new Ai(function(r){var t,n;try{for(var i=BN(e),c=i.next();!c.done;c=i.next()){var u=c.value;if(r.next(u),r.closed)return}}catch(a){t={error:a}}finally{try{c&&!c.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}r.complete()})}function dre(e){return new Ai(function(r){iqr(e,r).catch(function(t){return r.error(t)})})}function nqr(e){return dre(ZEr(e))}function iqr(e,r){var t,n,i,c;return DEr(this,void 0,void 0,function(){var u,a;return sre(this,function(s){switch(s.label){case 0:s.trys.push([0,5,6,11]),t=CEr(e),s.label=1;case 1:return[4,t.next()];case 2:if(n=s.sent(),!!n.done)return[3,4];if(u=n.value,r.next(u),r.closed)return[2];s.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return a=s.sent(),i={error:a},[3,11];case 6:return s.trys.push([6,,9,10]),n&&!n.done&&(c=t.return)?[4,c.call(t)]:[3,8];case 7:s.sent(),s.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return r.complete(),[2]}})})}function aqr(e,r,t,n,i){n===void 0&&(n=0),i===void 0&&(i=!1);var c=r.schedule(function(){t(),i?e.add(this.schedule(null,n)):this.unsubscribe()},n);if(e.add(c),!i)return c}var pre=Qq(function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}});function _l(e,r){return Ya(function(t,n){var i=0;t.subscribe(ma(n,function(c){n.next(e.call(r,c,i++))}))})}var sqr=Array.isArray;function oqr(e,r){return sqr(r)?e.apply(void 0,Nl([],Uc(r))):e(r)}function cqr(e){return _l(function(r){return oqr(e,r)})}function uqr(e,r,t,n,i,c,u,a){var s=[],o=0,l=0,d=!1,p=function(){d&&!s.length&&!o&&r.complete()},f=function(h){return o<n?v(h):s.push(h)},v=function(h){c&&r.next(h),o++;var m=!1;YN(t(h,l++)).subscribe(ma(r,function(y){i?.(y),c?f(y):r.next(y)},function(){m=!0},void 0,function(){if(m)try{o--;for(var y=function(){var g=s.shift();u?aqr(r,u,function(){return v(g)}):v(g)};s.length&&o<n;)y();p()}catch(g){r.error(g)}}))};return e.subscribe(ma(r,f,function(){d=!0,p()})),function(){a?.()}}function eI(e,r,t){return t===void 0&&(t=1/0),tt(r)?eI(function(n,i){return _l(function(c,u){return r(n,c,i,u)})(YN(e(n,i)))},t):(typeof r=="number"&&(t=r),Ya(function(n,i){return uqr(n,i,e,t)}))}var lqr=["addListener","removeListener"],dqr=["addEventListener","removeEventListener"],pqr=["on","off"];function gq(e,r,t,n){if(tt(t)&&(n=t,t=void 0),n)return gq(e,r,t).pipe(cqr(n));var i=Uc(vqr(e)?dqr.map(function(a){return function(s){return e[a](r,s,t)}}):fqr(e)?lqr.map(oK(e,r)):hqr(e)?pqr.map(oK(e,r)):[],2),c=i[0],u=i[1];if(!c&&lre(e))return eI(function(a){return gq(a,r,t)})(YN(e));if(!c)throw new TypeError("Invalid event target");return new Ai(function(a){var s=function(){for(var o=[],l=0;l<arguments.length;l++)o[l]=arguments[l];return a.next(1<o.length?o:o[0])};return c(s),function(){return u(s)}})}function oK(e,r){return function(t){return function(n){return e[t](r,n)}}}function fqr(e){return tt(e.addListener)&&tt(e.removeListener)}function hqr(e){return tt(e.on)&&tt(e.off)}function vqr(e){return tt(e.addEventListener)&&tt(e.removeEventListener)}function fre(e,r){return Ya(function(t,n){var i=0;t.subscribe(ma(n,function(c){return e.call(r,c,i++)&&n.next(c)}))})}function mqr(e){return Ya(function(r,t){var n=!1;r.subscribe(ma(t,function(i){n=!0,t.next(i)},function(){n||t.next(e),t.complete()}))})}function yqr(e){return e<=0?function(){return JEr}:Ya(function(r,t){var n=0;r.subscribe(ma(t,function(i){++n<=e&&(t.next(i),e<=n&&t.complete())}))})}function gqr(e){return e===void 0&&(e=bqr),Ya(function(r,t){var n=!1;r.subscribe(ma(t,function(i){n=!0,t.next(i)},function(){return n?t.complete():t.error(e())}))})}function bqr(){return new pre}function _qr(e,r){var t=arguments.length>=2;return function(n){return n.pipe(e?fre(function(i,c){return e(i,c,n)}):Kq,yqr(1),t?mqr(r):gqr(function(){return new pre}))}}function wqr(e){return Ya(function(r,t){YN(e).subscribe(ma(t,function(){return t.complete()},mq)),!t.closed&&r.subscribe(t)})}function Sqr(e,r,t){var n=tt(e)||r||t?{next:e,error:r,complete:t}:e;return n?Ya(function(i,c){var u;(u=n.subscribe)===null||u===void 0||u.call(n);var a=!0;i.subscribe(ma(c,function(s){var o;(o=n.next)===null||o===void 0||o.call(n,s),c.next(s)},function(){var s;a=!1,(s=n.complete)===null||s===void 0||s.call(n),c.complete()},function(s){var o;a=!1,(o=n.error)===null||o===void 0||o.call(n,s),c.error(s)},function(){var s,o;a&&((s=n.unsubscribe)===null||s===void 0||s.call(n)),(o=n.finalize)===null||o===void 0||o.call(n)}))}):Kq}var cK="1",uK="2",lK="3",dK="4",pK="5",fK="6",hK="7",vK="8",mK="q",yK="w",gK="e",bK="r",_K="t",wK="y",SK="u",xK="i",OK="!",DK="@",NK="#",CK="$",AK="%",MK="^",PK="&",EK="*",qK="Q",IK="W",BK="E",kK="R",jK="T",TK="Y",RK="U",FK="I",LK="p",UK="0",zK="=",JK="-",VK="]",GK="[",rI="0",tI="1",nI="6",iI="7",aI="2",sI="3",oI="4",cI="5",hre="1",vre="0",mre="1",yre="2",gre="3",bre="4",_re="5",wre="6",Sre="7",xre="8",Ore="Q",Dre="W",Nre="E",Cre="R",Are="T",Mre="Y",Pre="U",Ere="I",uI="0",lI="1",dI="2",pI="3",fI="4",hI="5",vI="6",qre="X",Ire="1",Bre="0",kre="x",jre="1",Tre="0",Rre="1",Fre="0",ZN="normal",mI="shorted",yI="biasMethod",gI="mvdd",bI="temp",_I="testSig",wI="biasDrp",SI="biasDrn",HK="d",xqr="D",Lre="Z",Ure="z",bq="1",_q="0",WK="G",$K="H",QK="J",YK="K",ZK="L",XK="A",KK="S",eee="F",ree="a",Oqr="j",tee="1hour",nee="2hour",iee="4hour",aee="12hour",see="24hour",oee="5min",cee="15min",uee="30min",lee="14sec",Dqr="b",Nqr="s",Cqr="?",dee="CH1SET",pee="CH2SET",fee="CH3SET",hee="CH4SET",vee="CH5SET",mee="CH6SET",yee="CH7SET",gee="CH8SET",Aqr="v",Mqr="c",Pqr="C",Eqr="",qqr="daisy removed",Iqr="16",Bqr="daisy attached16",kqr="no daisy to attach!8",jqr="g",Tqr="f",Rqr="`",Fqr="<",Lqr=",",zre="/",Jre="0",Vre="1",Gre="2",Hre="3",Uqr="/",Wre="analog",$re="default",Qre="debug",Yre="digital",Zre="~",Xre="0",Kre="1",ete="2",rte="3",tte="4",nte="5",ite="6",ate="0",ste="1",ote="2",cte="3",ute="4",lte="5",dte="6",pte="7",zqr="~",Jqr="n",Vqr="N",Gqr="{",Hqr="}",Wqr=";",$qr=":",wl="cyton",oq="cytonBLE",qN="daisy",Qqr="default",Sl="ganglion",cq="none",Yqr="60Hz",Zqr="50Hz",Xqr="none",Kqr="random",eIr="fullBuffers",rIr="oneByOne",tIr="none",nIr="Invalid Packet Byte Length",iIr="Invalid Start Byte",aIr="Invalid Stop Byte",sIr="Invalid data - try again",oIr="Invalid type - check comments for input type",cIr="Missing register setting",uIr="Missing property in JSON",lIr="Scan already under way",dIr="No scan started",pIr="Please turn blue tooth on.",fIr="'this.sync.curSyncObj' must not be null",hIr="Missed the time sync sent confirmation. Try sync again",vIr="Undefined or Null Input",bee="bad",_ee="none",wee="good",mIr="init",See="ok",yIr="OpenBCISimulator",gIr="v1",bIr="v2",_Ir="v3",wIr="Daisy",SIr="v2",xIr="Failure",OIr="$$$",DIr="Success",NIr="rawAux",CIr="standard",AIr="default",MIr="fast",PIr="accelerometer",EIr="blePoweredOn",qIr="close",IIr="droppedPacket",BIr="eot",kIr="error",jIr="ganglionFound",TIr="hardSet",RIr="impedance",FIr="impedanceArray",LIr="message",UIr="query",zIr="rawDataPacket",JIr="ready",VIr="rfduino",GIr="sample",HIr="scanStopped",WIr="synced",$Ir="wifiShield",QIr={max:100,min:1},YIr={max:200,min:101},ZIr=201,XIr=202,KIr=203,eBr=204,rBr=205,tBr=206,nBr=207,iBr=20,aBr=2,sBr={auxByte:20,byteId:0,dataStart:1,dataStop:19},oBr={byteId:0,dataStart:1,dataStop:20},fte=51,hte=1.2,xI="Ganglion",cBr="t",uBr="T",lBr="z",dBr="Z",pBr=hte/(8388607*fte*1.5),fBr="fe84",hBr="2d30c082f39f4ce6923f3484ea480596",vBr="2d30c083f39f4ce6923f3484ea480596",mBr="2d30c084f39f4ce6923f3484ea480596",yBr="2220",gBr="2221",bBr="2222",_Br="2223",wBr=3,SBr="connect",xBr="disconnect",OBr="discover",DBr="servicesDiscover",NBr="characteristicsDiscover",CBr="read",ABr="discover",MBr="scanStart",PBr="scanStop",EBr="stateChange",qBr="poweredOn",IBr="ble",BBr="serial",kBr="wifi",OI=`
LIS3DH Registers
0x07.0
0x08.0
0x09.0
0x0A.0
0x0B.0
0x0C.0
0x0D.0
0x0E.0
0x0F.33

0x1F.0
0x20.8
0x21.0
0x22.0
0x23.18
0x24.0
0x25.0
0x26.0
0x27.0
0x28.0
0x29.0
0x2A.0
0x2B.0
0x2C.0
0x2D.0
0x2E.0
0x2F.20
0x30.0
0x31.0
0x32.0
0x33.0

0x38.0
0x39.0
0x3A.0
0x3B.0
0x3C.0
0x3D.0
`,DI=`
LIS3DH Registers
0x07 00
0x08 00
0x09 00
0x0A 00
0x0B 00
0x0C 00
0x0D 00
0x0E 00
0x0F 33

0x1F 00
0x20 08
0x21 00
0x22 00
0x23 18
0x24 00
0x25 00
0x26 00
0x27 00
0x28 00
0x29 00
0x2A 00
0x2B 00
0x2C 00
0x2D 00
0x2E 00
0x2F 20
0x30 00
0x31 00
0x32 00
0x33 00

0x38 00
0x39 00
0x3A 00
0x3B 00
0x3C 00
0x3D 00
`,Fl=`
Board ADS Registers
ADS_ID, 00, 3E, 0, 0, 1, 1, 1, 1, 1, 0
CONFIG1, 01, 96, 1, 0, 0, 1, 0, 1, 1, 0
CONFIG2, 02, C0, 1, 1, 0, 0, 0, 0, 0, 0
CONFIG3, 03, EC, 1, 1, 1, 0, 1, 1, 0, 0
LOFF, 04, 02, 0, 0, 0, 0, 0, 0, 1, 0
CH1SET, 05, 68, 0, 1, 1, 0, 1, 0, 0, 0
CH2SET, 06, 68, 0, 1, 1, 0, 1, 0, 0, 0
CH3SET, 07, 68, 0, 1, 1, 0, 1, 0, 0, 0
CH4SET, 08, 68, 0, 1, 1, 0, 1, 0, 0, 0
CH5SET, 09, 68, 0, 1, 1, 0, 1, 0, 0, 0
CH6SET, 0A, 68, 0, 1, 1, 0, 1, 0, 0, 0
CH7SET, 0B, 68, 0, 1, 1, 0, 1, 0, 0, 0
CH8SET, 0C, 68, 0, 1, 1, 0, 1, 0, 0, 0
BIAS_SENSP, 0D, FF, 1, 1, 1, 1, 1, 1, 1, 1
BIAS_SENSN, 0E, FF, 1, 1, 1, 1, 1, 1, 1, 1
LOFF_SENSP, 0F, 00, 0, 0, 0, 0, 0, 0, 0, 0
LOFF_SENSN, 10, 00, 0, 0, 0, 0, 0, 0, 0, 0
LOFF_FLIP, 11, 00, 0, 0, 0, 0, 0, 0, 0, 0
LOFF_STATP, 12, 00, 0, 0, 0, 0, 0, 0, 0, 0
LOFF_STATN, 13, 00, 0, 0, 0, 0, 0, 0, 0, 0
GPIO, 14, 0F, 0, 0, 0, 0, 1, 1, 1, 1
MISC1, 15, 00, 0, 0, 0, 0, 0, 0, 0, 0
MISC2, 16, 00, 0, 0, 0, 0, 0, 0, 0, 0
CONFIG4, 17, 00, 0, 0, 0, 0, 0, 0, 0, 0
`,NI=`
Daisy ADS Registers
ADS_ID, 00, 3E, 0, 0, 1, 1, 1, 1, 1, 0
CONFIG1, 01, 96, 1, 0, 0, 1, 0, 1, 1, 0
CONFIG2, 02, C0, 1, 1, 0, 0, 0, 0, 0, 0
CONFIG3, 03, EC, 1, 1, 1, 0, 1, 1, 0, 0
LOFF, 04, 02, 0, 0, 0, 0, 0, 0, 1, 0
CH1SET, 05, 68, 0, 1, 1, 0, 1, 0, 0, 0
CH2SET, 06, 68, 0, 1, 1, 0, 1, 0, 0, 0
CH3SET, 07, 68, 0, 1, 1, 0, 1, 0, 0, 0
CH4SET, 08, 68, 0, 1, 1, 0, 1, 0, 0, 0
CH5SET, 09, 68, 0, 1, 1, 0, 1, 0, 0, 0
CH6SET, 0A, 68, 0, 1, 1, 0, 1, 0, 0, 0
CH7SET, 0B, 68, 0, 1, 1, 0, 1, 0, 0, 0
CH8SET, 0C, 68, 0, 1, 1, 0, 1, 0, 0, 0
BIAS_SENSP, 0D, FF, 1, 1, 1, 1, 1, 1, 1, 1
BIAS_SENSN, 0E, FF, 1, 1, 1, 1, 1, 1, 1, 1
LOFF_SENSP, 0F, 00, 0, 0, 0, 0, 0, 0, 0, 0
LOFF_SENSN, 10, 00, 0, 0, 0, 0, 0, 0, 0, 0
LOFF_FLIP, 11, 00, 0, 0, 0, 0, 0, 0, 0, 0
LOFF_STATP, 12, 00, 0, 0, 0, 0, 0, 0, 0, 0
LOFF_STATN, 13, 00, 0, 0, 0, 0, 0, 0, 0, 0
GPIO, 14, 0F, 0, 0, 0, 0, 1, 1, 1, 1
MISC1, 15, 00, 0, 0, 0, 0, 0, 0, 0, 0
MISC2, 16, 00, 0, 0, 0, 0, 0, 0, 0, 0
CONFIG4, 17, 00, 0, 0, 0, 0, 0, 0, 0, 0
`,jBr="MISC1",TBr="BIAS_SENSP",RBr=["CH1SET","CH2SET","CH3SET","CH4SET","CH5SET","CH6SET","CH7SET","CH8SET"],FBr=Fl.length+OI.length,LBr=Fl.length+NI.length+OI.length,UBr=Fl.length+DI.length,zBr=Fl.length+NI.length+DI.length,vte={OBCIChannelOff1:cK,OBCIChannelOff2:uK,OBCIChannelOff3:lK,OBCIChannelOff4:dK,OBCIChannelOff5:pK,OBCIChannelOff6:fK,OBCIChannelOff7:hK,OBCIChannelOff8:vK,OBCIChannelOff9:mK,OBCIChannelOff10:yK,OBCIChannelOff11:gK,OBCIChannelOff12:bK,OBCIChannelOff13:_K,OBCIChannelOff14:wK,OBCIChannelOff15:SK,OBCIChannelOff16:xK,commandChannelOff:function(e){return new Promise(function(r,t){switch(e){case 1:r(cK);break;case 2:r(uK);break;case 3:r(lK);break;case 4:r(dK);break;case 5:r(pK);break;case 6:r(fK);break;case 7:r(hK);break;case 8:r(vK);break;case 9:r(mK);break;case 10:r(yK);break;case 11:r(gK);break;case 12:r(bK);break;case 13:r(_K);break;case 14:r(wK);break;case 15:r(SK);break;case 16:r(xK);break;default:t(Error("Error [commandChannelOff]: Invalid Channel Number"));break}})},OBCIChannelOn1:OK,OBCIChannelOn2:DK,OBCIChannelOn3:NK,OBCIChannelOn4:CK,OBCIChannelOn5:AK,OBCIChannelOn6:MK,OBCIChannelOn7:PK,OBCIChannelOn8:EK,OBCIChannelOn9:qK,OBCIChannelOn10:IK,OBCIChannelOn11:BK,OBCIChannelOn12:kK,OBCIChannelOn13:jK,OBCIChannelOn14:TK,OBCIChannelOn15:RK,OBCIChannelOn16:FK,commandChannelOn:function(e){return new Promise(function(r,t){switch(e){case 1:r(OK);break;case 2:r(DK);break;case 3:r(NK);break;case 4:r(CK);break;case 5:r(AK);break;case 6:r(MK);break;case 7:r(PK);break;case 8:r(EK);break;case 9:r(qK);break;case 10:r(IK);break;case 11:r(BK);break;case 12:r(kK);break;case 13:r(jK);break;case 14:r(TK);break;case 15:r(RK);break;case 16:r(FK);break;default:t(Error("Error [commandChannelOn]: Invalid Channel Number"));break}})},OBCITestSignalConnectToDC:LK,OBCITestSignalConnectToGround:UK,OBCITestSignalConnectToPulse1xFast:zK,OBCITestSignalConnectToPulse1xSlow:JK,OBCITestSignalConnectToPulse2xFast:VK,OBCITestSignalConnectToPulse2xSlow:GK,getTestSignalCommand:e=>new Promise((r,t)=>{switch(e){case"dc":r(LK);break;case"ground":r(UK);break;case"pulse1xFast":r(zK);break;case"pulse1xSlow":r(JK);break;case"pulse2xFast":r(VK);break;case"pulse2xSlow":r(GK);break;case"none":r(HK);break;default:t(Error("Invalid selection! Check your spelling."));break}}),OBCIChannelCmdADCNormal:rI,OBCIChannelCmdADCShorted:tI,OBCIChannelCmdADCBiasDRP:nI,OBCIChannelCmdADCBiasDRN:iI,OBCIChannelCmdADCBiasMethod:aI,OBCIChannelCmdADCMVDD:sI,OBCIChannelCmdADCTemp:oI,OBCIChannelCmdADCTestSig:cI,OBCIChannelCmdBiasInclude:hre,OBCIChannelCmdBiasRemove:vre,OBCIChannelCmdChannel1:mre,OBCIChannelCmdChannel2:yre,OBCIChannelCmdChannel3:gre,OBCIChannelCmdChannel4:bre,OBCIChannelCmdChannel5:_re,OBCIChannelCmdChannel6:wre,OBCIChannelCmdChannel7:Sre,OBCIChannelCmdChannel8:xre,OBCIChannelCmdChannel9:Ore,OBCIChannelCmdChannel10:Dre,OBCIChannelCmdChannel11:Nre,OBCIChannelCmdChannel12:Cre,OBCIChannelCmdChannel13:Are,OBCIChannelCmdChannel14:Mre,OBCIChannelCmdChannel15:Pre,OBCIChannelCmdChannel16:Ere,commandChannelForCmd:CI,OBCIChannelCmdGain1:uI,OBCIChannelCmdGain2:lI,OBCIChannelCmdGain4:dI,OBCIChannelCmdGain6:pI,OBCIChannelCmdGain8:fI,OBCIChannelCmdGain12:hI,OBCIChannelCmdGain24:vI,commandForGain:yte,gainForCommand:YBr,OBCIChannelCmdLatch:qre,OBCIChannelCmdPowerOff:Ire,OBCIChannelCmdPowerOn:Bre,OBCIChannelCmdSet:kre,OBCIChannelCmdSRB1Connect:jre,OBCIChannelCmdSRB1Diconnect:Tre,OBCIChannelCmdSRB2Connect:Rre,OBCIChannelCmdSRB2Diconnect:Fre,channelSettingsObjectDefault:xee,channelSettingsArrayInit:e=>{for(var r=[],t=0;t<e;t++)r.push(xee(t));return r},OBCIStringADCNormal:ZN,OBCIStringADCShorted:mI,OBCIStringADCBiasMethod:yI,OBCIStringADCMvdd:gI,OBCIStringADCTemp:bI,OBCIStringADCTestSig:_I,OBCIStringADCBiasDrp:wI,OBCIStringADCBiasDrn:SI,commandForADCString:mte,inputTypeForCommand:QBr,OBCIChannelDefaultAllSet:HK,OBCIChannelDefaultAllGet:xqr,OBCIChannelImpedanceLatch:Lre,OBCIChannelImpedanceSet:Ure,OBCIChannelImpedanceTestSignalApplied:bq,OBCIChannelImpedanceTestSignalAppliedNot:_q,OBCISDLogForHour1:WK,OBCISDLogForHour2:$K,OBCISDLogForHour4:QK,OBCISDLogForHour12:YK,OBCISDLogForHour24:ZK,OBCISDLogForMin5:XK,OBCISDLogForMin15:KK,OBCISDLogForMin30:eee,OBCISDLogForSec14:ree,OBCISDLogStop:Oqr,OBCIStringSDHour1:tee,OBCIStringSDHour2:nee,OBCIStringSDHour4:iee,OBCIStringSDHour12:aee,OBCIStringSDHour24:see,OBCIStringSDMin5:oee,OBCIStringSDMin15:cee,OBCIStringSDMin30:uee,OBCIStringSDSec14:lee,sdSettingForString:e=>new Promise((r,t)=>{switch(e){case tee:r(WK);break;case nee:r($K);break;case iee:r(QK);break;case aee:r(YK);break;case see:r(ZK);break;case oee:r(XK);break;case cee:r(KK);break;case uee:r(eee);break;case lee:r(ree);break;default:t(Error(TypeError));break}}),OBCIStreamStart:Dqr,OBCIStreamStop:Nqr,OBCIAccelStart:Jqr,OBCIAccelStop:Vqr,OBCIMiscQueryRegisterSettings:Cqr,OBCIMiscQueryRegisterSettingsChannel1:dee,OBCIMiscQueryRegisterSettingsChannel2:pee,OBCIMiscQueryRegisterSettingsChannel3:fee,OBCIMiscQueryRegisterSettingsChannel4:hee,OBCIMiscQueryRegisterSettingsChannel5:vee,OBCIMiscQueryRegisterSettingsChannel6:mee,OBCIMiscQueryRegisterSettingsChannel7:yee,OBCIMiscQueryRegisterSettingsChannel8:gee,channelSettingsKeyForChannel:e=>new Promise((r,t)=>{switch(e){case 1:r(new Buffer(dee));break;case 2:r(new Buffer(pee));break;case 3:r(new Buffer(fee));break;case 4:r(new Buffer(hee));break;case 5:r(new Buffer(vee));break;case 6:r(new Buffer(mee));break;case 7:r(new Buffer(yee));break;case 8:r(new Buffer(gee));break;default:t(Error("Invalid channel number"));break}}),OBCIMiscSoftReset:Aqr,OBCIChannelMaxNumber8:Mqr,OBCIChannelMaxNumber16:Pqr,OBCIChannelMaxNumber8NoDaisyToRemove:Eqr,OBCIChannelMaxNumber8SuccessDaisyRemoved:qqr,OBCIChannelMaxNumber16DaisyAlreadyAttached:Iqr,OBCIChannelMaxNumber16DaisyAttached:Bqr,OBCIChannelMaxNumber16NoDaisyAttached:kqr,OBCIFilterDisable:jqr,OBCIFilterEnable:Tqr,OBCITrigger:Rqr,OBCINumberOfChannelsCyton:8,OBCINumberOfChannelsCytonBLE:2,OBCINumberOfChannelsDaisy:16,OBCINumberOfChannelsDefault:8,OBCINumberOfChannelsGanglion:4,OBCIBoardCyton:wl,OBCIBoardCytonBLE:oq,OBCIBoardDaisy:qN,OBCIBoardDefault:Qqr,OBCIBoardGanglion:Sl,OBCIBoardNone:cq,numberOfChannelsForBoardType:e=>{switch(e){case qN:return 16;case Sl:return 4;case cq:return 0;case oq:return 2;case wl:default:return 8}},boardTypeForNumberOfChannels:e=>{switch(e){case 16:return qN;case 4:return Sl;case 0:return cq;case 2:return oq;case 8:default:return wl}},OBCISampleRate1000:1e3,OBCISampleRate125:125,OBCISampleRate12800:12800,OBCISampleRate1600:1600,OBCISampleRate16000:16e3,OBCISampleRate200:200,OBCISampleRate2000:2e3,OBCISampleRate250:250,OBCISampleRate25600:25600,OBCISampleRate3200:3200,OBCISampleRate400:400,OBCISampleRate4000:4e3,OBCISampleRate500:500,OBCISampleRate6400:6400,OBCISampleRate800:800,OBCISampleRate8000:8e3,OBCISampleNumberMax:255,OBCIPacketSize:33,OBCIPacketSizeBLECyton:20,OBCIPacketSizeBLERaw:12,OBCIByteStart:160,OBCIByteStop:192,OBCIErrorInvalidByteLength:nIr,OBCIErrorInvalidByteStart:iIr,OBCIErrorInvalidByteStop:aIr,OBCIErrorInvalidData:sIr,OBCIErrorInvalidType:oIr,OBCIErrorMissingRegisterSetting:cIr,OBCIErrorMissingRequiredProperty:uIr,OBCIErrorNobleAlreadyScanning:lIr,OBCIErrorNobleNotAlreadyScanning:dIr,OBCIErrorNobleNotInPoweredOnState:pIr,OBCIErrorTimeSyncIsNull:fIr,OBCIErrorTimeSyncNoComma:hIr,OBCIErrorUndefinedOrNullInput:vIr,OBCIMasterBufferSize:4096,OBCILeadOffDriveInAmps:6e-9,OBCILeadOffFrequencyHz:31.5,getChannelSetter:JBr,getImpedanceSetter:VBr,getSampleRateSetter:GBr,getBoardModeSetter:HBr,OBCIWriteIntervalDelayMSLong:50,OBCIWriteIntervalDelayMSNone:0,OBCIWriteIntervalDelayMSShort:10,OBCISyncTimeSent:Lqr,OBCISyncTimeSet:Fqr,OBCIRadioKey:240,OBCIRadioCmdChannelGet:0,OBCIRadioCmdChannelSet:1,OBCIRadioCmdChannelSetOverride:2,OBCIRadioCmdPollTimeGet:3,OBCIRadioCmdPollTimeSet:4,OBCIRadioCmdBaudRateSetDefault:5,OBCIRadioCmdBaudRateSetFast:6,OBCIRadioCmdSystemStatus:7,OBCIImpedanceTextBad:bee,OBCIImpedanceTextGood:wee,OBCIImpedanceTextInit:mIr,OBCIImpedanceTextOk:See,OBCIImpedanceTextNone:_ee,OBCIImpedanceThresholdBadMax:1e6,OBCIImpedanceSeriesResistor:2200,getTextForRawImpedance:e=>e>0&&e<5e3?wee:e>5001&&e<1e4?See:e>10001&&e<1e6?bee:_ee,OBCISimulatorPortName:yIr,OBCIStreamPacketStandardAccel:0,OBCIStreamPacketStandardRawAux:1,OBCIStreamPacketUserDefinedType:2,OBCIStreamPacketAccelTimeSyncSet:3,OBCIStreamPacketAccelTimeSynced:4,OBCIStreamPacketRawAuxTimeSyncSet:5,OBCIStreamPacketRawAuxTimeSynced:6,OBCIStreamPacketImpedance:7,isNumber:Cl,isBoolean:so,isString:XN,isUndefined:WBr,isNull:$Br,OBCIPacketPositionStartByte:0,OBCIPacketPositionStopByte:32,OBCIPacketPositionStartAux:26,OBCIPacketPositionStopAux:31,OBCIPacketPositionChannelDataStart:2,OBCIPacketPositionChannelDataStop:25,OBCIPacketPositionSampleNumber:1,OBCIPacketPositionTimeSyncAuxStart:26,OBCIPacketPositionTimeSyncAuxStop:28,OBCIPacketPositionTimeSyncTimeStart:28,OBCIPacketPositionTimeSyncTimeStop:32,OBCISimulatorLineNoiseHz60:Yqr,OBCISimulatorLineNoiseHz50:Zqr,OBCISimulatorLineNoiseNone:Xqr,OBCISimulatorFragmentationRandom:Kqr,OBCISimulatorFragmentationFullBuffers:eIr,OBCISimulatorFragmentationOneByOne:rIr,OBCISimulatorFragmentationNone:tIr,OBCIFirmwareV1:gIr,OBCIFirmwareV2:bIr,OBCIFirmwareV3:_Ir,OBCIAccelAxisX:7,OBCIAccelAxisY:8,OBCIAccelAxisZ:9,OBCIStreamPacketTimeByteSize:4,OBCIParseDaisy:wIr,OBCIParseFailure:xIr,OBCIParseFirmware:SIr,OBCIParseEOT:OIr,OBCIParseSuccess:DIr,OBCIParsingChannelSettings:2,OBCIParsingEOT:4,OBCIParsingNormal:3,OBCIParsingReset:0,OBCIParsingTimeSyncSent:1,OBCITimeoutProcessBytes:500,OBCISimulatorRawAux:NIr,OBCISimulatorStandard:CIr,OBCIRadioChannelMax:25,OBCIRadioChannelMin:1,OBCIRadioPollTimeMax:255,OBCIRadioPollTimeMin:0,OBCITimeSyncArraySize:10,OBCITimeSyncMultiplierWithSyncConf:.9,OBCITimeSyncMultiplierWithoutSyncConf:.75,OBCITimeSyncThresholdTransFailureMS:10,OBCIBoardModeSet:zre,OBCIBoardModeCmdDefault:Jre,OBCIBoardModeCmdDebug:Vre,OBCIBoardModeCmdAnalog:Gre,OBCIBoardModeCmdDigital:Hre,OBCIBoardModeCmdGetCur:Uqr,OBCIBoardModeAnalog:Wre,OBCIBoardModeDefault:$re,OBCIBoardModeDebug:Qre,OBCIBoardModeDigital:Yre,OBCISampleRateSet:Zre,OBCISampleRateCmdCyton16000:Xre,OBCISampleRateCmdCyton8000:Kre,OBCISampleRateCmdCyton4000:ete,OBCISampleRateCmdCyton2000:rte,OBCISampleRateCmdCyton1000:tte,OBCISampleRateCmdCyton500:nte,OBCISampleRateCmdCyton250:ite,OBCISampleRateCmdGang25600:ate,OBCISampleRateCmdGang12800:ste,OBCISampleRateCmdGang6400:ote,OBCISampleRateCmdGang3200:cte,OBCISampleRateCmdGang1600:ute,OBCISampleRateCmdGang800:lte,OBCISampleRateCmdGang400:dte,OBCISampleRateCmdGang200:pte,OBCISampleRateCmdGetCur:zqr,OBCIWifiAttach:Gqr,OBCIWifiRemove:Hqr,OBCIWifiReset:Wqr,OBCIWifiStatus:$qr,OBCIRadioBaudRateDefault:115200,OBCIRadioBaudRateDefaultStr:AIr,OBCIRadioBaudRateFast:230400,OBCIRadioBaudRateFastStr:MIr,OBCIEmitterAccelerometer:PIr,OBCIEmitterBlePoweredUp:EIr,OBCIEmitterClose:qIr,OBCIEmitterDroppedPacket:IIr,OBCIEmitterEot:BIr,OBCIEmitterError:kIr,OBCIEmitterGanglionFound:jIr,OBCIEmitterHardSet:TIr,OBCIEmitterImpedance:RIr,OBCIEmitterImpedanceArray:FIr,OBCIEmitterMessage:LIr,OBCIEmitterQuery:UIr,OBCIEmitterRawDataPacket:zIr,OBCIEmitterReady:JIr,OBCIEmitterRFduino:VIr,OBCIEmitterSample:GIr,OBCIEmitterScanStopped:HIr,OBCIEmitterSynced:WIr,OBCIEmitterWifiShield:$Ir,OBCIGanglionAccelAxisX:1,OBCIGanglionAccelAxisY:2,OBCIGanglionAccelAxisZ:3,OBCIGanglionBleSearchTime:2e4,OBCIGanglionByteIdUncompressed:0,OBCIGanglionByteId18Bit:QIr,OBCIGanglionByteId19Bit:YIr,OBCIGanglionByteIdImpedanceChannel1:ZIr,OBCIGanglionByteIdImpedanceChannel2:XIr,OBCIGanglionByteIdImpedanceChannel3:KIr,OBCIGanglionByteIdImpedanceChannel4:eBr,OBCIGanglionByteIdImpedanceChannelReference:rBr,OBCIGanglionByteIdMultiPacket:tBr,OBCIGanglionByteIdMultiPacketStop:nBr,OBCIGanglionMCP3912Gain:fte,OBCIGanglionMCP3912Vref:hte,OBCIGanglionPacketSize:iBr,OBCIGanglionPacket18Bit:sBr,OBCIGanglionPacket19Bit:oBr,OBCIGanglionPrefix:xI,OBCIGanglionSamplesPerPacket:aBr,OBCIGanglionSyntheticDataEnable:cBr,OBCIGanglionSyntheticDataDisable:uBr,OBCIGanglionImpedanceStart:lBr,OBCIGanglionImpedanceStop:dBr,OBCIGanglionScaleFactorPerCountVolts:pBr,SimbleeUuidService:fBr,SimbleeUuidReceive:hBr,SimbleeUuidSend:vBr,SimbleeUuidDisconnect:mBr,RFduinoUuidService:yBr,RFduinoUuidReceive:gBr,RFduinoUuidSend:bBr,RFduinoUuidSendTwo:_Br,OBCICytonBLESamplesPerPacket:wBr,OBCIGanglionAccelScaleFactor:.016,OBCINobleEmitterPeripheralConnect:SBr,OBCINobleEmitterPeripheralDisconnect:xBr,OBCINobleEmitterPeripheralDiscover:OBr,OBCINobleEmitterPeripheralServicesDiscover:DBr,OBCINobleEmitterServiceCharacteristicsDiscover:NBr,OBCINobleEmitterServiceRead:CBr,OBCINobleEmitterDiscover:ABr,OBCINobleEmitterScanStart:MBr,OBCINobleEmitterScanStop:PBr,OBCINobleEmitterStateChange:EBr,OBCINobleStatePoweredOn:qBr,getPeripheralLocalNames:KBr,getPeripheralWithLocalName:ekr,getVersionNumber:rkr,isPeripheralGanglion:tkr,commandSampleRateForCmdCyton:gte,commandSampleRateForCmdGanglion:bte,commandBoardModeForMode:_te,rawDataToSampleObjectDefault:ZBr,OBCIProtocolBLE:IBr,OBCIProtocolSerial:BBr,OBCIProtocolWifi:kBr,OBCIRegisterQueryAccelerometerFirmwareV1:OI,OBCIRegisterQueryAccelerometerFirmwareV3:DI,OBCIRegisterQueryCyton:Fl,OBCIRegisterQueryCytonDaisy:NI,OBCIRegisterQueryNameMISC1:jBr,OBCIRegisterQueryNameBIASSENSP:TBr,OBCIRegisterQueryNameCHnSET:RBr,OBCIRegisterQuerySizeCytonFirmwareV1:FBr,OBCIRegisterQuerySizeCytonDaisyFirmwareV1:LBr,OBCIRegisterQuerySizeCytonFirmwareV3:UBr,OBCIRegisterQuerySizeCytonDaisyFirmwareV3:zBr};function JBr(e,r,t,n,i,c,u){var a,s,o,l;return new Promise(function(d,p){Cl(e)||p(Error("channelNumber must be of type 'number' ")),so(r)||p(Error("powerDown must be of type 'boolean' ")),Cl(t)||p(Error("gain must be of type 'number' ")),XN(n)||p(Error("inputType must be of type 'string' ")),so(i)||p(Error("bias must be of type 'boolean' ")),so(c)||p(Error("srb1 must be of type 'boolean' ")),so(u)||p(Error("srb2 must be of type 'boolean' "));var f=CI(e).catch(y=>p(y));a=r?Ire:Bre;var v=yte(t).catch(y=>p(y)),h=mte(n).catch(y=>p(y));s=i?hre:vre,o=c?Rre:Fre,l=u?jre:Tre;var m={channelNumber:e,powerDown:r,gain:t,inputType:n,bias:i,srb2:c,srb1:u};Promise.all([f,v,h]).then(function(y){var g=[kre,y[0],a,y[1],y[2],s,o,l,qre];d({commandArray:g,newChannelSettingsObject:m})})})}function VBr(e,r,t){var n,i;return new Promise((c,u)=>{Cl(e)||u(Error("channelNumber must be of type 'number' ")),so(r)||u(Error("pInputApplied must be of type 'boolean' ")),so(t)||u(Error("nInputApplied must be of type 'boolean' ")),i=r?bq:_q,n=t?bq:_q,CI(e).then(a=>{var s=[Ure,a,i,n,Lre];c(s)}).catch(a=>u(a))})}function GBr(e,r){return new Promise((t,n)=>{if(!XN(e))return n(Error("board type must be of type 'string' "));if(!Cl(r))return n(Error("sampleRate must be of type 'number' "));r=Math.floor(r);let i;if(e===wl||e===qN)i=gte;else if(e===Sl)i=bte;else return n(Error(`boardType must be either ${wl} or ${Sl}`));i(r).then(c=>{var u=[Zre,c];t(u)}).catch(c=>n(c))})}function HBr(e){return new Promise((r,t)=>{if(!XN(e))return t(Error("board mode must be of type 'string' "));_te(e).then(n=>{var i=[zre,n];r(i)}).catch(n=>t(n))})}function Cl(e){return typeof e=="number"}function so(e){return typeof e=="boolean"}function XN(e){return typeof e=="string"}function WBr(e){return typeof e>"u"}function $Br(e){return e===null}function mte(e){return new Promise(function(r,t){switch(e){case ZN:r(rI);break;case mI:r(tI);break;case yI:r(aI);break;case gI:r(sI);break;case bI:r(oI);break;case _I:r(cI);break;case wI:r(nI);break;case SI:r(iI);break;default:t(Error("Invalid ADC string"));break}})}function QBr(e){switch(String(e)){case rI:return ZN;case tI:return mI;case aI:return yI;case sI:return gI;case oI:return bI;case cI:return _I;case nI:return wI;case iI:return SI;default:throw new Error("Invalid input type, must be less than 8")}}function yte(e){return new Promise(function(r,t){switch(e){case 1:r(uI);break;case 2:r(lI);break;case 4:r(dI);break;case 6:r(pI);break;case 8:r(fI);break;case 12:r(hI);break;case 24:r(vI);break;default:t(Error("Invalid gain setting of "+e+" gain must be (1,2,4,6,8,12,24)"));break}})}function YBr(e){switch(String(e)){case uI:return 1;case lI:return 2;case dI:return 4;case pI:return 6;case fI:return 8;case hI:return 12;case vI:return 24;default:throw new Error(`Invalid gain setting of ${e} gain must be (0,1,2,3,4,5,6)`)}}function CI(e){return new Promise(function(r,t){switch(e){case 1:r(mre);break;case 2:r(yre);break;case 3:r(gre);break;case 4:r(bre);break;case 5:r(_re);break;case 6:r(wre);break;case 7:r(Sre);break;case 8:r(xre);break;case 9:r(Ore);break;case 10:r(Dre);break;case 11:r(Nre);break;case 12:r(Cre);break;case 13:r(Are);break;case 14:r(Mre);break;case 15:r(Pre);break;case 16:r(Ere);break;default:t(Error("Invalid channel number"));break}})}function xee(e){return{channelNumber:e,powerDown:!1,gain:24,inputType:ZN,bias:!0,srb2:!0,srb1:!1}}function ZBr(e){return e===void 0&&(e=8),{accelArray:[0,0,0],channelSettings:vte.channelSettingsArrayInit(e),decompressedSamples:XBr(e),lastSampleNumber:0,rawDataPacket:Buffer.alloc(33),rawDataPackets:[],scale:!0,sendCounts:!1,timeOffset:0,verbose:!1}}function XBr(e){let r=[];for(let t=0;t<3;t++)r.push(new Array(e));return r}function gte(e){return new Promise(function(r,t){switch(e){case 16e3:r(Xre);break;case 8e3:r(Kre);break;case 4e3:r(ete);break;case 2e3:r(rte);break;case 1e3:r(tte);break;case 500:r(nte);break;case 250:r(ite);break;default:t(Error("Invalid sample rate"));break}})}function bte(e){return new Promise(function(r,t){switch(e){case 25600:r(ate);break;case 12800:r(ste);break;case 6400:r(ote);break;case 3200:r(cte);break;case 1600:r(ute);break;case 800:r(lte);break;case 400:r(dte);break;case 200:r(pte);break;default:t(Error("Invalid sample rate"));break}})}function _te(e){return new Promise(function(r,t){switch(e){case $re:r(Jre);break;case Qre:r(Vre);break;case Wre:r(Gre);break;case Yre:r(Hre);break;default:t(Error("Invalid sample rate"));break}})}function KBr(e){return new Promise((r,t)=>{var n=[];return e.forEach(i=>{n.push(i.advertisement.localName)}),n.length>0?r(n):t(Error(`No peripherals discovered with prefix equal to ${xI}`))})}function ekr(e,r){return new Promise((t,n)=>typeof e!="object"?n(Error("pArray must be of type Object")):(e.forEach(i=>{if(i.advertisement.hasOwnProperty("localName")&&i.advertisement.localName===r)return t(i)}),n(Error(`No peripheral found with localName: ${r}`))))}function rkr(e){return Number(e[1])}function tkr(e){return!!(e&&e.hasOwnProperty("advertisement")&&e.advertisement!==null&&e.advertisement.hasOwnProperty("localName")&&e.advertisement.localName!==void 0&&e.advertisement.localName!==null&&e.advertisement.localName.indexOf(xI)>-1)}var ae=vte,no=4.5,Fc=.002/Math.pow(2,4),wte=3,Vn={extractRawDataPackets:e=>{if(!e)return{buffer:e,rawDataPackets:[]};let r=e.length,t=[];if(r<ae.OBCIPacketSize)return{buffer:e,rawDataPackets:t};let n=0;for(;n<=r-ae.OBCIPacketSize;){if(e[n]===ae.OBCIByteStart&&Ol(e[n+ae.OBCIPacketSize-1])){let i;i=Uint8Array.from(e.slice(n,n+ae.OBCIPacketSize)),t.push(i);let c;n>0?c=Uint8Array.concat([Uint8Array.from(e.slice(0,n)),Uint8Array.from(e.slice(n+ae.OBCIPacketSize))]):c=Uint8Array.from(e.slice(ae.OBCIPacketSize)),c.length===0?e=null:e=Uint8Array.from(c),n=-1,r-=ae.OBCIPacketSize}n++}return{buffer:e,rawDataPackets:t}},extractRawBLEDataPackets:e=>{let r=[];if(ae.isNull(e)||e.byteLength!==ae.OBCIPacketSizeBLECyton)return r;let t=[0,0,0];t[0]=e[1],t[1]=t[0]+1,t[1]>255&&(t[1]-=256),t[2]=t[1]+1,t[2]>255&&(t[2]-=256);for(let n=0;n<ae.OBCICytonBLESamplesPerPacket;n++){let i=Vn.samplePacketZero(t[n]);i[0]=ae.OBCIByteStart,i[ae.OBCIPacketPositionStopByte]=e[0],e.copy(i,ae.OBCIPacketPositionChannelDataStart,ae.OBCIPacketPositionChannelDataStart+n*6,ae.OBCIPacketPositionChannelDataStart+6+n*6),r.push(i)}return r},transformRawDataPacketToSample:Nte,transformRawDataPacketsToSample:ckr,convertGanglionArrayToBuffer:ukr,getRawPacketType:Pte,getFromTimePacketAccel:Cte,getFromTimePacketTime:MI,getFromTimePacketRawAux:PI,ganglionFillRawDataPacket:lkr,parsePacketStandardAccel:dkr,parsePacketStandardRawAux:pkr,parsePacketTimeSyncedAccel:fkr,parsePacketTimeSyncedRawAux:hkr,parsePacketImpedance:vkr,convertSampleToPacketStandard:e=>{let r=new Uint8Array(ae.OBCIPacketSize);r.fill(0),r[0]=ae.OBCIByteStart,r[1]=e.sampleNumber;for(let t=0;t<ae.OBCINumberOfChannelsDefault;t++)xl(e.channelData[t]).copy(r,2+t*3);for(let t=0;t<3;t++)Nee(e.auxData[t]).copy(r,ae.OBCIPacketSize-1-6+t*2);return r[ae.OBCIPacketSize-1]=ae.OBCIByteStop,r},convertSampleToPacketRawAux:(e,r)=>{let t=new Uint8Array(ae.OBCIPacketSize);t.fill(0),t[0]=ae.OBCIByteStart,t[1]=e.sampleNumber;for(let n=0;n<ae.OBCINumberOfChannelsDefault;n++)xl(e.channelData[n]).copy(t,2+n*3);return r.copy(t,26),t[ae.OBCIPacketSize-1]=en(ae.OBCIStreamPacketStandardRawAux),t},convertSampleToPacketAccelTimeSyncSet:(e,r)=>{let t=Aee(e,r);return t[ae.OBCIPacketPositionStopByte]=en(ae.OBCIStreamPacketAccelTimeSyncSet),t},convertSampleToPacketAccelTimeSynced:Aee,convertSampleToPacketRawAuxTimeSyncSet:(e,r,t)=>{let n=Cee(e,r,t);return n[ae.OBCIPacketPositionStopByte]=en(ae.OBCIStreamPacketRawAuxTimeSyncSet),n},convertSampleToPacketRawAuxTimeSynced:Cee,debugPrettyPrint:e=>{if(e==null)console.log("== Sample is undefined ==");else{console.log("-- Sample --"),console.log("---- Start Byte: "+e.startByte),console.log("---- Sample Number: "+e.sampleNumber);for(let r=0;r<8;r++)console.log("---- Channel Data "+(r+1)+": "+e.channelData[r]);if(e.accelData)for(let r=0;r<3;r++)console.log("---- Accel Data "+r+": "+e.accelData[r]);e.auxData&&console.log("---- Aux Data "+e.auxData),console.log("---- Stop Byte: "+e.stopByte)}},samplePrintHeader:()=>`All voltages in Volts!sampleNumber, channel1, channel2, channel3, channel4, channel5, channel6, channel7, channel8, aux1, aux2, aux3
`,samplePrintLine:e=>new Promise((r,t)=>{e==null&&t(Error("undefined sample")),r(e.sampleNumber+","+e.channelData[0].toFixed(8)+","+e.channelData[1].toFixed(8)+","+e.channelData[2].toFixed(8)+","+e.channelData[3].toFixed(8)+","+e.channelData[4].toFixed(8)+","+e.channelData[5].toFixed(8)+","+e.channelData[6].toFixed(8)+","+e.channelData[7].toFixed(8)+","+e.auxData[0].toFixed(8)+","+e.auxData[1].toFixed(8)+","+e.auxData[2].toFixed(8)+`
`)}),floatTo3ByteBuffer:xl,floatTo2ByteBuffer:Nee,impedanceCalculationForChannel:(e,r)=>{let t=Math.sqrt(2);return new Promise((n,i)=>{e==null&&i(Error("Sample Object cannot be null or undefined")),(e.channelData===void 0||e.channelData===null)&&i(Error("Channel cannot be null or undefined")),(r<1||r>ae.OBCINumberOfChannelsDefault)&&i(Error("Channel number invalid."));let c=r-1;e.channelData[c]<0&&(e.channelData[c]*=-1);let u=t*e.channelData[c]/ae.OBCILeadOffDriveInAmps;n(u)})},impedanceCalculationForAllChannels:e=>{let r=Math.sqrt(2);return new Promise((t,n)=>{e==null&&n(Error("Sample Object cannot be null or undefined")),(e.channelData===void 0||e.channelData===null)&&n(Error("Channel cannot be null or undefined"));let i=[],c=e.channelData.length;for(let u=0;u<c;u++){e.channelData[u]<0&&(e.channelData[u]*=-1);let a=r*e.channelData[u]/ae.OBCILeadOffDriveInAmps;i.push(a)}e.impedances=i,t(e)})},interpret16bitAsInt32:e=>{let r=0;return e[0]>127&&(r=65535),r<<16|e[0]<<8|e[1]},interpret24bitAsInt32:e=>{let r=0;return e[0]>127&&(r=255),r<<24|e[0]<<16|e[1]<<8|e[2]},impedanceArray:e=>{let r=[];for(let t=0;t<e;t++)r.push(Dee(t+1));return r},impedanceObject:Dee,impedanceSummarize:e=>{e.raw>ae.OBCIImpedanceThresholdBadMax?e.text=ae.OBCIImpedanceTextNone:e.text=ae.getTextForRawImpedance(e.raw)},newSample:Ete,newSampleNoScale:qte,scaleFactorAux:Fc,impedanceCalculateArray:(e,r)=>{if(r.buffer.push(e.channelData),r.count++,r.count>=r.window){let t=[];for(let n=0;n<e.channelData.length;n++){let i=0;for(let a=0;a<r.window;a++)r.buffer[n][a]>i&&(i=r.buffer[n][a]);let c=0;for(let a=0;a<r.window;a++)r.buffer[n][a]<c&&(c=r.buffer[n][a]);let u=i-c;t.push(u/2/ae.OBCILeadOffDriveInAmps)}return r.count=0,t}return null},impedanceTestObjDefault:e=>{let r=e||{};return r.active=!1,r.buffer=[],r.count=0,r.isTestingPInput=!1,r.isTestingNInput=!1,r.onChannel=0,r.sampleNumber=0,r.continuousMode=!1,r.impedanceForChannel=0,r.window=40,r},samplePacket:e=>new Uint8Array([160,fa(e),0,0,1,0,0,2,0,0,3,0,0,4,0,0,5,0,0,6,0,0,7,0,0,8,0,0,0,1,0,2,en(ae.OBCIStreamPacketStandardAccel)]),samplePacketZero:e=>new Uint8Array([160,fa(e),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,en(ae.OBCIStreamPacketStandardAccel)]),samplePacketReal:e=>new Uint8Array([160,fa(e),143,242,64,143,223,244,144,43,182,143,191,191,127,255,255,127,255,255,148,37,52,32,182,125,0,224,0,224,15,112,en(ae.OBCIStreamPacketStandardAccel)]),samplePacketStandardRawAux:e=>new Uint8Array([160,fa(e),0,0,1,0,0,2,0,0,3,0,0,4,0,0,5,0,0,6,0,0,7,0,0,8,0,1,2,3,4,5,en(ae.OBCIStreamPacketStandardRawAux)]),samplePacketAccelTimeSyncSet:e=>new Uint8Array([160,fa(e),0,0,1,0,0,2,0,0,3,0,0,4,0,0,5,0,0,6,0,0,7,0,0,8,0,1,0,0,0,1,en(ae.OBCIStreamPacketAccelTimeSyncSet)]),samplePacketAccelTimeSynced:e=>new Uint8Array([160,fa(e),0,0,1,0,0,2,0,0,3,0,0,4,0,0,5,0,0,6,0,0,7,0,0,8,0,1,0,0,0,1,en(ae.OBCIStreamPacketAccelTimeSynced)]),samplePacketRawAuxTimeSyncSet:e=>new Uint8Array([160,fa(e),0,0,1,0,0,2,0,0,3,0,0,4,0,0,5,0,0,6,0,0,7,0,0,8,0,1,0,0,0,1,en(ae.OBCIStreamPacketRawAuxTimeSyncSet)]),samplePacketRawAuxTimeSynced:e=>new Uint8Array([160,fa(e),0,0,1,0,0,2,0,0,3,0,0,4,0,0,5,0,0,6,0,0,7,0,0,8,0,1,0,0,0,1,en(ae.OBCIStreamPacketRawAuxTimeSynced)]),samplePacketImpedance:e=>new Uint8Array([160,e,54,52,49,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,en(ae.OBCIStreamPacketImpedance)]),samplePacketUserDefined:()=>new Uint8Array([160,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,en(ae.OBCIStreamPacketUserDefinedType)]),samplePacketCytonBLE:e=>new Uint8Array([192,fa(e),0,0,1,0,0,2,0,0,10,0,0,20,0,0,100,0,0,200]),getBiasSetFromADSRegisterQuery:Sq,getBooleanFromRegisterQuery:Al,getChannelDataArray:Ll,getChannelDataArrayNoScale:Ul,getDataArrayAccel:Ate,getDataArrayAccelNoScale:Mte,getFirmware:_kr,getSRB1FromADSRegisterQuery:wq,getNumFromThreeCSVADSRegisterQuery:xq,isEven:Ite,isOdd:bkr,isStopByte:Ol,isTimeSyncSetConfirmationInBuffer:Skr,makeDaisySampleObject:ykr,makeDaisySampleObjectWifi:gkr,makeTailByteFromPacketType:en,newSyncObject:okr,setChSetFromADSRegisterQuery:Oq,stripToEOTBuffer:wkr,syncChannelSettingsWithRawData:mkr,droppedPacketCheck:(e,r)=>{if(e===ae.OBCISampleNumberMax&&r===0||r-e===1)return null;let t=[];if(e>r){let n=ae.OBCISampleNumberMax-e;for(let i=0;i<n;i++)t.push(e+i+1);e=-1}for(let n=1;n<r-e;n++)t.push(e+n);return t},convert18bitAsInt32:ha,convert19bitAsInt32:va,decompressDeltas18Bit:Ote,decompressDeltas19Bit:Dte,sampleCompressedData:e=>new Uint8Array([e,0,0,0,0,8,0,5,0,0,72,0,9,240,1,176,0,48,0,8]),sampleBLERaw:()=>new Uint8Array([0,0,1,0,0,2,0,0,3,0,0,4]),sampleImpedanceChannel1:()=>new Uint8Array([ae.OBCIGanglionByteIdImpedanceChannel1,0,0,1]),sampleImpedanceChannel2:()=>new Uint8Array([ae.OBCIGanglionByteIdImpedanceChannel2,0,0,1]),sampleImpedanceChannel3:()=>new Uint8Array([ae.OBCIGanglionByteIdImpedanceChannel3,0,0,1]),sampleImpedanceChannel4:()=>new Uint8Array([ae.OBCIGanglionByteIdImpedanceChannel4,0,0,1]),sampleImpedanceChannelReference:()=>new Uint8Array([ae.OBCIGanglionByteIdImpedanceChannelReference,0,0,1]),sampleMultiBytePacket:e=>{let r=new Uint8Array([ae.OBCIGanglionByteIdMultiPacket]);return Uint8Array.concat([r,e])},sampleMultiBytePacketStop:e=>{let r=new Uint8Array([ae.OBCIGanglionByteIdMultiPacketStop]);return Uint8Array.concat([r,e])},sampleOtherData:e=>{let r=new Uint8Array([255]);return Uint8Array.concat([r,e])},sampleUncompressedData:()=>new Uint8Array([0,0,0,1,0,0,2,0,0,3,0,0,4,1,2,3,4,5,6,7]),parseGanglion:nkr,processMultiBytePacket:AI,processMultiBytePacketStop:Ste};function nkr(e){let r=parseInt(e.rawDataPacket[0]);if(r<=ae.OBCIGanglionByteId19Bit.max)return xte(e);switch(r){case ae.OBCIGanglionByteIdMultiPacket:return AI(e);case ae.OBCIGanglionByteIdMultiPacketStop:return Ste(e);case ae.OBCIGanglionByteIdImpedanceChannel1:case ae.OBCIGanglionByteIdImpedanceChannel2:case ae.OBCIGanglionByteIdImpedanceChannel3:case ae.OBCIGanglionByteIdImpedanceChannel4:case ae.OBCIGanglionByteIdImpedanceChannelReference:return akr(e);default:return null}}function ikr(e){e.lastSampleNumber=parseInt(e.rawDataPacket[0]);let r=[];if(e.lastSampleNumber<=ae.OBCIGanglionByteId18Bit.max)switch(Oee(e,Ote(e.rawDataPacket.slice(ae.OBCIGanglionPacket18Bit.dataStart,ae.OBCIGanglionPacket18Bit.dataStop))),r.push(bl(e.lastSampleNumber*2-1,e.decompressedSamples[1],e.sendCounts)),r.push(bl(e.lastSampleNumber*2,e.decompressedSamples[2],e.sendCounts)),e.lastSampleNumber%10){case ae.OBCIGanglionAccelAxisX:e.accelArray[0]=e.sendCounts?e.rawDataPacket.readInt8(ae.OBCIGanglionPacket18Bit.auxByte-1):e.rawDataPacket.readInt8(ae.OBCIGanglionPacket18Bit.auxByte-1)*ae.OBCIGanglionAccelScaleFactor;break;case ae.OBCIGanglionAccelAxisY:e.accelArray[1]=e.sendCounts?e.rawDataPacket.readInt8(ae.OBCIGanglionPacket18Bit.auxByte-1):e.rawDataPacket.readInt8(ae.OBCIGanglionPacket18Bit.auxByte-1)*ae.OBCIGanglionAccelScaleFactor;break;case ae.OBCIGanglionAccelAxisZ:e.accelArray[2]=e.sendCounts?e.rawDataPacket.readInt8(ae.OBCIGanglionPacket18Bit.auxByte-1):e.rawDataPacket.readInt8(ae.OBCIGanglionPacket18Bit.auxByte-1)*ae.OBCIGanglionAccelScaleFactor,e.sendCounts?r[0].accelData=e.accelArray:r[0].accelDataCounts=e.accelArray;break;default:break}else Oee(e,Dte(e.rawDataPacket.slice(ae.OBCIGanglionPacket19Bit.dataStart,ae.OBCIGanglionPacket19Bit.dataStop))),r.push(bl((e.lastSampleNumber-100)*2-1,e.decompressedSamples[1],e.sendCounts)),r.push(bl((e.lastSampleNumber-100)*2,e.decompressedSamples[2],e.sendCounts));for(let t=0;t<ae.OBCINumberOfChannelsGanglion;t++)e.decompressedSamples[0][t]=e.decompressedSamples[2][t];return r}function akr(e){let r=parseInt(e.rawDataPacket[0]),t;switch(r){case ae.OBCIGanglionByteIdImpedanceChannel1:t=1;break;case ae.OBCIGanglionByteIdImpedanceChannel2:t=2;break;case ae.OBCIGanglionByteIdImpedanceChannel3:t=3;break;case ae.OBCIGanglionByteIdImpedanceChannel4:t=4;break;case ae.OBCIGanglionByteIdImpedanceChannelReference:t=0;break}let n={channelNumber:t,impedanceValue:0},i=e.rawDataPacket.length;for(;Number.isNaN(Number(e.rawDataPacket.slice(1,i)))&&i!==0;)i--;return i!==0&&(n.impedanceValue=Number(e.rawDataPacket.slice(1,i))),n}function AI(e){e.multiPacketBuffer?e.multiPacketBuffer=Uint8Array.concat([Uint8Array.from(e.multiPacketBuffer),Uint8Array.from(e.rawDataPacket.slice(ae.OBCIGanglionPacket19Bit.dataStart,ae.OBCIGanglionPacket19Bit.dataStop))]):e.multiPacketBuffer=e.rawDataPacket.slice(ae.OBCIGanglionPacket19Bit.dataStart,ae.OBCIGanglionPacket19Bit.dataStop)}function Ste(e){AI(e);let r=e.multiPacketBuffer.toString();return e.multiPacketBuffer=null,{message:r}}function Oee(e,r){for(let t=1;t<3;t++)for(let n=0;n<4;n++)e.decompressedSamples[t][n]=e.decompressedSamples[t-1][n]-r[t-1][n]}function bl(e,r,t){let n;if(t)n=qte(e),n.channelDataCounts=r;else{n=Ete(e);for(let i=0;i<ae.OBCINumberOfChannelsGanglion;i++)n.channelData.push(r[i]*ae.OBCIGanglionScaleFactorPerCountVolts)}return n.timestamp=Date.now(),n}function xte(e){return parseInt(e.rawDataPacket[0])===ae.OBCIGanglionByteIdUncompressed?skr(e):ikr(e)}function skr(e){e.lastSampleNumber=ae.OBCIGanglionByteIdUncompressed;for(let r=0;r<4;r++)e.decompressedSamples[0][r]=Vn.interpret24bitAsInt32(e.rawDataPacket.slice(1+r*3,1+r*3+3));return[bl(0,e.decompressedSamples[0],e.sendCounts)]}function ha(e){let r=0;return e[2]&1>0&&(r=16383),r<<18|e[0]<<16|e[1]<<8|e[2]}function va(e){let r=0;return e[2]&1>0&&(r=8191),r<<19|e[0]<<16|e[1]<<8|e[2]}function Ote(e){let r=new Array(ae.OBCIGanglionSamplesPerPacket);r[0]=[0,0,0,0],r[1]=[0,0,0,0];let t=[];for(let i=0;i<ae.OBCIGanglionSamplesPerPacket;i++)t.push([0,0,0,0]);let n;return n=new Uint8Array([e[0]>>6,(e[0]&63)<<2|e[1]>>6,(e[1]&63)<<2|e[2]>>6]),t[0][0]=ha(n),n=new Uint8Array([(e[2]&63)>>4,e[2]<<4|e[3]>>4,e[3]<<4|e[4]>>4]),t[0][1]=ha(n),n=new Uint8Array([(e[4]&15)>>2,e[4]<<6|e[5]>>2,e[5]<<6|e[6]>>2]),t[0][2]=ha(n),n=new Uint8Array([e[6]&3,e[7],e[8]]),t[0][3]=ha(n),n=new Uint8Array([e[9]>>6,(e[9]&63)<<2|e[10]>>6,(e[10]&63)<<2|e[11]>>6]),t[1][0]=ha(n),n=new Uint8Array([(e[11]&63)>>4,e[11]<<4|e[12]>>4,e[12]<<4|e[13]>>4]),t[1][1]=ha(n),n=new Uint8Array([(e[13]&15)>>2,e[13]<<6|e[14]>>2,e[14]<<6|e[15]>>2]),t[1][2]=ha(n),n=new Uint8Array([e[15]&3,e[16],e[17]]),t[1][3]=ha(n),t}function Dte(e){let r=new Array(ae.OBCIGanglionSamplesPerPacket);r[0]=[0,0,0,0],r[1]=[0,0,0,0];let t=[];for(let i=0;i<ae.OBCIGanglionSamplesPerPacket;i++)t.push([0,0,0,0]);let n;return n=new Uint8Array([e[0]>>5,(e[0]&31)<<3|e[1]>>5,(e[1]&31)<<3|e[2]>>5]),t[0][0]=va(n),n=new Uint8Array([(e[2]&31)>>2,e[2]<<6|e[3]>>2,e[3]<<6|e[4]>>2]),t[0][1]=va(n),n=new Uint8Array([(e[4]&3)<<1|e[5]>>7,(e[5]&127)<<1|e[6]>>7,(e[6]&127)<<1|e[7]>>7]),t[0][2]=va(n),n=new Uint8Array([(e[7]&127)>>4,(e[7]&15)<<4|e[8]>>4,(e[8]&15)<<4|e[9]>>4]),t[0][3]=va(n),n=new Uint8Array([(e[9]&15)>>1,e[9]<<7|e[10]>>1,e[10]<<7|e[11]>>1]),t[1][0]=va(n),n=new Uint8Array([(e[11]&1)<<2|e[12]>>6,e[12]<<2|e[13]>>6,e[13]<<2|e[14]>>6]),t[1][1]=va(n),n=new Uint8Array([(e[14]&56)>>3,(e[14]&7)<<5|(e[15]&248)>>3,(e[15]&7)<<5|(e[16]&248)>>3]),t[1][2]=va(n),n=new Uint8Array([e[16]&7,e[17],e[18]]),t[1][3]=va(n),t}function Dee(e){return{channel:e,P:{raw:-1,text:ae.OBCIImpedanceTextInit},N:{raw:-1,text:ae.OBCIImpedanceTextInit}}}function okr(){return{boardTime:0,correctedTransmissionTime:!1,error:null,timeSyncSent:0,timeSyncSentConfirmation:0,timeSyncSetPacket:0,timeRoundTrip:0,timeTransmission:0,timeOffset:0,timeOffsetMaster:0,valid:!1}}function ckr(e){let r=[];for(let t=0;t<e.rawDataPackets.length;t++){e.rawDataPacket=e.rawDataPackets[t];let n=Nte(e);r.push(n),n.hasOwnProperty("sampleNumber")?e.lastSampleNumber=n.sampleNumber:n.hasOwnProperty("impedanceValue")||(e.lastSampleNumber=e.rawDataPacket[ae.OBCIPacketPositionSampleNumber])}return r}function Nte(e){let r;try{switch(Pte(e.rawDataPacket[ae.OBCIPacketPositionStopByte])){case ae.OBCIStreamPacketStandardAccel:r=Vn.parsePacketStandardAccel(e);break;case ae.OBCIStreamPacketStandardRawAux:r=Vn.parsePacketStandardRawAux(e);break;case ae.OBCIStreamPacketAccelTimeSyncSet:case ae.OBCIStreamPacketAccelTimeSynced:r=Vn.parsePacketTimeSyncedAccel(e);break;case ae.OBCIStreamPacketRawAuxTimeSyncSet:case ae.OBCIStreamPacketRawAuxTimeSynced:r=Vn.parsePacketTimeSyncedRawAux(e);break;case ae.OBCIStreamPacketImpedance:r=Vn.parsePacketImpedance(e);break;default:r={error:`bad stop byte ${e.rawDataPacket.slice(32,33).toString("hex")}`,valid:!1,rawDataPacket:e.rawDataPacket},e.verbose&&console.log(r.error);break}}catch(t){r={error:t,valid:!1,rawDataPacket:e.rawDataPacket},e.verbose&&console.log(t)}return r}function ukr(e,r){for(let t=0;t<ae.OBCINumberOfChannelsGanglion;t++)r.writeInt16BE(e[t]>>8,t*3),r.writeInt8(e[t]&255,t*3+2)}function lkr(e){if(ae.isUndefined(e)||ae.isUndefined(e.rawDataPacket)||ae.isNull(e.rawDataPacket)||ae.isUndefined(e.data)||ae.isNull(e.data))throw new Error(ae.OBCIErrorUndefinedOrNullInput);if(!e.hasOwnProperty("sampleNumber"))throw new Error(ae.OBCIErrorUndefinedOrNullInput);if(e.rawDataPacket.byteLength!==ae.OBCIPacketSize)throw new Error(ae.OBCIErrorInvalidByteLength);if(e.data.byteLength!==ae.OBCIPacketSizeBLERaw)throw new Error(ae.OBCIErrorInvalidByteLength);e.data.copy(e.rawDataPacket,ae.OBCIPacketPositionChannelDataStart),e.rawDataPacket[ae.OBCIPacketPositionSampleNumber]=e.sampleNumber,e.rawDataPacket[ae.OBCIPacketPositionStartByte]=ae.OBCIByteStart,e.rawDataPacket[ae.OBCIPacketPositionStopByte]=ae.OBCIStreamPacketStandardRawAux}function dkr(e){if(ae.isUndefined(e)||ae.isUndefined(e.rawDataPacket)||ae.isNull(e.rawDataPacket))throw new Error(ae.OBCIErrorUndefinedOrNullInput);if(e.rawDataPacket.byteLength!==ae.OBCIPacketSize)throw new Error(ae.OBCIErrorInvalidByteLength);if(e.rawDataPacket[0]!==ae.OBCIByteStart)throw new Error(ae.OBCIErrorInvalidByteStart);let r={};return(ae.isUndefined(e.scale)||ae.isNull(e.scale))&&(e.scale=!0),e.scale?r.accelData=Ate(e.rawDataPacket.slice(ae.OBCIPacketPositionStartAux,ae.OBCIPacketPositionStopAux+1)):r.accelDataCounts=Mte(e.rawDataPacket.slice(ae.OBCIPacketPositionStartAux,ae.OBCIPacketPositionStopAux+1)),e.scale?r.channelData=Ll(e):r.channelDataCounts=Ul(e),r.auxData=Uint8Array.from(e.rawDataPacket.slice(ae.OBCIPacketPositionStartAux,ae.OBCIPacketPositionStopAux+1)),r.sampleNumber=e.rawDataPacket[ae.OBCIPacketPositionSampleNumber],r.startByte=e.rawDataPacket[0],r.stopByte=e.rawDataPacket[ae.OBCIPacketPositionStopByte],r.valid=!0,r.timestamp=Date.now(),r.boardTime=0,r}function pkr(e){if(ae.isUndefined(e)||ae.isUndefined(e.rawDataPacket)||ae.isNull(e.rawDataPacket))throw new Error(ae.OBCIErrorUndefinedOrNullInput);if(e.rawDataPacket.byteLength!==ae.OBCIPacketSize)throw new Error(ae.OBCIErrorInvalidByteLength);if(e.rawDataPacket[0]!==ae.OBCIByteStart)throw new Error(ae.OBCIErrorInvalidByteStart);let r={};return(ae.isUndefined(e.scale)||ae.isNull(e.scale))&&(e.scale=!0),e.scale?r.channelData=Ll(e):r.channelDataCounts=Ul(e),r.auxData=Uint8Array.from(e.rawDataPacket.slice(ae.OBCIPacketPositionStartAux,ae.OBCIPacketPositionStopAux+1)),r.sampleNumber=e.rawDataPacket[ae.OBCIPacketPositionSampleNumber],r.startByte=e.rawDataPacket[0],r.stopByte=e.rawDataPacket[ae.OBCIPacketPositionStopByte],r.valid=!0,r.timestamp=Date.now(),r.boardTime=0,r}function fkr(e){if(ae.isUndefined(e)||ae.isUndefined(e.rawDataPacket)||ae.isNull(e.rawDataPacket))throw new Error(ae.OBCIErrorUndefinedOrNullInput);if(e.rawDataPacket.byteLength!==ae.OBCIPacketSize)throw new Error(ae.OBCIErrorInvalidByteLength);if(e.rawDataPacket[0]!==ae.OBCIByteStart)throw new Error(ae.OBCIErrorInvalidByteStart);let r={};return r.sampleNumber=e.rawDataPacket[ae.OBCIPacketPositionSampleNumber],r.startByte=e.rawDataPacket[0],r.stopByte=e.rawDataPacket[ae.OBCIPacketPositionStopByte],r.boardTime=MI(e.rawDataPacket),e.hasOwnProperty("timeOffset")?r.timestamp=r.boardTime+e.timeOffset:r.timestamp=Date.now(),r.auxData=PI(e.rawDataPacket),(ae.isUndefined(e.scale)||ae.isNull(e.scale))&&(e.scale=!0),e.scale?r.channelData=Ll(e):r.channelDataCounts=Ul(e),Cte(e)&&(e.scale?r.accelData=e.accelArray:r.accelDataCounts=e.accelArray),r.valid=!0,r}function hkr(e){if(ae.isUndefined(e)||ae.isUndefined(e.rawDataPacket)||ae.isNull(e.rawDataPacket))throw new Error(ae.OBCIErrorUndefinedOrNullInput);if(e.rawDataPacket.byteLength!==ae.OBCIPacketSize)throw new Error(ae.OBCIErrorInvalidByteLength);if(e.rawDataPacket[0]!==ae.OBCIByteStart)throw new Error(ae.OBCIErrorInvalidByteStart);let r={};return r.sampleNumber=e.rawDataPacket[ae.OBCIPacketPositionSampleNumber],r.startByte=e.rawDataPacket[0],r.stopByte=e.rawDataPacket[ae.OBCIPacketPositionStopByte],r.boardTime=MI(e.rawDataPacket),e.hasOwnProperty("timeOffset")?r.timestamp=r.boardTime+e.timeOffset:r.timestamp=Date.now(),r.auxData=PI(e.rawDataPacket),(ae.isUndefined(e.scale)||ae.isNull(e.scale))&&(e.scale=!0),e.scale?r.channelData=Ll(e):r.channelDataCounts=Ul(e),r.valid=!0,r}function vkr(e){if(ae.isUndefined(e)||ae.isUndefined(e.rawDataPacket)||ae.isNull(e.rawDataPacket))throw new Error(ae.OBCIErrorUndefinedOrNullInput);if(e.rawDataPacket.byteLength!==ae.OBCIPacketSize)throw new Error(ae.OBCIErrorInvalidByteLength);let r={};return r.channelNumber=e.rawDataPacket[1],r.channelNumber===5&&(r.channelNumber=0),r.impedanceValue=Number(e.rawDataPacket.toString().match(/\d+/)[0]),r}function Al(e,r,t){let n=e.match(r);if(n){let i=parseInt(e.charAt(n.index+t));if(Number.isNaN(i))throw new Error(ae.OBCIErrorInvalidData);return Boolean(i)}else throw new Error(ae.OBCIErrorMissingRegisterSetting)}function wq(e){return Al(e,ae.OBCIRegisterQueryNameMISC1,21)}function Sq(e,r){return Al(e,ae.OBCIRegisterQueryNameBIASSENSP,20+r*3)}function xq(e,r,t){let n=e.match(r);if(n){let i=parseInt(e.charAt(n.index+t)),c=parseInt(e.charAt(n.index+t+3)),u=parseInt(e.charAt(n.index+t+6));if(!Number.isNaN(i)&&!Number.isNaN(c)&&!Number.isNaN(u))return i<<2|c<<1|u;throw new Error(ae.OBCIErrorInvalidData)}else throw new Error(ae.OBCIErrorMissingRegisterSetting)}function Oq(e,r){let t=ae.OBCIRegisterQueryNameCHnSET[r.channelNumber];t===void 0&&(t=ae.OBCIRegisterQueryNameCHnSET[r.channelNumber-ae.OBCINumberOfChannelsCyton]),r.powerDown=Al(e,t,16),r.gain=ae.gainForCommand(xq(e,t,19)),r.inputType=ae.inputTypeForCommand(xq(e,t,31)),r.srb2=Al(e,t,28)}function mkr(e){if(ae.isUndefined(e)||ae.isUndefined(e.channelSettings)||ae.isNull(e.channelSettings)||ae.isUndefined(e.data)||ae.isNull(e.data))throw new Error(ae.OBCIErrorUndefinedOrNullInput);if(!Array.isArray(e.channelSettings))throw new Error(`${ae.OBCIErrorInvalidType} channelSettings`);if(e.channelSettings.length===ae.OBCINumberOfChannelsCyton){if(e.data.toString().match(/Daisy ADS/))throw new Error("raw data mismatch - expected only cyton register info but also found daisy");if(e.data.toString().match(/Board ADS/)==null)throw new Error(ae.OBCIErrorInvalidData)}else{if(e.data.toString().match(/Daisy ADS/)==null)throw new Error("raw data mismatch - expected daisy register info but none found");if(e.data.toString().match(/Board ADS/)==null)throw new Error("no Board ADS info found")}e.channelSettings.forEach(u=>{if(!u.hasOwnProperty("channelNumber")||!u.hasOwnProperty("powerDown")||!u.hasOwnProperty("gain")||!u.hasOwnProperty("inputType")||!u.hasOwnProperty("bias")||!u.hasOwnProperty("srb2")||!u.hasOwnProperty("srb1"))throw new Error(ae.OBCIErrorMissingRequiredProperty)});let r=null,t=!1,n=!1,i=e.data.toString().match(/Board ADS/),c=e.data.toString().slice(i.index,ae.OBCIRegisterQueryCyton.length);if(wq(c)&&(t=!0),e.channelSettings.length>ae.OBCINumberOfChannelsCyton){let u=e.data.toString().match(/Daisy ADS/);r=e.data.toString().slice(u.index,u.index+ae.OBCIRegisterQueryCytonDaisy.length),wq(c)&&(n=!0)}e.channelSettings.forEach(u=>{u.channelNumber<ae.OBCINumberOfChannelsCyton?(Oq(c,u),u.bias=Sq(c,u.channelNumber),u.srb1=t):(Oq(r,u),u.bias=Sq(r,u.channelNumber-ae.OBCINumberOfChannelsCyton),u.srb1=n)})}function MI(e){let r=ae.OBCIPacketSize-1;if(e.byteLength!==ae.OBCIPacketSize)throw new Error(ae.OBCIErrorInvalidByteLength);return e.readUInt32BE(r-ae.OBCIStreamPacketTimeByteSize)}function Cte(e){let r=ae.OBCIPacketSize-1-ae.OBCIStreamPacketTimeByteSize-2;if(e.rawDataPacket.byteLength!==ae.OBCIPacketSize)throw new Error(ae.OBCIErrorInvalidByteLength);let t=e.rawDataPacket[ae.OBCIPacketPositionSampleNumber],n=Vn.interpret16bitAsInt32(e.rawDataPacket.slice(r,r+2));switch(t%10){case ae.OBCIAccelAxisX:return e.accelArray[0]=e.scale?n*Fc:n,!1;case ae.OBCIAccelAxisY:return e.accelArray[1]=e.scale?n*Fc:n,!1;case ae.OBCIAccelAxisZ:return e.accelArray[2]=e.scale?n*Fc:n,!0;default:return!1}}function PI(e){if(e.byteLength!==ae.OBCIPacketSize)throw new Error(ae.OBCIErrorInvalidByteLength);return Uint8Array.from(e.slice(ae.OBCIPacketPositionTimeSyncAuxStart,ae.OBCIPacketPositionTimeSyncAuxStop))}function Ate(e){let r=[];for(let t=0;t<wte;t++){let n=t*2;r.push(Vn.interpret16bitAsInt32(e.slice(n,n+2))*Fc)}return r}function Mte(e){let r=[];for(let t=0;t<wte;t++){let n=t*2;r.push(Vn.interpret16bitAsInt32(e.slice(n,n+2)))}return r}function Ll(e){if(!Array.isArray(e.channelSettings))throw new Error("Error [getChannelDataArray]: Channel Settings must be an array!");e.hasOwnProperty("protocol")||(e.protocol=ae.OBCIProtocolSerial);let r=[],t=e.channelSettings.length,n=e.rawDataPacket[ae.OBCIPacketPositionSampleNumber],i=t===ae.OBCINumberOfChannelsDaisy,c=ae.OBCINumberOfChannelsCyton;i||(c=e.channelSettings.length);for(let u=0;u<c;u++){if(!e.channelSettings[u].hasOwnProperty("gain"))throw new Error(`Error [getChannelDataArray]: Invalid channel settings object at index ${u}`);if(!ae.isNumber(e.channelSettings[u].gain))throw new Error("Error [getChannelDataArray]: Property gain of channelSettingsObject not or type Number");let a=0;if(e.protocol===ae.OBCIProtocolSerial)Ite(n)&&i?a=no/e.channelSettings[u+ae.OBCINumberOfChannelsDefault].gain/(Math.pow(2,23)-1):a=no/e.channelSettings[u].gain/(Math.pow(2,23)-1);else if(e.protocol===ae.OBCIProtocolWifi)i?e.lastSampleNumber===n?a=no/e.channelSettings[u+ae.OBCINumberOfChannelsDefault].gain/(Math.pow(2,23)-1):a=no/e.channelSettings[u].gain/(Math.pow(2,23)-1):e.channelSettings.length===ae.OBCINumberOfChannelsCyton?a=no/e.channelSettings[u].gain/(Math.pow(2,23)-1):a=ae.OBCIGanglionScaleFactorPerCountVolts;else if(e.protocol===ae.OBCIProtocolBLE)a=no/e.channelSettings[u].gain/(Math.pow(2,23)-1);else throw new Error("Error [getChannelDataArray]: Invalid protocol must be wifi or serial");r.push(a*Vn.interpret24bitAsInt32(e.rawDataPacket.slice(u*3+ae.OBCIPacketPositionChannelDataStart,u*3+ae.OBCIPacketPositionChannelDataStart+3)))}return r}function Ul(e){if(!Array.isArray(e.channelSettings))throw new Error("Error [getChannelDataArrayNoScale]: Channel Settings must be an array!");let r=[],t=e.channelSettings.length;t>ae.OBCINumberOfChannelsDefault&&(t=ae.OBCINumberOfChannelsDefault);for(let n=0;n<t;n++)r.push(Vn.interpret24bitAsInt32(e.rawDataPacket.slice(n*3+ae.OBCIPacketPositionChannelDataStart,n*3+ae.OBCIPacketPositionChannelDataStart+3)));return r}function Pte(e){return e&15}function fa(e){return e||e===0?e>255&&(e=255):e=69,e}function Ete(e){return e||e===0?e>255&&(e=255):e=0,{startByte:ae.OBCIByteStart,sampleNumber:e,channelData:[],accelData:[],auxData:null,stopByte:ae.OBCIByteStop,boardTime:0,timestamp:0,valid:!0}}function qte(e){return e||e===0?e>255&&(e=255):e=0,{startByte:ae.OBCIByteStart,sampleNumber:e,channelDataCounts:[],accelDataCounts:[],auxData:null,stopByte:ae.OBCIByteStop,boardTime:0,timestamp:0,valid:!0}}function xl(e){let r=new Uint8Array(3);r.fill(0);let t=e/(no/24/(Math.pow(2,23)-1));return t=Math.floor(t),r[2]=t&255,r[1]=(t&255<<8)>>8,r[0]=(t&255<<16)>>16,r}function Nee(e){let r=new Uint8Array(2);r.fill(0);let t=e/Fc;return t=Math.floor(t),r[1]=t&255,r[0]=(t&255<<8)>>8,r}function ykr(e,r){let t={};return e.hasOwnProperty("channelData")&&(t.channelData=e.channelData.concat(r.channelData)),e.hasOwnProperty("channelDataCounts")&&(t.channelDataCounts=e.channelDataCounts.concat(r.channelDataCounts)),t.sampleNumber=Math.floor(r.sampleNumber/2),t.auxData={lower:e.auxData,upper:r.auxData},t.stopByte=e.stopByte,t.timestamp=(e.timestamp+r.timestamp)/2,t._timestamps={lower:e.timestamp,upper:r.timestamp},e.hasOwnProperty("accelData")&&(e.accelData[0]>0||e.accelData[1]>0||e.accelData[2]>0?t.accelData=e.accelData:t.accelData=r.accelData),e.hasOwnProperty("accelDataCounts")&&(e.accelDataCounts[0]>0||e.accelDataCounts[1]>0||e.accelDataCounts[2]>0?t.accelDataCounts=e.accelDataCounts:t.accelDataCounts=r.accelDataCounts),t.valid=!0,t}function gkr(e,r){let t={};return e.hasOwnProperty("channelData")&&(t.channelData=e.channelData.concat(r.channelData)),e.hasOwnProperty("channelDataCounts")&&(t.channelDataCounts=e.channelDataCounts.concat(r.channelDataCounts)),t.sampleNumber=r.sampleNumber,t.auxData={lower:e.auxData,upper:r.auxData},e.hasOwnProperty("timestamp")&&(t.timestamp=e.timestamp),t.stopByte=e.stopByte,t._timestamps={lower:e.timestamp,upper:r.timestamp},e.hasOwnProperty("accelData")&&(e.accelData[0]>0||e.accelData[1]>0||e.accelData[2]>0?t.accelData=e.accelData:t.accelData=r.accelData),e.hasOwnProperty("accelDataCounts")&&(e.accelDataCounts[0]>0||e.accelDataCounts[1]>0||e.accelDataCounts[2]>0?t.accelDataCounts=e.accelDataCounts:t.accelDataCounts=r.accelDataCounts),t.valid=!0,t}function Ite(e){return e%2===0}function bkr(e){return e%2===1}function _kr(e){let r=/v\d.\d*.\d*/,t=e.toString().match(r);if(t){let n=t[0].split(".");return{major:Number(n[0][1]),minor:Number(n[1]),patch:Number(n[2]),raw:t[0]}}else return t}function wkr(e){let r=e.indexOf(ae.OBCIParseEOT);if(r>=0)r+=ae.OBCIParseEOT.length;else return e;return r<e.byteLength?Uint8Array.from(e.slice(r)):null}function Skr(e){if(e){let r=e.length;switch(r){case 0:return!1;case 1:return e[0]===ae.OBCISyncTimeSent.charCodeAt(0);case 2:return e[1]===ae.OBCIByteStart?e[0]===ae.OBCISyncTimeSent.charCodeAt(0):Ol(e[0])?e[1]===ae.OBCISyncTimeSent.charCodeAt(0):!1;default:if(e[0]===ae.OBCISyncTimeSent.charCodeAt(0)&&e[1]===ae.OBCIByteStart)return!0;for(let t=1;t<r;t++)if(t===r-1){if(Ol(e[t-1]))return e[t]===ae.OBCISyncTimeSent.charCodeAt(0)}else if(Ol(e[t-1])&&e[t+1]===ae.OBCIByteStart)return e[t]===ae.OBCISyncTimeSent.charCodeAt(0);return!1}}}function Cee(e,r,t){let n=new Uint8Array(ae.OBCIPacketSize);n.fill(0),n[0]=ae.OBCIByteStart,n[1]=e.sampleNumber;for(let i=0;i<ae.OBCINumberOfChannelsDefault;i++)xl(e.channelData[i]).copy(n,2+i*3);return t.copy(n,26),n.writeInt32BE(r,28),n[ae.OBCIPacketSize-1]=en(ae.OBCIStreamPacketRawAuxTimeSynced),n}function Aee(e,r){let t=new Uint8Array(ae.OBCIPacketSize);t.fill(0),t[0]=ae.OBCIByteStart,t[1]=e.sampleNumber;for(let n=0;n<ae.OBCINumberOfChannelsDefault;n++)xl(e.channelData[n]).copy(t,2+n*3);return t.writeInt32BE(r,28),t[ae.OBCIPacketSize-1]=en(ae.OBCIStreamPacketAccelTimeSynced),t}function en(e){return(e<0||e>15)&&(e=0),ae.OBCIByteStop|e}function Ol(e){return(e&240)===ae.OBCIByteStop}var xkr=e=>{var r=e,{channelData:t}=r,n=bEr(r,["channelData"]);return hq(fq({},n),{data:t})},Okr="ganglion",Dkr={reader:"2d30c082-f39f-4ce6-923f-3484ea480596",writer:"2d30c083-f39f-4ce6-923f-3484ea480596",connection:"2d30c084-f39f-4ce6-923f-3484ea480596"},Nkr="characteristicvaluechanged",Ckr="gattserverdisconnected",Akr={filters:[{namePrefix:"Ganglion-"}],optionalServices:[65156]},Mkr={start:"b",accelData:"n"};function Pkr(e){let r=parseInt(e.rawDataPacket[0]);if(r<=ae.OBCIGanglionByteId19Bit.max)return xte(e);switch(r){case ae.OBCIGanglionByteIdMultiPacket:return processMultiBytePacket(e);case ae.OBCIGanglionByteIdMultiPacketStop:return processMultiBytePacketStop(e);case ae.OBCIGanglionByteIdImpedanceChannel1:case ae.OBCIGanglionByteIdImpedanceChannel2:case ae.OBCIGanglionByteIdImpedanceChannel3:case ae.OBCIGanglionByteIdImpedanceChannel4:case ae.OBCIGanglionByteIdImpedanceChannelReference:return processImpedanceData(e);default:return null}}var Ekr=class{constructor(e={}){this.options=e,this.gatt=null,this.device=null,this.deviceName=null,this.service=null,this.characteristics=null,this.onDisconnect$=new jN,this.boardName=Okr,this.channelSize=4;function r(i){return{channelNumber:i,powerDown:!1,gain:24,inputType:"normal",bias:!0,srb2:!0,srb1:!1}}let t=i=>{for(var c=[],u=0;u<i;u++)c.push(r(u));return c};function n(i){let c=[];for(let u=0;u<3;u++)c.push(new Array(i));return c}this.rawDataPacketToSample={accelArray:[0,0,0],channelSettings:t(4),decompressedSamples:n(4),lastSampleNumber:0,rawDataPacket:new Uint8Array(33).buffer,rawDataPackets:[],scale:!0,sendCounts:!1,timeOffset:0,verbose:!1},this.connectionStatus=new zEr(!1),this.stream=new jN().pipe(_l(i=>this.eventToBufferMapper(i)),Sqr(i=>this.setRawDataPacket(i)),_l(()=>Pkr(this.rawDataPacketToSample)),eI(i=>i),_l(xkr),wqr(this.onDisconnect$)),this.accelData=this.stream.pipe(fre(i=>i.accelData.length))}eventToBufferMapper(e){return new Uint8Array(e.target.value.buffer)}setRawDataPacket(e){this.rawDataPacketToSample.rawDataPacket=e}connect(){return nK(this,null,function*(){this.device=yield navigator.bluetooth.requestDevice(Akr),this.addDisconnectedEvent(),this.gatt=yield this.device.gatt.connect(),this.deviceName=this.gatt.device.name,this.service=yield this.gatt.getPrimaryService(65156),this.setCharacteristics(yield this.service.getCharacteristics()),this.connectionStatus.next(!0)})}setCharacteristics(e){this.characteristics=Object.entries(Dkr).reduce((r,[t,n])=>hq(fq({},r),{[t]:e.find(i=>i.uuid===n)}),{})}start(){return nK(this,null,function*(){let{reader:e,writer:r}=this.characteristics,t=Object.entries(Mkr).reduce((n,[i,c])=>hq(fq({},n),{[i]:new TextEncoder().encode(c)}),{});e.startNotifications(),e.addEventListener(Nkr,n=>{this.stream.next(n)}),this.options.accelData&&(yield r.writeValue(t.accelData),e.readValue()),yield r.writeValue(t.start),e.readValue()})}addDisconnectedEvent(){gq(this.device,Ckr).pipe(_qr()).subscribe(()=>{this.gatt=null,this.device=null,this.deviceName=null,this.service=null,this.characteristics=null,this.connectionStatus.next(!1)})}disconnect(){!this.gatt||(this.onDisconnect$.next(),this.gatt.disconnect())}},Lc=250,EI={sps:Lc,connect:(e={})=>new Promise(async(r,t)=>{let n=`ganglion${Math.floor(Math.random()*1e15)}`,i=new Ekr,c={_id:n,client:i,settings:Object.assign(Object.assign({},EI),e)};await i.connect(),await i.start(),i.stream.subscribe(u=>{u.origin="eeg",c.settings.ondata(u)}),i.accelData.subscribe(u=>{u.origin="accelerometer",c.settings.ondata(u)}),c.settings.onconnect&&c.settings.onconnect(c),r(c)}),codec:e=>{let r=e.origin;if(r==="eeg")return{0:e.data[0],1:e.data[1],2:e.data[2],3:e.data[3],timestamp:Date.now()};if(r==="accelerometer")return{ax:e.data[0],ay:e.data[1],az:e.data[2],timestamp:Date.now()}},disconnect:e=>{e.client.disconnect(),e.settings.ondisconnect(e)},onconnect:e=>{console.log("ganglion connected!",e)},ondisconnect:e=>{console.log("ganglion disconnected!",e)},ondata:e=>{console.log(e)}},CN={sps:Lc,useDCBlock:!0,useBandpass:!0,bandpassLower:3,bandpassUpper:45},qkr={0:JSON.parse(JSON.stringify(CN)),1:JSON.parse(JSON.stringify(CN)),2:JSON.parse(JSON.stringify(CN)),3:JSON.parse(JSON.stringify(CN))},AN={nSec:10,sps:Lc,units:"mV"},Ikr={lines:{0:JSON.parse(JSON.stringify(AN)),1:JSON.parse(JSON.stringify(AN)),2:JSON.parse(JSON.stringify(AN)),3:JSON.parse(JSON.stringify(AN)),ax:{nSec:10,sps:Lc,units:"mg"},ay:{nSec:10,sps:Lc,units:"mg"},az:{nSec:10,sps:Lc,units:"mg"}},generateNewLines:!0};function Dl(e){let r;e.getInt8?r=new Uint8Array(e.buffer):e.buffer?r=e:r=new Uint8Array(e);let t={0:new Array(9),1:new Array(9),2:new Array(9),3:new Array(9),4:new Array(9),5:new Array(9),6:new Array(9),7:new Array(9),timestamp:Date.now()};for(let n=0;n<9;n++){let i=n*25;t[0][n]=ir.bytesToInt24(r[i],r[i+1],r[i+2]),t[1][n]=ir.bytesToInt24(r[i+3],r[i+4],r[i+5]),t[2][n]=ir.bytesToInt24(r[i+6],r[i+7],r[i+8]),t[3][n]=ir.bytesToInt24(r[i+9],r[i+10],r[i+11]),t[4][n]=ir.bytesToInt24(r[i+12],r[i+13],r[i+14]),t[5][n]=ir.bytesToInt24(r[i+15],r[i+16],r[i+17]),t[6][n]=ir.bytesToInt24(r[i+18],r[i+19],r[i+20]),t[7][n]=ir.bytesToInt24(r[i+21],r[i+22],r[i+23])}return t}var ait=new TextDecoder,Bte=250,Ga={nSec:10,sps:Bte,units:"mV"},sit={lines:{0:JSON.parse(JSON.stringify(Ga)),1:JSON.parse(JSON.stringify(Ga)),2:JSON.parse(JSON.stringify(Ga)),3:JSON.parse(JSON.stringify(Ga)),4:JSON.parse(JSON.stringify(Ga)),5:JSON.parse(JSON.stringify(Ga)),6:JSON.parse(JSON.stringify(Ga)),7:JSON.parse(JSON.stringify(Ga))}},Bkr=32,kkr=24,jkr=1.2,Ha={sps:Bte,useDCBlock:!1,useBandpass:!1,bandpassLower:3,bandpassUpper:45,useScaling:!0,scalar:.96*1e3*jkr/(Bkr*(Math.pow(2,kkr)-1))},oit={0:JSON.parse(JSON.stringify(Ha)),1:JSON.parse(JSON.stringify(Ha)),2:JSON.parse(JSON.stringify(Ha)),3:JSON.parse(JSON.stringify(Ha)),4:JSON.parse(JSON.stringify(Ha)),5:JSON.parse(JSON.stringify(Ha)),6:JSON.parse(JSON.stringify(Ha)),7:JSON.parse(JSON.stringify(Ha))};function Tkr(e){let r;e.buffer?r=e:r=new Uint8Array(e);let t={};for(let i=0;i<8;i++){let c=1+3*i;t[i]=ir.bytesToInt24(r[c],r[c+1],r[c+2])}let n=25;return t.ax=ir.bytesToInt16(r[n],r[n+1]),t.ay=ir.bytesToInt16(r[n+2],r[n+3]),t.az=ir.bytesToInt16(r[n+4],r[n+5]),t.gx=ir.bytesToInt16(r[n+6],r[n+7]),t.gy=ir.bytesToInt16(r[n+8],r[n+9]),t.gz=ir.bytesToInt16(r[n+10],r[n+11]),t.timestamp=Date.now(),t}var qI=250,uq={baudRate:115200,codec:Tkr,sps:qI},Dn={nSec:10,sps:qI,units:"mV"},cit={lines:{0:JSON.parse(JSON.stringify(Dn)),1:JSON.parse(JSON.stringify(Dn)),2:JSON.parse(JSON.stringify(Dn)),3:JSON.parse(JSON.stringify(Dn)),4:JSON.parse(JSON.stringify(Dn)),5:JSON.parse(JSON.stringify(Dn)),6:JSON.parse(JSON.stringify(Dn)),7:JSON.parse(JSON.stringify(Dn)),ax:JSON.parse(JSON.stringify(Dn)),ay:JSON.parse(JSON.stringify(Dn)),az:JSON.parse(JSON.stringify(Dn)),gx:JSON.parse(JSON.stringify(Dn)),gy:JSON.parse(JSON.stringify(Dn)),gz:JSON.parse(JSON.stringify(Dn))},generateNewLines:!0},Xt={sps:qI,useDCBlock:!0,useBandpass:!0,bandpassLower:3,bandpassUpper:45,useScaling:!0,scalar:1e3*4.5/(24*(Math.pow(2,23)-1))},uit={0:JSON.parse(JSON.stringify(Xt)),1:JSON.parse(JSON.stringify(Xt)),2:JSON.parse(JSON.stringify(Xt)),3:JSON.parse(JSON.stringify(Xt)),4:JSON.parse(JSON.stringify(Xt)),5:JSON.parse(JSON.stringify(Xt)),6:JSON.parse(JSON.stringify(Xt)),7:JSON.parse(JSON.stringify(Xt)),8:JSON.parse(JSON.stringify(Xt)),9:JSON.parse(JSON.stringify(Xt)),10:JSON.parse(JSON.stringify(Xt)),11:JSON.parse(JSON.stringify(Xt)),12:JSON.parse(JSON.stringify(Xt)),13:JSON.parse(JSON.stringify(Xt)),14:JSON.parse(JSON.stringify(Xt)),15:JSON.parse(JSON.stringify(Xt))};function Rkr(e){let r;e.getInt8?r=new Uint8Array(e.buffer):e.buffer?r=e:r=new Uint8Array(e);let t={};for(let i=0;i<128;i++){let c=i*3+1;t[i]=ir.bytesToInt24(r[c],r[c+1],r[c+2])}let n=385;return t.ax=ir.bytesToInt16(r[n],r[n+1]),t.ay=ir.bytesToInt16(r[n+2],r[n+3]),t.az=ir.bytesToInt16(r[n+4],r[n+5]),t.gx=ir.bytesToInt16(r[n+6],r[n+7]),t.gy=ir.bytesToInt16(r[n+8],r[n+9]),t.gz=ir.bytesToInt16(r[n+10],r[n+11]),t.timestamp=Date.now(),t}var Qa=250,Fkr={baudRate:921600,bufferSize:2e3,frequency:1.9,codec:Rkr,sps:Qa},Lkr={lines:{ax:{nSec:10,sps:Qa},ay:{nSec:10,sps:Qa},az:{nSec:10,sps:Qa},gx:{nSec:10,sps:Qa},gy:{nSec:10,sps:Qa},gz:{nSec:10,sps:Qa}}},Ukr={};for(let e=0;e<128;e++)Lkr.lines[e]={sps:Qa,nSec:10,units:"mV"},Ukr[e]={sps:250,useDCBlock:!0,useBandpass:!0,bandpassLower:3,bandpassUpper:45,scalar:1e3*2.5/(32*(Math.pow(2,24)-1))};function kte(e){let r;e.getInt8?r=new Uint8Array(e.buffer):e.buffer?r=e:r=new Uint8Array(e);let t={};for(let i=0;i<32;i++){let c=i*3+1;t[i]=ir.bytesToInt24(r[c],r[c+1],r[c+2])}let n=97;return t.ax=ir.bytesToInt16(r[n],r[n+1]),t.ay=ir.bytesToInt16(r[n+2],r[n+3]),t.az=ir.bytesToInt16(r[n+4],r[n+5]),t.gx=ir.bytesToInt16(r[n+6],r[n+7]),t.gy=ir.bytesToInt16(r[n+8],r[n+9]),t.gz=ir.bytesToInt16(r[n+10],r[n+11]),t.timestamp=Date.now(),t}var Ml=512,zkr={baudRate:921600,bufferSize:2e3,frequency:1.9,codec:kte,sps:Ml},Jkr={baudRate:1e6,bufferSize:2e3,frequency:1.9,codec:kte,sps:Ml},Tc={nSec:10,sps:Ml},Vkr={lines:{ax:JSON.parse(JSON.stringify(Tc)),ay:JSON.parse(JSON.stringify(Tc)),az:JSON.parse(JSON.stringify(Tc)),gx:JSON.parse(JSON.stringify(Tc)),gy:JSON.parse(JSON.stringify(Tc)),gz:JSON.parse(JSON.stringify(Tc))}},Gkr={};for(let e=0;e<32;e++)Vkr.lines[e]={sps:Ml,nSec:10,units:"mV"},Gkr[e]={sps:Ml,useDCBlock:!0,useBandpass:!0,bandpassLower:3,bandpassUpper:45,useScaling:!0,scalar:1e3*2.5/(8*(Math.pow(2,24)-1))};var Hkr=new TextDecoder;function jte(e){let r={timestamp:0,red:0,infrared:0,heg:0,ambient:0,temperature:0},t=Hkr.decode(e),n=t.split("|");if(n.length===3)r.timestamp=Date.now(),r.red=parseInt(n[0]),r.infrared=parseInt(n[1]),r.heg=parseFloat(n[2]);else return n.length>=2?(r.timestamp=Date.now(),r.red=parseInt(n[1]),r.infrared=parseInt(n[2]),r.heg=parseFloat(n[3]),n[4]&&(r.ambient=parseFloat(n[4])),n[5]&&(r.temperature=parseFloat(n[5])),r):t}var Dq=40,II={baudRate:115200,write:`t
`,codec:jte,sps:Dq},Tte=Object.assign({},II);Tte.sps=19;var Wkr={sps:Dq,services:{["6E400001-B5A3-F393-E0A9-E50E24DCCA9E".toLowerCase()]:{"6e400002-b5a3-f393-e0a9-e50e24dcca9e":{write:"t"},"6e400003-b5a3-f393-e0a9-e50e24dcca9e":{notify:!0,notifyCallback:void 0,codec:jte,sps:Dq}},["6E400004-B5A3-F393-E0A9-E50E24DCCA9E".toLowerCase()]:{["6E400005-B5A3-F393-E0A9-E50E24DCCA9E".toLowerCase()]:{read:!0},["6E400006-B5A3-F393-E0A9-E50E24DCCA9E".toLowerCase()]:{write:void 0,notify:!0,notifyCallback:void 0},["6E400007-B5A3-F393-E0A9-E50E24DCCA9E".toLowerCase()]:{read:!0}}},androidWebBLE:"o"},Rte=Object.assign({},II);Rte.sps=19;function Fte(e){let r;e.getInt8?r=new Uint8Array(e.buffer):e.buffer?r=e:r=new Uint8Array(e);let t={red:new Array(32),ir:new Array(32),max_dietemp:ir.get2sCompliment(r[193],8)+.0625*r[194],timestamp:Date.now()},n=0;for(;n<32;){let i=n*6;n%2===0?(t.ir[n]=(r[i+1]<<16|r[i+2]<<8|r[i+3])&524287,t.ir[n+1]=(r[i+4]<<16|r[i+5]<<8|r[i+6])&524287):(t.red[n-1]=(r[i+1]<<16|r[i+2]<<8|r[i+3])&524287,t.red[n]=(r[i+4]<<16|r[i+5]<<8|r[i+6])&524287),n++}return t}function Lte(e){let r;e.getInt8?r=new Uint8Array(e.buffer):e.buffer?r=e:r=new Uint8Array(e);let t={ax:new Array(20),ay:new Array(20),az:new Array(20),gx:new Array(20),gy:new Array(20),gz:new Array(20),mpu_dietemp:(ir.bytesToInt16(r[241],r[242])+521)/340+35,timestamp:Date.now()};for(let n=0;n<20;n++){let i=n*12;t.ax[n]=ir.bytesToInt16(r[i+1],r[i+2]),t.ay[n]=ir.bytesToInt16(r[i+3],r[i+4]),t.az[n]=ir.bytesToInt16(r[i+5],r[i+6]),t.gx[n]=ir.bytesToInt16(r[i+7],r[i+8]),t.gy[n]=ir.bytesToInt16(r[i+9],r[i+10]),t.gz[n]=ir.bytesToInt16(r[i+11],r[i+12])}return t}function $kr(e){let r;e.getInt8?r=new Uint8Array(e.buffer):e.buffer?r=e:r=new Uint8Array(e);let t={0:new Array,1:new Array,2:new Array,3:new Array,4:new Array,5:new Array,6:new Array,7:new Array,timestamp:Date.now()};for(let n=0;n<7;n++){let i=n*26+1;if(!r[i+23])break;t[0][n]=ir.bytesToUInt24(r[i],r[i+1],r[i+2]),t[1][n]=ir.bytesToUInt24(r[i+3],r[i+4],r[i+5]),t[2][n]=ir.bytesToUInt24(r[i+6],r[i+7],r[i+8]),t[3][n]=ir.bytesToUInt24(r[i+9],r[i+10],r[i+11]),t[4][n]=ir.bytesToUInt24(r[i+12],r[i+13],r[i+14]),t[5][n]=ir.bytesToUInt24(r[i+15],r[i+16],r[i+17]),t[6][n]=ir.bytesToUInt24(r[i+18],r[i+19],r[i+20]),t[7][n]=ir.bytesToUInt24(r[i+21],r[i+22],r[i+23])}return t}var Nq=250,Qkr={services:{["82046698-6313-4BB1-9645-6BA28BF86DF5".toLowerCase()]:{["8204669A-6313-4BB1-9645-6BA28BF86DF5".toLowerCase()]:{notify:!0,notifyCallback:void 0,codec:$kr,sps:Nq}},["82E12914-9AFA-4648-BD1B-8E2B3DC6DAAF".toLowerCase()]:{["82E12915-9AFA-4648-BD1B-8E2B3DC6DAAF".toLowerCase()]:{write:void 0},["82E12916-9AFA-4648-BD1B-8E2B3DC6DAAF".toLowerCase()]:{read:!0}}},sps:Nq},Wa={nSec:10,sps:Nq,units:"mV"},lit={lines:{0:JSON.parse(JSON.stringify(Wa)),1:JSON.parse(JSON.stringify(Wa)),2:JSON.parse(JSON.stringify(Wa)),3:JSON.parse(JSON.stringify(Wa)),4:JSON.parse(JSON.stringify(Wa)),5:JSON.parse(JSON.stringify(Wa)),6:JSON.parse(JSON.stringify(Wa)),7:JSON.parse(JSON.stringify(Wa))}},pi={2:{type:"POOR_SIGNAL",format:"<B",byteLength:1},144:{type:"heg",format:"<i",byteLength:4},145:{type:"filteredHEG",format:"<i",byteLength:4},147:{type:"rawdata4",format:"<iiii",byteLength:4*4},148:{type:"rawdata6",format:"<iiiiii",byteLength:4*6},160:{type:"sampleNumber",format:"<i",byteLength:4},176:{type:"debug0",format:"<i",byteLength:4},177:{type:"debug1",format:"<i",byteLength:4},178:{type:"debug2",format:"<i",byteLength:4},179:{type:"debug3",format:"<i",byteLength:4},180:{type:"debug4",format:"<iiiiii",byteLength:4*6},181:{type:"debug4",format:"<iiiiii",byteLength:4*6},182:{type:"rawdata27",format:"<B"+"i".repeat(26),byteLength:1+4*26}};function Ykr(e){let r={},t=0;for(;t<e.length;)if(pi[e[t]]&&t+1+pi[e[t]].byteLength<=e.length){let n=e.slice(t+1,t+1+pi[e[t]].byteLength).buffer,i=ir.struct(pi[e[t]].format).unpack(n),c=pi[e[t]].type;c==="unfilteredHEG"||c==="heg"?i=i[0]/256:(c==="POOR_SIGNAL"||c==="sampleNumber"||c==="debug0"||c==="debug1"||c==="debug2"||c==="debug3")&&(i=i[0]),r[pi[e[t]].type]?Array.isArray(i)?r[pi[e[t]].type].push(...i):r[pi[e[t]].type].push(i):Array.isArray(i)?r[pi[e[t]].type]=i:r[pi[e[t]].type]=[i],t+=pi[e[t]].byteLength+1}else t++;return r.timestamp=Date.now(),r}var Zkr={baudRate:38400,bufferSize:400,write:`protocol 3
`,buffering:{searchBytes:new Uint8Array([170,170])},codec:Ykr,sps:10.101},Xkr=1013.25,Ute=e=>{let r;e.getInt8?r=new Uint8Array(e.buffer):e.buffer?r=e:r=new Uint8Array(e);let t={temp:[],pressure:[],humidity:[],altitude:[]};for(let n=0;n<3;n++){let i=n*24,c=ir.bytesToUInt32(r[0+i],r[1+i],r[2+i],r[3+i]),u=ir.bytesToUInt32(r[4+i],r[5+i],r[6+i],r[7+i]);t.temp.push(c+u/Math.pow(10,Math.ceil(Math.log10(u))));let a=ir.bytesToUInt32(r[8+i],r[9+i],r[10+i],r[11+i]),s=ir.bytesToUInt32(r[12+i],r[13+i],r[14+i],r[15+i]);t.pressure.push(a+s/Math.pow(10,Math.ceil(Math.log10(s))));let o=ir.bytesToUInt32(r[16+i],r[17+i],r[18+i],r[19+i]),l=ir.bytesToUInt32(r[20+i],r[21+i],r[22+i],r[23+i]);t.humidity.push(o+l/Math.pow(10,Math.ceil(Math.log10(l)))),t.altitude.push(rjr(t.pressure[n],t.temp[n]))}return t},Kkr=1/5.257,ejr=1/.0065;function rjr(e,r){return(Math.pow(Xkr/e,Kkr)-1)*(r+273.15)*ejr}function tjr(e){let r;e.getInt8?r=new Uint8Array(e.buffer):e.buffer?r=e:r=new Uint8Array(e);let t={};if(r[0]===2)Object.assign(t,Dl(r.subarray(2)));else if(r[0]===3){let n=Dl(r.subarray(2));Object.keys(n).forEach((i,c)=>{t[c+8]=n[i]})}else r[0]===4?Object.assign(t,Lte(r.subarray(2))):r[0]===5?Object.assign(t,Fte(r.subarray(2))):r[0]===6?Object.assign(t,Ute(r.subarray(2))):Object.assign(t,Dl(r));return t}var njr={baudRate:115200,buffering:{searchBytes:new Uint8Array([240,240])},codec:tjr,sps:250},ijr={sps:250,services:{"0000cafe-b0ba-8bad-f00d-deadbeef0000":{"0001cafe-b0ba-8bad-f00d-deadbeef0000":{write:void 0},"0002cafe-b0ba-8bad-f00d-deadbeef0000":{notify:!0,notifyCallback:void 0,codec:Dl,sps:250},"0003cafe-b0ba-8bad-f00d-deadbeef0000":{notify:!0,notifyCallback:void 0,codec:Fte,sps:100},"0004cafe-b0ba-8bad-f00d-deadbeef0000":{notify:!0,notifyCallback:void 0,codec:Lte,sps:100},"0005cafe-b0ba-8bad-f00d-deadbeef0000":{notify:!0,notifyCallback:void 0,codec:Dl,sps:250},"0006cafe-b0ba-8bad-f00d-deadbeef0000":{notify:!0,notifyCallback:void 0,codec:Ute,sps:3.33}}}},$a={nSec:10,sps:250,units:"mV"},dit={lines:{0:JSON.parse(JSON.stringify($a)),1:JSON.parse(JSON.stringify($a)),2:JSON.parse(JSON.stringify($a)),3:JSON.parse(JSON.stringify($a)),4:JSON.parse(JSON.stringify($a)),5:JSON.parse(JSON.stringify($a)),6:JSON.parse(JSON.stringify($a)),7:JSON.parse(JSON.stringify($a))},generateNewLines:!0,cleanGeneration:!1},ajr=32,sjr=24,ojr=1.2,Kt={sps:250,useDCBlock:!1,useBandpass:!1,bandpassLower:3,bandpassUpper:45,useScaling:!0,scalar:.96*1e3*ojr/(ajr*(Math.pow(2,sjr)-1))},pit={0:JSON.parse(JSON.stringify(Kt)),1:JSON.parse(JSON.stringify(Kt)),2:JSON.parse(JSON.stringify(Kt)),3:JSON.parse(JSON.stringify(Kt)),4:JSON.parse(JSON.stringify(Kt)),5:JSON.parse(JSON.stringify(Kt)),6:JSON.parse(JSON.stringify(Kt)),7:JSON.parse(JSON.stringify(Kt)),8:JSON.parse(JSON.stringify(Kt)),9:JSON.parse(JSON.stringify(Kt)),10:JSON.parse(JSON.stringify(Kt)),11:JSON.parse(JSON.stringify(Kt)),12:JSON.parse(JSON.stringify(Kt)),13:JSON.parse(JSON.stringify(Kt)),14:JSON.parse(JSON.stringify(Kt)),15:JSON.parse(JSON.stringify(Kt))},cjr=new TextDecoder;function zte(e){let r={timestamp:0,left_red:0,left_infrared:0,left_heg:0,center_red:0,center_infrared:0,center_heg:0,right_red:0,right_infrared:0,right_heg:0},t=cjr.decode(e),n=t.split("|");return n.length>=5?(r.timestamp=Date.now(),r.left_red=parseInt(n[1]),r.left_infrared=parseInt(n[2]),r.left_heg=parseFloat(n[3]),r.center_red=parseInt(n[4]),r.center_infrared=parseInt(n[5]),r.center_heg=parseFloat(n[6]),r.right_red=parseInt(n[7]),r.right_infrared=parseInt(n[8]),r.right_heg=parseFloat(n[9]),r):t}var ujr={baudRate:115200,codec:zte},ljr={services:{["6E400001-B5A3-F393-E0A9-E50E24DCCA9E".toLowerCase()]:{"6e400002-b5a3-f393-e0a9-e50e24dcca9e":{write:"t"},"6e400003-b5a3-f393-e0a9-e50e24dcca9e":{notify:!0,notifyCallback:void 0,codec:zte}},["6E400004-B5A3-F393-E0A9-E50E24DCCA9E".toLowerCase()]:{["6E400005-B5A3-F393-E0A9-E50E24DCCA9E".toLowerCase()]:{read:!0},["6E400006-B5A3-F393-E0A9-E50E24DCCA9E".toLowerCase()]:{write:void 0,notify:!0,notifyCallback:void 0},["6E400007-B5A3-F393-E0A9-E50E24DCCA9E".toLowerCase()]:{read:!0}}},androidWebBLE:"o"};function djr(e){let r={red:e.getInt32(2),ir:e.getInt32(6),ir2:e.getInt32(10),timestamp:Date.now()};return r.heg=r.red/(.5*(r.ir+r.ir2)),r}var Mee=40,pjr={namePrefix:"blueberry",services:{"0f0e0d0c-0b0a-0908-0706-050403020100":{"1f1e1d1c-1b1a-1918-1716-151413121110":{write:void 0},"3f3e3d3c-3b3a-3938-3736-353433323130":{notify:!0,notifyCallback:void 0,codec:djr,sps:Mee}}},sps:Mee};function fjr(e){let r={sred:e.getInt32(2),sir:e.getInt32(6),sir2:e.getInt32(10),timestamp:Date.now()};return r.sheg=r.sred/(.5*(r.sir+r.sir2)),r}function hjr(e){let r={red:e.getInt32(2),ir:e.getInt32(6),ir2:e.getInt32(10),timestamp:Date.now()};return r.heg=r.sred/(.5*(r.ir+r.ir2)),r}var lq=40,vjr={namePrefix:"blueberry",services:{"0f0e0d0c-0b0a-0908-0706-050403020100":{"1f1e1d1c-1b1a-1918-1716-151413121110":{write:void 0},"4f4e4d4c-4b6a-6968-6766-656463426160":{notify:!0,notifyCallback:void 0,codec:hjr,sps:lq},"4f4e4d4c-4b5a-5958-5756-555453425150":{notify:!0,notifyCallback:void 0,codec:fjr,sps:lq}}},sps:lq},MN={sps:250,useDCBlock:!0,useBandpass:!0,bandpassLower:3,bandpassUpper:45},fit={0:JSON.parse(JSON.stringify(MN)),1:JSON.parse(JSON.stringify(MN)),2:JSON.parse(JSON.stringify(MN)),3:JSON.parse(JSON.stringify(MN))},PN={nSec:10,sps:250,units:"mV"},hit={lines:{0:JSON.parse(JSON.stringify(PN)),1:JSON.parse(JSON.stringify(PN)),2:JSON.parse(JSON.stringify(PN)),3:JSON.parse(JSON.stringify(PN)),ax:{nSec:10,sps:250,units:"mg"},ay:{nSec:10,sps:250,units:"mg"},az:{nSec:10,sps:250,units:"mg"}},generateNewLines:!0},yl={sps:250,useDCBlock:!0,useBandpass:!0,bandpassLower:3,bandpassUpper:45},vit={0:JSON.parse(JSON.stringify(yl)),1:JSON.parse(JSON.stringify(yl)),2:JSON.parse(JSON.stringify(yl)),3:JSON.parse(JSON.stringify(yl)),4:JSON.parse(JSON.stringify(yl))};function mjr(e){return{hr:e.getInt8(1),timestamp:Date.now()}}var yjr={services:{heart_rate:{heart_rate_measurement:{notify:!0,notifyCallback:void 0,codec:mjr}}}},Jte={sps:250,simulate:{0:{sps:250,freq:1,amplitude:1,offset:0},1:{sps:250,freq:10,amplitude:1,offset:0},2:{sps:250,freq:100,amplitude:.5,offset:.5},3:{sps:250,freq:25,amplitude:1,offset:0}},connect:(e={})=>new Promise(async(r,t)=>{let n={_id:`simulated${Math.floor(Math.random()*1e15)}`,settings:Object.assign(Object.assign({},Jte),e)};n.settings.looping=!0;let i=50,c=Date.now(),u=()=>{if(n.settings.looping){let a={},s=Date.now(),o=s-c;for(let l in n.settings.simulate){let d=Math.floor(n.settings.simulate[l].sps*o/1e3);a[l]=new Array(d).fill(0),a[l]=a[l].map((p,f)=>Math.sin(2*Math.PI*n.settings.simulate[l].freq*.001*(c+o*(f+1)/d))*n.settings.simulate[l].amplitude+n.settings.simulate[l].offset)}c=s,a.timestamp=c,n.settings.ondata(a),setTimeout(()=>{u()},i)}};u(),n.settings.onconnect&&n.settings.onconnect(n),r(n)}),codec:e=>e,disconnect:e=>{console.log(e),e.settings.looping=!1,e.settings.ondisconnect(e)},onconnect:e=>{console.log("muse connected!",e)},ondisconnect:e=>{console.log("muse disconnected!",e)},ondata:e=>{console.log(e)}},gjr={BLE:{nrf5x:ijr,hegduino:Wkr,hegduinoV1:Rte,cognixionONE:Qkr,statechanger:ljr,blueberry:pjr,blueberry2:vjr,heart_rate:yjr},USB:{nrf5x:njr,freeEEG32:zkr,freeEEG32_optical:Jkr,freeEEG128:Fkr,hegduino:II,hegduinoV1:Tte,cyton:uq,cyton_daisy:uq,peanut:Zkr,statechanger:ujr,cognixionONE:uq},BLE_OTHER:{},USB_OTHER:{},OTHER:{simulator:Jte}},mit=new TextDecoder,Vte={BLE_OTHER:{muse:Hq,ganglion:EI}},BI={};Object.assign(BI,gjr);Object.assign(BI,Vte);var kI={};Ri(kI,{default:()=>bjr});var bjr=e=>{if(e.timestamp&&Object.defineProperty(e,"timestamp",{value:e.timestamp,enumerable:!1}),"electrode"in e)return{[e.electrode[0]]:e.samples};if(e.timestamp)return e};var Fk={};Ri(Fk,{__attributes:()=>zUr,__children:()=>JUr,__compose:()=>UUr,__listeners:()=>VUr});var _jr=Object.defineProperty,Hc=(e=>typeof bn<"u"?bn:typeof Proxy<"u"?new Proxy(e,{get:(r,t)=>(typeof bn<"u"?bn:r)[t]}):e)(function(e){if(typeof bn<"u")return bn.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')}),yo=(e,r)=>{for(var t in r)_jr(e,t,{get:r[t],enumerable:!0})},Bie={};yo(Bie,{__children:()=>n4r,__listeners:()=>i4r,ondata:()=>t4r,output:()=>r4r});var Kc={};yo(Kc,{__connected:()=>Ojr,__element:()=>wjr,default:()=>Njr,itemTag:()=>xjr,options:()=>Sjr,showHide:()=>Djr});var wjr="select",Sjr={},xjr="option",Ojr=function(){let e=this,r=e.__element;r||e.source&&(e=e.source,r=e.__element);let t=e.options;if(!Array.isArray(t)){t=[];for(let c in e.options)t.push({value:c,label:e.options[c]})}if(t.length===0)return;let n=t.reduce((c,u)=>c*!!u.show,!0);r&&(r.innerHTML=t.map(c=>{let u=typeof c=="object"?c.value:c,a=c?.label??u;return`<${this.itemTag} value='${u}'>${a}</${this.itemTag}>`})),r.onchange=c=>{n&&this.showHide(c.target.value,t,r),this.default(c.target.value)};let i=t?.[0]?.value;setTimeout(()=>{n&&this.showHide(i,t,r),this.default(i)},n?100:10)};function Djr(e,r,t){r.forEach(n=>{let i=t.parentNode.querySelector(`#${n.show}`);e===n.value?(i.style.display="",i.hasAttribute("escomponent")&&i.__component.default(i.value)):i.style.display="none"})}var Njr=e=>e,kie={};yo(kie,{__attributes:()=>Ejr,__element:()=>Pjr,__useclick:()=>Cjr,cache:()=>Mjr,default:()=>qjr,pressed:()=>Ajr});var Cjr=!0,Ajr=!1,Mjr=null,Pjr="button",Ejr={innerHTML:"Click Me",onclick:function(){this.__useclick&&(this.default({value:!0,__internal:!0}),this.default({value:!1,__internal:!0}))},onmousedown:function(){this.__useclick=!1,this.default({value:!0,__internal:!0});let e=()=>{this.default({value:!1,__internal:!0}),globalThis.removeEventListener("mouseup",e),setTimeout(()=>this.__useclick=!0,10)};globalThis.addEventListener("mouseup",e)}};function qjr(e){let r,t=e?.value??e;return e?.__internal?(this.pressed=t,this.cache?t&&(r=this.cache):r=t):t!==void 0&&(this.cache=t),r}var jie={};yo(jie,{decoder:()=>F3r,default:()=>Y3r,device:()=>V3r,info:()=>G3r,mode:()=>T3r,onconnect:()=>J3r,ondecoded:()=>L3r,routes:()=>z3r,selected:()=>R3r,sps:()=>Q3r,subprocesses:()=>U3r,thirdPartyDecoder:()=>H3r,transferred:()=>$3r,workerUrl:()=>W3r});var Tie={};yo(Tie,{BLE:()=>$l,Devices:()=>lae,chartSettings:()=>E3r,createStreamPipeline:()=>j3r,decoders:()=>I3r,filterPresets:()=>P3r,gsworker:()=>SB,initDevice:()=>k3r,isMobile:()=>B3r,workers:()=>_a});var Ijr=Object.create,yB=Object.defineProperty,Bjr=Object.getOwnPropertyDescriptor,gB=Object.getOwnPropertyNames,kjr=Object.getPrototypeOf,jjr=Object.prototype.hasOwnProperty,Wc=(e=>typeof Hc<"u"?Hc:typeof Proxy<"u"?new Proxy(e,{get:(r,t)=>(typeof Hc<"u"?Hc:r)[t]}):e)(function(e){if(typeof Hc<"u")return Hc.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')}),b2=(e,r)=>function(){return e&&(r=(0,e[gB(e)[0]])(e=0)),r},Tjr=(e,r)=>function(){return r||(0,e[gB(e)[0]])((r={exports:{}}).exports,r),r.exports},Rjr=(e,r)=>{for(var t in r)yB(e,t,{get:r[t],enumerable:!0})},Fjr=(e,r,t,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let i of gB(r))!jjr.call(e,i)&&i!==t&&yB(e,i,{get:()=>r[i],enumerable:!(n=Bjr(r,i))||n.enumerable});return e},Ljr=(e,r,t)=>(t=e!=null?Ijr(kjr(e)):{},Fjr(r||!e||!e.__esModule?yB(t,"default",{value:e,enumerable:!0}):t,e)),Gte,Hte,jI,Ujr,zjr,$c,e2,Wte,$te,Qte,os,Rie,Jjr,Fie,bB=b2({"ble/node_modules/@capacitor/core/dist/index.js"(){Gte=e=>{let r=new Map;r.set("web",{name:"web"});let t=e.CapacitorPlatforms||{currentPlatform:{name:"web"},platforms:r},n=(c,u)=>{t.platforms.set(c,u)},i=c=>{t.platforms.has(c)&&(t.currentPlatform=t.platforms.get(c))};return t.addPlatform=n,t.setPlatform=i,t},Hte=e=>e.CapacitorPlatforms=Gte(e),jI=Hte(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),Ujr=jI.addPlatform,zjr=jI.setPlatform,function(e){e.Unimplemented="UNIMPLEMENTED",e.Unavailable="UNAVAILABLE"}($c||($c={})),e2=class extends Error{constructor(e,r,t){super(e),this.message=e,this.code=r,this.data=t}},Wte=e=>{var r,t;return e?.androidBridge?"android":!((t=(r=e?.webkit)===null||r===void 0?void 0:r.messageHandlers)===null||t===void 0)&&t.bridge?"ios":"web"},$te=e=>{var r,t,n,i,c;let u=e.CapacitorCustomPlatform||null,a=e.Capacitor||{},s=a.Plugins=a.Plugins||{},o=e.CapacitorPlatforms,l=()=>u!==null?u.name:Wte(e),d=((r=o?.currentPlatform)===null||r===void 0?void 0:r.getPlatform)||l,p=()=>d()!=="web",f=((t=o?.currentPlatform)===null||t===void 0?void 0:t.isNativePlatform)||p,v=O=>{let x=_.get(O);return!!(x?.platforms.has(d())||y(O))},h=((n=o?.currentPlatform)===null||n===void 0?void 0:n.isPluginAvailable)||v,m=O=>{var x;return(x=a.PluginHeaders)===null||x===void 0?void 0:x.find(N=>N.name===O)},y=((i=o?.currentPlatform)===null||i===void 0?void 0:i.getPluginHeader)||m,g=O=>e.console.error(O),b=(O,x,N)=>Promise.reject(`${N} does not have an implementation of "${x}".`),_=new Map,S=(O,x={})=>{let N=_.get(O);if(N)return console.warn(`Capacitor plugin "${O}" already registered. Cannot register plugins twice.`),N.proxy;let M=d(),I=y(O),q,z=async()=>(!q&&M in x?q=typeof x[M]=="function"?q=await x[M]():q=x[M]:u!==null&&!q&&"web"in x&&(q=typeof x.web=="function"?q=await x.web():q=x.web),q),R=(Z,ue)=>{var ye,X;if(I){let le=I?.methods.find(Oe=>ue===Oe.name);if(le)return le.rtype==="promise"?Oe=>a.nativePromise(O,ue.toString(),Oe):(Oe,ne)=>a.nativeCallback(O,ue.toString(),Oe,ne);if(Z)return(ye=Z[ue])===null||ye===void 0?void 0:ye.bind(Z)}else{if(Z)return(X=Z[ue])===null||X===void 0?void 0:X.bind(Z);throw new e2(`"${O}" plugin is not implemented on ${M}`,$c.Unimplemented)}},j=Z=>{let ue,ye=(...X)=>{let le=z().then(Oe=>{let ne=R(Oe,Z);if(ne){let fe=ne(...X);return ue=fe?.remove,fe}else throw new e2(`"${O}.${Z}()" is not implemented on ${M}`,$c.Unimplemented)});return Z==="addListener"&&(le.remove=async()=>ue()),le};return ye.toString=()=>`${Z.toString()}() { [capacitor code] }`,Object.defineProperty(ye,"name",{value:Z,writable:!1,configurable:!1}),ye},L=j("addListener"),P=j("removeListener"),V=(Z,ue)=>{let ye=L({eventName:Z},ue),X=async()=>{let Oe=await ye;P({eventName:Z,callbackId:Oe},ue)},le=new Promise(Oe=>ye.then(()=>Oe({remove:X})));return le.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await X()},le},E=new Proxy({},{get(Z,ue){switch(ue){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return I?V:L;case"removeListener":return P;default:return j(ue)}}});return s[O]=E,_.set(O,{name:O,proxy:E,platforms:new Set([...Object.keys(x),...I?[M]:[]])}),E},w=((c=o?.currentPlatform)===null||c===void 0?void 0:c.registerPlugin)||S;return a.convertFileSrc||(a.convertFileSrc=O=>O),a.getPlatform=d,a.handleError=g,a.isNativePlatform=f,a.isPluginAvailable=h,a.pluginMethodNoop=b,a.registerPlugin=w,a.Exception=e2,a.DEBUG=!!a.DEBUG,a.isLoggingEnabled=!!a.isLoggingEnabled,a.platform=a.getPlatform(),a.isNative=a.isNativePlatform(),a},Qte=e=>e.Capacitor=$te(e),os=Qte(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),Rie=os.registerPlugin,Jjr=os.Plugins,Fie=class{constructor(e){this.listeners={},this.windowListeners={},e&&(console.warn(`Capacitor WebPlugin "${e.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=e)}addListener(e,r){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(r);let n=this.windowListeners[e];n&&!n.registered&&this.addWindowListener(n);let i=async()=>this.removeListener(e,r),c=Promise.resolve({remove:i});return Object.defineProperty(c,"remove",{value:async()=>{console.warn("Using addListener() without 'await' is deprecated."),await i()}}),c}async removeAllListeners(){this.listeners={};for(let e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,r){let t=this.listeners[e];t&&t.forEach(n=>n(r))}hasListeners(e){return!!this.listeners[e].length}registerWindowListener(e,r){this.windowListeners[r]={registered:!1,windowEventName:e,pluginEventName:r,handler:t=>{this.notifyListeners(r,t)}}}unimplemented(e="not implemented"){return new os.Exception(e,$c.Unimplemented)}unavailable(e="not available"){return new os.Exception(e,$c.Unavailable)}async removeListener(e,r){let t=this.listeners[e];if(!t)return;let n=t.indexOf(r);this.listeners[e].splice(n,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){!e||(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}}}});function Vjr(e){return new DataView(Uint8Array.from(e).buffer)}function Gjr(e){return Array.from(new Uint8Array(e.buffer))}function Hjr(e){return`0000${e.toString(16).padStart(4,"0")}-0000-1000-8000-00805f9b34fb`}function c2(e){let r=e.trim().split(" ").filter(t=>t!=="").map(t=>parseInt(t,16));return Vjr(r)}function TI(e){return Gjr(e).map(r=>{let t=r.toString(16);return t.length==1&&(t="0"+t),t}).join(" ")}function Wjr(e){if(typeof e=="string")return e;if(typeof e=="number")return Hjr(e);throw new Error("Invalid UUID")}function Yte(e){let r={};if(!!e)return e.forEach((t,n)=>{r[n.toString()]=t}),r}var _B=b2({"ble/node_modules/@capacitor-community/bluetooth-le/dist/esm/conversion.js"(){}});async function $jr(e,r,t){let n;return Promise.race([e,new Promise((i,c)=>{n=setTimeout(()=>c(t),r)})]).finally(()=>clearTimeout(n))}var Qjr=b2({"ble/node_modules/@capacitor-community/bluetooth-le/dist/esm/timeout.js"(){}}),Lie={};Rjr(Lie,{BluetoothLeWeb:()=>Uie});var Uie,Yjr=b2({"ble/node_modules/@capacitor-community/bluetooth-le/dist/esm/web.js"(){bB(),_B(),Qjr(),Uie=class extends Fie{constructor(){super(...arguments),this.deviceMap=new Map,this.discoveredDevices=new Map,this.scan=null,this.DEFAULT_CONNECTION_TIMEOUT=1e4,this.onAdvertisementReceivedCallback=this.onAdvertisementReceived.bind(this),this.onDisconnectedCallback=this.onDisconnected.bind(this),this.onCharacteristicValueChangedCallback=this.onCharacteristicValueChanged.bind(this)}async initialize(){if(typeof navigator>"u"||!navigator.bluetooth)throw this.unavailable("Web Bluetooth API not available in this browser.");if(!await navigator.bluetooth.getAvailability())throw this.unavailable("No Bluetooth radio available.")}async isEnabled(){return{value:!0}}async enable(){throw this.unavailable("enable is not available on web.")}async disable(){throw this.unavailable("disable is not available on web.")}async startEnabledNotifications(){}async stopEnabledNotifications(){}async isLocationEnabled(){throw this.unavailable("isLocationEnabled is not available on web.")}async openLocationSettings(){throw this.unavailable("openLocationSettings is not available on web.")}async openBluetoothSettings(){throw this.unavailable("openBluetoothSettings is not available on web.")}async openAppSettings(){throw this.unavailable("openAppSettings is not available on web.")}async setDisplayStrings(){}async requestDevice(e){let r=this.getFilters(e),t=await navigator.bluetooth.requestDevice({filters:r.length?r:void 0,optionalServices:e?.optionalServices,acceptAllDevices:r.length===0});return this.deviceMap.set(t.id,t),this.getBleDevice(t)}async requestLEScan(e){this.requestBleDeviceOptions=e;let r=this.getFilters(e);await this.stopLEScan(),this.discoveredDevices=new Map,navigator.bluetooth.removeEventListener("advertisementreceived",this.onAdvertisementReceivedCallback),navigator.bluetooth.addEventListener("advertisementreceived",this.onAdvertisementReceivedCallback),this.scan=await navigator.bluetooth.requestLEScan({filters:r.length?r:void 0,acceptAllAdvertisements:r.length===0,keepRepeatedDevices:e?.allowDuplicates})}onAdvertisementReceived(e){var r,t;let n=e.device.id;if(this.deviceMap.set(n,e.device),!this.discoveredDevices.has(n)||((r=this.requestBleDeviceOptions)===null||r===void 0?void 0:r.allowDuplicates)){this.discoveredDevices.set(n,!0);let c=this.getBleDevice(e.device),u={device:c,localName:c.name,rssi:e.rssi,txPower:e.txPower,manufacturerData:Yte(e.manufacturerData),serviceData:Yte(e.serviceData),uuids:(t=e.uuids)===null||t===void 0?void 0:t.map(Wjr)};this.notifyListeners("onScanResult",u)}}async stopLEScan(){var e;!((e=this.scan)===null||e===void 0)&&e.active&&this.scan.stop(),this.scan=null}async getDevices(e){return{devices:(await navigator.bluetooth.getDevices()).map(n=>(this.deviceMap.set(n.id,n),this.getBleDevice(n)))}}async getConnectedDevices(e){return{devices:(await navigator.bluetooth.getDevices()).filter(n=>{var i;return(i=n.gatt)===null||i===void 0?void 0:i.connected}).map(n=>(this.deviceMap.set(n.id,n),this.getBleDevice(n)))}}async connect(e){var r,t;let n=this.getDeviceFromMap(e.deviceId);n.removeEventListener("gattserverdisconnected",this.onDisconnectedCallback),n.addEventListener("gattserverdisconnected",this.onDisconnectedCallback);let i=Symbol();if(n.gatt===void 0)throw new Error("No gatt server available.");try{let c=(r=e.timeout)!==null&&r!==void 0?r:this.DEFAULT_CONNECTION_TIMEOUT;await $jr(n.gatt.connect(),c,i)}catch(c){throw await((t=n.gatt)===null||t===void 0?void 0:t.disconnect()),c===i?new Error("Connection timeout"):c}}onDisconnected(e){let t=`disconnected|${e.target.id}`;this.notifyListeners(t,null)}async createBond(e){throw this.unavailable("createBond is not available on web.")}async isBonded(e){throw this.unavailable("isBonded is not available on web.")}async disconnect(e){var r;(r=this.getDeviceFromMap(e.deviceId).gatt)===null||r===void 0||r.disconnect()}async getServices(e){var r,t;let n=(t=await((r=this.getDeviceFromMap(e.deviceId).gatt)===null||r===void 0?void 0:r.getPrimaryServices()))!==null&&t!==void 0?t:[],i=[];for(let c of n){let u=await c.getCharacteristics(),a=[];for(let s of u)a.push({uuid:s.uuid,properties:this.getProperties(s),descriptors:await this.getDescriptors(s)});i.push({uuid:c.uuid,characteristics:a})}return{services:i}}async getDescriptors(e){try{return(await e.getDescriptors()).map(t=>({uuid:t.uuid}))}catch{return[]}}getProperties(e){return{broadcast:e.properties.broadcast,read:e.properties.read,writeWithoutResponse:e.properties.writeWithoutResponse,write:e.properties.write,notify:e.properties.notify,indicate:e.properties.indicate,authenticatedSignedWrites:e.properties.authenticatedSignedWrites,reliableWrite:e.properties.reliableWrite,writableAuxiliaries:e.properties.writableAuxiliaries}}async getCharacteristic(e){var r;let t=await((r=this.getDeviceFromMap(e.deviceId).gatt)===null||r===void 0?void 0:r.getPrimaryService(e?.service));return t?.getCharacteristic(e?.characteristic)}async getDescriptor(e){let r=await this.getCharacteristic(e);return r?.getDescriptor(e?.descriptor)}async readRssi(e){throw this.unavailable("readRssi is not available on web.")}async read(e){let r=await this.getCharacteristic(e);return{value:await r?.readValue()}}async write(e){let r=await this.getCharacteristic(e),t;typeof e.value=="string"?t=c2(e.value):t=e.value,await r?.writeValueWithResponse(t)}async writeWithoutResponse(e){let r=await this.getCharacteristic(e),t;typeof e.value=="string"?t=c2(e.value):t=e.value,await r?.writeValueWithoutResponse(t)}async readDescriptor(e){let r=await this.getDescriptor(e);return{value:await r?.readValue()}}async writeDescriptor(e){let r=await this.getDescriptor(e),t;typeof e.value=="string"?t=c2(e.value):t=e.value,await r?.writeValue(t)}async startNotifications(e){let r=await this.getCharacteristic(e);r?.removeEventListener("characteristicvaluechanged",this.onCharacteristicValueChangedCallback),r?.addEventListener("characteristicvaluechanged",this.onCharacteristicValueChangedCallback),await r?.startNotifications()}onCharacteristicValueChanged(e){var r,t;let n=e.target,i=`notification|${(r=n.service)===null||r===void 0?void 0:r.device.id}|${(t=n.service)===null||t===void 0?void 0:t.uuid}|${n.uuid}`;this.notifyListeners(i,{value:n.value})}async stopNotifications(e){let r=await this.getCharacteristic(e);await r?.stopNotifications()}getFilters(e){var r;let t=[];for(let n of(r=e?.services)!==null&&r!==void 0?r:[])t.push({services:[n],name:e?.name,namePrefix:e?.namePrefix});return(e?.name||e?.namePrefix)&&t.length===0&&t.push({name:e.name,namePrefix:e.namePrefix}),t}getDeviceFromMap(e){let r=this.deviceMap.get(e);if(r===void 0)throw new Error('Device not found. Call "requestDevice", "requestLEScan" or "getDevices" first.');return r}getBleDevice(e){var r;return{deviceId:e.id,name:(r=e.name)!==null&&r!==void 0?r:void 0}}}}}),Zjr=Tjr({"ble/node_modules/throat/index.js"(e,r){"use strict";function t(s){var o=new a,l=s|0;function d(m,y,g){return(l|0)!==0?(l=(l|0)-1,new Promise(function(b){b(m.apply(y,g))}).then(f,v)):new Promise(function(b){o.push(new c(b,m,y,g))}).then(p)}function p(m){try{return Promise.resolve(m.fn.apply(m.self,m.args)).then(f,v)}catch(y){v(y)}}function f(m){return h(),m}function v(m){throw h(),m}function h(){var m=o.shift();m?m.resolve(m):l=(l|0)+1}return d}function n(s,o){let l=t(s|0);return function(){for(var d=new Array(arguments.length),p=0;p<arguments.length;p++)d[p]=arguments[p];return l(o,this,d)}}function i(s){let o=t(s|0);return function(l){if(typeof l!="function")throw new TypeError("Expected throat fn to be a function but got "+typeof l);for(var d=new Array(arguments.length-1),p=1;p<arguments.length;p++)d[p-1]=arguments[p];return o(l,this,d)}}r.exports=function(o,l){if(typeof o=="function"){var d=l;l=o,o=d}if(typeof o!="number")throw new TypeError("Expected throat size to be a number but got "+typeof o);if(l!==void 0&&typeof l!="function")throw new TypeError("Expected throat fn to be a function but got "+typeof l);return typeof l=="function"?n(o|0,l):i(o|0)},r.exports.default=r.exports;function c(s,o,l,d){this.resolve=s,this.fn=o,this.self=l||null,this.args=d}var u=64;function a(){this._s1=[],this._s2=[],this._shiftBlock=this._pushBlock=new Array(u),this._pushIndex=0,this._shiftIndex=0}a.prototype.push=function(s){this._pushIndex===u&&(this._pushIndex=0,this._s1[this._s1.length]=this._pushBlock=new Array(u)),this._pushBlock[this._pushIndex++]=s},a.prototype.shift=function(){if(this._shiftIndex===u){this._shiftIndex=0;var s=this._s2;if(s.length===0){var o=this._s1;if(o.length===0)return;this._s1=s,s=this._s2=o.reverse()}this._shiftBlock=s.pop()}if(!(this._pushBlock===this._shiftBlock&&this._pushIndex===this._shiftIndex)){var l=this._shiftBlock[this._shiftIndex];return this._shiftBlock[this._shiftIndex++]=null,l}}}}),Xjr=Object.create,zie=Object.defineProperty,Kjr=Object.getOwnPropertyDescriptor,Jie=Object.getOwnPropertyNames,eTr=Object.getPrototypeOf,rTr=Object.prototype.hasOwnProperty,tTr=(e=>typeof Wc<"u"?Wc:typeof Proxy<"u"?new Proxy(e,{get:(r,t)=>(typeof Wc<"u"?Wc:r)[t]}):e)(function(e){if(typeof Wc<"u")return Wc.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')}),Vie=(e,r)=>function(){return r||(0,e[Jie(e)[0]])((r={exports:{}}).exports,r),r.exports},nTr=(e,r,t,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let i of Jie(r))!rTr.call(e,i)&&i!==t&&zie(e,i,{get:()=>r[i],enumerable:!(n=Kjr(r,i))||n.enumerable});return e},Gie=(e,r,t)=>(t=e!=null?Xjr(eTr(e)):{},nTr(r||!e||!e.__esModule?zie(t,"default",{value:e,enumerable:!0}):t,e)),iTr=Vie({"services/e2ee/sjcl.js"(e,r){"use strict";var t={cipher:{},hash:{},keyexchange:{},mode:{},misc:{},codec:{},exception:{corrupt:function(h){this.toString=function(){return"CORRUPT: "+this.message},this.message=h},invalid:function(h){this.toString=function(){return"INVALID: "+this.message},this.message=h},bug:function(h){this.toString=function(){return"BUG: "+this.message},this.message=h},notReady:function(h){this.toString=function(){return"NOT READY: "+this.message},this.message=h}}};t.cipher.aes=function(h){this.s[0][0][0]||this.O();var m,y,g,b,_=this.s[0][4],S=this.s[1];m=h.length;var w=1;if(m!==4&&m!==6&&m!==8)throw new t.exception.invalid("invalid aes key size");for(this.b=[g=h.slice(0),b=[]],h=m;h<4*m+28;h++)y=g[h-1],(h%m===0||m===8&&h%m===4)&&(y=_[y>>>24]<<24^_[y>>16&255]<<16^_[y>>8&255]<<8^_[y&255],h%m===0&&(y=y<<8^y>>>24^w<<24,w=w<<1^283*(w>>7))),g[h]=g[h-m]^y;for(m=0;h;m++,h--)y=g[m&3?h:h-4],b[m]=4>=h||4>m?y:S[0][_[y>>>24]]^S[1][_[y>>16&255]]^S[2][_[y>>8&255]]^S[3][_[y&255]]},t.cipher.aes.prototype={encrypt:function(h){return n(this,h,0)},decrypt:function(h){return n(this,h,1)},s:[[[],[],[],[],[]],[[],[],[],[],[]]],O:function(){var h=this.s[0],m=this.s[1],y=h[4],g=m[4],b,_,S,w=[],O=[],x,N,M,I;for(b=0;256>b;b++)O[(w[b]=b<<1^283*(b>>7))^b]=b;for(_=S=0;!y[_];_^=x||1,S=O[S]||1)for(M=S^S<<1^S<<2^S<<3^S<<4,M=M>>8^M&255^99,y[_]=M,g[M]=_,N=w[b=w[x=w[_]]],I=16843009*N^65537*b^257*x^16843008*_,N=257*w[M]^16843008*M,b=0;4>b;b++)h[b][_]=N=N<<24^N>>>8,m[b][M]=I=I<<24^I>>>8;for(b=0;5>b;b++)h[b]=h[b].slice(0),m[b]=m[b].slice(0)}};function n(h,m,y){if(m.length!==4)throw new t.exception.invalid("invalid aes block size");var g=h.b[y],b=m[0]^g[0],_=m[y?3:1]^g[1],S=m[2]^g[2];m=m[y?1:3]^g[3];var w,O,x,N=g.length/4-2,M,I=4,q=[0,0,0,0];w=h.s[y],h=w[0];var z=w[1],R=w[2],j=w[3],L=w[4];for(M=0;M<N;M++)w=h[b>>>24]^z[_>>16&255]^R[S>>8&255]^j[m&255]^g[I],O=h[_>>>24]^z[S>>16&255]^R[m>>8&255]^j[b&255]^g[I+1],x=h[S>>>24]^z[m>>16&255]^R[b>>8&255]^j[_&255]^g[I+2],m=h[m>>>24]^z[b>>16&255]^R[_>>8&255]^j[S&255]^g[I+3],I+=4,b=w,_=O,S=x;for(M=0;4>M;M++)q[y?3&-M:M]=L[b>>>24]<<24^L[_>>16&255]<<16^L[S>>8&255]<<8^L[m&255]^g[I++],w=b,b=_,_=S,S=m,m=w;return q}t.bitArray={bitSlice:function(h,m,y){return h=t.bitArray.$(h.slice(m/32),32-(m&31)).slice(1),y===void 0?h:t.bitArray.clamp(h,y-m)},extract:function(h,m,y){var g=Math.floor(-m-y&31);return((m+y-1^m)&-32?h[m/32|0]<<32-g^h[m/32+1|0]>>>g:h[m/32|0]>>>g)&(1<<y)-1},concat:function(h,m){if(h.length===0||m.length===0)return h.concat(m);var y=h[h.length-1],g=t.bitArray.getPartial(y);return g===32?h.concat(m):t.bitArray.$(m,g,y|0,h.slice(0,h.length-1))},bitLength:function(h){var m=h.length;return m===0?0:32*(m-1)+t.bitArray.getPartial(h[m-1])},clamp:function(h,m){if(32*h.length<m)return h;h=h.slice(0,Math.ceil(m/32));var y=h.length;return m=m&31,0<y&&m&&(h[y-1]=t.bitArray.partial(m,h[y-1]&2147483648>>m-1,1)),h},partial:function(h,m,y){return h===32?m:(y?m|0:m<<32-h)+1099511627776*h},getPartial:function(h){return Math.round(h/1099511627776)||32},equal:function(h,m){if(t.bitArray.bitLength(h)!==t.bitArray.bitLength(m))return!1;var y=0,g;for(g=0;g<h.length;g++)y|=h[g]^m[g];return y===0},$:function(h,m,y,g){var b;for(b=0,g===void 0&&(g=[]);32<=m;m-=32)g.push(y),y=0;if(m===0)return g.concat(h);for(b=0;b<h.length;b++)g.push(y|h[b]>>>m),y=h[b]<<32-m;return b=h.length?h[h.length-1]:0,h=t.bitArray.getPartial(b),g.push(t.bitArray.partial(m+h&31,32<m+h?y:g.pop(),1)),g},i:function(h,m){return[h[0]^m[0],h[1]^m[1],h[2]^m[2],h[3]^m[3]]},byteswapM:function(h){var m,y;for(m=0;m<h.length;++m)y=h[m],h[m]=y>>>24|y>>>8&65280|(y&65280)<<8|y<<24;return h}},t.codec.utf8String={fromBits:function(h){var m="",y=t.bitArray.bitLength(h),g,b;for(g=0;g<y/8;g++)(g&3)===0&&(b=h[g/4]),m+=String.fromCharCode(b>>>8>>>8>>>8),b<<=8;return decodeURIComponent(escape(m))},toBits:function(h){h=unescape(encodeURIComponent(h));var m=[],y,g=0;for(y=0;y<h.length;y++)g=g<<8|h.charCodeAt(y),(y&3)===3&&(m.push(g),g=0);return y&3&&m.push(t.bitArray.partial(8*(y&3),g)),m}},t.codec.hex={fromBits:function(h){var m="",y;for(y=0;y<h.length;y++)m+=((h[y]|0)+0xf00000000000).toString(16).substr(4);return m.substr(0,t.bitArray.bitLength(h)/4)},toBits:function(h){var m,y=[],g;for(h=h.replace(/\s|0x/g,""),g=h.length,h=h+"00000000",m=0;m<h.length;m+=8)y.push(parseInt(h.substr(m,8),16)^0);return t.bitArray.clamp(y,4*g)}},t.codec.base32={B:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",X:"0123456789ABCDEFGHIJKLMNOPQRSTUV",BITS:32,BASE:5,REMAINING:27,fromBits:function(h,m,y){var g=t.codec.base32.BASE,b=t.codec.base32.REMAINING,_="",S=0,w=t.codec.base32.B,O=0,x=t.bitArray.bitLength(h);for(y&&(w=t.codec.base32.X),y=0;_.length*g<x;)_+=w.charAt((O^h[y]>>>S)>>>b),S<g?(O=h[y]<<g-S,S+=b,y++):(O<<=g,S-=g);for(;_.length&7&&!m;)_+="=";return _},toBits:function(h,m){h=h.replace(/\s|=/g,"").toUpperCase();var y=t.codec.base32.BITS,g=t.codec.base32.BASE,b=t.codec.base32.REMAINING,_=[],S,w=0,O=t.codec.base32.B,x=0,N,M="base32";for(m&&(O=t.codec.base32.X,M="base32hex"),S=0;S<h.length;S++){if(N=O.indexOf(h.charAt(S)),0>N){if(!m)try{return t.codec.base32hex.toBits(h)}catch{}throw new t.exception.invalid("this isn't "+M+"!")}w>b?(w-=b,_.push(x^N>>>w),x=N<<y-w):(w+=g,x^=N<<y-w)}return w&56&&_.push(t.bitArray.partial(w&56,x,1)),_}},t.codec.base32hex={fromBits:function(h,m){return t.codec.base32.fromBits(h,m,1)},toBits:function(h){return t.codec.base32.toBits(h,1)}},t.codec.base64={B:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",fromBits:function(h,m,y){var g="",b=0,_=t.codec.base64.B,S=0,w=t.bitArray.bitLength(h);for(y&&(_=_.substr(0,62)+"-_"),y=0;6*g.length<w;)g+=_.charAt((S^h[y]>>>b)>>>26),6>b?(S=h[y]<<6-b,b+=26,y++):(S<<=6,b-=6);for(;g.length&3&&!m;)g+="=";return g},toBits:function(h,m){h=h.replace(/\s|=/g,"");var y=[],g,b=0,_=t.codec.base64.B,S=0,w;for(m&&(_=_.substr(0,62)+"-_"),g=0;g<h.length;g++){if(w=_.indexOf(h.charAt(g)),0>w)throw new t.exception.invalid("this isn't base64!");26<b?(b-=26,y.push(S^w>>>b),S=w<<32-b):(b+=6,S^=w<<32-b)}return b&56&&y.push(t.bitArray.partial(b&56,S,1)),y}},t.codec.base64url={fromBits:function(h){return t.codec.base64.fromBits(h,1,1)},toBits:function(h){return t.codec.base64.toBits(h,1)}},t.hash.sha256=function(h){this.b[0]||this.O(),h?(this.F=h.F.slice(0),this.A=h.A.slice(0),this.l=h.l):this.reset()},t.hash.sha256.hash=function(h){return new t.hash.sha256().update(h).finalize()},t.hash.sha256.prototype={blockSize:512,reset:function(){return this.F=this.Y.slice(0),this.A=[],this.l=0,this},update:function(h){typeof h=="string"&&(h=t.codec.utf8String.toBits(h));var m,y=this.A=t.bitArray.concat(this.A,h);if(m=this.l,h=this.l=m+t.bitArray.bitLength(h),9007199254740991<h)throw new t.exception.invalid("Cannot hash more than 2^53 - 1 bits");if(typeof Uint32Array<"u"){var g=new Uint32Array(y),b=0;for(m=512+m-(512+m&511);m<=h;m+=512)i(this,g.subarray(16*b,16*(b+1))),b+=1;y.splice(0,16*b)}else for(m=512+m-(512+m&511);m<=h;m+=512)i(this,y.splice(0,16));return this},finalize:function(){var h,y=this.A,m=this.F,y=t.bitArray.concat(y,[t.bitArray.partial(1,1)]);for(h=y.length+2;h&15;h++)y.push(0);for(y.push(Math.floor(this.l/4294967296)),y.push(this.l|0);y.length;)i(this,y.splice(0,16));return this.reset(),m},Y:[],b:[],O:function(){function h(_){return 4294967296*(_-Math.floor(_))|0}for(var m=0,y=2,g,b;64>m;y++){for(b=!0,g=2;g*g<=y;g++)if(y%g===0){b=!1;break}b&&(8>m&&(this.Y[m]=h(Math.pow(y,.5))),this.b[m]=h(Math.pow(y,1/3)),m++)}}};function i(h,m){var y,g,b,_=h.F,S=h.b,w=_[0],O=_[1],x=_[2],N=_[3],M=_[4],I=_[5],q=_[6],z=_[7];for(y=0;64>y;y++)16>y?g=m[y]:(g=m[y+1&15],b=m[y+14&15],g=m[y&15]=(g>>>7^g>>>18^g>>>3^g<<25^g<<14)+(b>>>17^b>>>19^b>>>10^b<<15^b<<13)+m[y&15]+m[y+9&15]|0),g=g+z+(M>>>6^M>>>11^M>>>25^M<<26^M<<21^M<<7)+(q^M&(I^q))+S[y],z=q,q=I,I=M,M=N+g|0,N=x,x=O,O=w,w=g+(O&x^N&(O^x))+(O>>>2^O>>>13^O>>>22^O<<30^O<<19^O<<10)|0;_[0]=_[0]+w|0,_[1]=_[1]+O|0,_[2]=_[2]+x|0,_[3]=_[3]+N|0,_[4]=_[4]+M|0,_[5]=_[5]+I|0,_[6]=_[6]+q|0,_[7]=_[7]+z|0}t.mode.ccm={name:"ccm",G:[],listenProgress:function(h){t.mode.ccm.G.push(h)},unListenProgress:function(h){h=t.mode.ccm.G.indexOf(h),-1<h&&t.mode.ccm.G.splice(h,1)},fa:function(h){var m=t.mode.ccm.G.slice(),y;for(y=0;y<m.length;y+=1)m[y](h)},encrypt:function(h,m,y,g,b){var _,S=m.slice(0),w=t.bitArray,O=w.bitLength(y)/8,x=w.bitLength(S)/8;if(b=b||64,g=g||[],7>O)throw new t.exception.invalid("ccm: iv must be at least 7 bytes");for(_=2;4>_&&x>>>8*_;_++);return _<15-O&&(_=15-O),y=w.clamp(y,8*(15-_)),m=t.mode.ccm.V(h,m,y,g,b,_),S=t.mode.ccm.C(h,S,y,m,b,_),w.concat(S.data,S.tag)},decrypt:function(h,m,y,g,b){b=b||64,g=g||[];var _=t.bitArray,S=_.bitLength(y)/8,x=_.bitLength(m),w=_.clamp(m,x-b),O=_.bitSlice(m,x-b),x=(x-b)/8;if(7>S)throw new t.exception.invalid("ccm: iv must be at least 7 bytes");for(m=2;4>m&&x>>>8*m;m++);if(m<15-S&&(m=15-S),y=_.clamp(y,8*(15-m)),w=t.mode.ccm.C(h,w,y,O,b,m),h=t.mode.ccm.V(h,w.data,y,g,b,m),!_.equal(w.tag,h))throw new t.exception.corrupt("ccm: tag doesn't match");return w.data},na:function(h,m,y,g,b,_){var S=[],w=t.bitArray,O=w.i;if(g=[w.partial(8,(m.length?64:0)|g-2<<2|_-1)],g=w.concat(g,y),g[3]|=b,g=h.encrypt(g),m.length)for(y=w.bitLength(m)/8,65279>=y?S=[w.partial(16,y)]:4294967295>=y&&(S=w.concat([w.partial(16,65534)],[y])),S=w.concat(S,m),m=0;m<S.length;m+=4)g=h.encrypt(O(g,S.slice(m,m+4).concat([0,0,0])));return g},V:function(h,m,y,g,b,_){var S=t.bitArray,w=S.i;if(b/=8,b%2||4>b||16<b)throw new t.exception.invalid("ccm: invalid tag length");if(4294967295<g.length||4294967295<m.length)throw new t.exception.bug("ccm: can't deal with 4GiB or more data");for(y=t.mode.ccm.na(h,g,y,b,S.bitLength(m)/8,_),g=0;g<m.length;g+=4)y=h.encrypt(w(y,m.slice(g,g+4).concat([0,0,0])));return S.clamp(y,8*b)},C:function(h,m,y,g,b,_){var S,w=t.bitArray;S=w.i;var O=m.length,x=w.bitLength(m),N=O/50,M=N;if(y=w.concat([w.partial(8,_-1)],y).concat([0,0,0]).slice(0,4),g=w.bitSlice(S(g,h.encrypt(y)),0,b),!O)return{tag:g,data:[]};for(S=0;S<O;S+=4)S>N&&(t.mode.ccm.fa(S/O),N+=M),y[3]++,b=h.encrypt(y),m[S]^=b[0],m[S+1]^=b[1],m[S+2]^=b[2],m[S+3]^=b[3];return{tag:g,data:w.clamp(m,x)}}},t.mode.ocb2={name:"ocb2",encrypt:function(h,m,y,g,b,_){if(t.bitArray.bitLength(y)!==128)throw new t.exception.invalid("ocb iv must be 128 bits");var S,w=t.mode.ocb2.S,O=t.bitArray,x=O.i,N=[0,0,0,0];y=w(h.encrypt(y));var M,I=[];for(g=g||[],b=b||64,S=0;S+4<m.length;S+=4)M=m.slice(S,S+4),N=x(N,M),I=I.concat(x(y,h.encrypt(x(y,M)))),y=w(y);return M=m.slice(S),m=O.bitLength(M),S=h.encrypt(x(y,[0,0,0,m])),M=O.clamp(x(M.concat([0,0,0]),S),m),N=x(N,x(M.concat([0,0,0]),S)),N=h.encrypt(x(N,x(y,w(y)))),g.length&&(N=x(N,_?g:t.mode.ocb2.pmac(h,g))),I.concat(O.concat(M,O.clamp(N,b)))},decrypt:function(h,m,y,g,b,_){if(t.bitArray.bitLength(y)!==128)throw new t.exception.invalid("ocb iv must be 128 bits");b=b||64;var S=t.mode.ocb2.S,w=t.bitArray,O=w.i,x=[0,0,0,0],N=S(h.encrypt(y)),M,I,q=t.bitArray.bitLength(m)-b,z=[];for(g=g||[],y=0;y+4<q/32;y+=4)M=O(N,h.decrypt(O(N,m.slice(y,y+4)))),x=O(x,M),z=z.concat(M),N=S(N);if(I=q-32*y,M=h.encrypt(O(N,[0,0,0,I])),M=O(M,w.clamp(m.slice(y),I).concat([0,0,0])),x=O(x,M),x=h.encrypt(O(x,O(N,S(N)))),g.length&&(x=O(x,_?g:t.mode.ocb2.pmac(h,g))),!w.equal(w.clamp(x,b),w.bitSlice(m,q)))throw new t.exception.corrupt("ocb: tag doesn't match");return z.concat(w.clamp(M,I))},pmac:function(h,m){var y,g=t.mode.ocb2.S,b=t.bitArray,_=b.i,S=[0,0,0,0],w=h.encrypt([0,0,0,0]),w=_(w,g(g(w)));for(y=0;y+4<m.length;y+=4)w=g(w),S=_(S,h.encrypt(_(w,m.slice(y,y+4))));return y=m.slice(y),128>b.bitLength(y)&&(w=_(w,g(w)),y=b.concat(y,[-2147483648,0,0,0])),S=_(S,y),h.encrypt(_(g(_(w,g(w))),S))},S:function(h){return[h[0]<<1^h[1]>>>31,h[1]<<1^h[2]>>>31,h[2]<<1^h[3]>>>31,h[3]<<1^135*(h[0]>>>31)]}},t.mode.gcm={name:"gcm",encrypt:function(h,m,y,g,b){var _=m.slice(0);return m=t.bitArray,g=g||[],h=t.mode.gcm.C(!0,h,_,g,y,b||128),m.concat(h.data,h.tag)},decrypt:function(h,m,y,g,b){var _=m.slice(0),S=t.bitArray,w=S.bitLength(_);if(b=b||128,g=g||[],b<=w?(m=S.bitSlice(_,w-b),_=S.bitSlice(_,0,w-b)):(m=_,_=[]),h=t.mode.gcm.C(!1,h,_,g,y,b),!S.equal(h.tag,m))throw new t.exception.corrupt("gcm: tag doesn't match");return h.data},ka:function(h,m){var y,g,b,_,S,w=t.bitArray.i;for(b=[0,0,0,0],_=m.slice(0),y=0;128>y;y++){for((g=(h[Math.floor(y/32)]&1<<31-y%32)!==0)&&(b=w(b,_)),S=(_[3]&1)!==0,g=3;0<g;g--)_[g]=_[g]>>>1|(_[g-1]&1)<<31;_[0]>>>=1,S&&(_[0]^=-520093696)}return b},j:function(h,m,y){var g,b=y.length;for(m=m.slice(0),g=0;g<b;g+=4)m[0]^=4294967295&y[g],m[1]^=4294967295&y[g+1],m[2]^=4294967295&y[g+2],m[3]^=4294967295&y[g+3],m=t.mode.gcm.ka(m,h);return m},C:function(h,m,y,g,b,_){var S,w,O,x,N,M,I,q,z=t.bitArray;for(M=y.length,I=z.bitLength(y),q=z.bitLength(g),w=z.bitLength(b),S=m.encrypt([0,0,0,0]),w===96?(b=b.slice(0),b=z.concat(b,[1])):(b=t.mode.gcm.j(S,[0,0,0,0],b),b=t.mode.gcm.j(S,b,[0,0,Math.floor(w/4294967296),w&4294967295])),w=t.mode.gcm.j(S,[0,0,0,0],g),N=b.slice(0),g=w.slice(0),h||(g=t.mode.gcm.j(S,w,y)),x=0;x<M;x+=4)N[3]++,O=m.encrypt(N),y[x]^=O[0],y[x+1]^=O[1],y[x+2]^=O[2],y[x+3]^=O[3];return y=z.clamp(y,I),h&&(g=t.mode.gcm.j(S,w,y)),h=[Math.floor(q/4294967296),q&4294967295,Math.floor(I/4294967296),I&4294967295],g=t.mode.gcm.j(S,g,h),O=m.encrypt(b),g[0]^=O[0],g[1]^=O[1],g[2]^=O[2],g[3]^=O[3],{tag:z.bitSlice(g,0,_),data:y}}},t.misc.hmac=function(h,m){this.W=m=m||t.hash.sha256;var y=[[],[]],g,b=m.prototype.blockSize/32;for(this.w=[new m,new m],h.length>b&&(h=m.hash(h)),g=0;g<b;g++)y[0][g]=h[g]^909522486,y[1][g]=h[g]^1549556828;this.w[0].update(y[0]),this.w[1].update(y[1]),this.R=new m(this.w[0])},t.misc.hmac.prototype.encrypt=t.misc.hmac.prototype.mac=function(h){if(this.aa)throw new t.exception.invalid("encrypt on already updated hmac called!");return this.update(h),this.digest(h)},t.misc.hmac.prototype.reset=function(){this.R=new this.W(this.w[0]),this.aa=!1},t.misc.hmac.prototype.update=function(h){this.aa=!0,this.R.update(h)},t.misc.hmac.prototype.digest=function(){var h=this.R.finalize(),h=new this.W(this.w[1]).update(h).finalize();return this.reset(),h},t.misc.pbkdf2=function(h,m,y,g,b){if(y=y||1e4,0>g||0>y)throw new t.exception.invalid("invalid params to pbkdf2");typeof h=="string"&&(h=t.codec.utf8String.toBits(h)),typeof m=="string"&&(m=t.codec.utf8String.toBits(m)),b=b||t.misc.hmac,h=new b(h);var _,S,w,O,x=[],N=t.bitArray;for(O=1;32*x.length<(g||1);O++){for(b=_=h.encrypt(N.concat(m,[O])),S=1;S<y;S++)for(_=h.encrypt(_),w=0;w<_.length;w++)b[w]^=_[w];x=x.concat(b)}return g&&(x=N.clamp(x,g)),x},t.prng=function(h){this.c=[new t.hash.sha256],this.m=[0],this.P=0,this.H={},this.N=0,this.U={},this.Z=this.f=this.o=this.ha=0,this.b=[0,0,0,0,0,0,0,0],this.h=[0,0,0,0],this.L=void 0,this.M=h,this.D=!1,this.K={progress:{},seeded:{}},this.u=this.ga=0,this.I=1,this.J=2,this.ca=65536,this.T=[0,48,64,96,128,192,256,384,512,768,1024],this.da=3e4,this.ba=80},t.prng.prototype={randomWords:function(h,m){var y=[],g;g=this.isReady(m);var b;if(g===this.u)throw new t.exception.notReady("generator isn't seeded");if(g&this.J){g=!(g&this.I),b=[];var _=0,S;for(this.Z=b[0]=new Date().valueOf()+this.da,S=0;16>S;S++)b.push(4294967296*Math.random()|0);for(S=0;S<this.c.length&&(b=b.concat(this.c[S].finalize()),_+=this.m[S],this.m[S]=0,g||!(this.P&1<<S));S++);for(this.P>=1<<this.c.length&&(this.c.push(new t.hash.sha256),this.m.push(0)),this.f-=_,_>this.o&&(this.o=_),this.P++,this.b=t.hash.sha256.hash(this.b.concat(b)),this.L=new t.cipher.aes(this.b),g=0;4>g&&(this.h[g]=this.h[g]+1|0,!this.h[g]);g++);}for(g=0;g<h;g+=4)(g+1)%this.ca===0&&a(this),b=s(this),y.push(b[0],b[1],b[2],b[3]);return a(this),y.slice(0,h)},setDefaultParanoia:function(h,m){if(h===0&&m!=="Setting paranoia=0 will ruin your security; use it only for testing")throw new t.exception.invalid("Setting paranoia=0 will ruin your security; use it only for testing");this.M=h},addEntropy:function(h,m,y){y=y||"user";var g,b,_=new Date().valueOf(),S=this.H[y],w=this.isReady(),O=0;switch(g=this.U[y],g===void 0&&(g=this.U[y]=this.ha++),S===void 0&&(S=this.H[y]=0),this.H[y]=(this.H[y]+1)%this.c.length,typeof h){case"number":m===void 0&&(m=1),this.c[S].update([g,this.N++,1,m,_,1,h|0]);break;case"object":if(y=Object.prototype.toString.call(h),y==="[object Uint32Array]"){for(b=[],y=0;y<h.length;y++)b.push(h[y]);h=b}else for(y!=="[object Array]"&&(O=1),y=0;y<h.length&&!O;y++)typeof h[y]!="number"&&(O=1);if(!O){if(m===void 0)for(y=m=0;y<h.length;y++)for(b=h[y];0<b;)m++,b=b>>>1;this.c[S].update([g,this.N++,2,m,_,h.length].concat(h))}break;case"string":m===void 0&&(m=h.length),this.c[S].update([g,this.N++,3,m,_,h.length]),this.c[S].update(h);break;default:O=1}if(O)throw new t.exception.bug("random: addEntropy only supports number, array of numbers or string");this.m[S]+=m,this.f+=m,w===this.u&&(this.isReady()!==this.u&&c("seeded",Math.max(this.o,this.f)),c("progress",this.getProgress()))},isReady:function(h){return h=this.T[h!==void 0?h:this.M],this.o&&this.o>=h?this.m[0]>this.ba&&new Date().valueOf()>this.Z?this.J|this.I:this.I:this.f>=h?this.J|this.u:this.u},getProgress:function(h){return h=this.T[h||this.M],this.o>=h||this.f>h?1:this.f/h},startCollectors:function(){if(!this.D){if(this.a={loadTimeCollector:o(this,this.ma),mouseCollector:o(this,this.oa),keyboardCollector:o(this,this.la),accelerometerCollector:o(this,this.ea),touchCollector:o(this,this.qa)},window.addEventListener)window.addEventListener("load",this.a.loadTimeCollector,!1),window.addEventListener("mousemove",this.a.mouseCollector,!1),window.addEventListener("keypress",this.a.keyboardCollector,!1),window.addEventListener("devicemotion",this.a.accelerometerCollector,!1),window.addEventListener("touchmove",this.a.touchCollector,!1);else if(document.attachEvent)document.attachEvent("onload",this.a.loadTimeCollector),document.attachEvent("onmousemove",this.a.mouseCollector),document.attachEvent("keypress",this.a.keyboardCollector);else throw new t.exception.bug("can't attach event");this.D=!0}},stopCollectors:function(){this.D&&(window.removeEventListener?(window.removeEventListener("load",this.a.loadTimeCollector,!1),window.removeEventListener("mousemove",this.a.mouseCollector,!1),window.removeEventListener("keypress",this.a.keyboardCollector,!1),window.removeEventListener("devicemotion",this.a.accelerometerCollector,!1),window.removeEventListener("touchmove",this.a.touchCollector,!1)):document.detachEvent&&(document.detachEvent("onload",this.a.loadTimeCollector),document.detachEvent("onmousemove",this.a.mouseCollector),document.detachEvent("keypress",this.a.keyboardCollector)),this.D=!1)},addEventListener:function(h,m){this.K[h][this.ga++]=m},removeEventListener:function(h,m){var y,g,b=this.K[h],_=[];for(g in b)b.hasOwnProperty(g)&&b[g]===m&&_.push(g);for(y=0;y<_.length;y++)g=_[y],delete b[g]},la:function(){u(this,1)},oa:function(h){var m,y;try{m=h.x||h.clientX||h.offsetX||0,y=h.y||h.clientY||h.offsetY||0}catch{y=m=0}m!=0&&y!=0&&this.addEntropy([m,y],2,"mouse"),u(this,0)},qa:function(h){h=h.touches[0]||h.changedTouches[0],this.addEntropy([h.pageX||h.clientX,h.pageY||h.clientY],1,"touch"),u(this,0)},ma:function(){u(this,2)},ea:function(h){if(h=h.accelerationIncludingGravity.x||h.accelerationIncludingGravity.y||h.accelerationIncludingGravity.z,window.orientation){var m=window.orientation;typeof m=="number"&&this.addEntropy(m,1,"accelerometer")}h&&this.addEntropy(h,2,"accelerometer"),u(this,0)}};function c(h,m){var y,g=t.random.K[h],b=[];for(y in g)g.hasOwnProperty(y)&&b.push(g[y]);for(y=0;y<b.length;y++)b[y](m)}function u(h,m){typeof window<"u"&&window.performance&&typeof window.performance.now=="function"?h.addEntropy(window.performance.now(),m,"loadtime"):h.addEntropy(new Date().valueOf(),m,"loadtime")}function a(h){h.b=s(h).concat(s(h)),h.L=new t.cipher.aes(h.b)}function s(h){for(var m=0;4>m&&(h.h[m]=h.h[m]+1|0,!h.h[m]);m++);return h.L.encrypt(h.h)}function o(h,m){return function(){m.apply(h,arguments)}}t.random=new t.prng(6);e:try{if(f=typeof r<"u"&&r.exports){try{v=tTr("crypto")}catch{v=null}f=d=v}if(f&&d.randomBytes)l=d.randomBytes(128),l=new Uint32Array(new Uint8Array(l).buffer),t.random.addEntropy(l,1024,"crypto['randomBytes']");else if(typeof window<"u"&&typeof Uint32Array<"u"){if(p=new Uint32Array(32),window.crypto&&window.crypto.getRandomValues)window.crypto.getRandomValues(p);else if(window.msCrypto&&window.msCrypto.getRandomValues)window.msCrypto.getRandomValues(p);else break e;t.random.addEntropy(p,1024,"crypto['getRandomValues']")}}catch(h){typeof window<"u"&&window.console&&(console.log("There was an error collecting entropy from the browser:"),console.log(h))}var l,d,p,f,v;t.json={defaults:{v:1,iter:1e4,ks:128,ts:64,mode:"ccm",adata:"",cipher:"aes"},ja:function(h,m,y,g){y=y||{},g=g||{};var b=t.json,_=b.g({iv:t.random.randomWords(4,0)},b.defaults),S;if(b.g(_,y),y=_.adata,typeof _.salt=="string"&&(_.salt=t.codec.base64.toBits(_.salt)),typeof _.iv=="string"&&(_.iv=t.codec.base64.toBits(_.iv)),!t.mode[_.mode]||!t.cipher[_.cipher]||typeof h=="string"&&100>=_.iter||_.ts!==64&&_.ts!==96&&_.ts!==128||_.ks!==128&&_.ks!==192&&_.ks!==256||2>_.iv.length||4<_.iv.length)throw new t.exception.invalid("json encrypt: invalid parameters");return typeof h=="string"?(S=t.misc.cachedPbkdf2(h,_),h=S.key.slice(0,_.ks/32),_.salt=S.salt):t.ecc&&h instanceof t.ecc.elGamal.publicKey&&(S=h.kem(),_.kemtag=S.tag,h=S.key.slice(0,_.ks/32)),typeof m=="string"&&(m=t.codec.utf8String.toBits(m)),typeof y=="string"&&(_.adata=y=t.codec.utf8String.toBits(y)),S=new t.cipher[_.cipher](h),b.g(g,_),g.key=h,_.ct=_.mode==="ccm"&&t.arrayBuffer&&t.arrayBuffer.ccm&&m instanceof ArrayBuffer?t.arrayBuffer.ccm.encrypt(S,m,_.iv,y,_.ts):t.mode[_.mode].encrypt(S,m,_.iv,y,_.ts),_},encrypt:function(h,m,y,g){var b=t.json,_=b.ja.apply(b,arguments);return b.encode(_)},ia:function(h,m,y,g){y=y||{},g=g||{};var b=t.json;m=b.g(b.g(b.g({},b.defaults),m),y,!0);var _,S;if(_=m.adata,typeof m.salt=="string"&&(m.salt=t.codec.base64.toBits(m.salt)),typeof m.iv=="string"&&(m.iv=t.codec.base64.toBits(m.iv)),!t.mode[m.mode]||!t.cipher[m.cipher]||typeof h=="string"&&100>=m.iter||m.ts!==64&&m.ts!==96&&m.ts!==128||m.ks!==128&&m.ks!==192&&m.ks!==256||!m.iv||2>m.iv.length||4<m.iv.length)throw new t.exception.invalid("json decrypt: invalid parameters");return typeof h=="string"?(S=t.misc.cachedPbkdf2(h,m),h=S.key.slice(0,m.ks/32),m.salt=S.salt):t.ecc&&h instanceof t.ecc.elGamal.secretKey&&(h=h.unkem(t.codec.base64.toBits(m.kemtag)).slice(0,m.ks/32)),typeof _=="string"&&(_=t.codec.utf8String.toBits(_)),S=new t.cipher[m.cipher](h),_=m.mode==="ccm"&&t.arrayBuffer&&t.arrayBuffer.ccm&&m.ct instanceof ArrayBuffer?t.arrayBuffer.ccm.decrypt(S,m.ct,m.iv,m.tag,_,m.ts):t.mode[m.mode].decrypt(S,m.ct,m.iv,_,m.ts),b.g(g,m),g.key=h,y.raw===1?_:t.codec.utf8String.fromBits(_)},decrypt:function(h,m,y,g){var b=t.json;return b.ia(h,b.decode(m),y,g)},encode:function(h){var m,y="{",g="";for(m in h)if(h.hasOwnProperty(m)){if(!m.match(/^[a-z0-9]+$/i))throw new t.exception.invalid("json encode: invalid property name");switch(y+=g+'"'+m+'":',g=",",typeof h[m]){case"number":case"boolean":y+=h[m];break;case"string":y+='"'+escape(h[m])+'"';break;case"object":y+='"'+t.codec.base64.fromBits(h[m],0)+'"';break;default:throw new t.exception.bug("json encode: unsupported type")}}return y+"}"},decode:function(h){if(h=h.replace(/\s/g,""),!h.match(/^\{.*\}$/))throw new t.exception.invalid("json decode: this isn't json!");h=h.replace(/^\{|\}$/g,"").split(/,/);var m={},y,g;for(y=0;y<h.length;y++){if(!(g=h[y].match(/^\s*(?:(["']?)([a-z][a-z0-9]*)\1)\s*:\s*(?:(-?\d+)|"([a-z0-9+\/%*_.@=\-]*)"|(true|false))$/i)))throw new t.exception.invalid("json decode: this isn't json!");g[3]!=null?m[g[2]]=parseInt(g[3],10):g[4]!=null?m[g[2]]=g[2].match(/^(ct|adata|salt|iv)$/)?t.codec.base64.toBits(g[4]):unescape(g[4]):g[5]!=null&&(m[g[2]]=g[5]==="true")}return m},g:function(h,m,y){if(h===void 0&&(h={}),m===void 0)return h;for(var g in m)if(m.hasOwnProperty(g)){if(y&&h[g]!==void 0&&h[g]!==m[g])throw new t.exception.invalid("required parameter overridden");h[g]=m[g]}return h},sa:function(h,m){var y={},g;for(g in h)h.hasOwnProperty(g)&&h[g]!==m[g]&&(y[g]=h[g]);return y},ra:function(h,m){var y={},g;for(g=0;g<m.length;g++)h[m[g]]!==void 0&&(y[m[g]]=h[m[g]]);return y}},t.encrypt=t.json.encrypt,t.decrypt=t.json.decrypt,t.misc.pa={},t.misc.cachedPbkdf2=function(h,m){var y=t.misc.pa,g;return m=m||{},g=m.iter||1e3,y=y[h]=y[h]||{},g=y[g]=y[g]||{firstSalt:m.salt&&m.salt.length?m.salt.slice(0):t.random.randomWords(2,0)},y=m.salt===void 0?g.firstSalt:m.salt,g[y]=g[y]||t.misc.pbkdf2(h,y,m.iter),{key:g[y].slice(0),salt:y.slice(0)}},typeof r<"u"&&r.exports&&(r.exports=t),typeof define=="function"&&define([],function(){return t})}}),aTr=Vie({"node_modules/web-worker/cjs/browser.js"(e,r){r.exports=Worker}});function _t(e=""){let r=u=>u.replace(/^\W*(function[^{]+\{([\s\S]*)\}|[^=]+=>[^{]*\{([\s\S]*)\}|[^=]+=>(.+))/i,"$2$3$4"),n=(u=>{let a=u.indexOf("=>")+1;return a<=0&&(a=u.indexOf("){")),a<=0&&(a=u.indexOf(") {")),u.slice(0,u.indexOf("{",a)+1)})(e),i=r(e),c;if(n.includes("function")){let u=n.split("(")[1].split(")")[0];c=new Function(u,i)}else if(n.substring(0,6)===i.substring(0,6)){let u=n.split("(")[1].split(")")[0];c=new Function(u,i.substring(i.indexOf("{")+1,i.length-1))}else try{c=(0,eval)(n+i+"}")}catch{}return c}var Hie=class{constructor(){this.pushToState={},this.data={},this.triggers={},this.setState=e=>{Object.assign(this.data,e);for(let r of Object.getOwnPropertyNames(e))this.triggers[r]&&this.triggers[r].forEach(t=>t.onchange(this.data[r]));return this.data},this.subscribeTrigger=(e,r)=>{if(e){this.triggers[e]||(this.triggers[e]=[]);let t=this.triggers[e].length;return this.triggers[e].push({idx:t,onchange:r}),this.triggers[e].length-1}else return},this.unsubscribeTrigger=(e,r)=>{let t=this.triggers[e];if(t)if(!r)delete this.triggers[e];else{let n;return t.find((c,u)=>{if(c.idx===r)return n=u,!0})&&t.splice(n,1),!0}},this.subscribeTriggerOnce=(e,r)=>{let t,n=i=>{r(i),this.unsubscribeTrigger(e,t)};t=this.subscribeTrigger(e,n)}}},sTr=new Hie;function YI(e){this._state||(this._state={});for(let r in e)r==="_state"||r==="graph"||(this._state[r]=e[r],r in this?this[r]=e[r]:Object.defineProperty(this,r,{get:()=>{this._state[r]},set:t=>{this._state[r]=t,this.state.triggers[this._unique]&&this.setState({[this._unique]:this._state})},enumerable:!0,configurable:!0}))}var Ir=class{constructor(e={},r,t){if(this.nodes=new Map,this._initial={},this._unique=`${Math.random()}`,this.state=sTr,this.isLooping=!1,this.isAnimating=!1,this.looper=void 0,this.animation=void 0,this.forward=!0,this.backward=!1,this.reactive=!1,this.runSync=!1,this.firstRun=!0,this.DEBUGNODE=!1,this.addLocalState=YI,this.operator=(...n)=>n,this.runOp=(...n)=>{this.DEBUGNODE&&console.time(this.tag);let i=this.operator(...n);return i instanceof Promise?i.then(c=>(c!==void 0&&this.setState({[this.tag]:c}),this.DEBUGNODE&&(console.timeEnd(this.tag),i!==void 0&&console.log(`${this.tag} result:`,i)),c)):(i!==void 0&&this.setState({[this.tag]:i}),this.DEBUGNODE&&(console.timeEnd(this.tag),i!==void 0&&console.log(`${this.tag} result:`,i))),i},this.setOperator=n=>(typeof n!="function"||(this.operator=n.bind(this)),n),this.runAsync=(...n)=>new Promise((i,c)=>{i(this.run(...n))}),this.transformArgs=(n=[])=>n,this.isRunSync=()=>!(this.children&&this.forward||this.parent&&this.backward||this.repeat||this.delay||this.frame||this.recursive||this.branch),this.run=(...n)=>{if(typeof this.transformArgs=="function"&&(n=this.transformArgs(n,this)),!(this.firstRun&&(this.firstRun=!1,this.runSync=this.isRunSync(),this.animate&&!this.isAnimating&&this.runAnimation(this.animation,n),this.loop&&typeof this.loop=="number"&&!this.isLooping&&this.runLoop(this.looper,n),this.loop||this.animate)))return this.runSync?this.runOp(...n):new Promise(async i=>{if(this){let c=(a,s=0,...o)=>new Promise(async l=>{s++;let d=await a.runOp(...o);if(a.repeat){for(;s<a.repeat;){if(a.delay){setTimeout(async()=>{l(await c(a,s,...o))},a.delay);break}else if(a.frame&&window?.requestAnimationFrame){requestAnimationFrame(async()=>{l(await c(a,s,...o))});break}else d=await a.runOp(...o);s++}if(s===a.repeat){l(d);return}}else if(a.recursive){for(;s<a.recursive;){if(a.delay){setTimeout(async()=>{l(await c(a,s,...d))},a.delay);break}else if(a.frame&&window?.requestAnimationFrame){requestAnimationFrame(async()=>{l(await c(a,s,...d))});break}else d=await a.runOp(...d);s++}if(s===a.recursive){l(d);return}}else{l(d);return}}),u=async()=>{let a=await c(this,void 0,...n);return a!==void 0&&(this.backward&&this.parent instanceof Ir&&(Array.isArray(a)?await this.runParent(this,...a):await this.runParent(this,a)),this.children&&this.forward&&(Array.isArray(a)?await this.runChildren(this,...a):await this.runChildren(this,a)),this.branch&&this.runBranch(this,a)),a};this.delay?setTimeout(async()=>{i(await u())},this.delay):this.frame&&window?.requestAnimationFrame?requestAnimationFrame(async()=>{i(await u())}):i(await u())}else i(void 0)})},this.runParent=async(n,...i)=>{n.backward&&n.parent&&(typeof n.parent=="string"&&(n.graph&&n.graph?.get(n.parent)?(n.parent=n.graph,n.parent&&this.nodes.set(n.parent.tag,n.parent)):n.parent=this.nodes.get(n.parent)),n.parent instanceof Ir&&await n.parent.run(...i))},this.runChildren=async(n,...i)=>{if(typeof n.children=="object")for(let c in n.children)typeof n.children[c]=="string"?(n.graph&&n.graph?.get(n.children[c])&&(n.children[c]=n.graph.get(n.children[c]),n.nodes.get(n.children[c].tag)||n.nodes.set(n.children[c].tag,n.children[c])),!n.children[c]&&n.nodes.get(n.children[c])&&(n.children[c]=n.nodes.get(n.children[c]))):(typeof n.children[c]>"u"||n.children[c]===!0)&&(n.graph&&n.graph?.get(c)&&(n.children[c]=n.graph.get(c),n.nodes.get(n.children[c].tag)||n.nodes.set(n.children[c].tag,n.children[c])),!n.children[c]&&n.nodes.get(c)&&(n.children[c]=n.nodes.get(c))),n.children[c]?.runOp&&await n.children[c].run(...i)},this.runBranch=async(n,i)=>{if(n.branch){let c=Object.keys(n.branch);await Promise.all(c.map(async u=>{typeof n.branch[u].if=="object"&&(n.branch[u].if=XI(n.branch[u].if));let a=!1;return typeof n.branch[u].if=="function"?a=n.branch[u].if(i):typeof i=="object"?XI(i)===n.branch[u].if&&(a=!0):i===n.branch[u].if&&(a=!0),a&&(n.branch[u].then.run?Array.isArray(i)?await n.branch[u].then.run(...i):await n.branch[u].then.run(...i):typeof n.branch[u].then=="function"?Array.isArray(i)?await n.branch[u].then(...i):await n.branch[u].then(i):typeof n.branch[u].then=="string"&&(n.graph?n.branch[u].then=n.graph.nodes.get(n.branch[u].then):n.branch[u].then=n.nodes.get(n.branch[u].then),n.branch[u].then.run&&(Array.isArray(i)?await n.branch[u].then.run(...i):await n.branch[u].then.run(...i)))),a}))}},this.runAnimation=(n=this.animation,i=[])=>{if(this.animation=n,n||(this.animation=this.operator),this.animate&&!this.isAnimating&&"requestAnimationFrame"in window){this.isAnimating=!0;let c=async()=>{if(this.isAnimating){this.DEBUGNODE&&console.time(this.tag);let u=this.animation.call(this,...i);u instanceof Promise&&(u=await u),this.DEBUGNODE&&(console.timeEnd(this.tag),u!==void 0&&console.log(`${this.tag} result:`,u)),u!==void 0&&(this.tag&&this.setState({[this.tag]:u}),this.backward&&this.parent?.run&&(Array.isArray(u)?await this.runParent(this,...u):await this.runParent(this,u)),this.children&&this.forward&&(Array.isArray(u)?await this.runChildren(this,...u):await this.runChildren(this,u)),this.branch&&this.runBranch(this,u),this.setState({[this.tag]:u})),requestAnimationFrame(c)}};requestAnimationFrame(c)}},this.runLoop=(n=this.looper,i=[],c=this.loop)=>{if(this.looper=n,n||(this.looper=this.operator),typeof c=="number"&&!this.isLooping){this.isLooping=!0;let u=async()=>{if(this.isLooping){this.DEBUGNODE&&console.time(this.tag);let a=this.looper.call(this,...i);a instanceof Promise&&(a=await a),this.DEBUGNODE&&(console.timeEnd(this.tag),a!==void 0&&console.log(`${this.tag} result:`,a)),a!==void 0&&(this.tag&&this.setState({[this.tag]:a}),this.backward&&this.parent?.run&&(Array.isArray(a)?await this.runParent(this,...a):await this.runParent(this,a)),this.children&&this.forward&&(Array.isArray(a)?await this.runChildren(this,...a):await this.runChildren(this,a)),this.branch&&this.runBranch(this,a),this.setState({[this.tag]:a})),setTimeout(async()=>{await u()},c)}};u()}},this.setParent=n=>{this.parent=n,this.backward&&(this.runSync=!1)},this.setChildren=n=>{this.children=n,this.forward&&(this.runSync=!1)},this.add=(n={})=>(typeof n=="function"&&(n={operator:n}),n?.node instanceof Ir&&(n=n.node),n instanceof Ir||(n=new Ir(n.node??n,this,this.graph)),this.nodes.set(n.tag,n),this.graph&&(this.graph.nodes.set(n.tag,n),this.graph.nNodes=this.graph.nodes.size),n),this.remove=n=>{typeof n=="string"&&(n=this.nodes.get(n)),n?.tag&&(this.nodes.delete(n.tag),this.children[n.tag]&&delete this.children[n.tag],this.graph&&(this.graph.nodes.delete(n.tag),this.graph.nNodes=this.graph.nodes.size),this.nodes.forEach(i=>{i.nodes.get(i.tag)&&(i.nodes.delete(i.tag),i.children[i.tag]&&delete i.children[i.tag],i.parent?.tag===i.tag&&delete i.parent)}),n.ondelete&&n.ondelete(n)),typeof this._state=="object"&&this.state.unsubscribeTrigger(this._unique)},this.append=(n,i=this)=>{typeof n=="string"&&(n=this.nodes.get(n)),n?.nodes&&(i.addChildren(n),n.forward&&(n.runSync=!1))},this.subscribe=(n,i=this.tag)=>{if(typeof n=="string"&&(this.graph?n=this.graph.get(n):n=this.nodes.get(n)),typeof n=="function")return this.state.subscribeTrigger(i,n);if(n)return this.state.subscribeTrigger(i,c=>{n.run(c)})},this.unsubscribe=(n,i=this.tag)=>this.state.unsubscribeTrigger(i,n),this.subscribeState=n=>{if(this.reactive){if(typeof n=="string"&&(this.graph?n=this.graph.get(n):n=this.nodes.get(n)),typeof n=="function")return this.state.subscribeTrigger(this._unique,n);if(n)return this.state.subscribeTrigger(this._unique,i=>{n.run(i)})}else return},this.addChildren=n=>{this.children||(this.children={}),typeof n=="object"&&Object.assign(this.children,n),this.convertChildrenToNodes(),this.forward&&(this.runSync=!1)},this.callParent=(...n)=>{if(typeof this.parent=="string"&&(this.graph&&this.graph?.get(this.parent)?(this.parent=this.graph,this.parent&&this.nodes.set(this.parent.tag,this.parent)):this.parent=this.nodes.get(this.parent)),typeof this.parent?.operator=="function")return this.parent.runOp(...n)},this.callChildren=(...n)=>{let i;if(typeof this.children=="object")for(let c in this.children)this.children[c]?.runOp&&this.children[c].runOp(...n);return i},this.getProps=(n=this,i=!0)=>{let c={tag:n.tag,operator:n.operator,graph:n.graph,children:n.children,parent:n.parent,forward:n.forward,backward:n.bacward,loop:n.loop,animate:n.animate,frame:n.frame,delay:n.delay,recursive:n.recursive,repeat:n.repeat,branch:n.branch,oncreate:n.oncreate,reactive:n.reactive,DEBUGNODE:n.DEBUGNODE};if(i)return{tag:n.tag,operator:n.operator,graph:n.graph,children:n.children,parent:n.parent,forward:n.forward,backward:n.bacward,loop:n.loop,animate:n.animate,frame:n.frame,delay:n.delay,recursive:n.recursive,repeat:n.repeat,branch:n.branch,oncreate:n.oncreate,reactive:n.reactive,DEBUGNODE:n.DEBUGNODE,...this._initial};{let u={};for(let a in this._initial)u[a]=this[a];return Object.assign(c,u)}},this.setProps=(n={})=>{let i=Object.assign({},n);i.children&&(this.addChildren(n.children),delete i.children),i.operator&&(this.setOperator(n.operator),delete i.operator),Object.assign(i,n),this.runSync=this.isRunSync()},this.removeTree=n=>{if(n&&typeof n=="string"&&(n=this.nodes.get(n)),n?.nodes){let i={},c=u=>{if(typeof u.children=="object"&&!i[u.tag]){i[u.tag]=!0;for(let a in u.children)u.children[a].stopNode&&u.children[a].stopNode(),u.children[a].tag&&(this.nodes.get(u.children[a].tag)&&this.nodes.delete(u.children[a].tag),this.nodes.forEach(s=>{s.nodes.get(u.children[a].tag)&&s.nodes.delete(u.children[a].tag),s.children?.[a]instanceof Ir&&delete s.children[a]}),u.children[a].ondelete&&!this.graph&&u.children[a].ondelete(u.children[a]),c(u.children[a]))}};n.stopNode&&n.stopNode(),n.tag&&(this.nodes.delete(n.tag),this.children?.[n.tag]&&delete this.children[n.tag],this.parent?.tag===n.tag&&delete this.parent,this[n.tag]instanceof Ir&&delete this[n.tag],this.nodes.forEach(u=>{u?.tag&&(u.nodes.get(u.tag)&&u.nodes.delete(u.tag),u.children?.[u.tag]instanceof Ir&&delete u.children[u.tag])}),c(n),this.graph?this.graph.removeTree(n,i):n.ondelete&&n.ondelete(n))}},this.checkNodesHaveChildMapped=(n,i,c={})=>{let u=n.tag;u||(u=n.name),c[u]||(c[u]=!0,n.children&&i.tag in n.children&&n.children[i.tag]instanceof Ir&&(n.nodes.get(i.tag)||n.nodes.set(i.tag,i),n.children[i.tag]=i,n.firstRun||(n.firstRun=!0)),n.parent instanceof Ir&&(n.nodes.get(i.tag)&&n.parent.nodes.set(i.tag,i),n.parent.children?this.checkNodesHaveChildMapped(n.parent,i,c):n.nodes&&n.nodes.forEach(a=>{c[a.tag]||this.checkNodesHaveChildMapped(a,i,c)})),n.graph&&n.parent&&n.parent.name!==n.graph.name&&n.graph.nodes.forEach(a=>{c[a.tag]||this.checkNodesHaveChildMapped(a,i,c)}))},this.convertChildrenToNodes=(n=this)=>{if(n?.children){for(let i in n.children)if(!(n.children[i]instanceof Ir))if(typeof n.children[i]=="object")n.children[i].tag||(n.children[i].tag=i),n.nodes.get(n.children[i].tag)||(n.children[i]=new Ir(n.children[i],n,n.graph),this.checkNodesHaveChildMapped(n,n.children[i]));else{if(typeof n.children[i]>"u"||n.children[i]==!0)n.children[i]=n.graph.get(i),n.children[i]||(n.children[i]=n.nodes.get(i));else if(typeof n.children[i]=="string"){let c=n.children[i];n.children[i]=n.graph.get(c),n.children[i]||(n.children[i]=n.nodes.get(i))}n.children[i]instanceof Ir&&(n.nodes.set(n.children[i].tag,n.children[i]),this.checkNodesHaveChildMapped(n,n.children[i]),n.children[i].tag in n||(n[n.children[i].tag]=n.children[i]))}}return n.children},this.stopLooping=(n=this)=>{n.isLooping=!1},this.stopAnimating=(n=this)=>{n.isAnimating=!1},this.stopNode=(n=this)=>{n.stopAnimating(n),n.stopLooping(n)},this.subscribeNode=n=>{if(typeof n=="string"&&(n=this.nodes.get(n)),n.tag&&this.nodes.set(n.tag,n),n)return this.state.subscribeTrigger(this.tag,i=>{Array.isArray(i)?n.run(...i):n.run(i)})},this.print=(n=this,i=!0,c=[])=>{let u=new Ir;if(typeof n=="string"&&(n=this.nodes.get(n)),n instanceof Ir){c.push(n.tag);let a={tag:n.tag,operator:n.operator.toString()};if(n.parent&&(a.parent=n.parent.tag),typeof n.children=="object")for(let s in n.children)return typeof n.children[s]=="string"?n.children[s]:c.includes(n.children[s].tag)?n.children[s].tag:i?n.children[s].print(n.children[s],i,c):n.children[s].tag;for(let s in n)s==="parent"||s==="children"||typeof u[s]>"u"&&(typeof n[s]=="function"?a[s]=n[s].toString():typeof n[s]=="object"?a[s]=JSON.stringifyWithCircularRefs(n[s]):a[s]=n[s]);return JSON.stringify(a)}},this.reconstruct=n=>{let i=Wie(n);if(i)return this.add(i)},this.setState=n=>{this.state.setState(n)},this.DEBUGNODES=(n=!0)=>{this.DEBUGNODE=n,this.nodes.forEach(i=>{n?i.DEBUGNODE=!0:i.DEBUGNODE=!1})},typeof e=="function"&&(e={operator:e}),typeof e=="object"){if(e instanceof Ir&&e._initial&&Object.assign(e,e._initial),e instanceof yi){let i=e;e={source:i,operator:c=>{if(typeof c=="object"){let u={};for(let a in c)typeof i[a]=="function"?Array.isArray(c[a])?u[a]=i[a](...c[a]):u[a]=i[a](c[a]):(i[a]=c[a],u[a]=i[a]);return u}return i}},i.operator&&(e.operator=i.operator),i.children&&(e.children=i.children),i.forward&&(e.forward=i.forward),i.backward&&(e.backward=i.backward),i.repeat&&(e.repeat=i.repeat),i.recursive&&(e.recursive=i.recursive),i.loop&&(e.loop=i.loop),i.animate&&(e.animate=i.animate),i.looper&&(e.looper=i.looper),i.animation&&(e.animation=i.animation),i.delay&&(e.delay=i.delay),i.oncreate&&(e.oncreate=i.oncreate),i.node&&i.node._initial&&Object.assign(e,i.node._initial),i._initial&&Object.assign(e,i._initial),i.tag&&(e.tag=i.tag),this.nodes=i.nodes,i.node=this,t&&i.nodes.forEach(c=>{t.nodes.get(c.tag)||(t.nodes.set(c.tag,c),t.nNodes++)})}if(typeof r=="string"&&(t?r=t.nodes.get(r):r=void 0),e.tag&&(t||r)){let i;if(t?.nodes&&(i=t.nodes.get(e.tag)),!i&&r?.nodes&&(i=r.nodes.get(e.tag)),i){this.reactive&&this.addLocalState(i),this.source||(this.source=i);let c=i.getProps();delete c.graph,delete c.parent;for(let u in c){let a=Object.getOwnPropertyDescriptor(e,u);a&&a.get&&!a.set?e=Object.assign({},e):e[u]=c[u]}}}e?.operator&&(e.operator=this.setOperator(e.operator)),!e.tag&&t?e.tag=`node${t.nNodes}`:e.tag||(e.tag=`node${Math.floor(Math.random()*1e10)}`);let n=Object.getOwnPropertyNames(this);for(let i in e)n.includes(i)||(this._initial[i]=e[i]);if(e.children&&(this._initial.children=Object.assign({},e.children)),Object.assign(this,e),this.tag||(t?this.tag=`node${t.nNodes}`:this.tag=`node${Math.floor(Math.random()*1e10)}`),t&&(this.graph=t,t.nodes.get(this.tag)&&(this.tag=`${this.tag}${t.nNodes+1}`),t.nodes.set(this.tag,this),t.nNodes++,this.state=t.state),this.reactive&&(YI(e),typeof this.reactive=="function"&&this.state.subscribeTrigger(this._unique,this.reactive)),typeof r=="object"&&(this.parent=r,(r instanceof Ir||r instanceof yi)&&r.nodes.set(this.tag,this)),typeof e.tree=="object")for(let i in e.tree){typeof e.tree[i]=="object"&&(!e.tree[i]).tag&&(e.tree[i].tag=i);let c=new Ir(e.tree[i],this,t);this.nodes.set(c.tag,c)}this.children&&this.convertChildrenToNodes(this),(this.parent instanceof Ir||this.parent instanceof yi)&&this.checkNodesHaveChildMapped(this.parent,this),typeof this.oncreate=="function"&&this.oncreate(this),this.firstRun||(this.firstRun=!0),this.animation&&!this.animate&&(this.animate=!0)}else return e}},yi=class{constructor(e,r,t){this.nNodes=0,this.nodes=new Map,this.state=new Hie,this._unique=`${Math.random()}`,this.tree={},this.addLocalState=YI,this.add=(n={})=>{n?.node instanceof Ir&&(n=n.node);let i=n;return n instanceof Ir?(this.nNodes=this.nodes.size,n.tag&&(this.tree[n.tag]=i,this.nodes.set(n.tag,n))):n=new Ir(i?.node??i,this,this),n},this.setTree=(n=this.tree)=>{if(!!n){for(let i in n){let c=this.nodes.get(i);if(c){if(typeof n[i]=="function")c.setOperator(n[i]);else if(typeof n[i]=="object")if(n[i]instanceof Ir)this.add(n[i]);else if(n[i]instanceof yi){let u=n[i],a={};u.operator&&(a.operator=u.operator),u.children&&(a.children=u.children),u.forward&&(a.forward=u.forward),u.backward&&(a.backward=u.backward),u.repeat&&(a.repeat=u.repeat),u.recursive&&(a.recursive=u.recursive),u.loop&&(a.loop=u.loop),u.animate&&(a.animate=u.animate),u.looper&&(a.looper=u.looper),u.animation&&(a.animation=u.animation),u.delay&&(a.delay=u.delay),u.tag&&(a.tag=u.tag),u.oncreate&&(a.oncreate=u.oncreate),u.node?._initial&&Object.assign(a,u.node._initial),a.nodes=u.nodes,a.source=u,c.setProps(a)}else c.setProps(n[i])}else if(typeof n[i]=="function")this.add({tag:i,operator:n[i]});else if(typeof n[i]=="object"&&!Array.isArray(n[i])){n[i].tag||(n[i].tag=i);let u=this.add(n[i]);n[i].aliases&&n[i].aliases.forEach(a=>{this.nodes.set(a,u)})}else this.add({tag:i,operator:(...u)=>n[i]})}this.nodes.forEach(i=>{if(typeof i.children=="object")for(let c in i.children)typeof i.children[c]=="string"?this.nodes.get(i.children[c])&&(i.children[c]=this.nodes.get(i.children[c])):(i.children[c]===!0||typeof i.children[c]>"u")&&this.nodes.get(c)&&(i.children[c]=this.nodes.get(c)),i.children[c]instanceof Ir&&i.checkNodesHaveChildMapped(i,i.children[c]);typeof i.parent=="string"&&this.nodes.get(i.parent)&&(i.parent=this.nodes.get(i.parent),i.nodes.set(i.parent.tag,i.parent))})}},this.get=n=>this.nodes.get(n),this.set=n=>this.nodes.set(n.tag,n),this.run=(n,...i)=>{if(typeof n=="string"&&(n=this.nodes.get(n)),n?.run)return n.run(...i)},this.runAsync=(n,...i)=>(typeof n=="string"&&(n=this.nodes.get(n)),n?.run?new Promise((c,u)=>{c(n.run(...i))}):new Promise((c,u)=>{c(void 0)})),this.removeTree=(n,i)=>{if(n&&typeof n=="string"&&(n=this.nodes.get(n)),n?.nodes){let c={},u=a=>{if(typeof a.children=="object"&&!c[a.tag]){c[a.tag]=!0;for(let s in a.children)a.children[s]?.stopNode&&a.children[s].stopNode(),a.children[s]?.tag&&(this.nodes.get(a.children[s].tag)&&this.nodes.delete(a.children[s].tag),this.nodes.forEach(o=>{o.nodes.get(a.children[s].tag)&&o.nodes.delete(a.children[s].tag),o.children?.[s]instanceof Ir&&delete o.children[s]}),a.children[s].ondelete&&a.children[s].ondelete(a.children[s]),u(a.children[s]))}};n.stopNode&&n.stopNode(),n.tag&&(this.nodes.delete(n.tag),this.parent?.tag===n.tag&&delete this.parent,this[n.tag]instanceof Ir&&delete this[n.tag],this.nodes.forEach(a=>{a?.tag&&(a.nodes.get(a.tag)&&a.nodes.delete(a.tag),a.children?.[a.tag]instanceof Ir&&delete a.children[a.tag])}),u(n),n.ondelete&&n.ondelete(n))}},this.remove=n=>(typeof n=="string"&&(n=this.nodes.get(n)),n?.nodes&&(n.stopNode&&n.stopNode(),n?.tag&&this.nodes.get(n.tag)&&(this.nodes.delete(n.tag),this.nodes.forEach(i=>{i.nodes.get(i.tag)&&i.nodes.delete(i.tag)})),n.ondelete&&n.ondelete(n)),n),this.append=(n,i)=>{i.addChildren(n)},this.callParent=async(n,...i)=>{if(n?.parent)return await n.callParent(...i)},this.callChildren=async(n,...i)=>{if(n?.children)return await n.callChildren(...i)},this.subscribe=(n,i)=>{if(!!i){if(n?.subscribe&&typeof i=="function")return n.subscribe(i);if(i instanceof Ir||typeof i=="string")return this.subscribeNode(n,i);if(typeof n=="string")return this.state.subscribeTrigger(n,i)}},this.unsubscribe=(n,i)=>this.state.unsubscribeTrigger(n,i),this.subscribeState=n=>{if(this.reactive){if(typeof n=="string"&&(this.graph?n=this.graph.get(n):n=this.nodes.get(n)),typeof n=="function")return this.state.subscribeTrigger(this._unique,n);if(n)return this.state.subscribeTrigger(this._unique,i=>{n.run(i)})}else return},this.subscribeNode=(n,i)=>{let c;if(n?.tag?c=n.tag:typeof n=="string"&&(c=n),typeof i=="string"&&(i=this.nodes.get(i)),n&&i)return this.state.subscribeTrigger(c,a=>{Array.isArray(a)?i.run(...a):i.run(a)})},this.stopNode=n=>{typeof n=="string"&&(n=this.nodes.get(n)),n?.stopNode&&n.stopNode()},this.print=(n,i=!0)=>{if(n?.print)return n.print(n,i);{let c="{";return this.nodes.forEach(u=>{c+=`
"${u.tag}:${u.print(u,i)}"`}),c}},this.reconstruct=n=>{let i=Wie(n);if(i)return this.add(i)},this.create=(n,i,c)=>oTr(n,i,c,this),this.setState=n=>{this.state.setState(n)},this.DEBUGNODES=(n=!0)=>{this.nodes.forEach(i=>{n?i.DEBUGNODE=!0:i.DEBUGNODE=!1})},this.tag=r||`graph${Math.floor(Math.random()*1e11)}`,t&&(console.log(t,t.constructor.name),t.reactive?this.addLocalState(t):Object.assign(this,t),this._initial=t),(e||Object.keys(this.tree).length>0)&&this.setTree(e)}};function Wie(e="{}"){try{let r=typeof e=="string"?JSON.parse(e):e,t=n=>{for(let i in n)if(typeof n[i]=="string"){let c=_t(n[i]);typeof c=="function"&&(n[i]=c)}else typeof n[i]=="object"&&t(n[i]);return n};return t(r)}catch(r){console.error(r);return}}var ZI=function(){let e=new Map,r=[],t=["this"];function n(){e.clear(),r.length=0,t.length=1}function i(u,a){var s=r.length-1,o=r[s];if(typeof o=="object")if(o[u]===a||s===0)t.push(u),r.push(a.pushed);else for(;s-->=0;){if(o=r[s],typeof o=="object"&&o[u]===a){s+=2,r.length=s,t.length=s,--s,r[s]=a,t[s]=u;break}s--}}function c(u,a){if(a!=null&&typeof a=="object"){u&&i(u,a);let s=e.get(a);if(s)return"[Circular Reference]"+s;e.set(a,t.join("."))}return a}return function(a,s){try{return r.push(a),JSON.stringify(a,c,s)}finally{n()}}}();JSON.stringifyWithCircularRefs===void 0&&(JSON.stringifyWithCircularRefs=ZI);var XI=function(){let e=new Map,r=[],t=["this"];function n(){e.clear(),r.length=0,t.length=1}function i(u,a){var s=r.length-1;if(r[s]){var o=r[s];if(typeof o=="object")if(o[u]===a||s===0)t.push(u),r.push(a.pushed);else for(;s-->=0;){if(o=r[s],typeof o=="object"&&o[u]===a){s+=2,r.length=s,t.length=s,--s,r[s]=a,t[s]=u;break}s++}}}function c(u,a){let s;if(a!=null)if(typeof a=="object"){let o=a.constructor.name;u&&o==="Object"&&i(u,a);let l=e.get(a);if(l)return"[Circular Reference]"+l;if(e.set(a,t.join(".")),o==="Array")a.length>20?s=a.slice(a.length-20):s=a;else if(o.includes("Set"))s=Array.from(a);else if(o!=="Object"&&o!=="Number"&&o!=="String"&&o!=="Boolean")s="instanceof_"+o;else if(o==="Object"){let d={};for(let p in a)if(a[p]==null)d[p]=a[p];else if(Array.isArray(a[p]))a[p].length>20?d[p]=a[p].slice(a[p].length-20):d[p]=a[p];else if(a[p].constructor.name==="Object"){d[p]={};for(let f in a[p])if(Array.isArray(a[p][f]))a[p][f].length>20?d[p][f]=a[p][f].slice(a[p][f].length-20):d[p][f]=a[p][f];else if(a[p][f]!=null){let v=a[p][f].constructor.name;v.includes("Set")?d[p][f]=Array.from(a[p][f]):v!=="Number"&&v!=="String"&&v!=="Boolean"?d[p][f]="instanceof_"+v:d[p][f]=a[p][f]}else d[p][f]=a[p][f]}else{let f=a[p].constructor.name;f.includes("Set")?d[p]=Array.from(a[p]):f!=="Number"&&f!=="String"&&f!=="Boolean"?d[p]="instanceof_"+f:d[p]=a[p]}s=d}else s=a}else s=a;return s}return function(a,s){r.push(a);let o=JSON.stringify(a,c,s);return n(),o}}();JSON.stringifyFast===void 0&&(JSON.stringifyFast=XI);function oTr(e,r,t,n){return typeof t=="object"?(t.operator=e,new Ir(t,r,n)):new Ir({operator:e},r,n)}var nu=class extends yi{constructor(e={}){super(void 0,e.name?e.name:`service${Math.floor(Math.random()*1e14)}`,e.props),this.routes={},this.loadDefaultRoutes=!1,this.keepState=!0,this.firstLoad=!0,this.customRoutes={},this.customChildren={},this.init=r=>{r?r=Object.assign({},r):r={},r.customRoutes?Object.assign(r.customRoutes,this.customRoutes):r.customRoutes=this.customRoutes,r.customChildren?Object.assign(r.customChildren,this.customChildren):r.customChildren=this.customChildren,Array.isArray(r.routes)?r.routes.forEach(t=>{this.load(t,r.includeClassName,r.routeFormat,r.customRoutes,r.customChildren,r.sharedState)}):(r.routes||(Object.keys(this.routes).length>0||this.loadDefaultRoutes)&&this.firstLoad)&&this.load(r.routes,r.includeClassName,r.routeFormat,r.customRoutes,r.customChildren,r.sharedState)},this.load=(r,t=!0,n=".",i=this.customRoutes,c=this.customChildren,u=!0)=>{if(!r&&!this.loadDefaultRoutes&&(Object.keys(this.routes).length>0||this.firstLoad))return;this.firstLoad&&(this.firstLoad=!1),i?i=Object.assign(this.customRoutes,i):i=this.customRoutes;let a,s={};if(r){if(!(r instanceof yi)&&r?.name&&!r.setTree)if(r.module){let l=r;r={},Object.getOwnPropertyNames(r.module).forEach(d=>{t?r[l.name+n+d]=r.module[d]:r[d]=r.module[d]})}else typeof r=="function"&&(a=new r({loadDefaultRoutes:this.loadDefaultRoutes}),a.load(),u&&(a.state=this.state),r=a.routes,a.customRoutes&&!this.customRoutes?this.customRoutes=a.customRoutes:a.customRoutes&&this.customRoutes&&Object.assign(this.customRoutes,a.customRoutes),a.customChildren&&!this.customChildren?this.customChildren=a.customChildren:a.customChildren&&this.customChildren&&Object.assign(this.customChildren,a.customChildren));else if(r instanceof yi||r.source instanceof yi||r.setTree){if(a=r,r={},u&&(a.state=this.state),t){let l=a.name;l||(l=a.tag,a.name=l),l||(l=`graph${Math.floor(Math.random()*1e15)}`,a.name=l,a.tag=l)}a.customRoutes&&!this.customRoutes?this.customRoutes=a.customRoutes:a.customRoutes&&this.customRoutes&&Object.assign(this.customRoutes,a.customRoutes),a.customChildren&&!this.customChildren?this.customChildren=a.customChildren:a.customChildren&&this.customChildren&&Object.assign(this.customChildren,a.customChildren),a.nodes.forEach(l=>{r[l.tag]=l;let d={},p=(f,v)=>{if((!d[f.tag]||v&&t&&!d[v?.tag+n+f.tag])&&(v?d[v.tag+n+f.tag]=!0:d[f.tag]=!0,f instanceof yi||f.source instanceof yi||f.setTree)){if(u&&(f.state=this.state),t){let h=f.name;h||(h=f.tag,f.name=h),h||(h=`graph${Math.floor(Math.random()*1e15)}`,f.name=h,f.tag=h)}f.nodes.forEach(h=>{t&&!r[f.tag+n+h.tag]?r[f.tag+n+h.tag]=h:r[h.tag]||(r[h.tag]=h),p(h,f)})}};p(l)})}else if(typeof r=="object"){let l=r.constructor.name;if(l==="Object"&&(l=Object.prototype.toString.call(r),l&&(l=l.split(" ")[1]),l&&(l=l.split("]")[0])),l&&l!=="Object"){let d=r;r={},Object.getOwnPropertyNames(d).forEach(p=>{t?r[l+n+p]=d[p]:r[p]=d[p]})}}if((a instanceof yi||a?.setTree)&&a.name&&t){r=Object.assign({},r);for(let l in r){let d=r[l];delete r[l],r[a.name+n+l]=d}}}if(this.loadDefaultRoutes){let l=Object.assign({},this.defaultRoutes);r?(Object.assign(l,this.routes),r=Object.assign(l,r)):r=Object.assign(l,this.routes),this.loadDefaultRoutes=!1}r||(r=this.routes);let o=0;for(let l in r){o++;let d=(p,f)=>{if(typeof p=="object"&&(p.tag||(p.tag=f),typeof p?.children=="object")){e:for(let v in p.children)if(o++,typeof p.children[v]=="object"){let h=p.children[v];if(h.tag&&s[h.tag])continue;if(c){for(let y in c)if(h=c[y](h,v,p,r,s),!h)continue e}h.id&&!h.tag&&(h.tag=h.id);let m;if(h.tag)if(s[h.tag]){let y=`${h.tag}${o}`;s[y]=h,h.tag=y,d(s[y],v),m=y}else s[h.tag]=h,d(s[h.tag],v),m=h.tag;else if(s[v]){let y=`${v}${o}`;s[y]=h,h.tag=y,d(s[y],v),m=y}else s[v]=h,d(s[v],v),m=v;a?.name&&t?(s[a.name+n+m]=h,delete s[m]):s[m]=h}}};s[l]=r[l],d(r[l],l)}e:for(let l in s)if(typeof s[l]=="object"){let d=s[l];if(typeof d=="object"){if(i){for(let p in i)if(d=i[p](d,l,s),!d)continue e}d.get&&d.get,d.post,d.delete,d.put,d.head,d.patch,d.options,d.connect,d.trace,d.post&&!d.operator?s[l].operator=d.post:!d.operator&&typeof d.get=="function"&&(s[l].operator=d.get)}}for(let l in r)typeof r[l]=="object"?this.routes[l]?typeof this.routes[l]=="object"?Object.assign(this.routes[l],r[l]):this.routes[l]=r[l]:this.routes[l]=r[l]:this.routes[l]?typeof this.routes[l]=="object"?Object.assign(this.routes[l],r[l]):this.routes[l]=r[l]:this.routes[l]=r[l];if(a)for(let l in this.routes)(this.routes[l]instanceof Ir||this.routes[l].constructor.name.includes("GraphNode"))&&(this.nodes.set(l,this.routes[l]),this.nNodes=this.nodes.size);else this.setTree(this.routes);for(let l in r)r[l]?.aliases&&r[l].aliases.forEach(p=>{a?.name&&t?this.routes[a.name+n+p]=r[l]:this.routes[p]=r[l]});return this.routes},this.unload=(r=this.routes)=>{if(!r)return;let t;!(r instanceof nu)&&typeof r=="function"?(t=new nu,r=t.routes):r instanceof nu&&(r=r.routes);for(let n in r)delete this.routes[n],this.nodes.get(n)&&this.remove(n);return this.routes},this.handleMethod=(r,t,n)=>{let i=t.toLowerCase(),c=this.nodes.get(r);return c||(c=this.routes[r],c||(c=this.tree[r])),c?.[i]?c[i]instanceof Function?c[i](n):(n&&(c[i]=n),c[i]):this.handleServiceMessage({route:r,args:n,method:t})},this.transmit=(...r)=>typeof r[0]=="object"?r[0].method?this.handleMethod(r[0].route,r[0].method,r[0].args):r[0].route?this.handleServiceMessage(r[0]):r[0].node?this.handleGraphNodeCall(r[0].node,r[0].args):(this.keepState&&(r[0].route&&this.setState({[r[0].route]:r[0].args}),r[0].node&&this.setState({[r[0].node]:r[0].args})),r):r,this.receive=(...r)=>{if(r[0]&&typeof r[0]=="string"){let t=r[0].substring(0,8);(t.includes("{")||t.includes("["))&&(t.includes("\\")&&(r[0]=r[0].replace(/\\/g,"")),r[0][0]==='"'&&(r[0]=r[0].substring(1,r[0].length-1)),r[0]=JSON.parse(r[0]))}return typeof r[0]=="object"?r[0].method?this.handleMethod(r[0].route,r[0].method,r[0].args):r[0].route?this.handleServiceMessage(r[0]):r[0].node?this.handleGraphNodeCall(r[0].node,r[0].args):(this.keepState&&(r[0].route&&this.setState({[r[0].route]:r[0].args}),r[0].node&&this.setState({[r[0].node]:r[0].args})),r):r},this.pipe=(r,t,n,i,c)=>{if(r instanceof Ir)return c?r.subscribe(u=>{let a=c(u);a!==void 0?this.transmit({route:t,args:a,method:i}):this.transmit({route:t,args:u,method:i},n)}):this.subscribe(r,u=>{this.transmit({route:t,args:u,method:i},n)});if(typeof r=="string")return this.subscribe(r,u=>{this.transmit({route:t,args:u,method:i},n)})},this.pipeOnce=(r,t,n,i,c)=>{if(r instanceof Ir)return c?r.state.subscribeTriggerOnce(r.tag,u=>{let a=c(u);a!==void 0?this.transmit({route:t,args:a,method:i}):this.transmit({route:t,args:u,method:i},n)}):this.state.subscribeTriggerOnce(r.tag,u=>{this.transmit({route:t,args:u,method:i},n)});if(typeof r=="string")return this.state.subscribeTriggerOnce(r,u=>{this.transmit({route:t,args:u,method:i},n)})},this.terminate=(...r)=>{this.nodes.forEach(t=>{t.stopNode()})},this.recursivelyAssign=(r,t)=>{for(let n in t)typeof t[n]=="object"&&!Array.isArray(t[n])?typeof r[n]=="object"&&!Array.isArray(r[n])?this.recursivelyAssign(r[n],t[n]):r[n]=this.recursivelyAssign({},t[n]):r[n]=t[n];return r},this.defaultRoutes={"/":{get:()=>this.print(),aliases:[""]},ping:()=>(console.log("ping"),"pong"),echo:(...r)=>(this.transmit(...r),r),assign:r=>typeof r=="object"?(Object.assign(this,r),!0):!1,recursivelyAssign:r=>typeof r=="object"?(this.recursivelyAssign(this,r),!0):!1,log:{post:(...r)=>{console.log("Log: ",...r)},aliases:["info"]},error:r=>{let t=new Error(r);return console.error(r),t},state:r=>r?this.state.data[r]:this.state.data,printState:r=>ZI(r?this.state.data[r]:this.state.data),spliceTypedArray:this.spliceTypedArray,transmit:this.transmit,receive:this.receive,load:this.load,unload:this.unload,pipe:this.pipe,terminate:this.terminate,run:this.run,subscribe:this.subscribe,subscribeNode:this.subscribeNode,unsubscribe:this.unsubscribe,stopNode:this.stopNode,get:this.get,add:this.add,remove:this.remove,setTree:this.setTree,setState:this.setState,print:this.print,reconstruct:this.reconstruct,handleMethod:this.handleMethod,handleServiceMessage:this.handleServiceMessage,handleGraphNodeCall:this.handleGraphNodeCall},e.name?this.name=e.name:e.name=this.tag,"loadDefaultRoutes"in e&&(this.loadDefaultRoutes=e.loadDefaultRoutes,this.routes=Object.assign(this.defaultRoutes,this.routes)),(e||Object.keys(this.routes).length>0)&&this.init(e)}handleServiceMessage(e){let r;return typeof e=="object"&&(e.route?r=e.route:e.node&&(r=e.node)),r?Array.isArray(e.args)?this.run(r,...e.args):this.run(r,e.args):e}handleGraphNodeCall(e,r){if(!e)return r;if(r?.args)this.handleServiceMessage(r);else return Array.isArray(r)?this.run(e,...r):this.run(e,r)}isTypedArray(e){return ArrayBuffer.isView(e)&&Object.prototype.toString.call(e)!=="[object DataView]"}spliceTypedArray(e,r,t){let n=e.subarray(0,r),i;t&&(i=e.subarray(t+1));let c;return(n.length>0||i?.length>0)&&(c=new e.constructor(n.length+i.length)),n.length>0&&c.set(n),i&&i.length>0&&c.set(i,n.length),c}},cTr={setRoute:function(e,r){if(typeof e=="string"&&(e=_t(e)),typeof e=="function"){if(r||(r=e.name),this.graph.get(r))this.graph.get(r).setOperator(e.bind(this.graph.get(r)));else{let t=this.graph.add({tag:r,operator:e});this.graph instanceof nu&&this.graph.load({[r]:t})}return!0}return!1},setNode:function(e,r){return typeof e=="string"&&(e=_t(e)),typeof e=="function"?(r||(r=e.name),this.graph.get(r)?this.graph.get(r).setOperator(e):this.graph.add({tag:r,operator:e}),!0):!1},setMethod:function(e,r,t){return typeof r=="string"&&(r=_t(r)),typeof r=="function"?(t||(t=r.name),this.graph.get(e)?this.graph.get(e)[t]=r:this.graph.add({tag:t,[t]:r}),!0):!1},assignRoute:function(e,r){this.graph.get(e)&&typeof r=="object"&&Object.assign(this.graph.get(e),r)},transferClass:(e,r)=>{if(typeof e=="object"){let t=e.toString();return{route:"receiveClass",args:[t,r]}}return!1},receiveClass:function(e,r){if(typeof e=="string"&&e.indexOf("class")===0){let t=(0,eval)("("+e+")"),n=r;return n||(n=t.name),this.graph[n]=t,!0}return!1},setGlobal:(e,r)=>(globalThis[e]=r,!0),assignGlobalObject:(e,r)=>globalThis[e]?(typeof r=="object"&&Object.assign(globalThis[e],r),!0):!1,setValue:function(e,r){return this.graph[e]=r,!0},assignObject:function(e,r){return this.graph[e]?(typeof r=="object"&&Object.assign(this.graph[e],r),!0):!1},setGlobalFunction:(e,r)=>(typeof e=="string"&&(e=_t(e)),typeof e=="function"?(r||(r=e.name),globalThis[r]=e,!0):!1),assignFunctionToGlobalObject:function(e,r,t){return globalThis[e]?(typeof r=="string"&&(r=_t(r)),typeof r=="function"?(t||(t=r.name),this.graph[e][t]=r,!0):!1):!1},setFunction:function(e,r){return typeof e=="string"&&(e=_t(e)),typeof e=="function"?(r||(r=e.name),this.graph[r]=e,!0):!1},assignFunctionToObject:function(e,r,t){return this.graph[e]?(typeof r=="string"&&(r=_t(r)),typeof r=="function"?(t||(t=r.name),this.graph[e][t]=r,!0):!1):!1}},_it=Gie(iTr()),u2=class extends nu{constructor(e,r,t){super(e),this.name="http",this.fetchProxied=!1,this.listening={},this.GET=(n="http://localhost:8080/ping",i="",c)=>(i==="json"&&(c="application/json"),new Promise((u,a)=>{let s=u2.request({method:"GET",url:n,responseType:i,mimeType:c,onload:o=>{let l;s.responseType===""||s.responseType==="text"?l=s.responseText:l=s.response,n instanceof URL&&(n=n.toString()),this.setState({[n]:l}),u(l)},onabort:o=>{a(o)}})}).catch(console.error)),this.POST=(n,i="http://localhost:8080/echo",c="",u)=>(typeof n=="object"&&(c==="json"||c==="text"||!c)&&(n=JSON.stringify(n)),c==="json"&&(u="application/json"),new Promise((a,s)=>{let o=u2.request({method:"POST",url:i,data:n,responseType:c,mimeType:u,onload:l=>{let d;o.responseType===""||o.responseType==="text"?d=o.responseText:d=o.response,i instanceof URL&&(i=i.toString()),this.setState({[i]:d}),a(d)},onabort:l=>{s(l)}})}).catch(console.error)),this.transmit=(n,i)=>{let c=n;return typeof c=="object"&&(n=JSON.stringify(c)),c?.method?.toLowerCase()=="get"||n?.toLowerCase()==="get"?this.GET(i):this.post(n,i)},this.transponder=(n,i,c="",u)=>{typeof i=="object"&&(i=JSON.stringify(i));let a="GET";if(i&&(a="POST"),c==="json")u="application/json";else return new Promise((s,o)=>{let l=u2.request({method:a,url:n,data:i,responseType:c,onload:d=>{let p=l.response;if(typeof p=="string"){let f=p.substring(0,8);(f.includes("{")||f.includes("["))&&(f.includes("\\")&&(p=p.replace(/\\/g,"")),p[0]==='"'&&(p=p.substring(1,p.length-1)),p=JSON.parse(p))}return typeof p?.method=="string"?s(this.handleMethod(p.route,p.method,p.args)):typeof p?.route=="string"?s(this.handleServiceMessage(p)):typeof p?.node=="string"||p.node instanceof Ir?s(this.handleGraphNodeCall(p.node,p.args)):s(p)},onabort:d=>{o(d)}})}).catch(console.error)},this.listen=(n="0",i=async(c,u,a)=>{let s=await c.text(),o=this.receive(s);this.setState({[a.url]:o})})=>{this.listening[n]={};let c=`${n}${Math.floor(Math.random()*1e15)}`;return this.listening[n][c]=i,this.fetchProxied||(globalThis.fetch=new Proxy(globalThis.fetch,{apply(u,a,s){let o=u.apply(a,s);return o.then(l=>{if(!!l.ok){if(this.listening[0])for(let d in this.listeners){let p=l.clone();this.listening[0][d](p,s,l)}else for(let d in this.listening)if(l.url.includes(d)){for(let p in this.listening[n]){let f=l.clone();this.listening[n][p](f,s,l)}break}}}).catch(l=>{console.error(l)}),o}}),this.fetchProxied=!0),c},this.stopListening=(n,i)=>{if(!n&&n!==0)for(let c in this.listening)delete this.listening[c];else i?delete this.listeners[i]:delete this.listening[n]},this.routes={request:this.request,GET:this.GET,POST:this.POST,transponder:this.transponder,listen:this.listen,stopListening:this.stopListening},this.load(this.routes),this.listen(r,t)}},uTr=u2;uTr.request=e=>{let r=new XMLHttpRequest;return e.responseType?r.responseType=e.responseType:e.responseType="json",e.mimeType&&r.overrideMimeType(e.mimeType),e.onload&&r.addEventListener("load",e.onload,!1),e.onprogress&&r.addEventListener("progress",e.onprogress,!1),e.onabort&&r.addEventListener("abort",e.onabort,!1),e.onloadend&&r.addEventListener("loadend",e.onloadend,!1),e.onerror&&r.addEventListener("error",e.onerror,!1),r.open(e.method,e.url,!0,e.user,e.pass),e.onerror||(r.onerror=function(){r.abort()}),r.send(e.data),r};var po=Gie(aTr()),lTr=class extends nu{constructor(e){super(e),this.name="worker",this.workers={},this.threadRot=0,this.connections={workers:this.workers},this.customRoutes={worker:(r,t,n)=>{let i=r;if(i?.worker||i?.workerId||i?.workerUrl){let c=this.loadWorkerRoute(i,t);c&&(!i.parentRoute&&i.parent?.callback&&(i.parentRoute=i.parent.callback),i.parent&&!i.portId&&(typeof i.parent=="string"?i.tag!==i.parent&&c._id!==i.parent&&(i.portId=this.establishMessageChannel(c,i.parent)):i.tag!==i.parent.tag&&c._id!==i.parent.tag&&(i.portId=this.establishMessageChannel(c,i.parent.worker))),i.parentRoute?(i.stopped||(typeof i.parent=="string"&&i.parent===c._id?c.run("subscribe",[i.parentRoute,i.callback]):i.tag===i.parent?.tag||c._id===i.parent?.tag?c.run("subscribe",[i.parentRoute,i.callback]):c.run("subscribeToWorker",[i.parentRoute,i.portId,i.callback,i.blocking]).then(u=>{c.workerSubs[i.parentRoute+i.portId].sub=u})),!(typeof i.parent=="string"&&i.parent===c._id)&&!(i.tag===i.parent?.tag||c._id===i.parent?.tag)&&(c.workerSubs[i.parentRoute+i.portId]={sub:null,route:i.parentRoute,portId:i.portId,callback:i.callback,blocking:i.blocking})):i.parent&&(typeof i.parent=="string"?(i.stopped||(i.parent===c._id?c.run("subscribe",[i.parent,i.callback]):c.run("subscribeToWorker",[i.parent,i.portId,i.callback,i.blocking]).then(u=>{c.workerSubs[i.parentRoute+i.portId].sub=u})),typeof i.parent=="string"&&i.parent===c._id||(c.workerSubs[i.parentRoute+i.portId]={sub:null,route:i.parentRoute,portId:i.portId,callback:i.callback,blocking:i.blocking})):i.parent?.tag&&(i.stopped||(i.tag===i.parent?.tag||c._id===i.parent?.tag?c.run("subscribe",[i.parent.tag,i.callback]):c.run("subscribeToWorker",[i.parent.tag,i.portId,i.callback,i.blocking]).then(u=>{c.workerSubs[i.parentRoute+i.portId].sub=u})),i.tag===i.parent?.tag||c._id===i.parent?.tag||(c.workerSubs[i.parentRoute+i.portId]={sub:null,route:i.parentRoute,portId:i.portId,callback:i.callback,blocking:i.blocking}))))}else i.parent&&i.parentRoute&&(typeof i.parent=="string"&&n[i.parent]?.worker?n[i.parent].worker.subscribe(i.parentRoute,i.tag,i.blocking):i.parent?.worker&&i.parent.worker.subscribe(i.parentRoute,i.tag,i.blocking));return i}},this.customChildren={worker:(r,t,n,i,c)=>(!r.parentRoute&&n?.callback&&(r.parentRoute=n.callback),!r.parent&&n.tag&&(r.parent=n.tag),r)},this.postMessage=(r,t,n)=>{this.workers[t]?this.workers[t].send(r,n):globalThis.postMessage(r,t,n)},this.addWorker=r=>{let t;if(r._id||(r._id=`worker${Math.floor(Math.random()*1e15)}`),r.url?t=new po.default(r.url):r.port?t=r.port:this.workers[r._id]&&(this.workers[r._id].port?t=this.workers[r._id].port:t=this.workers[r._id].worker),!t)return;let n=(f,v)=>this.transmit(f,t,v),i=(f,v,h,m)=>{let y={route:f,args:v};return m&&(y.method=m),this.transmit(y,t,h)},c=(f,v,h,m)=>new Promise((y,g)=>{let b=Math.random(),_={route:"runRequest",args:[{route:f,args:v},r._id,b]};m&&(_.args[0].method=m);let S=w=>{typeof w.data=="object"&&w.data.callbackId===b&&(t.removeEventListener("message",S),y(w.data.args))};t.addEventListener("message",S),this.transmit(_,t,h)}),u=(f,v,h)=>new Promise((m,y)=>{let g=Math.random(),b={route:"runRequest",args:[f,r._id,g]};h&&(b.method=h);let _=S=>{typeof S.data=="object"&&S.data.callbackId===g&&(t.removeEventListener("message",_),m(S.data.args))};t.addEventListener("message",_),this.transmit(b,t,v)}),a={},s=(f,v,h)=>this.subscribeToWorker(f,r._id,v,h),o=(f,v)=>c("unsubscribe",[f,v]),l=async(f,v,h,m)=>{if(f)await c("subscribeToWorker",[f,v,h,m]).then(y=>{y&&(a[f+v]={sub:y,route:f,portId:v,callback:h,blocking:m})});else for(let y in a)typeof a[y].sub!="number"&&await c("subscribeToWorker",[a[y].route,a[y].portId,a[y].callback,a[y].blocking]).then(g=>{a[y].sub=g});return!0},d=async(f,v)=>{if(f&&v&&a[f+v])await c("unsubscribe",[f,a[f+v].sub]),a[f+v].sub=!1;else for(let h in a)typeof a[h].sub=="number"&&await c("unpipeWorkers",[a[h].route,a[h].portId,a[h].sub]),a[h].sub=!1;return!0},p=()=>{for(let f in a)typeof a[f].sub=="number"&&c("unpipeWorkers",[a[f].route,a[f].portId,a[f].sub]),a[f].sub=!1;return this.terminate(r._id)};return r.onmessage||(r.onmessage=f=>{this.receive(f.data),this.setState({[r._id]:f.data})}),r.onerror||(r.onerror=f=>{console.error(f.data)}),t.onmessage=r.onmessage,t.onerror=r.onerror,this.workers[r._id]={worker:t,send:n,post:i,run:c,request:u,subscribe:s,unsubscribe:o,terminate:p,start:l,stop:d,postMessage:t.postMessage,workerSubs:a,graph:this,...r},this.workers[r._id]},this.toObjectURL=r=>{let t=new Blob([r],{type:"text/javascript"});return URL.createObjectURL(t)},this.transmit=(r,t,n)=>{if(n||(n=this.getTransferable(r)),t instanceof po.default||t instanceof MessagePort)t.postMessage(r,n);else if(typeof t=="string")this.workers[t]&&(this.workers[t].port?this.workers[t].port.postMessage(r,n):this.workers[t].worker&&this.workers[t].worker.postMessage(r,n));else{let i=Object.keys(this.workers);this.workers[i[this.threadRot]].worker.postMessage(r,n),this.threadRot++,this.threadRot===i.length&&(this.threadRot=0)}return r},this.terminate=r=>{let t;if(typeof r=="string"){let n=this.workers[r];n&&delete this.workers[r],r=n.worker,n.onclose&&(t=n.onclose)}return r instanceof po.default?(r.terminate(),t&&t(r),!0):r instanceof MessagePort?(r.close(),t&&t(r),!0):!1},this.establishMessageChannel=(r,t)=>{let n;if(typeof r=="string"?(n=r,this.workers[r]&&(this.workers[r].port?r=this.workers[r].port:t=this.workers[r].worker)):r?.worker&&(r=r.worker),typeof t=="string"?this.workers[t]&&(this.workers[t].port?t=this.workers[t].port:t=this.workers[t].worker):t?.worker&&(t=t.worker),r instanceof po.default||r instanceof MessagePort){let i=new MessageChannel,c=`port${Math.floor(Math.random()*1e15)}`;return r.postMessage({route:"addWorker",args:{port:i.port1,_id:c}},[i.port1]),t instanceof po.default||t instanceof MessagePort?t.postMessage({route:"addWorker",args:{port:i.port2,_id:c}},[i.port2]):n&&this.workers[n]&&(i.port2.onmessage=this.workers[n].onmessage,this.workers[n].port=i.port2),c}return!1},this.request=(r,t,n,i)=>{let c=this.workers[t].worker;return new Promise((u,a)=>{let s=Math.random(),o={route:"runRequest",args:[r,s]};i&&(o.method=i);let l=d=>{typeof d.data=="object"&&d.data.callbackId===s&&(c.removeEventListener("message",l),u(d.data.args))};c.addEventListener("message",l),this.transmit(o,c,n)})},this.runRequest=(r,t,n)=>{let i=this.receive(r);return typeof t=="string"&&this.workers[t]&&(this.workers[t].port?t=this.workers[t].port:t=this.workers[t].worker),i instanceof Promise?i.then(c=>{t instanceof po.default||t instanceof MessagePort?t.postMessage({args:c,callbackId:n}):typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&globalThis.postMessage({args:c,callbackId:n})}):t instanceof po.default||t instanceof MessagePort?t.postMessage({args:i,callbackId:n}):typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&globalThis.postMessage({args:i,callbackId:n}),i},this.subscribeWorker=(r,t,n)=>{let i;if(n){let c=!1;i=u=>{c||(c=!0,u instanceof Promise?u.then(a=>{t?.run&&t.run("triggerSubscription",[r,t._id,a]).then(s=>{c=!1})}):t?.run&&t.run("triggerSubscription",[r,t._id,u]).then(a=>{c=!1}))}}else i=c=>{c instanceof Promise?c.then(u=>{t?.postMessage?t.postMessage({args:u,callbackId:r}):globalThis.postMessage&&globalThis.postMessage({args:u,callbackId:r})}):t?.postMessage?t.postMessage({args:c,callbackId:r}):globalThis.postMessage&&globalThis.postMessage({args:c,callbackId:r})};return!n&&t?.port?t=t.port:!n&&t?.worker?t=t.worker:typeof t=="string"&&this.workers[t]&&(n?t=this.workers[t]:this.workers[t].port?t=this.workers[t].port:t=this.workers[t].worker),this.subscribe(r,i)},this.subscribeToWorker=(r,t,n,i)=>{if(typeof t=="string"&&this.workers[t])return this.subscribe(t,c=>{c?.callbackId===r&&(n?typeof n=="string"?this.run(n,c.args):n(c.args):this.setState({[t]:c.args}))}),this.workers[t].run("subscribeWorker",[r,t,i])},this.triggerSubscription=async(r,t,n)=>{if(this.state.triggers[t])for(let i=0;i<this.state.triggers[t].length;i++)await this.state.triggers[t][i].onchange({args:n,callbackId:r});return!0},this.pipeWorkers=(r,t,n,i,c,u)=>(typeof r=="string"&&(r=this.workers[r]),typeof t=="string"&&(t=this.workers[t]),c||(c=this.establishMessageChannel(r.worker,t.worker)),t.run("subscribeToWorker",[n,c,i,u])),this.unpipeWorkers=(r,t,n)=>{if(typeof t=="string"&&(t=this.workers[t]),t)return t.run("unsubscribe",[r,n])},this.routes={addWorker:{operator:this.addWorker,aliases:["open"]},toObjectURL:this.toObjectURL,request:this.request,runRequest:this.runRequest,establishMessageChannel:this.establishMessageChannel,subscribeWorker:this.subscribeWorker,subscribeToWorker:this.subscribeToWorker,triggerSubscription:this.triggerSubscription,subscribe:this.subscribe,pipeWorkers:this.pipeWorkers,unpipeWorkers:this.unpipeWorkers,unsubscribe:(r,t)=>{this.unsubscribe(r,t)},terminate:this.terminate},this.load(this.routes),typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope&&this.addDefaultMessageListener()}loadWorkerRoute(e,r){e.workerUrl&&(e.url=e.workerUrl),e.workerId&&(e.tag=e.workerId),e.tag||(e.tag=r),e._id=e.tag;let t;if(this.workers[e._id]?t=this.workers[e._id]:e.worker&&(t=e.worker),!t){t=this.addWorker(e);let n=c=>{c.worker?.terminate()},i;e.ondelete&&(i=e.ondelete),e.ondelete=c=>{i&&i(c),n(c)}}if(e.worker=t,e.transferFunctions)for(let n in e.transferFunctions)this.transferFunction(t,e.transferFunctions[n],n);if(e.transferClasses)for(let n in e.transferClasses)this.transferClass(t,e.transferClasses[n],n);if(t)return e.operator||(e.operator=(...n)=>{if(e.callback)if(!this.nodes.get(e.tag)?.children)t.post(e.callback,n);else return t.run(e.callback,n);else if(!this.nodes.get(e.tag)?.children)t.send(n);else return t.request(n)}),e.init&&t.run(e.init,e.initArgs,e.initTransfer),t}addDefaultMessageListener(){globalThis.onmessage=e=>{let r=this.receive(e.data);this.keepState&&this.setState({[this.name]:r})}}getTransferable(e){let r;if(typeof e=="object")if(e.args)if(e.args.constructor?.name==="Object")for(let t in e.args)ArrayBuffer.isView(e.args[t])?r?r.push(e.args[t].buffer):r=[e.args[t].buffer]:e.args[t]?.constructor?.name==="ArrayBuffer"&&(r?r.push(e.args[t]):r=[e.args[t]]);else Array.isArray(e.args)&&e.args.length<11?e.args.forEach(t=>{ArrayBuffer.isView(t)?r=[t.buffer]:t.constructor?.name==="ArrayBuffer"&&(r=[t])}):ArrayBuffer.isView(e.args)?r=[e.args.buffer]:e.args.constructor?.name==="ArrayBuffer"&&(r=[e]);else if(e.constructor?.name==="Object")for(let t in e)ArrayBuffer.isView(e[t])?r?r.push(e[t].buffer):r=[e[t].buffer]:e[t]?.constructor?.name==="ArrayBuffer"&&(r?r.push(e[t]):r=[e[t]]);else Array.isArray(e)&&e.length<11?e.forEach(t=>{ArrayBuffer.isView(t)?r=[t.buffer]:t.constructor?.name==="ArrayBuffer"&&(r=[t])}):ArrayBuffer.isView(e)?r=[e.buffer]:e.constructor?.name==="ArrayBuffer"&&(r=[e]);return r}transferFunction(e,r,t){return t||(t=r.name),e.request({route:"setRoute",args:[r.toString(),t]})}transferClass(e,r,t){return t||(t=r.name),e.request({route:"receiveClass",args:[r.toString(),t]})}},Qc=wB(["ctrlKey","metaKey","shiftKey","button","pointerType","clientX","clientY","pageX","pageY"]),dTr=wB(["deltaX","deltaY"]),pTr=wB(["ctrlKey","metaKey","shiftKey","keyCode"]);function fTr(e,r){e.preventDefault(),dTr(e,r)}function hTr(e){e.preventDefault()}function vTr(e,r,t){for(let n of r)t[n]=e[n]}function wB(e){return function(t,n){let i={type:t.type};vTr(t,e,i),n(i)}}function RI(e,r){let t=[],n={type:e.type,touches:t};for(let i=0;i<e.touches.length;++i){let c=e.touches[i];t.push({pageX:c.pageX,pageY:c.pageY})}r(n)}var mTr={37:!0,38:!0,39:!0,40:!0};function yTr(e,r){let{keyCode:t}=e;mTr[t]&&(e.preventDefault(),pTr(e,r))}var gTr={contextmenu:hTr,mousedown:Qc,mousemove:Qc,mouseup:Qc,pointerdown:Qc,pointermove:Qc,pointerup:Qc,touchstart:RI,touchmove:RI,touchend:RI,wheel:fTr,keydown:yTr};function bTr(e,r,t){t||(t="proxy"+Math.floor(Math.random()*1e15));let n=u=>{r.postMessage({route:"handleProxyEvent",args:[u,t]})},i=Object.entries(gTr);for(let[u,a]of i)e.addEventListener(u,function(s){a(s,n)});let c=()=>{let u=e.getBoundingClientRect();n({type:"resize",left:u.left,top:u.top,width:e.clientWidth,height:e.clientHeight})};return c(),globalThis.addEventListener("resize",c),t}var _Tr=class{addEventListener(e,r){this._listeners===void 0&&(this._listeners={});let t=this._listeners;t[e]===void 0&&(t[e]=[]),t[e].indexOf(r)===-1&&t[e].push(r)}hasEventListener(e,r){if(this._listeners===void 0)return!1;let t=this._listeners;return t[e]!==void 0&&t[e].indexOf(r)!==-1}removeEventListener(e,r){if(this._listeners===void 0)return;let n=this._listeners[e];if(n!==void 0){let i=n.indexOf(r);i!==-1&&n.splice(i,1)}}dispatchEvent(e,r){if(this._listeners===void 0)return;let n=this._listeners[e.type];if(n!==void 0){r?e.target=r:e.target=this;let i=n.slice(0);for(let c=0,u=i.length;c<u;c++)i[c].call(this,e);e.target=null}}};function Zte(){}var wTr=class extends _Tr{constructor(){super(),this._listeners={},this.style={},this.setPointerCapture=()=>{},this.releasePointerCapture=()=>{},this.getBoundingClientRect=()=>({left:this.left,top:this.top,width:this.width,height:this.height,right:this.left+this.width,bottom:this.top+this.height}),this.handleEvent=e=>{e.type==="resize"&&(this.left=e.left,this.top=e.top,this.width=e.width,this.height=e.height,typeof this.proxied=="object"&&(this.proxied.width=this.width,this.proxied.height=this.height,this.proxied.clientWidth=this.width,this.proxied.clientHeight=this.height)),e.preventDefault=Zte,e.stopPropagation=Zte,this.dispatchEvent(e,this.proxied)},this.style={}}get clientWidth(){return this.width}get clientHeight(){return this.height}focus(){}},Xte=class{constructor(){this.targets={},this.makeProxy=(e,r=void 0)=>{e||(e=`proxyReceiver${Math.floor(Math.random()*1e15)}`);let t;this.targets[e]?t=this.targets[e]:(t=new wTr,this.targets[e]=t),typeof r=="object"&&(r.proxy=t,t.proxied=r,r.style=t.style,t.width&&(r.width=t.width,r.clientWidth=t.width),t.height&&(r.height=t.height,r.clientHeight=t.height),r.setPointerCapture=t.setPointerCapture.bind(t),r.releasePointerCapture=t.releasePointerCapture.bind(t),r.getBoundingClientRect=t.getBoundingClientRect.bind(t),r.addEventListener=t.addEventListener.bind(t),r.removeEventListener=t.removeEventListener.bind(t),r.handleEvent=t.handleEvent.bind(t),r.dispatchEvent=t.dispatchEvent.bind(t),r.focus=t.focus.bind(t))},this.getProxy=e=>this.targets[e],this.handleEvent=(e,r)=>{if(this.targets[r]||this.makeProxy(r),this.targets[r])return this.targets[r].handleEvent(e),!0},globalThis.document||(globalThis.document={})}},STr={initProxyElement:bTr,makeProxy:function(e,r){return this.graph.ProxyManager||(this.graph.ProxyManager=new Xte),this.graph.ProxyManager.makeProxy(e,r),e},handleProxyEvent:function(e,r){if(this.graph.ProxyManager||(this.graph.ProxyManager=new Xte),this.graph.ProxyManager.handleEvent(e,r))return e}},xTr={...STr,transferCanvas:function(e,r,t){if(!r)return;r._id||(r._id=`canvas${Math.floor(Math.random()*1e15)}`);let n=r.canvas.transferControlToOffscreen(),i={route:t||"receiveCanvas",args:{...r,canvas:n}};this.graph.run("initProxyElement",r.canvas,e,r._id),r.draw&&(typeof r.draw=="function"?i.args.draw=r.draw.toString():i.args.draw=r.draw),r.update&&(typeof r.update=="function"?i.args.update=r.update.toString():i.args.update=r.update),r.init&&(typeof r.init=="function"?i.args.init=r.init.toString():i.args.init=r.init),r.clear&&(typeof r.clear=="function"?i.args.clear=r.clear.toString():i.args.clear=r.clear);let c=[n];return r.transfer&&(c.push(...r.transfer),delete r.transfer),e.postMessage(i,c),{_id:r._id,width:r.width,height:r.height,worker:e,draw:a=>{e.postMessage({route:"drawFrame",args:[r._id,a]})},update:a=>{e.postMessage({route:"updateCanvas",args:[r._id,a]})},clear:()=>{e.postMessage({route:"clearCanvas",args:r._id})},init:()=>{e.postMessage({route:"initCanvas",args:r._id})},stop:()=>{e.postMessage({route:"stopAnim",args:r._id})},start:()=>{e.postMessage({route:"startAnim",args:r._id})},set:a=>{e.postMessage({route:"setDraw",args:[a,r._id]})}}},receiveCanvas:function(e){this.graph.CANVASES||(this.graph.CANVASES={});let r=e;if(e._id?r._id=e._id:r._id=`canvas${Math.floor(Math.random()*1e15)}`,typeof e.context=="string"?r.context=e.canvas.getContext(e.context):r.context=e.context,"animating"in e?r.animating=e.animating:r.animating=!0,this.graph.CANVASES[r._id])this.graph.run("setDraw",r);else if(r.graph=this.graph,this.graph.CANVASES[r._id]=r,this.graph.run("makeProxy",r._id,r.canvas),e.width&&(r.canvas.width=e.width),e.height&&(r.canvas.height=e.height),typeof r.draw=="string"&&(r.draw=_t(r.draw)),typeof r.update=="string"&&(r.update=_t(r.update)),typeof r.init=="string"&&(r.init=_t(r.init)),typeof r.clear=="string"&&(r.clear=_t(r.clear)),typeof r.init=="function"&&r.init(r,r.canvas,r.context),typeof r.draw=="function"&&r.animating){let t=(n,i,c)=>{n.animating&&(n.draw(n,i,c),requestAnimationFrame(()=>{t(n,i,c)}))};t(r,r.canvas,r.context)}return r._id},setDraw:function(e,r){let t;if(r?t=this.graph.CANVASES?.[e._id]:e._id?t=this.graph.CANVASES?.[e._id]:t=this.graph.CANVASES?.[Object.keys(this.graph.CANVASES)[0]],t)return e.canvas&&(t.canvas=e.canvas,this.graph.run("makeProxy",t._id,t.canvas)),typeof e.context=="string"?t.context=t.canvas.getContext(e.context):e.context&&(t.context=e.context),e.width&&(t.canvas.width=e.width),e.height&&(t.canvas.height=e.height),typeof e.draw=="string"&&(e.draw=_t(e.draw)),typeof e.draw=="function"&&(t.draw=e.draw),typeof e.update=="string"&&(e.update=_t(e.update)),typeof e.update=="function"&&(t.update=e.update),typeof e.init=="string"&&(e.init=_t(e.init)),typeof e.init=="function"&&(t.init=e.init),typeof e.clear=="string"&&(e.clear=_t(e.clear)),typeof e.clear=="function"&&(t.clear=e.clear),e._id},drawFrame:function(e,r){let t;if(r?t=this.graph.CANVASES?.[r]:t=this.graph.CANVASES?.[Object.keys(this.graph.CANVASES)[0]],t&&(e&&Object.assign(t,e),t.draw))return t.draw(t,t.canvas,t.context),r},clearCanvas:function(e){let r;if(e?r=this.graph.CANVASES?.[e]:r=this.graph.CANVASES?.[Object.keys(this.graph.CANVASES)[0]],r?.clear)return r.clear(r,r.canvas,r.context),e},initCanvas:function(e){let r;if(e?r=this.graph.CANVASES?.[e]:r=this.graph.CANVASES?.[Object.keys(this.graph.CANVASES)[0]],r?.init)return r.init(r,r.canvas,r.context),e},updateCanvas:function(e,r){let t;if(r?t=this.graph.CANVASES?.[r]:t=this.graph.CANVASES?.[Object.keys(this.graph.CANVASES)[0]],t?.update)return t.update(t,t.canvas,t.context,e),r},setProps:function(e,r){let t;if(r?t=this.graph.CANVASES?.[r]:t=this.graph.CANVASES?.[Object.keys(this.graph.CANVASES)[0]],t)return Object.assign(t,e),e.width&&(t.canvas.width=e.width),e.height&&(t.canvas.height=e.height),r},startAnim:function(e,r){let t;if(e?t=this.graph.CANVASES?.[e]:t=this.graph.CANVASES?.[Object.keys(this.graph.CANVASES)[0]],t.animating=!0,t&&r)return typeof r=="string"&&(r=_t(r)),typeof r=="function"&&(t.draw=r),e;if(typeof t?.draw=="function"){let n=(i,c,u)=>{i.animating&&(i.draw(i,c,u),requestAnimationFrame(()=>{n(i,c,u)}))};return typeof t.clear=="function"&&t.clear(t,t.canvas,t.context),typeof t.init=="function"&&t.init(t,t.canvas,t.context),n(t,t.canvas,t.context),e}},stopAnim:function(e){let r;if(e?r=this.graph.CANVASES?.[e]:r=this.graph.CANVASES?.[Object.keys(this.graph.CANVASES)[0]],r)return r.animating=!1,typeof r.clear=="function"&&r.clear(r,r.canvas,r.context),e}},l2={},OTr=e=>Object.assign(l2,e);function DTr(e,r){let t={_id:e._id?e._id:`algorithm${Math.floor(Math.random()*1e15)}`,ondata:e.ondata,run:n=>t.ondata(t,n)};return e.structs&&h2(t,JSON.parse(JSON.stringify(e.structs))),r&&h2(t,JSON.parse(JSON.stringify(r))),e.oncreate&&(t.oncreate=e.oncreate),t.oncreate&&t.oncreate(t),t}var h2=(e,r)=>{for(let t in r)typeof r[t]=="object"&&!Array.isArray(r[t])?typeof e[t]=="object"&&!Array.isArray(e[t])?h2(e[t],r[t]):e[t]=h2({},r[t]):e[t]=r[t];return e},NTr={...cTr,loadAlgorithms:OTr,initSubprocesses:async function(r,t){if(t||(t=this.graph),!!t){for(let n in r){let i=r[n];if(!i.worker&&i.url&&(i.worker=t.addWorker({url:i.url})),!i.worker)continue;let c=i.worker,u;if(u=t.establishMessageChannel(c.worker,i.source?.worker),i.source||(i.source=t),typeof i.subprocess=="object"){let a=i.subprocess;if(!a.name)continue;typeof a.oncreate=="function"&&(a.oncreate=a.oncreate.toString()),typeof a.ondata=="function"&&(a.ondata=a.ondata.toString()),i.worker.post("addSubprocessTemplate",[a.name,a.structs,a.oncreate,a.ondata,a.props]),i.subprocess=a.name}if(i.init){let a=await c.run(i.init,i.initArgs);i.otherArgs=a}if(i.otherArgs&&c.run("setValue",["otherArgsProxy",Array.isArray(i.otherArgs)?i.otherArgs:[i.otherArgs]]),i.pipeTo){if(c.run("setValue",["routeProxy",i.route]),c.run("setValue",["pipeRoute",i.pipeTo.route]),i.url&&!i.pipeTo.worker){let a=t.addWorker({url:i.url});i.pipeTo.portId=t.establishMessageChannel(c.worker,a.worker),i.pipeTo.worker=a}i.pipeTo.init&&(i.pipeTo.otherArgs=await i.pipeTo.worker.run(i.pipeTo.init,i.pipeTo.initArgs)),c.run("setValue",["pipePort",i.pipeTo.portId]),i.pipeTo.otherArgs&&c.run("setValue",["otherPipeArgs",i.pipeTo.otherArgs]),t.transferFunction(c,function(s){let o=s;this.graph.otherArgsProxy&&(o=[s,...this.graph.otherArgsProxy]);let l=this.graph.run(this.graph.routeProxy,o);if(!i.blocking)return new Promise(d=>{if(l instanceof Promise)l.then(p=>{if(p!==void 0){let f=p;this.graph.otherPipeArgs&&(f=[p,...this.graph.otherPipeArgs]),this.workers[this.graph.pipePort]&&(i.blocking=!0,this.workers[this.graph.pipePort].run(this.graph.pipeRoute,f).then(v=>{i.blocking=!1,d(v)}))}});else if(l!==void 0){let p=l;this.graph.otherPipeArgs&&(p=[l,...this.graph.otherPipeArgs]),this.workers[this.graph.pipePort]&&(i.blocking=!0,this.workers[this.graph.pipePort].run(this.graph.pipeRoute,p).then(f=>{i.blocking=!1,d(f)}))}})},i.route+"_pipeResults"),i.route=i.route+"_pipeResults"}else c.run("setValue",["routeProxy",i.route]),t.transferFunction(c,function(s){let o;return this.graph.otherArgsProxy?o=this.graph.nodes.get(this.graph.routeProxy).operator(s,...this.graph.otherArgsProxy):o=this.graph.nodes.get(this.graph.routeProxy).operator(s),this.graph.state.triggers[this.graph.routeProxy]&&(o instanceof Promise?o.then(l=>{this.setState({[this.graph.routeProxy]:l})}):this.setState({[this.graph.routeProxy]:o})),o},i.route+"_routeProxy"),i.route=i.route+"_routeProxy",i.stopped||c.run("subscribeToWorker",[i.subscribeRoute,u,i.route]).then(a=>{i.sub=a});i.stop=async()=>{if(i.source&&typeof i.sub=="number")return i.source.unsubscribe(i.subscribeRoute,i.sub),!0},i.start=async()=>{if(typeof i.sub!="number")return c.run("subscribeToWorker",[i.subscribeRoute,u,i.route,i.blocking]).then(a=>{i.sub=a})},i.setArgs=async a=>{if(Array.isArray(a))await c.run("setValue",["otherArgsProxy",a]);else if(typeof a=="object")for(let s in a)await c.run("setValue",[s,a[s]]);return!0},i.terminate=()=>{c.terminate(),i.source?.worker&&typeof i.sub=="number"&&i.source.post("unsubscribe",i.sub),i.pipeTo?.worker&&i.pipeTo.worker.terminate()},i.callback&&c.subscribe(i.route,a=>{typeof i.callback=="string"?this.graph.run(i.callback,a):i.callback(a)})}return r}},addSubprocessTemplate:function(r,t,n,i,c){if(typeof n=="string"&&(n=_t(n)),typeof i=="string"&&(i=_t(i)),typeof i=="function")return l2[r]={ondata:i,oncreate:typeof n=="function"?n:null,structs:t},typeof c=="object"&&Object.assign(l2[r],c),!0},updateSubprocess:function(r,t){this.graph.ALGORITHMS||(this.graph.ALGORITHMS={}),t||(t=Object.keys(this.graph.ALGORITHMS)[0]),t&&Object.assign(this.graph.ALGORITHMS[t],r)},createSubprocess:function(r,t){if(this.graph.ALGORITHMS||(this.graph.ALGORITHMS={}),typeof r=="string"&&(r=l2[r]),typeof r=="object"){typeof r.ondata=="string"&&(r.ondata=_t(r.ondata));let n;if(typeof r?.ondata=="function"&&(n=DTr(r,t)),n&&(this.graph.ALGORITHMS[n._id]=n),n)return n._id}return!1},runSubprocess:function(r,t){if(this.graph.ALGORITHMS||(this.graph.ALGORITHMS={}),t||(t=Object.keys(this.graph.ALGORITHMS)[0]),!t)return;let n=this.graph.ALGORITHMS[t].run(r);if(n!==void 0)if(Array.isArray(n)){let i=[];if(n.forEach(c=>{c!==void 0&&(i.push(c),this.graph.setState({[t]:c}))}),i.length>0)return i}else return this.graph.setState({[t]:n}),n}},CTr=URL.createObjectURL(new Blob([String('(()=>{var __require=(x=>typeof require!=="undefined"?require:typeof Proxy!=="undefined"?new Proxy(x,{get:(a,b)=>(typeof require!=="undefined"?require:a)[b]}):x)(function(x){if(typeof require!=="undefined")return require.apply(this,arguments);throw new Error(\'Dynamic require of "\'+x+\'" is not supported\')});var __create=Object.create;var __defProp=Object.defineProperty;var __getOwnPropDesc=Object.getOwnPropertyDescriptor;var __getOwnPropNames=Object.getOwnPropertyNames;var __getProtoOf=Object.getPrototypeOf;var __hasOwnProp=Object.prototype.hasOwnProperty;var __require2=(x=>typeof __require!=="undefined"?__require:typeof Proxy!=="undefined"?new Proxy(x,{get:(a,b)=>(typeof __require!=="undefined"?__require:a)[b]}):x)(function(x){if(typeof __require!=="undefined")return __require.apply(this,arguments);throw new Error(\'Dynamic require of "\'+x+\'" is not supported\')});var __commonJS=(cb,mod)=>function __require22(){return mod||(0,cb[__getOwnPropNames(cb)[0]])((mod={exports:{}}).exports,mod),mod.exports};var __copyProps=(to,from,except,desc)=>{if(from&&typeof from==="object"||typeof from==="function"){for(let key of __getOwnPropNames(from))if(!__hasOwnProp.call(to,key)&&key!==except)__defProp(to,key,{get:()=>from[key],enumerable:!(desc=__getOwnPropDesc(from,key))||desc.enumerable})}return to};var __toESM=(mod,isNodeMode,target)=>(target=mod!=null?__create(__getProtoOf(mod)):{},__copyProps(isNodeMode||!mod||!mod.__esModule?__defProp(target,"default",{value:mod,enumerable:true}):target,mod));var require_sjcl=__commonJS({"services/e2ee/sjcl.js"(exports,module){"use strict";var sjcl2={cipher:{},hash:{},keyexchange:{},mode:{},misc:{},codec:{},exception:{corrupt:function(a){this.toString=function(){return"CORRUPT: "+this.message};this.message=a},invalid:function(a){this.toString=function(){return"INVALID: "+this.message};this.message=a},bug:function(a){this.toString=function(){return"BUG: "+this.message};this.message=a},notReady:function(a){this.toString=function(){return"NOT READY: "+this.message};this.message=a}}};sjcl2.cipher.aes=function(a){this.s[0][0][0]||this.O();var b,c,d,e,f=this.s[0][4],g=this.s[1];b=a.length;var h=1;if(4!==b&&6!==b&&8!==b)throw new sjcl2.exception.invalid("invalid aes key size");this.b=[d=a.slice(0),e=[]];for(a=b;a<4*b+28;a++){c=d[a-1];if(0===a%b||8===b&&4===a%b)c=f[c>>>24]<<24^f[c>>16&255]<<16^f[c>>8&255]<<8^f[c&255],0===a%b&&(c=c<<8^c>>>24^h<<24,h=h<<1^283*(h>>7));d[a]=d[a-b]^c}for(b=0;a;b++,a--)c=d[b&3?a:a-4],e[b]=4>=a||4>b?c:g[0][f[c>>>24]]^g[1][f[c>>16&255]]^g[2][f[c>>8&255]]^g[3][f[c&255]]};sjcl2.cipher.aes.prototype={encrypt:function(a){return t(this,a,0)},decrypt:function(a){return t(this,a,1)},s:[[[],[],[],[],[]],[[],[],[],[],[]]],O:function(){var a=this.s[0],b=this.s[1],c=a[4],d=b[4],e,f,g,h=[],k=[],l,n,m,p;for(e=0;256>e;e++)k[(h[e]=e<<1^283*(e>>7))^e]=e;for(f=g=0;!c[f];f^=l||1,g=k[g]||1)for(m=g^g<<1^g<<2^g<<3^g<<4,m=m>>8^m&255^99,c[f]=m,d[m]=f,n=h[e=h[l=h[f]]],p=16843009*n^65537*e^257*l^16843008*f,n=257*h[m]^16843008*m,e=0;4>e;e++)a[e][f]=n=n<<24^n>>>8,b[e][m]=p=p<<24^p>>>8;for(e=0;5>e;e++)a[e]=a[e].slice(0),b[e]=b[e].slice(0)}};function t(a,b,c){if(4!==b.length)throw new sjcl2.exception.invalid("invalid aes block size");var d=a.b[c],e=b[0]^d[0],f=b[c?3:1]^d[1],g=b[2]^d[2];b=b[c?1:3]^d[3];var h,k,l,n=d.length/4-2,m,p=4,r=[0,0,0,0];h=a.s[c];a=h[0];var q=h[1],v=h[2],w=h[3],x=h[4];for(m=0;m<n;m++)h=a[e>>>24]^q[f>>16&255]^v[g>>8&255]^w[b&255]^d[p],k=a[f>>>24]^q[g>>16&255]^v[b>>8&255]^w[e&255]^d[p+1],l=a[g>>>24]^q[b>>16&255]^v[e>>8&255]^w[f&255]^d[p+2],b=a[b>>>24]^q[e>>16&255]^v[f>>8&255]^w[g&255]^d[p+3],p+=4,e=h,f=k,g=l;for(m=0;4>m;m++)r[c?3&-m:m]=x[e>>>24]<<24^x[f>>16&255]<<16^x[g>>8&255]<<8^x[b&255]^d[p++],h=e,e=f,f=g,g=b,b=h;return r}sjcl2.bitArray={bitSlice:function(a,b,c){a=sjcl2.bitArray.$(a.slice(b/32),32-(b&31)).slice(1);return void 0===c?a:sjcl2.bitArray.clamp(a,c-b)},extract:function(a,b,c){var d=Math.floor(-b-c&31);return((b+c-1^b)&-32?a[b/32|0]<<32-d^a[b/32+1|0]>>>d:a[b/32|0]>>>d)&(1<<c)-1},concat:function(a,b){if(0===a.length||0===b.length)return a.concat(b);var c=a[a.length-1],d=sjcl2.bitArray.getPartial(c);return 32===d?a.concat(b):sjcl2.bitArray.$(b,d,c|0,a.slice(0,a.length-1))},bitLength:function(a){var b=a.length;return 0===b?0:32*(b-1)+sjcl2.bitArray.getPartial(a[b-1])},clamp:function(a,b){if(32*a.length<b)return a;a=a.slice(0,Math.ceil(b/32));var c=a.length;b=b&31;0<c&&b&&(a[c-1]=sjcl2.bitArray.partial(b,a[c-1]&2147483648>>b-1,1));return a},partial:function(a,b,c){return 32===a?b:(c?b|0:b<<32-a)+1099511627776*a},getPartial:function(a){return Math.round(a/1099511627776)||32},equal:function(a,b){if(sjcl2.bitArray.bitLength(a)!==sjcl2.bitArray.bitLength(b))return false;var c=0,d;for(d=0;d<a.length;d++)c|=a[d]^b[d];return 0===c},$:function(a,b,c,d){var e;e=0;for(void 0===d&&(d=[]);32<=b;b-=32)d.push(c),c=0;if(0===b)return d.concat(a);for(e=0;e<a.length;e++)d.push(c|a[e]>>>b),c=a[e]<<32-b;e=a.length?a[a.length-1]:0;a=sjcl2.bitArray.getPartial(e);d.push(sjcl2.bitArray.partial(b+a&31,32<b+a?c:d.pop(),1));return d},i:function(a,b){return[a[0]^b[0],a[1]^b[1],a[2]^b[2],a[3]^b[3]]},byteswapM:function(a){var b,c;for(b=0;b<a.length;++b)c=a[b],a[b]=c>>>24|c>>>8&65280|(c&65280)<<8|c<<24;return a}};sjcl2.codec.utf8String={fromBits:function(a){var b="",c=sjcl2.bitArray.bitLength(a),d,e;for(d=0;d<c/8;d++)0===(d&3)&&(e=a[d/4]),b+=String.fromCharCode(e>>>8>>>8>>>8),e<<=8;return decodeURIComponent(escape(b))},toBits:function(a){a=unescape(encodeURIComponent(a));var b=[],c,d=0;for(c=0;c<a.length;c++)d=d<<8|a.charCodeAt(c),3===(c&3)&&(b.push(d),d=0);c&3&&b.push(sjcl2.bitArray.partial(8*(c&3),d));return b}};sjcl2.codec.hex={fromBits:function(a){var b="",c;for(c=0;c<a.length;c++)b+=((a[c]|0)+0xf00000000000).toString(16).substr(4);return b.substr(0,sjcl2.bitArray.bitLength(a)/4)},toBits:function(a){var b,c=[],d;a=a.replace(/\\s|0x/g,"");d=a.length;a=a+"00000000";for(b=0;b<a.length;b+=8)c.push(parseInt(a.substr(b,8),16)^0);return sjcl2.bitArray.clamp(c,4*d)}};sjcl2.codec.base32={B:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",X:"0123456789ABCDEFGHIJKLMNOPQRSTUV",BITS:32,BASE:5,REMAINING:27,fromBits:function(a,b,c){var d=sjcl2.codec.base32.BASE,e=sjcl2.codec.base32.REMAINING,f="",g=0,h=sjcl2.codec.base32.B,k=0,l=sjcl2.bitArray.bitLength(a);c&&(h=sjcl2.codec.base32.X);for(c=0;f.length*d<l;)f+=h.charAt((k^a[c]>>>g)>>>e),g<d?(k=a[c]<<d-g,g+=e,c++):(k<<=d,g-=d);for(;f.length&7&&!b;)f+="=";return f},toBits:function(a,b){a=a.replace(/\\s|=/g,"").toUpperCase();var c=sjcl2.codec.base32.BITS,d=sjcl2.codec.base32.BASE,e=sjcl2.codec.base32.REMAINING,f=[],g,h=0,k=sjcl2.codec.base32.B,l=0,n,m="base32";b&&(k=sjcl2.codec.base32.X,m="base32hex");for(g=0;g<a.length;g++){n=k.indexOf(a.charAt(g));if(0>n){if(!b)try{return sjcl2.codec.base32hex.toBits(a)}catch(p){}throw new sjcl2.exception.invalid("this isn\'t "+m+"!")}h>e?(h-=e,f.push(l^n>>>h),l=n<<c-h):(h+=d,l^=n<<c-h)}h&56&&f.push(sjcl2.bitArray.partial(h&56,l,1));return f}};sjcl2.codec.base32hex={fromBits:function(a,b){return sjcl2.codec.base32.fromBits(a,b,1)},toBits:function(a){return sjcl2.codec.base32.toBits(a,1)}};sjcl2.codec.base64={B:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",fromBits:function(a,b,c){var d="",e=0,f=sjcl2.codec.base64.B,g=0,h=sjcl2.bitArray.bitLength(a);c&&(f=f.substr(0,62)+"-_");for(c=0;6*d.length<h;)d+=f.charAt((g^a[c]>>>e)>>>26),6>e?(g=a[c]<<6-e,e+=26,c++):(g<<=6,e-=6);for(;d.length&3&&!b;)d+="=";return d},toBits:function(a,b){a=a.replace(/\\s|=/g,"");var c=[],d,e=0,f=sjcl2.codec.base64.B,g=0,h;b&&(f=f.substr(0,62)+"-_");for(d=0;d<a.length;d++){h=f.indexOf(a.charAt(d));if(0>h)throw new sjcl2.exception.invalid("this isn\'t base64!");26<e?(e-=26,c.push(g^h>>>e),g=h<<32-e):(e+=6,g^=h<<32-e)}e&56&&c.push(sjcl2.bitArray.partial(e&56,g,1));return c}};sjcl2.codec.base64url={fromBits:function(a){return sjcl2.codec.base64.fromBits(a,1,1)},toBits:function(a){return sjcl2.codec.base64.toBits(a,1)}};sjcl2.hash.sha256=function(a){this.b[0]||this.O();a?(this.F=a.F.slice(0),this.A=a.A.slice(0),this.l=a.l):this.reset()};sjcl2.hash.sha256.hash=function(a){return new sjcl2.hash.sha256().update(a).finalize()};sjcl2.hash.sha256.prototype={blockSize:512,reset:function(){this.F=this.Y.slice(0);this.A=[];this.l=0;return this},update:function(a){"string"===typeof a&&(a=sjcl2.codec.utf8String.toBits(a));var b,c=this.A=sjcl2.bitArray.concat(this.A,a);b=this.l;a=this.l=b+sjcl2.bitArray.bitLength(a);if(9007199254740991<a)throw new sjcl2.exception.invalid("Cannot hash more than 2^53 - 1 bits");if("undefined"!==typeof Uint32Array){var d=new Uint32Array(c),e=0;for(b=512+b-(512+b&511);b<=a;b+=512)u(this,d.subarray(16*e,16*(e+1))),e+=1;c.splice(0,16*e)}else for(b=512+b-(512+b&511);b<=a;b+=512)u(this,c.splice(0,16));return this},finalize:function(){var a,b=this.A,c=this.F,b=sjcl2.bitArray.concat(b,[sjcl2.bitArray.partial(1,1)]);for(a=b.length+2;a&15;a++)b.push(0);b.push(Math.floor(this.l/4294967296));for(b.push(this.l|0);b.length;)u(this,b.splice(0,16));this.reset();return c},Y:[],b:[],O:function(){function a(a2){return 4294967296*(a2-Math.floor(a2))|0}for(var b=0,c=2,d,e;64>b;c++){e=true;for(d=2;d*d<=c;d++)if(0===c%d){e=false;break}e&&(8>b&&(this.Y[b]=a(Math.pow(c,.5))),this.b[b]=a(Math.pow(c,1/3)),b++)}}};function u(a,b){var c,d,e,f=a.F,g=a.b,h=f[0],k=f[1],l=f[2],n=f[3],m=f[4],p=f[5],r=f[6],q=f[7];for(c=0;64>c;c++)16>c?d=b[c]:(d=b[c+1&15],e=b[c+14&15],d=b[c&15]=(d>>>7^d>>>18^d>>>3^d<<25^d<<14)+(e>>>17^e>>>19^e>>>10^e<<15^e<<13)+b[c&15]+b[c+9&15]|0),d=d+q+(m>>>6^m>>>11^m>>>25^m<<26^m<<21^m<<7)+(r^m&(p^r))+g[c],q=r,r=p,p=m,m=n+d|0,n=l,l=k,k=h,h=d+(k&l^n&(k^l))+(k>>>2^k>>>13^k>>>22^k<<30^k<<19^k<<10)|0;f[0]=f[0]+h|0;f[1]=f[1]+k|0;f[2]=f[2]+l|0;f[3]=f[3]+n|0;f[4]=f[4]+m|0;f[5]=f[5]+p|0;f[6]=f[6]+r|0;f[7]=f[7]+q|0}sjcl2.mode.ccm={name:"ccm",G:[],listenProgress:function(a){sjcl2.mode.ccm.G.push(a)},unListenProgress:function(a){a=sjcl2.mode.ccm.G.indexOf(a);-1<a&&sjcl2.mode.ccm.G.splice(a,1)},fa:function(a){var b=sjcl2.mode.ccm.G.slice(),c;for(c=0;c<b.length;c+=1)b[c](a)},encrypt:function(a,b,c,d,e){var f,g=b.slice(0),h=sjcl2.bitArray,k=h.bitLength(c)/8,l=h.bitLength(g)/8;e=e||64;d=d||[];if(7>k)throw new sjcl2.exception.invalid("ccm: iv must be at least 7 bytes");for(f=2;4>f&&l>>>8*f;f++);f<15-k&&(f=15-k);c=h.clamp(c,8*(15-f));b=sjcl2.mode.ccm.V(a,b,c,d,e,f);g=sjcl2.mode.ccm.C(a,g,c,b,e,f);return h.concat(g.data,g.tag)},decrypt:function(a,b,c,d,e){e=e||64;d=d||[];var f=sjcl2.bitArray,g=f.bitLength(c)/8,h=f.bitLength(b),k=f.clamp(b,h-e),l=f.bitSlice(b,h-e),h=(h-e)/8;if(7>g)throw new sjcl2.exception.invalid("ccm: iv must be at least 7 bytes");for(b=2;4>b&&h>>>8*b;b++);b<15-g&&(b=15-g);c=f.clamp(c,8*(15-b));k=sjcl2.mode.ccm.C(a,k,c,l,e,b);a=sjcl2.mode.ccm.V(a,k.data,c,d,e,b);if(!f.equal(k.tag,a))throw new sjcl2.exception.corrupt("ccm: tag doesn\'t match");return k.data},na:function(a,b,c,d,e,f){var g=[],h=sjcl2.bitArray,k=h.i;d=[h.partial(8,(b.length?64:0)|d-2<<2|f-1)];d=h.concat(d,c);d[3]|=e;d=a.encrypt(d);if(b.length)for(c=h.bitLength(b)/8,65279>=c?g=[h.partial(16,c)]:4294967295>=c&&(g=h.concat([h.partial(16,65534)],[c])),g=h.concat(g,b),b=0;b<g.length;b+=4)d=a.encrypt(k(d,g.slice(b,b+4).concat([0,0,0])));return d},V:function(a,b,c,d,e,f){var g=sjcl2.bitArray,h=g.i;e/=8;if(e%2||4>e||16<e)throw new sjcl2.exception.invalid("ccm: invalid tag length");if(4294967295<d.length||4294967295<b.length)throw new sjcl2.exception.bug("ccm: can\'t deal with 4GiB or more data");c=sjcl2.mode.ccm.na(a,d,c,e,g.bitLength(b)/8,f);for(d=0;d<b.length;d+=4)c=a.encrypt(h(c,b.slice(d,d+4).concat([0,0,0])));return g.clamp(c,8*e)},C:function(a,b,c,d,e,f){var g,h=sjcl2.bitArray;g=h.i;var k=b.length,l=h.bitLength(b),n=k/50,m=n;c=h.concat([h.partial(8,f-1)],c).concat([0,0,0]).slice(0,4);d=h.bitSlice(g(d,a.encrypt(c)),0,e);if(!k)return{tag:d,data:[]};for(g=0;g<k;g+=4)g>n&&(sjcl2.mode.ccm.fa(g/k),n+=m),c[3]++,e=a.encrypt(c),b[g]^=e[0],b[g+1]^=e[1],b[g+2]^=e[2],b[g+3]^=e[3];return{tag:d,data:h.clamp(b,l)}}};sjcl2.mode.ocb2={name:"ocb2",encrypt:function(a,b,c,d,e,f){if(128!==sjcl2.bitArray.bitLength(c))throw new sjcl2.exception.invalid("ocb iv must be 128 bits");var g,h=sjcl2.mode.ocb2.S,k=sjcl2.bitArray,l=k.i,n=[0,0,0,0];c=h(a.encrypt(c));var m,p=[];d=d||[];e=e||64;for(g=0;g+4<b.length;g+=4)m=b.slice(g,g+4),n=l(n,m),p=p.concat(l(c,a.encrypt(l(c,m)))),c=h(c);m=b.slice(g);b=k.bitLength(m);g=a.encrypt(l(c,[0,0,0,b]));m=k.clamp(l(m.concat([0,0,0]),g),b);n=l(n,l(m.concat([0,0,0]),g));n=a.encrypt(l(n,l(c,h(c))));d.length&&(n=l(n,f?d:sjcl2.mode.ocb2.pmac(a,d)));return p.concat(k.concat(m,k.clamp(n,e)))},decrypt:function(a,b,c,d,e,f){if(128!==sjcl2.bitArray.bitLength(c))throw new sjcl2.exception.invalid("ocb iv must be 128 bits");e=e||64;var g=sjcl2.mode.ocb2.S,h=sjcl2.bitArray,k=h.i,l=[0,0,0,0],n=g(a.encrypt(c)),m,p,r=sjcl2.bitArray.bitLength(b)-e,q=[];d=d||[];for(c=0;c+4<r/32;c+=4)m=k(n,a.decrypt(k(n,b.slice(c,c+4)))),l=k(l,m),q=q.concat(m),n=g(n);p=r-32*c;m=a.encrypt(k(n,[0,0,0,p]));m=k(m,h.clamp(b.slice(c),p).concat([0,0,0]));l=k(l,m);l=a.encrypt(k(l,k(n,g(n))));d.length&&(l=k(l,f?d:sjcl2.mode.ocb2.pmac(a,d)));if(!h.equal(h.clamp(l,e),h.bitSlice(b,r)))throw new sjcl2.exception.corrupt("ocb: tag doesn\'t match");return q.concat(h.clamp(m,p))},pmac:function(a,b){var c,d=sjcl2.mode.ocb2.S,e=sjcl2.bitArray,f=e.i,g=[0,0,0,0],h=a.encrypt([0,0,0,0]),h=f(h,d(d(h)));for(c=0;c+4<b.length;c+=4)h=d(h),g=f(g,a.encrypt(f(h,b.slice(c,c+4))));c=b.slice(c);128>e.bitLength(c)&&(h=f(h,d(h)),c=e.concat(c,[-2147483648,0,0,0]));g=f(g,c);return a.encrypt(f(d(f(h,d(h))),g))},S:function(a){return[a[0]<<1^a[1]>>>31,a[1]<<1^a[2]>>>31,a[2]<<1^a[3]>>>31,a[3]<<1^135*(a[0]>>>31)]}};sjcl2.mode.gcm={name:"gcm",encrypt:function(a,b,c,d,e){var f=b.slice(0);b=sjcl2.bitArray;d=d||[];a=sjcl2.mode.gcm.C(true,a,f,d,c,e||128);return b.concat(a.data,a.tag)},decrypt:function(a,b,c,d,e){var f=b.slice(0),g=sjcl2.bitArray,h=g.bitLength(f);e=e||128;d=d||[];e<=h?(b=g.bitSlice(f,h-e),f=g.bitSlice(f,0,h-e)):(b=f,f=[]);a=sjcl2.mode.gcm.C(false,a,f,d,c,e);if(!g.equal(a.tag,b))throw new sjcl2.exception.corrupt("gcm: tag doesn\'t match");return a.data},ka:function(a,b){var c,d,e,f,g,h=sjcl2.bitArray.i;e=[0,0,0,0];f=b.slice(0);for(c=0;128>c;c++){(d=0!==(a[Math.floor(c/32)]&1<<31-c%32))&&(e=h(e,f));g=0!==(f[3]&1);for(d=3;0<d;d--)f[d]=f[d]>>>1|(f[d-1]&1)<<31;f[0]>>>=1;g&&(f[0]^=-520093696)}return e},j:function(a,b,c){var d,e=c.length;b=b.slice(0);for(d=0;d<e;d+=4)b[0]^=4294967295&c[d],b[1]^=4294967295&c[d+1],b[2]^=4294967295&c[d+2],b[3]^=4294967295&c[d+3],b=sjcl2.mode.gcm.ka(b,a);return b},C:function(a,b,c,d,e,f){var g,h,k,l,n,m,p,r,q=sjcl2.bitArray;m=c.length;p=q.bitLength(c);r=q.bitLength(d);h=q.bitLength(e);g=b.encrypt([0,0,0,0]);96===h?(e=e.slice(0),e=q.concat(e,[1])):(e=sjcl2.mode.gcm.j(g,[0,0,0,0],e),e=sjcl2.mode.gcm.j(g,e,[0,0,Math.floor(h/4294967296),h&4294967295]));h=sjcl2.mode.gcm.j(g,[0,0,0,0],d);n=e.slice(0);d=h.slice(0);a||(d=sjcl2.mode.gcm.j(g,h,c));for(l=0;l<m;l+=4)n[3]++,k=b.encrypt(n),c[l]^=k[0],c[l+1]^=k[1],c[l+2]^=k[2],c[l+3]^=k[3];c=q.clamp(c,p);a&&(d=sjcl2.mode.gcm.j(g,h,c));a=[Math.floor(r/4294967296),r&4294967295,Math.floor(p/4294967296),p&4294967295];d=sjcl2.mode.gcm.j(g,d,a);k=b.encrypt(e);d[0]^=k[0];d[1]^=k[1];d[2]^=k[2];d[3]^=k[3];return{tag:q.bitSlice(d,0,f),data:c}}};sjcl2.misc.hmac=function(a,b){this.W=b=b||sjcl2.hash.sha256;var c=[[],[]],d,e=b.prototype.blockSize/32;this.w=[new b,new b];a.length>e&&(a=b.hash(a));for(d=0;d<e;d++)c[0][d]=a[d]^909522486,c[1][d]=a[d]^1549556828;this.w[0].update(c[0]);this.w[1].update(c[1]);this.R=new b(this.w[0])};sjcl2.misc.hmac.prototype.encrypt=sjcl2.misc.hmac.prototype.mac=function(a){if(this.aa)throw new sjcl2.exception.invalid("encrypt on already updated hmac called!");this.update(a);return this.digest(a)};sjcl2.misc.hmac.prototype.reset=function(){this.R=new this.W(this.w[0]);this.aa=false};sjcl2.misc.hmac.prototype.update=function(a){this.aa=true;this.R.update(a)};sjcl2.misc.hmac.prototype.digest=function(){var a=this.R.finalize(),a=new this.W(this.w[1]).update(a).finalize();this.reset();return a};sjcl2.misc.pbkdf2=function(a,b,c,d,e){c=c||1e4;if(0>d||0>c)throw new sjcl2.exception.invalid("invalid params to pbkdf2");"string"===typeof a&&(a=sjcl2.codec.utf8String.toBits(a));"string"===typeof b&&(b=sjcl2.codec.utf8String.toBits(b));e=e||sjcl2.misc.hmac;a=new e(a);var f,g,h,k,l=[],n=sjcl2.bitArray;for(k=1;32*l.length<(d||1);k++){e=f=a.encrypt(n.concat(b,[k]));for(g=1;g<c;g++)for(f=a.encrypt(f),h=0;h<f.length;h++)e[h]^=f[h];l=l.concat(e)}d&&(l=n.clamp(l,d));return l};sjcl2.prng=function(a){this.c=[new sjcl2.hash.sha256];this.m=[0];this.P=0;this.H={};this.N=0;this.U={};this.Z=this.f=this.o=this.ha=0;this.b=[0,0,0,0,0,0,0,0];this.h=[0,0,0,0];this.L=void 0;this.M=a;this.D=false;this.K={progress:{},seeded:{}};this.u=this.ga=0;this.I=1;this.J=2;this.ca=65536;this.T=[0,48,64,96,128,192,256,384,512,768,1024];this.da=3e4;this.ba=80};sjcl2.prng.prototype={randomWords:function(a,b){var c=[],d;d=this.isReady(b);var e;if(d===this.u)throw new sjcl2.exception.notReady("generator isn\'t seeded");if(d&this.J){d=!(d&this.I);e=[];var f=0,g;this.Z=e[0]=new Date().valueOf()+this.da;for(g=0;16>g;g++)e.push(4294967296*Math.random()|0);for(g=0;g<this.c.length&&(e=e.concat(this.c[g].finalize()),f+=this.m[g],this.m[g]=0,d||!(this.P&1<<g));g++);this.P>=1<<this.c.length&&(this.c.push(new sjcl2.hash.sha256),this.m.push(0));this.f-=f;f>this.o&&(this.o=f);this.P++;this.b=sjcl2.hash.sha256.hash(this.b.concat(e));this.L=new sjcl2.cipher.aes(this.b);for(d=0;4>d&&(this.h[d]=this.h[d]+1|0,!this.h[d]);d++);}for(d=0;d<a;d+=4)0===(d+1)%this.ca&&y(this),e=z(this),c.push(e[0],e[1],e[2],e[3]);y(this);return c.slice(0,a)},setDefaultParanoia:function(a,b){if(0===a&&"Setting paranoia=0 will ruin your security; use it only for testing"!==b)throw new sjcl2.exception.invalid("Setting paranoia=0 will ruin your security; use it only for testing");this.M=a},addEntropy:function(a,b,c){c=c||"user";var d,e,f=new Date().valueOf(),g=this.H[c],h=this.isReady(),k=0;d=this.U[c];void 0===d&&(d=this.U[c]=this.ha++);void 0===g&&(g=this.H[c]=0);this.H[c]=(this.H[c]+1)%this.c.length;switch(typeof a){case"number":void 0===b&&(b=1);this.c[g].update([d,this.N++,1,b,f,1,a|0]);break;case"object":c=Object.prototype.toString.call(a);if("[object Uint32Array]"===c){e=[];for(c=0;c<a.length;c++)e.push(a[c]);a=e}else for("[object Array]"!==c&&(k=1),c=0;c<a.length&&!k;c++)"number"!==typeof a[c]&&(k=1);if(!k){if(void 0===b)for(c=b=0;c<a.length;c++)for(e=a[c];0<e;)b++,e=e>>>1;this.c[g].update([d,this.N++,2,b,f,a.length].concat(a))}break;case"string":void 0===b&&(b=a.length);this.c[g].update([d,this.N++,3,b,f,a.length]);this.c[g].update(a);break;default:k=1}if(k)throw new sjcl2.exception.bug("random: addEntropy only supports number, array of numbers or string");this.m[g]+=b;this.f+=b;h===this.u&&(this.isReady()!==this.u&&A("seeded",Math.max(this.o,this.f)),A("progress",this.getProgress()))},isReady:function(a){a=this.T[void 0!==a?a:this.M];return this.o&&this.o>=a?this.m[0]>this.ba&&new Date().valueOf()>this.Z?this.J|this.I:this.I:this.f>=a?this.J|this.u:this.u},getProgress:function(a){a=this.T[a?a:this.M];return this.o>=a?1:this.f>a?1:this.f/a},startCollectors:function(){if(!this.D){this.a={loadTimeCollector:B(this,this.ma),mouseCollector:B(this,this.oa),keyboardCollector:B(this,this.la),accelerometerCollector:B(this,this.ea),touchCollector:B(this,this.qa)};if(window.addEventListener)window.addEventListener("load",this.a.loadTimeCollector,false),window.addEventListener("mousemove",this.a.mouseCollector,false),window.addEventListener("keypress",this.a.keyboardCollector,false),window.addEventListener("devicemotion",this.a.accelerometerCollector,false),window.addEventListener("touchmove",this.a.touchCollector,false);else if(document.attachEvent)document.attachEvent("onload",this.a.loadTimeCollector),document.attachEvent("onmousemove",this.a.mouseCollector),document.attachEvent("keypress",this.a.keyboardCollector);else throw new sjcl2.exception.bug("can\'t attach event");this.D=true}},stopCollectors:function(){this.D&&(window.removeEventListener?(window.removeEventListener("load",this.a.loadTimeCollector,false),window.removeEventListener("mousemove",this.a.mouseCollector,false),window.removeEventListener("keypress",this.a.keyboardCollector,false),window.removeEventListener("devicemotion",this.a.accelerometerCollector,false),window.removeEventListener("touchmove",this.a.touchCollector,false)):document.detachEvent&&(document.detachEvent("onload",this.a.loadTimeCollector),document.detachEvent("onmousemove",this.a.mouseCollector),document.detachEvent("keypress",this.a.keyboardCollector)),this.D=false)},addEventListener:function(a,b){this.K[a][this.ga++]=b},removeEventListener:function(a,b){var c,d,e=this.K[a],f=[];for(d in e)e.hasOwnProperty(d)&&e[d]===b&&f.push(d);for(c=0;c<f.length;c++)d=f[c],delete e[d]},la:function(){C(this,1)},oa:function(a){var b,c;try{b=a.x||a.clientX||a.offsetX||0,c=a.y||a.clientY||a.offsetY||0}catch(d){c=b=0}0!=b&&0!=c&&this.addEntropy([b,c],2,"mouse");C(this,0)},qa:function(a){a=a.touches[0]||a.changedTouches[0];this.addEntropy([a.pageX||a.clientX,a.pageY||a.clientY],1,"touch");C(this,0)},ma:function(){C(this,2)},ea:function(a){a=a.accelerationIncludingGravity.x||a.accelerationIncludingGravity.y||a.accelerationIncludingGravity.z;if(window.orientation){var b=window.orientation;"number"===typeof b&&this.addEntropy(b,1,"accelerometer")}a&&this.addEntropy(a,2,"accelerometer");C(this,0)}};function A(a,b){var c,d=sjcl2.random.K[a],e=[];for(c in d)d.hasOwnProperty(c)&&e.push(d[c]);for(c=0;c<e.length;c++)e[c](b)}function C(a,b){"undefined"!==typeof window&&window.performance&&"function"===typeof window.performance.now?a.addEntropy(window.performance.now(),b,"loadtime"):a.addEntropy(new Date().valueOf(),b,"loadtime")}function y(a){a.b=z(a).concat(z(a));a.L=new sjcl2.cipher.aes(a.b)}function z(a){for(var b=0;4>b&&(a.h[b]=a.h[b]+1|0,!a.h[b]);b++);return a.L.encrypt(a.h)}function B(a,b){return function(){b.apply(a,arguments)}}sjcl2.random=new sjcl2.prng(6);a:try{if(G="undefined"!==typeof module&&module.exports){try{H=__require2("crypto")}catch(a){H=null}G=E=H}if(G&&E.randomBytes)D=E.randomBytes(128),D=new Uint32Array(new Uint8Array(D).buffer),sjcl2.random.addEntropy(D,1024,"crypto[\'randomBytes\']");else if("undefined"!==typeof window&&"undefined"!==typeof Uint32Array){F=new Uint32Array(32);if(window.crypto&&window.crypto.getRandomValues)window.crypto.getRandomValues(F);else if(window.msCrypto&&window.msCrypto.getRandomValues)window.msCrypto.getRandomValues(F);else break a;sjcl2.random.addEntropy(F,1024,"crypto[\'getRandomValues\']")}}catch(a){"undefined"!==typeof window&&window.console&&(console.log("There was an error collecting entropy from the browser:"),console.log(a))}var D;var E;var F;var G;var H;sjcl2.json={defaults:{v:1,iter:1e4,ks:128,ts:64,mode:"ccm",adata:"",cipher:"aes"},ja:function(a,b,c,d){c=c||{};d=d||{};var e=sjcl2.json,f=e.g({iv:sjcl2.random.randomWords(4,0)},e.defaults),g;e.g(f,c);c=f.adata;"string"===typeof f.salt&&(f.salt=sjcl2.codec.base64.toBits(f.salt));"string"===typeof f.iv&&(f.iv=sjcl2.codec.base64.toBits(f.iv));if(!sjcl2.mode[f.mode]||!sjcl2.cipher[f.cipher]||"string"===typeof a&&100>=f.iter||64!==f.ts&&96!==f.ts&&128!==f.ts||128!==f.ks&&192!==f.ks&&256!==f.ks||2>f.iv.length||4<f.iv.length)throw new sjcl2.exception.invalid("json encrypt: invalid parameters");"string"===typeof a?(g=sjcl2.misc.cachedPbkdf2(a,f),a=g.key.slice(0,f.ks/32),f.salt=g.salt):sjcl2.ecc&&a instanceof sjcl2.ecc.elGamal.publicKey&&(g=a.kem(),f.kemtag=g.tag,a=g.key.slice(0,f.ks/32));"string"===typeof b&&(b=sjcl2.codec.utf8String.toBits(b));"string"===typeof c&&(f.adata=c=sjcl2.codec.utf8String.toBits(c));g=new sjcl2.cipher[f.cipher](a);e.g(d,f);d.key=a;f.ct="ccm"===f.mode&&sjcl2.arrayBuffer&&sjcl2.arrayBuffer.ccm&&b instanceof ArrayBuffer?sjcl2.arrayBuffer.ccm.encrypt(g,b,f.iv,c,f.ts):sjcl2.mode[f.mode].encrypt(g,b,f.iv,c,f.ts);return f},encrypt:function(a,b,c,d){var e=sjcl2.json,f=e.ja.apply(e,arguments);return e.encode(f)},ia:function(a,b,c,d){c=c||{};d=d||{};var e=sjcl2.json;b=e.g(e.g(e.g({},e.defaults),b),c,true);var f,g;f=b.adata;"string"===typeof b.salt&&(b.salt=sjcl2.codec.base64.toBits(b.salt));"string"===typeof b.iv&&(b.iv=sjcl2.codec.base64.toBits(b.iv));if(!sjcl2.mode[b.mode]||!sjcl2.cipher[b.cipher]||"string"===typeof a&&100>=b.iter||64!==b.ts&&96!==b.ts&&128!==b.ts||128!==b.ks&&192!==b.ks&&256!==b.ks||!b.iv||2>b.iv.length||4<b.iv.length)throw new sjcl2.exception.invalid("json decrypt: invalid parameters");"string"===typeof a?(g=sjcl2.misc.cachedPbkdf2(a,b),a=g.key.slice(0,b.ks/32),b.salt=g.salt):sjcl2.ecc&&a instanceof sjcl2.ecc.elGamal.secretKey&&(a=a.unkem(sjcl2.codec.base64.toBits(b.kemtag)).slice(0,b.ks/32));"string"===typeof f&&(f=sjcl2.codec.utf8String.toBits(f));g=new sjcl2.cipher[b.cipher](a);f="ccm"===b.mode&&sjcl2.arrayBuffer&&sjcl2.arrayBuffer.ccm&&b.ct instanceof ArrayBuffer?sjcl2.arrayBuffer.ccm.decrypt(g,b.ct,b.iv,b.tag,f,b.ts):sjcl2.mode[b.mode].decrypt(g,b.ct,b.iv,f,b.ts);e.g(d,b);d.key=a;return 1===c.raw?f:sjcl2.codec.utf8String.fromBits(f)},decrypt:function(a,b,c,d){var e=sjcl2.json;return e.ia(a,e.decode(b),c,d)},encode:function(a){var b,c="{",d="";for(b in a)if(a.hasOwnProperty(b)){if(!b.match(/^[a-z0-9]+$/i))throw new sjcl2.exception.invalid("json encode: invalid property name");c+=d+\'"\'+b+\'":\';d=",";switch(typeof a[b]){case"number":case"boolean":c+=a[b];break;case"string":c+=\'"\'+escape(a[b])+\'"\';break;case"object":c+=\'"\'+sjcl2.codec.base64.fromBits(a[b],0)+\'"\';break;default:throw new sjcl2.exception.bug("json encode: unsupported type")}}return c+"}"},decode:function(a){a=a.replace(/\\s/g,"");if(!a.match(/^\\{.*\\}$/))throw new sjcl2.exception.invalid("json decode: this isn\'t json!");a=a.replace(/^\\{|\\}$/g,"").split(/,/);var b={},c,d;for(c=0;c<a.length;c++){if(!(d=a[c].match(/^\\s*(?:(["\']?)([a-z][a-z0-9]*)\\1)\\s*:\\s*(?:(-?\\d+)|"([a-z0-9+\\/%*_.@=\\-]*)"|(true|false))$/i)))throw new sjcl2.exception.invalid("json decode: this isn\'t json!");null!=d[3]?b[d[2]]=parseInt(d[3],10):null!=d[4]?b[d[2]]=d[2].match(/^(ct|adata|salt|iv)$/)?sjcl2.codec.base64.toBits(d[4]):unescape(d[4]):null!=d[5]&&(b[d[2]]="true"===d[5])}return b},g:function(a,b,c){void 0===a&&(a={});if(void 0===b)return a;for(var d in b)if(b.hasOwnProperty(d)){if(c&&void 0!==a[d]&&a[d]!==b[d])throw new sjcl2.exception.invalid("required parameter overridden");a[d]=b[d]}return a},sa:function(a,b){var c={},d;for(d in a)a.hasOwnProperty(d)&&a[d]!==b[d]&&(c[d]=a[d]);return c},ra:function(a,b){var c={},d;for(d=0;d<b.length;d++)void 0!==a[b[d]]&&(c[b[d]]=a[b[d]]);return c}};sjcl2.encrypt=sjcl2.json.encrypt;sjcl2.decrypt=sjcl2.json.decrypt;sjcl2.misc.pa={};sjcl2.misc.cachedPbkdf2=function(a,b){var c=sjcl2.misc.pa,d;b=b||{};d=b.iter||1e3;c=c[a]=c[a]||{};d=c[d]=c[d]||{firstSalt:b.salt&&b.salt.length?b.salt.slice(0):sjcl2.random.randomWords(2,0)};c=void 0===b.salt?d.firstSalt:b.salt;d[c]=d[c]||sjcl2.misc.pbkdf2(a,c,b.iter);return{key:d[c].slice(0),salt:c.slice(0)}};"undefined"!==typeof module&&module.exports&&(module.exports=sjcl2);"function"===typeof define&&define([],function(){return sjcl2})}});var require_browser=__commonJS({"node_modules/web-worker/cjs/browser.js"(exports,module){module.exports=Worker}});function parseFunctionFromText(method=""){let getFunctionBody=methodString=>{return methodString.replace(/^\\W*(function[^{]+\\{([\\s\\S]*)\\}|[^=]+=>[^{]*\\{([\\s\\S]*)\\}|[^=]+=>(.+))/i,"$2$3$4")};let getFunctionHead=methodString=>{let startindex=methodString.indexOf("=>")+1;if(startindex<=0){startindex=methodString.indexOf("){")}if(startindex<=0){startindex=methodString.indexOf(") {")}return methodString.slice(0,methodString.indexOf("{",startindex)+1)};let newFuncHead=getFunctionHead(method);let newFuncBody=getFunctionBody(method);let newFunc;if(newFuncHead.includes("function")){let varName=newFuncHead.split("(")[1].split(")")[0];newFunc=new Function(varName,newFuncBody)}else{if(newFuncHead.substring(0,6)===newFuncBody.substring(0,6)){let varName=newFuncHead.split("(")[1].split(")")[0];newFunc=new Function(varName,newFuncBody.substring(newFuncBody.indexOf("{")+1,newFuncBody.length-1))}else{try{newFunc=(0,eval)(newFuncHead+newFuncBody+"}")}catch{}}}return newFunc}var EventHandler=class{constructor(){this.pushToState={};this.data={};this.triggers={};this.setState=updateObj=>{Object.assign(this.data,updateObj);for(const prop of Object.getOwnPropertyNames(updateObj)){if(this.triggers[prop])this.triggers[prop].forEach(obj=>obj.onchange(this.data[prop]))}return this.data};this.subscribeTrigger=(key,onchange)=>{if(key){if(!this.triggers[key]){this.triggers[key]=[]}let l=this.triggers[key].length;this.triggers[key].push({idx:l,onchange});return this.triggers[key].length-1}else return void 0};this.unsubscribeTrigger=(key,sub)=>{let triggers=this.triggers[key];if(triggers){if(!sub)delete this.triggers[key];else{let idx=void 0;let obj=triggers.find((o,i)=>{if(o.idx===sub){idx=i;return true}});if(obj)triggers.splice(idx,1);return true}}};this.subscribeTriggerOnce=(key,onchange)=>{let sub;let changed=value=>{onchange(value);this.unsubscribeTrigger(key,sub)};sub=this.subscribeTrigger(key,changed)}}};var state=new EventHandler;function addLocalState(props){if(!this._state)this._state={};for(let k in props){if(k==="_state"||k==="graph")continue;else{this._state[k]=props[k];if(k in this)this[k]=props[k];else Object.defineProperty(this,k,{get:()=>{this._state[k]},set:v=>{this._state[k]=v;if(this.state.triggers[this._unique])this.setState({[this._unique]:this._state})},enumerable:true,configurable:true})}}}var GraphNode=class{constructor(properties={},parent,graph){this.nodes=new Map;this._initial={};this._unique=`${Math.random()}`;this.state=state;this.isLooping=false;this.isAnimating=false;this.looper=void 0;this.animation=void 0;this.forward=true;this.backward=false;this.reactive=false;this.runSync=false;this.firstRun=true;this.DEBUGNODE=false;this.addLocalState=addLocalState;this.operator=(...args)=>{return args};this.runOp=(...args)=>{if(this.DEBUGNODE)console.time(this.tag);let result=this.operator(...args);if(result instanceof Promise){result.then(res=>{if(res!==void 0)this.setState({[this.tag]:res});if(this.DEBUGNODE){console.timeEnd(this.tag);if(result!==void 0)console.log(`${this.tag} result:`,result)};return res})}else{if(result!==void 0)this.setState({[this.tag]:result});if(this.DEBUGNODE){console.timeEnd(this.tag);if(result!==void 0)console.log(`${this.tag} result:`,result)};}return result};this.setOperator=operator=>{if(typeof operator!=="function")return operator;this.operator=operator.bind(this);return operator};this.runAsync=(...args)=>{return new Promise((res,rej)=>{res(this.run(...args))})};this.transformArgs=(args=[])=>args;this.isRunSync=()=>{return!(this.children&&this.forward||this.parent&&this.backward||this.repeat||this.delay||this.frame||this.recursive||this.branch)};this.run=(...args)=>{if(typeof this.transformArgs==="function")args=this.transformArgs(args,this);if(this.firstRun){this.firstRun=false;this.runSync=this.isRunSync();if(this.animate&&!this.isAnimating){this.runAnimation(this.animation,args)}if(this.loop&&typeof this.loop==="number"&&!this.isLooping){this.runLoop(this.looper,args)}if(this.loop||this.animate)return}if(this.runSync){let res=this.runOp(...args);return res}return new Promise(async resolve=>{if(this){let run=(node,tick=0,...input)=>{return new Promise(async r=>{tick++;let res=await node.runOp(...input);if(node.repeat){while(tick<node.repeat){if(node.delay){setTimeout(async()=>{r(await run(node,tick,...input))},node.delay);break}else if(node.frame&&window?.requestAnimationFrame){requestAnimationFrame(async()=>{r(await run(node,tick,...input))});break}else res=await node.runOp(...input);tick++}if(tick===node.repeat){r(res);return}}else if(node.recursive){while(tick<node.recursive){if(node.delay){setTimeout(async()=>{r(await run(node,tick,...res))},node.delay);break}else if(node.frame&&window?.requestAnimationFrame){requestAnimationFrame(async()=>{r(await run(node,tick,...res))});break}else res=await node.runOp(...res);tick++}if(tick===node.recursive){r(res);return}}else{r(res);return}})};let runnode=async()=>{let res=await run(this,void 0,...args);if(res!==void 0){if(this.backward&&this.parent instanceof GraphNode){if(Array.isArray(res))await this.runParent(this,...res);else await this.runParent(this,res)}if(this.children&&this.forward){if(Array.isArray(res))await this.runChildren(this,...res);else await this.runChildren(this,res)}if(this.branch){this.runBranch(this,res)}}return res};if(this.delay){setTimeout(async()=>{resolve(await runnode())},this.delay)}else if(this.frame&&window?.requestAnimationFrame){requestAnimationFrame(async()=>{resolve(await runnode())})}else{resolve(await runnode())}}else resolve(void 0)})};this.runParent=async(n,...args)=>{if(n.backward&&n.parent){if(typeof n.parent==="string"){if(n.graph&&n.graph?.get(n.parent)){n.parent=n.graph;if(n.parent)this.nodes.set(n.parent.tag,n.parent)}else n.parent=this.nodes.get(n.parent)}if(n.parent instanceof GraphNode)await n.parent.run(...args)}};this.runChildren=async(n,...args)=>{if(typeof n.children==="object"){for(const key in n.children){if(typeof n.children[key]==="string"){if(n.graph&&n.graph?.get(n.children[key])){n.children[key]=n.graph.get(n.children[key]);if(!n.nodes.get(n.children[key].tag))n.nodes.set(n.children[key].tag,n.children[key])}if(!n.children[key]&&n.nodes.get(n.children[key]))n.children[key]=n.nodes.get(n.children[key])}else if(typeof n.children[key]==="undefined"||n.children[key]===true){if(n.graph&&n.graph?.get(key)){n.children[key]=n.graph.get(key);if(!n.nodes.get(n.children[key].tag))n.nodes.set(n.children[key].tag,n.children[key])}if(!n.children[key]&&n.nodes.get(key))n.children[key]=n.nodes.get(key)}if(n.children[key]?.runOp)await n.children[key].run(...args)}}};this.runBranch=async(n,output)=>{if(n.branch){let keys=Object.keys(n.branch);await Promise.all(keys.map(async k=>{if(typeof n.branch[k].if==="object")n.branch[k].if=stringifyFast(n.branch[k].if);let pass=false;if(typeof n.branch[k].if==="function"){pass=n.branch[k].if(output)}else{if(typeof output==="object"){if(stringifyFast(output)===n.branch[k].if)pass=true}else if(output===n.branch[k].if)pass=true}if(pass){if(n.branch[k].then.run){if(Array.isArray(output))await n.branch[k].then.run(...output);else await n.branch[k].then.run(...output)}else if(typeof n.branch[k].then==="function"){if(Array.isArray(output))await n.branch[k].then(...output);else await n.branch[k].then(output)}else if(typeof n.branch[k].then==="string"){if(n.graph)n.branch[k].then=n.graph.nodes.get(n.branch[k].then);else n.branch[k].then=n.nodes.get(n.branch[k].then);if(n.branch[k].then.run){if(Array.isArray(output))await n.branch[k].then.run(...output);else await n.branch[k].then.run(...output)}}}return pass}))}};this.runAnimation=(animation=this.animation,args=[])=>{this.animation=animation;if(!animation)this.animation=this.operator;if(this.animate&&!this.isAnimating&&"requestAnimationFrame"in window){this.isAnimating=true;let anim=async()=>{if(this.isAnimating){if(this.DEBUGNODE)console.time(this.tag);let result=this.animation.call(this,...args);if(result instanceof Promise){result=await result}if(this.DEBUGNODE){console.timeEnd(this.tag);if(result!==void 0)console.log(`${this.tag} result:`,result)};if(result!==void 0){if(this.tag)this.setState({[this.tag]:result});if(this.backward&&this.parent?.run){if(Array.isArray(result))await this.runParent(this,...result);else await this.runParent(this,result)}if(this.children&&this.forward){if(Array.isArray(result))await this.runChildren(this,...result);else await this.runChildren(this,result)}if(this.branch){this.runBranch(this,result)}this.setState({[this.tag]:result})}requestAnimationFrame(anim)}};requestAnimationFrame(anim)}};this.runLoop=(loop=this.looper,args=[],timeout=this.loop)=>{this.looper=loop;if(!loop)this.looper=this.operator;if(typeof timeout==="number"&&!this.isLooping){this.isLooping=true;let looping=async()=>{if(this.isLooping){if(this.DEBUGNODE)console.time(this.tag);let result=this.looper.call(this,...args);if(result instanceof Promise){result=await result}if(this.DEBUGNODE){console.timeEnd(this.tag);if(result!==void 0)console.log(`${this.tag} result:`,result)};if(result!==void 0){if(this.tag)this.setState({[this.tag]:result});if(this.backward&&this.parent?.run){if(Array.isArray(result))await this.runParent(this,...result);else await this.runParent(this,result)}if(this.children&&this.forward){if(Array.isArray(result))await this.runChildren(this,...result);else await this.runChildren(this,result)}if(this.branch){this.runBranch(this,result)}this.setState({[this.tag]:result})}setTimeout(async()=>{await looping()},timeout)}};looping()}};this.setParent=parent2=>{this.parent=parent2;if(this.backward)this.runSync=false};this.setChildren=children=>{this.children=children;if(this.forward)this.runSync=false};this.add=(n={})=>{if(typeof n==="function")n={operator:n};if(n?.node instanceof GraphNode)n=n.node;if(!(n instanceof GraphNode))n=new GraphNode(n.node??n,this,this.graph);this.nodes.set(n.tag,n);if(this.graph){this.graph.nodes.set(n.tag,n);this.graph.nNodes=this.graph.nodes.size}return n};this.remove=n=>{if(typeof n==="string")n=this.nodes.get(n);if(n?.tag){this.nodes.delete(n.tag);if(this.children[n.tag])delete this.children[n.tag];if(this.graph){this.graph.nodes.delete(n.tag);this.graph.nNodes=this.graph.nodes.size}this.nodes.forEach(n2=>{if(n2.nodes.get(n2.tag)){n2.nodes.delete(n2.tag);if(n2.children[n2.tag])delete n2.children[n2.tag];if(n2.parent?.tag===n2.tag)delete n2.parent}});if(n.ondelete)n.ondelete(n)}if(typeof this._state==="object"){this.state.unsubscribeTrigger(this._unique)}};this.append=(n,parentNode=this)=>{if(typeof n==="string")n=this.nodes.get(n);if(n?.nodes){parentNode.addChildren(n);if(n.forward)n.runSync=false}};this.subscribe=(callback,tag=this.tag)=>{if(typeof callback==="string"){if(this.graph)callback=this.graph.get(callback);else callback=this.nodes.get(callback)}if(typeof callback==="function"){return this.state.subscribeTrigger(tag,callback)}else if(callback)return this.state.subscribeTrigger(tag,res=>{callback.run(res)})};this.unsubscribe=(sub,tag=this.tag)=>{return this.state.unsubscribeTrigger(tag,sub)};this.subscribeState=callback=>{if(!this.reactive){return void 0}else{if(typeof callback==="string"){if(this.graph)callback=this.graph.get(callback);else callback=this.nodes.get(callback)}if(typeof callback==="function"){return this.state.subscribeTrigger(this._unique,callback)}else if(callback)return this.state.subscribeTrigger(this._unique,_state=>{callback.run(_state)})}};this.addChildren=children=>{if(!this.children)this.children={};if(typeof children==="object"){Object.assign(this.children,children)}this.convertChildrenToNodes();if(this.forward)this.runSync=false};this.callParent=(...args)=>{if(typeof this.parent==="string"){if(this.graph&&this.graph?.get(this.parent)){this.parent=this.graph;if(this.parent)this.nodes.set(this.parent.tag,this.parent)}else this.parent=this.nodes.get(this.parent)}if(typeof this.parent?.operator==="function")return this.parent.runOp(...args)};this.callChildren=(...args)=>{let result;if(typeof this.children==="object"){for(const key in this.children){if(this.children[key]?.runOp)this.children[key].runOp(...args)}}return result};this.getProps=(n=this,getInitial=true)=>{let baseprops={tag:n.tag,operator:n.operator,graph:n.graph,children:n.children,parent:n.parent,forward:n.forward,backward:n.bacward,loop:n.loop,animate:n.animate,frame:n.frame,delay:n.delay,recursive:n.recursive,repeat:n.repeat,branch:n.branch,oncreate:n.oncreate,reactive:n.reactive,DEBUGNODE:n.DEBUGNODE};if(!getInitial){let uniqueprops={};for(const key in this._initial){uniqueprops[key]=this[key]}return Object.assign(baseprops,uniqueprops)}else return{tag:n.tag,operator:n.operator,graph:n.graph,children:n.children,parent:n.parent,forward:n.forward,backward:n.bacward,loop:n.loop,animate:n.animate,frame:n.frame,delay:n.delay,recursive:n.recursive,repeat:n.repeat,branch:n.branch,oncreate:n.oncreate,reactive:n.reactive,DEBUGNODE:n.DEBUGNODE,...this._initial}};this.setProps=(props={})=>{let tmp=Object.assign({},props);if(tmp.children){this.addChildren(props.children);delete tmp.children}if(tmp.operator){this.setOperator(props.operator);delete tmp.operator}Object.assign(tmp,props);this.runSync=this.isRunSync()};this.removeTree=n=>{if(n){if(typeof n==="string")n=this.nodes.get(n)}if(n?.nodes){let checked={};const recursivelyRemove=node=>{if(typeof node.children==="object"&&!checked[node.tag]){checked[node.tag]=true;for(const key in node.children){if(node.children[key].stopNode)node.children[key].stopNode();if(node.children[key].tag){if(this.nodes.get(node.children[key].tag))this.nodes.delete(node.children[key].tag);this.nodes.forEach(n2=>{if(n2.nodes.get(node.children[key].tag))n2.nodes.delete(node.children[key].tag);if(n2.children?.[key]instanceof GraphNode)delete n2.children[key]});if(node.children[key].ondelete&&!this.graph)node.children[key].ondelete(node.children[key]);recursivelyRemove(node.children[key])}}}};if(n.stopNode)n.stopNode();if(n.tag){this.nodes.delete(n.tag);if(this.children?.[n.tag])delete this.children[n.tag];if(this.parent?.tag===n.tag)delete this.parent;if(this[n.tag]instanceof GraphNode)delete this[n.tag];this.nodes.forEach(n2=>{if(n2?.tag){if(n2.nodes.get(n2.tag))n2.nodes.delete(n2.tag);if(n2.children?.[n2.tag]instanceof GraphNode)delete n2.children[n2.tag]}});recursivelyRemove(n);if(this.graph)this.graph.removeTree(n,checked);else if(n.ondelete)n.ondelete(n)}}};this.checkNodesHaveChildMapped=(n,child,checked={})=>{let tag=n.tag;if(!tag)tag=n.name;if(!checked[tag]){checked[tag]=true;if(n.children){if(child.tag in n.children){if(n.children[child.tag]instanceof GraphNode){if(!n.nodes.get(child.tag))n.nodes.set(child.tag,child);n.children[child.tag]=child;if(!n.firstRun)n.firstRun=true}}}if(n.parent instanceof GraphNode){if(n.nodes.get(child.tag))n.parent.nodes.set(child.tag,child);if(n.parent.children){this.checkNodesHaveChildMapped(n.parent,child,checked)}else if(n.nodes){n.nodes.forEach(n2=>{if(!checked[n2.tag]){this.checkNodesHaveChildMapped(n2,child,checked)}})}}if(n.graph){if(n.parent&&n.parent.name!==n.graph.name){n.graph.nodes.forEach(n2=>{if(!checked[n2.tag]){this.checkNodesHaveChildMapped(n2,child,checked)}})}}}};this.convertChildrenToNodes=(n=this)=>{if(n?.children){for(const key in n.children){if(!(n.children[key]instanceof GraphNode)){if(typeof n.children[key]==="object"){if(!n.children[key].tag)n.children[key].tag=key;if(!n.nodes.get(n.children[key].tag)){n.children[key]=new GraphNode(n.children[key],n,n.graph);this.checkNodesHaveChildMapped(n,n.children[key])}}else{if(typeof n.children[key]==="undefined"||n.children[key]==true){n.children[key]=n.graph.get(key);if(!n.children[key])n.children[key]=n.nodes.get(key)}else if(typeof n.children[key]==="string"){let k=n.children[key];n.children[key]=n.graph.get(k);if(!n.children[key])n.children[key]=n.nodes.get(key)}if(n.children[key]instanceof GraphNode){n.nodes.set(n.children[key].tag,n.children[key]);this.checkNodesHaveChildMapped(n,n.children[key]);if(!(n.children[key].tag in n))n[n.children[key].tag]=n.children[key]}}}}}return n.children};this.stopLooping=(n=this)=>{n.isLooping=false};this.stopAnimating=(n=this)=>{n.isAnimating=false};this.stopNode=(n=this)=>{n.stopAnimating(n);n.stopLooping(n)};this.subscribeNode=n=>{if(typeof n==="string")n=this.nodes.get(n);if(n.tag)this.nodes.set(n.tag,n);if(n)return this.state.subscribeTrigger(this.tag,res=>{if(Array.isArray(res))n.run(...res);else n.run(res)})};this.print=(n=this,printChildren=true,nodesPrinted=[])=>{let dummyNode=new GraphNode;if(typeof n==="string")n=this.nodes.get(n);if(n instanceof GraphNode){nodesPrinted.push(n.tag);let jsonToPrint={tag:n.tag,operator:n.operator.toString()};if(n.parent)jsonToPrint.parent=n.parent.tag;if(typeof n.children==="object"){for(const key in n.children){if(typeof n.children[key]==="string")return n.children[key];if(nodesPrinted.includes(n.children[key].tag))return n.children[key].tag;else if(!printChildren){return n.children[key].tag}else return n.children[key].print(n.children[key],printChildren,nodesPrinted)}}for(const prop in n){if(prop==="parent"||prop==="children")continue;if(typeof dummyNode[prop]==="undefined"){if(typeof n[prop]==="function"){jsonToPrint[prop]=n[prop].toString()}else if(typeof n[prop]==="object"){jsonToPrint[prop]=JSON.stringifyWithCircularRefs(n[prop])}else{jsonToPrint[prop]=n[prop]}}}return JSON.stringify(jsonToPrint)}};this.reconstruct=json=>{let parsed=reconstructObject(json);if(parsed)return this.add(parsed)};this.setState=data=>{this.state.setState(data)};this.DEBUGNODES=(debugging=true)=>{this.DEBUGNODE=debugging;this.nodes.forEach(n=>{if(debugging)n.DEBUGNODE=true;else n.DEBUGNODE=false})};if(typeof properties==="function"){properties={operator:properties}}if(typeof properties==="object"){if(properties instanceof GraphNode&&properties._initial)Object.assign(properties,properties._initial);if(properties instanceof Graph){let source=properties;properties={source,operator:input=>{if(typeof input==="object"){let result={};for(const key in input){if(typeof source[key]==="function"){if(Array.isArray(input[key]))result[key]=source[key](...input[key]);else result[key]=source[key](input[key])}else{source[key]=input[key];result[key]=source[key]}}return result}return source}};if(source.operator)properties.operator=source.operator;if(source.children)properties.children=source.children;if(source.forward)properties.forward=source.forward;if(source.backward)properties.backward=source.backward;if(source.repeat)properties.repeat=source.repeat;if(source.recursive)properties.recursive=source.recursive;if(source.loop)properties.loop=source.loop;if(source.animate)properties.animate=source.animate;if(source.looper)properties.looper=source.looper;if(source.animation)properties.animation=source.animation;if(source.delay)properties.delay=source.delay;if(source.oncreate)properties.oncreate=source.oncreate;if(source.node){if(source.node._initial)Object.assign(properties,source.node._initial)}if(source._initial)Object.assign(properties,source._initial);if(source.tag)properties.tag=source.tag;this.nodes=source.nodes;source.node=this;if(graph){source.nodes.forEach(n=>{if(!graph.nodes.get(n.tag)){graph.nodes.set(n.tag,n);graph.nNodes++}})}}if(typeof parent==="string"){if(graph)parent=graph.nodes.get(parent);else parent=void 0}if(properties.tag&&(graph||parent)){let hasnode;if(graph?.nodes){hasnode=graph.nodes.get(properties.tag)}if(!hasnode&&parent?.nodes){hasnode=parent.nodes.get(properties.tag)}if(hasnode){if(this.reactive){this.addLocalState(hasnode)}if(!this.source)this.source=hasnode;let props=hasnode.getProps();delete props.graph;delete props.parent;for(let k in props){const desc=Object.getOwnPropertyDescriptor(properties,k);if(desc&&desc.get&&!desc.set)properties=Object.assign({},properties);else properties[k]=props[k]}}}if(properties?.operator){properties.operator=this.setOperator(properties.operator)}if(!properties.tag&&graph){properties.tag=`node${graph.nNodes}`}else if(!properties.tag){properties.tag=`node${Math.floor(Math.random()*1e10)}`}let keys=Object.getOwnPropertyNames(this);for(const key in properties){if(!keys.includes(key))this._initial[key]=properties[key]}if(properties.children)this._initial.children=Object.assign({},properties.children);Object.assign(this,properties);if(!this.tag){if(graph){this.tag=`node${graph.nNodes}`}else{this.tag=`node${Math.floor(Math.random()*1e10)}`}}if(graph){this.graph=graph;if(graph.nodes.get(this.tag)){this.tag=`${this.tag}${graph.nNodes+1}`}graph.nodes.set(this.tag,this);graph.nNodes++;this.state=graph.state}if(this.reactive){addLocalState(properties);if(typeof this.reactive==="function"){this.state.subscribeTrigger(this._unique,this.reactive)}}if(typeof parent==="object"){this.parent=parent;if(parent instanceof GraphNode||parent instanceof Graph)parent.nodes.set(this.tag,this)}if(typeof properties.tree==="object"){for(const key in properties.tree){if(typeof properties.tree[key]==="object"){if((!properties.tree[key]).tag){properties.tree[key].tag=key}}let node=new GraphNode(properties.tree[key],this,graph);this.nodes.set(node.tag,node)}}if(this.children)this.convertChildrenToNodes(this);if(this.parent instanceof GraphNode||this.parent instanceof Graph)this.checkNodesHaveChildMapped(this.parent,this);if(typeof this.oncreate==="function")this.oncreate(this);if(!this.firstRun)this.firstRun=true;if(this.animation&&!this.animate)this.animate=true}else return properties}};var Graph=class{constructor(tree,tag,props){this.nNodes=0;this.nodes=new Map;this.state=new EventHandler;this._unique=`${Math.random()}`;this.tree={};this.addLocalState=addLocalState;this.add=(n={})=>{if(n?.node instanceof GraphNode)n=n.node;let props2=n;if(!(n instanceof GraphNode))n=new GraphNode(props2?.node??props2,this,this);else{this.nNodes=this.nodes.size;if(n.tag){this.tree[n.tag]=props2;this.nodes.set(n.tag,n)}}return n};this.setTree=(tree2=this.tree)=>{if(!tree2)return;for(const node in tree2){const n=this.nodes.get(node);if(!n){if(typeof tree2[node]==="function"){this.add({tag:node,operator:tree2[node]})}else if(typeof tree2[node]==="object"&&!Array.isArray(tree2[node])){if(!tree2[node].tag)tree2[node].tag=node;let newNode=this.add(tree2[node]);if(tree2[node].aliases){tree2[node].aliases.forEach(a=>{this.nodes.set(a,newNode)})}}else{this.add({tag:node,operator:(...args)=>{return tree2[node]}})}}else{if(typeof tree2[node]==="function"){n.setOperator(tree2[node])}else if(typeof tree2[node]==="object"){if(tree2[node]instanceof GraphNode){this.add(tree2[node])}else if(tree2[node]instanceof Graph){let source=tree2[node];let properties={};if(source.operator)properties.operator=source.operator;if(source.children)properties.children=source.children;if(source.forward)properties.forward=source.forward;if(source.backward)properties.backward=source.backward;if(source.repeat)properties.repeat=source.repeat;if(source.recursive)properties.recursive=source.recursive;if(source.loop)properties.loop=source.loop;if(source.animate)properties.animate=source.animate;if(source.looper)properties.looper=source.looper;if(source.animation)properties.animation=source.animation;if(source.delay)properties.delay=source.delay;if(source.tag)properties.tag=source.tag;if(source.oncreate)properties.oncreate=source.oncreate;if(source.node?._initial)Object.assign(properties,source.node._initial);properties.nodes=source.nodes;properties.source=source;n.setProps(properties)}else{n.setProps(tree2[node])}}}}this.nodes.forEach(node=>{if(typeof node.children==="object"){for(const key in node.children){if(typeof node.children[key]==="string"){if(this.nodes.get(node.children[key])){node.children[key]=this.nodes.get(node.children[key])}}else if(node.children[key]===true||typeof node.children[key]==="undefined"){if(this.nodes.get(key)){node.children[key]=this.nodes.get(key)}}if(node.children[key]instanceof GraphNode){node.checkNodesHaveChildMapped(node,node.children[key])}}}if(typeof node.parent==="string"){if(this.nodes.get(node.parent)){node.parent=this.nodes.get(node.parent);node.nodes.set(node.parent.tag,node.parent)}}})};this.get=tag2=>{return this.nodes.get(tag2)};this.set=n=>{return this.nodes.set(n.tag,n)};this.run=(n,...args)=>{if(typeof n==="string")n=this.nodes.get(n);if(n?.run)return n.run(...args);else return void 0};this.runAsync=(n,...args)=>{if(typeof n==="string")n=this.nodes.get(n);if(n?.run)return new Promise((res,rej)=>{res(n.run(...args))});else return new Promise((res,rej)=>{res(void 0)})};this.removeTree=(n,checked)=>{if(n){if(typeof n==="string")n=this.nodes.get(n)}if(n?.nodes){let checked2={};const recursivelyRemove=node=>{if(typeof node.children==="object"&&!checked2[node.tag]){checked2[node.tag]=true;for(const key in node.children){if(node.children[key]?.stopNode)node.children[key].stopNode();if(node.children[key]?.tag){if(this.nodes.get(node.children[key].tag))this.nodes.delete(node.children[key].tag);this.nodes.forEach(n2=>{if(n2.nodes.get(node.children[key].tag))n2.nodes.delete(node.children[key].tag);if(n2.children?.[key]instanceof GraphNode)delete n2.children[key]});if(node.children[key].ondelete)node.children[key].ondelete(node.children[key]);recursivelyRemove(node.children[key])}}}};if(n.stopNode)n.stopNode();if(n.tag){this.nodes.delete(n.tag);if(this.parent?.tag===n.tag)delete this.parent;if(this[n.tag]instanceof GraphNode)delete this[n.tag];this.nodes.forEach(n2=>{if(n2?.tag){if(n2.nodes.get(n2.tag))n2.nodes.delete(n2.tag);if(n2.children?.[n2.tag]instanceof GraphNode)delete n2.children[n2.tag]}});recursivelyRemove(n);if(n.ondelete)n.ondelete(n)}}};this.remove=n=>{if(typeof n==="string")n=this.nodes.get(n);if(n?.nodes){if(n.stopNode)n.stopNode();if(n?.tag){if(this.nodes.get(n.tag)){this.nodes.delete(n.tag);this.nodes.forEach(n2=>{if(n2.nodes.get(n2.tag))n2.nodes.delete(n2.tag)})}}if(n.ondelete)n.ondelete(n)}return n};this.append=(n,parentNode)=>{parentNode.addChildren(n)};this.callParent=async(n,...args)=>{if(n?.parent){return await n.callParent(...args)}};this.callChildren=async(n,...args)=>{if(n?.children){return await n.callChildren(...args)}};this.subscribe=(n,callback)=>{if(!callback)return;if(n?.subscribe&&typeof callback==="function"){return n.subscribe(callback)}else if(callback instanceof GraphNode||typeof callback==="string")return this.subscribeNode(n,callback);else if(typeof n=="string"){return this.state.subscribeTrigger(n,callback)}};this.unsubscribe=(tag2,sub)=>{return this.state.unsubscribeTrigger(tag2,sub)};this.subscribeState=callback=>{if(!this.reactive){return void 0}else{if(typeof callback==="string"){if(this.graph)callback=this.graph.get(callback);else callback=this.nodes.get(callback)}if(typeof callback==="function"){return this.state.subscribeTrigger(this._unique,callback)}else if(callback)return this.state.subscribeTrigger(this._unique,_state=>{callback.run(_state)})}};this.subscribeNode=(inputNode,outputNode)=>{let tag2;if(inputNode?.tag)tag2=inputNode.tag;else if(typeof inputNode==="string")tag2=inputNode;if(typeof outputNode==="string")outputNode=this.nodes.get(outputNode);if(inputNode&&outputNode){let sub=this.state.subscribeTrigger(tag2,res=>{if(Array.isArray(res))outputNode.run(...res);else outputNode.run(res)});return sub}};this.stopNode=n=>{if(typeof n==="string"){n=this.nodes.get(n)}if(n?.stopNode){n.stopNode()}};this.print=(n,printChildren=true)=>{if(n?.print)return n.print(n,printChildren);else{let printed=`{`;this.nodes.forEach(n2=>{printed+=`\n"${n2.tag}:${n2.print(n2,printChildren)}"`});return printed}};this.reconstruct=json=>{let parsed=reconstructObject(json);if(parsed)return this.add(parsed)};this.create=(operator,parentNode,props2)=>{return createNode(operator,parentNode,props2,this)};this.setState=data=>{this.state.setState(data)};this.DEBUGNODES=(debugging=true)=>{this.nodes.forEach(n=>{if(debugging)n.DEBUGNODE=true;else n.DEBUGNODE=false})};this.tag=tag?tag:`graph${Math.floor(Math.random()*1e11)}`;if(props){console.log(props,props.constructor.name);if(props.reactive){this.addLocalState(props)}else Object.assign(this,props);this._initial=props}if(tree||Object.keys(this.tree).length>0)this.setTree(tree)}};function reconstructObject(json="{}"){try{let parsed=typeof json==="string"?JSON.parse(json):json;const parseObj=obj=>{for(const prop in obj){if(typeof obj[prop]==="string"){let funcParsed=parseFunctionFromText(obj[prop]);if(typeof funcParsed==="function"){obj[prop]=funcParsed}}else if(typeof obj[prop]==="object"){parseObj(obj[prop])}}return obj};return parseObj(parsed)}catch(err){console.error(err);return void 0}}var stringifyWithCircularRefs=function(){const refs=new Map;const parents=[];const path=["this"];function clear(){refs.clear();parents.length=0;path.length=1}function updateParents(key,value){var idx=parents.length-1;var prev=parents[idx];if(typeof prev==="object"){if(prev[key]===value||idx===0){path.push(key);parents.push(value.pushed)}else{while(idx-->=0){prev=parents[idx];if(typeof prev==="object"){if(prev[key]===value){idx+=2;parents.length=idx;path.length=idx;--idx;parents[idx]=value;path[idx]=key;break}}idx--}}}}function checkCircular(key,value){if(value!=null){if(typeof value==="object"){if(key){updateParents(key,value)}let other=refs.get(value);if(other){return"[Circular Reference]"+other}else{refs.set(value,path.join("."))}}}return value}return function stringifyWithCircularRefs2(obj,space){try{parents.push(obj);return JSON.stringify(obj,checkCircular,space)}finally{clear()}}}();if(JSON.stringifyWithCircularRefs===void 0){JSON.stringifyWithCircularRefs=stringifyWithCircularRefs}var stringifyFast=function(){const refs=new Map;const parents=[];const path=["this"];function clear(){refs.clear();parents.length=0;path.length=1}function updateParents(key,value){var idx=parents.length-1;if(parents[idx]){var prev=parents[idx];if(typeof prev==="object"){if(prev[key]===value||idx===0){path.push(key);parents.push(value.pushed)}else{while(idx-->=0){prev=parents[idx];if(typeof prev==="object"){if(prev[key]===value){idx+=2;parents.length=idx;path.length=idx;--idx;parents[idx]=value;path[idx]=key;break}}idx++}}}}}function checkValues(key,value){let val;if(value!=null){if(typeof value==="object"){let c=value.constructor.name;if(key&&c==="Object"){updateParents(key,value)}let other=refs.get(value);if(other){return"[Circular Reference]"+other}else{refs.set(value,path.join("."))}if(c==="Array"){if(value.length>20){val=value.slice(value.length-20)}else val=value}else if(c.includes("Set")){val=Array.from(value)}else if(c!=="Object"&&c!=="Number"&&c!=="String"&&c!=="Boolean"){val="instanceof_"+c}else if(c==="Object"){let obj={};for(const prop in value){if(value[prop]==null){obj[prop]=value[prop]}else if(Array.isArray(value[prop])){if(value[prop].length>20)obj[prop]=value[prop].slice(value[prop].length-20);else obj[prop]=value[prop]}else if(value[prop].constructor.name==="Object"){obj[prop]={};for(const p in value[prop]){if(Array.isArray(value[prop][p])){if(value[prop][p].length>20)obj[prop][p]=value[prop][p].slice(value[prop][p].length-20);else obj[prop][p]=value[prop][p]}else{if(value[prop][p]!=null){let con=value[prop][p].constructor.name;if(con.includes("Set")){obj[prop][p]=Array.from(value[prop][p])}else if(con!=="Number"&&con!=="String"&&con!=="Boolean"){obj[prop][p]="instanceof_"+con}else{obj[prop][p]=value[prop][p]}}else{obj[prop][p]=value[prop][p]}}}}else{let con=value[prop].constructor.name;if(con.includes("Set")){obj[prop]=Array.from(value[prop])}else if(con!=="Number"&&con!=="String"&&con!=="Boolean"){obj[prop]="instanceof_"+con}else{obj[prop]=value[prop]}}}val=obj}else{val=value}}else{val=value}}return val}return function stringifyFast2(obj,space){parents.push(obj);let res=JSON.stringify(obj,checkValues,space);clear();return res}}();if(JSON.stringifyFast===void 0){JSON.stringifyFast=stringifyFast}function createNode(operator,parentNode,props,graph){if(typeof props==="object"){props.operator=operator;return new GraphNode(props,parentNode,graph)}return new GraphNode({operator},parentNode,graph)}var Service=class extends Graph{constructor(options={}){super(void 0,options.name?options.name:`service${Math.floor(Math.random()*1e14)}`,options.props);this.routes={};this.loadDefaultRoutes=false;this.keepState=true;this.firstLoad=true;this.customRoutes={};this.customChildren={};this.init=options2=>{if(options2)options2=Object.assign({},options2);else options2={};if(options2.customRoutes)Object.assign(options2.customRoutes,this.customRoutes);else options2.customRoutes=this.customRoutes;if(options2.customChildren)Object.assign(options2.customChildren,this.customChildren);else options2.customChildren=this.customChildren;if(Array.isArray(options2.routes)){options2.routes.forEach(r=>{this.load(r,options2.includeClassName,options2.routeFormat,options2.customRoutes,options2.customChildren,options2.sharedState)})}else if(options2.routes||(Object.keys(this.routes).length>0||this.loadDefaultRoutes)&&this.firstLoad)this.load(options2.routes,options2.includeClassName,options2.routeFormat,options2.customRoutes,options2.customChildren,options2.sharedState)};this.load=(routes,includeClassName=true,routeFormat=".",customRoutes=this.customRoutes,customChildren=this.customChildren,sharedState=true)=>{if(!routes&&!this.loadDefaultRoutes&&(Object.keys(this.routes).length>0||this.firstLoad))return;if(this.firstLoad)this.firstLoad=false;if(customRoutes)customRoutes=Object.assign(this.customRoutes,customRoutes);else customRoutes=this.customRoutes;let service;let allRoutes={};if(routes){if(!(routes instanceof Graph)&&routes?.name&&!routes.setTree){if(routes.module){let mod=routes;routes={};Object.getOwnPropertyNames(routes.module).forEach(prop=>{if(includeClassName)routes[mod.name+routeFormat+prop]=routes.module[prop];else routes[prop]=routes.module[prop]})}else if(typeof routes==="function"){service=new routes({loadDefaultRoutes:this.loadDefaultRoutes});service.load();if(sharedState)service.state=this.state;routes=service.routes;if(service.customRoutes&&!this.customRoutes)this.customRoutes=service.customRoutes;else if(service.customRoutes&&this.customRoutes)Object.assign(this.customRoutes,service.customRoutes);if(service.customChildren&&!this.customChildren)this.customChildren=service.customChildren;else if(service.customChildren&&this.customChildren)Object.assign(this.customChildren,service.customChildren)}}else if(routes instanceof Graph||routes.source instanceof Graph||routes.setTree){service=routes;routes={};if(sharedState)service.state=this.state;if(includeClassName){let name=service.name;if(!name){name=service.tag;service.name=name}if(!name){name=`graph${Math.floor(Math.random()*1e15)}`;service.name=name;service.tag=name}}if(service.customRoutes&&!this.customRoutes)this.customRoutes=service.customRoutes;else if(service.customRoutes&&this.customRoutes)Object.assign(this.customRoutes,service.customRoutes);if(service.customChildren&&!this.customChildren)this.customChildren=service.customChildren;else if(service.customChildren&&this.customChildren)Object.assign(this.customChildren,service.customChildren);service.nodes.forEach(node=>{routes[node.tag]=node;let checked={};let checkChildGraphNodes=(nd,par)=>{if(!checked[nd.tag]||par&&includeClassName&&!checked[par?.tag+routeFormat+nd.tag]){if(!par)checked[nd.tag]=true;else checked[par.tag+routeFormat+nd.tag]=true;if(nd instanceof Graph||nd.source instanceof Graph||nd.setTree){if(sharedState)nd.state=this.state;if(includeClassName){let nm=nd.name;if(!nm){nm=nd.tag;nd.name=nm}if(!nm){nm=`graph${Math.floor(Math.random()*1e15)}`;nd.name=nm;nd.tag=nm}}nd.nodes.forEach(n=>{if(includeClassName&&!routes[nd.tag+routeFormat+n.tag])routes[nd.tag+routeFormat+n.tag]=n;else if(!routes[n.tag])routes[n.tag]=n;checkChildGraphNodes(n,nd)})}}};checkChildGraphNodes(node)})}else if(typeof routes==="object"){let name=routes.constructor.name;if(name==="Object"){name=Object.prototype.toString.call(routes);if(name)name=name.split(" ")[1];if(name)name=name.split("]")[0]}if(name&&name!=="Object"){let module=routes;routes={};Object.getOwnPropertyNames(module).forEach(route=>{if(includeClassName)routes[name+routeFormat+route]=module[route];else routes[route]=module[route]})}}if((service instanceof Graph||service?.setTree)&&service.name&&includeClassName){routes=Object.assign({},routes);for(const prop in routes){let route=routes[prop];delete routes[prop];routes[service.name+routeFormat+prop]=route}}}if(this.loadDefaultRoutes){let rts2=Object.assign({},this.defaultRoutes);if(routes){Object.assign(rts2,this.routes);routes=Object.assign(rts2,routes)}else routes=Object.assign(rts2,this.routes);this.loadDefaultRoutes=false}if(!routes)routes=this.routes;let incr=0;for(const tag in routes){incr++;let childrenIter=(route,routeKey)=>{if(typeof route==="object"){if(!route.tag)route.tag=routeKey;if(typeof route?.children==="object"){nested:for(const key in route.children){incr++;if(typeof route.children[key]==="object"){let rt=route.children[key];if(rt.tag&&allRoutes[rt.tag])continue;if(customChildren){for(const k2 in customChildren){rt=customChildren[k2](rt,key,route,routes,allRoutes);if(!rt)continue nested}}if(rt.id&&!rt.tag){rt.tag=rt.id}let k;if(rt.tag){if(allRoutes[rt.tag]){let randkey=`${rt.tag}${incr}`;allRoutes[randkey]=rt;rt.tag=randkey;childrenIter(allRoutes[randkey],key);k=randkey}else{allRoutes[rt.tag]=rt;childrenIter(allRoutes[rt.tag],key);k=rt.tag}}else{if(allRoutes[key]){let randkey=`${key}${incr}`;allRoutes[randkey]=rt;rt.tag=randkey;childrenIter(allRoutes[randkey],key);k=randkey}else{allRoutes[key]=rt;childrenIter(allRoutes[key],key);k=key}}if(service?.name&&includeClassName){allRoutes[service.name+routeFormat+k]=rt;delete allRoutes[k]}else allRoutes[k]=rt}}}}};allRoutes[tag]=routes[tag];childrenIter(routes[tag],tag)}top:for(const route in allRoutes){if(typeof allRoutes[route]==="object"){let r=allRoutes[route];if(typeof r==="object"){if(customRoutes){for(const key in customRoutes){r=customRoutes[key](r,route,allRoutes);if(!r)continue top}}if(r.get){if(typeof r.get=="object"){}}if(r.post){}if(r.delete){}if(r.put){}if(r.head){}if(r.patch){}if(r.options){}if(r.connect){}if(r.trace){}if(r.post&&!r.operator){allRoutes[route].operator=r.post}else if(!r.operator&&typeof r.get=="function"){allRoutes[route].operator=r.get}}}}for(const route in routes){if(typeof routes[route]==="object"){if(this.routes[route]){if(typeof this.routes[route]==="object")Object.assign(this.routes[route],routes[route]);else this.routes[route]=routes[route]}else this.routes[route]=routes[route]}else if(this.routes[route]){if(typeof this.routes[route]==="object")Object.assign(this.routes[route],routes[route]);else this.routes[route]=routes[route]}else this.routes[route]=routes[route]}if(service){for(const key in this.routes){if(this.routes[key]instanceof GraphNode||this.routes[key].constructor.name.includes("GraphNode")){this.nodes.set(key,this.routes[key]);this.nNodes=this.nodes.size}}}else this.setTree(this.routes);for(const prop in routes){if(routes[prop]?.aliases){let aliases=routes[prop].aliases;aliases.forEach(a=>{if(service?.name&&includeClassName)this.routes[service.name+routeFormat+a]=routes[prop];else this.routes[a]=routes[prop]})}}return this.routes};this.unload=(routes=this.routes)=>{if(!routes)return;let service;if(!(routes instanceof Service)&&typeof routes==="function"){service=new Service;routes=service.routes}else if(routes instanceof Service){routes=routes.routes}for(const r in routes){delete this.routes[r];if(this.nodes.get(r))this.remove(r)}return this.routes};this.handleMethod=(route,method,args)=>{let m=method.toLowerCase();let src=this.nodes.get(route);if(!src){src=this.routes[route];if(!src)src=this.tree[route]}if(src?.[m]){if(!(src[m]instanceof Function)){if(args)src[m]=args;return src[m]}else return src[m](args)}else return this.handleServiceMessage({route,args,method})};this.transmit=(...args)=>{if(typeof args[0]==="object"){if(args[0].method){return this.handleMethod(args[0].route,args[0].method,args[0].args)}else if(args[0].route){return this.handleServiceMessage(args[0])}else if(args[0].node){return this.handleGraphNodeCall(args[0].node,args[0].args)}else if(this.keepState){if(args[0].route)this.setState({[args[0].route]:args[0].args});if(args[0].node)this.setState({[args[0].node]:args[0].args})}return args}else return args};this.receive=(...args)=>{if(args[0]){if(typeof args[0]==="string"){let substr=args[0].substring(0,8);if(substr.includes("{")||substr.includes("[")){if(substr.includes("\\\\"))args[0]=args[0].replace(/\\\\/g,"");if(args[0][0]===\'"\'){args[0]=args[0].substring(1,args[0].length-1)};args[0]=JSON.parse(args[0])}}}if(typeof args[0]==="object"){if(args[0].method){return this.handleMethod(args[0].route,args[0].method,args[0].args)}else if(args[0].route){return this.handleServiceMessage(args[0])}else if(args[0].node){return this.handleGraphNodeCall(args[0].node,args[0].args)}else if(this.keepState){if(args[0].route)this.setState({[args[0].route]:args[0].args});if(args[0].node)this.setState({[args[0].node]:args[0].args})}return args}else return args};this.pipe=(source,destination,endpoint,method,callback)=>{if(source instanceof GraphNode){if(callback)return source.subscribe(res=>{let mod=callback(res);if(mod!==void 0)this.transmit({route:destination,args:mod,method});else this.transmit({route:destination,args:res,method},endpoint)});else return this.subscribe(source,res=>{this.transmit({route:destination,args:res,method},endpoint)})}else if(typeof source==="string")return this.subscribe(source,res=>{this.transmit({route:destination,args:res,method},endpoint)})};this.pipeOnce=(source,destination,endpoint,method,callback)=>{if(source instanceof GraphNode){if(callback)return source.state.subscribeTriggerOnce(source.tag,res=>{let mod=callback(res);if(mod!==void 0)this.transmit({route:destination,args:mod,method});else this.transmit({route:destination,args:res,method},endpoint)});else return this.state.subscribeTriggerOnce(source.tag,res=>{this.transmit({route:destination,args:res,method},endpoint)})}else if(typeof source==="string")return this.state.subscribeTriggerOnce(source,res=>{this.transmit({route:destination,args:res,method},endpoint)})};this.terminate=(...args)=>{this.nodes.forEach(n=>{n.stopNode()})};this.recursivelyAssign=(target,obj)=>{for(const key in obj){if(typeof obj[key]==="object"&&!Array.isArray(obj[key])){if(typeof target[key]==="object"&&!Array.isArray(target[key]))this.recursivelyAssign(target[key],obj[key]);else target[key]=this.recursivelyAssign({},obj[key])}else target[key]=obj[key]}return target};this.defaultRoutes={"/":{get:()=>{return this.print()},aliases:[""]},ping:()=>{console.log("ping");return"pong"},echo:(...args)=>{this.transmit(...args);return args},assign:source=>{if(typeof source==="object"){Object.assign(this,source);return true}return false},recursivelyAssign:source=>{if(typeof source==="object"){this.recursivelyAssign(this,source);return true}return false},log:{post:(...args)=>{console.log("Log: ",...args)},aliases:["info"]},error:message=>{let er=new Error(message);console.error(message);return er},state:key=>{if(key){return this.state.data[key]}else return this.state.data},printState:key=>{if(key){return stringifyWithCircularRefs(this.state.data[key])}else return stringifyWithCircularRefs(this.state.data)},spliceTypedArray:this.spliceTypedArray,transmit:this.transmit,receive:this.receive,load:this.load,unload:this.unload,pipe:this.pipe,terminate:this.terminate,run:this.run,subscribe:this.subscribe,subscribeNode:this.subscribeNode,unsubscribe:this.unsubscribe,stopNode:this.stopNode,get:this.get,add:this.add,remove:this.remove,setTree:this.setTree,setState:this.setState,print:this.print,reconstruct:this.reconstruct,handleMethod:this.handleMethod,handleServiceMessage:this.handleServiceMessage,handleGraphNodeCall:this.handleGraphNodeCall};if(options.name)this.name=options.name;else options.name=this.tag;if("loadDefaultRoutes"in options){this.loadDefaultRoutes=options.loadDefaultRoutes;this.routes=Object.assign(this.defaultRoutes,this.routes)}if(options||Object.keys(this.routes).length>0)this.init(options)}handleServiceMessage(message){let call;if(typeof message==="object"){if(message.route)call=message.route;else if(message.node)call=message.node}if(call){if(Array.isArray(message.args))return this.run(call,...message.args);else return this.run(call,message.args)}else return message}handleGraphNodeCall(route,args){if(!route)return args;if(args?.args){this.handleServiceMessage(args)}else if(Array.isArray(args))return this.run(route,...args);else return this.run(route,args)}isTypedArray(x){return ArrayBuffer.isView(x)&&Object.prototype.toString.call(x)!=="[object DataView]"}spliceTypedArray(arr,start,end){let s=arr.subarray(0,start);let e;if(end){e=arr.subarray(end+1)}let n;if(s.length>0||e?.length>0)n=new arr.constructor(s.length+e.length);if(s.length>0)n.set(s);if(e&&e.length>0)n.set(e,s.length);return n}};var unsafeRoutes={setRoute:function(fn,fnName){if(typeof fn==="string")fn=parseFunctionFromText(fn);if(typeof fn==="function"){if(!fnName)fnName=fn.name;if(this.graph.get(fnName)){this.graph.get(fnName).setOperator(fn.bind(this.graph.get(fnName)))}else{let node=this.graph.add({tag:fnName,operator:fn});if(this.graph instanceof Service)this.graph.load({[fnName]:node})}return true}return false},setNode:function(fn,fnName){if(typeof fn==="string")fn=parseFunctionFromText(fn);if(typeof fn==="function"){if(!fnName)fnName=fn.name;if(this.graph.get(fnName)){this.graph.get(fnName).setOperator(fn)}else this.graph.add({tag:fnName,operator:fn});return true}return false},setMethod:function(route,fn,fnName){if(typeof fn==="string")fn=parseFunctionFromText(fn);if(typeof fn==="function"){if(!fnName)fnName=fn.name;if(this.graph.get(route)){this.graph.get(route)[fnName]=fn}else this.graph.add({tag:fnName,[fnName]:fn});return true}return false},assignRoute:function(route,source){if(this.graph.get(route)&&typeof source==="object"){Object.assign(this.graph.get(route),source)}},transferClass:(classObj,className)=>{if(typeof classObj==="object"){let str2=classObj.toString();let message={route:"receiveClass",args:[str2,className]};return message}return false},receiveClass:function(stringified,className){if(typeof stringified==="string"){if(stringified.indexOf("class")===0){let cls=(0,eval)("("+stringified+")");let name=className;if(!name)name=cls.name;this.graph[name]=cls;return true}}return false},setGlobal:(key,value)=>{globalThis[key]=value;return true},assignGlobalObject:(target,source)=>{if(!globalThis[target])return false;if(typeof source==="object")Object.assign(globalThis[target],source);return true},setValue:function(key,value){this.graph[key]=value;return true},assignObject:function(target,source){if(!this.graph[target])return false;if(typeof source==="object")Object.assign(this.graph[target],source);return true},setGlobalFunction:(fn,fnName)=>{if(typeof fn==="string")fn=parseFunctionFromText(fn);if(typeof fn==="function"){if(!fnName)fnName=fn.name;globalThis[fnName]=fn;return true}return false},assignFunctionToGlobalObject:function(globalObjectName,fn,fnName){if(!globalThis[globalObjectName])return false;if(typeof fn==="string")fn=parseFunctionFromText(fn);if(typeof fn==="function"){if(!fnName)fnName=fn.name;this.graph[globalObjectName][fnName]=fn;return true}return false},setFunction:function(fn,fnName){if(typeof fn==="string")fn=parseFunctionFromText(fn);if(typeof fn==="function"){if(!fnName)fnName=fn.name;this.graph[fnName]=fn;return true}return false},assignFunctionToObject:function(objectName,fn,fnName){if(!this.graph[objectName])return false;if(typeof fn==="string")fn=parseFunctionFromText(fn);if(typeof fn==="function"){if(!fnName)fnName=fn.name;this.graph[objectName][fnName]=fn;return true}return false}};var import_sjcl=__toESM(require_sjcl());var _HTTPfrontend=class extends Service{constructor(options,path,fetched){super(options);this.name="http";this.fetchProxied=false;this.listening={};this.GET=(url="http://localhost:8080/ping",type="",mimeType)=>{if(type==="json")mimeType="application/json";return new Promise((resolve,reject)=>{let xhr=_HTTPfrontend.request({method:"GET",url,responseType:type,mimeType,onload:ev=>{let data;if(xhr.responseType===""||xhr.responseType==="text")data=xhr.responseText;else data=xhr.response;if(url instanceof URL)url=url.toString();this.setState({[url]:data});resolve(data)},onabort:er=>{reject(er)}})}).catch(console.error)};this.POST=(message,url="http://localhost:8080/echo",type="",mimeType)=>{if(typeof message==="object"&&(type==="json"||type==="text"||!type)){message=JSON.stringify(message)}if(type==="json")mimeType="application/json";return new Promise((resolve,reject)=>{let xhr=_HTTPfrontend.request({method:"POST",url,data:message,responseType:type,mimeType,onload:ev=>{let data;if(xhr.responseType===""||xhr.responseType==="text")data=xhr.responseText;else data=xhr.response;if(url instanceof URL)url=url.toString();this.setState({[url]:data});resolve(data)},onabort:er=>{reject(er)}})}).catch(console.error)};this.transmit=(message,url)=>{let obj=message;if(typeof obj==="object"){message=JSON.stringify(obj)}if(obj?.method?.toLowerCase()=="get"||message?.toLowerCase()==="get")return this.GET(url);return this.post(message,url)};this.transponder=(url,message,type="",mimeType)=>{if(typeof message==="object")message=JSON.stringify(message);let method="GET";if(message){method="POST"}if(type==="json")mimeType="application/json";else return new Promise((resolve,reject)=>{let xhr=_HTTPfrontend.request({method,url,data:message,responseType:type,onload:ev=>{let body=xhr.response;if(typeof body==="string"){let substr=body.substring(0,8);if(substr.includes("{")||substr.includes("[")){if(substr.includes("\\\\"))body=body.replace(/\\\\/g,"");if(body[0]===\'"\'){body=body.substring(1,body.length-1)};body=JSON.parse(body)}}if(typeof body?.method==="string"){return resolve(this.handleMethod(body.route,body.method,body.args))}else if(typeof body?.route==="string"){return resolve(this.handleServiceMessage(body))}else if(typeof body?.node==="string"||body.node instanceof GraphNode){return resolve(this.handleGraphNodeCall(body.node,body.args))}else return resolve(body)},onabort:er=>{reject(er)}})}).catch(console.error)};this.listen=(path2="0",fetched2=async(clone,args,response)=>{const result=await clone.text();const returned=this.receive(result);this.setState({[response.url]:returned})})=>{this.listening[path2]={};let listenerId=`${path2}${Math.floor(Math.random()*1e15)}`;this.listening[path2][listenerId]=fetched2;if(!this.fetchProxied){globalThis.fetch=new Proxy(globalThis.fetch,{apply(fetch,that,args){const result=fetch.apply(that,args);result.then(response=>{if(!response.ok)return;if(this.listening["0"]){for(const key in this.listeners){const clone=response.clone();this.listening["0"][key](clone,args,response)}}else{for(const key in this.listening){if(response.url.includes(key)){for(const key2 in this.listening[path2]){const clone=response.clone();this.listening[path2][key2](clone,args,response)}break}}}}).catch(er=>{console.error(er)});return result}});this.fetchProxied=true}return listenerId};this.stopListening=(path2,listener)=>{if(!path2&&path2!==0){for(const key in this.listening)delete this.listening[key]}else{if(!listener)delete this.listening[path2];else delete this.listeners[listener]}};this.routes={request:this.request,GET:this.GET,POST:this.POST,transponder:this.transponder,listen:this.listen,stopListening:this.stopListening};this.load(this.routes);this.listen(path,fetched)}};var HTTPfrontend=_HTTPfrontend;HTTPfrontend.request=options=>{const xhr=new XMLHttpRequest;if(options.responseType)xhr.responseType=options.responseType;else options.responseType="json";if(options.mimeType){xhr.overrideMimeType(options.mimeType)}if(options.onload)xhr.addEventListener("load",options.onload,false);if(options.onprogress)xhr.addEventListener("progress",options.onprogress,false);if(options.onabort)xhr.addEventListener("abort",options.onabort,false);if(options.onloadend)xhr.addEventListener("loadend",options.onloadend,false);if(options.onerror)xhr.addEventListener("error",options.onerror,false);xhr.open(options.method,options.url,true,options.user,options.pass);if(!options.onerror)xhr.onerror=function(){xhr.abort()};xhr.send(options.data);return xhr};var import_web_worker=__toESM(require_browser());var WorkerService=class extends Service{constructor(options){super(options);this.name="worker";this.workers={};this.threadRot=0;this.connections={workers:this.workers};this.customRoutes={"worker":(route,routeKey,routes)=>{let rt=route;if(rt?.worker||rt?.workerId||rt?.workerUrl){let worker=this.loadWorkerRoute(rt,routeKey);if(worker){if(!rt.parentRoute&&rt.parent?.callback)rt.parentRoute=rt.parent.callback;if(rt.parent&&!rt.portId){if(typeof rt.parent==="string"){if(rt.tag!==rt.parent&&worker._id!==rt.parent)rt.portId=this.establishMessageChannel(worker,rt.parent)}else if(rt.tag!==rt.parent.tag&&worker._id!==rt.parent.tag){rt.portId=this.establishMessageChannel(worker,rt.parent.worker)}};if(rt.parentRoute){if(!rt.stopped){if(typeof rt.parent==="string"&&rt.parent===worker._id){worker.run("subscribe",[rt.parentRoute,rt.callback])}else if(rt.tag===rt.parent?.tag||worker._id===rt.parent?.tag){worker.run("subscribe",[rt.parentRoute,rt.callback])}else worker.run("subscribeToWorker",[rt.parentRoute,rt.portId,rt.callback,rt.blocking]).then(sub=>{worker.workerSubs[rt.parentRoute+rt.portId].sub=sub})}if(!(typeof rt.parent==="string"&&rt.parent===worker._id)&&!(rt.tag===rt.parent?.tag||worker._id===rt.parent?.tag))worker.workerSubs[rt.parentRoute+rt.portId]={sub:null,route:rt.parentRoute,portId:rt.portId,callback:rt.callback,blocking:rt.blocking}}else if(rt.parent){if(typeof rt.parent==="string"){if(!rt.stopped){if(rt.parent===worker._id){worker.run("subscribe",[rt.parent,rt.callback])}else worker.run("subscribeToWorker",[rt.parent,rt.portId,rt.callback,rt.blocking]).then(sub=>{worker.workerSubs[rt.parentRoute+rt.portId].sub=sub})}if(!(typeof rt.parent==="string"&&rt.parent===worker._id))worker.workerSubs[rt.parentRoute+rt.portId]={sub:null,route:rt.parentRoute,portId:rt.portId,callback:rt.callback,blocking:rt.blocking}}else if(rt.parent?.tag){if(!rt.stopped){if(rt.tag===rt.parent?.tag||worker._id===rt.parent?.tag){worker.run("subscribe",[rt.parent.tag,rt.callback])}else worker.run("subscribeToWorker",[rt.parent.tag,rt.portId,rt.callback,rt.blocking]).then(sub=>{worker.workerSubs[rt.parentRoute+rt.portId].sub=sub})}if(!(rt.tag===rt.parent?.tag||worker._id===rt.parent?.tag))worker.workerSubs[rt.parentRoute+rt.portId]={sub:null,route:rt.parentRoute,portId:rt.portId,callback:rt.callback,blocking:rt.blocking}}}}}else if(rt.parent&&rt.parentRoute){if(typeof rt.parent==="string"&&routes[rt.parent]?.worker){routes[rt.parent].worker.subscribe(rt.parentRoute,rt.tag,rt.blocking)}else if(rt.parent?.worker){rt.parent.worker.subscribe(rt.parentRoute,rt.tag,rt.blocking)}}return rt}};this.customChildren={"worker":(child,childRouteKey,parent,routes,checked)=>{if(!child.parentRoute&&parent?.callback)child.parentRoute=parent.callback;if(!child.parent&&parent.tag)child.parent=parent.tag;return child}};this.postMessage=(message,target,transfer)=>{if(this.workers[target]){this.workers[target].send(message,transfer)}else{globalThis.postMessage(message,target,transfer)}};this.addWorker=options2=>{let worker;if(!options2._id)options2._id=`worker${Math.floor(Math.random()*1e15)}`;if(options2.url)worker=new import_web_worker.default(options2.url);else if(options2.port){worker=options2.port}else if(this.workers[options2._id]){if(this.workers[options2._id].port)worker=this.workers[options2._id].port;else worker=this.workers[options2._id].worker}if(!worker)return;let send=(message,transfer)=>{return this.transmit(message,worker,transfer)};let post=(route,args,transfer,method)=>{let message={route,args};if(method)message.method=method;return this.transmit(message,worker,transfer)};let run=(route,args,transfer,method)=>{return new Promise((res,rej)=>{let callbackId=Math.random();let req={route:"runRequest",args:[{route,args},options2._id,callbackId]};if(method)req.args[0].method=method;let onmessage=ev=>{if(typeof ev.data==="object"){if(ev.data.callbackId===callbackId){worker.removeEventListener("message",onmessage);res(ev.data.args)}}};worker.addEventListener("message",onmessage);this.transmit(req,worker,transfer)})};let request=(message,transfer,method)=>{return new Promise((res,rej)=>{let callbackId=Math.random();let req={route:"runRequest",args:[message,options2._id,callbackId]};if(method)req.method=method;let onmessage=ev=>{if(typeof ev.data==="object"){if(ev.data.callbackId===callbackId){worker.removeEventListener("message",onmessage);res(ev.data.args)}}};worker.addEventListener("message",onmessage);this.transmit(req,worker,transfer)})};let workerSubs={};let subscribe=(route,callback,blocking)=>{return this.subscribeToWorker(route,options2._id,callback,blocking)};let unsubscribe=(route,sub)=>{return run("unsubscribe",[route,sub])};let start=async(route,portId,callback,blocking)=>{if(route)await run("subscribeToWorker",[route,portId,callback,blocking]).then(sub=>{if(sub)workerSubs[route+portId]={sub,route,portId,callback,blocking}});else for(const key in workerSubs){if(typeof workerSubs[key].sub!=="number")await run("subscribeToWorker",[workerSubs[key].route,workerSubs[key].portId,workerSubs[key].callback,workerSubs[key].blocking]).then(sub=>{workerSubs[key].sub=sub})}return true};let stop=async(route,portId)=>{if(route&&portId&&workerSubs[route+portId]){await run("unsubscribe",[route,workerSubs[route+portId].sub]);workerSubs[route+portId].sub=false}else{for(const key in workerSubs){if(typeof workerSubs[key].sub==="number"){await run("unpipeWorkers",[workerSubs[key].route,workerSubs[key].portId,workerSubs[key].sub])}workerSubs[key].sub=false}}return true};let terminate=()=>{for(const key in workerSubs){if(typeof workerSubs[key].sub==="number"){run("unpipeWorkers",[workerSubs[key].route,workerSubs[key].portId,workerSubs[key].sub])}workerSubs[key].sub=false}return this.terminate(options2._id)};if(!options2.onmessage)options2.onmessage=ev=>{this.receive(ev.data);this.setState({[options2._id]:ev.data})};if(!options2.onerror){options2.onerror=ev=>{console.error(ev.data)}}worker.onmessage=options2.onmessage;worker.onerror=options2.onerror;this.workers[options2._id]={worker,send,post,run,request,subscribe,unsubscribe,terminate,start,stop,postMessage:worker.postMessage,workerSubs,graph:this,...options2};return this.workers[options2._id]};this.toObjectURL=scriptTemplate=>{let blob=new Blob([scriptTemplate],{type:"text/javascript"});return URL.createObjectURL(blob)};this.transmit=(message,worker,transfer)=>{if(!transfer){transfer=this.getTransferable(message)}if(worker instanceof import_web_worker.default||worker instanceof MessagePort){worker.postMessage(message,transfer)}else if(typeof worker==="string"){if(this.workers[worker]){if(this.workers[worker].port)this.workers[worker].port.postMessage(message,transfer);else if(this.workers[worker].worker)this.workers[worker].worker.postMessage(message,transfer)}}else{let keys=Object.keys(this.workers);this.workers[keys[this.threadRot]].worker.postMessage(message,transfer);this.threadRot++;if(this.threadRot===keys.length)this.threadRot=0}return message};this.terminate=worker=>{let onclose;if(typeof worker==="string"){let obj=this.workers[worker];if(obj)delete this.workers[worker];worker=obj.worker;if(obj.onclose)onclose=obj.onclose}if(worker instanceof import_web_worker.default){worker.terminate();if(onclose)onclose(worker);return true}if(worker instanceof MessagePort){worker.close();if(onclose)onclose(worker);return true}return false};this.establishMessageChannel=(worker,worker2)=>{let workerId;if(typeof worker==="string"){workerId=worker;if(this.workers[worker]){if(this.workers[worker].port)worker=this.workers[worker].port;else worker2=this.workers[worker].worker}}else if(worker?.worker){worker=worker.worker}if(typeof worker2==="string"){if(this.workers[worker2]){if(this.workers[worker2].port)worker2=this.workers[worker2].port;else worker2=this.workers[worker2].worker}}else if(worker2?.worker){worker2=worker2.worker}if(worker instanceof import_web_worker.default||worker instanceof MessagePort){let channel=new MessageChannel;let portId=`port${Math.floor(Math.random()*1e15)}`;worker.postMessage({route:"addWorker",args:{port:channel.port1,_id:portId}},[channel.port1]);if(worker2 instanceof import_web_worker.default||worker2 instanceof MessagePort){worker2.postMessage({route:"addWorker",args:{port:channel.port2,_id:portId}},[channel.port2])}else if(workerId&&this.workers[workerId]){channel.port2.onmessage=this.workers[workerId].onmessage;this.workers[workerId].port=channel.port2}return portId}return false};this.request=(message,workerId,transfer,method)=>{let worker=this.workers[workerId].worker;return new Promise((res,rej)=>{let callbackId=Math.random();let req={route:"runRequest",args:[message,callbackId]};if(method)req.method=method;let onmessage=ev=>{if(typeof ev.data==="object"){if(ev.data.callbackId===callbackId){worker.removeEventListener("message",onmessage);res(ev.data.args)}}};worker.addEventListener("message",onmessage);this.transmit(req,worker,transfer)})};this.runRequest=(message,worker,callbackId)=>{let res=this.receive(message);if(typeof worker==="string"&&this.workers[worker]){if(this.workers[worker].port)worker=this.workers[worker].port;else worker=this.workers[worker].worker}if(res instanceof Promise){res.then(r=>{if(worker instanceof import_web_worker.default||worker instanceof MessagePort)worker.postMessage({args:r,callbackId});else if(typeof WorkerGlobalScope!=="undefined"&&self instanceof WorkerGlobalScope)globalThis.postMessage({args:r,callbackId})})}else{if(worker instanceof import_web_worker.default||worker instanceof MessagePort)worker.postMessage({args:res,callbackId});else if(typeof WorkerGlobalScope!=="undefined"&&self instanceof WorkerGlobalScope)globalThis.postMessage({args:res,callbackId})}return res};this.subscribeWorker=(route,worker,blocking)=>{let callback;if(blocking){let blocked=false;callback=res=>{if(!blocked){blocked=true;if(res instanceof Promise){res.then(r=>{if(worker?.run)worker.run("triggerSubscription",[route,worker._id,r]).then(ret=>{blocked=false})})}else{if(worker?.run)worker.run("triggerSubscription",[route,worker._id,res]).then(ret=>{blocked=false})}}}}else{callback=res=>{if(res instanceof Promise){res.then(r=>{if(worker?.postMessage)worker.postMessage({args:r,callbackId:route});else if(globalThis.postMessage)globalThis.postMessage({args:r,callbackId:route})})}else{if(worker?.postMessage)worker.postMessage({args:res,callbackId:route});else if(globalThis.postMessage)globalThis.postMessage({args:res,callbackId:route})}}}if(!blocking&&worker?.port){worker=worker.port}else if(!blocking&&worker?.worker){worker=worker.worker}else if(typeof worker==="string"&&this.workers[worker]){if(blocking)worker=this.workers[worker];else if(this.workers[worker].port)worker=this.workers[worker].port;else worker=this.workers[worker].worker}return this.subscribe(route,callback)};this.subscribeToWorker=(route,workerId,callback,blocking)=>{if(typeof workerId==="string"&&this.workers[workerId]){this.subscribe(workerId,res=>{if(res?.callbackId===route){if(!callback)this.setState({[workerId]:res.args});else if(typeof callback==="string"){this.run(callback,res.args)}else callback(res.args)}});return this.workers[workerId].run("subscribeWorker",[route,workerId,blocking])}};this.triggerSubscription=async(route,workerId,result)=>{if(this.state.triggers[workerId])for(let i=0;i<this.state.triggers[workerId].length;i++){await this.state.triggers[workerId][i].onchange({args:result,callbackId:route})}return true};this.pipeWorkers=(sourceWorker,listenerWorker,sourceRoute,listenerRoute,portId,blocking)=>{if(typeof sourceWorker==="string")sourceWorker=this.workers[sourceWorker];if(typeof listenerWorker==="string")listenerWorker=this.workers[listenerWorker];if(!portId){portId=this.establishMessageChannel(sourceWorker.worker,listenerWorker.worker)}return listenerWorker.run("subscribeToWorker",[sourceRoute,portId,listenerRoute,blocking])};this.unpipeWorkers=(sourceRoute,sourceWorker,sub)=>{if(typeof sourceWorker==="string")sourceWorker=this.workers[sourceWorker];if(sourceWorker)return sourceWorker.run("unsubscribe",[sourceRoute,sub])};this.routes={addWorker:{operator:this.addWorker,aliases:["open"]},toObjectURL:this.toObjectURL,request:this.request,runRequest:this.runRequest,establishMessageChannel:this.establishMessageChannel,subscribeWorker:this.subscribeWorker,subscribeToWorker:this.subscribeToWorker,triggerSubscription:this.triggerSubscription,subscribe:this.subscribe,pipeWorkers:this.pipeWorkers,unpipeWorkers:this.unpipeWorkers,unsubscribe:(route,sub)=>{this.unsubscribe(route,sub)},terminate:this.terminate};this.load(this.routes);if(typeof WorkerGlobalScope!=="undefined"&&globalThis instanceof WorkerGlobalScope){this.addDefaultMessageListener()}}loadWorkerRoute(rt,routeKey){if(rt.workerUrl)rt.url=rt.workerUrl;if(rt.workerId)rt.tag=rt.workerId;if(!rt.tag)rt.tag=routeKey;rt._id=rt.tag;let worker;if(this.workers[rt._id])worker=this.workers[rt._id];else if(rt.worker)worker=rt.worker;if(!worker){worker=this.addWorker(rt);let ondelete=rt2=>{rt2.worker?.terminate()};let oldondelete;if(rt.ondelete)oldondelete=rt.ondelete;rt.ondelete=n=>{if(oldondelete)oldondelete(n);ondelete(n)}}rt.worker=worker;if(rt.transferFunctions){for(const prop in rt.transferFunctions){this.transferFunction(worker,rt.transferFunctions[prop],prop)}}if(rt.transferClasses){for(const prop in rt.transferClasses){this.transferClass(worker,rt.transferClasses[prop],prop)}}if(worker){if(!rt.operator){rt.operator=(...args)=>{if(rt.callback){if(!this.nodes.get(rt.tag)?.children)worker.post(rt.callback,args);else return worker.run(rt.callback,args)}else{if(!this.nodes.get(rt.tag)?.children)worker.send(args);else return worker.request(args)}}}if(rt.init){worker.run(rt.init,rt.initArgs,rt.initTransfer)}return worker}}addDefaultMessageListener(){globalThis.onmessage=ev=>{let result=this.receive(ev.data);if(this.keepState)this.setState({[this.name]:result})}}getTransferable(message){let transfer;if(typeof message==="object"){if(message.args){if(message.args.constructor?.name==="Object"){for(const key in message.args){if(ArrayBuffer.isView(message.args[key])){if(!transfer)transfer=[message.args[key].buffer];else transfer.push(message.args[key].buffer)}else if(message.args[key]?.constructor?.name==="ArrayBuffer"){if(!transfer)transfer=[message.args[key]];else transfer.push(message.args[key])}}}else if(Array.isArray(message.args)&&message.args.length<11){message.args.forEach(arg=>{if(ArrayBuffer.isView(arg)){transfer=[arg.buffer]}else if(arg.constructor?.name==="ArrayBuffer")transfer=[arg]})}else if(ArrayBuffer.isView(message.args)){transfer=[message.args.buffer]}else if(message.args.constructor?.name==="ArrayBuffer"){transfer=[message]}}else if(message.constructor?.name==="Object"){for(const key in message){if(ArrayBuffer.isView(message[key])){if(!transfer)transfer=[message[key].buffer];else transfer.push(message[key].buffer)}else if(message[key]?.constructor?.name==="ArrayBuffer"){if(!transfer)transfer=[message[key]];else transfer.push(message[key])}}}else if(Array.isArray(message)&&message.length<11){message.forEach(arg=>{if(ArrayBuffer.isView(arg)){transfer=[arg.buffer]}else if(arg.constructor?.name==="ArrayBuffer")transfer=[arg]})}else if(ArrayBuffer.isView(message)){transfer=[message.buffer]}else if(message.constructor?.name==="ArrayBuffer"){transfer=[message]}}return transfer}transferFunction(worker,fn,fnName){if(!fnName)fnName=fn.name;return worker.request({route:"setRoute",args:[fn.toString(),fnName]})}transferClass(worker,cls,className){if(!className)className=cls.name;return worker.request({route:"receiveClass",args:[cls.toString(),className]})}};var mouseEventHandler=makeSendPropertiesHandler(["ctrlKey","metaKey","shiftKey","button","pointerType","clientX","clientY","pageX","pageY"]);var wheelEventHandlerImpl=makeSendPropertiesHandler(["deltaX","deltaY"]);var keydownEventHandler=makeSendPropertiesHandler(["ctrlKey","metaKey","shiftKey","keyCode"]);function wheelEventHandler(event,sendFn){event.preventDefault();wheelEventHandlerImpl(event,sendFn)}function preventDefaultHandler(event){event.preventDefault()}function copyProperties(src,properties,dst){for(const name of properties){dst[name]=src[name]}}function makeSendPropertiesHandler(properties){return function sendProperties(event,sendFn){const data={type:event.type};copyProperties(event,properties,data);sendFn(data)}}function touchEventHandler(event,sendFn){const touches=[];const data={type:event.type,touches};for(let i=0;i<event.touches.length;++i){const touch=event.touches[i];touches.push({pageX:touch.pageX,pageY:touch.pageY})}sendFn(data)}var orbitKeys={"37":true,"38":true,"39":true,"40":true};function filteredKeydownEventHandler(event,sendFn){const{keyCode}=event;if(orbitKeys[keyCode]){event.preventDefault();keydownEventHandler(event,sendFn)}}var eventHandlers={contextmenu:preventDefaultHandler,mousedown:mouseEventHandler,mousemove:mouseEventHandler,mouseup:mouseEventHandler,pointerdown:mouseEventHandler,pointermove:mouseEventHandler,pointerup:mouseEventHandler,touchstart:touchEventHandler,touchmove:touchEventHandler,touchend:touchEventHandler,wheel:wheelEventHandler,keydown:filteredKeydownEventHandler};function initProxyElement(element,worker,id){if(!id)id="proxy"+Math.floor(Math.random()*1e15);const sendEvent=data=>{worker.postMessage({route:"handleProxyEvent",args:[data,id]})};let entries=Object.entries(eventHandlers);for(const[eventName,handler]of entries){element.addEventListener(eventName,function(event){handler(event,sendEvent)})}const sendSize=()=>{const rect=element.getBoundingClientRect();sendEvent({type:"resize",left:rect.left,top:rect.top,width:element.clientWidth,height:element.clientHeight})};sendSize();globalThis.addEventListener("resize",sendSize);return id}var EventDispatcher=class{addEventListener(type,listener){if(this._listeners===void 0)this._listeners={};const listeners=this._listeners;if(listeners[type]===void 0){listeners[type]=[]}if(listeners[type].indexOf(listener)===-1){listeners[type].push(listener)}}hasEventListener(type,listener){if(this._listeners===void 0)return false;const listeners=this._listeners;return listeners[type]!==void 0&&listeners[type].indexOf(listener)!==-1}removeEventListener(type,listener){if(this._listeners===void 0)return;const listeners=this._listeners;const listenerArray=listeners[type];if(listenerArray!==void 0){const index=listenerArray.indexOf(listener);if(index!==-1){listenerArray.splice(index,1)}}}dispatchEvent(event,target){if(this._listeners===void 0)return;const listeners=this._listeners;const listenerArray=listeners[event.type];if(listenerArray!==void 0){if(!target)event.target=this;else event.target=target;const array=listenerArray.slice(0);for(let i=0,l=array.length;i<l;i++){array[i].call(this,event)}event.target=null}}};function noop(){}var ElementProxyReceiver=class extends EventDispatcher{constructor(){super();this._listeners={};this.style={};this.setPointerCapture=()=>{};this.releasePointerCapture=()=>{};this.getBoundingClientRect=()=>{return{left:this.left,top:this.top,width:this.width,height:this.height,right:this.left+this.width,bottom:this.top+this.height}};this.handleEvent=data=>{if(data.type==="resize"){this.left=data.left;this.top=data.top;this.width=data.width;this.height=data.height;if(typeof this.proxied==="object"){this.proxied.width=this.width;this.proxied.height=this.height;this.proxied.clientWidth=this.width;this.proxied.clientHeight=this.height}}data.preventDefault=noop;data.stopPropagation=noop;this.dispatchEvent(data,this.proxied)};this.style={}}get clientWidth(){return this.width}get clientHeight(){return this.height}focus(){}};var ProxyManager=class{constructor(){this.targets={};this.makeProxy=(id,addTo=void 0)=>{if(!id)id=`proxyReceiver${Math.floor(Math.random()*1e15)}`;let proxy;if(this.targets[id])proxy=this.targets[id];else{proxy=new ElementProxyReceiver;this.targets[id]=proxy}if(typeof addTo==="object"){addTo.proxy=proxy;proxy.proxied=addTo;addTo.style=proxy.style;if(proxy.width){addTo.width=proxy.width;addTo.clientWidth=proxy.width}if(proxy.height){addTo.height=proxy.height;addTo.clientHeight=proxy.height}addTo.setPointerCapture=proxy.setPointerCapture.bind(proxy);addTo.releasePointerCapture=proxy.releasePointerCapture.bind(proxy);addTo.getBoundingClientRect=proxy.getBoundingClientRect.bind(proxy);addTo.addEventListener=proxy.addEventListener.bind(proxy);addTo.removeEventListener=proxy.removeEventListener.bind(proxy);addTo.handleEvent=proxy.handleEvent.bind(proxy);addTo.dispatchEvent=proxy.dispatchEvent.bind(proxy);addTo.focus=proxy.focus.bind(proxy)}};this.getProxy=id=>{return this.targets[id]};this.handleEvent=(data,id)=>{if(!this.targets[id])this.makeProxy(id);if(this.targets[id]){this.targets[id].handleEvent(data);return true}return void 0};if(!globalThis.document)globalThis.document={}}};var proxyElementWorkerRoutes={initProxyElement,makeProxy:function(id,elm){if(!this.graph.ProxyManager)this.graph.ProxyManager=new ProxyManager;this.graph.ProxyManager.makeProxy(id,elm);return id},handleProxyEvent:function(data,id){if(!this.graph.ProxyManager)this.graph.ProxyManager=new ProxyManager;if(this.graph.ProxyManager.handleEvent(data,id))return data}};var workerCanvasRoutes={...proxyElementWorkerRoutes,transferCanvas:function(worker,options,route){if(!options)return void 0;if(!options._id)options._id=`canvas${Math.floor(Math.random()*1e15)}`;let offscreen=options.canvas.transferControlToOffscreen();let message={route:route?route:"receiveCanvas",args:{...options,canvas:offscreen}};this.graph.run("initProxyElement",options.canvas,worker,options._id);if(options.draw){if(typeof options.draw==="function")message.args.draw=options.draw.toString();else message.args.draw=options.draw}if(options.update){if(typeof options.update==="function")message.args.update=options.update.toString();else message.args.update=options.update}if(options.init){if(typeof options.init==="function")message.args.init=options.init.toString();else message.args.init=options.init}if(options.clear){if(typeof options.clear==="function")message.args.clear=options.clear.toString();else message.args.clear=options.clear}let transfer=[offscreen];if(options.transfer){transfer.push(...options.transfer);delete options.transfer}worker.postMessage(message,transfer);const workercontrols={_id:options._id,width:options.width,height:options.height,worker,draw:props=>{worker.postMessage({route:"drawFrame",args:[options._id,props]})},update:props=>{worker.postMessage({route:"updateCanvas",args:[options._id,props]})},clear:()=>{worker.postMessage({route:"clearCanvas",args:options._id})},init:()=>{worker.postMessage({route:"initCanvas",args:options._id})},stop:()=>{worker.postMessage({route:"stopAnim",args:options._id})},start:()=>{worker.postMessage({route:"startAnim",args:options._id})},set:newDrawProps=>{worker.postMessage({route:"setDraw",args:[newDrawProps,options._id]})}};return workercontrols},receiveCanvas:function(options){if(!this.graph.CANVASES)this.graph.CANVASES={};let canvasOptions=options;options._id?canvasOptions._id=options._id:canvasOptions._id=`canvas${Math.floor(Math.random()*1e15)}`;typeof options.context==="string"?canvasOptions.context=options.canvas.getContext(options.context):canvasOptions.context=options.context;"animating"in options?canvasOptions.animating=options.animating:canvasOptions.animating=true;if(this.graph.CANVASES[canvasOptions._id]){this.graph.run("setDraw",canvasOptions)}else{canvasOptions.graph=this.graph;this.graph.CANVASES[canvasOptions._id]=canvasOptions;this.graph.run("makeProxy",canvasOptions._id,canvasOptions.canvas);if(options.width)canvasOptions.canvas.width=options.width;if(options.height)canvasOptions.canvas.height=options.height;if(typeof canvasOptions.draw==="string"){canvasOptions.draw=parseFunctionFromText(canvasOptions.draw)}if(typeof canvasOptions.update==="string"){canvasOptions.update=parseFunctionFromText(canvasOptions.update)}if(typeof canvasOptions.init==="string"){canvasOptions.init=parseFunctionFromText(canvasOptions.init)}if(typeof canvasOptions.clear==="string"){canvasOptions.clear=parseFunctionFromText(canvasOptions.clear)}if(typeof canvasOptions.init==="function")canvasOptions.init(canvasOptions,canvasOptions.canvas,canvasOptions.context);if(typeof canvasOptions.draw==="function"&&canvasOptions.animating){let draw=(s,canvas,context)=>{if(s.animating){s.draw(s,canvas,context);requestAnimationFrame(()=>{draw(s,canvas,context)})}};draw(canvasOptions,canvasOptions.canvas,canvasOptions.context)}}return canvasOptions._id},setDraw:function(settings,_id){let canvasopts;if(_id)canvasopts=this.graph.CANVASES?.[settings._id];else if(settings._id)canvasopts=this.graph.CANVASES?.[settings._id];else canvasopts=this.graph.CANVASES?.[Object.keys(this.graph.CANVASES)[0]];if(canvasopts){if(settings.canvas){canvasopts.canvas=settings.canvas;this.graph.run("makeProxy",canvasopts._id,canvasopts.canvas)}if(typeof settings.context==="string")canvasopts.context=canvasopts.canvas.getContext(settings.context);else if(settings.context)canvasopts.context=settings.context;if(settings.width)canvasopts.canvas.width=settings.width;if(settings.height)canvasopts.canvas.height=settings.height;if(typeof settings.draw==="string")settings.draw=parseFunctionFromText(settings.draw);if(typeof settings.draw==="function"){canvasopts.draw=settings.draw}if(typeof settings.update==="string")settings.update=parseFunctionFromText(settings.update);if(typeof settings.update==="function"){canvasopts.update=settings.update}if(typeof settings.init==="string")settings.init=parseFunctionFromText(settings.init);if(typeof settings.init==="function"){canvasopts.init=settings.init}if(typeof settings.clear==="string")settings.clear=parseFunctionFromText(settings.clear);if(typeof settings.clear==="function"){canvasopts.clear=settings.clear}return settings._id}return void 0},drawFrame:function(props,_id){let canvasopts;if(!_id)canvasopts=this.graph.CANVASES?.[Object.keys(this.graph.CANVASES)[0]];else canvasopts=this.graph.CANVASES?.[_id];if(canvasopts){if(props)Object.assign(canvasopts,props);if(canvasopts.draw){canvasopts.draw(canvasopts,canvasopts.canvas,canvasopts.context);return _id}}return void 0},clearCanvas:function(_id){let canvasopts;if(!_id)canvasopts=this.graph.CANVASES?.[Object.keys(this.graph.CANVASES)[0]];else canvasopts=this.graph.CANVASES?.[_id];if(canvasopts?.clear){canvasopts.clear(canvasopts,canvasopts.canvas,canvasopts.context);return _id}return void 0},initCanvas:function(_id){let canvasopts;if(!_id)canvasopts=this.graph.CANVASES?.[Object.keys(this.graph.CANVASES)[0]];else canvasopts=this.graph.CANVASES?.[_id];if(canvasopts?.init){canvasopts.init(canvasopts,canvasopts.canvas,canvasopts.context);return _id}return void 0},updateCanvas:function(input,_id){let canvasopts;if(!_id)canvasopts=this.graph.CANVASES?.[Object.keys(this.graph.CANVASES)[0]];else canvasopts=this.graph.CANVASES?.[_id];if(canvasopts?.update){canvasopts.update(canvasopts,canvasopts.canvas,canvasopts.context,input);return _id}return void 0},setProps:function(props,_id){let canvasopts;if(!_id)canvasopts=this.graph.CANVASES?.[Object.keys(this.graph.CANVASES)[0]];else canvasopts=this.graph.CANVASES?.[_id];if(canvasopts){Object.assign(canvasopts,props);if(props.width)canvasopts.canvas.width=props.width;if(props.height)canvasopts.canvas.height=props.height;return _id}return void 0},startAnim:function(_id,draw){let canvasopts;if(!_id)canvasopts=this.graph.CANVASES?.[Object.keys(this.graph.CANVASES)[0]];else canvasopts=this.graph.CANVASES?.[_id];canvasopts.animating=true;if(canvasopts&&draw){if(typeof draw==="string")draw=parseFunctionFromText(draw);if(typeof draw==="function"){canvasopts.draw=draw}return _id}if(typeof canvasopts?.draw==="function"){let draw2=(s,canvas,context)=>{if(s.animating){s.draw(s,canvas,context);requestAnimationFrame(()=>{draw2(s,canvas,context)})}};if(typeof canvasopts.clear==="function")canvasopts.clear(canvasopts,canvasopts.canvas,canvasopts.context);if(typeof canvasopts.init==="function")canvasopts.init(canvasopts,canvasopts.canvas,canvasopts.context);draw2(canvasopts,canvasopts.canvas,canvasopts.context);return _id}return void 0},stopAnim:function(_id){let canvasopts;if(!_id)canvasopts=this.graph.CANVASES?.[Object.keys(this.graph.CANVASES)[0]];else canvasopts=this.graph.CANVASES?.[_id];if(canvasopts){canvasopts.animating=false;if(typeof canvasopts.clear==="function")canvasopts.clear(canvasopts,canvasopts.canvas,canvasopts.context);return _id}return void 0}};var algorithms={};var loadAlgorithms=settings=>{return Object.assign(algorithms,settings)};function createSubprocess(options,inputs){let ctx={_id:options._id?options._id:`algorithm${Math.floor(Math.random()*1e15)}`,ondata:options.ondata,run:data=>{return ctx.ondata(ctx,data)}};if(options.structs)recursivelyAssign(ctx,JSON.parse(JSON.stringify(options.structs)));if(inputs)recursivelyAssign(ctx,JSON.parse(JSON.stringify(inputs)));if(options.oncreate){ctx.oncreate=options.oncreate}if(ctx.oncreate){ctx.oncreate(ctx)}return ctx}var recursivelyAssign=(target,obj)=>{for(const key in obj){if(typeof obj[key]==="object"&&!Array.isArray(obj[key])){if(typeof target[key]==="object"&&!Array.isArray(target[key]))recursivelyAssign(target[key],obj[key]);else target[key]=recursivelyAssign({},obj[key])}else target[key]=obj[key]}return target};var subprocessRoutes={...unsafeRoutes,loadAlgorithms,"initSubprocesses":async function initSubprocesses(subprocesses,service){if(!service)service=this.graph;if(!service)return void 0;for(const p in subprocesses){let s=subprocesses[p];if(!s.worker&&s.url)s.worker=service.addWorker({url:s.url});if(!s.worker)continue;let w=s.worker;let wpId;wpId=service.establishMessageChannel(w.worker,s.source?.worker);if(!s.source)s.source=service;if(typeof s.subprocess==="object"){const p2=s.subprocess;if(!p2.name)continue;if(typeof p2.oncreate==="function"){p2.oncreate=p2.oncreate.toString()}if(typeof p2.ondata==="function"){p2.ondata=p2.ondata.toString()}s.worker.post("addSubprocessTemplate",[p2.name,p2.structs,p2.oncreate,p2.ondata,p2.props]);s.subprocess=p2.name}if(s.init){let r=await w.run(s.init,s.initArgs);s.otherArgs=r}if(s.otherArgs){w.run("setValue",["otherArgsProxy",Array.isArray(s.otherArgs)?s.otherArgs:[s.otherArgs]])}if(s.pipeTo){w.run("setValue",["routeProxy",s.route]);w.run("setValue",["pipeRoute",s.pipeTo.route]);if(s.url&&!s.pipeTo.worker){let w2=service.addWorker({url:s.url});s.pipeTo.portId=service.establishMessageChannel(w.worker,w2.worker);s.pipeTo.worker=w2}if(s.pipeTo.init){s.pipeTo.otherArgs=await s.pipeTo.worker.run(s.pipeTo.init,s.pipeTo.initArgs)}w.run("setValue",["pipePort",s.pipeTo.portId]);if(s.pipeTo.otherArgs)w.run("setValue",["otherPipeArgs",s.pipeTo.otherArgs]);service.transferFunction(w,function pipeResults(data){let inp=data;if(this.graph.otherArgsProxy)inp=[data,...this.graph.otherArgsProxy];let r=this.graph.run(this.graph.routeProxy,inp);if(!s.blocking)return new Promise(res=>{if(r instanceof Promise){r.then(rr=>{if(rr!==void 0){let args=rr;if(this.graph.otherPipeArgs)args=[rr,...this.graph.otherPipeArgs];if(this.workers[this.graph.pipePort]){s.blocking=true;this.workers[this.graph.pipePort].run(this.graph.pipeRoute,args).then(result=>{s.blocking=false;res(result)})}}})}else if(r!==void 0){let args=r;if(this.graph.otherPipeArgs)args=[r,...this.graph.otherPipeArgs];if(this.workers[this.graph.pipePort]){s.blocking=true;this.workers[this.graph.pipePort].run(this.graph.pipeRoute,args).then(result=>{s.blocking=false;res(result)})}}});return void 0},s.route+"_pipeResults");s.route=s.route+"_pipeResults"}else{w.run("setValue",["routeProxy",s.route]);service.transferFunction(w,function routeProxy(data){let r;if(this.graph.otherArgsProxy)r=this.graph.nodes.get(this.graph.routeProxy).operator(data,...this.graph.otherArgsProxy);else r=this.graph.nodes.get(this.graph.routeProxy).operator(data);if(this.graph.state.triggers[this.graph.routeProxy]){if(r instanceof Promise){r.then(rr=>{this.setState({[this.graph.routeProxy]:rr})})}else this.setState({[this.graph.routeProxy]:r})}return r},s.route+"_routeProxy");s.route=s.route+"_routeProxy";if(!s.stopped)w.run("subscribeToWorker",[s.subscribeRoute,wpId,s.route]).then(sub=>{s.sub=sub})}s.stop=async()=>{if(s.source&&typeof s.sub==="number"){s.source.unsubscribe(s.subscribeRoute,s.sub);return true}return void 0};s.start=async()=>{if(typeof s.sub!=="number")return w.run("subscribeToWorker",[s.subscribeRoute,wpId,s.route,s.blocking]).then(sub=>{s.sub=sub})};s.setArgs=async args=>{if(Array.isArray(args))await w.run("setValue",["otherArgsProxy",args]);else if(typeof args==="object"){for(const key in args){await w.run("setValue",[key,args[key]])}}return true};s.terminate=()=>{w.terminate();if(s.source?.worker&&typeof s.sub==="number"){s.source.post("unsubscribe",s.sub)}if(s.pipeTo?.worker){s.pipeTo.worker.terminate()}};if(s.callback)w.subscribe(s.route,res=>{if(typeof s.callback==="string")this.graph.run(s.callback,res);else s.callback(res)})}return subprocesses},"addSubprocessTemplate":function subprocesstempalte(name,structs,oncreate,ondata,props){if(typeof oncreate==="string")oncreate=parseFunctionFromText(oncreate);if(typeof ondata==="string")ondata=parseFunctionFromText(ondata);if(typeof ondata==="function"){algorithms[name]={ondata,oncreate:typeof oncreate==="function"?oncreate:null,structs};if(typeof props==="object")Object.assign(algorithms[name],props);return true}},"updateSubprocess":function updatesubprocess(structs,_id){if(!this.graph.ALGORITHMS)this.graph.ALGORITHMS={};if(!_id)_id=Object.keys(this.graph.ALGORITHMS)[0];if(!_id)return;Object.assign(this.graph.ALGORITHMS[_id],structs)},"createSubprocess":function creatsubprocess(options,inputs){if(!this.graph.ALGORITHMS)this.graph.ALGORITHMS={};if(typeof options==="string"){options=algorithms[options]}if(typeof options==="object"){if(typeof options.ondata==="string")options.ondata=parseFunctionFromText(options.ondata);let ctx;if(typeof options?.ondata==="function")ctx=createSubprocess(options,inputs);if(ctx)this.graph.ALGORITHMS[ctx._id]=ctx;if(ctx)return ctx._id}return false},"runSubprocess":function runsubprocess(data,_id){if(!this.graph.ALGORITHMS)this.graph.ALGORITHMS={};if(!_id)_id=Object.keys(this.graph.ALGORITHMS)[0];if(!_id)return;let res=this.graph.ALGORITHMS[_id].run(data);if(res!==void 0){if(Array.isArray(res)){let pass=[];res.forEach(r=>{if(r!==void 0){pass.push(r);this.graph.setState({[_id]:r})}});if(pass.length>0){return pass}}else{this.graph.setState({[_id]:res});return res}}}};var _ArrayManip=class{constructor(){this.recursivelyAssign=(target,obj)=>{for(const key in obj){if(typeof obj[key]==="object"){if(typeof target[key]==="object")this.recursivelyAssign(target[key],obj[key]);else target[key]=this.recursivelyAssign({},obj[key])}else target[key]=obj[key]}return target}}static autoscale(array,lineIdx=0,nLines=1,centerZero=false,ymin,ymax,clamp){if(array?.length===0)return array;let max=ymax?ymax:Math.max(...array);let min=ymin?ymin:Math.min(...array);let _lines=1/nLines;let scalar=1;if(centerZero){let absmax=Math.max(Math.abs(min),Math.abs(max));if(absmax!==0)scalar=_lines/absmax;return array.map(y=>{if(clamp){if(y<min)y=min;if(y>max)y=max}return y*scalar+(_lines*(lineIdx+1)*2-1-_lines)})}else{if(max===min){if(max!==0){scalar=_lines/max}else if(min!==0){scalar=_lines/Math.abs(min)}}else scalar=_lines/(max-min);return array.map(y=>{if(clamp){if(y<min)y=min;if(y>max)y=max}return 2*((y-min)*scalar-1/(2*nLines))+(_lines*(lineIdx+1)*2-1-_lines)})}}static genTimestamps(ct,sps9){let now=Date.now();let toInterp=[now-ct*1e3/sps9,now];return _ArrayManip.upsample(toInterp,ct)}static absmax(array){return Math.max(Math.abs(Math.min(...array)),Math.max(...array))}static downsample(array,fitCount,scalar=1){if(array.length>fitCount){let output=new Array(fitCount);let incr=array.length/fitCount;let lastIdx=array.length-1;let last=0;let counter=0;for(let i=incr;i<array.length;i+=incr){let rounded=Math.round(i);if(rounded>lastIdx)rounded=lastIdx;for(let j=last;j<rounded;j++){output[counter]+=array[j]}output[counter]/=(rounded-last)*scalar;counter++;last=rounded}return output}else return array}static upsample(array,fitCount,scalar=1){var linearInterpolate=function(before2,after2,atPoint2){return(before2+(after2-before2)*atPoint2)*scalar};var newData=new Array(fitCount);var springFactor=(array.length-1)/(fitCount-1);newData[0]=array[0];for(var i=1;i<fitCount-1;i++){var tmp=i*springFactor;var before=Math.floor(tmp);var after=Math.ceil(tmp);var atPoint=tmp-before;newData[i]=linearInterpolate(array[before],array[after],atPoint)}newData[fitCount-1]=array[array.length-1];return newData}static interpolate(array,fitCount,scalar=1){if(array.length>fitCount){return _ArrayManip.downsample(array,fitCount,scalar)}else if(array.length<fitCount){return _ArrayManip.upsample(array,fitCount,scalar)}return array}static HSLToRGB(h,s,l,scalar=255){s/=100;l/=100;let c=(1-Math.abs(2*l-1))*s,x=c*(1-Math.abs(h/60%2-1)),m=l-c/2,r=0,g=0,b=0;if(0<=h&&h<60){r=c;g=x;b=0}else if(60<=h&&h<120){r=x;g=c;b=0}else if(120<=h&&h<180){r=0;g=c;b=x}else if(180<=h&&h<240){r=0;g=x;b=c}else if(240<=h&&h<300){r=x;g=0;b=c}else if(300<=h&&h<360){r=c;g=0;b=x}r=(r+m)*scalar;g=(g+m)*scalar;b=(b+m)*scalar;return[r,g,b]}static circularBuffer(arr,newEntries){if(newEntries.length<arr.length){let slice=arr.slice(newEntries.length);let len=arr.length;arr.splice(0,len,...slice,...newEntries)}else if(newEntries.length>arr.length){let len=arr.length;arr.splice(0,len,newEntries.slice(len-newEntries.length))}else{arr.splice(0,arr.length,...newEntries)}return arr}static reformatData(data,key){if(Array.isArray(data)){if(Array.isArray(data[0])){let d={};data.forEach((arr,i)=>{d[i]=arr});data=d;if(isNaN(data[0][0]))return void 0}else if(key){data={[key]:data};if(isNaN(data[key][0]))return void 0}else{data={0:data};if(isNaN(data[0][0]))return void 0}}else if(typeof data==="object"){for(const key2 in data){if(typeof data[key2]==="number")data[key2]=[data[key2]];else if(data[key2]?.values){if(typeof data[key2].values==="number")data[key2].values=[data[key2].values]}if(isNaN(data[key2][0]))return void 0}}else if(typeof data==="string"){let split;if(data.includes("\\r\\n")){let lines=data.split("\\r\\n");data={};lines.forEach((l,j)=>{if(l.includes("	")){split=l.split("	")}else if(l.includes(",")){split=l.split(",")}else if(l.includes("|")){split=l.split("|")}split.forEach((val,i)=>{if(val.includes(":")){let[key2,v]=val.split(":");let fl=parseFloat(v);if(fl)data[key2]=[fl];else return void 0}else{let fl=parseFloat(val);if(fl)data[i]=[fl];else return void 0}})})}else if(data.includes("	")){split=data.split("	")}else if(data.includes(",")){split=data.split(",")}else if(data.includes("|")){split=data.split("|")}data={};if(split){split.forEach((val,i)=>{if(val.includes(":")){let[key2,v]=val.split(":");let fl=parseFloat(v);if(fl)data[key2]=[fl];else return void 0}else{let fl=parseFloat(val);if(fl)data[i]=[fl];else return void 0}})}}else if(typeof data==="number"){if(key)data={[key]:[data]};else data={0:[data]}}return data}static padTime(data,lastValue,time,targetFit){let slopeIncr=(data[0]-lastValue)/time/targetFit;let padded=[...new Array(targetFit-data.length).map((_,i)=>lastValue+slopeIncr*(i+1)),...data];return padded}static interpolateForTime(data,time,targetSPS){return _ArrayManip.interpolate(data,Math.ceil(targetSPS*time))}isTypedArray(x){return ArrayBuffer.isView(x)&&Object.prototype.toString.call(x)!=="[object DataView]"}spliceTypedArray(arr,start,end){let s=arr.subarray(0,start);let e;if(end){e=arr.subarray(end+1)}let n;if(s.length>0||e?.length>0)n=new arr.constructor(s.length+e.length);if(s.length>0)n.set(s);if(e&&e.length>0)n.set(e,s.length);return n}};var ArrayManip=_ArrayManip;ArrayManip.bufferValues=(objects,property,keys,buffer)=>{if(!Array.isArray(keys)&&typeof keys==="object")keys=Object.keys(keys);if(!buffer){let object_keys=Object.keys(objects);if(keys)buffer=new Float32Array(object_keys.length*keys.length);else{if(typeof objects[object_keys[0]][property]==="object"){keys=Object.keys(objects[object_keys[0]][property]);buffer=new Float32Array(object_keys.length*keys.length)}else buffer=new Float32Array(object_keys.length)}}let i=0;for(const key in objects){if(objects[key][property]){if(keys){for(let j=0;j<keys.length;j++){buffer[i]=objects[key][property][keys[j]];i++}}else{buffer[i]=objects[key][property];i++}}}return buffer};var rechk=/^([<>])?(([1-9]\\d*)?([xcbB?hHiIfdsp]))*$/;var refmt=/([1-9]\\d*)?([xcbB?hHiIfdsp])/g;var str=(v,o,c)=>String.fromCharCode(...new Uint8Array(v.buffer,v.byteOffset+o,c));var rts=(v,o,c,s)=>new Uint8Array(v.buffer,v.byteOffset+o,c).set(s.split("").map(str2=>str2.charCodeAt(0)));var pst=(v,o,c)=>str(v,o+1,Math.min(v.getUint8(o),c-1));var tsp=(v,o,c,s)=>{v.setUint8(o,s.length);rts(v,o+1,c-1,s)};var lut=le=>({x:c=>[1,c,0],c:c=>[c,1,o=>({u:v=>str(v,o,1),p:(v,c2)=>rts(v,o,1,c2)})],"?":c=>[c,1,o=>({u:v=>Boolean(v.getUint8(o)),p:(v,B)=>v.setUint8(o,B)})],b:c=>[c,1,o=>({u:v=>v.getInt8(o),p:(v,b)=>v.setInt8(o,b)})],B:c=>[c,1,o=>({u:v=>v.getUint8(o),p:(v,B)=>v.setUint8(o,B)})],h:c=>[c,2,o=>({u:v=>v.getInt16(o,le),p:(v,h)=>v.setInt16(o,h,le)})],H:c=>[c,2,o=>({u:v=>v.getUint16(o,le),p:(v,H)=>v.setUint16(o,H,le)})],i:c=>[c,4,o=>({u:v=>v.getInt32(o,le),p:(v,i)=>v.setInt32(o,i,le)})],I:c=>[c,4,o=>({u:v=>v.getUint32(o,le),p:(v,I)=>v.setUint32(o,I,le)})],f:c=>[c,4,o=>({u:v=>v.getFloat32(o,le),p:(v,f)=>v.setFloat32(o,f,le)})],d:c=>[c,8,o=>({u:v=>v.getFloat64(o,le),p:(v,d)=>v.setFloat64(o,d,le)})],s:c=>[1,c,o=>({u:v=>str(v,o,c),p:(v,s)=>rts(v,o,c,s.slice(0,c))})],p:c=>[1,c,o=>({u:v=>pst(v,o,c),p:(v,s)=>tsp(v,o,c,s.slice(0,c-1))})]});var errbuf=new RangeError("Structure larger than remaining buffer");var errval=new RangeError("Not enough values for structure");var _ByteParser=class extends ArrayManip{static toDataView(value){if(!(value instanceof DataView)){if(typeof value==="string"&&parseInt(value))value=parseInt(value);if(typeof value==="string"){let enc=new TextEncoder;let hascodes={};for(const code in _ByteParser.codes){while(value.indexOf(code)>-1){let idx=value.indexOf(code);value=value.replace(code,"");hascodes[idx]=code}}let encoded=Array.from(enc.encode(value));for(const key in hascodes){encoded.splice(parseInt(key),0,_ByteParser.codes[hascodes[key]])}value=new DataView(new Uint8Array(encoded).buffer)}else if(typeof value==="number"){let tmp=value;if(value<256){value=new DataView(new ArrayBuffer(1));value.setUint8(0,tmp)}else if(value<65536){value=new DataView(new ArrayBuffer(2));value.setInt16(0,tmp)}else{value=new DataView(new ArrayBuffer(4));value.setUint32(0,tmp)}}else if(value instanceof ArrayBuffer||typeof SharedArrayBuffer!=="undefined"&&value instanceof SharedArrayBuffer){value=new DataView(value)}else if(Array.isArray(value)){value=new DataView(Uint8Array.from(value).buffer)}else if(typeof value==="object"){value=new TextEncoder().encode(JSON.stringify(value))}}return value}static searchBuffer(buffer,searchString,limit){var needle=searchString;var haystack=buffer;var search=_ByteParser.boyerMoore(needle);var skip=search.byteLength;var indices=[];for(var i=search(haystack);i!==-1;i=search(haystack,i+skip)){indices.push(i);if(limit){if(indices.length>=limit)break}}return indices}static bytesToInt16(x0,x1){let int16=(255&x0)<<8|255&x1;if((int16&32768)>0){int16|=4294901760}else{int16&=65535}return int16}static bytesToUInt16(x0,x1){return x0*256+x1}static Uint16ToBytes(y){return[y&255,y>>8&255]}static bytesToInt24(x0,x1,x2){let int24=(255&x0)<<16|(255&x1)<<8|255&x2;if((int24&8388608)>0){int24|=4278190080}else{int24&=16777215}return int24}static bytesToUInt24(x0,x1,x2){return x0*65536+x1*256+x2}static Uint24ToBytes(y){return[y&255,y>>8&255,y>>16&255]}static bytesToInt32(x0,x1,x2,x3){let int32=(255&x0)<<24|(255&x1)<<16|(255&x2)<<8|255&x3;if((int32&2147483648)>0){int32|=0}else{int32&=4294967295}return int32}static bytesToUInt32(x0,x1,x2,x3){return x0*16777216+x1*65536+x2*256+x3}static Uint32ToBytes(y){return[y&255,y>>8&255,y>>16&255,y>>24&255]}static get2sCompliment(val,nbits3){if(val>4294967296)return null;return val<<32-nbits3>>32-nbits3}static getSignedInt(...args){let pos=0;function getInt(size){var value=0;var first=true;while(size--){if(first){let byte=args[pos++];value+=byte&127;if(byte&128){value-=128}first=false}else{value*=256;value+=args[pos++]}}return value}return getInt(args.length)}static asUint8Array(input){if(input instanceof Uint8Array){return input}else if(typeof input==="string"){var arr=new Uint8Array(input.length);for(var i=0;i<input.length;i++){var c=input.charCodeAt(i);if(c>127){throw new TypeError("Only ASCII patterns are supported")}arr[i]=c}return arr}else{return new Uint8Array(input)}}static boyerMoore(patternBuffer){var pattern=_ByteParser.asUint8Array(patternBuffer);var M=pattern.length;if(M===0){throw new TypeError("patternBuffer must be at least 1 byte long")}var R=256;var rightmost_positions=new Int32Array(R);for(var c=0;c<R;c++){rightmost_positions[c]=-1}for(var j=0;j<M;j++){rightmost_positions[pattern[j]]=j}var boyerMooreSearch=(txtBuffer,start,end)=>{var txt=_ByteParser.asUint8Array(txtBuffer);if(start===void 0)start=0;if(end===void 0)end=txt.length;var pat=pattern;var right=rightmost_positions;var lastIndex=end-pat.length;var lastPatIndex=pat.length-1;var skip;for(var i=start;i<=lastIndex;i+=skip){skip=0;for(var j2=lastPatIndex;j2>=0;j2--){var c2=txt[i+j2];if(pat[j2]!==c2){skip=Math.max(1,j2-right[c2]);break}}if(skip===0){return i}}return-1};boyerMooreSearch.byteLength=pattern.byteLength;return boyerMooreSearch}static struct(format){let fns=[],size=0,m=rechk.exec(format);if(!m){throw new RangeError("Invalid format string")}const t=lut("<"===m[1]),lu=(n,c)=>t[c](n?parseInt(n,10):1);while(m=refmt.exec(format)){((r,s,f)=>{for(let i=0;i<r;++i,size+=s){if(f){fns.push(f(size))}}})(...lu(...m.slice(1)))}const unpack_from=(arrb,offs)=>{if(arrb.byteLength<(offs|0)+size){throw errbuf}let v=new DataView(arrb,offs|0);return fns.map(f=>f.u(v))};const pack_into=(arrb,offs,...values)=>{if(values.length<fns.length){throw errval}if(arrb.byteLength<offs+size){throw errbuf}const v=new DataView(arrb,offs);new Uint8Array(arrb,offs,size).fill(0);fns.forEach((f,i)=>f.p(v,values[i]))};const pack=(...values)=>{let b=new ArrayBuffer(size);pack_into(b,0,...values);return b};const unpack=arrb=>unpack_from(arrb,0);function*iter_unpack(arrb){for(let offs=0;offs+size<=arrb.byteLength;offs+=size){yield unpack_from(arrb,offs)}}return Object.freeze({unpack,pack,unpack_from,pack_into,iter_unpack,format,size})}};var ByteParser=_ByteParser;ByteParser.codes={"\\\\n":10,"\\\\r":13,"\\\\t":9,"\\\\s":32,"\\\\b":8,"\\\\f":12,"\\\\":92};var WebSerial=class extends ByteParser{constructor(){super(...arguments);this.streams={};this.createStream=options=>{let stream={_id:options._id?options._id:`stream${Math.floor(Math.random()*1e15)}`,info:options.port.getInfo(),running:false,...options};if(options.port?.readable){if(options.transforms){stream.reader=WebSerial.setStreamTransforms(options.port.readable,options.transforms).getReader()}else{stream.reader=options.port.readable.getReader()}}this.streams[stream._id]=stream;return stream}}getPorts(){return navigator.serial.getPorts()}requestPort(usbVendorId,usbProductId){let options={};if(usbVendorId){options.usbVendorId=usbVendorId}if(usbProductId){options.usbProductId=usbProductId}if(options.usbVendorId)return navigator.serial.requestPort({filters:[options]});else return navigator.serial.requestPort()}openPort(port,options){if(options)options=Object.assign({},options);if(options?.ondisconnect){port.ondisconnect=options.ondisconnect;delete options.ondisconnect}return port.open(options).then(()=>{if(options?.onconnect)options.onconnect(port)})}async readWithTimeout(port,timeout){const reader=port.readable.getReader();const timer=setTimeout(()=>{reader.releaseLock()},timeout);const result=await reader.read();clearTimeout(timer);reader.releaseLock();return result}async writePort(port,message){const writer=port.writable.getWriter();await writer.write(WebSerial.toDataView(message));writer.releaseLock();return true}getSignals(port){return port.getSignals()}setSignals(port,signals){return port.setSignals(signals)}readStream(stream){if(stream.reader&&!stream.running){let reader=stream.reader;if(stream.buffering){if(typeof stream.buffering!=="object")stream.buffering={};if(!stream.buffering.buffer){stream.buffering.buffer=[]}if(!stream.buffering.searchBytes)stream.buffering.searchBytes=new Uint8Array([13,10])}let readLoop=()=>{if(stream.port.readable&&stream.running){reader.read().then(result=>{if(result.done)reader.releaseLock();else{if(stream.buffering){stream.buffering.buffer.push(...result.value);const needle=stream.buffering.searchBytes;const haystack=stream.buffering.buffer;const search=WebSerial.boyerMoore(needle);const skip=search.byteLength;let nextIndex=-1;for(var i=search(haystack);i!==-1;i=search(haystack,i+skip)){if(!stream.buffering.locked&&!("lockIdx"in stream.buffering))stream.buffering.lockIdx=i;else{nextIndex=i;if(nextIndex>=0){if(!stream.buffering.locked){stream.ondata(new Uint8Array(stream.buffering.buffer.splice(stream.buffering.lockIdx+stream.buffering.searchBytes.length,nextIndex+stream.buffering.searchBytes.length)));stream.buffering.buffer.splice(0,stream.buffering.searchBytes.length);stream.buffering.locked=true}else if(nextIndex>0){stream.ondata(new Uint8Array(stream.buffering.buffer.splice(stream.buffering.searchBytes.length,nextIndex)))}}}}}else stream.ondata(result.value);setTimeout(()=>{readLoop()},stream.frequency)}}).catch(er=>{console.error(stream._id," Read error:",er);if(er.message.includes("overrun")||er.message.includes("framing")){delete stream.reader;this.reconnect(stream)}})}else if(!stream.running&&stream.port.readable){try{reader.releaseLock()}catch(er){console.error(er)}}};stream.running=true;readLoop();return stream}return void 0}writeStream(stream,message){if(typeof stream==="string")stream=this.streams[stream];if(stream.port.writable){let writer=stream.port.writable.getWriter();writer.write(WebSerial.toDataView(message));writer.releaseLock();return true}return void 0}closeStream(stream,onclose){if(typeof stream==="string")stream=this.streams[stream];stream.running=false;return new Promise((res,rej)=>{setTimeout(async()=>{if(stream.port.readable&&stream.reader){try{stream.reader.releaseLock()}catch(er){console.error(er)}if(stream.transforms)try{await stream.reader.cancel()}catch(err){console.error(err)}}try{await stream.port.close().then(()=>{if(onclose)onclose(this.streams[stream._id])});delete this.streams[stream._id];res(true)}catch(er){rej(er)}},300)})}reconnect(stream,options){if(typeof stream==="string")stream=this.streams[stream];return new Promise((res,rej)=>{if(typeof stream!=="object"){rej(void 0);return}let info=stream.port.getInfo();this.closeStream(stream._id).then(closed=>{setTimeout(()=>{this.getPorts().then(ports=>{for(let i=0;i<ports.length;i++){if(ports[i].getInfo().usbVendorId===info.usbVendorId&&ports[i].getInfo().usbProductId===info.usbProductId){if(!options)options=stream;else options._id=stream._id;delete options.port;this.openPort(ports[i],options.settings).then(()=>{const stream2=this.createStream({...options,port:ports[i]});this.readStream(stream2);res(stream2)}).catch(rej)}}}).catch(rej)},100)})})}static setStreamTransforms(stream,transforms){let transform=[];Object.keys(transforms).forEach(t=>{let opt=transforms[t];if(opt instanceof TransformStream){transform.push(opt)}else{if(!opt.start)opt.start=function start(){};if(!opt.flush)opt.flush=function flush(){};let transformer=new TransformStream({start:opt.start,transform:opt.transform,flush:opt.flush},opt.writableStrategy,opt.readableStrategy);transform.push(transformer)}});let str2=stream;transform.forEach(transform2=>{str2=str2.pipeThrough(transform2)});return str2}};function ads131m08codec(data){let arr;if(data.getInt8)arr=new Uint8Array(data.buffer);else if(!data.buffer)arr=new Uint8Array(data);else arr=data;let output={0:new Array(9),1:new Array(9),2:new Array(9),3:new Array(9),4:new Array(9),5:new Array(9),6:new Array(9),7:new Array(9),timestamp:Date.now()};for(let i=0;i<9;i++){let j=i*25;output[0][i]=ByteParser.bytesToInt24(arr[j],arr[j+1],arr[j+2]);output[1][i]=ByteParser.bytesToInt24(arr[j+3],arr[j+4],arr[j+5]);output[2][i]=ByteParser.bytesToInt24(arr[j+6],arr[j+7],arr[j+8]);output[3][i]=ByteParser.bytesToInt24(arr[j+9],arr[j+10],arr[j+11]);output[4][i]=ByteParser.bytesToInt24(arr[j+12],arr[j+13],arr[j+14]);output[5][i]=ByteParser.bytesToInt24(arr[j+15],arr[j+16],arr[j+17]);output[6][i]=ByteParser.bytesToInt24(arr[j+18],arr[j+19],arr[j+20]);output[7][i]=ByteParser.bytesToInt24(arr[j+21],arr[j+22],arr[j+23])}return output}var decoder=new TextDecoder;function ads131m08_arduinocodec(data){const parsed=decoder.decode(data);let split;if(parsed.includes("|"))split=parsed.split("|");else if(split.includes(","))split=parsed.split(",");else split=parsed.split("	");return{"0":parseInt(split[0]),"1":parseInt(split[1]),"2":parseInt(split[2]),"3":parseInt(split[3]),"4":parseInt(split[4]),"5":parseInt(split[5]),"6":parseInt(split[6]),"7":parseInt(split[7]),timestamp:Date.now()}}var sps=250;var defaultChartSetting={nSec:10,sps,units:"mV"};var ads131m08ChartSettings={lines:{"0":JSON.parse(JSON.stringify(defaultChartSetting)),"1":JSON.parse(JSON.stringify(defaultChartSetting)),"2":JSON.parse(JSON.stringify(defaultChartSetting)),"3":JSON.parse(JSON.stringify(defaultChartSetting)),"4":JSON.parse(JSON.stringify(defaultChartSetting)),"5":JSON.parse(JSON.stringify(defaultChartSetting)),"6":JSON.parse(JSON.stringify(defaultChartSetting)),"7":JSON.parse(JSON.stringify(defaultChartSetting))}};var gain=32;var nbits=24;var vref=1.2;var defaultsetting={sps,useDCBlock:false,useBandpass:false,bandpassLower:3,bandpassUpper:45,useScaling:true,scalar:.96*1e3*vref/(gain*(Math.pow(2,nbits)-1))};var ads131m08FilterSettings={"0":JSON.parse(JSON.stringify(defaultsetting)),"1":JSON.parse(JSON.stringify(defaultsetting)),"2":JSON.parse(JSON.stringify(defaultsetting)),"3":JSON.parse(JSON.stringify(defaultsetting)),"4":JSON.parse(JSON.stringify(defaultsetting)),"5":JSON.parse(JSON.stringify(defaultsetting)),"6":JSON.parse(JSON.stringify(defaultsetting)),"7":JSON.parse(JSON.stringify(defaultsetting))};function cytoncodec(data){let arr;if(!data.buffer)arr=new Uint8Array(data);else arr=data;let output={};for(let i=0;i<8;i++){let idx=1+3*i;output[i]=ByteParser.bytesToInt24(arr[idx],arr[idx+1],arr[idx+2])}let accIdx=25;output.ax=ByteParser.bytesToInt16(arr[accIdx],arr[accIdx+1]);output.ay=ByteParser.bytesToInt16(arr[accIdx+2],arr[accIdx+3]);output.az=ByteParser.bytesToInt16(arr[accIdx+4],arr[accIdx+5]);output.gx=ByteParser.bytesToInt16(arr[accIdx+6],arr[accIdx+7]);output.gy=ByteParser.bytesToInt16(arr[accIdx+8],arr[accIdx+9]);output.gz=ByteParser.bytesToInt16(arr[accIdx+10],arr[accIdx+11]);output.timestamp=Date.now();return output}var sps2=250;var cytonSerialSettings={baudRate:115200,codec:cytoncodec,sps:sps2};var defaultChartSetting2={nSec:10,sps:sps2,units:"mV"};var cytonChartSettings={lines:{"0":JSON.parse(JSON.stringify(defaultChartSetting2)),"1":JSON.parse(JSON.stringify(defaultChartSetting2)),"2":JSON.parse(JSON.stringify(defaultChartSetting2)),"3":JSON.parse(JSON.stringify(defaultChartSetting2)),"4":JSON.parse(JSON.stringify(defaultChartSetting2)),"5":JSON.parse(JSON.stringify(defaultChartSetting2)),"6":JSON.parse(JSON.stringify(defaultChartSetting2)),"7":JSON.parse(JSON.stringify(defaultChartSetting2)),"ax":JSON.parse(JSON.stringify(defaultChartSetting2)),"ay":JSON.parse(JSON.stringify(defaultChartSetting2)),"az":JSON.parse(JSON.stringify(defaultChartSetting2)),"gx":JSON.parse(JSON.stringify(defaultChartSetting2)),"gy":JSON.parse(JSON.stringify(defaultChartSetting2)),"gz":JSON.parse(JSON.stringify(defaultChartSetting2))},generateNewLines:true};var defaultsetting2={sps:sps2,useDCBlock:true,useBandpass:true,bandpassLower:3,bandpassUpper:45,useScaling:true,scalar:1e3*4.5/(24*(Math.pow(2,23)-1))};var cytonFilterSettings={"0":JSON.parse(JSON.stringify(defaultsetting2)),"1":JSON.parse(JSON.stringify(defaultsetting2)),"2":JSON.parse(JSON.stringify(defaultsetting2)),"3":JSON.parse(JSON.stringify(defaultsetting2)),"4":JSON.parse(JSON.stringify(defaultsetting2)),"5":JSON.parse(JSON.stringify(defaultsetting2)),"6":JSON.parse(JSON.stringify(defaultsetting2)),"7":JSON.parse(JSON.stringify(defaultsetting2)),"8":JSON.parse(JSON.stringify(defaultsetting2)),"9":JSON.parse(JSON.stringify(defaultsetting2)),"10":JSON.parse(JSON.stringify(defaultsetting2)),"11":JSON.parse(JSON.stringify(defaultsetting2)),"12":JSON.parse(JSON.stringify(defaultsetting2)),"13":JSON.parse(JSON.stringify(defaultsetting2)),"14":JSON.parse(JSON.stringify(defaultsetting2)),"15":JSON.parse(JSON.stringify(defaultsetting2))};function freeeeg128codec(data){let arr;if(data.getInt8)arr=new Uint8Array(data.buffer);else if(!data.buffer)arr=new Uint8Array(data);else arr=data;let output={};for(let i=0;i<128;i++){let idx=i*3+1;output[i]=ByteParser.bytesToInt24(arr[idx],arr[idx+1],arr[idx+2])}let accIdx=385;output["ax"]=ByteParser.bytesToInt16(arr[accIdx],arr[accIdx+1]);output["ay"]=ByteParser.bytesToInt16(arr[accIdx+2],arr[accIdx+3]);output["az"]=ByteParser.bytesToInt16(arr[accIdx+4],arr[accIdx+5]);output["gx"]=ByteParser.bytesToInt16(arr[accIdx+6],arr[accIdx+7]);output["gy"]=ByteParser.bytesToInt16(arr[accIdx+8],arr[accIdx+9]);output["gz"]=ByteParser.bytesToInt16(arr[accIdx+10],arr[accIdx+11]);output.timestamp=Date.now();return output}var sps3=250;var freeeeg128SerialSettings={baudRate:921600,bufferSize:2e3,frequency:1.9,codec:freeeeg128codec,sps:sps3};var freeeeg128ChartSettings={lines:{"ax":{nSec:10,sps:sps3},"ay":{nSec:10,sps:sps3},"az":{nSec:10,sps:sps3},"gx":{nSec:10,sps:sps3},"gy":{nSec:10,sps:sps3},"gz":{nSec:10,sps:sps3}}};var freeeeg128FilterSettings={};for(let i=0;i<128;i++){freeeeg128ChartSettings.lines[i]={sps:sps3,nSec:10,units:"mV"};freeeeg128FilterSettings[i]={sps:250,useDCBlock:true,useBandpass:true,bandpassLower:3,bandpassUpper:45,scalar:1e3*2.5/(32*(Math.pow(2,24)-1))}}function freeeeg32codec(data){let arr;if(data.getInt8)arr=new Uint8Array(data.buffer);else if(!data.buffer)arr=new Uint8Array(data);else arr=data;let output={};for(let i=0;i<32;i++){let idx=i*3+1;output[i]=ByteParser.bytesToInt24(arr[idx],arr[idx+1],arr[idx+2])}let accIdx=97;output["ax"]=ByteParser.bytesToInt16(arr[accIdx],arr[accIdx+1]);output["ay"]=ByteParser.bytesToInt16(arr[accIdx+2],arr[accIdx+3]);output["az"]=ByteParser.bytesToInt16(arr[accIdx+4],arr[accIdx+5]);output["gx"]=ByteParser.bytesToInt16(arr[accIdx+6],arr[accIdx+7]);output["gy"]=ByteParser.bytesToInt16(arr[accIdx+8],arr[accIdx+9]);output["gz"]=ByteParser.bytesToInt16(arr[accIdx+10],arr[accIdx+11]);output.timestamp=Date.now();return output}var sps4=512;var freeeeg32SerialSettings={baudRate:921600,bufferSize:2e3,frequency:1.9,codec:freeeeg32codec,sps:sps4};var freeeeg32_optical_SerialSettings={baudRate:1e6,bufferSize:2e3,frequency:1.9,codec:freeeeg32codec,sps:sps4};var defaultChartSetting3={nSec:10,sps:sps4};var freeeeg32ChartSettings={lines:{"ax":JSON.parse(JSON.stringify(defaultChartSetting3)),"ay":JSON.parse(JSON.stringify(defaultChartSetting3)),"az":JSON.parse(JSON.stringify(defaultChartSetting3)),"gx":JSON.parse(JSON.stringify(defaultChartSetting3)),"gy":JSON.parse(JSON.stringify(defaultChartSetting3)),"gz":JSON.parse(JSON.stringify(defaultChartSetting3))}};var freeeeg32FilterSettings={};for(let i=0;i<32;i++){freeeeg32ChartSettings.lines[i]={sps:sps4,nSec:10,units:"mV"};freeeeg32FilterSettings[i]={sps:sps4,useDCBlock:true,useBandpass:true,bandpassLower:3,bandpassUpper:45,useScaling:true,scalar:1e3*2.5/(8*(Math.pow(2,24)-1))}}var textdecoder=new TextDecoder;function hegduinocodec(value){let output={timestamp:0,red:0,infrared:0,heg:0,ambient:0,temperature:0};let txt=textdecoder.decode(value);let line=txt.split("|");if(line.length===3){output.timestamp=Date.now();output.red=parseInt(line[0]);output.infrared=parseInt(line[1]);output.heg=parseFloat(line[2])}else if(line.length>=2){output.timestamp=Date.now();output.red=parseInt(line[1]);output.infrared=parseInt(line[2]);output.heg=parseFloat(line[3]);if(line[4])output.ambient=parseFloat(line[4]);if(line[5])output.temperature=parseFloat(line[5]);return output}else return txt}var sps5=40;var hegduinoSerialSettings={baudRate:115200,write:"t\\n",codec:hegduinocodec,sps:sps5};var hegduinoV1SerialSettings=Object.assign({},hegduinoSerialSettings);hegduinoV1SerialSettings.sps=19;var hegduinoBLESettings={sps:sps5,services:{["6E400001-B5A3-F393-E0A9-E50E24DCCA9E".toLowerCase()]:{"6e400002-b5a3-f393-e0a9-e50e24dcca9e":{write:"t"},"6e400003-b5a3-f393-e0a9-e50e24dcca9e":{notify:true,notifyCallback:void 0,codec:hegduinocodec,sps:sps5}},["6E400004-B5A3-F393-E0A9-E50E24DCCA9E".toLowerCase()]:{["6E400005-B5A3-F393-E0A9-E50E24DCCA9E".toLowerCase()]:{read:true},["6E400006-B5A3-F393-E0A9-E50E24DCCA9E".toLowerCase()]:{write:void 0,notify:true,notifyCallback:void 0},["6E400007-B5A3-F393-E0A9-E50E24DCCA9E".toLowerCase()]:{read:true}}},androidWebBLE:"o"};var hegduinoV1BLESettings=Object.assign({},hegduinoSerialSettings);hegduinoV1BLESettings.sps=19;function max3010xcodec(data){let arr;if(data.getInt8)arr=new Uint8Array(data.buffer);else if(!data.buffer)arr=new Uint8Array(data);else arr=data;const output={"red":new Array(32),"ir":new Array(32),"max_dietemp":ByteParser.get2sCompliment(arr[193],8)+.0625*arr[194],"timestamp":Date.now()};let i=0;while(i<32){let idx=i*6;if(i%2===0){output["ir"][i]=(arr[idx+1]<<16|arr[idx+2]<<8|arr[idx+3])&524287;output["ir"][i+1]=(arr[idx+4]<<16|arr[idx+5]<<8|arr[idx+6])&524287}else{output["red"][i-1]=(arr[idx+1]<<16|arr[idx+2]<<8|arr[idx+3])&524287;output["red"][i]=(arr[idx+4]<<16|arr[idx+5]<<8|arr[idx+6])&524287}i++}return output}function mpu6050codec(data){let arr;if(data.getInt8)arr=new Uint8Array(data.buffer);else if(!data.buffer)arr=new Uint8Array(data);else arr=data;let output={"ax":new Array(20),"ay":new Array(20),"az":new Array(20),"gx":new Array(20),"gy":new Array(20),"gz":new Array(20),"mpu_dietemp":(ByteParser.bytesToInt16(arr[241],arr[242])+521)/340+35,timestamp:Date.now()};for(let i=0;i<20;i++){let idx=i*12;output.ax[i]=ByteParser.bytesToInt16(arr[idx+1],arr[idx+2]);output.ay[i]=ByteParser.bytesToInt16(arr[idx+3],arr[idx+4]);output.az[i]=ByteParser.bytesToInt16(arr[idx+5],arr[idx+6]);output.gx[i]=ByteParser.bytesToInt16(arr[idx+7],arr[idx+8]);output.gy[i]=ByteParser.bytesToInt16(arr[idx+9],arr[idx+10]);output.gz[i]=ByteParser.bytesToInt16(arr[idx+11],arr[idx+12])}return output}function cognixionONE_EEG_codec(data){let arr;if(data.getInt8)arr=new Uint8Array(data.buffer);else if(!data.buffer)arr=new Uint8Array(data);else arr=data;let output={0:new Array,1:new Array,2:new Array,3:new Array,4:new Array,5:new Array,6:new Array,7:new Array,timestamp:Date.now()};for(let i=0;i<7;i++){let j=i*26+1;if(!arr[j+23])break;output[0][i]=ByteParser.bytesToUInt24(arr[j],arr[j+1],arr[j+2]);output[1][i]=ByteParser.bytesToUInt24(arr[j+3],arr[j+4],arr[j+5]);output[2][i]=ByteParser.bytesToUInt24(arr[j+6],arr[j+7],arr[j+8]);output[3][i]=ByteParser.bytesToUInt24(arr[j+9],arr[j+10],arr[j+11]);output[4][i]=ByteParser.bytesToUInt24(arr[j+12],arr[j+13],arr[j+14]);output[5][i]=ByteParser.bytesToUInt24(arr[j+15],arr[j+16],arr[j+17]);output[6][i]=ByteParser.bytesToUInt24(arr[j+18],arr[j+19],arr[j+20]);output[7][i]=ByteParser.bytesToUInt24(arr[j+21],arr[j+22],arr[j+23])}return output}var sps6=250;var cognixionONEBLESettings={services:{["82046698-6313-4BB1-9645-6BA28BF86DF5".toLowerCase()]:{["8204669A-6313-4BB1-9645-6BA28BF86DF5".toLowerCase()]:{notify:true,notifyCallback:void 0,codec:cognixionONE_EEG_codec,sps:sps6}},["82E12914-9AFA-4648-BD1B-8E2B3DC6DAAF".toLowerCase()]:{["82E12915-9AFA-4648-BD1B-8E2B3DC6DAAF".toLowerCase()]:{write:void 0},["82E12916-9AFA-4648-BD1B-8E2B3DC6DAAF".toLowerCase()]:{read:true}}},sps:sps6};var defaultChartSetting4={nSec:10,sps:sps6,units:"mV"};var cognixionONEChartSettings={lines:{"0":JSON.parse(JSON.stringify(defaultChartSetting4)),"1":JSON.parse(JSON.stringify(defaultChartSetting4)),"2":JSON.parse(JSON.stringify(defaultChartSetting4)),"3":JSON.parse(JSON.stringify(defaultChartSetting4)),"4":JSON.parse(JSON.stringify(defaultChartSetting4)),"5":JSON.parse(JSON.stringify(defaultChartSetting4)),"6":JSON.parse(JSON.stringify(defaultChartSetting4)),"7":JSON.parse(JSON.stringify(defaultChartSetting4))}};var PeanutCodes={2:{type:"POOR_SIGNAL",format:"<B",byteLength:1},144:{type:"heg",format:"<i",byteLength:4},145:{type:"filteredHEG",format:"<i",byteLength:4},147:{type:"rawdata4",format:"<iiii",byteLength:4*4},148:{type:"rawdata6",format:"<iiiiii",byteLength:4*6},160:{type:"sampleNumber",format:"<i",byteLength:4},176:{type:"debug0",format:"<i",byteLength:4},177:{type:"debug1",format:"<i",byteLength:4},178:{type:"debug2",format:"<i",byteLength:4},179:{type:"debug3",format:"<i",byteLength:4},180:{type:"debug4",format:"<iiiiii",byteLength:4*6},181:{type:"debug4",format:"<iiiiii",byteLength:4*6},182:{type:"rawdata27",format:"<B"+"i".repeat(26),byteLength:1+4*26}};function peanutcodec(data){let result={};let i=0;while(i<data.length){if(PeanutCodes[data[i]]&&i+1+PeanutCodes[data[i]].byteLength<=data.length){let slice=data.slice(i+1,i+1+PeanutCodes[data[i]].byteLength).buffer;let unpacked=ByteParser.struct(PeanutCodes[data[i]].format).unpack(slice);let code=PeanutCodes[data[i]].type;if(code==="unfilteredHEG"||code==="heg")unpacked=unpacked[0]/256;else if(code==="POOR_SIGNAL"||code==="sampleNumber"||code==="debug0"||code==="debug1"||code==="debug2"||code==="debug3")unpacked=unpacked[0];if(!result[PeanutCodes[data[i]].type]){if(Array.isArray(unpacked))result[PeanutCodes[data[i]].type]=unpacked;else result[PeanutCodes[data[i]].type]=[unpacked]}else{if(Array.isArray(unpacked))result[PeanutCodes[data[i]].type].push(...unpacked);else result[PeanutCodes[data[i]].type].push(unpacked)}i+=PeanutCodes[data[i]].byteLength+1}else i++}result.timestamp=Date.now();return result}var peanutSerialSettings={baudRate:38400,bufferSize:400,write:"protocol 3\\n",buffering:{searchBytes:new Uint8Array([170,170])},codec:peanutcodec,sps:10.101};var sealevel_hpa=1013.25;var bme280codec=data=>{let arr;if(data.getInt8)arr=new Uint8Array(data.buffer);else if(!data.buffer)arr=new Uint8Array(data);else arr=data;let output={temp:[],pressure:[],humidity:[],altitude:[]};for(let j=0;j<3;j++){let i=j*24;let tint=ByteParser.bytesToUInt32(arr[0+i],arr[1+i],arr[2+i],arr[3+i]);let tfrac=ByteParser.bytesToUInt32(arr[4+i],arr[5+i],arr[6+i],arr[7+i]);output.temp.push(tint+tfrac/Math.pow(10,Math.ceil(Math.log10(tfrac))));let pint=ByteParser.bytesToUInt32(arr[8+i],arr[9+i],arr[10+i],arr[11+i]);let pfrac=ByteParser.bytesToUInt32(arr[12+i],arr[13+i],arr[14+i],arr[15+i]);output.pressure.push(pint+pfrac/Math.pow(10,Math.ceil(Math.log10(pfrac))));let hint=ByteParser.bytesToUInt32(arr[16+i],arr[17+i],arr[18+i],arr[19+i]);let hfrac=ByteParser.bytesToUInt32(arr[20+i],arr[21+i],arr[22+i],arr[23+i]);output.humidity.push(hint+hfrac/Math.pow(10,Math.ceil(Math.log10(hfrac))));output.altitude.push(altitude(output.pressure[j],output.temp[j]))}return output};var exponent=1/5.257;var denom=1/.0065;function altitude(pressure,temperature){return(Math.pow(sealevel_hpa/pressure,exponent)-1)*(temperature+273.15)*denom}function nrf5x_usbcodec(data){let arr;if(data.getInt8)arr=new Uint8Array(data.buffer);else if(!data.buffer)arr=new Uint8Array(data);else arr=data;const output={};if(arr[0]===2){Object.assign(output,ads131m08codec(arr.subarray(2)))}else if(arr[0]===3){let result=ads131m08codec(arr.subarray(2));Object.keys(result).forEach((key,i)=>{output[i+8]=result[key]})}else if(arr[0]===4){Object.assign(output,mpu6050codec(arr.subarray(2)))}else if(arr[0]===5){Object.assign(output,max3010xcodec(arr.subarray(2)))}else if(arr[0]===6){Object.assign(output,bme280codec(arr.subarray(2)))}else{Object.assign(output,ads131m08codec(arr))}return output}var nrf5xSerialSettings={baudRate:115200,buffering:{searchBytes:new Uint8Array([240,240])},codec:nrf5x_usbcodec,sps:250};var nrf5xBLESettings={sps:250,services:{"0000cafe-b0ba-8bad-f00d-deadbeef0000":{"0001cafe-b0ba-8bad-f00d-deadbeef0000":{write:void 0},"0002cafe-b0ba-8bad-f00d-deadbeef0000":{notify:true,notifyCallback:void 0,codec:ads131m08codec,sps:250},"0003cafe-b0ba-8bad-f00d-deadbeef0000":{notify:true,notifyCallback:void 0,codec:max3010xcodec,sps:100},"0004cafe-b0ba-8bad-f00d-deadbeef0000":{notify:true,notifyCallback:void 0,codec:mpu6050codec,sps:100},"0005cafe-b0ba-8bad-f00d-deadbeef0000":{notify:true,notifyCallback:void 0,codec:ads131m08codec,sps:250},"0006cafe-b0ba-8bad-f00d-deadbeef0000":{notify:true,notifyCallback:void 0,codec:bme280codec,sps:3.33}}}};var defaultChartSetting5={nSec:10,sps:250,units:"mV"};var nrf5x_usbChartSettings={lines:{"0":JSON.parse(JSON.stringify(defaultChartSetting5)),"1":JSON.parse(JSON.stringify(defaultChartSetting5)),"2":JSON.parse(JSON.stringify(defaultChartSetting5)),"3":JSON.parse(JSON.stringify(defaultChartSetting5)),"4":JSON.parse(JSON.stringify(defaultChartSetting5)),"5":JSON.parse(JSON.stringify(defaultChartSetting5)),"6":JSON.parse(JSON.stringify(defaultChartSetting5)),"7":JSON.parse(JSON.stringify(defaultChartSetting5))},generateNewLines:true,cleanGeneration:false};var gain2=32;var nbits2=24;var vref2=1.2;var defaultsetting3={sps:250,useDCBlock:false,useBandpass:false,bandpassLower:3,bandpassUpper:45,useScaling:true,scalar:.96*1e3*vref2/(gain2*(Math.pow(2,nbits2)-1))};var nrf5x_usbFilterSettings={"0":JSON.parse(JSON.stringify(defaultsetting3)),"1":JSON.parse(JSON.stringify(defaultsetting3)),"2":JSON.parse(JSON.stringify(defaultsetting3)),"3":JSON.parse(JSON.stringify(defaultsetting3)),"4":JSON.parse(JSON.stringify(defaultsetting3)),"5":JSON.parse(JSON.stringify(defaultsetting3)),"6":JSON.parse(JSON.stringify(defaultsetting3)),"7":JSON.parse(JSON.stringify(defaultsetting3)),"8":JSON.parse(JSON.stringify(defaultsetting3)),"9":JSON.parse(JSON.stringify(defaultsetting3)),"10":JSON.parse(JSON.stringify(defaultsetting3)),"11":JSON.parse(JSON.stringify(defaultsetting3)),"12":JSON.parse(JSON.stringify(defaultsetting3)),"13":JSON.parse(JSON.stringify(defaultsetting3)),"14":JSON.parse(JSON.stringify(defaultsetting3)),"15":JSON.parse(JSON.stringify(defaultsetting3))};var textdecoder2=new TextDecoder;function statechangercodec(value){let output={timestamp:0,left_red:0,left_infrared:0,left_heg:0,center_red:0,center_infrared:0,center_heg:0,right_red:0,right_infrared:0,right_heg:0};let txt=textdecoder2.decode(value);let line=txt.split("|");if(line.length>=5){output.timestamp=Date.now();output.left_red=parseInt(line[1]);output.left_infrared=parseInt(line[2]);output.left_heg=parseFloat(line[3]);output.center_red=parseInt(line[4]);output.center_infrared=parseInt(line[5]);output.center_heg=parseFloat(line[6]);output.right_red=parseInt(line[7]);output.right_infrared=parseInt(line[8]);output.right_heg=parseFloat(line[9]);return output}else return txt}var statechangerSerialSettings={baudRate:115200,codec:statechangercodec};var statechangerBLESettings={services:{["6E400001-B5A3-F393-E0A9-E50E24DCCA9E".toLowerCase()]:{"6e400002-b5a3-f393-e0a9-e50e24dcca9e":{write:"t"},"6e400003-b5a3-f393-e0a9-e50e24dcca9e":{notify:true,notifyCallback:void 0,codec:statechangercodec}},["6E400004-B5A3-F393-E0A9-E50E24DCCA9E".toLowerCase()]:{["6E400005-B5A3-F393-E0A9-E50E24DCCA9E".toLowerCase()]:{read:true},["6E400006-B5A3-F393-E0A9-E50E24DCCA9E".toLowerCase()]:{write:void 0,notify:true,notifyCallback:void 0},["6E400007-B5A3-F393-E0A9-E50E24DCCA9E".toLowerCase()]:{read:true}}},androidWebBLE:"o"};function blueberrycodec(value){let output={red:value.getInt32(2),ir:value.getInt32(6),ir2:value.getInt32(10),timestamp:Date.now()};output.heg=output.red/(.5*(output.ir+output.ir2));return output}var sps7=40;var blueberryBLESettings={namePrefix:"blueberry",services:{"0f0e0d0c-0b0a-0908-0706-050403020100":{"1f1e1d1c-1b1a-1918-1716-151413121110":{write:void 0},"3f3e3d3c-3b3a-3938-3736-353433323130":{notify:true,notifyCallback:void 0,codec:blueberrycodec,sps:sps7}}},sps:sps7};function blueberryshortcodec(value){let output={sred:value.getInt32(2),sir:value.getInt32(6),sir2:value.getInt32(10),timestamp:Date.now()};output.sheg=output.sred/(.5*(output.sir+output.sir2));return output}function blueberrylongcodec(value){let output={red:value.getInt32(2),ir:value.getInt32(6),ir2:value.getInt32(10),timestamp:Date.now()};output.heg=output.sred/(.5*(output.ir+output.ir2));return output}var sps8=40;var blueberry2BLESettings={namePrefix:"blueberry",services:{"0f0e0d0c-0b0a-0908-0706-050403020100":{"1f1e1d1c-1b1a-1918-1716-151413121110":{write:void 0},"4f4e4d4c-4b6a-6968-6766-656463426160":{notify:true,notifyCallback:void 0,codec:blueberrylongcodec,sps:sps8},"4f4e4d4c-4b5a-5958-5756-555453425150":{notify:true,notifyCallback:void 0,codec:blueberryshortcodec,sps:sps8}}},sps:sps8};function hrcodec(data){return{hr:data.getInt8(1),timestamp:Date.now()}}var heartRateBLESettings={services:{"heart_rate":{"heart_rate_measurement":{notify:true,notifyCallback:void 0,codec:hrcodec}}}};var simulatorSettings={sps:250,simulate:{"0":{sps:250,freq:1,amplitude:1,offset:0},"1":{sps:250,freq:10,amplitude:1,offset:0},"2":{sps:250,freq:100,amplitude:.5,offset:.5},"3":{sps:250,freq:25,amplitude:1,offset:0}},connect:(settings={})=>{return new Promise(async(res,rej)=>{let _id=`simulated${Math.floor(Math.random()*1e15)}`;let info={_id,settings:Object.assign(Object.assign({},simulatorSettings),settings)};info.settings.looping=true;let loopTime=50;let lastTime=Date.now();let loop=()=>{if(info.settings.looping){let newData={};let now=Date.now();let frame=now-lastTime;for(const key in info.settings.simulate){let newPoints=Math.floor(info.settings.simulate[key].sps*frame/1e3);newData[key]=new Array(newPoints).fill(0);newData[key]=newData[key].map((v,i)=>{return Math.sin(2*Math.PI*info.settings.simulate[key].freq*.001*(lastTime+frame*(i+1)/newPoints))*info.settings.simulate[key].amplitude+info.settings.simulate[key].offset})}lastTime=now;newData.timestamp=lastTime;info.settings.ondata(newData);setTimeout(()=>{loop()},loopTime)}};loop();if(info.settings.onconnect)info.settings.onconnect(info);res(info)})},codec:reading=>{return reading},disconnect:info=>{console.log(info);info.settings.looping=false;info.settings.ondisconnect(info)},onconnect:info=>{console.log("muse connected!",info)},ondisconnect:info=>{console.log("muse disconnected!",info)},ondata:data=>{console.log(data)}};var defaultsetting1={sps:250,useDCBlock:true,useBandpass:true,bandpassLower:3,bandpassUpper:45};var ganglionFilterSettings={"0":JSON.parse(JSON.stringify(defaultsetting1)),"1":JSON.parse(JSON.stringify(defaultsetting1)),"2":JSON.parse(JSON.stringify(defaultsetting1)),"3":JSON.parse(JSON.stringify(defaultsetting1))};var defaultChartSetting6={nSec:10,sps:250,units:"mV"};var ganglionChartSettings={lines:{"0":JSON.parse(JSON.stringify(defaultChartSetting6)),"1":JSON.parse(JSON.stringify(defaultChartSetting6)),"2":JSON.parse(JSON.stringify(defaultChartSetting6)),"3":JSON.parse(JSON.stringify(defaultChartSetting6)),"ax":{nSec:10,sps:250,units:"mg"},"ay":{nSec:10,sps:250,units:"mg"},"az":{nSec:10,sps:250,units:"mg"}},generateNewLines:true};var defaultsetting4={sps:250,useDCBlock:true,useBandpass:true,bandpassLower:3,bandpassUpper:45};var museFilterSettings={"0":JSON.parse(JSON.stringify(defaultsetting4)),"1":JSON.parse(JSON.stringify(defaultsetting4)),"2":JSON.parse(JSON.stringify(defaultsetting4)),"3":JSON.parse(JSON.stringify(defaultsetting4)),"4":JSON.parse(JSON.stringify(defaultsetting4))};var Devices={BLE:{"nrf5x":nrf5xBLESettings,"hegduino":hegduinoBLESettings,"hegduinoV1":hegduinoV1BLESettings,"cognixionONE":cognixionONEBLESettings,"statechanger":statechangerBLESettings,"blueberry":blueberryBLESettings,"blueberry2":blueberry2BLESettings,"heart_rate":heartRateBLESettings},USB:{"nrf5x":nrf5xSerialSettings,"freeEEG32":freeeeg32SerialSettings,"freeEEG32_optical":freeeeg32_optical_SerialSettings,"freeEEG128":freeeeg128SerialSettings,"hegduino":hegduinoSerialSettings,"hegduinoV1":hegduinoV1SerialSettings,"cyton":cytonSerialSettings,"cyton_daisy":cytonSerialSettings,"peanut":peanutSerialSettings,"statechanger":statechangerSerialSettings,"cognixionONE":cytonSerialSettings},BLE_OTHER:{},USB_OTHER:{},OTHER:{"simulator":simulatorSettings}};var textdecoder3=new TextDecoder;var decoders={"raw":data=>{if(data?.buffer)return Array.from(new Uint8Array(data));else return data},"utf8":data=>{return textdecoder3.decode(data)},"console-f12":data=>{if(data?.buffer)data=Array.from(new Uint8Array(data));console.log(data);return data},"debug":(data,debugmessage)=>{if(data?.buffer)data=Array.from(new Uint8Array(data));console.log(debugmessage,data);return data},"ads131m08":ads131m08codec,"arduino_ads131m08":ads131m08_arduinocodec,"max3010x":max3010xcodec,"mpu6050":mpu6050codec,"bme280":bme280codec,"freeeeg32":freeeeg32codec,"freeeeg128":freeeeg128codec,"cyton":cytoncodec,"cognixionONE_BLE":cognixionONE_EEG_codec,"hegduino":hegduinocodec,"nrf5x":nrf5x_usbcodec,"peanut":peanutcodec,"statechanger":statechangercodec,"blueberry":blueberrycodec,"heart_rate":hrcodec};var BiquadChannelFilterer=class{constructor(options={sps:512,useSMA4:false,useNotch50:true,useNotch60:true,useLowpass:false,lowpassHz:100,useBandpass:false,bandpassLower:3,bandpassUpper:45,useDCBlock:true,DCBresonance:.995,trimOutliers:false,outlierTolerance:.2,useScaling:false,scalar:1}){this.idx=0;this.sps=options.sps;this.bandpassLower=options.bandpassLower?options.bandpassLower:3;this.bandpassUpper=options.bandpassUpper?options.bandpassUpper:45;this.useSMA4=options.useSMA4;this.last4=[];this.useNotch50=options.useNotch50;this.useNotch60=options.useNotch60;this.useLowpass=options.useLowpass;this.lowpassHz=options.lowpassHz?options.lowpassHz:100;this.useBandpass=options.useBandpass;this.useDCBlock=options.useDCBlock;this.DCBresonance=options.DCBresonance?options.DCBresonance:.995;this.useScaling=options.useScaling;this.scalar=options.scalar;this.trimOutliers=options.trimOutliers;this.outlierTolerance=options.outlierTolerance;let sps9=this.sps;this.notch50=[makeNotchFilter(50,sps9,2),makeNotchFilter(100,sps9,2)];this.notch60=[makeNotchFilter(60,sps9,2),makeNotchFilter(120,sps9,2)];this.lp1=[new Biquad("lowpass",this.lowpassHz,sps9),new Biquad("lowpass",this.lowpassHz,sps9),new Biquad("lowpass",this.lowpassHz,sps9),new Biquad("lowpass",this.lowpassHz,sps9)];this.bp1=[makeBandpassFilter(this.bandpassLower,this.bandpassUpper,sps9,1),makeBandpassFilter(this.bandpassLower,this.bandpassUpper,sps9,1),makeBandpassFilter(this.bandpassLower,this.bandpassUpper,sps9,1),makeBandpassFilter(this.bandpassLower,this.bandpassUpper,sps9,1)];this.dcb=new DCBlocker(options.DCBresonance?options.DCBresonance:.995)}reset(sps9=this.sps){this.notch50=[makeNotchFilter(50,sps9,2),makeNotchFilter(100,sps9,2)];this.notch60=[makeNotchFilter(60,sps9,2),makeNotchFilter(120,sps9,2)];this.lp1=[new Biquad("lowpass",this.lowpassHz,sps9),new Biquad("lowpass",this.lowpassHz,sps9),new Biquad("lowpass",this.lowpassHz,sps9),new Biquad("lowpass",this.lowpassHz,sps9)];this.bp1=[makeBandpassFilter(this.bandpassLower,this.bandpassUpper,sps9,1),makeBandpassFilter(this.bandpassLower,this.bandpassUpper,sps9,1),makeBandpassFilter(this.bandpassLower,this.bandpassUpper,sps9,1),makeBandpassFilter(this.bandpassLower,this.bandpassUpper,sps9,1)];this.dcb=new DCBlocker(this.DCBresonance)}setBandpass(bandpassLower=this.bandpassLower,bandpassUpper=this.bandpassUpper,sps9=this.sps){this.bandpassLower=bandpassLower;this.bandpassUpper=bandpassUpper;this.bp1=[makeBandpassFilter(bandpassLower,bandpassUpper,sps9),makeBandpassFilter(bandpassLower,bandpassUpper,sps9),makeBandpassFilter(bandpassLower,bandpassUpper,sps9),makeBandpassFilter(bandpassLower,bandpassUpper,sps9)]}apply(latestData=0){let out=latestData;if(this.useScaling===true){out*=this.scalar}if(this.filtered&&this.trimOutliers&&this.outlierTolerance){if(Math.abs(out-this.filtered)>this.outlierTolerance){out=this.filtered}}if(this.useDCBlock===true){out=this.dcb.applyFilter(out)}if(this.useSMA4===true){if(this.last4.length<4){this.last4.push(out)}else{out=this.last4.reduce((accumulator,currentValue)=>accumulator+currentValue)/this.last4.length;this.last4.shift();this.last4.push(out)}}if(this.useNotch50===true){this.notch50.forEach((f,i)=>{out=f.applyFilter(out)})}if(this.useNotch60===true){this.notch60.forEach((f,i)=>{out=f.applyFilter(out)})}if(this.useLowpass===true){this.lp1.forEach((f,i)=>{out=f.applyFilter(out)})}if(this.useBandpass===true){this.bp1.forEach((f,i)=>{out=f.applyFilter(out)})}this.filtered=out;this.idx++;return out}};var Biquad=class{constructor(type,freq,sps9,Q=1/Math.sqrt(2),dbGain=0){this.a0=0;this.a1=0;this.a2=0;this.b0=0;this.b1=0;this.b2=0;this.x1=0;this.x2=0;this.y1=0;this.y2=0;let types=["lowpass","highpass","bandpass","notch","peak","lowshelf","highshelf"];if(types.indexOf(type)<0){console.error("Valid types: \'lowpass\',\'highpass\',\'bandpass\',\'notch\',\'peak\',\'lowshelf\',\'highshelf\'");return}this.type=type;this.freq=freq;this.sps=sps9;this.Q=Q;this.dbGain=dbGain;let A=Math.pow(10,dbGain/40);let omega=2*Math.PI*freq/sps9;let sn=Math.sin(omega);let cs=Math.cos(omega);let alpha=sn/(2*Q);let beta=Math.sqrt(A+A);this[type](A,sn,cs,alpha,beta);this.b0/=this.a0;this.b1/=this.a0;this.b2/=this.a0;this.a1/=this.a0;this.a2/=this.a0}lowpass(A,sn,cs,alpha,beta){this.b0=(1-cs)*.5;this.b1=1-cs;this.b2=(1-cs)*.5;this.a0=1+alpha;this.a1=-2*cs;this.a2=1-alpha}highpass(A,sn,cs,alpha,beta){this.b0=(1+cs)*.5;this.b1=-(1+cs);this.b2=(1+cs)*.5;this.a0=1+alpha;this.a1=-2*cs;this.a2=1-alpha}bandpass(A,sn,cs,alpha,beta){this.b0=alpha;this.b1=0;this.b2=-alpha;this.a0=1+alpha;this.a1=-2*cs;this.a2=1-alpha}notch(A,sn,cs,alpha,beta){this.b0=1;this.b1=-2*cs;this.b2=1;this.a0=1+alpha;this.a1=-2*cs;this.a2=1-alpha}peak(A,sn,cs,alpha,beta){this.b0=1+alpha*A;this.b1=-2*cs;this.b2=1-alpha*A;this.a0=1+alpha/A;this.a1=-2*cs;this.a2=1-alpha/A}lowshelf(A,sn,cs,alpha,beta){this.b0=A*(A+1-(A-1)*cs+beta*sn);this.b1=2*A*(A-1-(A+1)*cs);this.b2=A*(A+1-(A-1)*cs-beta*sn);this.a0=A+1+(A+1)*cs+beta*sn;this.a1=2*(A-1+(A+1)*cs);this.a2=A+1+(A-1)*cs-beta*sn}highshelf(A,sn,cs,alpha,beta){this.b0=A*(A+1+(A-1)*cs+beta*sn);this.b1=2*A*(A-1+(A+1)*cs);this.b2=A*(A+1-(A-1)*cs-beta*sn);this.a0=A+1-(A+1)*cs-beta*sn;this.a1=2*(A-1-(A+1)*cs);this.a2=A+1-(A-1)*cs-beta*sn}applyFilter(signal_step){let y=this.b0*signal_step+this.b1*this.x1+this.b2*this.x2-this.a1*this.y1-this.a2*this.y2;this.x2=this.x1;this.x1=signal_step;this.y2=this.y1;this.y1=y;return y}zResult(freq){try{let phi=Math.pow(Math.sin(Math.PI*freq*2/(2*this.sps)),2);let result=(Math.pow(this.b0+this.b1+this.b2,2)-4*(this.b0*this.b1+4*this.b0*this.b2+this.b1*this.b2)*phi+16*this.b0*this.b2*phi*phi)/(Math.pow(1+this.a1+this.a2,2)-4*(this.a1+4*this.a2+this.a1*this.a2)*phi+16*this.a2*phi*phi);return result}catch(err){return-200}}static calcCenterFrequency(freqStart,freqEnd){return(freqStart+freqEnd)/2}static calcBandwidth(freqStart,freqEnd){return freqEnd-this.calcCenterFrequency(freqStart,freqEnd)}static calcBandpassQ(frequency,bandwidth,resonance=Math.pow(10,Math.floor(Math.log10(frequency)))){let Q=resonance*Math.sqrt((frequency-bandwidth)*(frequency+bandwidth))/(2*bandwidth);return Q}static calcNotchQ(frequency,bandwidth,resonance=Math.pow(10,Math.floor(Math.log10(frequency)))){let Q=resonance*frequency*bandwidth/Math.sqrt((frequency-bandwidth)*(frequency+bandwidth));return Q}};var DCBlocker=class{constructor(r=.995){this.r=r;this.y1=this.y2=this.x1=this.x2=0}applyFilter(signal_step){this.x2=this.x1;this.x1=signal_step;let y=this.x1-this.x2+this.r*this.y1;this.y2=this.y1;this.y1=y;return y}};var makeNotchFilter=(frequency,sps9,bandwidth)=>{return new Biquad("notch",frequency,sps9,Biquad.calcNotchQ(frequency,bandwidth),0)};var makeBandpassFilter=(freqStart,freqEnd,sps9,resonance=Math.pow(10,Math.floor(Math.log10(Biquad.calcCenterFrequency(freqStart,freqEnd)))))=>{return new Biquad("bandpass",Biquad.calcCenterFrequency(freqStart,freqEnd),sps9,Biquad.calcBandpassQ(Biquad.calcCenterFrequency(freqStart,freqEnd),Biquad.calcBandwidth(freqStart,freqEnd),resonance),0)};function loadStreamWorkerGlobals(){globalThis.WebSerial=WebSerial;globalThis.decoders=decoders;globalThis.decoder="raw";globalThis.ByteParser=ByteParser;globalThis.Devices=Devices;globalThis.filtering=true;globalThis.filters={};globalThis.BiquadChannelFilterer=BiquadChannelFilterer;globalThis.ArrayManip=ArrayManip}if(typeof WorkerGlobalScope!=="undefined"&&self instanceof WorkerGlobalScope){loadStreamWorkerGlobals()}var streamWorkerRoutes={"receiveDecoder":function receiveDecoder(decoder2,decoderName){globalThis.decoders[decoderName]=(0,eval)("("+decoder2+")")},"receiveCodec":function receiveDeviceCodec(decoder2,deviceType,device,service,characteristic){let codec=parseFunctionFromText(decoder2);if(codec){if(deviceType==="BLE"&&service&&characteristic){if(globalThis.Devices[deviceType][device]){if(globalThis.Devices[deviceType][device][service]){if(globalThis.Devices[deviceType][device][characteristic]){globalThis.Devices[deviceType][device][characteristic].codec=codec}else{globalThis.Devices[deviceType][device][characteristic]={codec}}}else{globalThis.Devices[deviceType][device]={[characteristic]:{codec}}}}}else if(globalThis.Devices[deviceType][device]?.codec){if(globalThis.Devices[deviceType][device])globalThis.Devices[deviceType][device].codec=codec;else{globalThis.Devices[deviceType][device]={codec}}}}},"decode":function decode(data){return globalThis.decoder(data)},"decodeAndParse":function decodeAndParse(data){let decoded=this.graph.run("decode",data);if(decoded){let parsed=globalThis.ArrayManip.reformatData(decoded);if(parsed){if(globalThis.filtering){for(const prop in parsed){if(globalThis.filters[prop]){let filter=globalThis.filters[prop];if(Array.isArray(parsed[prop])){parsed[prop]=parsed[prop].map(v=>filter.apply(v))}else if(parsed[prop]?.values){parsed[prop].values=parsed[prop].values.map(v=>filter.apply(v))}}}}return parsed}}return decoded},"setActiveDecoder":function setActiveDecoder(deviceType,device,service,characteristic){if(globalThis.Devices[deviceType][device]?.codec)globalThis.decoder=globalThis.Devices[deviceType][device]?.codec;else if(deviceType==="BLE"&&service&&characteristic&&globalThis.Devices[deviceType][device]?.[service]?.[characteristic]?.codec)globalThis.decoder=globalThis.Devices[deviceType][device][service][characteristic].codec;return true},"decodeDevice":function decodeDevice(data,deviceType,device,service,characteristic){if(globalThis.Devices[deviceType][device]?.codec)return globalThis.Devices[deviceType][device].codec(data);else if(deviceType==="BLE"&&service&&characteristic&&globalThis.Devices[deviceType][device]?.[service]?.[characteristic]?.codec)return globalThis.Devices[deviceType][device][service][characteristic].codec(data)},"decodeAndParseDevice":function decodeAndParseDevice(data,deviceType,deviceName,service,characteristic){let decoded;if(deviceType==="BLE"&&service&&characteristic&&globalThis.Devices[deviceType][deviceName]?.services[service]?.[characteristic]?.codec)decoded=globalThis.Devices[deviceType][deviceName].services[service][characteristic].codec(data);else if(globalThis.Devices[deviceType][deviceName]?.codec)decoded=globalThis.Devices[deviceType][deviceName].codec(data);else decoded=data;if(decoded){let parsed=globalThis.ArrayManip.reformatData(decoded);if(parsed){if(globalThis.filtering){for(const prop in parsed){if(globalThis.filters[prop]){let filter=globalThis.filters[prop];if(Array.isArray(parsed[prop])){parsed[prop]=parsed[prop].map(v=>filter.apply(v))}else if(parsed[prop]?.values){parsed[prop].values=parsed[prop].values.map(v=>filter.apply(v))}else if(typeof parsed[prop]==="number"){parsed[prop]=filter.apply(parsed[prop])}}}}return parsed}}return decoded},"toggleAnim":function toggleAnim(){globalThis.runningAnim=!globalThis.runningAnim;return globalThis.runningAnim},"setFilters":function setFilters(filters,clearFilters=false){if(!globalThis.filters||clearFilters)globalThis.filters={};for(const key in filters){globalThis.filters[key]=new BiquadChannelFilterer(filters[key])}return true},"getFilterSettings":function getFilterSettings(){if(globalThis.filters){let filters={};for(const key in globalThis.filters){filters[key]={sps:globalThis.filters[key].sps,useScaling:globalThis.filters[key].useScaling,scalar:globalThis.filters[key].scalar,useNotch50:globalThis.filters[key].useNotch50,useNotch60:globalThis.filters[key].useNotch60,useDCBlock:globalThis.filters[key].useDCBlock,useLowpass:globalThis.filters[key].useLowpass,lowpassHz:globalThis.filters[key].lowpassHz,useBandpass:globalThis.filters[key].useBandpass,bandpassLower:globalThis.filters[key].bandpassLower,bandpassUpper:globalThis.filters[key].bandpassUpper}}return filters}return void 0},"setupSerial":function setupSerial(){globalThis.Serial=new globalThis.WebSerial;globalThis.decoder="raw";console.log("worker: Setting up Serial",globalThis.Serial);return true},"openPort":function openPort(settings){const WorkerService2=this.graph;if(!globalThis.Serial)WorkerService2.run("setupSerial");return new Promise((res,rej)=>{globalThis.Serial.getPorts().then(ports=>{const Serial=globalThis.Serial;let port=ports.find(port2=>{return port2.getInfo().usbVendorId===settings.usbVendorId&&port2.getInfo().usbProductId===settings.usbProductId});if(port){Serial.openPort(port,settings).then(()=>{const stream=Serial.createStream({port,settings,frequency:settings.frequency?settings.frequency:10,buffering:settings.buffering,ondata:value=>{if(stream.settings.pipeTo){if(typeof stream.settings.pipeTo==="string")WorkerService2.transmit(value,stream.settings.pipeTo,[value.buffer]);else if(stream.settings.pipeTo?.route){let args=value;if(stream.settings.pipeTo.extraArgs)args=[value,...stream.settings.pipeTo.extraArgs];WorkerService2.transmit({route:stream.settings.pipeTo.route,args},stream.settings.pipeTo._id,[value.buffer])}}else{WorkerService2.transmit(value,void 0,[value.buffer])}}});Serial.readStream(stream);port.ondisconnect=()=>{postMessage(`${stream._id} disconnected`)};res({_id:stream._id,settings,info:stream.info})}).catch(()=>{postMessage(`disconnected`)});;}else{rej(false)}})})},"closeStream":function closeStream(streamId){return new Promise((res,rej)=>{const Serial=globalThis.Serial;let ondisconnect;if(Serial.streams[streamId].port?.ondisconnect)ondisconnect=Serial.streams[streamId].port.ondisconnect;Serial.closeStream(Serial.streams[streamId]).then(resolved=>{if(ondisconnect)ondisconnect(void 0);res(resolved)}).catch(rej)})},"writeStream":function writeStream(streamId,message){globalThis.Serial.writeStream(globalThis.Serial.streams[streamId],message);return true},"updateStreamSettings":function updateStreamSettings(streamId,settings){if(globalThis.Serial?.streams[streamId]){for(const key in settings){if(typeof settings[key]==="object"){Object.assign(globalThis.Serial.streams[streamId].settings[key],settings[key])}else globalThis.Serial.streams[streamId][key]=settings[key]}}}};if(typeof WorkerGlobalScope!=="undefined"&&self instanceof WorkerGlobalScope){const worker=new WorkerService({routes:[workerCanvasRoutes,subprocessRoutes,streamWorkerRoutes],includeClassName:false})}var stream_worker_default=self;})();\n')],{type:"text/javascript"})),SB=CTr,Hl=class{constructor(){this.recursivelyAssign=(e,r)=>{for(let t in r)typeof r[t]=="object"?typeof e[t]=="object"?this.recursivelyAssign(e[t],r[t]):e[t]=this.recursivelyAssign({},r[t]):e[t]=r[t];return e}}static autoscale(e,r=0,t=1,n=!1,i,c,u){if(e?.length===0)return e;let a=c||Math.max(...e),s=i||Math.min(...e),o=1/t,l=1;if(n){let d=Math.max(Math.abs(s),Math.abs(a));return d!==0&&(l=o/d),e.map(p=>(u&&(p<s&&(p=s),p>a&&(p=a)),p*l+(o*(r+1)*2-1-o)))}else return a===s?a!==0?l=o/a:s!==0&&(l=o/Math.abs(s)):l=o/(a-s),e.map(d=>(u&&(d<s&&(d=s),d>a&&(d=a)),2*((d-s)*l-1/(2*t))+(o*(r+1)*2-1-o)))}static genTimestamps(e,r){let t=Date.now(),n=[t-e*1e3/r,t];return Hl.upsample(n,e)}static absmax(e){return Math.max(Math.abs(Math.min(...e)),Math.max(...e))}static downsample(e,r,t=1){if(e.length>r){let n=new Array(r),i=e.length/r,c=e.length-1,u=0,a=0;for(let s=i;s<e.length;s+=i){let o=Math.round(s);o>c&&(o=c);for(let l=u;l<o;l++)n[a]+=e[l];n[a]/=(o-u)*t,a++,u=o}return n}else return e}static upsample(e,r,t=1){var n=function(d,p,f){return(d+(p-d)*f)*t},i=new Array(r),c=(e.length-1)/(r-1);i[0]=e[0];for(var u=1;u<r-1;u++){var a=u*c,s=Math.floor(a),o=Math.ceil(a),l=a-s;i[u]=n(e[s],e[o],l)}return i[r-1]=e[e.length-1],i}static interpolate(e,r,t=1){return e.length>r?Hl.downsample(e,r,t):e.length<r?Hl.upsample(e,r,t):e}static HSLToRGB(e,r,t,n=255){r/=100,t/=100;let i=(1-Math.abs(2*t-1))*r,c=i*(1-Math.abs(e/60%2-1)),u=t-i/2,a=0,s=0,o=0;return 0<=e&&e<60?(a=i,s=c,o=0):60<=e&&e<120?(a=c,s=i,o=0):120<=e&&e<180?(a=0,s=i,o=c):180<=e&&e<240?(a=0,s=c,o=i):240<=e&&e<300?(a=c,s=0,o=i):300<=e&&e<360&&(a=i,s=0,o=c),a=(a+u)*n,s=(s+u)*n,o=(o+u)*n,[a,s,o]}static circularBuffer(e,r){if(r.length<e.length){let t=e.slice(r.length),n=e.length;e.splice(0,n,...t,...r)}else if(r.length>e.length){let t=e.length;e.splice(0,t,r.slice(t-r.length))}else e.splice(0,e.length,...r);return e}static reformatData(e,r){if(Array.isArray(e)){if(Array.isArray(e[0])){let t={};if(e.forEach((n,i)=>{t[i]=n}),e=t,isNaN(e[0][0]))return}else if(r){if(e={[r]:e},isNaN(e[r][0]))return}else if(e={0:e},isNaN(e[0][0]))return}else if(typeof e=="object"){for(let t in e)if(typeof e[t]=="number"?e[t]=[e[t]]:e[t]?.values&&typeof e[t].values=="number"&&(e[t].values=[e[t].values]),isNaN(e[t][0]))return}else if(typeof e=="string"){let t;if(e.includes(`\r
`)){let n=e.split(`\r
`);e={},n.forEach((i,c)=>{i.includes("	")?t=i.split("	"):i.includes(",")?t=i.split(","):i.includes("|")&&(t=i.split("|")),t.forEach((u,a)=>{if(u.includes(":")){let[s,o]=u.split(":"),l=parseFloat(o);if(l)e[s]=[l];else return}else{let s=parseFloat(u);if(s)e[a]=[s];else return}})})}else e.includes("	")?t=e.split("	"):e.includes(",")?t=e.split(","):e.includes("|")&&(t=e.split("|"));e={},t&&t.forEach((n,i)=>{if(n.includes(":")){let[c,u]=n.split(":"),a=parseFloat(u);if(a)e[c]=[a];else return}else{let c=parseFloat(n);if(c)e[i]=[c];else return}})}else typeof e=="number"&&(r?e={[r]:[e]}:e={0:[e]});return e}static padTime(e,r,t,n){let i=(e[0]-r)/t/n;return[...new Array(n-e.length).map((u,a)=>r+i*(a+1)),...e]}static interpolateForTime(e,r,t){return Hl.interpolate(e,Math.ceil(t*r))}isTypedArray(e){return ArrayBuffer.isView(e)&&Object.prototype.toString.call(e)!=="[object DataView]"}spliceTypedArray(e,r,t){let n=e.subarray(0,r),i;t&&(i=e.subarray(t+1));let c;return(n.length>0||i?.length>0)&&(c=new e.constructor(n.length+i.length)),n.length>0&&c.set(n),i&&i.length>0&&c.set(i,n.length),c}},$ie=Hl;$ie.bufferValues=(e,r,t,n)=>{if(!Array.isArray(t)&&typeof t=="object"&&(t=Object.keys(t)),!n){let c=Object.keys(e);t?n=new Float32Array(c.length*t.length):typeof e[c[0]][r]=="object"?(t=Object.keys(e[c[0]][r]),n=new Float32Array(c.length*t.length)):n=new Float32Array(c.length)}let i=0;for(let c in e)if(e[c][r])if(t)for(let u=0;u<t.length;u++)n[i]=e[c][r][t[u]],i++;else n[i]=e[c][r],i++;return n};var ATr=/^([<>])?(([1-9]\d*)?([xcbB?hHiIfdsp]))*$/,MTr=/([1-9]\d*)?([xcbB?hHiIfdsp])/g,KI=(e,r,t)=>String.fromCharCode(...new Uint8Array(e.buffer,e.byteOffset+r,t)),eB=(e,r,t,n)=>new Uint8Array(e.buffer,e.byteOffset+r,t).set(n.split("").map(i=>i.charCodeAt(0))),PTr=(e,r,t)=>KI(e,r+1,Math.min(e.getUint8(r),t-1)),ETr=(e,r,t,n)=>{e.setUint8(r,n.length),eB(e,r+1,t-1,n)},qTr=e=>({x:r=>[1,r,0],c:r=>[r,1,t=>({u:n=>KI(n,t,1),p:(n,i)=>eB(n,t,1,i)})],"?":r=>[r,1,t=>({u:n=>Boolean(n.getUint8(t)),p:(n,i)=>n.setUint8(t,i)})],b:r=>[r,1,t=>({u:n=>n.getInt8(t),p:(n,i)=>n.setInt8(t,i)})],B:r=>[r,1,t=>({u:n=>n.getUint8(t),p:(n,i)=>n.setUint8(t,i)})],h:r=>[r,2,t=>({u:n=>n.getInt16(t,e),p:(n,i)=>n.setInt16(t,i,e)})],H:r=>[r,2,t=>({u:n=>n.getUint16(t,e),p:(n,i)=>n.setUint16(t,i,e)})],i:r=>[r,4,t=>({u:n=>n.getInt32(t,e),p:(n,i)=>n.setInt32(t,i,e)})],I:r=>[r,4,t=>({u:n=>n.getUint32(t,e),p:(n,i)=>n.setUint32(t,i,e)})],f:r=>[r,4,t=>({u:n=>n.getFloat32(t,e),p:(n,i)=>n.setFloat32(t,i,e)})],d:r=>[r,8,t=>({u:n=>n.getFloat64(t,e),p:(n,i)=>n.setFloat64(t,i,e)})],s:r=>[1,r,t=>({u:n=>KI(n,t,r),p:(n,i)=>eB(n,t,r,i.slice(0,r))})],p:r=>[1,r,t=>({u:n=>PTr(n,t,r),p:(n,i)=>ETr(n,t,r,i.slice(0,r-1))})]}),Kte=new RangeError("Structure larger than remaining buffer"),ITr=new RangeError("Not enough values for structure"),eu=class extends $ie{static toDataView(e){if(!(e instanceof DataView))if(typeof e=="string"&&parseInt(e)&&(e=parseInt(e)),typeof e=="string"){let r=new TextEncoder,t={};for(let i in eu.codes)for(;e.indexOf(i)>-1;){let c=e.indexOf(i);e=e.replace(i,""),t[c]=i}let n=Array.from(r.encode(e));for(let i in t)n.splice(parseInt(i),0,eu.codes[t[i]]);e=new DataView(new Uint8Array(n).buffer)}else if(typeof e=="number"){let r=e;e<256?(e=new DataView(new ArrayBuffer(1)),e.setUint8(0,r)):e<65536?(e=new DataView(new ArrayBuffer(2)),e.setInt16(0,r)):(e=new DataView(new ArrayBuffer(4)),e.setUint32(0,r))}else e instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&e instanceof SharedArrayBuffer?e=new DataView(e):Array.isArray(e)?e=new DataView(Uint8Array.from(e).buffer):typeof e=="object"&&(e=new TextEncoder().encode(JSON.stringify(e)));return e}static searchBuffer(e,r,t){for(var n=r,i=e,c=eu.boyerMoore(n),u=c.byteLength,a=[],s=c(i);s!==-1&&(a.push(s),!(t&&a.length>=t));s=c(i,s+u));return a}static bytesToInt16(e,r){let t=(255&e)<<8|255&r;return(t&32768)>0?t|=4294901760:t&=65535,t}static bytesToUInt16(e,r){return e*256+r}static Uint16ToBytes(e){return[e&255,e>>8&255]}static bytesToInt24(e,r,t){let n=(255&e)<<16|(255&r)<<8|255&t;return(n&8388608)>0?n|=4278190080:n&=16777215,n}static bytesToUInt24(e,r,t){return e*65536+r*256+t}static Uint24ToBytes(e){return[e&255,e>>8&255,e>>16&255]}static bytesToInt32(e,r,t,n){let i=(255&e)<<24|(255&r)<<16|(255&t)<<8|255&n;return(i&2147483648)>0?i|=0:i&=4294967295,i}static bytesToUInt32(e,r,t,n){return e*16777216+r*65536+t*256+n}static Uint32ToBytes(e){return[e&255,e>>8&255,e>>16&255,e>>24&255]}static get2sCompliment(e,r){return e>4294967296?null:e<<32-r>>32-r}static getSignedInt(...e){let r=0;function t(n){for(var i=0,c=!0;n--;)if(c){let u=e[r++];i+=u&127,u&128&&(i-=128),c=!1}else i*=256,i+=e[r++];return i}return t(e.length)}static asUint8Array(e){if(e instanceof Uint8Array)return e;if(typeof e=="string"){for(var r=new Uint8Array(e.length),t=0;t<e.length;t++){var n=e.charCodeAt(t);if(n>127)throw new TypeError("Only ASCII patterns are supported");r[t]=n}return r}else return new Uint8Array(e)}static boyerMoore(e){var r=eu.asUint8Array(e),t=r.length;if(t===0)throw new TypeError("patternBuffer must be at least 1 byte long");for(var n=256,i=new Int32Array(n),c=0;c<n;c++)i[c]=-1;for(var u=0;u<t;u++)i[r[u]]=u;var a=(s,o,l)=>{var d=eu.asUint8Array(s);o===void 0&&(o=0),l===void 0&&(l=d.length);for(var p=r,f=i,v=l-p.length,h=p.length-1,m,y=o;y<=v;y+=m){m=0;for(var g=h;g>=0;g--){var b=d[y+g];if(p[g]!==b){m=Math.max(1,g-f[b]);break}}if(m===0)return y}return-1};return a.byteLength=r.byteLength,a}static struct(e){let r=[],t=0,n=ATr.exec(e);if(!n)throw new RangeError("Invalid format string");let i=qTr(n[1]==="<"),c=(d,p)=>i[p](d?parseInt(d,10):1);for(;n=MTr.exec(e);)((d,p,f)=>{for(let v=0;v<d;++v,t+=p)f&&r.push(f(t))})(...c(...n.slice(1)));let u=(d,p)=>{if(d.byteLength<(p|0)+t)throw Kte;let f=new DataView(d,p|0);return r.map(v=>v.u(f))},a=(d,p,...f)=>{if(f.length<r.length)throw ITr;if(d.byteLength<p+t)throw Kte;let v=new DataView(d,p);new Uint8Array(d,p,t).fill(0),r.forEach((h,m)=>h.p(v,f[m]))},s=(...d)=>{let p=new ArrayBuffer(t);return a(p,0,...d),p},o=d=>u(d,0);function*l(d){for(let p=0;p+t<=d.byteLength;p+=t)yield u(d,p)}return Object.freeze({unpack:o,pack:s,unpack_from:u,pack_into:a,iter_unpack:l,format:e,size:t})}},ar=eu;ar.codes={"\\n":10,"\\r":13,"\\t":9,"\\s":32,"\\b":8,"\\f":12,"\\":92};var ene;(function(e){e[e.SCAN_MODE_LOW_POWER=0]="SCAN_MODE_LOW_POWER",e[e.SCAN_MODE_BALANCED=1]="SCAN_MODE_BALANCED",e[e.SCAN_MODE_LOW_LATENCY=2]="SCAN_MODE_LOW_LATENCY"})(ene||(ene={}));bB();_B();bB();var Fr=Rie("BluetoothLe",{web:()=>Promise.resolve().then(()=>(Yjr(),Lie)).then(e=>new e.BluetoothLeWeb)}),BTr=Ljr(Zjr());function FI(e){return e?(0,BTr.default)(1):r=>r()}function rn(e){if(typeof e!="string")throw new Error(`Invalid UUID type ${typeof e}. Expected string.`);if(e=e.toLowerCase(),!(e.search(/^[0-9a-f]{8}\b-[0-9a-f]{4}\b-[0-9a-f]{4}\b-[0-9a-f]{4}\b-[0-9a-f]{12}$/)>=0))throw new Error(`Invalid UUID format ${e}. Expected 128 bit string (e.g. "0000180d-0000-1000-8000-00805f9b34fb").`);return e}var kTr=class{constructor(){this.scanListener=null,this.eventListeners=new Map,this.queue=FI(!0)}enableQueue(){this.queue=FI(!0)}disableQueue(){this.queue=FI(!1)}async initialize(e){await this.queue(async()=>{await Fr.initialize(e)})}async getEnabled(){return this.isEnabled()}async isEnabled(){return await this.queue(async()=>(await Fr.isEnabled()).value)}async enable(){await this.queue(async()=>{await Fr.enable()})}async disable(){await this.queue(async()=>{await Fr.disable()})}async startEnabledNotifications(e){await this.queue(async()=>{var r;let t="onEnabledChanged";await((r=this.eventListeners.get(t))===null||r===void 0?void 0:r.remove());let n=await Fr.addListener(t,i=>{e(i.value)});this.eventListeners.set(t,n),await Fr.startEnabledNotifications()})}async stopEnabledNotifications(){await this.queue(async()=>{var e;let r="onEnabledChanged";await((e=this.eventListeners.get(r))===null||e===void 0?void 0:e.remove()),this.eventListeners.delete(r),await Fr.stopEnabledNotifications()})}async isLocationEnabled(){return await this.queue(async()=>(await Fr.isLocationEnabled()).value)}async openLocationSettings(){await this.queue(async()=>{await Fr.openLocationSettings()})}async openBluetoothSettings(){await this.queue(async()=>{await Fr.openBluetoothSettings()})}async openAppSettings(){await this.queue(async()=>{await Fr.openAppSettings()})}async setDisplayStrings(e){await this.queue(async()=>{await Fr.setDisplayStrings(e)})}async requestDevice(e){return await this.queue(async()=>await Fr.requestDevice(e))}async requestLEScan(e,r){await this.queue(async()=>{var t;await((t=this.scanListener)===null||t===void 0?void 0:t.remove()),this.scanListener=await Fr.addListener("onScanResult",n=>{let i=Object.assign(Object.assign({},n),{manufacturerData:this.convertObject(n.manufacturerData),serviceData:this.convertObject(n.serviceData),rawAdvertisement:n.rawAdvertisement?this.convertValue(n.rawAdvertisement):void 0});r(i)}),await Fr.requestLEScan(e)})}async stopLEScan(){await this.queue(async()=>{var e;await((e=this.scanListener)===null||e===void 0?void 0:e.remove()),this.scanListener=null,await Fr.stopLEScan()})}async getDevices(e){return this.queue(async()=>(await Fr.getDevices({deviceIds:e})).devices)}async getConnectedDevices(e){return this.queue(async()=>(await Fr.getConnectedDevices({services:e})).devices)}async connect(e,r,t){await this.queue(async()=>{var n;if(r){let i=`disconnected|${e}`;await((n=this.eventListeners.get(i))===null||n===void 0?void 0:n.remove());let c=await Fr.addListener(i,()=>{r(e)});this.eventListeners.set(i,c)}await Fr.connect(Object.assign({deviceId:e},t))})}async createBond(e){await this.queue(async()=>{await Fr.createBond({deviceId:e})})}async isBonded(e){return await this.queue(async()=>(await Fr.isBonded({deviceId:e})).value)}async disconnect(e){await this.queue(async()=>{await Fr.disconnect({deviceId:e})})}async getServices(e){return await this.queue(async()=>(await Fr.getServices({deviceId:e})).services)}async readRssi(e){return await this.queue(async()=>{let t=await Fr.readRssi({deviceId:e});return parseFloat(t.value)})}async read(e,r,t,n){return r=rn(r),t=rn(t),await this.queue(async()=>{let c=await Fr.read(Object.assign({deviceId:e,service:r,characteristic:t},n));return this.convertValue(c.value)})}async write(e,r,t,n,i){return r=rn(r),t=rn(t),this.queue(async()=>{if(!n?.buffer)throw new Error("Invalid data.");let c=n;os.getPlatform()!=="web"&&(c=TI(n)),await Fr.write(Object.assign({deviceId:e,service:r,characteristic:t,value:c},i))})}async writeWithoutResponse(e,r,t,n,i){r=rn(r),t=rn(t),await this.queue(async()=>{if(!n?.buffer)throw new Error("Invalid data.");let c=n;os.getPlatform()!=="web"&&(c=TI(n)),await Fr.writeWithoutResponse(Object.assign({deviceId:e,service:r,characteristic:t,value:c},i))})}async readDescriptor(e,r,t,n,i){return r=rn(r),t=rn(t),n=rn(n),await this.queue(async()=>{let u=await Fr.readDescriptor(Object.assign({deviceId:e,service:r,characteristic:t,descriptor:n},i));return this.convertValue(u.value)})}async writeDescriptor(e,r,t,n,i,c){return r=rn(r),t=rn(t),n=rn(n),this.queue(async()=>{if(!i?.buffer)throw new Error("Invalid data.");let u=i;os.getPlatform()!=="web"&&(u=TI(i)),await Fr.writeDescriptor(Object.assign({deviceId:e,service:r,characteristic:t,descriptor:n,value:u},c))})}async startNotifications(e,r,t,n){r=rn(r),t=rn(t),await this.queue(async()=>{var i;let c=`notification|${e}|${r}|${t}`;await((i=this.eventListeners.get(c))===null||i===void 0?void 0:i.remove());let u=await Fr.addListener(c,a=>{n(this.convertValue(a?.value))});this.eventListeners.set(c,u),await Fr.startNotifications({deviceId:e,service:r,characteristic:t})})}async stopNotifications(e,r,t){r=rn(r),t=rn(t),await this.queue(async()=>{var n;let i=`notification|${e}|${r}|${t}`;await((n=this.eventListeners.get(i))===null||n===void 0?void 0:n.remove()),this.eventListeners.delete(i),await Fr.stopNotifications({deviceId:e,service:r,characteristic:t})})}convertValue(e){return typeof e=="string"?c2(e):e===void 0?new DataView(new ArrayBuffer(0)):e}convertObject(e){if(e===void 0)return;let r={};for(let t of Object.keys(e))r[t]=this.convertValue(e[t]);return r}},jTr=new kTr;_B();var d2=class extends ar{constructor(e,r){super(),this.client=jTr,this.devices={},this.location=!1,this.initialized=!1,this.setupDevice=(t,n)=>new Promise(async(i,c)=>{this.devices[t.deviceId]={device:t,deviceId:t.deviceId,...n},this.client.connect(t.deviceId,u=>{this.devices[t.deviceId]?.ondisconnect&&this.devices[t.deviceId].ondisconnect(u)},n?.connectOptions).then(async()=>{let u=await this.getServices(t.deviceId);for(let a in n?.services){let s=u.find(o=>{if(o.uuid===a)return!0});if(s)for(let o in n.services[a]){if(!s.characteristics.find(d=>{if(d.uuid===o)return!0}))continue;let l=n.services[a][o];l.write&&await this.write(t,a,o,l.write,l.writeCallback,l.writeOptions),l.read&&await this.read(t,a,o,l.readCallback,l.readOptions),l.notify&&l.notifyCallback&&(await this.subscribe(t,a,o,l.notifyCallback),l.notifying=!0)}}}).catch(c),i(this.devices[t.deviceId])}),this.triangulate=(t,n=1500,i=60)=>new Promise((c,u)=>{if("Accelerometer"in globalThis){if(typeof globalThis.Accelerometer=="function"){let a=new globalThis.Accelerometer({frequency:i}),s=performance.now(),o=s,l={samples:[],vector:{}},d=()=>{if(o-s<n)this.readRssi(t).then(p=>{let f=a.x,v=a.y,h=a.z;o=performance.now(),l.samples.push({x:f,y:v,z:h,rssi:p,timestamp:o})});else{let p={x:0,y:0,z:0,rssiAvg:0};l.samples.forEach(f=>{}),a.removeEventListener("reading",d)}};a.addEventListener("reading",d)}}else u(new Error("No Accelerometer API detected"))}),r&&(this.location=r),e&&this.setup(e)}setup(e,r=this.location){let t=[];if(e)for(let i in e.services)t.push(i);let n={};return r||(n.androidNeverForLocation=!1),new Promise(async(i,c)=>{if(this.initialized||(await this.client.initialize(n),this.initialized=!0),e?.deviceId)i(await this.reconnect(e.deviceId));else if(e){let u={filters:[{services:t}]};this.isMobile()||(u.optionalServices=t),e?.namePrefix&&(u.filters[0].namePrefix=e.namePrefix),e?.name&&(u.filters[0].name=e.name),this.client.requestDevice(u).then(a=>{i(this.setupDevice(a,e))}).catch(c)}else this.client.requestDevice().then(u=>{i(this.setupDevice(u,e))}).catch(c)})}initialize(e){return new Promise((r,t)=>{this.client.initialize(e).then(()=>{r(!0)}).catch(t)})}requestDevice(e,r){return new Promise((t,n)=>{this.client.requestDevice(e).then(i=>{this.devices[i.deviceId]={device:i,deviceId:i.deviceId,...r},t(i)}).catch(n)})}getServices(e){return this.client.getServices(e)}connect(e,r){return new Promise((t,n)=>{this.client.connect(e.deviceId,i=>{r?.ondisconnect&&r.ondisconnect(i)},r?.connectOptions).then(i=>{t(e)}).catch(n)})}reconnect(e,r){return new Promise((t,n)=>{let i=this.isAndroid(),c=this.isMobile();console.log(e);let u=r;this.devices[e]&&(u=Object.assign(Object.assign({},this.devices[e]),u)),u?.deviceId&&delete u.deviceId,!c&&!navigator.bluetooth?.getDevices&&this.setup(u).then(a=>{t(a)}),i&&this.client.getDevices([e]).then(a=>{this.setupDevice(a[0],u).then(s=>{t(s)})}).catch(n)})}disconnect(e){return typeof e=="object"&&(e=e.deviceId),delete this.devices[e],this.client.disconnect(e)}write(e,r,t,n,i,c){return typeof e=="object"&&(e=e.deviceId),i?this.client.write(e,r,t,d2.toDataView(n)).then(i):this.client.writeWithoutResponse(e,r,t,d2.toDataView(n),c)}read(e,r,t,n,i){return typeof e=="object"&&(e=e.deviceId),n?this.client.read(e,r,t,i).then(n):this.client.read(e,r,t,i)}subscribe(e,r,t,n){return typeof e=="object"&&(e=e.deviceId),this.client.startNotifications(e,r,t,n)}unsubscribe(e,r,t){return typeof e=="object"&&(e=e.deviceId),this.client.stopNotifications(e,r,t)}scan(e,r){return this.client.requestLEScan(e,r)}stopScanning(){return this.client.stopLEScan()}readDescriptor(e,r,t,n,i){return this.client.readDescriptor(e.deviceId,r,t,n,i)}writeDescriptor(e,r,t,n,i,c){return this.client.writeDescriptor(e.deviceId,r,t,n,d2.toDataView(i),c)}readRssi(e){return this.client.readRssi(e.deviceId)}isMobile(){let e=!1;return function(r){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(r)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(r.substr(0,4)))&&(e=!0)}(navigator.userAgent||navigator.vendor||window.opera),e}isAndroid(){return navigator.userAgent.toLowerCase().indexOf("android")>-1}async distance(e,r,t,n,i){let c=await this.readRssi(e);if(c==0)return;let u=c/r;return u<1?Math.pow(u,10):t*Math.pow(u,n)+i}async distanceFromPhone(e,r,t){let n,i,c;return t&&(t==="nexus5"?(n=.42093,i=6.9476,c=.54992):t==="motoX"?(n=.9401940951,i=6.170094565,c=0):t==="iphone5"&&(n=.89976,i=7.7095,c=.111)),await this.distance(e,r,n,i,c)}},Wl=class extends ar{constructor(){super(...arguments),this.streams={},this.createStream=e=>{let r={_id:e._id?e._id:`stream${Math.floor(Math.random()*1e15)}`,info:e.port.getInfo(),running:!1,...e};return e.port?.readable&&(e.transforms?r.reader=Wl.setStreamTransforms(e.port.readable,e.transforms).getReader():r.reader=e.port.readable.getReader()),this.streams[r._id]=r,r}}getPorts(){return navigator.serial.getPorts()}requestPort(e,r){let t={};return e&&(t.usbVendorId=e),r&&(t.usbProductId=r),t.usbVendorId?navigator.serial.requestPort({filters:[t]}):navigator.serial.requestPort()}openPort(e,r){return r&&(r=Object.assign({},r)),r?.ondisconnect&&(e.ondisconnect=r.ondisconnect,delete r.ondisconnect),e.open(r).then(()=>{r?.onconnect&&r.onconnect(e)})}async readWithTimeout(e,r){let t=e.readable.getReader(),n=setTimeout(()=>{t.releaseLock()},r),i=await t.read();return clearTimeout(n),t.releaseLock(),i}async writePort(e,r){let t=e.writable.getWriter();return await t.write(Wl.toDataView(r)),t.releaseLock(),!0}getSignals(e){return e.getSignals()}setSignals(e,r){return e.setSignals(r)}readStream(e){if(e.reader&&!e.running){let r=e.reader;e.buffering&&(typeof e.buffering!="object"&&(e.buffering={}),e.buffering.buffer||(e.buffering.buffer=[]),e.buffering.searchBytes||(e.buffering.searchBytes=new Uint8Array([13,10])));let t=()=>{if(e.port.readable&&e.running)r.read().then(n=>{if(n.done)r.releaseLock();else{if(e.buffering){e.buffering.buffer.push(...n.value);let c=e.buffering.searchBytes,u=e.buffering.buffer,a=Wl.boyerMoore(c),s=a.byteLength,o=-1;for(var i=a(u);i!==-1;i=a(u,i+s))!e.buffering.locked&&!("lockIdx"in e.buffering)?e.buffering.lockIdx=i:(o=i,o>=0&&(e.buffering.locked?o>0&&e.ondata(new Uint8Array(e.buffering.buffer.splice(e.buffering.searchBytes.length,o))):(e.ondata(new Uint8Array(e.buffering.buffer.splice(e.buffering.lockIdx+e.buffering.searchBytes.length,o+e.buffering.searchBytes.length))),e.buffering.buffer.splice(0,e.buffering.searchBytes.length),e.buffering.locked=!0)))}else e.ondata(n.value);setTimeout(()=>{t()},e.frequency)}}).catch(n=>{console.error(e._id," Read error:",n),(n.message.includes("overrun")||n.message.includes("framing"))&&(delete e.reader,this.reconnect(e))});else if(!e.running&&e.port.readable)try{r.releaseLock()}catch(n){console.error(n)}};return e.running=!0,t(),e}}writeStream(e,r){if(typeof e=="string"&&(e=this.streams[e]),e.port.writable){let t=e.port.writable.getWriter();return t.write(Wl.toDataView(r)),t.releaseLock(),!0}}closeStream(e,r){return typeof e=="string"&&(e=this.streams[e]),e.running=!1,new Promise((t,n)=>{setTimeout(async()=>{if(e.port.readable&&e.reader){try{e.reader.releaseLock()}catch(i){console.error(i)}if(e.transforms)try{await e.reader.cancel()}catch(i){console.error(i)}}try{await e.port.close().then(()=>{r&&r(this.streams[e._id])}),delete this.streams[e._id],t(!0)}catch(i){n(i)}},300)})}reconnect(e,r){return typeof e=="string"&&(e=this.streams[e]),new Promise((t,n)=>{if(typeof e!="object"){n(void 0);return}let i=e.port.getInfo();this.closeStream(e._id).then(c=>{setTimeout(()=>{this.getPorts().then(u=>{for(let a=0;a<u.length;a++)u[a].getInfo().usbVendorId===i.usbVendorId&&u[a].getInfo().usbProductId===i.usbProductId&&(r?r._id=e._id:r=e,delete r.port,this.openPort(u[a],r.settings).then(()=>{let s=this.createStream({...r,port:u[a]});this.readStream(s),t(s)}).catch(n))}).catch(n)},100)})})}static setStreamTransforms(e,r){let t=[];Object.keys(r).forEach(i=>{let c=r[i];if(c instanceof TransformStream)t.push(c);else{c.start||(c.start=function(){}),c.flush||(c.flush=function(){});let u=new TransformStream({start:c.start,transform:c.transform,flush:c.flush},c.writableStrategy,c.readableStrategy);t.push(u)}});let n=e;return t.forEach(i=>{n=n.pipeThrough(i)}),n}};function iu(e){let r;e.getInt8?r=new Uint8Array(e.buffer):e.buffer?r=e:r=new Uint8Array(e);let t={0:new Array(9),1:new Array(9),2:new Array(9),3:new Array(9),4:new Array(9),5:new Array(9),6:new Array(9),7:new Array(9),timestamp:Date.now()};for(let n=0;n<9;n++){let i=n*25;t[0][n]=ar.bytesToInt24(r[i],r[i+1],r[i+2]),t[1][n]=ar.bytesToInt24(r[i+3],r[i+4],r[i+5]),t[2][n]=ar.bytesToInt24(r[i+6],r[i+7],r[i+8]),t[3][n]=ar.bytesToInt24(r[i+9],r[i+10],r[i+11]),t[4][n]=ar.bytesToInt24(r[i+12],r[i+13],r[i+14]),t[5][n]=ar.bytesToInt24(r[i+15],r[i+16],r[i+17]),t[6][n]=ar.bytesToInt24(r[i+18],r[i+19],r[i+20]),t[7][n]=ar.bytesToInt24(r[i+21],r[i+22],r[i+23])}return t}var TTr=new TextDecoder;function RTr(e){let r=TTr.decode(e),t;return r.includes("|")?t=r.split("|"):t.includes(",")?t=r.split(","):t=r.split("	"),{0:parseInt(t[0]),1:parseInt(t[1]),2:parseInt(t[2]),3:parseInt(t[3]),4:parseInt(t[4]),5:parseInt(t[5]),6:parseInt(t[6]),7:parseInt(t[7]),timestamp:Date.now()}}var Qie=250,Za={nSec:10,sps:Qie,units:"mV"},rne={lines:{0:JSON.parse(JSON.stringify(Za)),1:JSON.parse(JSON.stringify(Za)),2:JSON.parse(JSON.stringify(Za)),3:JSON.parse(JSON.stringify(Za)),4:JSON.parse(JSON.stringify(Za)),5:JSON.parse(JSON.stringify(Za)),6:JSON.parse(JSON.stringify(Za)),7:JSON.parse(JSON.stringify(Za))}},FTr=32,LTr=24,UTr=1.2,Xa={sps:Qie,useDCBlock:!1,useBandpass:!1,bandpassLower:3,bandpassUpper:45,useScaling:!0,scalar:.96*1e3*UTr/(FTr*(Math.pow(2,LTr)-1))},tne={0:JSON.parse(JSON.stringify(Xa)),1:JSON.parse(JSON.stringify(Xa)),2:JSON.parse(JSON.stringify(Xa)),3:JSON.parse(JSON.stringify(Xa)),4:JSON.parse(JSON.stringify(Xa)),5:JSON.parse(JSON.stringify(Xa)),6:JSON.parse(JSON.stringify(Xa)),7:JSON.parse(JSON.stringify(Xa))};function Yie(e){let r;e.buffer?r=e:r=new Uint8Array(e);let t={};for(let i=0;i<8;i++){let c=1+3*i;t[i]=ar.bytesToInt24(r[c],r[c+1],r[c+2])}let n=25;return t.ax=ar.bytesToInt16(r[n],r[n+1]),t.ay=ar.bytesToInt16(r[n+2],r[n+3]),t.az=ar.bytesToInt16(r[n+4],r[n+5]),t.gx=ar.bytesToInt16(r[n+6],r[n+7]),t.gy=ar.bytesToInt16(r[n+8],r[n+9]),t.gz=ar.bytesToInt16(r[n+10],r[n+11]),t.timestamp=Date.now(),t}var xB=250,LI={baudRate:115200,codec:Yie,sps:xB},An={nSec:10,sps:xB,units:"mV"},zTr={lines:{0:JSON.parse(JSON.stringify(An)),1:JSON.parse(JSON.stringify(An)),2:JSON.parse(JSON.stringify(An)),3:JSON.parse(JSON.stringify(An)),4:JSON.parse(JSON.stringify(An)),5:JSON.parse(JSON.stringify(An)),6:JSON.parse(JSON.stringify(An)),7:JSON.parse(JSON.stringify(An)),ax:JSON.parse(JSON.stringify(An)),ay:JSON.parse(JSON.stringify(An)),az:JSON.parse(JSON.stringify(An)),gx:JSON.parse(JSON.stringify(An)),gy:JSON.parse(JSON.stringify(An)),gz:JSON.parse(JSON.stringify(An))},generateNewLines:!0},tn={sps:xB,useDCBlock:!0,useBandpass:!0,bandpassLower:3,bandpassUpper:45,useScaling:!0,scalar:1e3*4.5/(24*(Math.pow(2,23)-1))},JTr={0:JSON.parse(JSON.stringify(tn)),1:JSON.parse(JSON.stringify(tn)),2:JSON.parse(JSON.stringify(tn)),3:JSON.parse(JSON.stringify(tn)),4:JSON.parse(JSON.stringify(tn)),5:JSON.parse(JSON.stringify(tn)),6:JSON.parse(JSON.stringify(tn)),7:JSON.parse(JSON.stringify(tn)),8:JSON.parse(JSON.stringify(tn)),9:JSON.parse(JSON.stringify(tn)),10:JSON.parse(JSON.stringify(tn)),11:JSON.parse(JSON.stringify(tn)),12:JSON.parse(JSON.stringify(tn)),13:JSON.parse(JSON.stringify(tn)),14:JSON.parse(JSON.stringify(tn)),15:JSON.parse(JSON.stringify(tn))};function Zie(e){let r;e.getInt8?r=new Uint8Array(e.buffer):e.buffer?r=e:r=new Uint8Array(e);let t={};for(let i=0;i<128;i++){let c=i*3+1;t[i]=ar.bytesToInt24(r[c],r[c+1],r[c+2])}let n=385;return t.ax=ar.bytesToInt16(r[n],r[n+1]),t.ay=ar.bytesToInt16(r[n+2],r[n+3]),t.az=ar.bytesToInt16(r[n+4],r[n+5]),t.gx=ar.bytesToInt16(r[n+6],r[n+7]),t.gy=ar.bytesToInt16(r[n+8],r[n+9]),t.gz=ar.bytesToInt16(r[n+10],r[n+11]),t.timestamp=Date.now(),t}var as=250,VTr={baudRate:921600,bufferSize:2e3,frequency:1.9,codec:Zie,sps:as},Xie={lines:{ax:{nSec:10,sps:as},ay:{nSec:10,sps:as},az:{nSec:10,sps:as},gx:{nSec:10,sps:as},gy:{nSec:10,sps:as},gz:{nSec:10,sps:as}}},Kie={};for(let e=0;e<128;e++)Xie.lines[e]={sps:as,nSec:10,units:"mV"},Kie[e]={sps:250,useDCBlock:!0,useBandpass:!0,bandpassLower:3,bandpassUpper:45,scalar:1e3*2.5/(32*(Math.pow(2,24)-1))};function OB(e){let r;e.getInt8?r=new Uint8Array(e.buffer):e.buffer?r=e:r=new Uint8Array(e);let t={};for(let i=0;i<32;i++){let c=i*3+1;t[i]=ar.bytesToInt24(r[c],r[c+1],r[c+2])}let n=97;return t.ax=ar.bytesToInt16(r[n],r[n+1]),t.ay=ar.bytesToInt16(r[n+2],r[n+3]),t.az=ar.bytesToInt16(r[n+4],r[n+5]),t.gx=ar.bytesToInt16(r[n+6],r[n+7]),t.gy=ar.bytesToInt16(r[n+8],r[n+9]),t.gz=ar.bytesToInt16(r[n+10],r[n+11]),t.timestamp=Date.now(),t}var nd=512,GTr={baudRate:921600,bufferSize:2e3,frequency:1.9,codec:OB,sps:nd},HTr={baudRate:1e6,bufferSize:2e3,frequency:1.9,codec:OB,sps:nd},Yc={nSec:10,sps:nd},eae={lines:{ax:JSON.parse(JSON.stringify(Yc)),ay:JSON.parse(JSON.stringify(Yc)),az:JSON.parse(JSON.stringify(Yc)),gx:JSON.parse(JSON.stringify(Yc)),gy:JSON.parse(JSON.stringify(Yc)),gz:JSON.parse(JSON.stringify(Yc))}},rae={};for(let e=0;e<32;e++)eae.lines[e]={sps:nd,nSec:10,units:"mV"},rae[e]={sps:nd,useDCBlock:!0,useBandpass:!0,bandpassLower:3,bandpassUpper:45,useScaling:!0,scalar:1e3*2.5/(8*(Math.pow(2,24)-1))};var WTr=new TextDecoder;function DB(e){let r={timestamp:0,red:0,infrared:0,heg:0,ambient:0,temperature:0},t=WTr.decode(e),n=t.split("|");if(n.length===3)r.timestamp=Date.now(),r.red=parseInt(n[0]),r.infrared=parseInt(n[1]),r.heg=parseFloat(n[2]);else return n.length>=2?(r.timestamp=Date.now(),r.red=parseInt(n[1]),r.infrared=parseInt(n[2]),r.heg=parseFloat(n[3]),n[4]&&(r.ambient=parseFloat(n[4])),n[5]&&(r.temperature=parseFloat(n[5])),r):t}var gi=40,NB={baudRate:115200,write:`t
`,codec:DB,sps:gi},tae=Object.assign({},NB);tae.sps=19;var $Tr={sps:gi,services:{["6E400001-B5A3-F393-E0A9-E50E24DCCA9E".toLowerCase()]:{"6e400002-b5a3-f393-e0a9-e50e24dcca9e":{write:"t"},"6e400003-b5a3-f393-e0a9-e50e24dcca9e":{notify:!0,notifyCallback:void 0,codec:DB,sps:gi}},["6E400004-B5A3-F393-E0A9-E50E24DCCA9E".toLowerCase()]:{["6E400005-B5A3-F393-E0A9-E50E24DCCA9E".toLowerCase()]:{read:!0},["6E400006-B5A3-F393-E0A9-E50E24DCCA9E".toLowerCase()]:{write:void 0,notify:!0,notifyCallback:void 0},["6E400007-B5A3-F393-E0A9-E50E24DCCA9E".toLowerCase()]:{read:!0}}},androidWebBLE:"o"},nae=Object.assign({},NB);nae.sps=19;var nne={lines:{red:{nSec:60,sps:gi},ir:{nSec:60,sps:gi},heg:{nSec:60,sps:gi},ambient:{nSec:60,sps:gi},temperature:{nSec:60,sps:gi,units:"C"}}},UI=19,QTr={red:{sps:UI,lowpassHz:2,useLowpass:!0},ir:{sps:UI,lowpassHz:2,useLowpass:!0},heg:{sps:UI,lowpassHz:2,useLowpass:!0}},YTr={red:{sps:gi,lowpassHz:4,useLowpass:!0},ir:{sps:gi,lowpassHz:4,useLowpass:!0},heg:{sps:gi,lowpassHz:4,useLowpass:!0}};function CB(e){let r;e.getInt8?r=new Uint8Array(e.buffer):e.buffer?r=e:r=new Uint8Array(e);let t={red:new Array(32),ir:new Array(32),max_dietemp:ar.get2sCompliment(r[193],8)+.0625*r[194],timestamp:Date.now()},n=0;for(;n<32;){let i=n*6;n%2===0?(t.ir[n]=(r[i+1]<<16|r[i+2]<<8|r[i+3])&524287,t.ir[n+1]=(r[i+4]<<16|r[i+5]<<8|r[i+6])&524287):(t.red[n-1]=(r[i+1]<<16|r[i+2]<<8|r[i+3])&524287,t.red[n]=(r[i+4]<<16|r[i+5]<<8|r[i+6])&524287),n++}return t}var ZTr={lines:{red:{nSec:10,sps:100},ir:{nSec:10,sps:100},max_dietemp:{nSec:10,sps:3.33,units:"C"}}};function AB(e){let r;e.getInt8?r=new Uint8Array(e.buffer):e.buffer?r=e:r=new Uint8Array(e);let t={ax:new Array(20),ay:new Array(20),az:new Array(20),gx:new Array(20),gy:new Array(20),gz:new Array(20),mpu_dietemp:(ar.bytesToInt16(r[241],r[242])+521)/340+35,timestamp:Date.now()};for(let n=0;n<20;n++){let i=n*12;t.ax[n]=ar.bytesToInt16(r[i+1],r[i+2]),t.ay[n]=ar.bytesToInt16(r[i+3],r[i+4]),t.az[n]=ar.bytesToInt16(r[i+5],r[i+6]),t.gx[n]=ar.bytesToInt16(r[i+7],r[i+8]),t.gy[n]=ar.bytesToInt16(r[i+9],r[i+10]),t.gz[n]=ar.bytesToInt16(r[i+11],r[i+12])}return t}var Zc=100,XTr={lines:{ax:{nSec:10,sps:Zc},ay:{nSec:10,sps:Zc},az:{nSec:10,sps:Zc},gx:{nSec:10,sps:Zc},gy:{nSec:10,sps:Zc},gz:{nSec:10,sps:Zc},mpu_dietemp:{nSec:10,sps:5,units:"C"}}};function iae(e){let r;e.getInt8?r=new Uint8Array(e.buffer):e.buffer?r=e:r=new Uint8Array(e);let t={0:new Array,1:new Array,2:new Array,3:new Array,4:new Array,5:new Array,6:new Array,7:new Array,timestamp:Date.now()};for(let n=0;n<7;n++){let i=n*26+1;if(!r[i+23])break;t[0][n]=ar.bytesToUInt24(r[i],r[i+1],r[i+2]),t[1][n]=ar.bytesToUInt24(r[i+3],r[i+4],r[i+5]),t[2][n]=ar.bytesToUInt24(r[i+6],r[i+7],r[i+8]),t[3][n]=ar.bytesToUInt24(r[i+9],r[i+10],r[i+11]),t[4][n]=ar.bytesToUInt24(r[i+12],r[i+13],r[i+14]),t[5][n]=ar.bytesToUInt24(r[i+15],r[i+16],r[i+17]),t[6][n]=ar.bytesToUInt24(r[i+18],r[i+19],r[i+20]),t[7][n]=ar.bytesToUInt24(r[i+21],r[i+22],r[i+23])}return t}var vi=250,KTr={services:{["82046698-6313-4BB1-9645-6BA28BF86DF5".toLowerCase()]:{["8204669A-6313-4BB1-9645-6BA28BF86DF5".toLowerCase()]:{notify:!0,notifyCallback:void 0,codec:iae,sps:vi}},["82E12914-9AFA-4648-BD1B-8E2B3DC6DAAF".toLowerCase()]:{["82E12915-9AFA-4648-BD1B-8E2B3DC6DAAF".toLowerCase()]:{write:void 0},["82E12916-9AFA-4648-BD1B-8E2B3DC6DAAF".toLowerCase()]:{read:!0}}},sps:vi},Ka={nSec:10,sps:vi,units:"mV"},e3r={lines:{0:JSON.parse(JSON.stringify(Ka)),1:JSON.parse(JSON.stringify(Ka)),2:JSON.parse(JSON.stringify(Ka)),3:JSON.parse(JSON.stringify(Ka)),4:JSON.parse(JSON.stringify(Ka)),5:JSON.parse(JSON.stringify(Ka)),6:JSON.parse(JSON.stringify(Ka)),7:JSON.parse(JSON.stringify(Ka))}},r3r={0:{sps:vi,useDCBlock:!0,useBandpass:!0,bandpassLower:3,bandpassUpper:45},1:{sps:vi,useDCBlock:!0,useBandpass:!0,bandpassLower:3,bandpassUpper:45},2:{sps:vi,useDCBlock:!0,useBandpass:!0,bandpassLower:3,bandpassUpper:45},3:{sps:vi,useDCBlock:!0,useBandpass:!0,bandpassLower:3,bandpassUpper:45},4:{sps:vi,useDCBlock:!0,useBandpass:!0,bandpassLower:3,bandpassUpper:45},5:{sps:vi,useDCBlock:!0,useBandpass:!0,bandpassLower:3,bandpassUpper:45},6:{sps:vi,useDCBlock:!0,useBandpass:!0,bandpassLower:3,bandpassUpper:45},7:{sps:vi,useDCBlock:!0,useBandpass:!0,bandpassLower:3,bandpassUpper:45}},fi={2:{type:"POOR_SIGNAL",format:"<B",byteLength:1},144:{type:"heg",format:"<i",byteLength:4},145:{type:"filteredHEG",format:"<i",byteLength:4},147:{type:"rawdata4",format:"<iiii",byteLength:4*4},148:{type:"rawdata6",format:"<iiiiii",byteLength:4*6},160:{type:"sampleNumber",format:"<i",byteLength:4},176:{type:"debug0",format:"<i",byteLength:4},177:{type:"debug1",format:"<i",byteLength:4},178:{type:"debug2",format:"<i",byteLength:4},179:{type:"debug3",format:"<i",byteLength:4},180:{type:"debug4",format:"<iiiiii",byteLength:4*6},181:{type:"debug4",format:"<iiiiii",byteLength:4*6},182:{type:"rawdata27",format:"<B"+"i".repeat(26),byteLength:1+4*26}};function aae(e){let r={},t=0;for(;t<e.length;)if(fi[e[t]]&&t+1+fi[e[t]].byteLength<=e.length){let n=e.slice(t+1,t+1+fi[e[t]].byteLength).buffer,i=ar.struct(fi[e[t]].format).unpack(n),c=fi[e[t]].type;c==="unfilteredHEG"||c==="heg"?i=i[0]/256:(c==="POOR_SIGNAL"||c==="sampleNumber"||c==="debug0"||c==="debug1"||c==="debug2"||c==="debug3")&&(i=i[0]),r[fi[e[t]].type]?Array.isArray(i)?r[fi[e[t]].type].push(...i):r[fi[e[t]].type].push(i):Array.isArray(i)?r[fi[e[t]].type]=i:r[fi[e[t]].type]=[i],t+=fi[e[t]].byteLength+1}else t++;return r.timestamp=Date.now(),r}var t3r={baudRate:38400,bufferSize:400,write:`protocol 3
`,buffering:{searchBytes:new Uint8Array([170,170])},codec:aae,sps:10.101},n3r={lines:{filteredHEG:{sps:10.101,nSec:60},heg:{sps:10.101,nSec:60},debug0:{sps:10.101,nSec:60},debug1:{sps:10.101,nSec:60},debug2:{sps:10.101,nSec:60},debug3:{sps:10.101,nSec:60},debug4:{sps:60.101,nSec:60}},generateNewLines:!1,cleanGeneration:!1},i3r=1013.25,MB=e=>{let r;e.getInt8?r=new Uint8Array(e.buffer):e.buffer?r=e:r=new Uint8Array(e);let t={temp:[],pressure:[],humidity:[],altitude:[]};for(let n=0;n<3;n++){let i=n*24,c=ar.bytesToUInt32(r[0+i],r[1+i],r[2+i],r[3+i]),u=ar.bytesToUInt32(r[4+i],r[5+i],r[6+i],r[7+i]);t.temp.push(c+u/Math.pow(10,Math.ceil(Math.log10(u))));let a=ar.bytesToUInt32(r[8+i],r[9+i],r[10+i],r[11+i]),s=ar.bytesToUInt32(r[12+i],r[13+i],r[14+i],r[15+i]);t.pressure.push(a+s/Math.pow(10,Math.ceil(Math.log10(s))));let o=ar.bytesToUInt32(r[16+i],r[17+i],r[18+i],r[19+i]),l=ar.bytesToUInt32(r[20+i],r[21+i],r[22+i],r[23+i]);t.humidity.push(o+l/Math.pow(10,Math.ceil(Math.log10(l)))),t.altitude.push(o3r(t.pressure[n],t.temp[n]))}return t},a3r=1/5.257,s3r=1/.0065;function o3r(e,r){return(Math.pow(i3r/e,a3r)-1)*(r+273.15)*s3r}function sae(e){let r;e.getInt8?r=new Uint8Array(e.buffer):e.buffer?r=e:r=new Uint8Array(e);let t={};if(r[0]===2)Object.assign(t,iu(r.subarray(2)));else if(r[0]===3){let n=iu(r.subarray(2));Object.keys(n).forEach((i,c)=>{t[c+8]=n[i]})}else r[0]===4?Object.assign(t,AB(r.subarray(2))):r[0]===5?Object.assign(t,CB(r.subarray(2))):r[0]===6?Object.assign(t,MB(r.subarray(2))):Object.assign(t,iu(r));return t}var c3r={baudRate:115200,buffering:{searchBytes:new Uint8Array([240,240])},codec:sae,sps:250},u3r={sps:250,services:{"0000cafe-b0ba-8bad-f00d-deadbeef0000":{"0001cafe-b0ba-8bad-f00d-deadbeef0000":{write:void 0},"0002cafe-b0ba-8bad-f00d-deadbeef0000":{notify:!0,notifyCallback:void 0,codec:iu,sps:250},"0003cafe-b0ba-8bad-f00d-deadbeef0000":{notify:!0,notifyCallback:void 0,codec:CB,sps:100},"0004cafe-b0ba-8bad-f00d-deadbeef0000":{notify:!0,notifyCallback:void 0,codec:AB,sps:100},"0005cafe-b0ba-8bad-f00d-deadbeef0000":{notify:!0,notifyCallback:void 0,codec:iu,sps:250},"0006cafe-b0ba-8bad-f00d-deadbeef0000":{notify:!0,notifyCallback:void 0,codec:MB,sps:3.33}}}},es={nSec:10,sps:250,units:"mV"},l3r={lines:{0:JSON.parse(JSON.stringify(es)),1:JSON.parse(JSON.stringify(es)),2:JSON.parse(JSON.stringify(es)),3:JSON.parse(JSON.stringify(es)),4:JSON.parse(JSON.stringify(es)),5:JSON.parse(JSON.stringify(es)),6:JSON.parse(JSON.stringify(es)),7:JSON.parse(JSON.stringify(es))},generateNewLines:!0,cleanGeneration:!1},d3r=32,p3r=24,f3r=1.2,nn={sps:250,useDCBlock:!1,useBandpass:!1,bandpassLower:3,bandpassUpper:45,useScaling:!0,scalar:.96*1e3*f3r/(d3r*(Math.pow(2,p3r)-1))},h3r={0:JSON.parse(JSON.stringify(nn)),1:JSON.parse(JSON.stringify(nn)),2:JSON.parse(JSON.stringify(nn)),3:JSON.parse(JSON.stringify(nn)),4:JSON.parse(JSON.stringify(nn)),5:JSON.parse(JSON.stringify(nn)),6:JSON.parse(JSON.stringify(nn)),7:JSON.parse(JSON.stringify(nn)),8:JSON.parse(JSON.stringify(nn)),9:JSON.parse(JSON.stringify(nn)),10:JSON.parse(JSON.stringify(nn)),11:JSON.parse(JSON.stringify(nn)),12:JSON.parse(JSON.stringify(nn)),13:JSON.parse(JSON.stringify(nn)),14:JSON.parse(JSON.stringify(nn)),15:JSON.parse(JSON.stringify(nn))},v3r=new TextDecoder;function PB(e){let r={timestamp:0,left_red:0,left_infrared:0,left_heg:0,center_red:0,center_infrared:0,center_heg:0,right_red:0,right_infrared:0,right_heg:0},t=v3r.decode(e),n=t.split("|");return n.length>=5?(r.timestamp=Date.now(),r.left_red=parseInt(n[1]),r.left_infrared=parseInt(n[2]),r.left_heg=parseFloat(n[3]),r.center_red=parseInt(n[4]),r.center_infrared=parseInt(n[5]),r.center_heg=parseFloat(n[6]),r.right_red=parseInt(n[7]),r.right_infrared=parseInt(n[8]),r.right_heg=parseFloat(n[9]),r):t}var m3r={baudRate:115200,codec:PB},y3r={services:{["6E400001-B5A3-F393-E0A9-E50E24DCCA9E".toLowerCase()]:{"6e400002-b5a3-f393-e0a9-e50e24dcca9e":{write:"t"},"6e400003-b5a3-f393-e0a9-e50e24dcca9e":{notify:!0,notifyCallback:void 0,codec:PB}},["6E400004-B5A3-F393-E0A9-E50E24DCCA9E".toLowerCase()]:{["6E400005-B5A3-F393-E0A9-E50E24DCCA9E".toLowerCase()]:{read:!0},["6E400006-B5A3-F393-E0A9-E50E24DCCA9E".toLowerCase()]:{write:void 0,notify:!0,notifyCallback:void 0},["6E400007-B5A3-F393-E0A9-E50E24DCCA9E".toLowerCase()]:{read:!0}}},androidWebBLE:"o"},g3r={lines:{left_red:{nSec:60,sps:20},left_infrared:{nSec:60,sps:20},left_heg:{nSec:60,sps:20},center_red:{nSec:60,sps:20},center_infrared:{nSec:60,sps:20},center_heg:{nSec:60,sps:20},right_red:{nSec:60,sps:20},right_infrared:{nSec:60,sps:20},right_heg:{nSec:60,sps:20}}};function oae(e){let r={red:e.getInt32(2),ir:e.getInt32(6),ir2:e.getInt32(10),timestamp:Date.now()};return r.heg=r.red/(.5*(r.ir+r.ir2)),r}var tu=40,b3r={namePrefix:"blueberry",services:{"0f0e0d0c-0b0a-0908-0706-050403020100":{"1f1e1d1c-1b1a-1918-1716-151413121110":{write:void 0},"3f3e3d3c-3b3a-3938-3736-353433323130":{notify:!0,notifyCallback:void 0,codec:oae,sps:tu}}},sps:tu},_3r={lines:{red:{nSec:60,sps:tu},ir:{nSec:60,sps:tu},ir2:{nSec:60,sps:tu},heg:{nSec:60,sps:tu}}};function w3r(e){let r={sred:e.getInt32(2),sir:e.getInt32(6),sir2:e.getInt32(10),timestamp:Date.now()};return r.sheg=r.sred/(.5*(r.sir+r.sir2)),r}function S3r(e){let r={red:e.getInt32(2),ir:e.getInt32(6),ir2:e.getInt32(10),timestamp:Date.now()};return r.heg=r.sred/(.5*(r.ir+r.ir2)),r}var mi=40,x3r={namePrefix:"blueberry",services:{"0f0e0d0c-0b0a-0908-0706-050403020100":{"1f1e1d1c-1b1a-1918-1716-151413121110":{write:void 0},"4f4e4d4c-4b6a-6968-6766-656463426160":{notify:!0,notifyCallback:void 0,codec:S3r,sps:mi},"4f4e4d4c-4b5a-5958-5756-555453425150":{notify:!0,notifyCallback:void 0,codec:w3r,sps:mi}}},sps:mi},O3r={lines:{red:{nSec:60,sps:mi},ir:{nSec:60,sps:mi},ir2:{nSec:60,sps:mi},heg:{nSec:60,sps:mi},sred:{nSec:60,sps:mi},sir:{nSec:60,sps:mi},sir2:{nSec:60,sps:mi},sheg:{nSec:60,sps:mi}}};function cae(e){return{hr:e.getInt8(1),timestamp:Date.now()}}var D3r={services:{heart_rate:{heart_rate_measurement:{notify:!0,notifyCallback:void 0,codec:cae}}}},uae={sps:250,simulate:{0:{sps:250,freq:1,amplitude:1,offset:0},1:{sps:250,freq:10,amplitude:1,offset:0},2:{sps:250,freq:100,amplitude:.5,offset:.5},3:{sps:250,freq:25,amplitude:1,offset:0}},connect:(e={})=>new Promise(async(r,t)=>{let i={_id:`simulated${Math.floor(Math.random()*1e15)}`,settings:Object.assign(Object.assign({},uae),e)};i.settings.looping=!0;let c=50,u=Date.now(),a=()=>{if(i.settings.looping){let s={},o=Date.now(),l=o-u;for(let d in i.settings.simulate){let p=Math.floor(i.settings.simulate[d].sps*l/1e3);s[d]=new Array(p).fill(0),s[d]=s[d].map((f,v)=>Math.sin(2*Math.PI*i.settings.simulate[d].freq*.001*(u+l*(v+1)/p))*i.settings.simulate[d].amplitude+i.settings.simulate[d].offset)}u=o,s.timestamp=u,i.settings.ondata(s),setTimeout(()=>{a()},c)}};a(),i.settings.onconnect&&i.settings.onconnect(i),r(i)}),codec:e=>e,disconnect:e=>{console.log(e),e.settings.looping=!1,e.settings.ondisconnect(e)},onconnect:e=>{console.log("muse connected!",e)},ondisconnect:e=>{console.log("muse disconnected!",e)},ondata:e=>{console.log(e)}},r2={sps:250,useDCBlock:!0,useBandpass:!0,bandpassLower:3,bandpassUpper:45},N3r={0:JSON.parse(JSON.stringify(r2)),1:JSON.parse(JSON.stringify(r2)),2:JSON.parse(JSON.stringify(r2)),3:JSON.parse(JSON.stringify(r2))},t2={nSec:10,sps:250,units:"mV"},C3r={lines:{0:JSON.parse(JSON.stringify(t2)),1:JSON.parse(JSON.stringify(t2)),2:JSON.parse(JSON.stringify(t2)),3:JSON.parse(JSON.stringify(t2)),ax:{nSec:10,sps:250,units:"mg"},ay:{nSec:10,sps:250,units:"mg"},az:{nSec:10,sps:250,units:"mg"}},generateNewLines:!0},zl={sps:250,useDCBlock:!0,useBandpass:!0,bandpassLower:3,bandpassUpper:45},A3r={0:JSON.parse(JSON.stringify(zl)),1:JSON.parse(JSON.stringify(zl)),2:JSON.parse(JSON.stringify(zl)),3:JSON.parse(JSON.stringify(zl)),4:JSON.parse(JSON.stringify(zl))},M3r={lines:{0:{nSec:10,sps:250,units:"uV"},1:{nSec:10,sps:250,units:"uV"},2:{nSec:10,sps:250,units:"uV"},3:{nSec:10,sps:250,units:"uV"},4:{nSec:10,sps:250,units:"uV"},ax:{nSec:10,sps:100,units:"mg"},ay:{nSec:10,sps:100,units:"mg"},az:{nSec:10,sps:100,units:"mg"},gx:{nSec:10,sps:100,units:"rps"},gy:{nSec:10,sps:100,units:"rps"},gz:{nSec:10,sps:100,units:"rps"}},generateNewLines:!0},lae={BLE:{nrf5x:u3r,hegduino:$Tr,hegduinoV1:nae,cognixionONE:KTr,statechanger:y3r,blueberry:b3r,blueberry2:x3r,heart_rate:D3r},USB:{nrf5x:c3r,freeEEG32:GTr,freeEEG32_optical:HTr,freeEEG128:VTr,hegduino:NB,hegduinoV1:tae,cyton:LI,cyton_daisy:LI,peanut:t3r,statechanger:m3r,cognixionONE:LI},BLE_OTHER:{},USB_OTHER:{},OTHER:{simulator:uae}},Jl={lines:{0:{nPoints:1e3}},generateNewLines:!0,cleanGeneration:!0},P3r={raw:void 0,utf8:void 0,"console-f12":void 0,debug:void 0,ads131m08:tne,max3010x:void 0,mpu6050:void 0,freeeeg32:rae,freeeeg128:Kie,cyton:JTr,cognixionONE_BLE:r3r,hegduino:YTr,hegduinoV1:QTr,nrf5x:h3r,ganglion:N3r,muse:A3r,arduino_ads131m08:tne},E3r={raw:Jl,utf8:Jl,"console-f12":Jl,debug:Jl,ads131m08:rne,max3010x:ZTr,mpu6050:XTr,freeeeg32:eae,freeeeg128:Xie,cyton:zTr,cognixionONE_BLE:e3r,hegduino:nne,hegduinoV1:nne,nrf5x:l3r,statechanger:g3r,peanut:n3r,blueberry:_3r,blueberry2:O3r,ganglion:C3r,muse:M3r,arduino_ads131m08:rne,simulator:Jl},q3r=new TextDecoder,I3r={raw:e=>e?.buffer?Array.from(new Uint8Array(e)):e,utf8:e=>q3r.decode(e),"console-f12":e=>(e?.buffer&&(e=Array.from(new Uint8Array(e))),console.log(e),e),debug:(e,r)=>(e?.buffer&&(e=Array.from(new Uint8Array(e))),console.log(r,e),e),ads131m08:iu,arduino_ads131m08:RTr,max3010x:CB,mpu6050:AB,bme280:MB,freeeeg32:OB,freeeeg128:Zie,cyton:Yie,cognixionONE_BLE:iae,hegduino:DB,nrf5x:sae,peanut:aae,statechanger:PB,blueberry:oae,heart_rate:cae};function B3r(){let e=!1;return function(r){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(r)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(r.substr(0,4)))&&(e=!0)}(navigator.userAgent||navigator.vendor||window.opera),e}var $l=new d2,_a=new lTr({routes:[xTr,NTr]});function k3r(e,r,t){t.devices||(t.devices=lae);let n=t.devices[e][r];if(!n)return;t.workerUrl||(t.workerUrl=SB),t.service||(t.service=_a);let i=t.service.addWorker({url:t.workerUrl});if(t.routes){for(let c in t.routes)t.routes[c].parent={callback:"decodeAndParseDevice",worker:i};t.service.load(t.routes)}if(e.includes("OTHER"))return new Promise(async(c,u)=>{n.ondata=o=>{i.run("decodeAndParseDevice",[o,e,r]).then(l=>{typeof t.ondecoded=="function"&&t.ondecoded(l)})},n.ondisconnect=()=>{if(t.service.terminate(i._id),t.routes)for(let o in t.routes)t.service.removeTree(t.routes[o].tag)};let a=await n.connect(n),s={workers:{streamworker:i},disconnect:()=>{n.disconnect(a),t.ondisconnect&&t.ondisconnect(s)},device:a,options:t,read:o=>{if(n.read)return new Promise((l,d)=>{l(n.read(n,o))})},write:o=>{if(n.write)return new Promise((l,d)=>{l(n.write(n,o))})},routes:t.routes};t.onconnect&&t.onconnect(s),c(s)}).catch(c=>{if(console.error(c),t.service.terminate(i._id),t.routes)for(let u in t.routes)t.service.removeTree(t.routes[u].tag)});if(e==="BLE"){for(let c in n.services)for(let u in n.services[c])if(typeof t.ondecoded=="function"){if(n.services?.[c]?.[u]?.notify){n.services[c][u].notifyCallback=a=>{i.run("decodeAndParseDevice",[a,e,r,c,u],[a.buffer]).then(t.ondecoded)};break}}else typeof t.ondecoded=="object"&&t.ondecoded[u]&&(n.services?.[c]?.[u]?.notify&&(n.services[c][u].notifyCallback=a=>{i.run("decodeAndParseDevice",[a,e,r,c,u],[a.buffer]).then(t.ondecoded[u])}),n.services?.[c]?.[u]?.read&&(n.services[u].readCallback=a=>{i.run("decodeAndParseDevice",[a,e,r,c,u],[a.buffer]).then(t.ondecoded[u])}));return new Promise((c,u)=>{$l.setup(n).then(a=>{let s={workers:{streamworker:i},options:t,device:a,disconnect:async()=>{if(await $l.disconnect(a.deviceId),t.ondisconnect&&t.ondisconnect(s),i.terminate(),t.routes)for(let o in t.routes)t.service.removeTree(t.routes[o].tag)},read:o=>$l.read(a.device,o.service,o.characteristic,o.ondata,o.timeout),write:o=>$l.write(a.device,o.service,o.characteristic,o.data,o.callback,o.timeout),routes:t.routes};t.onconnect&&t.onconnect(s),c(s)}).catch(a=>{if(console.error(a),i.terminate(),t.routes){console.log(t.routes);for(let s in t.routes)t.service.removeTree(t.routes[s].tag)}u(a)})})}else if(e==="USB"){let c=t.service.addWorker({url:t.workerUrl});c.worker.addEventListener("message",s=>{if(typeof s.data=="string"&&s.data.includes("disconnected")&&(t.service.terminate(c._id),t.service.terminate(i._id),t.routes))for(let o in t.routes)t.service.removeTree(t.routes[o].tag)}),c.post("setupSerial");let u=t.service.establishMessageChannel(i.worker,c.worker),a=new Wl;return new Promise((s,o)=>{a.requestPort(n.usbVendorId,n.usbProductId).then(l=>{let d=l.getInfo();c.run("openPort",{baudRate:n.baudRate,usbVendorId:d.usbVendorId,usbProductId:d.usbProductId,bufferSize:n.bufferSize,buffering:n.buffering?n.buffering:void 0,frequency:n.frequency?n.frequency:void 0,pipeTo:{route:"decodeAndParseDevice",_id:u,extraArgs:[e,r]}}).then(p=>{n.write&&c.post("writeStream",[p._id,n.write]),typeof t.ondecoded=="function"&&i.subscribe("decodeAndParseDevice",t.ondecoded);let f={workers:{streamworker:i,serialworker:c},device:p,options:t,disconnect:()=>{c.post("closeStream",p._id),t.ondisconnect&&t.ondisconnect(f)},read:()=>new Promise((v,h)=>{let m;m=i.subscribe("decodeAndParseDevice",y=>{c.unsubscribe("decodeAndParseDevice",m),v(y)})}),write:v=>c.run("writeStream",[p._id,v]),routes:t.routes};t.onconnect&&t.onconnect(f),s(f)})}).catch(l=>{if(console.error(l),t.service.terminate(c._id),t.service.terminate(i._id),t.routes)for(let d in t.routes)t.service.removeTree(t.routes[d].tag),console.log("removing route",t.routes[d]);o(l)})})}else return}function j3r(e=!1,r=!1,t,n){n||(n=SB);let i=_a.addWorker({url:n}),c,u,a,s;e&&(a=_a.addWorker({url:n}),s=_a.establishMessageChannel(a.worker,i.worker),a.post("setupSerial")),r&&(c=_a.addWorker({url:n}),u=_a.establishMessageChannel(i.worker,c.worker),t&&(_a.run("transferCanvas",c.worker,t),_a.transferFunction(c,function(d){this.run("runUpdate",void 0,d)},"receiveParsedData"),c.post("subscribeToWorker",["decodeAndParseDevice",u,"receiveParsedData"])));let o={streamworker:i};return a&&(o.serialworker=a,o.decoderPort=s),c&&(o.renderworker=c,o.renderPort=u),o}var T3r="BLE",R3r="hegduino",F3r=Tie,L3r=void 0,U3r={},z3r={},J3r=()=>{},V3r=null,G3r=null,H3r=null,W3r=null,$3r={main:!1,canvas:!1},Q3r=void 0;async function Y3r(e,r){if(r?._internal)return e;this.selected=e;let t=this.thirdPartyDecoder?.Devices??this.decoder.Devices;if(this.device=t[this.mode]?.[this.selected],!this.device){console.warn("Device not found...",this.mode,this.selected);return}this.info&&(this.info.disconnect(),this.info=null);let n=typeof this.subprocesses=="function"?this.subprocesses.call(this):this.subprocesses,i=typeof this.routes=="function"?this.routes.call(this):this.routes,c=this.decoder.initDevice(this.mode,this.selected,{devices:t,routes:i,subprocesses:n,workerUrl:this.workerUrl,ondecoded:u=>{this.ondecoded&&this.ondecoded(u),this.default(u,{_internal:!0})}});if(c&&typeof this.onconnect=="function")return this.info=await c,this.sps=this.device.sps,this.onconnect.call(this,this.info),this.info}var Z3r="[object Module]",X3r=e=>!!(e&&(!!Object.keys(e).reduce((t,n)=>{let i=Object.getOwnPropertyDescriptor(e,n),c=i&&i.get&&!i.set?1:0;return t+c},0)||Object.prototype.toString.call(e)===Z3r)),K3r=(e,r,t)=>{let n=t.accumulator;n||(n=t.accumulator={});let i=t.ignore||[],c=t.path||[],u=t.condition||!0,a=[],s=[],o=(l,d={},p)=>{for(let f in l){if(i.includes(f))continue;let v=l[f],h=[...p.path,f],m={typeof:typeof v,name:v?.constructor?.name,simple:!0,object:v&&typeof v=="object",path:h};if(m.object){let y=m.name;if(X3r(v)||y==="Object"||y==="Array"){m.simple=!0;let b=a.indexOf(v);if(b!==-1)d[f]=s[b];else{a.push(v);let _=u instanceof Function?u(f,v,m):u;m.pass=_,d[f]=r(f,v,m),_&&(s.push(d[f]),d[f]=o(v,d[f],{...p,path:h}))}}else m.simple=!1,d[f]=r(f,v,m)}else d[f]=r(f,v,m)}return d};return o(e,n,{path:c})},e4r=(e,r={})=>{if(typeof e=="object")Array.isArray(e)?(e=[...e],r.accumulator=[]):(e={...e},r.accumulator={});else return e;return K3r(e,(t,n,i)=>i.simple&&i.object?Array.isArray(n)?[]:{}:n,r),r.accumulator},r4r=!1,t4r=e=>e4r(e),n4r={connectmode:{__compose:Kc},selectUSB:{__compose:Kc},selectBLE:{__compose:Kc},selectBLEOther:{__compose:Kc},selectOther:{__compose:Kc},connect:{__compose:jie},toConnect:{__attributes:{innerHTML:"Connect"},__compose:kie}},i4r={toConnect:{selectBLE:!0,selectUSB:!0,selectBLEOther:!0,selectOther:!0},connect:{toConnect:!0},"connect.mode":{connectmode:!0},output:{ondata:!0},ondata:{connect:!0}},dae={};yo(dae,{Devices:()=>Rk,Devices3rdParty:()=>Noe,ganglionChartSettings:()=>eUr,ganglionFilterSettings:()=>KLr,ganglionSettings:()=>kk,museChartSettings:()=>I6r,museFilterSettings:()=>q6r,museSettings:()=>YB});var Ql=class{constructor(){this.recursivelyAssign=(e,r)=>{for(let t in r)typeof r[t]=="object"?typeof e[t]=="object"?this.recursivelyAssign(e[t],r[t]):e[t]=this.recursivelyAssign({},r[t]):e[t]=r[t];return e}}static autoscale(e,r=0,t=1,n=!1,i,c,u){if(e?.length===0)return e;let a=c||Math.max(...e),s=i||Math.min(...e),o=1/t,l=1;if(n){let d=Math.max(Math.abs(s),Math.abs(a));return d!==0&&(l=o/d),e.map(p=>(u&&(p<s&&(p=s),p>a&&(p=a)),p*l+(o*(r+1)*2-1-o)))}else return a===s?a!==0?l=o/a:s!==0&&(l=o/Math.abs(s)):l=o/(a-s),e.map(d=>(u&&(d<s&&(d=s),d>a&&(d=a)),2*((d-s)*l-1/(2*t))+(o*(r+1)*2-1-o)))}static genTimestamps(e,r){let t=Date.now(),n=[t-e*1e3/r,t];return Ql.upsample(n,e)}static absmax(e){return Math.max(Math.abs(Math.min(...e)),Math.max(...e))}static downsample(e,r,t=1){if(e.length>r){let n=new Array(r),i=e.length/r,c=e.length-1,u=0,a=0;for(let s=i;s<e.length;s+=i){let o=Math.round(s);o>c&&(o=c);for(let l=u;l<o;l++)n[a]+=e[l];n[a]/=(o-u)*t,a++,u=o}return n}else return e}static upsample(e,r,t=1){var n=function(d,p,f){return(d+(p-d)*f)*t},i=new Array(r),c=(e.length-1)/(r-1);i[0]=e[0];for(var u=1;u<r-1;u++){var a=u*c,s=Math.floor(a),o=Math.ceil(a),l=a-s;i[u]=n(e[s],e[o],l)}return i[r-1]=e[e.length-1],i}static interpolate(e,r,t=1){return e.length>r?Ql.downsample(e,r,t):e.length<r?Ql.upsample(e,r,t):e}static HSLToRGB(e,r,t,n=255){r/=100,t/=100;let i=(1-Math.abs(2*t-1))*r,c=i*(1-Math.abs(e/60%2-1)),u=t-i/2,a=0,s=0,o=0;return 0<=e&&e<60?(a=i,s=c,o=0):60<=e&&e<120?(a=c,s=i,o=0):120<=e&&e<180?(a=0,s=i,o=c):180<=e&&e<240?(a=0,s=c,o=i):240<=e&&e<300?(a=c,s=0,o=i):300<=e&&e<360&&(a=i,s=0,o=c),a=(a+u)*n,s=(s+u)*n,o=(o+u)*n,[a,s,o]}static circularBuffer(e,r){if(r.length<e.length){let t=e.slice(r.length),n=e.length;e.splice(0,n,...t,...r)}else if(r.length>e.length){let t=e.length;e.splice(0,t,r.slice(t-r.length))}else e.splice(0,e.length,...r);return e}static reformatData(e,r){if(Array.isArray(e)){if(Array.isArray(e[0])){let t={};if(e.forEach((n,i)=>{t[i]=n}),e=t,isNaN(e[0][0]))return}else if(r){if(e={[r]:e},isNaN(e[r][0]))return}else if(e={0:e},isNaN(e[0][0]))return}else if(typeof e=="object"){for(let t in e)if(typeof e[t]=="number"?e[t]=[e[t]]:e[t]?.values&&typeof e[t].values=="number"&&(e[t].values=[e[t].values]),isNaN(e[t][0]))return}else if(typeof e=="string"){let t;if(e.includes(`\r
`)){let n=e.split(`\r
`);e={},n.forEach((i,c)=>{i.includes("	")?t=i.split("	"):i.includes(",")?t=i.split(","):i.includes("|")&&(t=i.split("|")),t.forEach((u,a)=>{if(u.includes(":")){let[s,o]=u.split(":"),l=parseFloat(o);if(l)e[s]=[l];else return}else{let s=parseFloat(u);if(s)e[a]=[s];else return}})})}else e.includes("	")?t=e.split("	"):e.includes(",")?t=e.split(","):e.includes("|")&&(t=e.split("|"));e={},t&&t.forEach((n,i)=>{if(n.includes(":")){let[c,u]=n.split(":"),a=parseFloat(u);if(a)e[c]=[a];else return}else{let c=parseFloat(n);if(c)e[i]=[c];else return}})}else typeof e=="number"&&(r?e={[r]:[e]}:e={0:[e]});return e}static padTime(e,r,t,n){let i=(e[0]-r)/t/n;return[...new Array(n-e.length).map((c,u)=>r+i*(u+1)),...e]}static interpolateForTime(e,r,t){return Ql.interpolate(e,Math.ceil(t*r))}isTypedArray(e){return ArrayBuffer.isView(e)&&Object.prototype.toString.call(e)!=="[object DataView]"}spliceTypedArray(e,r,t){let n=e.subarray(0,r),i;t&&(i=e.subarray(t+1));let c;return(n.length>0||i?.length>0)&&(c=new e.constructor(n.length+i.length)),n.length>0&&c.set(n),i&&i.length>0&&c.set(i,n.length),c}},pae=Ql;pae.bufferValues=(e,r,t,n)=>{if(!Array.isArray(t)&&typeof t=="object"&&(t=Object.keys(t)),!n){let c=Object.keys(e);t?n=new Float32Array(c.length*t.length):typeof e[c[0]][r]=="object"?(t=Object.keys(e[c[0]][r]),n=new Float32Array(c.length*t.length)):n=new Float32Array(c.length)}let i=0;for(let c in e)if(e[c][r])if(t)for(let u=0;u<t.length;u++)n[i]=e[c][r][t[u]],i++;else n[i]=e[c][r],i++;return n};var a4r=/^([<>])?(([1-9]\d*)?([xcbB?hHiIfdsp]))*$/,s4r=/([1-9]\d*)?([xcbB?hHiIfdsp])/g,rB=(e,r,t)=>String.fromCharCode(...new Uint8Array(e.buffer,e.byteOffset+r,t)),tB=(e,r,t,n)=>new Uint8Array(e.buffer,e.byteOffset+r,t).set(n.split("").map(i=>i.charCodeAt(0))),o4r=(e,r,t)=>rB(e,r+1,Math.min(e.getUint8(r),t-1)),c4r=(e,r,t,n)=>{e.setUint8(r,n.length),tB(e,r+1,t-1,n)},u4r=e=>({x:r=>[1,r,0],c:r=>[r,1,t=>({u:n=>rB(n,t,1),p:(n,i)=>tB(n,t,1,i)})],"?":r=>[r,1,t=>({u:n=>Boolean(n.getUint8(t)),p:(n,i)=>n.setUint8(t,i)})],b:r=>[r,1,t=>({u:n=>n.getInt8(t),p:(n,i)=>n.setInt8(t,i)})],B:r=>[r,1,t=>({u:n=>n.getUint8(t),p:(n,i)=>n.setUint8(t,i)})],h:r=>[r,2,t=>({u:n=>n.getInt16(t,e),p:(n,i)=>n.setInt16(t,i,e)})],H:r=>[r,2,t=>({u:n=>n.getUint16(t,e),p:(n,i)=>n.setUint16(t,i,e)})],i:r=>[r,4,t=>({u:n=>n.getInt32(t,e),p:(n,i)=>n.setInt32(t,i,e)})],I:r=>[r,4,t=>({u:n=>n.getUint32(t,e),p:(n,i)=>n.setUint32(t,i,e)})],f:r=>[r,4,t=>({u:n=>n.getFloat32(t,e),p:(n,i)=>n.setFloat32(t,i,e)})],d:r=>[r,8,t=>({u:n=>n.getFloat64(t,e),p:(n,i)=>n.setFloat64(t,i,e)})],s:r=>[1,r,t=>({u:n=>rB(n,t,r),p:(n,i)=>tB(n,t,r,i.slice(0,r))})],p:r=>[1,r,t=>({u:n=>o4r(n,t,r),p:(n,i)=>c4r(n,t,r,i.slice(0,r-1))})]}),ine=new RangeError("Structure larger than remaining buffer"),l4r=new RangeError("Not enough values for structure"),ru=class extends pae{static toDataView(e){if(!(e instanceof DataView))if(typeof e=="string"&&parseInt(e)&&(e=parseInt(e)),typeof e=="string"){let r=new TextEncoder,t={};for(let i in ru.codes)for(;e.indexOf(i)>-1;){let c=e.indexOf(i);e=e.replace(i,""),t[c]=i}let n=Array.from(r.encode(e));for(let i in t)n.splice(parseInt(i),0,ru.codes[t[i]]);e=new DataView(new Uint8Array(n).buffer)}else if(typeof e=="number"){let r=e;e<256?(e=new DataView(new ArrayBuffer(1)),e.setUint8(0,r)):e<65536?(e=new DataView(new ArrayBuffer(2)),e.setInt16(0,r)):(e=new DataView(new ArrayBuffer(4)),e.setUint32(0,r))}else e instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&e instanceof SharedArrayBuffer?e=new DataView(e):Array.isArray(e)?e=new DataView(Uint8Array.from(e).buffer):typeof e=="object"&&(e=new TextEncoder().encode(JSON.stringify(e)));return e}static searchBuffer(e,r,t){for(var n=r,i=e,c=ru.boyerMoore(n),u=c.byteLength,a=[],s=c(i);s!==-1&&(a.push(s),!(t&&a.length>=t));s=c(i,s+u));return a}static bytesToInt16(e,r){let t=(255&e)<<8|255&r;return(t&32768)>0?t|=4294901760:t&=65535,t}static bytesToUInt16(e,r){return e*256+r}static Uint16ToBytes(e){return[e&255,e>>8&255]}static bytesToInt24(e,r,t){let n=(255&e)<<16|(255&r)<<8|255&t;return(n&8388608)>0?n|=4278190080:n&=16777215,n}static bytesToUInt24(e,r,t){return e*65536+r*256+t}static Uint24ToBytes(e){return[e&255,e>>8&255,e>>16&255]}static bytesToInt32(e,r,t,n){let i=(255&e)<<24|(255&r)<<16|(255&t)<<8|255&n;return(i&2147483648)>0?i|=0:i&=4294967295,i}static bytesToUInt32(e,r,t,n){return e*16777216+r*65536+t*256+n}static Uint32ToBytes(e){return[e&255,e>>8&255,e>>16&255,e>>24&255]}static get2sCompliment(e,r){return e>4294967296?null:e<<32-r>>32-r}static getSignedInt(...e){let r=0;function t(n){for(var i=0,c=!0;n--;)if(c){let u=e[r++];i+=u&127,u&128&&(i-=128),c=!1}else i*=256,i+=e[r++];return i}return t(e.length)}static asUint8Array(e){if(e instanceof Uint8Array)return e;if(typeof e=="string"){for(var r=new Uint8Array(e.length),t=0;t<e.length;t++){var n=e.charCodeAt(t);if(n>127)throw new TypeError("Only ASCII patterns are supported");r[t]=n}return r}else return new Uint8Array(e)}static boyerMoore(e){var r=ru.asUint8Array(e),t=r.length;if(t===0)throw new TypeError("patternBuffer must be at least 1 byte long");for(var n=256,i=new Int32Array(n),c=0;c<n;c++)i[c]=-1;for(var u=0;u<t;u++)i[r[u]]=u;var a=(s,o,l)=>{var d=ru.asUint8Array(s);o===void 0&&(o=0),l===void 0&&(l=d.length);for(var p=r,f=i,v=l-p.length,h=p.length-1,m,y=o;y<=v;y+=m){m=0;for(var g=h;g>=0;g--){var b=d[y+g];if(p[g]!==b){m=Math.max(1,g-f[b]);break}}if(m===0)return y}return-1};return a.byteLength=r.byteLength,a}static struct(e){let r=[],t=0,n=a4r.exec(e);if(!n)throw new RangeError("Invalid format string");let i=u4r(n[1]==="<"),c=(d,p)=>i[p](d?parseInt(d,10):1);for(;n=s4r.exec(e);)((d,p,f)=>{for(let v=0;v<d;++v,t+=p)f&&r.push(f(t))})(...c(...n.slice(1)));let u=(d,p)=>{if(d.byteLength<(p|0)+t)throw ine;let f=new DataView(d,p|0);return r.map(v=>v.u(f))},a=(d,p,...f)=>{if(f.length<r.length)throw l4r;if(d.byteLength<p+t)throw ine;let v=new DataView(d,p);new Uint8Array(d,p,t).fill(0),r.forEach((h,m)=>h.p(v,f[m]))},s=(...d)=>{let p=new ArrayBuffer(t);return a(p,0,...d),p},o=d=>u(d,0);function*l(d){for(let p=0;p+t<=d.byteLength;p+=t)yield u(d,p)}return Object.freeze({unpack:o,pack:s,unpack_from:u,pack_into:a,iter_unpack:l,format:e,size:t})}},sr=ru;sr.codes={"\\n":10,"\\r":13,"\\t":9,"\\s":32,"\\b":8,"\\f":12,"\\":92};var d4r=Object.create,fae=Object.defineProperty,p4r=Object.getOwnPropertyDescriptor,f4r=Object.getOwnPropertyNames,h4r=Object.getPrototypeOf,v4r=Object.prototype.hasOwnProperty,xe=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports),m4r=(e,r,t,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let i of f4r(r))!v4r.call(e,i)&&i!==t&&fae(e,i,{get:()=>r[i],enumerable:!(n=p4r(r,i))||n.enumerable});return e},y4r=(e,r,t)=>(t=e!=null?d4r(h4r(e)):{},m4r(r||!e||!e.__esModule?fae(t,"default",{value:e,enumerable:!0}):t,e)),cd=xe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});function r(t){return typeof t=="function"}e.isFunction=r}),_2=xe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=!1;e.config={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){var n=new Error;console.warn(`DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: 
`+n.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}}),EB=xe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});function r(t){setTimeout(function(){throw t},0)}e.hostReportError=r}),hae=xe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=_2(),t=EB();e.empty={closed:!0,next:function(n){},error:function(n){if(r.config.useDeprecatedSynchronousErrorHandling)throw n;t.hostReportError(n)},complete:function(){}}}),Pn=xe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isArray=function(){return Array.isArray||function(r){return r&&typeof r.length=="number"}}()}),qB=xe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});function r(t){return t!==null&&typeof t=="object"}e.isObject=r}),vae=xe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(n){return Error.call(this),this.message=n?n.length+` errors occurred during unsubscription:
`+n.map(function(i,c){return c+1+") "+i.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=n,this}return t.prototype=Object.create(Error.prototype),t}();e.UnsubscriptionError=r}),It=xe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Pn(),t=qB(),n=cd(),i=vae(),c=function(){function a(s){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,s&&(this._ctorUnsubscribe=!0,this._unsubscribe=s)}return a.prototype.unsubscribe=function(){var s;if(!this.closed){var o=this,l=o._parentOrParents,d=o._ctorUnsubscribe,p=o._unsubscribe,f=o._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,l instanceof a)l.remove(this);else if(l!==null)for(var v=0;v<l.length;++v){var h=l[v];h.remove(this)}if(n.isFunction(p)){d&&(this._unsubscribe=void 0);try{p.call(this)}catch(g){s=g instanceof i.UnsubscriptionError?u(g.errors):[g]}}if(r.isArray(f))for(var v=-1,m=f.length;++v<m;){var y=f[v];if(t.isObject(y))try{y.unsubscribe()}catch(b){s=s||[],b instanceof i.UnsubscriptionError?s=s.concat(u(b.errors)):s.push(b)}}if(s)throw new i.UnsubscriptionError(s)}},a.prototype.add=function(s){var o=s;if(!s)return a.EMPTY;switch(typeof s){case"function":o=new a(s);case"object":if(o===this||o.closed||typeof o.unsubscribe!="function")return o;if(this.closed)return o.unsubscribe(),o;if(!(o instanceof a)){var l=o;o=new a,o._subscriptions=[l]}break;default:throw new Error("unrecognized teardown "+s+" added to Subscription.")}var d=o._parentOrParents;if(d===null)o._parentOrParents=this;else if(d instanceof a){if(d===this)return o;o._parentOrParents=[d,this]}else if(d.indexOf(this)===-1)d.push(this);else return o;var p=this._subscriptions;return p===null?this._subscriptions=[o]:p.push(o),o},a.prototype.remove=function(s){var o=this._subscriptions;if(o){var l=o.indexOf(s);l!==-1&&o.splice(l,1)}},a.EMPTY=function(s){return s.closed=!0,s}(new a),a}();e.Subscription=c;function u(a){return a.reduce(function(s,o){return s.concat(o instanceof i.UnsubscriptionError?o.errors:o)},[])}}),IB=xe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.rxSubscriber=function(){return typeof Symbol=="function"?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),e.$$rxSubscriber=e.rxSubscriber}),pr=xe(e=>{"use strict";var r=e&&e.__extends||function(){var l=function(d,p){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,v){f.__proto__=v}||function(f,v){for(var h in v)v.hasOwnProperty(h)&&(f[h]=v[h])},l(d,p)};return function(d,p){l(d,p);function f(){this.constructor=d}d.prototype=p===null?Object.create(p):(f.prototype=p.prototype,new f)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=cd(),n=hae(),i=It(),c=IB(),u=_2(),a=EB(),s=function(l){r(d,l);function d(p,f,v){var h=l.call(this)||this;switch(h.syncErrorValue=null,h.syncErrorThrown=!1,h.syncErrorThrowable=!1,h.isStopped=!1,arguments.length){case 0:h.destination=n.empty;break;case 1:if(!p){h.destination=n.empty;break}if(typeof p=="object"){p instanceof d?(h.syncErrorThrowable=p.syncErrorThrowable,h.destination=p,p.add(h)):(h.syncErrorThrowable=!0,h.destination=new o(h,p));break}default:h.syncErrorThrowable=!0,h.destination=new o(h,p,f,v);break}return h}return d.prototype[c.rxSubscriber]=function(){return this},d.create=function(p,f,v){var h=new d(p,f,v);return h.syncErrorThrowable=!1,h},d.prototype.next=function(p){this.isStopped||this._next(p)},d.prototype.error=function(p){this.isStopped||(this.isStopped=!0,this._error(p))},d.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},d.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,l.prototype.unsubscribe.call(this))},d.prototype._next=function(p){this.destination.next(p)},d.prototype._error=function(p){this.destination.error(p),this.unsubscribe()},d.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},d.prototype._unsubscribeAndRecycle=function(){var p=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=p,this},d}(i.Subscription);e.Subscriber=s;var o=function(l){r(d,l);function d(p,f,v,h){var m=l.call(this)||this;m._parentSubscriber=p;var y,g=m;return t.isFunction(f)?y=f:f&&(y=f.next,v=f.error,h=f.complete,f!==n.empty&&(g=Object.create(f),t.isFunction(g.unsubscribe)&&m.add(g.unsubscribe.bind(g)),g.unsubscribe=m.unsubscribe.bind(m))),m._context=g,m._next=y,m._error=v,m._complete=h,m}return d.prototype.next=function(p){if(!this.isStopped&&this._next){var f=this._parentSubscriber;!u.config.useDeprecatedSynchronousErrorHandling||!f.syncErrorThrowable?this.__tryOrUnsub(this._next,p):this.__tryOrSetError(f,this._next,p)&&this.unsubscribe()}},d.prototype.error=function(p){if(!this.isStopped){var f=this._parentSubscriber,v=u.config.useDeprecatedSynchronousErrorHandling;if(this._error)!v||!f.syncErrorThrowable?(this.__tryOrUnsub(this._error,p),this.unsubscribe()):(this.__tryOrSetError(f,this._error,p),this.unsubscribe());else if(f.syncErrorThrowable)v?(f.syncErrorValue=p,f.syncErrorThrown=!0):a.hostReportError(p),this.unsubscribe();else{if(this.unsubscribe(),v)throw p;a.hostReportError(p)}}},d.prototype.complete=function(){var p=this;if(!this.isStopped){var f=this._parentSubscriber;if(this._complete){var v=function(){return p._complete.call(p._context)};!u.config.useDeprecatedSynchronousErrorHandling||!f.syncErrorThrowable?(this.__tryOrUnsub(v),this.unsubscribe()):(this.__tryOrSetError(f,v),this.unsubscribe())}else this.unsubscribe()}},d.prototype.__tryOrUnsub=function(p,f){try{p.call(this._context,f)}catch(v){if(this.unsubscribe(),u.config.useDeprecatedSynchronousErrorHandling)throw v;a.hostReportError(v)}},d.prototype.__tryOrSetError=function(p,f,v){if(!u.config.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{f.call(this._context,v)}catch(h){return u.config.useDeprecatedSynchronousErrorHandling?(p.syncErrorValue=h,p.syncErrorThrown=!0,!0):(a.hostReportError(h),!0)}return!1},d.prototype._unsubscribe=function(){var p=this._parentSubscriber;this._context=null,this._parentSubscriber=null,p.unsubscribe()},d}(s);e.SafeSubscriber=o}),BB=xe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=pr();function t(n){for(;n;){var i=n,c=i.closed,u=i.destination,a=i.isStopped;if(c||a)return!1;u&&u instanceof r.Subscriber?n=u:n=null}return!0}e.canReportError=t}),g4r=xe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=pr(),t=IB(),n=hae();function i(c,u,a){if(c){if(c instanceof r.Subscriber)return c;if(c[t.rxSubscriber])return c[t.rxSubscriber]()}return!c&&!u&&!a?new r.Subscriber(n.empty):new r.Subscriber(c,u,a)}e.toSubscriber=i}),cu=xe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.observable=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}()}),go=xe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});function r(t){return t}e.identity=r}),kB=xe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=go();function t(){for(var i=[],c=0;c<arguments.length;c++)i[c]=arguments[c];return n(i)}e.pipe=t;function n(i){return i.length===0?r.identity:i.length===1?i[0]:function(c){return i.reduce(function(u,a){return a(u)},c)}}e.pipeFromArray=n}),Lr=xe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=BB(),t=g4r(),n=cu(),i=kB(),c=_2(),u=function(){function s(o){this._isScalar=!1,o&&(this._subscribe=o)}return s.prototype.lift=function(o){var l=new s;return l.source=this,l.operator=o,l},s.prototype.subscribe=function(o,l,d){var p=this.operator,f=t.toSubscriber(o,l,d);if(p?f.add(p.call(f,this.source)):f.add(this.source||c.config.useDeprecatedSynchronousErrorHandling&&!f.syncErrorThrowable?this._subscribe(f):this._trySubscribe(f)),c.config.useDeprecatedSynchronousErrorHandling&&f.syncErrorThrowable&&(f.syncErrorThrowable=!1,f.syncErrorThrown))throw f.syncErrorValue;return f},s.prototype._trySubscribe=function(o){try{return this._subscribe(o)}catch(l){c.config.useDeprecatedSynchronousErrorHandling&&(o.syncErrorThrown=!0,o.syncErrorValue=l),r.canReportError(o)?o.error(l):console.warn(l)}},s.prototype.forEach=function(o,l){var d=this;return l=a(l),new l(function(p,f){var v;v=d.subscribe(function(h){try{o(h)}catch(m){f(m),v&&v.unsubscribe()}},f,p)})},s.prototype._subscribe=function(o){var l=this.source;return l&&l.subscribe(o)},s.prototype[n.observable]=function(){return this},s.prototype.pipe=function(){for(var o=[],l=0;l<arguments.length;l++)o[l]=arguments[l];return o.length===0?this:i.pipeFromArray(o)(this)},s.prototype.toPromise=function(o){var l=this;return o=a(o),new o(function(d,p){var f;l.subscribe(function(v){return f=v},function(v){return p(v)},function(){return d(f)})})},s.create=function(o){return new s(o)},s}();e.Observable=u;function a(s){if(s||(s=c.config.Promise||Promise),!s)throw new Error("no Promise impl found");return s}}),w2=xe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}();e.ObjectUnsubscribedError=r}),mae=xe(e=>{"use strict";var r=e&&e.__extends||function(){var i=function(c,u){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var o in s)s.hasOwnProperty(o)&&(a[o]=s[o])},i(c,u)};return function(c,u){i(c,u);function a(){this.constructor=c}c.prototype=u===null?Object.create(u):(a.prototype=u.prototype,new a)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=It(),n=function(i){r(c,i);function c(u,a){var s=i.call(this)||this;return s.subject=u,s.subscriber=a,s.closed=!1,s}return c.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var u=this.subject,a=u.observers;if(this.subject=null,!(!a||a.length===0||u.isStopped||u.closed)){var s=a.indexOf(this.subscriber);s!==-1&&a.splice(s,1)}}},c}(t.Subscription);e.SubjectSubscription=n}),yn=xe(e=>{"use strict";var r=e&&e.__extends||function(){var d=function(p,f){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,h){v.__proto__=h}||function(v,h){for(var m in h)h.hasOwnProperty(m)&&(v[m]=h[m])},d(p,f)};return function(p,f){d(p,f);function v(){this.constructor=p}p.prototype=f===null?Object.create(f):(v.prototype=f.prototype,new v)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=Lr(),n=pr(),i=It(),c=w2(),u=mae(),a=IB(),s=function(d){r(p,d);function p(f){var v=d.call(this,f)||this;return v.destination=f,v}return p}(n.Subscriber);e.SubjectSubscriber=s;var o=function(d){r(p,d);function p(){var f=d.call(this)||this;return f.observers=[],f.closed=!1,f.isStopped=!1,f.hasError=!1,f.thrownError=null,f}return p.prototype[a.rxSubscriber]=function(){return new s(this)},p.prototype.lift=function(f){var v=new l(this,this);return v.operator=f,v},p.prototype.next=function(f){if(this.closed)throw new c.ObjectUnsubscribedError;if(!this.isStopped)for(var v=this.observers,h=v.length,m=v.slice(),y=0;y<h;y++)m[y].next(f)},p.prototype.error=function(f){if(this.closed)throw new c.ObjectUnsubscribedError;this.hasError=!0,this.thrownError=f,this.isStopped=!0;for(var v=this.observers,h=v.length,m=v.slice(),y=0;y<h;y++)m[y].error(f);this.observers.length=0},p.prototype.complete=function(){if(this.closed)throw new c.ObjectUnsubscribedError;this.isStopped=!0;for(var f=this.observers,v=f.length,h=f.slice(),m=0;m<v;m++)h[m].complete();this.observers.length=0},p.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},p.prototype._trySubscribe=function(f){if(this.closed)throw new c.ObjectUnsubscribedError;return d.prototype._trySubscribe.call(this,f)},p.prototype._subscribe=function(f){if(this.closed)throw new c.ObjectUnsubscribedError;return this.hasError?(f.error(this.thrownError),i.Subscription.EMPTY):this.isStopped?(f.complete(),i.Subscription.EMPTY):(this.observers.push(f),new u.SubjectSubscription(this,f))},p.prototype.asObservable=function(){var f=new t.Observable;return f.source=this,f},p.create=function(f,v){return new l(f,v)},p}(t.Observable);e.Subject=o;var l=function(d){r(p,d);function p(f,v){var h=d.call(this)||this;return h.destination=f,h.source=v,h}return p.prototype.next=function(f){var v=this.destination;v&&v.next&&v.next(f)},p.prototype.error=function(f){var v=this.destination;v&&v.error&&this.destination.error(f)},p.prototype.complete=function(){var f=this.destination;f&&f.complete&&this.destination.complete()},p.prototype._subscribe=function(f){var v=this.source;return v?this.source.subscribe(f):i.Subscription.EMPTY},p}(o);e.AnonymousSubject=l}),jB=xe(e=>{"use strict";var r=e&&e.__extends||function(){var u=function(a,s){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var d in l)l.hasOwnProperty(d)&&(o[d]=l[d])},u(a,s)};return function(a,s){u(a,s);function o(){this.constructor=a}a.prototype=s===null?Object.create(s):(o.prototype=s.prototype,new o)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=pr();function n(){return function(u){return u.lift(new i(u))}}e.refCount=n;var i=function(){function u(a){this.connectable=a}return u.prototype.call=function(a,s){var o=this.connectable;o._refCount++;var l=new c(a,o),d=s.subscribe(l);return l.closed||(l.connection=o.connect()),d},u}(),c=function(u){r(a,u);function a(s,o){var l=u.call(this,s)||this;return l.connectable=o,l}return a.prototype._unsubscribe=function(){var s=this.connectable;if(!s){this.connection=null;return}this.connectable=null;var o=s._refCount;if(o<=0){this.connection=null;return}if(s._refCount=o-1,o>1){this.connection=null;return}var l=this.connection,d=s._connection;this.connection=null,d&&(!l||d===l)&&d.unsubscribe()},a}(t.Subscriber)}),yae=xe(e=>{"use strict";var r=e&&e.__extends||function(){var d=function(p,f){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,h){v.__proto__=h}||function(v,h){for(var m in h)h.hasOwnProperty(m)&&(v[m]=h[m])},d(p,f)};return function(p,f){d(p,f);function v(){this.constructor=p}p.prototype=f===null?Object.create(f):(v.prototype=f.prototype,new v)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=yn(),n=Lr(),i=pr(),c=It(),u=jB(),a=function(d){r(p,d);function p(f,v){var h=d.call(this)||this;return h.source=f,h.subjectFactory=v,h._refCount=0,h._isComplete=!1,h}return p.prototype._subscribe=function(f){return this.getSubject().subscribe(f)},p.prototype.getSubject=function(){var f=this._subject;return(!f||f.isStopped)&&(this._subject=this.subjectFactory()),this._subject},p.prototype.connect=function(){var f=this._connection;return f||(this._isComplete=!1,f=this._connection=new c.Subscription,f.add(this.source.subscribe(new s(this.getSubject(),this))),f.closed&&(this._connection=null,f=c.Subscription.EMPTY)),f},p.prototype.refCount=function(){return u.refCount()(this)},p}(n.Observable);e.ConnectableObservable=a,e.connectableObservableDescriptor=function(){var d=a.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:d._subscribe},_isComplete:{value:d._isComplete,writable:!0},getSubject:{value:d.getSubject},connect:{value:d.connect},refCount:{value:d.refCount}}}();var s=function(d){r(p,d);function p(f,v){var h=d.call(this,f)||this;return h.connectable=v,h}return p.prototype._error=function(f){this._unsubscribe(),d.prototype._error.call(this,f)},p.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),d.prototype._complete.call(this)},p.prototype._unsubscribe=function(){var f=this.connectable;if(f){this.connectable=null;var v=f._connection;f._refCount=0,f._subject=null,f._connection=null,v&&v.unsubscribe()}},p}(t.SubjectSubscriber),o=function(){function d(p){this.connectable=p}return d.prototype.call=function(p,f){var v=this.connectable;v._refCount++;var h=new l(p,v),m=f.subscribe(h);return h.closed||(h.connection=v.connect()),m},d}(),l=function(d){r(p,d);function p(f,v){var h=d.call(this,f)||this;return h.connectable=v,h}return p.prototype._unsubscribe=function(){var f=this.connectable;if(!f){this.connection=null;return}this.connectable=null;var v=f._refCount;if(v<=0){this.connection=null;return}if(f._refCount=v-1,v>1){this.connection=null;return}var h=this.connection,m=f._connection;this.connection=null,m&&(!h||m===h)&&m.unsubscribe()},p}(i.Subscriber)}),gae=xe(e=>{"use strict";var r=e&&e.__extends||function(){var p=function(f,v){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,m){h.__proto__=m}||function(h,m){for(var y in m)m.hasOwnProperty(y)&&(h[y]=m[y])},p(f,v)};return function(f,v){p(f,v);function h(){this.constructor=f}f.prototype=v===null?Object.create(v):(h.prototype=v.prototype,new h)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=pr(),n=It(),i=Lr(),c=yn();function u(p,f,v,h){return function(m){return m.lift(new a(p,f,v,h))}}e.groupBy=u;var a=function(){function p(f,v,h,m){this.keySelector=f,this.elementSelector=v,this.durationSelector=h,this.subjectSelector=m}return p.prototype.call=function(f,v){return v.subscribe(new s(f,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))},p}(),s=function(p){r(f,p);function f(v,h,m,y,g){var b=p.call(this,v)||this;return b.keySelector=h,b.elementSelector=m,b.durationSelector=y,b.subjectSelector=g,b.groups=null,b.attemptedToUnsubscribe=!1,b.count=0,b}return f.prototype._next=function(v){var h;try{h=this.keySelector(v)}catch(m){this.error(m);return}this._group(v,h)},f.prototype._group=function(v,h){var m=this.groups;m||(m=this.groups=new Map);var y=m.get(h),g;if(this.elementSelector)try{g=this.elementSelector(v)}catch(S){this.error(S)}else g=v;if(!y){y=this.subjectSelector?this.subjectSelector():new c.Subject,m.set(h,y);var b=new l(h,y,this);if(this.destination.next(b),this.durationSelector){var _=void 0;try{_=this.durationSelector(new l(h,y))}catch(S){this.error(S);return}this.add(_.subscribe(new o(h,y,this)))}}y.closed||y.next(g)},f.prototype._error=function(v){var h=this.groups;h&&(h.forEach(function(m,y){m.error(v)}),h.clear()),this.destination.error(v)},f.prototype._complete=function(){var v=this.groups;v&&(v.forEach(function(h,m){h.complete()}),v.clear()),this.destination.complete()},f.prototype.removeGroup=function(v){this.groups.delete(v)},f.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,this.count===0&&p.prototype.unsubscribe.call(this))},f}(t.Subscriber),o=function(p){r(f,p);function f(v,h,m){var y=p.call(this,h)||this;return y.key=v,y.group=h,y.parent=m,y}return f.prototype._next=function(v){this.complete()},f.prototype._unsubscribe=function(){var v=this,h=v.parent,m=v.key;this.key=this.parent=null,h&&h.removeGroup(m)},f}(t.Subscriber),l=function(p){r(f,p);function f(v,h,m){var y=p.call(this)||this;return y.key=v,y.groupSubject=h,y.refCountSubscription=m,y}return f.prototype._subscribe=function(v){var h=new n.Subscription,m=this,y=m.refCountSubscription,g=m.groupSubject;return y&&!y.closed&&h.add(new d(y)),h.add(g.subscribe(v)),h},f}(i.Observable);e.GroupedObservable=l;var d=function(p){r(f,p);function f(v){var h=p.call(this)||this;return h.parent=v,v.count++,h}return f.prototype.unsubscribe=function(){var v=this.parent;!v.closed&&!this.closed&&(p.prototype.unsubscribe.call(this),v.count-=1,v.count===0&&v.attemptedToUnsubscribe&&v.unsubscribe())},f}(n.Subscription)}),bae=xe(e=>{"use strict";var r=e&&e.__extends||function(){var c=function(u,a){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,o){s.__proto__=o}||function(s,o){for(var l in o)o.hasOwnProperty(l)&&(s[l]=o[l])},c(u,a)};return function(u,a){c(u,a);function s(){this.constructor=u}u.prototype=a===null?Object.create(a):(s.prototype=a.prototype,new s)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=yn(),n=w2(),i=function(c){r(u,c);function u(a){var s=c.call(this)||this;return s._value=a,s}return Object.defineProperty(u.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),u.prototype._subscribe=function(a){var s=c.prototype._subscribe.call(this,a);return s&&!s.closed&&a.next(this._value),s},u.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new n.ObjectUnsubscribedError;return this._value},u.prototype.next=function(a){c.prototype.next.call(this,this._value=a)},u}(t.Subject);e.BehaviorSubject=i}),b4r=xe(e=>{"use strict";var r=e&&e.__extends||function(){var i=function(c,u){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var o in s)s.hasOwnProperty(o)&&(a[o]=s[o])},i(c,u)};return function(c,u){i(c,u);function a(){this.constructor=c}c.prototype=u===null?Object.create(u):(a.prototype=u.prototype,new a)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=It(),n=function(i){r(c,i);function c(u,a){return i.call(this)||this}return c.prototype.schedule=function(u,a){return a===void 0&&(a=0),this},c}(t.Subscription);e.Action=n}),ud=xe(e=>{"use strict";var r=e&&e.__extends||function(){var i=function(c,u){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var o in s)s.hasOwnProperty(o)&&(a[o]=s[o])},i(c,u)};return function(c,u){i(c,u);function a(){this.constructor=c}c.prototype=u===null?Object.create(u):(a.prototype=u.prototype,new a)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=b4r(),n=function(i){r(c,i);function c(u,a){var s=i.call(this,u,a)||this;return s.scheduler=u,s.work=a,s.pending=!1,s}return c.prototype.schedule=function(u,a){if(a===void 0&&(a=0),this.closed)return this;this.state=u;var s=this.id,o=this.scheduler;return s!=null&&(this.id=this.recycleAsyncId(o,s,a)),this.pending=!0,this.delay=a,this.id=this.id||this.requestAsyncId(o,this.id,a),this},c.prototype.requestAsyncId=function(u,a,s){return s===void 0&&(s=0),setInterval(u.flush.bind(u,this),s)},c.prototype.recycleAsyncId=function(u,a,s){if(s===void 0&&(s=0),s!==null&&this.delay===s&&this.pending===!1)return a;clearInterval(a)},c.prototype.execute=function(u,a){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var s=this._execute(u,a);if(s)return s;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},c.prototype._execute=function(u,a){var s=!1,o=void 0;try{this.work(u)}catch(l){s=!0,o=!!l&&l||new Error(l)}if(s)return this.unsubscribe(),o},c.prototype._unsubscribe=function(){var u=this.id,a=this.scheduler,s=a.actions,o=s.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,o!==-1&&s.splice(o,1),u!=null&&(this.id=this.recycleAsyncId(a,u,null)),this.delay=null},c}(t.Action);e.AsyncAction=n}),_4r=xe(e=>{"use strict";var r=e&&e.__extends||function(){var i=function(c,u){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var o in s)s.hasOwnProperty(o)&&(a[o]=s[o])},i(c,u)};return function(c,u){i(c,u);function a(){this.constructor=c}c.prototype=u===null?Object.create(u):(a.prototype=u.prototype,new a)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=ud(),n=function(i){r(c,i);function c(u,a){var s=i.call(this,u,a)||this;return s.scheduler=u,s.work=a,s}return c.prototype.schedule=function(u,a){return a===void 0&&(a=0),a>0?i.prototype.schedule.call(this,u,a):(this.delay=a,this.state=u,this.scheduler.flush(this),this)},c.prototype.execute=function(u,a){return a>0||this.closed?i.prototype.execute.call(this,u,a):this._execute(u,a)},c.prototype.requestAsyncId=function(u,a,s){return s===void 0&&(s=0),s!==null&&s>0||s===null&&this.delay>0?i.prototype.requestAsyncId.call(this,u,a,s):u.flush(this)},c}(t.AsyncAction);e.QueueAction=n}),_ae=xe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(n,i){i===void 0&&(i=t.now),this.SchedulerAction=n,this.now=i}return t.prototype.schedule=function(n,i,c){return i===void 0&&(i=0),new this.SchedulerAction(this,n).schedule(c,i)},t.now=function(){return Date.now()},t}();e.Scheduler=r}),ld=xe(e=>{"use strict";var r=e&&e.__extends||function(){var i=function(c,u){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var o in s)s.hasOwnProperty(o)&&(a[o]=s[o])},i(c,u)};return function(c,u){i(c,u);function a(){this.constructor=c}c.prototype=u===null?Object.create(u):(a.prototype=u.prototype,new a)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=_ae(),n=function(i){r(c,i);function c(u,a){a===void 0&&(a=t.Scheduler.now);var s=i.call(this,u,function(){return c.delegate&&c.delegate!==s?c.delegate.now():a()})||this;return s.actions=[],s.active=!1,s.scheduled=void 0,s}return c.prototype.schedule=function(u,a,s){return a===void 0&&(a=0),c.delegate&&c.delegate!==this?c.delegate.schedule(u,a,s):i.prototype.schedule.call(this,u,a,s)},c.prototype.flush=function(u){var a=this.actions;if(this.active){a.push(u);return}var s;this.active=!0;do if(s=u.execute(u.state,u.delay))break;while(u=a.shift());if(this.active=!1,s){for(;u=a.shift();)u.unsubscribe();throw s}},c}(t.Scheduler);e.AsyncScheduler=n}),w4r=xe(e=>{"use strict";var r=e&&e.__extends||function(){var i=function(c,u){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var o in s)s.hasOwnProperty(o)&&(a[o]=s[o])},i(c,u)};return function(c,u){i(c,u);function a(){this.constructor=c}c.prototype=u===null?Object.create(u):(a.prototype=u.prototype,new a)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=ld(),n=function(i){r(c,i);function c(){return i!==null&&i.apply(this,arguments)||this}return c}(t.AsyncScheduler);e.QueueScheduler=n}),wae=xe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=_4r(),t=w4r();e.queueScheduler=new t.QueueScheduler(r.QueueAction),e.queue=e.queueScheduler}),Ei=xe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Lr();e.EMPTY=new r.Observable(function(i){return i.complete()});function t(i){return i?n(i):e.EMPTY}e.empty=t;function n(i){return new r.Observable(function(c){return i.schedule(function(){return c.complete()})})}}),Ii=xe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});function r(t){return t&&typeof t.schedule=="function"}e.isScheduler=r}),Sae=xe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.subscribeToArray=function(r){return function(t){for(var n=0,i=r.length;n<i&&!t.closed;n++)t.next(r[n]);t.complete()}}}),TB=xe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Lr(),t=It();function n(i,c){return new r.Observable(function(u){var a=new t.Subscription,s=0;return a.add(c.schedule(function(){if(s===i.length){u.complete();return}u.next(i[s++]),u.closed||a.add(this.schedule())})),a})}e.scheduleArray=n}),dd=xe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Lr(),t=Sae(),n=TB();function i(c,u){return u?n.scheduleArray(c,u):new r.Observable(t.subscribeToArray(c))}e.fromArray=i}),S2=xe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Ii(),t=dd(),n=TB();function i(){for(var c=[],u=0;u<arguments.length;u++)c[u]=arguments[u];var a=c[c.length-1];return r.isScheduler(a)?(c.pop(),n.scheduleArray(c,a)):t.fromArray(c)}e.of=i}),RB=xe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Lr();function t(i,c){return c?new r.Observable(function(u){return c.schedule(n,0,{error:i,subscriber:u})}):new r.Observable(function(u){return u.error(i)})}e.throwError=t;function n(i){var c=i.error,u=i.subscriber;u.error(c)}}),x2=xe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Ei(),t=S2(),n=RB(),i;(function(u){u.NEXT="N",u.ERROR="E",u.COMPLETE="C"})(i=e.NotificationKind||(e.NotificationKind={}));var c=function(){function u(a,s,o){this.kind=a,this.value=s,this.error=o,this.hasValue=a==="N"}return u.prototype.observe=function(a){switch(this.kind){case"N":return a.next&&a.next(this.value);case"E":return a.error&&a.error(this.error);case"C":return a.complete&&a.complete()}},u.prototype.do=function(a,s,o){var l=this.kind;switch(l){case"N":return a&&a(this.value);case"E":return s&&s(this.error);case"C":return o&&o()}},u.prototype.accept=function(a,s,o){return a&&typeof a.next=="function"?this.observe(a):this.do(a,s,o)},u.prototype.toObservable=function(){var a=this.kind;switch(a){case"N":return t.of(this.value);case"E":return n.throwError(this.error);case"C":return r.empty()}throw new Error("unexpected notification kind value")},u.createNext=function(a){return typeof a<"u"?new u("N",a):u.undefinedValueNotification},u.createError=function(a){return new u("E",void 0,a)},u.createComplete=function(){return u.completeNotification},u.completeNotification=new u("C"),u.undefinedValueNotification=new u("N",void 0),u}();e.Notification=c}),xae=xe(e=>{"use strict";var r=e&&e.__extends||function(){var s=function(o,l){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,p){d.__proto__=p}||function(d,p){for(var f in p)p.hasOwnProperty(f)&&(d[f]=p[f])},s(o,l)};return function(o,l){s(o,l);function d(){this.constructor=o}o.prototype=l===null?Object.create(l):(d.prototype=l.prototype,new d)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=pr(),n=x2();function i(s,o){return o===void 0&&(o=0),function(l){return l.lift(new c(s,o))}}e.observeOn=i;var c=function(){function s(o,l){l===void 0&&(l=0),this.scheduler=o,this.delay=l}return s.prototype.call=function(o,l){return l.subscribe(new u(o,this.scheduler,this.delay))},s}();e.ObserveOnOperator=c;var u=function(s){r(o,s);function o(l,d,p){p===void 0&&(p=0);var f=s.call(this,l)||this;return f.scheduler=d,f.delay=p,f}return o.dispatch=function(l){var d=l.notification,p=l.destination;d.observe(p),this.unsubscribe()},o.prototype.scheduleMessage=function(l){var d=this.destination;d.add(this.scheduler.schedule(o.dispatch,this.delay,new a(l,this.destination)))},o.prototype._next=function(l){this.scheduleMessage(n.Notification.createNext(l))},o.prototype._error=function(l){this.scheduleMessage(n.Notification.createError(l)),this.unsubscribe()},o.prototype._complete=function(){this.scheduleMessage(n.Notification.createComplete()),this.unsubscribe()},o}(t.Subscriber);e.ObserveOnSubscriber=u;var a=function(){function s(o,l){this.notification=o,this.destination=l}return s}();e.ObserveOnMessage=a}),FB=xe(e=>{"use strict";var r=e&&e.__extends||function(){var l=function(d,p){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,v){f.__proto__=v}||function(f,v){for(var h in v)v.hasOwnProperty(h)&&(f[h]=v[h])},l(d,p)};return function(d,p){l(d,p);function f(){this.constructor=d}d.prototype=p===null?Object.create(p):(f.prototype=p.prototype,new f)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=yn(),n=wae(),i=It(),c=xae(),u=w2(),a=mae(),s=function(l){r(d,l);function d(p,f,v){p===void 0&&(p=Number.POSITIVE_INFINITY),f===void 0&&(f=Number.POSITIVE_INFINITY);var h=l.call(this)||this;return h.scheduler=v,h._events=[],h._infiniteTimeWindow=!1,h._bufferSize=p<1?1:p,h._windowTime=f<1?1:f,f===Number.POSITIVE_INFINITY?(h._infiniteTimeWindow=!0,h.next=h.nextInfiniteTimeWindow):h.next=h.nextTimeWindow,h}return d.prototype.nextInfiniteTimeWindow=function(p){if(!this.isStopped){var f=this._events;f.push(p),f.length>this._bufferSize&&f.shift()}l.prototype.next.call(this,p)},d.prototype.nextTimeWindow=function(p){this.isStopped||(this._events.push(new o(this._getNow(),p)),this._trimBufferThenGetEvents()),l.prototype.next.call(this,p)},d.prototype._subscribe=function(p){var f=this._infiniteTimeWindow,v=f?this._events:this._trimBufferThenGetEvents(),h=this.scheduler,m=v.length,y;if(this.closed)throw new u.ObjectUnsubscribedError;if(this.isStopped||this.hasError?y=i.Subscription.EMPTY:(this.observers.push(p),y=new a.SubjectSubscription(this,p)),h&&p.add(p=new c.ObserveOnSubscriber(p,h)),f)for(var g=0;g<m&&!p.closed;g++)p.next(v[g]);else for(var g=0;g<m&&!p.closed;g++)p.next(v[g].value);return this.hasError?p.error(this.thrownError):this.isStopped&&p.complete(),y},d.prototype._getNow=function(){return(this.scheduler||n.queue).now()},d.prototype._trimBufferThenGetEvents=function(){for(var p=this._getNow(),f=this._bufferSize,v=this._windowTime,h=this._events,m=h.length,y=0;y<m&&!(p-h[y].time<v);)y++;return m>f&&(y=Math.max(y,m-f)),y>0&&h.splice(0,y),h},d}(t.Subject);e.ReplaySubject=s;var o=function(){function l(d,p){this.time=d,this.value=p}return l}()}),O2=xe(e=>{"use strict";var r=e&&e.__extends||function(){var c=function(u,a){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,o){s.__proto__=o}||function(s,o){for(var l in o)o.hasOwnProperty(l)&&(s[l]=o[l])},c(u,a)};return function(u,a){c(u,a);function s(){this.constructor=u}u.prototype=a===null?Object.create(a):(s.prototype=a.prototype,new s)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=yn(),n=It(),i=function(c){r(u,c);function u(){var a=c!==null&&c.apply(this,arguments)||this;return a.value=null,a.hasNext=!1,a.hasCompleted=!1,a}return u.prototype._subscribe=function(a){return this.hasError?(a.error(this.thrownError),n.Subscription.EMPTY):this.hasCompleted&&this.hasNext?(a.next(this.value),a.complete(),n.Subscription.EMPTY):c.prototype._subscribe.call(this,a)},u.prototype.next=function(a){this.hasCompleted||(this.value=a,this.hasNext=!0)},u.prototype.error=function(a){this.hasCompleted||c.prototype.error.call(this,a)},u.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&c.prototype.next.call(this,this.value),c.prototype.complete.call(this)},u}(t.Subject);e.AsyncSubject=i}),S4r=xe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=1,t=function(){return Promise.resolve()}(),n={};function i(c){return c in n?(delete n[c],!0):!1}e.Immediate={setImmediate:function(c){var u=r++;return n[u]=!0,t.then(function(){return i(u)&&c()}),u},clearImmediate:function(c){i(c)}},e.TestTools={pending:function(){return Object.keys(n).length}}}),x4r=xe(e=>{"use strict";var r=e&&e.__extends||function(){var c=function(u,a){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,o){s.__proto__=o}||function(s,o){for(var l in o)o.hasOwnProperty(l)&&(s[l]=o[l])},c(u,a)};return function(u,a){c(u,a);function s(){this.constructor=u}u.prototype=a===null?Object.create(a):(s.prototype=a.prototype,new s)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=S4r(),n=ud(),i=function(c){r(u,c);function u(a,s){var o=c.call(this,a,s)||this;return o.scheduler=a,o.work=s,o}return u.prototype.requestAsyncId=function(a,s,o){return o===void 0&&(o=0),o!==null&&o>0?c.prototype.requestAsyncId.call(this,a,s,o):(a.actions.push(this),a.scheduled||(a.scheduled=t.Immediate.setImmediate(a.flush.bind(a,null))))},u.prototype.recycleAsyncId=function(a,s,o){if(o===void 0&&(o=0),o!==null&&o>0||o===null&&this.delay>0)return c.prototype.recycleAsyncId.call(this,a,s,o);a.actions.length===0&&(t.Immediate.clearImmediate(s),a.scheduled=void 0)},u}(n.AsyncAction);e.AsapAction=i}),O4r=xe(e=>{"use strict";var r=e&&e.__extends||function(){var i=function(c,u){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var o in s)s.hasOwnProperty(o)&&(a[o]=s[o])},i(c,u)};return function(c,u){i(c,u);function a(){this.constructor=c}c.prototype=u===null?Object.create(u):(a.prototype=u.prototype,new a)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=ld(),n=function(i){r(c,i);function c(){return i!==null&&i.apply(this,arguments)||this}return c.prototype.flush=function(u){this.active=!0,this.scheduled=void 0;var a=this.actions,s,o=-1,l=a.length;u=u||a.shift();do if(s=u.execute(u.state,u.delay))break;while(++o<l&&(u=a.shift()));if(this.active=!1,s){for(;++o<l&&(u=a.shift());)u.unsubscribe();throw s}},c}(t.AsyncScheduler);e.AsapScheduler=n}),Oae=xe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=x4r(),t=O4r();e.asapScheduler=new t.AsapScheduler(r.AsapAction),e.asap=e.asapScheduler}),En=xe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=ud(),t=ld();e.asyncScheduler=new t.AsyncScheduler(r.AsyncAction),e.async=e.asyncScheduler}),D4r=xe(e=>{"use strict";var r=e&&e.__extends||function(){var i=function(c,u){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var o in s)s.hasOwnProperty(o)&&(a[o]=s[o])},i(c,u)};return function(c,u){i(c,u);function a(){this.constructor=c}c.prototype=u===null?Object.create(u):(a.prototype=u.prototype,new a)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=ud(),n=function(i){r(c,i);function c(u,a){var s=i.call(this,u,a)||this;return s.scheduler=u,s.work=a,s}return c.prototype.requestAsyncId=function(u,a,s){return s===void 0&&(s=0),s!==null&&s>0?i.prototype.requestAsyncId.call(this,u,a,s):(u.actions.push(this),u.scheduled||(u.scheduled=requestAnimationFrame(function(){return u.flush(null)})))},c.prototype.recycleAsyncId=function(u,a,s){if(s===void 0&&(s=0),s!==null&&s>0||s===null&&this.delay>0)return i.prototype.recycleAsyncId.call(this,u,a,s);u.actions.length===0&&(cancelAnimationFrame(a),u.scheduled=void 0)},c}(t.AsyncAction);e.AnimationFrameAction=n}),N4r=xe(e=>{"use strict";var r=e&&e.__extends||function(){var i=function(c,u){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var o in s)s.hasOwnProperty(o)&&(a[o]=s[o])},i(c,u)};return function(c,u){i(c,u);function a(){this.constructor=c}c.prototype=u===null?Object.create(u):(a.prototype=u.prototype,new a)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=ld(),n=function(i){r(c,i);function c(){return i!==null&&i.apply(this,arguments)||this}return c.prototype.flush=function(u){this.active=!0,this.scheduled=void 0;var a=this.actions,s,o=-1,l=a.length;u=u||a.shift();do if(s=u.execute(u.state,u.delay))break;while(++o<l&&(u=a.shift()));if(this.active=!1,s){for(;++o<l&&(u=a.shift());)u.unsubscribe();throw s}},c}(t.AsyncScheduler);e.AnimationFrameScheduler=n}),C4r=xe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=D4r(),t=N4r();e.animationFrameScheduler=new t.AnimationFrameScheduler(r.AnimationFrameAction),e.animationFrame=e.animationFrameScheduler}),A4r=xe(e=>{"use strict";var r=e&&e.__extends||function(){var u=function(a,s){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var d in l)l.hasOwnProperty(d)&&(o[d]=l[d])},u(a,s)};return function(a,s){u(a,s);function o(){this.constructor=a}a.prototype=s===null?Object.create(s):(o.prototype=s.prototype,new o)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=ud(),n=ld(),i=function(u){r(a,u);function a(s,o){s===void 0&&(s=c),o===void 0&&(o=Number.POSITIVE_INFINITY);var l=u.call(this,s,function(){return l.frame})||this;return l.maxFrames=o,l.frame=0,l.index=-1,l}return a.prototype.flush=function(){for(var s=this,o=s.actions,l=s.maxFrames,d,p;(p=o[0])&&p.delay<=l&&(o.shift(),this.frame=p.delay,!(d=p.execute(p.state,p.delay))););if(d){for(;p=o.shift();)p.unsubscribe();throw d}},a.frameTimeFactor=10,a}(n.AsyncScheduler);e.VirtualTimeScheduler=i;var c=function(u){r(a,u);function a(s,o,l){l===void 0&&(l=s.index+=1);var d=u.call(this,s,o)||this;return d.scheduler=s,d.work=o,d.index=l,d.active=!0,d.index=s.index=l,d}return a.prototype.schedule=function(s,o){if(o===void 0&&(o=0),!this.id)return u.prototype.schedule.call(this,s,o);this.active=!1;var l=new a(this.scheduler,this.work);return this.add(l),l.schedule(s,o)},a.prototype.requestAsyncId=function(s,o,l){l===void 0&&(l=0),this.delay=s.frame+l;var d=s.actions;return d.push(this),d.sort(a.sortActions),!0},a.prototype.recycleAsyncId=function(s,o,l){l===void 0&&(l=0)},a.prototype._execute=function(s,o){if(this.active===!0)return u.prototype._execute.call(this,s,o)},a.sortActions=function(s,o){return s.delay===o.delay?s.index===o.index?0:s.index>o.index?1:-1:s.delay>o.delay?1:-1},a}(t.AsyncAction);e.VirtualAction=c}),LB=xe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});function r(){}e.noop=r}),M4r=xe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Lr();function t(n){return!!n&&(n instanceof r.Observable||typeof n.lift=="function"&&typeof n.subscribe=="function")}e.isObservable=t}),pd=xe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t}();e.ArgumentOutOfRangeError=r}),fd=xe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t}();e.EmptyError=r}),Dae=xe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return t.prototype=Object.create(Error.prototype),t}();e.TimeoutError=r}),Wn=xe(e=>{"use strict";var r=e&&e.__extends||function(){var u=function(a,s){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var d in l)l.hasOwnProperty(d)&&(o[d]=l[d])},u(a,s)};return function(a,s){u(a,s);function o(){this.constructor=a}a.prototype=s===null?Object.create(s):(o.prototype=s.prototype,new o)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=pr();function n(u,a){return function(s){if(typeof u!="function")throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return s.lift(new i(u,a))}}e.map=n;var i=function(){function u(a,s){this.project=a,this.thisArg=s}return u.prototype.call=function(a,s){return s.subscribe(new c(a,this.project,this.thisArg))},u}();e.MapOperator=i;var c=function(u){r(a,u);function a(s,o,l){var d=u.call(this,s)||this;return d.project=o,d.count=0,d.thisArg=l||d,d}return a.prototype._next=function(s){var o;try{o=this.project.call(this.thisArg,s,this.count++)}catch(l){this.destination.error(l);return}this.destination.next(o)},a}(t.Subscriber)}),P4r=xe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Lr(),t=O2(),n=Wn(),i=BB(),c=Pn(),u=Ii();function a(l,d,p){if(d)if(u.isScheduler(d))p=d;else return function(){for(var f=[],v=0;v<arguments.length;v++)f[v]=arguments[v];return a(l,p).apply(void 0,f).pipe(n.map(function(h){return c.isArray(h)?d.apply(void 0,h):d(h)}))};return function(){for(var f=[],v=0;v<arguments.length;v++)f[v]=arguments[v];var h=this,m,y={context:h,subject:m,callbackFunc:l,scheduler:p};return new r.Observable(function(g){if(p){var b={args:f,subscriber:g,params:y};return p.schedule(s,0,b)}else{if(!m){m=new t.AsyncSubject;var _=function(){for(var S=[],w=0;w<arguments.length;w++)S[w]=arguments[w];m.next(S.length<=1?S[0]:S),m.complete()};try{l.apply(h,f.concat([_]))}catch(S){i.canReportError(m)?m.error(S):console.warn(S)}}return m.subscribe(g)}})}}e.bindCallback=a;function s(l){var d=this,p=this,f=l.args,v=l.subscriber,h=l.params,m=h.callbackFunc,y=h.context,g=h.scheduler,b=h.subject;if(!b){b=h.subject=new t.AsyncSubject;var _=function(){for(var S=[],w=0;w<arguments.length;w++)S[w]=arguments[w];var O=S.length<=1?S[0]:S;d.add(g.schedule(o,0,{value:O,subject:b}))};try{m.apply(y,f.concat([_]))}catch(S){b.error(S)}}this.add(b.subscribe(v))}function o(l){var d=l.value,p=l.subject;p.next(d),p.complete()}}),E4r=xe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Lr(),t=O2(),n=Wn(),i=BB(),c=Ii(),u=Pn();function a(d,p,f){if(p)if(c.isScheduler(p))f=p;else return function(){for(var v=[],h=0;h<arguments.length;h++)v[h]=arguments[h];return a(d,f).apply(void 0,v).pipe(n.map(function(m){return u.isArray(m)?p.apply(void 0,m):p(m)}))};return function(){for(var v=[],h=0;h<arguments.length;h++)v[h]=arguments[h];var m={subject:void 0,args:v,callbackFunc:d,scheduler:f,context:this};return new r.Observable(function(y){var g=m.context,b=m.subject;if(f)return f.schedule(s,0,{params:m,subscriber:y,context:g});if(!b){b=m.subject=new t.AsyncSubject;var _=function(){for(var S=[],w=0;w<arguments.length;w++)S[w]=arguments[w];var O=S.shift();if(O){b.error(O);return}b.next(S.length<=1?S[0]:S),b.complete()};try{d.apply(g,v.concat([_]))}catch(S){i.canReportError(b)?b.error(S):console.warn(S)}}return b.subscribe(y)})}}e.bindNodeCallback=a;function s(d){var p=this,f=d.params,v=d.subscriber,h=d.context,m=f.callbackFunc,y=f.args,g=f.scheduler,b=f.subject;if(!b){b=f.subject=new t.AsyncSubject;var _=function(){for(var S=[],w=0;w<arguments.length;w++)S[w]=arguments[w];var O=S.shift();if(O)p.add(g.schedule(l,0,{err:O,subject:b}));else{var x=S.length<=1?S[0]:S;p.add(g.schedule(o,0,{value:x,subject:b}))}};try{m.apply(h,y.concat([_]))}catch(S){this.add(g.schedule(l,0,{err:S,subject:b}))}}this.add(b.subscribe(v))}function o(d){var p=d.value,f=d.subject;f.next(p),f.complete()}function l(d){var p=d.err,f=d.subject;f.error(p)}}),bo=xe(e=>{"use strict";var r=e&&e.__extends||function(){var i=function(c,u){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var o in s)s.hasOwnProperty(o)&&(a[o]=s[o])},i(c,u)};return function(c,u){i(c,u);function a(){this.constructor=c}c.prototype=u===null?Object.create(u):(a.prototype=u.prototype,new a)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=pr(),n=function(i){r(c,i);function c(){return i!==null&&i.apply(this,arguments)||this}return c.prototype.notifyNext=function(u,a,s,o,l){this.destination.next(a)},c.prototype.notifyError=function(u,a){this.destination.error(u)},c.prototype.notifyComplete=function(u){this.destination.complete()},c}(t.Subscriber);e.OuterSubscriber=n}),q4r=xe(e=>{"use strict";var r=e&&e.__extends||function(){var i=function(c,u){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var o in s)s.hasOwnProperty(o)&&(a[o]=s[o])},i(c,u)};return function(c,u){i(c,u);function a(){this.constructor=c}c.prototype=u===null?Object.create(u):(a.prototype=u.prototype,new a)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=pr(),n=function(i){r(c,i);function c(u,a,s){var o=i.call(this)||this;return o.parent=u,o.outerValue=a,o.outerIndex=s,o.index=0,o}return c.prototype._next=function(u){this.parent.notifyNext(this.outerValue,u,this.outerIndex,this.index++,this)},c.prototype._error=function(u){this.parent.notifyError(u,this),this.unsubscribe()},c.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},c}(t.Subscriber);e.InnerSubscriber=n}),I4r=xe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=EB();e.subscribeToPromise=function(t){return function(n){return t.then(function(i){n.closed||(n.next(i),n.complete())},function(i){return n.error(i)}).then(null,r.hostReportError),n}}}),hd=xe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});function r(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}e.getSymbolIterator=r,e.iterator=r(),e.$$iterator=e.iterator}),B4r=xe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=hd();e.subscribeToIterable=function(t){return function(n){var i=t[r.iterator]();do{var c=void 0;try{c=i.next()}catch(u){return n.error(u),n}if(c.done){n.complete();break}if(n.next(c.value),n.closed)break}while(!0);return typeof i.return=="function"&&n.add(function(){i.return&&i.return()}),n}}}),k4r=xe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=cu();e.subscribeToObservable=function(t){return function(n){var i=t[r.observable]();if(typeof i.subscribe!="function")throw new TypeError("Provided object does not correctly implement Symbol.observable");return i.subscribe(n)}}}),Nae=xe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isArrayLike=function(r){return r&&typeof r.length=="number"&&typeof r!="function"}}),Cae=xe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});function r(t){return!!t&&typeof t.subscribe!="function"&&typeof t.then=="function"}e.isPromise=r}),D2=xe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Sae(),t=I4r(),n=B4r(),i=k4r(),c=Nae(),u=Cae(),a=qB(),s=hd(),o=cu();e.subscribeTo=function(l){if(!!l&&typeof l[o.observable]=="function")return i.subscribeToObservable(l);if(c.isArrayLike(l))return r.subscribeToArray(l);if(u.isPromise(l))return t.subscribeToPromise(l);if(!!l&&typeof l[s.iterator]=="function")return n.subscribeToIterable(l);var d=a.isObject(l)?"an invalid object":"'"+l+"'",p="You provided "+d+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";throw new TypeError(p)}}),_o=xe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=q4r(),t=D2(),n=Lr();function i(c,u,a,s,o){if(o===void 0&&(o=new r.InnerSubscriber(c,a,s)),!o.closed)return u instanceof n.Observable?u.subscribe(o):t.subscribeTo(u)(o)}e.subscribeToResult=i}),UB=xe(e=>{"use strict";var r=e&&e.__extends||function(){var d=function(p,f){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,h){v.__proto__=h}||function(v,h){for(var m in h)h.hasOwnProperty(m)&&(v[m]=h[m])},d(p,f)};return function(p,f){d(p,f);function v(){this.constructor=p}p.prototype=f===null?Object.create(f):(v.prototype=f.prototype,new v)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=Ii(),n=Pn(),i=bo(),c=_o(),u=dd(),a={};function s(){for(var d=[],p=0;p<arguments.length;p++)d[p]=arguments[p];var f=void 0,v=void 0;return t.isScheduler(d[d.length-1])&&(v=d.pop()),typeof d[d.length-1]=="function"&&(f=d.pop()),d.length===1&&n.isArray(d[0])&&(d=d[0]),u.fromArray(d,v).lift(new o(f))}e.combineLatest=s;var o=function(){function d(p){this.resultSelector=p}return d.prototype.call=function(p,f){return f.subscribe(new l(p,this.resultSelector))},d}();e.CombineLatestOperator=o;var l=function(d){r(p,d);function p(f,v){var h=d.call(this,f)||this;return h.resultSelector=v,h.active=0,h.values=[],h.observables=[],h}return p.prototype._next=function(f){this.values.push(a),this.observables.push(f)},p.prototype._complete=function(){var f=this.observables,v=f.length;if(v===0)this.destination.complete();else{this.active=v,this.toRespond=v;for(var h=0;h<v;h++){var m=f[h];this.add(c.subscribeToResult(this,m,void 0,h))}}},p.prototype.notifyComplete=function(f){(this.active-=1)===0&&this.destination.complete()},p.prototype.notifyNext=function(f,v,h){var m=this.values,y=m[h],g=this.toRespond?y===a?--this.toRespond:this.toRespond:0;m[h]=v,g===0&&(this.resultSelector?this._tryResultSelector(m):this.destination.next(m.slice()))},p.prototype._tryResultSelector=function(f){var v;try{v=this.resultSelector.apply(this,f)}catch(h){this.destination.error(h);return}this.destination.next(v)},p}(i.OuterSubscriber);e.CombineLatestSubscriber=l}),j4r=xe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Lr(),t=It(),n=cu();function i(c,u){return new r.Observable(function(a){var s=new t.Subscription;return s.add(u.schedule(function(){var o=c[n.observable]();s.add(o.subscribe({next:function(l){s.add(u.schedule(function(){return a.next(l)}))},error:function(l){s.add(u.schedule(function(){return a.error(l)}))},complete:function(){s.add(u.schedule(function(){return a.complete()}))}}))})),s})}e.scheduleObservable=i}),T4r=xe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Lr(),t=It();function n(i,c){return new r.Observable(function(u){var a=new t.Subscription;return a.add(c.schedule(function(){return i.then(function(s){a.add(c.schedule(function(){u.next(s),a.add(c.schedule(function(){return u.complete()}))}))},function(s){a.add(c.schedule(function(){return u.error(s)}))})})),a})}e.schedulePromise=n}),R4r=xe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Lr(),t=It(),n=hd();function i(c,u){if(!c)throw new Error("Iterable cannot be null");return new r.Observable(function(a){var s=new t.Subscription,o;return s.add(function(){o&&typeof o.return=="function"&&o.return()}),s.add(u.schedule(function(){o=c[n.iterator](),s.add(u.schedule(function(){if(!a.closed){var l,d;try{var p=o.next();l=p.value,d=p.done}catch(f){a.error(f);return}d?a.complete():(a.next(l),this.schedule())}}))})),s})}e.scheduleIterable=i}),F4r=xe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=cu();function t(n){return n&&typeof n[r.observable]=="function"}e.isInteropObservable=t}),L4r=xe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=hd();function t(n){return n&&typeof n[r.iterator]=="function"}e.isIterable=t}),Aae=xe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=j4r(),t=T4r(),n=TB(),i=R4r(),c=F4r(),u=Cae(),a=Nae(),s=L4r();function o(l,d){if(l!=null){if(c.isInteropObservable(l))return r.scheduleObservable(l,d);if(u.isPromise(l))return t.schedulePromise(l,d);if(a.isArrayLike(l))return n.scheduleArray(l,d);if(s.isIterable(l)||typeof l=="string")return i.scheduleIterable(l,d)}throw new TypeError((l!==null&&typeof l||l)+" is not observable")}e.scheduled=o}),Bi=xe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Lr(),t=D2(),n=Aae();function i(c,u){return u?n.scheduled(c,u):c instanceof r.Observable?c:new r.Observable(t.subscribeTo(c))}e.from=i}),ht=xe(e=>{"use strict";var r=e&&e.__extends||function(){var l=function(d,p){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,v){f.__proto__=v}||function(f,v){for(var h in v)v.hasOwnProperty(h)&&(f[h]=v[h])},l(d,p)};return function(d,p){l(d,p);function f(){this.constructor=d}d.prototype=p===null?Object.create(p):(f.prototype=p.prototype,new f)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=pr(),n=Lr(),i=D2(),c=function(l){r(d,l);function d(p){var f=l.call(this)||this;return f.parent=p,f}return d.prototype._next=function(p){this.parent.notifyNext(p)},d.prototype._error=function(p){this.parent.notifyError(p),this.unsubscribe()},d.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},d}(t.Subscriber);e.SimpleInnerSubscriber=c;var u=function(l){r(d,l);function d(p,f,v){var h=l.call(this)||this;return h.parent=p,h.outerValue=f,h.outerIndex=v,h}return d.prototype._next=function(p){this.parent.notifyNext(this.outerValue,p,this.outerIndex,this)},d.prototype._error=function(p){this.parent.notifyError(p),this.unsubscribe()},d.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},d}(t.Subscriber);e.ComplexInnerSubscriber=u;var a=function(l){r(d,l);function d(){return l!==null&&l.apply(this,arguments)||this}return d.prototype.notifyNext=function(p){this.destination.next(p)},d.prototype.notifyError=function(p){this.destination.error(p)},d.prototype.notifyComplete=function(){this.destination.complete()},d}(t.Subscriber);e.SimpleOuterSubscriber=a;var s=function(l){r(d,l);function d(){return l!==null&&l.apply(this,arguments)||this}return d.prototype.notifyNext=function(p,f,v,h){this.destination.next(f)},d.prototype.notifyError=function(p){this.destination.error(p)},d.prototype.notifyComplete=function(p){this.destination.complete()},d}(t.Subscriber);e.ComplexOuterSubscriber=s;function o(l,d){if(!d.closed){if(l instanceof n.Observable)return l.subscribe(d);var p;try{p=i.subscribeTo(l)(d)}catch(f){d.error(f)}return p}}e.innerSubscribe=o}),N2=xe(e=>{"use strict";var r=e&&e.__extends||function(){var s=function(o,l){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,p){d.__proto__=p}||function(d,p){for(var f in p)p.hasOwnProperty(f)&&(d[f]=p[f])},s(o,l)};return function(o,l){s(o,l);function d(){this.constructor=o}o.prototype=l===null?Object.create(l):(d.prototype=l.prototype,new d)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=Wn(),n=Bi(),i=ht();function c(s,o,l){return l===void 0&&(l=Number.POSITIVE_INFINITY),typeof o=="function"?function(d){return d.pipe(c(function(p,f){return n.from(s(p,f)).pipe(t.map(function(v,h){return o(p,v,f,h)}))},l))}:(typeof o=="number"&&(l=o),function(d){return d.lift(new u(s,l))})}e.mergeMap=c;var u=function(){function s(o,l){l===void 0&&(l=Number.POSITIVE_INFINITY),this.project=o,this.concurrent=l}return s.prototype.call=function(o,l){return l.subscribe(new a(o,this.project,this.concurrent))},s}();e.MergeMapOperator=u;var a=function(s){r(o,s);function o(l,d,p){p===void 0&&(p=Number.POSITIVE_INFINITY);var f=s.call(this,l)||this;return f.project=d,f.concurrent=p,f.hasCompleted=!1,f.buffer=[],f.active=0,f.index=0,f}return o.prototype._next=function(l){this.active<this.concurrent?this._tryNext(l):this.buffer.push(l)},o.prototype._tryNext=function(l){var d,p=this.index++;try{d=this.project(l,p)}catch(f){this.destination.error(f);return}this.active++,this._innerSub(d)},o.prototype._innerSub=function(l){var d=new i.SimpleInnerSubscriber(this),p=this.destination;p.add(d);var f=i.innerSubscribe(l,d);f!==d&&p.add(f)},o.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&this.destination.complete(),this.unsubscribe()},o.prototype.notifyNext=function(l){this.destination.next(l)},o.prototype.notifyComplete=function(){var l=this.buffer;this.active--,l.length>0?this._next(l.shift()):this.active===0&&this.hasCompleted&&this.destination.complete()},o}(i.SimpleOuterSubscriber);e.MergeMapSubscriber=a,e.flatMap=c}),zB=xe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=N2(),t=go();function n(i){return i===void 0&&(i=Number.POSITIVE_INFINITY),r.mergeMap(t.identity,i)}e.mergeAll=n}),Mae=xe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=zB();function t(){return r.mergeAll(1)}e.concatAll=t}),C2=xe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=S2(),t=Mae();function n(){for(var i=[],c=0;c<arguments.length;c++)i[c]=arguments[c];return t.concatAll()(r.of.apply(void 0,i))}e.concat=n}),JB=xe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Lr(),t=Bi(),n=Ei();function i(c){return new r.Observable(function(u){var a;try{a=c()}catch(o){u.error(o);return}var s=a?t.from(a):n.empty();return s.subscribe(u)})}e.defer=i}),U4r=xe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Lr(),t=Pn(),n=Wn(),i=qB(),c=Bi();function u(){for(var s=[],o=0;o<arguments.length;o++)s[o]=arguments[o];if(s.length===1){var l=s[0];if(t.isArray(l))return a(l,null);if(i.isObject(l)&&Object.getPrototypeOf(l)===Object.prototype){var d=Object.keys(l);return a(d.map(function(f){return l[f]}),d)}}if(typeof s[s.length-1]=="function"){var p=s.pop();return s=s.length===1&&t.isArray(s[0])?s[0]:s,a(s,null).pipe(n.map(function(f){return p.apply(void 0,f)}))}return a(s,null)}e.forkJoin=u;function a(s,o){return new r.Observable(function(l){var d=s.length;if(d===0){l.complete();return}for(var p=new Array(d),f=0,v=0,h=function(y){var g=c.from(s[y]),b=!1;l.add(g.subscribe({next:function(_){b||(b=!0,v++),p[y]=_},error:function(_){return l.error(_)},complete:function(){f++,(f===d||!b)&&(v===d&&l.next(o?o.reduce(function(_,S,w){return _[S]=p[w],_},{}):p),l.complete())}}))},m=0;m<d;m++)h(m)})}}),z4r=xe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Lr(),t=Pn(),n=cd(),i=Wn(),c=function(){return Object.prototype.toString}();function u(d,p,f,v){return n.isFunction(f)&&(v=f,f=void 0),v?u(d,p,f).pipe(i.map(function(h){return t.isArray(h)?v.apply(void 0,h):v(h)})):new r.Observable(function(h){function m(y){arguments.length>1?h.next(Array.prototype.slice.call(arguments)):h.next(y)}a(d,p,m,h,f)})}e.fromEvent=u;function a(d,p,f,v,h){var m;if(l(d)){var y=d;d.addEventListener(p,f,h),m=function(){return y.removeEventListener(p,f,h)}}else if(o(d)){var g=d;d.on(p,f),m=function(){return g.off(p,f)}}else if(s(d)){var b=d;d.addListener(p,f),m=function(){return b.removeListener(p,f)}}else if(d&&d.length)for(var _=0,S=d.length;_<S;_++)a(d[_],p,f,v,h);else throw new TypeError("Invalid event target");v.add(m)}function s(d){return d&&typeof d.addListener=="function"&&typeof d.removeListener=="function"}function o(d){return d&&typeof d.on=="function"&&typeof d.off=="function"}function l(d){return d&&typeof d.addEventListener=="function"&&typeof d.removeEventListener=="function"}}),J4r=xe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Lr(),t=Pn(),n=cd(),i=Wn();function c(u,a,s){return s?c(u,a).pipe(i.map(function(o){return t.isArray(o)?s.apply(void 0,o):s(o)})):new r.Observable(function(o){var l=function(){for(var p=[],f=0;f<arguments.length;f++)p[f]=arguments[f];return o.next(p.length===1?p[0]:p)},d;try{d=u(l)}catch(p){o.error(p);return}if(n.isFunction(a))return function(){return a(l,d)}})}e.fromEventPattern=c}),V4r=xe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Lr(),t=go(),n=Ii();function i(u,a,s,o,l){var d,p;if(arguments.length==1){var f=u;p=f.initialState,a=f.condition,s=f.iterate,d=f.resultSelector||t.identity,l=f.scheduler}else o===void 0||n.isScheduler(o)?(p=u,d=t.identity,l=o):(p=u,d=o);return new r.Observable(function(v){var h=p;if(l)return l.schedule(c,0,{subscriber:v,iterate:s,condition:a,resultSelector:d,state:h});do{if(a){var m=void 0;try{m=a(h)}catch(g){v.error(g);return}if(!m){v.complete();break}}var y=void 0;try{y=d(h)}catch(g){v.error(g);return}if(v.next(y),v.closed)break;try{h=s(h)}catch(g){v.error(g);return}}while(!0)})}e.generate=i;function c(u){var a=u.subscriber,s=u.condition;if(!a.closed){if(u.needIterate)try{u.state=u.iterate(u.state)}catch(d){a.error(d);return}else u.needIterate=!0;if(s){var o=void 0;try{o=s(u.state)}catch(d){a.error(d);return}if(!o){a.complete();return}if(a.closed)return}var l;try{l=u.resultSelector(u.state)}catch(d){a.error(d);return}if(!a.closed&&(a.next(l),!a.closed))return this.schedule(u)}}}),G4r=xe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=JB(),t=Ei();function n(i,c,u){return c===void 0&&(c=t.EMPTY),u===void 0&&(u=t.EMPTY),r.defer(function(){return i()?c:u})}e.iif=n}),A2=xe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Pn();function t(n){return!r.isArray(n)&&n-parseFloat(n)+1>=0}e.isNumeric=t}),H4r=xe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Lr(),t=En(),n=A2();function i(u,a){return u===void 0&&(u=0),a===void 0&&(a=t.async),(!n.isNumeric(u)||u<0)&&(u=0),(!a||typeof a.schedule!="function")&&(a=t.async),new r.Observable(function(s){return s.add(a.schedule(c,u,{subscriber:s,counter:0,period:u})),s})}e.interval=i;function c(u){var a=u.subscriber,s=u.counter,o=u.period;a.next(s),this.schedule({subscriber:a,counter:s+1,period:o},o)}}),Pae=xe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Lr(),t=Ii(),n=zB(),i=dd();function c(){for(var u=[],a=0;a<arguments.length;a++)u[a]=arguments[a];var s=Number.POSITIVE_INFINITY,o=null,l=u[u.length-1];return t.isScheduler(l)?(o=u.pop(),u.length>1&&typeof u[u.length-1]=="number"&&(s=u.pop())):typeof l=="number"&&(s=u.pop()),o===null&&u.length===1&&u[0]instanceof r.Observable?u[0]:n.mergeAll(s)(i.fromArray(u,o))}e.merge=c}),ane=xe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Lr(),t=LB();e.NEVER=new r.Observable(t.noop);function n(){return e.NEVER}e.never=n}),W4r=xe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Lr(),t=Bi(),n=Pn(),i=Ei();function c(){for(var u=[],a=0;a<arguments.length;a++)u[a]=arguments[a];if(u.length===0)return i.EMPTY;var s=u[0],o=u.slice(1);return u.length===1&&n.isArray(s)?c.apply(void 0,s):new r.Observable(function(l){var d=function(){return l.add(c.apply(void 0,o).subscribe(l))};return t.from(s).subscribe({next:function(p){l.next(p)},error:d,complete:d})})}e.onErrorResumeNext=c}),$4r=xe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Lr(),t=It();function n(c,u){return u?new r.Observable(function(a){var s=Object.keys(c),o=new t.Subscription;return o.add(u.schedule(i,0,{keys:s,index:0,subscriber:a,subscription:o,obj:c})),o}):new r.Observable(function(a){for(var s=Object.keys(c),o=0;o<s.length&&!a.closed;o++){var l=s[o];c.hasOwnProperty(l)&&a.next([l,c[l]])}a.complete()})}e.pairs=n;function i(c){var u=c.keys,a=c.index,s=c.subscriber,o=c.subscription,l=c.obj;if(!s.closed)if(a<u.length){var d=u[a];s.next([d,l[d]]),o.add(this.schedule({keys:u,index:a+1,subscriber:s,subscription:o,obj:l}))}else s.complete()}e.dispatch=i}),Eae=xe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});function r(t,n){function i(){return!i.pred.apply(i.thisArg,arguments)}return i.pred=t,i.thisArg=n,i}e.not=r}),uu=xe(e=>{"use strict";var r=e&&e.__extends||function(){var u=function(a,s){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var d in l)l.hasOwnProperty(d)&&(o[d]=l[d])},u(a,s)};return function(a,s){u(a,s);function o(){this.constructor=a}a.prototype=s===null?Object.create(s):(o.prototype=s.prototype,new o)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=pr();function n(u,a){return function(s){return s.lift(new i(u,a))}}e.filter=n;var i=function(){function u(a,s){this.predicate=a,this.thisArg=s}return u.prototype.call=function(a,s){return s.subscribe(new c(a,this.predicate,this.thisArg))},u}(),c=function(u){r(a,u);function a(s,o,l){var d=u.call(this,s)||this;return d.predicate=o,d.thisArg=l,d.count=0,d}return a.prototype._next=function(s){var o;try{o=this.predicate.call(this.thisArg,s,this.count++)}catch(l){this.destination.error(l);return}o&&this.destination.next(s)},a}(t.Subscriber)}),Q4r=xe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Eae(),t=D2(),n=uu(),i=Lr();function c(u,a,s){return[n.filter(a,s)(new i.Observable(t.subscribeTo(u))),n.filter(r.not(a,s))(new i.Observable(t.subscribeTo(u)))]}e.partition=c}),qae=xe(e=>{"use strict";var r=e&&e.__extends||function(){var o=function(l,d){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,f){p.__proto__=f}||function(p,f){for(var v in f)f.hasOwnProperty(v)&&(p[v]=f[v])},o(l,d)};return function(l,d){o(l,d);function p(){this.constructor=l}l.prototype=d===null?Object.create(d):(p.prototype=d.prototype,new p)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=Pn(),n=dd(),i=bo(),c=_o();function u(){for(var o=[],l=0;l<arguments.length;l++)o[l]=arguments[l];if(o.length===1)if(t.isArray(o[0]))o=o[0];else return o[0];return n.fromArray(o,void 0).lift(new a)}e.race=u;var a=function(){function o(){}return o.prototype.call=function(l,d){return d.subscribe(new s(l))},o}();e.RaceOperator=a;var s=function(o){r(l,o);function l(d){var p=o.call(this,d)||this;return p.hasFirst=!1,p.observables=[],p.subscriptions=[],p}return l.prototype._next=function(d){this.observables.push(d)},l.prototype._complete=function(){var d=this.observables,p=d.length;if(p===0)this.destination.complete();else{for(var f=0;f<p&&!this.hasFirst;f++){var v=d[f],h=c.subscribeToResult(this,v,void 0,f);this.subscriptions&&this.subscriptions.push(h),this.add(h)}this.observables=null}},l.prototype.notifyNext=function(d,p,f){if(!this.hasFirst){this.hasFirst=!0;for(var v=0;v<this.subscriptions.length;v++)if(v!==f){var h=this.subscriptions[v];h.unsubscribe(),this.remove(h)}this.subscriptions=null}this.destination.next(p)},l}(i.OuterSubscriber);e.RaceSubscriber=s}),Y4r=xe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Lr();function t(i,c,u){return i===void 0&&(i=0),new r.Observable(function(a){c===void 0&&(c=i,i=0);var s=0,o=i;if(u)return u.schedule(n,0,{index:s,count:c,start:i,subscriber:a});do{if(s++>=c){a.complete();break}if(a.next(o++),a.closed)break}while(!0)})}e.range=t;function n(i){var c=i.start,u=i.index,a=i.count,s=i.subscriber;if(u>=a){s.complete();return}s.next(c),!s.closed&&(i.index=u+1,i.start=c+1,this.schedule(i))}e.dispatch=n}),Iae=xe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Lr(),t=En(),n=A2(),i=Ii();function c(a,s,o){a===void 0&&(a=0);var l=-1;return n.isNumeric(s)?l=Number(s)<1&&1||Number(s):i.isScheduler(s)&&(o=s),i.isScheduler(o)||(o=t.async),new r.Observable(function(d){var p=n.isNumeric(a)?a:+a-o.now();return o.schedule(u,p,{index:0,period:l,subscriber:d})})}e.timer=c;function u(a){var s=a.index,o=a.period,l=a.subscriber;if(l.next(s),!l.closed){if(o===-1)return l.complete();a.index=s+1,this.schedule(a,o)}}}),Z4r=xe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Lr(),t=Bi(),n=Ei();function i(c,u){return new r.Observable(function(a){var s;try{s=c()}catch(p){a.error(p);return}var o;try{o=u(s)}catch(p){a.error(p);return}var l=o?t.from(o):n.EMPTY,d=l.subscribe(a);return function(){d.unsubscribe(),s&&s.unsubscribe()}})}e.using=i}),VB=xe(e=>{"use strict";var r=e&&e.__extends||function(){var f=function(v,h){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,y){m.__proto__=y}||function(m,y){for(var g in y)y.hasOwnProperty(g)&&(m[g]=y[g])},f(v,h)};return function(v,h){f(v,h);function m(){this.constructor=v}v.prototype=h===null?Object.create(h):(m.prototype=h.prototype,new m)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=dd(),n=Pn(),i=pr(),c=hd(),u=ht();function a(){for(var f=[],v=0;v<arguments.length;v++)f[v]=arguments[v];var h=f[f.length-1];return typeof h=="function"&&f.pop(),t.fromArray(f,void 0).lift(new s(h))}e.zip=a;var s=function(){function f(v){this.resultSelector=v}return f.prototype.call=function(v,h){return h.subscribe(new o(v,this.resultSelector))},f}();e.ZipOperator=s;var o=function(f){r(v,f);function v(h,m,y){y===void 0&&(y=Object.create(null));var g=f.call(this,h)||this;return g.resultSelector=m,g.iterators=[],g.active=0,g.resultSelector=typeof m=="function"?m:void 0,g}return v.prototype._next=function(h){var m=this.iterators;n.isArray(h)?m.push(new d(h)):typeof h[c.iterator]=="function"?m.push(new l(h[c.iterator]())):m.push(new p(this.destination,this,h))},v.prototype._complete=function(){var h=this.iterators,m=h.length;if(this.unsubscribe(),m===0){this.destination.complete();return}this.active=m;for(var y=0;y<m;y++){var g=h[y];if(g.stillUnsubscribed){var b=this.destination;b.add(g.subscribe())}else this.active--}},v.prototype.notifyInactive=function(){this.active--,this.active===0&&this.destination.complete()},v.prototype.checkIterators=function(){for(var h=this.iterators,m=h.length,y=this.destination,g=0;g<m;g++){var b=h[g];if(typeof b.hasValue=="function"&&!b.hasValue())return}for(var _=!1,S=[],g=0;g<m;g++){var b=h[g],w=b.next();if(b.hasCompleted()&&(_=!0),w.done){y.complete();return}S.push(w.value)}this.resultSelector?this._tryresultSelector(S):y.next(S),_&&y.complete()},v.prototype._tryresultSelector=function(h){var m;try{m=this.resultSelector.apply(this,h)}catch(y){this.destination.error(y);return}this.destination.next(m)},v}(i.Subscriber);e.ZipSubscriber=o;var l=function(){function f(v){this.iterator=v,this.nextResult=v.next()}return f.prototype.hasValue=function(){return!0},f.prototype.next=function(){var v=this.nextResult;return this.nextResult=this.iterator.next(),v},f.prototype.hasCompleted=function(){var v=this.nextResult;return Boolean(v&&v.done)},f}(),d=function(){function f(v){this.array=v,this.index=0,this.length=0,this.length=v.length}return f.prototype[c.iterator]=function(){return this},f.prototype.next=function(v){var h=this.index++,m=this.array;return h<this.length?{value:m[h],done:!1}:{value:null,done:!0}},f.prototype.hasValue=function(){return this.array.length>this.index},f.prototype.hasCompleted=function(){return this.array.length===this.index},f}(),p=function(f){r(v,f);function v(h,m,y){var g=f.call(this,h)||this;return g.parent=m,g.observable=y,g.stillUnsubscribed=!0,g.buffer=[],g.isComplete=!1,g}return v.prototype[c.iterator]=function(){return this},v.prototype.next=function(){var h=this.buffer;return h.length===0&&this.isComplete?{value:null,done:!0}:{value:h.shift(),done:!1}},v.prototype.hasValue=function(){return this.buffer.length>0},v.prototype.hasCompleted=function(){return this.buffer.length===0&&this.isComplete},v.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},v.prototype.notifyNext=function(h){this.buffer.push(h),this.parent.checkIterators()},v.prototype.subscribe=function(){return u.innerSubscribe(this.observable,new u.SimpleInnerSubscriber(this))},v}(u.SimpleOuterSubscriber)}),M2=xe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Lr();e.Observable=r.Observable;var t=yae();e.ConnectableObservable=t.ConnectableObservable;var n=gae();e.GroupedObservable=n.GroupedObservable;var i=cu();e.observable=i.observable;var c=yn();e.Subject=c.Subject;var u=bae();e.BehaviorSubject=u.BehaviorSubject;var a=FB();e.ReplaySubject=a.ReplaySubject;var s=O2();e.AsyncSubject=s.AsyncSubject;var o=Oae();e.asap=o.asap,e.asapScheduler=o.asapScheduler;var l=En();e.async=l.async,e.asyncScheduler=l.asyncScheduler;var d=wae();e.queue=d.queue,e.queueScheduler=d.queueScheduler;var p=C4r();e.animationFrame=p.animationFrame,e.animationFrameScheduler=p.animationFrameScheduler;var f=A4r();e.VirtualTimeScheduler=f.VirtualTimeScheduler,e.VirtualAction=f.VirtualAction;var v=_ae();e.Scheduler=v.Scheduler;var h=It();e.Subscription=h.Subscription;var m=pr();e.Subscriber=m.Subscriber;var y=x2();e.Notification=y.Notification,e.NotificationKind=y.NotificationKind;var g=kB();e.pipe=g.pipe;var b=LB();e.noop=b.noop;var _=go();e.identity=_.identity;var S=M4r();e.isObservable=S.isObservable;var w=pd();e.ArgumentOutOfRangeError=w.ArgumentOutOfRangeError;var O=fd();e.EmptyError=O.EmptyError;var x=w2();e.ObjectUnsubscribedError=x.ObjectUnsubscribedError;var N=vae();e.UnsubscriptionError=N.UnsubscriptionError;var M=Dae();e.TimeoutError=M.TimeoutError;var I=P4r();e.bindCallback=I.bindCallback;var q=E4r();e.bindNodeCallback=q.bindNodeCallback;var z=UB();e.combineLatest=z.combineLatest;var R=C2();e.concat=R.concat;var j=JB();e.defer=j.defer;var L=Ei();e.empty=L.empty;var P=U4r();e.forkJoin=P.forkJoin;var V=Bi();e.from=V.from;var E=z4r();e.fromEvent=E.fromEvent;var Z=J4r();e.fromEventPattern=Z.fromEventPattern;var ue=V4r();e.generate=ue.generate;var ye=G4r();e.iif=ye.iif;var X=H4r();e.interval=X.interval;var le=Pae();e.merge=le.merge;var Oe=ane();e.never=Oe.never;var ne=S2();e.of=ne.of;var fe=W4r();e.onErrorResumeNext=fe.onErrorResumeNext;var Me=$4r();e.pairs=Me.pairs;var me=Q4r();e.partition=me.partition;var Ce=qae();e.race=Ce.race;var Be=Y4r();e.range=Be.range;var je=RB();e.throwError=je.throwError;var We=Iae();e.timer=We.timer;var Ge=Z4r();e.using=Ge.using;var ie=VB();e.zip=ie.zip;var pe=Aae();e.scheduled=pe.scheduled;var te=Ei();e.EMPTY=te.EMPTY;var ce=ane();e.NEVER=ce.NEVER;var ge=_2();e.config=ge.config}),Bae=xe(e=>{"use strict";var r=e&&e.__extends||function(){var u=function(a,s){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var d in l)l.hasOwnProperty(d)&&(o[d]=l[d])},u(a,s)};return function(a,s){u(a,s);function o(){this.constructor=a}a.prototype=s===null?Object.create(s):(o.prototype=s.prototype,new o)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=ht();function n(u){return function(a){return a.lift(new i(u))}}e.audit=n;var i=function(){function u(a){this.durationSelector=a}return u.prototype.call=function(a,s){return s.subscribe(new c(a,this.durationSelector))},u}(),c=function(u){r(a,u);function a(s,o){var l=u.call(this,s)||this;return l.durationSelector=o,l.hasValue=!1,l}return a.prototype._next=function(s){if(this.value=s,this.hasValue=!0,!this.throttled){var o=void 0;try{var l=this.durationSelector;o=l(s)}catch(p){return this.destination.error(p)}var d=t.innerSubscribe(o,new t.SimpleInnerSubscriber(this));!d||d.closed?this.clearThrottle():this.add(this.throttled=d)}},a.prototype.clearThrottle=function(){var s=this,o=s.value,l=s.hasValue,d=s.throttled;d&&(this.remove(d),this.throttled=void 0,d.unsubscribe()),l&&(this.value=void 0,this.hasValue=!1,this.destination.next(o))},a.prototype.notifyNext=function(){this.clearThrottle()},a.prototype.notifyComplete=function(){this.clearThrottle()},a}(t.SimpleOuterSubscriber)}),X4r=xe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=En(),t=Bae(),n=Iae();function i(c,u){return u===void 0&&(u=r.async),t.audit(function(){return n.timer(c,u)})}e.auditTime=i}),K4r=xe(e=>{"use strict";var r=e&&e.__extends||function(){var u=function(a,s){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var d in l)l.hasOwnProperty(d)&&(o[d]=l[d])},u(a,s)};return function(a,s){u(a,s);function o(){this.constructor=a}a.prototype=s===null?Object.create(s):(o.prototype=s.prototype,new o)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=ht();function n(u){return function(a){return a.lift(new i(u))}}e.buffer=n;var i=function(){function u(a){this.closingNotifier=a}return u.prototype.call=function(a,s){return s.subscribe(new c(a,this.closingNotifier))},u}(),c=function(u){r(a,u);function a(s,o){var l=u.call(this,s)||this;return l.buffer=[],l.add(t.innerSubscribe(o,new t.SimpleInnerSubscriber(l))),l}return a.prototype._next=function(s){this.buffer.push(s)},a.prototype.notifyNext=function(){var s=this.buffer;this.buffer=[],this.destination.next(s)},a}(t.SimpleOuterSubscriber)}),e5r=xe(e=>{"use strict";var r=e&&e.__extends||function(){var a=function(s,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,d){l.__proto__=d}||function(l,d){for(var p in d)d.hasOwnProperty(p)&&(l[p]=d[p])},a(s,o)};return function(s,o){a(s,o);function l(){this.constructor=s}s.prototype=o===null?Object.create(o):(l.prototype=o.prototype,new l)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=pr();function n(a,s){return s===void 0&&(s=null),function(o){return o.lift(new i(a,s))}}e.bufferCount=n;var i=function(){function a(s,o){this.bufferSize=s,this.startBufferEvery=o,!o||s===o?this.subscriberClass=c:this.subscriberClass=u}return a.prototype.call=function(s,o){return o.subscribe(new this.subscriberClass(s,this.bufferSize,this.startBufferEvery))},a}(),c=function(a){r(s,a);function s(o,l){var d=a.call(this,o)||this;return d.bufferSize=l,d.buffer=[],d}return s.prototype._next=function(o){var l=this.buffer;l.push(o),l.length==this.bufferSize&&(this.destination.next(l),this.buffer=[])},s.prototype._complete=function(){var o=this.buffer;o.length>0&&this.destination.next(o),a.prototype._complete.call(this)},s}(t.Subscriber),u=function(a){r(s,a);function s(o,l,d){var p=a.call(this,o)||this;return p.bufferSize=l,p.startBufferEvery=d,p.buffers=[],p.count=0,p}return s.prototype._next=function(o){var l=this,d=l.bufferSize,p=l.startBufferEvery,f=l.buffers,v=l.count;this.count++,v%p===0&&f.push([]);for(var h=f.length;h--;){var m=f[h];m.push(o),m.length===d&&(f.splice(h,1),this.destination.next(m))}},s.prototype._complete=function(){for(var o=this,l=o.buffers,d=o.destination;l.length>0;){var p=l.shift();p.length>0&&d.next(p)}a.prototype._complete.call(this)},s}(t.Subscriber)}),r5r=xe(e=>{"use strict";var r=e&&e.__extends||function(){var p=function(f,v){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,m){h.__proto__=m}||function(h,m){for(var y in m)m.hasOwnProperty(y)&&(h[y]=m[y])},p(f,v)};return function(f,v){p(f,v);function h(){this.constructor=f}f.prototype=v===null?Object.create(v):(h.prototype=v.prototype,new h)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=En(),n=pr(),i=Ii();function c(p){var f=arguments.length,v=t.async;i.isScheduler(arguments[arguments.length-1])&&(v=arguments[arguments.length-1],f--);var h=null;f>=2&&(h=arguments[1]);var m=Number.POSITIVE_INFINITY;return f>=3&&(m=arguments[2]),function(y){return y.lift(new u(p,h,m,v))}}e.bufferTime=c;var u=function(){function p(f,v,h,m){this.bufferTimeSpan=f,this.bufferCreationInterval=v,this.maxBufferSize=h,this.scheduler=m}return p.prototype.call=function(f,v){return v.subscribe(new s(f,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},p}(),a=function(){function p(){this.buffer=[]}return p}(),s=function(p){r(f,p);function f(v,h,m,y,g){var b=p.call(this,v)||this;b.bufferTimeSpan=h,b.bufferCreationInterval=m,b.maxBufferSize=y,b.scheduler=g,b.contexts=[];var _=b.openContext();if(b.timespanOnly=m==null||m<0,b.timespanOnly){var S={subscriber:b,context:_,bufferTimeSpan:h};b.add(_.closeAction=g.schedule(o,h,S))}else{var w={subscriber:b,context:_},O={bufferTimeSpan:h,bufferCreationInterval:m,subscriber:b,scheduler:g};b.add(_.closeAction=g.schedule(d,h,w)),b.add(g.schedule(l,m,O))}return b}return f.prototype._next=function(v){for(var h=this.contexts,m=h.length,y,g=0;g<m;g++){var b=h[g],_=b.buffer;_.push(v),_.length==this.maxBufferSize&&(y=b)}y&&this.onBufferFull(y)},f.prototype._error=function(v){this.contexts.length=0,p.prototype._error.call(this,v)},f.prototype._complete=function(){for(var v=this,h=v.contexts,m=v.destination;h.length>0;){var y=h.shift();m.next(y.buffer)}p.prototype._complete.call(this)},f.prototype._unsubscribe=function(){this.contexts=null},f.prototype.onBufferFull=function(v){this.closeContext(v);var h=v.closeAction;if(h.unsubscribe(),this.remove(h),!this.closed&&this.timespanOnly){v=this.openContext();var m=this.bufferTimeSpan,y={subscriber:this,context:v,bufferTimeSpan:m};this.add(v.closeAction=this.scheduler.schedule(o,m,y))}},f.prototype.openContext=function(){var v=new a;return this.contexts.push(v),v},f.prototype.closeContext=function(v){this.destination.next(v.buffer);var h=this.contexts,m=h?h.indexOf(v):-1;m>=0&&h.splice(h.indexOf(v),1)},f}(n.Subscriber);function o(p){var f=p.subscriber,v=p.context;v&&f.closeContext(v),f.closed||(p.context=f.openContext(),p.context.closeAction=this.schedule(p,p.bufferTimeSpan))}function l(p){var f=p.bufferCreationInterval,v=p.bufferTimeSpan,h=p.subscriber,m=p.scheduler,y=h.openContext(),g=this;h.closed||(h.add(y.closeAction=m.schedule(d,v,{subscriber:h,context:y})),g.schedule(p,f))}function d(p){var f=p.subscriber,v=p.context;f.closeContext(v)}}),t5r=xe(e=>{"use strict";var r=e&&e.__extends||function(){var s=function(o,l){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,p){d.__proto__=p}||function(d,p){for(var f in p)p.hasOwnProperty(f)&&(d[f]=p[f])},s(o,l)};return function(o,l){s(o,l);function d(){this.constructor=o}o.prototype=l===null?Object.create(l):(d.prototype=l.prototype,new d)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=It(),n=_o(),i=bo();function c(s,o){return function(l){return l.lift(new u(s,o))}}e.bufferToggle=c;var u=function(){function s(o,l){this.openings=o,this.closingSelector=l}return s.prototype.call=function(o,l){return l.subscribe(new a(o,this.openings,this.closingSelector))},s}(),a=function(s){r(o,s);function o(l,d,p){var f=s.call(this,l)||this;return f.closingSelector=p,f.contexts=[],f.add(n.subscribeToResult(f,d)),f}return o.prototype._next=function(l){for(var d=this.contexts,p=d.length,f=0;f<p;f++)d[f].buffer.push(l)},o.prototype._error=function(l){for(var d=this.contexts;d.length>0;){var p=d.shift();p.subscription.unsubscribe(),p.buffer=null,p.subscription=null}this.contexts=null,s.prototype._error.call(this,l)},o.prototype._complete=function(){for(var l=this.contexts;l.length>0;){var d=l.shift();this.destination.next(d.buffer),d.subscription.unsubscribe(),d.buffer=null,d.subscription=null}this.contexts=null,s.prototype._complete.call(this)},o.prototype.notifyNext=function(l,d){l?this.closeBuffer(l):this.openBuffer(d)},o.prototype.notifyComplete=function(l){this.closeBuffer(l.context)},o.prototype.openBuffer=function(l){try{var d=this.closingSelector,p=d.call(this,l);p&&this.trySubscribe(p)}catch(f){this._error(f)}},o.prototype.closeBuffer=function(l){var d=this.contexts;if(d&&l){var p=l.buffer,f=l.subscription;this.destination.next(p),d.splice(d.indexOf(l),1),this.remove(f),f.unsubscribe()}},o.prototype.trySubscribe=function(l){var d=this.contexts,p=[],f=new t.Subscription,v={buffer:p,subscription:f};d.push(v);var h=n.subscribeToResult(this,l,v);!h||h.closed?this.closeBuffer(v):(h.context=v,this.add(h),f.add(h))},o}(i.OuterSubscriber)}),n5r=xe(e=>{"use strict";var r=e&&e.__extends||function(){var a=function(s,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,d){l.__proto__=d}||function(l,d){for(var p in d)d.hasOwnProperty(p)&&(l[p]=d[p])},a(s,o)};return function(s,o){a(s,o);function l(){this.constructor=s}s.prototype=o===null?Object.create(o):(l.prototype=o.prototype,new l)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=It(),n=ht();function i(a){return function(s){return s.lift(new c(a))}}e.bufferWhen=i;var c=function(){function a(s){this.closingSelector=s}return a.prototype.call=function(s,o){return o.subscribe(new u(s,this.closingSelector))},a}(),u=function(a){r(s,a);function s(o,l){var d=a.call(this,o)||this;return d.closingSelector=l,d.subscribing=!1,d.openBuffer(),d}return s.prototype._next=function(o){this.buffer.push(o)},s.prototype._complete=function(){var o=this.buffer;o&&this.destination.next(o),a.prototype._complete.call(this)},s.prototype._unsubscribe=function(){this.buffer=void 0,this.subscribing=!1},s.prototype.notifyNext=function(){this.openBuffer()},s.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},s.prototype.openBuffer=function(){var o=this.closingSubscription;o&&(this.remove(o),o.unsubscribe());var l=this.buffer;this.buffer&&this.destination.next(l),this.buffer=[];var d;try{var p=this.closingSelector;d=p()}catch(f){return this.error(f)}o=new t.Subscription,this.closingSubscription=o,this.add(o),this.subscribing=!0,o.add(n.innerSubscribe(d,new n.SimpleInnerSubscriber(this))),this.subscribing=!1},s}(n.SimpleOuterSubscriber)}),i5r=xe(e=>{"use strict";var r=e&&e.__extends||function(){var u=function(a,s){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var d in l)l.hasOwnProperty(d)&&(o[d]=l[d])},u(a,s)};return function(a,s){u(a,s);function o(){this.constructor=a}a.prototype=s===null?Object.create(s):(o.prototype=s.prototype,new o)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=ht();function n(u){return function(a){var s=new i(u),o=a.lift(s);return s.caught=o}}e.catchError=n;var i=function(){function u(a){this.selector=a}return u.prototype.call=function(a,s){return s.subscribe(new c(a,this.selector,this.caught))},u}(),c=function(u){r(a,u);function a(s,o,l){var d=u.call(this,s)||this;return d.selector=o,d.caught=l,d}return a.prototype.error=function(s){if(!this.isStopped){var o=void 0;try{o=this.selector(s,this.caught)}catch(p){u.prototype.error.call(this,p);return}this._unsubscribeAndRecycle();var l=new t.SimpleInnerSubscriber(this);this.add(l);var d=t.innerSubscribe(o,l);d!==l&&this.add(d)}},a}(t.SimpleOuterSubscriber)}),a5r=xe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=UB();function t(n){return function(i){return i.lift(new r.CombineLatestOperator(n))}}e.combineAll=t}),s5r=xe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Pn(),t=UB(),n=Bi();function i(){for(var c=[],u=0;u<arguments.length;u++)c[u]=arguments[u];var a=null;return typeof c[c.length-1]=="function"&&(a=c.pop()),c.length===1&&r.isArray(c[0])&&(c=c[0].slice()),function(s){return s.lift.call(n.from([s].concat(c)),new t.CombineLatestOperator(a))}}e.combineLatest=i}),o5r=xe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=C2();function t(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return function(c){return c.lift.call(r.concat.apply(void 0,[c].concat(n)))}}e.concat=t}),kae=xe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=N2();function t(n,i){return r.mergeMap(n,i,1)}e.concatMap=t}),c5r=xe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=kae();function t(n,i){return r.concatMap(function(){return n},i)}e.concatMapTo=t}),u5r=xe(e=>{"use strict";var r=e&&e.__extends||function(){var u=function(a,s){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var d in l)l.hasOwnProperty(d)&&(o[d]=l[d])},u(a,s)};return function(a,s){u(a,s);function o(){this.constructor=a}a.prototype=s===null?Object.create(s):(o.prototype=s.prototype,new o)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=pr();function n(u){return function(a){return a.lift(new i(u,a))}}e.count=n;var i=function(){function u(a,s){this.predicate=a,this.source=s}return u.prototype.call=function(a,s){return s.subscribe(new c(a,this.predicate,this.source))},u}(),c=function(u){r(a,u);function a(s,o,l){var d=u.call(this,s)||this;return d.predicate=o,d.source=l,d.count=0,d.index=0,d}return a.prototype._next=function(s){this.predicate?this._tryPredicate(s):this.count++},a.prototype._tryPredicate=function(s){var o;try{o=this.predicate(s,this.index++,this.source)}catch(l){this.destination.error(l);return}o&&this.count++},a.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},a}(t.Subscriber)}),l5r=xe(e=>{"use strict";var r=e&&e.__extends||function(){var u=function(a,s){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var d in l)l.hasOwnProperty(d)&&(o[d]=l[d])},u(a,s)};return function(a,s){u(a,s);function o(){this.constructor=a}a.prototype=s===null?Object.create(s):(o.prototype=s.prototype,new o)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=ht();function n(u){return function(a){return a.lift(new i(u))}}e.debounce=n;var i=function(){function u(a){this.durationSelector=a}return u.prototype.call=function(a,s){return s.subscribe(new c(a,this.durationSelector))},u}(),c=function(u){r(a,u);function a(s,o){var l=u.call(this,s)||this;return l.durationSelector=o,l.hasValue=!1,l}return a.prototype._next=function(s){try{var o=this.durationSelector.call(this,s);o&&this._tryNext(s,o)}catch(l){this.destination.error(l)}},a.prototype._complete=function(){this.emitValue(),this.destination.complete()},a.prototype._tryNext=function(s,o){var l=this.durationSubscription;this.value=s,this.hasValue=!0,l&&(l.unsubscribe(),this.remove(l)),l=t.innerSubscribe(o,new t.SimpleInnerSubscriber(this)),l&&!l.closed&&this.add(this.durationSubscription=l)},a.prototype.notifyNext=function(){this.emitValue()},a.prototype.notifyComplete=function(){this.emitValue()},a.prototype.emitValue=function(){if(this.hasValue){var s=this.value,o=this.durationSubscription;o&&(this.durationSubscription=void 0,o.unsubscribe(),this.remove(o)),this.value=void 0,this.hasValue=!1,u.prototype._next.call(this,s)}},a}(t.SimpleOuterSubscriber)}),d5r=xe(e=>{"use strict";var r=e&&e.__extends||function(){var s=function(o,l){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,p){d.__proto__=p}||function(d,p){for(var f in p)p.hasOwnProperty(f)&&(d[f]=p[f])},s(o,l)};return function(o,l){s(o,l);function d(){this.constructor=o}o.prototype=l===null?Object.create(l):(d.prototype=l.prototype,new d)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=pr(),n=En();function i(s,o){return o===void 0&&(o=n.async),function(l){return l.lift(new c(s,o))}}e.debounceTime=i;var c=function(){function s(o,l){this.dueTime=o,this.scheduler=l}return s.prototype.call=function(o,l){return l.subscribe(new u(o,this.dueTime,this.scheduler))},s}(),u=function(s){r(o,s);function o(l,d,p){var f=s.call(this,l)||this;return f.dueTime=d,f.scheduler=p,f.debouncedSubscription=null,f.lastValue=null,f.hasValue=!1,f}return o.prototype._next=function(l){this.clearDebounce(),this.lastValue=l,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(a,this.dueTime,this))},o.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},o.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var l=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(l)}},o.prototype.clearDebounce=function(){var l=this.debouncedSubscription;l!==null&&(this.remove(l),l.unsubscribe(),this.debouncedSubscription=null)},o}(t.Subscriber);function a(s){s.debouncedNext()}}),vd=xe(e=>{"use strict";var r=e&&e.__extends||function(){var u=function(a,s){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var d in l)l.hasOwnProperty(d)&&(o[d]=l[d])},u(a,s)};return function(a,s){u(a,s);function o(){this.constructor=a}a.prototype=s===null?Object.create(s):(o.prototype=s.prototype,new o)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=pr();function n(u){return u===void 0&&(u=null),function(a){return a.lift(new i(u))}}e.defaultIfEmpty=n;var i=function(){function u(a){this.defaultValue=a}return u.prototype.call=function(a,s){return s.subscribe(new c(a,this.defaultValue))},u}(),c=function(u){r(a,u);function a(s,o){var l=u.call(this,s)||this;return l.defaultValue=o,l.isEmpty=!0,l}return a.prototype._next=function(s){this.isEmpty=!1,this.destination.next(s)},a.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},a}(t.Subscriber)}),jae=xe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});function r(t){return t instanceof Date&&!isNaN(+t)}e.isDate=r}),p5r=xe(e=>{"use strict";var r=e&&e.__extends||function(){var l=function(d,p){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,v){f.__proto__=v}||function(f,v){for(var h in v)v.hasOwnProperty(h)&&(f[h]=v[h])},l(d,p)};return function(d,p){l(d,p);function f(){this.constructor=d}d.prototype=p===null?Object.create(p):(f.prototype=p.prototype,new f)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=En(),n=jae(),i=pr(),c=x2();function u(l,d){d===void 0&&(d=t.async);var p=n.isDate(l),f=p?+l-d.now():Math.abs(l);return function(v){return v.lift(new a(f,d))}}e.delay=u;var a=function(){function l(d,p){this.delay=d,this.scheduler=p}return l.prototype.call=function(d,p){return p.subscribe(new s(d,this.delay,this.scheduler))},l}(),s=function(l){r(d,l);function d(p,f,v){var h=l.call(this,p)||this;return h.delay=f,h.scheduler=v,h.queue=[],h.active=!1,h.errored=!1,h}return d.dispatch=function(p){for(var f=p.source,v=f.queue,h=p.scheduler,m=p.destination;v.length>0&&v[0].time-h.now()<=0;)v.shift().notification.observe(m);if(v.length>0){var y=Math.max(0,v[0].time-h.now());this.schedule(p,y)}else this.unsubscribe(),f.active=!1},d.prototype._schedule=function(p){this.active=!0;var f=this.destination;f.add(p.schedule(d.dispatch,this.delay,{source:this,destination:this.destination,scheduler:p}))},d.prototype.scheduleNotification=function(p){if(this.errored!==!0){var f=this.scheduler,v=new o(f.now()+this.delay,p);this.queue.push(v),this.active===!1&&this._schedule(f)}},d.prototype._next=function(p){this.scheduleNotification(c.Notification.createNext(p))},d.prototype._error=function(p){this.errored=!0,this.queue=[],this.destination.error(p),this.unsubscribe()},d.prototype._complete=function(){this.scheduleNotification(c.Notification.createComplete()),this.unsubscribe()},d}(i.Subscriber),o=function(){function l(d,p){this.time=d,this.notification=p}return l}()}),f5r=xe(e=>{"use strict";var r=e&&e.__extends||function(){var d=function(p,f){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,h){v.__proto__=h}||function(v,h){for(var m in h)h.hasOwnProperty(m)&&(v[m]=h[m])},d(p,f)};return function(p,f){d(p,f);function v(){this.constructor=p}p.prototype=f===null?Object.create(f):(v.prototype=f.prototype,new v)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=pr(),n=Lr(),i=bo(),c=_o();function u(d,p){return p?function(f){return new o(f,p).lift(new a(d))}:function(f){return f.lift(new a(d))}}e.delayWhen=u;var a=function(){function d(p){this.delayDurationSelector=p}return d.prototype.call=function(p,f){return f.subscribe(new s(p,this.delayDurationSelector))},d}(),s=function(d){r(p,d);function p(f,v){var h=d.call(this,f)||this;return h.delayDurationSelector=v,h.completed=!1,h.delayNotifierSubscriptions=[],h.index=0,h}return p.prototype.notifyNext=function(f,v,h,m,y){this.destination.next(f),this.removeSubscription(y),this.tryComplete()},p.prototype.notifyError=function(f,v){this._error(f)},p.prototype.notifyComplete=function(f){var v=this.removeSubscription(f);v&&this.destination.next(v),this.tryComplete()},p.prototype._next=function(f){var v=this.index++;try{var h=this.delayDurationSelector(f,v);h&&this.tryDelay(h,f)}catch(m){this.destination.error(m)}},p.prototype._complete=function(){this.completed=!0,this.tryComplete(),this.unsubscribe()},p.prototype.removeSubscription=function(f){f.unsubscribe();var v=this.delayNotifierSubscriptions.indexOf(f);return v!==-1&&this.delayNotifierSubscriptions.splice(v,1),f.outerValue},p.prototype.tryDelay=function(f,v){var h=c.subscribeToResult(this,f,v);if(h&&!h.closed){var m=this.destination;m.add(h),this.delayNotifierSubscriptions.push(h)}},p.prototype.tryComplete=function(){this.completed&&this.delayNotifierSubscriptions.length===0&&this.destination.complete()},p}(i.OuterSubscriber),o=function(d){r(p,d);function p(f,v){var h=d.call(this)||this;return h.source=f,h.subscriptionDelay=v,h}return p.prototype._subscribe=function(f){this.subscriptionDelay.subscribe(new l(f,this.source))},p}(n.Observable),l=function(d){r(p,d);function p(f,v){var h=d.call(this)||this;return h.parent=f,h.source=v,h.sourceSubscribed=!1,h}return p.prototype._next=function(f){this.subscribeToSource()},p.prototype._error=function(f){this.unsubscribe(),this.parent.error(f)},p.prototype._complete=function(){this.unsubscribe(),this.subscribeToSource()},p.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},p}(t.Subscriber)}),h5r=xe(e=>{"use strict";var r=e&&e.__extends||function(){var u=function(a,s){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var d in l)l.hasOwnProperty(d)&&(o[d]=l[d])},u(a,s)};return function(a,s){u(a,s);function o(){this.constructor=a}a.prototype=s===null?Object.create(s):(o.prototype=s.prototype,new o)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=pr();function n(){return function(u){return u.lift(new i)}}e.dematerialize=n;var i=function(){function u(){}return u.prototype.call=function(a,s){return s.subscribe(new c(a))},u}(),c=function(u){r(a,u);function a(s){return u.call(this,s)||this}return a.prototype._next=function(s){s.observe(this.destination)},a}(t.Subscriber)}),v5r=xe(e=>{"use strict";var r=e&&e.__extends||function(){var u=function(a,s){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var d in l)l.hasOwnProperty(d)&&(o[d]=l[d])},u(a,s)};return function(a,s){u(a,s);function o(){this.constructor=a}a.prototype=s===null?Object.create(s):(o.prototype=s.prototype,new o)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=ht();function n(u,a){return function(s){return s.lift(new i(u,a))}}e.distinct=n;var i=function(){function u(a,s){this.keySelector=a,this.flushes=s}return u.prototype.call=function(a,s){return s.subscribe(new c(a,this.keySelector,this.flushes))},u}(),c=function(u){r(a,u);function a(s,o,l){var d=u.call(this,s)||this;return d.keySelector=o,d.values=new Set,l&&d.add(t.innerSubscribe(l,new t.SimpleInnerSubscriber(d))),d}return a.prototype.notifyNext=function(){this.values.clear()},a.prototype.notifyError=function(s){this._error(s)},a.prototype._next=function(s){this.keySelector?this._useKeySelector(s):this._finalizeNext(s,s)},a.prototype._useKeySelector=function(s){var o,l=this.destination;try{o=this.keySelector(s)}catch(d){l.error(d);return}this._finalizeNext(o,s)},a.prototype._finalizeNext=function(s,o){var l=this.values;l.has(s)||(l.add(s),this.destination.next(o))},a}(t.SimpleOuterSubscriber);e.DistinctSubscriber=c}),Tae=xe(e=>{"use strict";var r=e&&e.__extends||function(){var u=function(a,s){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var d in l)l.hasOwnProperty(d)&&(o[d]=l[d])},u(a,s)};return function(a,s){u(a,s);function o(){this.constructor=a}a.prototype=s===null?Object.create(s):(o.prototype=s.prototype,new o)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=pr();function n(u,a){return function(s){return s.lift(new i(u,a))}}e.distinctUntilChanged=n;var i=function(){function u(a,s){this.compare=a,this.keySelector=s}return u.prototype.call=function(a,s){return s.subscribe(new c(a,this.compare,this.keySelector))},u}(),c=function(u){r(a,u);function a(s,o,l){var d=u.call(this,s)||this;return d.keySelector=l,d.hasKey=!1,typeof o=="function"&&(d.compare=o),d}return a.prototype.compare=function(s,o){return s===o},a.prototype._next=function(s){var o;try{var l=this.keySelector;o=l?l(s):s}catch(f){return this.destination.error(f)}var d=!1;if(this.hasKey)try{var p=this.compare;d=p(this.key,o)}catch(f){return this.destination.error(f)}else this.hasKey=!0;d||(this.key=o,this.destination.next(s))},a}(t.Subscriber)}),m5r=xe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Tae();function t(n,i){return r.distinctUntilChanged(function(c,u){return i?i(c[n],u[n]):c[n]===u[n]})}e.distinctUntilKeyChanged=t}),P2=xe(e=>{"use strict";var r=e&&e.__extends||function(){var s=function(o,l){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,p){d.__proto__=p}||function(d,p){for(var f in p)p.hasOwnProperty(f)&&(d[f]=p[f])},s(o,l)};return function(o,l){s(o,l);function d(){this.constructor=o}o.prototype=l===null?Object.create(l):(d.prototype=l.prototype,new d)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=fd(),n=pr();function i(s){return s===void 0&&(s=a),function(o){return o.lift(new c(s))}}e.throwIfEmpty=i;var c=function(){function s(o){this.errorFactory=o}return s.prototype.call=function(o,l){return l.subscribe(new u(o,this.errorFactory))},s}(),u=function(s){r(o,s);function o(l,d){var p=s.call(this,l)||this;return p.errorFactory=d,p.hasValue=!1,p}return o.prototype._next=function(l){this.hasValue=!0,this.destination.next(l)},o.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var l=void 0;try{l=this.errorFactory()}catch(d){l=d}this.destination.error(l)},o}(n.Subscriber);function a(){return new t.EmptyError}}),GB=xe(e=>{"use strict";var r=e&&e.__extends||function(){var s=function(o,l){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,p){d.__proto__=p}||function(d,p){for(var f in p)p.hasOwnProperty(f)&&(d[f]=p[f])},s(o,l)};return function(o,l){s(o,l);function d(){this.constructor=o}o.prototype=l===null?Object.create(l):(d.prototype=l.prototype,new d)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=pr(),n=pd(),i=Ei();function c(s){return function(o){return s===0?i.empty():o.lift(new u(s))}}e.take=c;var u=function(){function s(o){if(this.total=o,this.total<0)throw new n.ArgumentOutOfRangeError}return s.prototype.call=function(o,l){return l.subscribe(new a(o,this.total))},s}(),a=function(s){r(o,s);function o(l,d){var p=s.call(this,l)||this;return p.total=d,p.count=0,p}return o.prototype._next=function(l){var d=this.total,p=++this.count;p<=d&&(this.destination.next(l),p===d&&(this.destination.complete(),this.unsubscribe()))},o}(t.Subscriber)}),y5r=xe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=pd(),t=uu(),n=P2(),i=vd(),c=GB();function u(a,s){if(a<0)throw new r.ArgumentOutOfRangeError;var o=arguments.length>=2;return function(l){return l.pipe(t.filter(function(d,p){return p===a}),c.take(1),o?i.defaultIfEmpty(s):n.throwIfEmpty(function(){return new r.ArgumentOutOfRangeError}))}}e.elementAt=u}),g5r=xe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=C2(),t=S2();function n(){for(var i=[],c=0;c<arguments.length;c++)i[c]=arguments[c];return function(u){return r.concat(u,t.of.apply(void 0,i))}}e.endWith=n}),b5r=xe(e=>{"use strict";var r=e&&e.__extends||function(){var u=function(a,s){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var d in l)l.hasOwnProperty(d)&&(o[d]=l[d])},u(a,s)};return function(a,s){u(a,s);function o(){this.constructor=a}a.prototype=s===null?Object.create(s):(o.prototype=s.prototype,new o)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=pr();function n(u,a){return function(s){return s.lift(new i(u,a,s))}}e.every=n;var i=function(){function u(a,s,o){this.predicate=a,this.thisArg=s,this.source=o}return u.prototype.call=function(a,s){return s.subscribe(new c(a,this.predicate,this.thisArg,this.source))},u}(),c=function(u){r(a,u);function a(s,o,l,d){var p=u.call(this,s)||this;return p.predicate=o,p.thisArg=l,p.source=d,p.index=0,p.thisArg=l||p,p}return a.prototype.notifyComplete=function(s){this.destination.next(s),this.destination.complete()},a.prototype._next=function(s){var o=!1;try{o=this.predicate.call(this.thisArg,s,this.index++,this.source)}catch(l){this.destination.error(l);return}o||this.notifyComplete(!1)},a.prototype._complete=function(){this.notifyComplete(!0)},a}(t.Subscriber)}),_5r=xe(e=>{"use strict";var r=e&&e.__extends||function(){var u=function(a,s){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var d in l)l.hasOwnProperty(d)&&(o[d]=l[d])},u(a,s)};return function(a,s){u(a,s);function o(){this.constructor=a}a.prototype=s===null?Object.create(s):(o.prototype=s.prototype,new o)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=ht();function n(){return function(u){return u.lift(new i)}}e.exhaust=n;var i=function(){function u(){}return u.prototype.call=function(a,s){return s.subscribe(new c(a))},u}(),c=function(u){r(a,u);function a(s){var o=u.call(this,s)||this;return o.hasCompleted=!1,o.hasSubscription=!1,o}return a.prototype._next=function(s){this.hasSubscription||(this.hasSubscription=!0,this.add(t.innerSubscribe(s,new t.SimpleInnerSubscriber(this))))},a.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},a.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},a}(t.SimpleOuterSubscriber)}),w5r=xe(e=>{"use strict";var r=e&&e.__extends||function(){var s=function(o,l){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,p){d.__proto__=p}||function(d,p){for(var f in p)p.hasOwnProperty(f)&&(d[f]=p[f])},s(o,l)};return function(o,l){s(o,l);function d(){this.constructor=o}o.prototype=l===null?Object.create(l):(d.prototype=l.prototype,new d)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=Wn(),n=Bi(),i=ht();function c(s,o){return o?function(l){return l.pipe(c(function(d,p){return n.from(s(d,p)).pipe(t.map(function(f,v){return o(d,f,p,v)}))}))}:function(l){return l.lift(new u(s))}}e.exhaustMap=c;var u=function(){function s(o){this.project=o}return s.prototype.call=function(o,l){return l.subscribe(new a(o,this.project))},s}(),a=function(s){r(o,s);function o(l,d){var p=s.call(this,l)||this;return p.project=d,p.hasSubscription=!1,p.hasCompleted=!1,p.index=0,p}return o.prototype._next=function(l){this.hasSubscription||this.tryNext(l)},o.prototype.tryNext=function(l){var d,p=this.index++;try{d=this.project(l,p)}catch(f){this.destination.error(f);return}this.hasSubscription=!0,this._innerSub(d)},o.prototype._innerSub=function(l){var d=new i.SimpleInnerSubscriber(this),p=this.destination;p.add(d);var f=i.innerSubscribe(l,d);f!==d&&p.add(f)},o.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()},o.prototype.notifyNext=function(l){this.destination.next(l)},o.prototype.notifyError=function(l){this.destination.error(l)},o.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},o}(i.SimpleOuterSubscriber)}),S5r=xe(e=>{"use strict";var r=e&&e.__extends||function(){var u=function(a,s){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var d in l)l.hasOwnProperty(d)&&(o[d]=l[d])},u(a,s)};return function(a,s){u(a,s);function o(){this.constructor=a}a.prototype=s===null?Object.create(s):(o.prototype=s.prototype,new o)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=ht();function n(u,a,s){return a===void 0&&(a=Number.POSITIVE_INFINITY),a=(a||0)<1?Number.POSITIVE_INFINITY:a,function(o){return o.lift(new i(u,a,s))}}e.expand=n;var i=function(){function u(a,s,o){this.project=a,this.concurrent=s,this.scheduler=o}return u.prototype.call=function(a,s){return s.subscribe(new c(a,this.project,this.concurrent,this.scheduler))},u}();e.ExpandOperator=i;var c=function(u){r(a,u);function a(s,o,l,d){var p=u.call(this,s)||this;return p.project=o,p.concurrent=l,p.scheduler=d,p.index=0,p.active=0,p.hasCompleted=!1,l<Number.POSITIVE_INFINITY&&(p.buffer=[]),p}return a.dispatch=function(s){var o=s.subscriber,l=s.result,d=s.value,p=s.index;o.subscribeToProjection(l,d,p)},a.prototype._next=function(s){var o=this.destination;if(o.closed){this._complete();return}var l=this.index++;if(this.active<this.concurrent){o.next(s);try{var d=this.project,p=d(s,l);if(!this.scheduler)this.subscribeToProjection(p,s,l);else{var f={subscriber:this,result:p,value:s,index:l},v=this.destination;v.add(this.scheduler.schedule(a.dispatch,0,f))}}catch(h){o.error(h)}}else this.buffer.push(s)},a.prototype.subscribeToProjection=function(s,o,l){this.active++;var d=this.destination;d.add(t.innerSubscribe(s,new t.SimpleInnerSubscriber(this)))},a.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&this.active===0&&this.destination.complete(),this.unsubscribe()},a.prototype.notifyNext=function(s){this._next(s)},a.prototype.notifyComplete=function(){var s=this.buffer;this.active--,s&&s.length>0&&this._next(s.shift()),this.hasCompleted&&this.active===0&&this.destination.complete()},a}(t.SimpleOuterSubscriber);e.ExpandSubscriber=c}),x5r=xe(e=>{"use strict";var r=e&&e.__extends||function(){var a=function(s,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,d){l.__proto__=d}||function(l,d){for(var p in d)d.hasOwnProperty(p)&&(l[p]=d[p])},a(s,o)};return function(s,o){a(s,o);function l(){this.constructor=s}s.prototype=o===null?Object.create(o):(l.prototype=o.prototype,new l)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=pr(),n=It();function i(a){return function(s){return s.lift(new c(a))}}e.finalize=i;var c=function(){function a(s){this.callback=s}return a.prototype.call=function(s,o){return o.subscribe(new u(s,this.callback))},a}(),u=function(a){r(s,a);function s(o,l){var d=a.call(this,o)||this;return d.add(new n.Subscription(l)),d}return s}(t.Subscriber)}),Rae=xe(e=>{"use strict";var r=e&&e.__extends||function(){var u=function(a,s){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var d in l)l.hasOwnProperty(d)&&(o[d]=l[d])},u(a,s)};return function(a,s){u(a,s);function o(){this.constructor=a}a.prototype=s===null?Object.create(s):(o.prototype=s.prototype,new o)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=pr();function n(u,a){if(typeof u!="function")throw new TypeError("predicate is not a function");return function(s){return s.lift(new i(u,s,!1,a))}}e.find=n;var i=function(){function u(a,s,o,l){this.predicate=a,this.source=s,this.yieldIndex=o,this.thisArg=l}return u.prototype.call=function(a,s){return s.subscribe(new c(a,this.predicate,this.source,this.yieldIndex,this.thisArg))},u}();e.FindValueOperator=i;var c=function(u){r(a,u);function a(s,o,l,d,p){var f=u.call(this,s)||this;return f.predicate=o,f.source=l,f.yieldIndex=d,f.thisArg=p,f.index=0,f}return a.prototype.notifyComplete=function(s){var o=this.destination;o.next(s),o.complete(),this.unsubscribe()},a.prototype._next=function(s){var o=this,l=o.predicate,d=o.thisArg,p=this.index++;try{var f=l.call(d||this,s,p,this.source);f&&this.notifyComplete(this.yieldIndex?p:s)}catch(v){this.destination.error(v)}},a.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},a}(t.Subscriber);e.FindValueSubscriber=c}),O5r=xe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Rae();function t(n,i){return function(c){return c.lift(new r.FindValueOperator(n,c,!0,i))}}e.findIndex=t}),D5r=xe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=fd(),t=uu(),n=GB(),i=vd(),c=P2(),u=go();function a(s,o){var l=arguments.length>=2;return function(d){return d.pipe(s?t.filter(function(p,f){return s(p,f,d)}):u.identity,n.take(1),l?i.defaultIfEmpty(o):c.throwIfEmpty(function(){return new r.EmptyError}))}}e.first=a}),N5r=xe(e=>{"use strict";var r=e&&e.__extends||function(){var u=function(a,s){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var d in l)l.hasOwnProperty(d)&&(o[d]=l[d])},u(a,s)};return function(a,s){u(a,s);function o(){this.constructor=a}a.prototype=s===null?Object.create(s):(o.prototype=s.prototype,new o)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=pr();function n(){return function(u){return u.lift(new i)}}e.ignoreElements=n;var i=function(){function u(){}return u.prototype.call=function(a,s){return s.subscribe(new c(a))},u}(),c=function(u){r(a,u);function a(){return u!==null&&u.apply(this,arguments)||this}return a.prototype._next=function(s){},a}(t.Subscriber)}),C5r=xe(e=>{"use strict";var r=e&&e.__extends||function(){var u=function(a,s){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var d in l)l.hasOwnProperty(d)&&(o[d]=l[d])},u(a,s)};return function(a,s){u(a,s);function o(){this.constructor=a}a.prototype=s===null?Object.create(s):(o.prototype=s.prototype,new o)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=pr();function n(){return function(u){return u.lift(new i)}}e.isEmpty=n;var i=function(){function u(){}return u.prototype.call=function(a,s){return s.subscribe(new c(a))},u}(),c=function(u){r(a,u);function a(s){return u.call(this,s)||this}return a.prototype.notifyComplete=function(s){var o=this.destination;o.next(s),o.complete()},a.prototype._next=function(s){this.notifyComplete(!1)},a.prototype._complete=function(){this.notifyComplete(!0)},a}(t.Subscriber)}),HB=xe(e=>{"use strict";var r=e&&e.__extends||function(){var s=function(o,l){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,p){d.__proto__=p}||function(d,p){for(var f in p)p.hasOwnProperty(f)&&(d[f]=p[f])},s(o,l)};return function(o,l){s(o,l);function d(){this.constructor=o}o.prototype=l===null?Object.create(l):(d.prototype=l.prototype,new d)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=pr(),n=pd(),i=Ei();function c(s){return function(o){return s===0?i.empty():o.lift(new u(s))}}e.takeLast=c;var u=function(){function s(o){if(this.total=o,this.total<0)throw new n.ArgumentOutOfRangeError}return s.prototype.call=function(o,l){return l.subscribe(new a(o,this.total))},s}(),a=function(s){r(o,s);function o(l,d){var p=s.call(this,l)||this;return p.total=d,p.ring=new Array,p.count=0,p}return o.prototype._next=function(l){var d=this.ring,p=this.total,f=this.count++;if(d.length<p)d.push(l);else{var v=f%p;d[v]=l}},o.prototype._complete=function(){var l=this.destination,d=this.count;if(d>0)for(var p=this.count>=this.total?this.total:this.count,f=this.ring,v=0;v<p;v++){var h=d++%p;l.next(f[h])}l.complete()},o}(t.Subscriber)}),A5r=xe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=fd(),t=uu(),n=HB(),i=P2(),c=vd(),u=go();function a(s,o){var l=arguments.length>=2;return function(d){return d.pipe(s?t.filter(function(p,f){return s(p,f,d)}):u.identity,n.takeLast(1),l?c.defaultIfEmpty(o):i.throwIfEmpty(function(){return new r.EmptyError}))}}e.last=a}),M5r=xe(e=>{"use strict";var r=e&&e.__extends||function(){var u=function(a,s){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var d in l)l.hasOwnProperty(d)&&(o[d]=l[d])},u(a,s)};return function(a,s){u(a,s);function o(){this.constructor=a}a.prototype=s===null?Object.create(s):(o.prototype=s.prototype,new o)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=pr();function n(u){return function(a){return a.lift(new i(u))}}e.mapTo=n;var i=function(){function u(a){this.value=a}return u.prototype.call=function(a,s){return s.subscribe(new c(a,this.value))},u}(),c=function(u){r(a,u);function a(s,o){var l=u.call(this,s)||this;return l.value=o,l}return a.prototype._next=function(s){this.destination.next(this.value)},a}(t.Subscriber)}),P5r=xe(e=>{"use strict";var r=e&&e.__extends||function(){var a=function(s,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,d){l.__proto__=d}||function(l,d){for(var p in d)d.hasOwnProperty(p)&&(l[p]=d[p])},a(s,o)};return function(s,o){a(s,o);function l(){this.constructor=s}s.prototype=o===null?Object.create(o):(l.prototype=o.prototype,new l)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=pr(),n=x2();function i(){return function(a){return a.lift(new c)}}e.materialize=i;var c=function(){function a(){}return a.prototype.call=function(s,o){return o.subscribe(new u(s))},a}(),u=function(a){r(s,a);function s(o){return a.call(this,o)||this}return s.prototype._next=function(o){this.destination.next(n.Notification.createNext(o))},s.prototype._error=function(o){var l=this.destination;l.next(n.Notification.createError(o)),l.complete()},s.prototype._complete=function(){var o=this.destination;o.next(n.Notification.createComplete()),o.complete()},s}(t.Subscriber)}),WB=xe(e=>{"use strict";var r=e&&e.__extends||function(){var u=function(a,s){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var d in l)l.hasOwnProperty(d)&&(o[d]=l[d])},u(a,s)};return function(a,s){u(a,s);function o(){this.constructor=a}a.prototype=s===null?Object.create(s):(o.prototype=s.prototype,new o)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=pr();function n(u,a){var s=!1;return arguments.length>=2&&(s=!0),function(o){return o.lift(new i(u,a,s))}}e.scan=n;var i=function(){function u(a,s,o){o===void 0&&(o=!1),this.accumulator=a,this.seed=s,this.hasSeed=o}return u.prototype.call=function(a,s){return s.subscribe(new c(a,this.accumulator,this.seed,this.hasSeed))},u}(),c=function(u){r(a,u);function a(s,o,l,d){var p=u.call(this,s)||this;return p.accumulator=o,p._seed=l,p.hasSeed=d,p.index=0,p}return Object.defineProperty(a.prototype,"seed",{get:function(){return this._seed},set:function(s){this.hasSeed=!0,this._seed=s},enumerable:!0,configurable:!0}),a.prototype._next=function(s){if(!this.hasSeed)this.seed=s,this.destination.next(s);else return this._tryNext(s)},a.prototype._tryNext=function(s){var o=this.index++,l;try{l=this.accumulator(this.seed,s,o)}catch(d){this.destination.error(d)}this.seed=l,this.destination.next(l)},a}(t.Subscriber)}),E2=xe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=WB(),t=HB(),n=vd(),i=kB();function c(u,a){return arguments.length>=2?function(s){return i.pipe(r.scan(u,a),t.takeLast(1),n.defaultIfEmpty(a))(s)}:function(s){return i.pipe(r.scan(function(o,l,d){return u(o,l,d+1)}),t.takeLast(1))(s)}}e.reduce=c}),E5r=xe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=E2();function t(n){var i=typeof n=="function"?function(c,u){return n(c,u)>0?c:u}:function(c,u){return c>u?c:u};return r.reduce(i)}e.max=t}),q5r=xe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Pae();function t(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return function(c){return c.lift.call(r.merge.apply(void 0,[c].concat(n)))}}e.merge=t}),I5r=xe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=N2();function t(n,i,c){return c===void 0&&(c=Number.POSITIVE_INFINITY),typeof i=="function"?r.mergeMap(function(){return n},i,c):(typeof i=="number"&&(c=i),r.mergeMap(function(){return n},c))}e.mergeMapTo=t}),B5r=xe(e=>{"use strict";var r=e&&e.__extends||function(){var u=function(a,s){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var d in l)l.hasOwnProperty(d)&&(o[d]=l[d])},u(a,s)};return function(a,s){u(a,s);function o(){this.constructor=a}a.prototype=s===null?Object.create(s):(o.prototype=s.prototype,new o)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=ht();function n(u,a,s){return s===void 0&&(s=Number.POSITIVE_INFINITY),function(o){return o.lift(new i(u,a,s))}}e.mergeScan=n;var i=function(){function u(a,s,o){this.accumulator=a,this.seed=s,this.concurrent=o}return u.prototype.call=function(a,s){return s.subscribe(new c(a,this.accumulator,this.seed,this.concurrent))},u}();e.MergeScanOperator=i;var c=function(u){r(a,u);function a(s,o,l,d){var p=u.call(this,s)||this;return p.accumulator=o,p.acc=l,p.concurrent=d,p.hasValue=!1,p.hasCompleted=!1,p.buffer=[],p.active=0,p.index=0,p}return a.prototype._next=function(s){if(this.active<this.concurrent){var o=this.index++,l=this.destination,d=void 0;try{var p=this.accumulator;d=p(this.acc,s,o)}catch(f){return l.error(f)}this.active++,this._innerSub(d)}else this.buffer.push(s)},a.prototype._innerSub=function(s){var o=new t.SimpleInnerSubscriber(this),l=this.destination;l.add(o);var d=t.innerSubscribe(s,o);d!==o&&l.add(d)},a.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete()),this.unsubscribe()},a.prototype.notifyNext=function(s){var o=this.destination;this.acc=s,this.hasValue=!0,o.next(s)},a.prototype.notifyComplete=function(){var s=this.buffer;this.active--,s.length>0?this._next(s.shift()):this.active===0&&this.hasCompleted&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete())},a}(t.SimpleOuterSubscriber);e.MergeScanSubscriber=c}),k5r=xe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=E2();function t(n){var i=typeof n=="function"?function(c,u){return n(c,u)<0?c:u}:function(c,u){return c<u?c:u};return r.reduce(i)}e.min=t}),lu=xe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=yae();function t(i,c){return function(u){var a;if(typeof i=="function"?a=i:a=function(){return i},typeof c=="function")return u.lift(new n(a,c));var s=Object.create(u,r.connectableObservableDescriptor);return s.source=u,s.subjectFactory=a,s}}e.multicast=t;var n=function(){function i(c,u){this.subjectFactory=c,this.selector=u}return i.prototype.call=function(c,u){var a=this.selector,s=this.subjectFactory(),o=a(s).subscribe(c);return o.add(u.subscribe(s)),o},i}();e.MulticastOperator=n}),j5r=xe(e=>{"use strict";var r=e&&e.__extends||function(){var o=function(l,d){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,f){p.__proto__=f}||function(p,f){for(var v in f)f.hasOwnProperty(v)&&(p[v]=f[v])},o(l,d)};return function(l,d){o(l,d);function p(){this.constructor=l}l.prototype=d===null?Object.create(d):(p.prototype=d.prototype,new p)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=Bi(),n=Pn(),i=ht();function c(){for(var o=[],l=0;l<arguments.length;l++)o[l]=arguments[l];return o.length===1&&n.isArray(o[0])&&(o=o[0]),function(d){return d.lift(new a(o))}}e.onErrorResumeNext=c;function u(){for(var o=[],l=0;l<arguments.length;l++)o[l]=arguments[l];var d=void 0;return o.length===1&&n.isArray(o[0])&&(o=o[0]),d=o.shift(),t.from(d).lift(new a(o))}e.onErrorResumeNextStatic=u;var a=function(){function o(l){this.nextSources=l}return o.prototype.call=function(l,d){return d.subscribe(new s(l,this.nextSources))},o}(),s=function(o){r(l,o);function l(d,p){var f=o.call(this,d)||this;return f.destination=d,f.nextSources=p,f}return l.prototype.notifyError=function(){this.subscribeToNextSource()},l.prototype.notifyComplete=function(){this.subscribeToNextSource()},l.prototype._error=function(d){this.subscribeToNextSource(),this.unsubscribe()},l.prototype._complete=function(){this.subscribeToNextSource(),this.unsubscribe()},l.prototype.subscribeToNextSource=function(){var d=this.nextSources.shift();if(d){var p=new i.SimpleInnerSubscriber(this),f=this.destination;f.add(p);var v=i.innerSubscribe(d,p);v!==p&&f.add(v)}else this.destination.complete()},l}(i.SimpleOuterSubscriber)}),T5r=xe(e=>{"use strict";var r=e&&e.__extends||function(){var u=function(a,s){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var d in l)l.hasOwnProperty(d)&&(o[d]=l[d])},u(a,s)};return function(a,s){u(a,s);function o(){this.constructor=a}a.prototype=s===null?Object.create(s):(o.prototype=s.prototype,new o)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=pr();function n(){return function(u){return u.lift(new i)}}e.pairwise=n;var i=function(){function u(){}return u.prototype.call=function(a,s){return s.subscribe(new c(a))},u}(),c=function(u){r(a,u);function a(s){var o=u.call(this,s)||this;return o.hasPrev=!1,o}return a.prototype._next=function(s){var o;this.hasPrev?o=[this.prev,s]:this.hasPrev=!0,this.prev=s,o&&this.destination.next(o)},a}(t.Subscriber)}),R5r=xe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Eae(),t=uu();function n(i,c){return function(u){return[t.filter(i,c)(u),t.filter(r.not(i,c))(u)]}}e.partition=n}),F5r=xe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Wn();function t(){for(var i=[],c=0;c<arguments.length;c++)i[c]=arguments[c];var u=i.length;if(u===0)throw new Error("list of properties cannot be empty.");return function(a){return r.map(n(i,u))(a)}}e.pluck=t;function n(i,c){var u=function(a){for(var s=a,o=0;o<c;o++){var l=s?.[i[o]];if(l!==void 0)s=l;else return}return s};return u}}),L5r=xe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=yn(),t=lu();function n(i){return i?t.multicast(function(){return new r.Subject},i):t.multicast(new r.Subject)}e.publish=n}),U5r=xe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=bae(),t=lu();function n(i){return function(c){return t.multicast(new r.BehaviorSubject(i))(c)}}e.publishBehavior=n}),z5r=xe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=O2(),t=lu();function n(){return function(i){return t.multicast(new r.AsyncSubject)(i)}}e.publishLast=n}),J5r=xe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=FB(),t=lu();function n(i,c,u,a){u&&typeof u!="function"&&(a=u);var s=typeof u=="function"?u:void 0,o=new r.ReplaySubject(i,c,a);return function(l){return t.multicast(function(){return o},s)(l)}}e.publishReplay=n}),V5r=xe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Pn(),t=qae();function n(){for(var i=[],c=0;c<arguments.length;c++)i[c]=arguments[c];return function(u){return i.length===1&&r.isArray(i[0])&&(i=i[0]),u.lift.call(t.race.apply(void 0,[u].concat(i)))}}e.race=n}),G5r=xe(e=>{"use strict";var r=e&&e.__extends||function(){var a=function(s,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,d){l.__proto__=d}||function(l,d){for(var p in d)d.hasOwnProperty(p)&&(l[p]=d[p])},a(s,o)};return function(s,o){a(s,o);function l(){this.constructor=s}s.prototype=o===null?Object.create(o):(l.prototype=o.prototype,new l)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=pr(),n=Ei();function i(a){return a===void 0&&(a=-1),function(s){return a===0?n.empty():a<0?s.lift(new c(-1,s)):s.lift(new c(a-1,s))}}e.repeat=i;var c=function(){function a(s,o){this.count=s,this.source=o}return a.prototype.call=function(s,o){return o.subscribe(new u(s,this.count,this.source))},a}(),u=function(a){r(s,a);function s(o,l,d){var p=a.call(this,o)||this;return p.count=l,p.source=d,p}return s.prototype.complete=function(){if(!this.isStopped){var o=this,l=o.source,d=o.count;if(d===0)return a.prototype.complete.call(this);d>-1&&(this.count=d-1),l.subscribe(this._unsubscribeAndRecycle())}},s}(t.Subscriber)}),H5r=xe(e=>{"use strict";var r=e&&e.__extends||function(){var a=function(s,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,d){l.__proto__=d}||function(l,d){for(var p in d)d.hasOwnProperty(p)&&(l[p]=d[p])},a(s,o)};return function(s,o){a(s,o);function l(){this.constructor=s}s.prototype=o===null?Object.create(o):(l.prototype=o.prototype,new l)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=yn(),n=ht();function i(a){return function(s){return s.lift(new c(a))}}e.repeatWhen=i;var c=function(){function a(s){this.notifier=s}return a.prototype.call=function(s,o){return o.subscribe(new u(s,this.notifier,o))},a}(),u=function(a){r(s,a);function s(o,l,d){var p=a.call(this,o)||this;return p.notifier=l,p.source=d,p.sourceIsBeingSubscribedTo=!0,p}return s.prototype.notifyNext=function(){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)},s.prototype.notifyComplete=function(){if(this.sourceIsBeingSubscribedTo===!1)return a.prototype.complete.call(this)},s.prototype.complete=function(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return a.prototype.complete.call(this);this._unsubscribeAndRecycle(),this.notifications.next(void 0)}},s.prototype._unsubscribe=function(){var o=this,l=o.notifications,d=o.retriesSubscription;l&&(l.unsubscribe(),this.notifications=void 0),d&&(d.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},s.prototype._unsubscribeAndRecycle=function(){var o=this._unsubscribe;return this._unsubscribe=null,a.prototype._unsubscribeAndRecycle.call(this),this._unsubscribe=o,this},s.prototype.subscribeToRetries=function(){this.notifications=new t.Subject;var o;try{var l=this.notifier;o=l(this.notifications)}catch{return a.prototype.complete.call(this)}this.retries=o,this.retriesSubscription=n.innerSubscribe(o,new n.SimpleInnerSubscriber(this))},s}(n.SimpleOuterSubscriber)}),W5r=xe(e=>{"use strict";var r=e&&e.__extends||function(){var u=function(a,s){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var d in l)l.hasOwnProperty(d)&&(o[d]=l[d])},u(a,s)};return function(a,s){u(a,s);function o(){this.constructor=a}a.prototype=s===null?Object.create(s):(o.prototype=s.prototype,new o)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=pr();function n(u){return u===void 0&&(u=-1),function(a){return a.lift(new i(u,a))}}e.retry=n;var i=function(){function u(a,s){this.count=a,this.source=s}return u.prototype.call=function(a,s){return s.subscribe(new c(a,this.count,this.source))},u}(),c=function(u){r(a,u);function a(s,o,l){var d=u.call(this,s)||this;return d.count=o,d.source=l,d}return a.prototype.error=function(s){if(!this.isStopped){var o=this,l=o.source,d=o.count;if(d===0)return u.prototype.error.call(this,s);d>-1&&(this.count=d-1),l.subscribe(this._unsubscribeAndRecycle())}},a}(t.Subscriber)}),$5r=xe(e=>{"use strict";var r=e&&e.__extends||function(){var a=function(s,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,d){l.__proto__=d}||function(l,d){for(var p in d)d.hasOwnProperty(p)&&(l[p]=d[p])},a(s,o)};return function(s,o){a(s,o);function l(){this.constructor=s}s.prototype=o===null?Object.create(o):(l.prototype=o.prototype,new l)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=yn(),n=ht();function i(a){return function(s){return s.lift(new c(a,s))}}e.retryWhen=i;var c=function(){function a(s,o){this.notifier=s,this.source=o}return a.prototype.call=function(s,o){return o.subscribe(new u(s,this.notifier,this.source))},a}(),u=function(a){r(s,a);function s(o,l,d){var p=a.call(this,o)||this;return p.notifier=l,p.source=d,p}return s.prototype.error=function(o){if(!this.isStopped){var l=this.errors,d=this.retries,p=this.retriesSubscription;if(d)this.errors=void 0,this.retriesSubscription=void 0;else{l=new t.Subject;try{var f=this.notifier;d=f(l)}catch(v){return a.prototype.error.call(this,v)}p=n.innerSubscribe(d,new n.SimpleInnerSubscriber(this))}this._unsubscribeAndRecycle(),this.errors=l,this.retries=d,this.retriesSubscription=p,l.next(o)}},s.prototype._unsubscribe=function(){var o=this,l=o.errors,d=o.retriesSubscription;l&&(l.unsubscribe(),this.errors=void 0),d&&(d.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},s.prototype.notifyNext=function(){var o=this._unsubscribe;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=o,this.source.subscribe(this)},s}(n.SimpleOuterSubscriber)}),Q5r=xe(e=>{"use strict";var r=e&&e.__extends||function(){var u=function(a,s){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var d in l)l.hasOwnProperty(d)&&(o[d]=l[d])},u(a,s)};return function(a,s){u(a,s);function o(){this.constructor=a}a.prototype=s===null?Object.create(s):(o.prototype=s.prototype,new o)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=ht();function n(u){return function(a){return a.lift(new i(u))}}e.sample=n;var i=function(){function u(a){this.notifier=a}return u.prototype.call=function(a,s){var o=new c(a),l=s.subscribe(o);return l.add(t.innerSubscribe(this.notifier,new t.SimpleInnerSubscriber(o))),l},u}(),c=function(u){r(a,u);function a(){var s=u!==null&&u.apply(this,arguments)||this;return s.hasValue=!1,s}return a.prototype._next=function(s){this.value=s,this.hasValue=!0},a.prototype.notifyNext=function(){this.emitValue()},a.prototype.notifyComplete=function(){this.emitValue()},a.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},a}(t.SimpleOuterSubscriber)}),Y5r=xe(e=>{"use strict";var r=e&&e.__extends||function(){var s=function(o,l){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,p){d.__proto__=p}||function(d,p){for(var f in p)p.hasOwnProperty(f)&&(d[f]=p[f])},s(o,l)};return function(o,l){s(o,l);function d(){this.constructor=o}o.prototype=l===null?Object.create(l):(d.prototype=l.prototype,new d)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=pr(),n=En();function i(s,o){return o===void 0&&(o=n.async),function(l){return l.lift(new c(s,o))}}e.sampleTime=i;var c=function(){function s(o,l){this.period=o,this.scheduler=l}return s.prototype.call=function(o,l){return l.subscribe(new u(o,this.period,this.scheduler))},s}(),u=function(s){r(o,s);function o(l,d,p){var f=s.call(this,l)||this;return f.period=d,f.scheduler=p,f.hasValue=!1,f.add(p.schedule(a,d,{subscriber:f,period:d})),f}return o.prototype._next=function(l){this.lastValue=l,this.hasValue=!0},o.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},o}(t.Subscriber);function a(s){var o=s.subscriber,l=s.period;o.notifyNext(),this.schedule(s,l)}}),Z5r=xe(e=>{"use strict";var r=e&&e.__extends||function(){var a=function(s,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,d){l.__proto__=d}||function(l,d){for(var p in d)d.hasOwnProperty(p)&&(l[p]=d[p])},a(s,o)};return function(s,o){a(s,o);function l(){this.constructor=s}s.prototype=o===null?Object.create(o):(l.prototype=o.prototype,new l)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=pr();function n(a,s){return function(o){return o.lift(new i(a,s))}}e.sequenceEqual=n;var i=function(){function a(s,o){this.compareTo=s,this.comparator=o}return a.prototype.call=function(s,o){return o.subscribe(new c(s,this.compareTo,this.comparator))},a}();e.SequenceEqualOperator=i;var c=function(a){r(s,a);function s(o,l,d){var p=a.call(this,o)||this;return p.compareTo=l,p.comparator=d,p._a=[],p._b=[],p._oneComplete=!1,p.destination.add(l.subscribe(new u(o,p))),p}return s.prototype._next=function(o){this._oneComplete&&this._b.length===0?this.emit(!1):(this._a.push(o),this.checkValues())},s.prototype._complete=function(){this._oneComplete?this.emit(this._a.length===0&&this._b.length===0):this._oneComplete=!0,this.unsubscribe()},s.prototype.checkValues=function(){for(var o=this,l=o._a,d=o._b,p=o.comparator;l.length>0&&d.length>0;){var f=l.shift(),v=d.shift(),h=!1;try{h=p?p(f,v):f===v}catch(m){this.destination.error(m)}h||this.emit(!1)}},s.prototype.emit=function(o){var l=this.destination;l.next(o),l.complete()},s.prototype.nextB=function(o){this._oneComplete&&this._a.length===0?this.emit(!1):(this._b.push(o),this.checkValues())},s.prototype.completeB=function(){this._oneComplete?this.emit(this._a.length===0&&this._b.length===0):this._oneComplete=!0},s}(t.Subscriber);e.SequenceEqualSubscriber=c;var u=function(a){r(s,a);function s(o,l){var d=a.call(this,o)||this;return d.parent=l,d}return s.prototype._next=function(o){this.parent.nextB(o)},s.prototype._error=function(o){this.parent.error(o),this.unsubscribe()},s.prototype._complete=function(){this.parent.completeB(),this.unsubscribe()},s}(t.Subscriber)}),X5r=xe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=lu(),t=jB(),n=yn();function i(){return new n.Subject}function c(){return function(u){return t.refCount()(r.multicast(i)(u))}}e.share=c}),K5r=xe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=FB();function t(i,c,u){var a;return i&&typeof i=="object"?a=i:a={bufferSize:i,windowTime:c,refCount:!1,scheduler:u},function(s){return s.lift(n(a))}}e.shareReplay=t;function n(i){var c=i.bufferSize,u=c===void 0?Number.POSITIVE_INFINITY:c,a=i.windowTime,s=a===void 0?Number.POSITIVE_INFINITY:a,o=i.refCount,l=i.scheduler,d,p=0,f,v=!1,h=!1;return function(m){p++;var y;!d||v?(v=!1,d=new r.ReplaySubject(u,s,l),y=d.subscribe(this),f=m.subscribe({next:function(g){d.next(g)},error:function(g){v=!0,d.error(g)},complete:function(){h=!0,f=void 0,d.complete()}}),h&&(f=void 0)):y=d.subscribe(this),this.add(function(){p--,y.unsubscribe(),y=void 0,f&&!h&&o&&p===0&&(f.unsubscribe(),f=void 0,d=void 0)})}}}),e6r=xe(e=>{"use strict";var r=e&&e.__extends||function(){var a=function(s,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,d){l.__proto__=d}||function(l,d){for(var p in d)d.hasOwnProperty(p)&&(l[p]=d[p])},a(s,o)};return function(s,o){a(s,o);function l(){this.constructor=s}s.prototype=o===null?Object.create(o):(l.prototype=o.prototype,new l)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=pr(),n=fd();function i(a){return function(s){return s.lift(new c(a,s))}}e.single=i;var c=function(){function a(s,o){this.predicate=s,this.source=o}return a.prototype.call=function(s,o){return o.subscribe(new u(s,this.predicate,this.source))},a}(),u=function(a){r(s,a);function s(o,l,d){var p=a.call(this,o)||this;return p.predicate=l,p.source=d,p.seenValue=!1,p.index=0,p}return s.prototype.applySingleValue=function(o){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=o)},s.prototype._next=function(o){var l=this.index++;this.predicate?this.tryNext(o,l):this.applySingleValue(o)},s.prototype.tryNext=function(o,l){try{this.predicate(o,l,this.source)&&this.applySingleValue(o)}catch(d){this.destination.error(d)}},s.prototype._complete=function(){var o=this.destination;this.index>0?(o.next(this.seenValue?this.singleValue:void 0),o.complete()):o.error(new n.EmptyError)},s}(t.Subscriber)}),r6r=xe(e=>{"use strict";var r=e&&e.__extends||function(){var u=function(a,s){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var d in l)l.hasOwnProperty(d)&&(o[d]=l[d])},u(a,s)};return function(a,s){u(a,s);function o(){this.constructor=a}a.prototype=s===null?Object.create(s):(o.prototype=s.prototype,new o)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=pr();function n(u){return function(a){return a.lift(new i(u))}}e.skip=n;var i=function(){function u(a){this.total=a}return u.prototype.call=function(a,s){return s.subscribe(new c(a,this.total))},u}(),c=function(u){r(a,u);function a(s,o){var l=u.call(this,s)||this;return l.total=o,l.count=0,l}return a.prototype._next=function(s){++this.count>this.total&&this.destination.next(s)},a}(t.Subscriber)}),t6r=xe(e=>{"use strict";var r=e&&e.__extends||function(){var a=function(s,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,d){l.__proto__=d}||function(l,d){for(var p in d)d.hasOwnProperty(p)&&(l[p]=d[p])},a(s,o)};return function(s,o){a(s,o);function l(){this.constructor=s}s.prototype=o===null?Object.create(o):(l.prototype=o.prototype,new l)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=pr(),n=pd();function i(a){return function(s){return s.lift(new c(a))}}e.skipLast=i;var c=function(){function a(s){if(this._skipCount=s,this._skipCount<0)throw new n.ArgumentOutOfRangeError}return a.prototype.call=function(s,o){return this._skipCount===0?o.subscribe(new t.Subscriber(s)):o.subscribe(new u(s,this._skipCount))},a}(),u=function(a){r(s,a);function s(o,l){var d=a.call(this,o)||this;return d._skipCount=l,d._count=0,d._ring=new Array(l),d}return s.prototype._next=function(o){var l=this._skipCount,d=this._count++;if(d<l)this._ring[d]=o;else{var p=d%l,f=this._ring,v=f[p];f[p]=o,this.destination.next(v)}},s}(t.Subscriber)}),n6r=xe(e=>{"use strict";var r=e&&e.__extends||function(){var u=function(a,s){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var d in l)l.hasOwnProperty(d)&&(o[d]=l[d])},u(a,s)};return function(a,s){u(a,s);function o(){this.constructor=a}a.prototype=s===null?Object.create(s):(o.prototype=s.prototype,new o)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=ht();function n(u){return function(a){return a.lift(new i(u))}}e.skipUntil=n;var i=function(){function u(a){this.notifier=a}return u.prototype.call=function(a,s){return s.subscribe(new c(a,this.notifier))},u}(),c=function(u){r(a,u);function a(s,o){var l=u.call(this,s)||this;l.hasValue=!1;var d=new t.SimpleInnerSubscriber(l);l.add(d),l.innerSubscription=d;var p=t.innerSubscribe(o,d);return p!==d&&(l.add(p),l.innerSubscription=p),l}return a.prototype._next=function(s){this.hasValue&&u.prototype._next.call(this,s)},a.prototype.notifyNext=function(){this.hasValue=!0,this.innerSubscription&&this.innerSubscription.unsubscribe()},a.prototype.notifyComplete=function(){},a}(t.SimpleOuterSubscriber)}),i6r=xe(e=>{"use strict";var r=e&&e.__extends||function(){var u=function(a,s){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var d in l)l.hasOwnProperty(d)&&(o[d]=l[d])},u(a,s)};return function(a,s){u(a,s);function o(){this.constructor=a}a.prototype=s===null?Object.create(s):(o.prototype=s.prototype,new o)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=pr();function n(u){return function(a){return a.lift(new i(u))}}e.skipWhile=n;var i=function(){function u(a){this.predicate=a}return u.prototype.call=function(a,s){return s.subscribe(new c(a,this.predicate))},u}(),c=function(u){r(a,u);function a(s,o){var l=u.call(this,s)||this;return l.predicate=o,l.skipping=!0,l.index=0,l}return a.prototype._next=function(s){var o=this.destination;this.skipping&&this.tryCallPredicate(s),this.skipping||o.next(s)},a.prototype.tryCallPredicate=function(s){try{var o=this.predicate(s,this.index++);this.skipping=Boolean(o)}catch(l){this.destination.error(l)}},a}(t.Subscriber)}),a6r=xe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=C2(),t=Ii();function n(){for(var i=[],c=0;c<arguments.length;c++)i[c]=arguments[c];var u=i[i.length-1];return t.isScheduler(u)?(i.pop(),function(a){return r.concat(i,a,u)}):function(a){return r.concat(i,a)}}e.startWith=n}),s6r=xe(e=>{"use strict";var r=e&&e.__extends||function(){var u=function(a,s){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var d in l)l.hasOwnProperty(d)&&(o[d]=l[d])},u(a,s)};return function(a,s){u(a,s);function o(){this.constructor=a}a.prototype=s===null?Object.create(s):(o.prototype=s.prototype,new o)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=Lr(),n=Oae(),i=A2(),c=function(u){r(a,u);function a(s,o,l){o===void 0&&(o=0),l===void 0&&(l=n.asap);var d=u.call(this)||this;return d.source=s,d.delayTime=o,d.scheduler=l,(!i.isNumeric(o)||o<0)&&(d.delayTime=0),(!l||typeof l.schedule!="function")&&(d.scheduler=n.asap),d}return a.create=function(s,o,l){return o===void 0&&(o=0),l===void 0&&(l=n.asap),new a(s,o,l)},a.dispatch=function(s){var o=s.source,l=s.subscriber;return this.add(o.subscribe(l))},a.prototype._subscribe=function(s){var o=this.delayTime,l=this.source,d=this.scheduler;return d.schedule(a.dispatch,o,{source:l,subscriber:s})},a}(t.Observable);e.SubscribeOnObservable=c}),o6r=xe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=s6r();function t(i,c){return c===void 0&&(c=0),function(u){return u.lift(new n(i,c))}}e.subscribeOn=t;var n=function(){function i(c,u){this.scheduler=c,this.delay=u}return i.prototype.call=function(c,u){return new r.SubscribeOnObservable(u,this.delay,this.scheduler).subscribe(c)},i}()}),$B=xe(e=>{"use strict";var r=e&&e.__extends||function(){var s=function(o,l){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,p){d.__proto__=p}||function(d,p){for(var f in p)p.hasOwnProperty(f)&&(d[f]=p[f])},s(o,l)};return function(o,l){s(o,l);function d(){this.constructor=o}o.prototype=l===null?Object.create(l):(d.prototype=l.prototype,new d)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=Wn(),n=Bi(),i=ht();function c(s,o){return typeof o=="function"?function(l){return l.pipe(c(function(d,p){return n.from(s(d,p)).pipe(t.map(function(f,v){return o(d,f,p,v)}))}))}:function(l){return l.lift(new u(s))}}e.switchMap=c;var u=function(){function s(o){this.project=o}return s.prototype.call=function(o,l){return l.subscribe(new a(o,this.project))},s}(),a=function(s){r(o,s);function o(l,d){var p=s.call(this,l)||this;return p.project=d,p.index=0,p}return o.prototype._next=function(l){var d,p=this.index++;try{d=this.project(l,p)}catch(f){this.destination.error(f);return}this._innerSub(d)},o.prototype._innerSub=function(l){var d=this.innerSubscription;d&&d.unsubscribe();var p=new i.SimpleInnerSubscriber(this),f=this.destination;f.add(p),this.innerSubscription=i.innerSubscribe(l,p),this.innerSubscription!==p&&f.add(this.innerSubscription)},o.prototype._complete=function(){var l=this.innerSubscription;(!l||l.closed)&&s.prototype._complete.call(this),this.unsubscribe()},o.prototype._unsubscribe=function(){this.innerSubscription=void 0},o.prototype.notifyComplete=function(){this.innerSubscription=void 0,this.isStopped&&s.prototype._complete.call(this)},o.prototype.notifyNext=function(l){this.destination.next(l)},o}(i.SimpleOuterSubscriber)}),c6r=xe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=$B(),t=go();function n(){return r.switchMap(t.identity)}e.switchAll=n}),u6r=xe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=$B();function t(n,i){return i?r.switchMap(function(){return n},i):r.switchMap(function(){return n})}e.switchMapTo=t}),l6r=xe(e=>{"use strict";var r=e&&e.__extends||function(){var u=function(a,s){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var d in l)l.hasOwnProperty(d)&&(o[d]=l[d])},u(a,s)};return function(a,s){u(a,s);function o(){this.constructor=a}a.prototype=s===null?Object.create(s):(o.prototype=s.prototype,new o)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=ht();function n(u){return function(a){return a.lift(new i(u))}}e.takeUntil=n;var i=function(){function u(a){this.notifier=a}return u.prototype.call=function(a,s){var o=new c(a),l=t.innerSubscribe(this.notifier,new t.SimpleInnerSubscriber(o));return l&&!o.seenValue?(o.add(l),s.subscribe(o)):o},u}(),c=function(u){r(a,u);function a(s){var o=u.call(this,s)||this;return o.seenValue=!1,o}return a.prototype.notifyNext=function(){this.seenValue=!0,this.complete()},a.prototype.notifyComplete=function(){},a}(t.SimpleOuterSubscriber)}),d6r=xe(e=>{"use strict";var r=e&&e.__extends||function(){var u=function(a,s){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var d in l)l.hasOwnProperty(d)&&(o[d]=l[d])},u(a,s)};return function(a,s){u(a,s);function o(){this.constructor=a}a.prototype=s===null?Object.create(s):(o.prototype=s.prototype,new o)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=pr();function n(u,a){return a===void 0&&(a=!1),function(s){return s.lift(new i(u,a))}}e.takeWhile=n;var i=function(){function u(a,s){this.predicate=a,this.inclusive=s}return u.prototype.call=function(a,s){return s.subscribe(new c(a,this.predicate,this.inclusive))},u}(),c=function(u){r(a,u);function a(s,o,l){var d=u.call(this,s)||this;return d.predicate=o,d.inclusive=l,d.index=0,d}return a.prototype._next=function(s){var o=this.destination,l;try{l=this.predicate(s,this.index++)}catch(d){o.error(d);return}this.nextOrComplete(s,l)},a.prototype.nextOrComplete=function(s,o){var l=this.destination;Boolean(o)?l.next(s):(this.inclusive&&l.next(s),l.complete())},a}(t.Subscriber)}),p6r=xe(e=>{"use strict";var r=e&&e.__extends||function(){var s=function(o,l){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,p){d.__proto__=p}||function(d,p){for(var f in p)p.hasOwnProperty(f)&&(d[f]=p[f])},s(o,l)};return function(o,l){s(o,l);function d(){this.constructor=o}o.prototype=l===null?Object.create(l):(d.prototype=l.prototype,new d)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=pr(),n=LB(),i=cd();function c(s,o,l){return function(d){return d.lift(new u(s,o,l))}}e.tap=c;var u=function(){function s(o,l,d){this.nextOrObserver=o,this.error=l,this.complete=d}return s.prototype.call=function(o,l){return l.subscribe(new a(o,this.nextOrObserver,this.error,this.complete))},s}(),a=function(s){r(o,s);function o(l,d,p,f){var v=s.call(this,l)||this;return v._tapNext=n.noop,v._tapError=n.noop,v._tapComplete=n.noop,v._tapError=p||n.noop,v._tapComplete=f||n.noop,i.isFunction(d)?(v._context=v,v._tapNext=d):d&&(v._context=d,v._tapNext=d.next||n.noop,v._tapError=d.error||n.noop,v._tapComplete=d.complete||n.noop),v}return o.prototype._next=function(l){try{this._tapNext.call(this._context,l)}catch(d){this.destination.error(d);return}this.destination.next(l)},o.prototype._error=function(l){try{this._tapError.call(this._context,l)}catch(d){this.destination.error(d);return}this.destination.error(l)},o.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(l){this.destination.error(l);return}return this.destination.complete()},o}(t.Subscriber)}),Fae=xe(e=>{"use strict";var r=e&&e.__extends||function(){var u=function(a,s){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var d in l)l.hasOwnProperty(d)&&(o[d]=l[d])},u(a,s)};return function(a,s){u(a,s);function o(){this.constructor=a}a.prototype=s===null?Object.create(s):(o.prototype=s.prototype,new o)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=ht();e.defaultThrottleConfig={leading:!0,trailing:!1};function n(u,a){return a===void 0&&(a=e.defaultThrottleConfig),function(s){return s.lift(new i(u,!!a.leading,!!a.trailing))}}e.throttle=n;var i=function(){function u(a,s,o){this.durationSelector=a,this.leading=s,this.trailing=o}return u.prototype.call=function(a,s){return s.subscribe(new c(a,this.durationSelector,this.leading,this.trailing))},u}(),c=function(u){r(a,u);function a(s,o,l,d){var p=u.call(this,s)||this;return p.destination=s,p.durationSelector=o,p._leading=l,p._trailing=d,p._hasValue=!1,p}return a.prototype._next=function(s){this._hasValue=!0,this._sendValue=s,this._throttled||(this._leading?this.send():this.throttle(s))},a.prototype.send=function(){var s=this,o=s._hasValue,l=s._sendValue;o&&(this.destination.next(l),this.throttle(l)),this._hasValue=!1,this._sendValue=void 0},a.prototype.throttle=function(s){var o=this.tryDurationSelector(s);o&&this.add(this._throttled=t.innerSubscribe(o,new t.SimpleInnerSubscriber(this)))},a.prototype.tryDurationSelector=function(s){try{return this.durationSelector(s)}catch(o){return this.destination.error(o),null}},a.prototype.throttlingDone=function(){var s=this,o=s._throttled,l=s._trailing;o&&o.unsubscribe(),this._throttled=void 0,l&&this.send()},a.prototype.notifyNext=function(){this.throttlingDone()},a.prototype.notifyComplete=function(){this.throttlingDone()},a}(t.SimpleOuterSubscriber)}),f6r=xe(e=>{"use strict";var r=e&&e.__extends||function(){var o=function(l,d){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,f){p.__proto__=f}||function(p,f){for(var v in f)f.hasOwnProperty(v)&&(p[v]=f[v])},o(l,d)};return function(l,d){o(l,d);function p(){this.constructor=l}l.prototype=d===null?Object.create(d):(p.prototype=d.prototype,new p)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=pr(),n=En(),i=Fae();function c(o,l,d){return l===void 0&&(l=n.async),d===void 0&&(d=i.defaultThrottleConfig),function(p){return p.lift(new u(o,l,d.leading,d.trailing))}}e.throttleTime=c;var u=function(){function o(l,d,p,f){this.duration=l,this.scheduler=d,this.leading=p,this.trailing=f}return o.prototype.call=function(l,d){return d.subscribe(new a(l,this.duration,this.scheduler,this.leading,this.trailing))},o}(),a=function(o){r(l,o);function l(d,p,f,v,h){var m=o.call(this,d)||this;return m.duration=p,m.scheduler=f,m.leading=v,m.trailing=h,m._hasTrailingValue=!1,m._trailingValue=null,m}return l.prototype._next=function(d){this.throttled?this.trailing&&(this._trailingValue=d,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(s,this.duration,{subscriber:this})),this.leading?this.destination.next(d):this.trailing&&(this._trailingValue=d,this._hasTrailingValue=!0))},l.prototype._complete=function(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()},l.prototype.clearThrottle=function(){var d=this.throttled;d&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),d.unsubscribe(),this.remove(d),this.throttled=null)},l}(t.Subscriber);function s(o){var l=o.subscriber;l.clearThrottle()}}),h6r=xe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=En(),t=WB(),n=JB(),i=Wn();function c(a){return a===void 0&&(a=r.async),function(s){return n.defer(function(){return s.pipe(t.scan(function(o,l){var d=o.current;return{value:l,current:a.now(),last:d}},{current:a.now(),value:void 0,last:void 0}),i.map(function(o){var l=o.current,d=o.last,p=o.value;return new u(p,l-d)}))})}}e.timeInterval=c;var u=function(){function a(s,o){this.value=s,this.interval=o}return a}();e.TimeInterval=u}),Lae=xe(e=>{"use strict";var r=e&&e.__extends||function(){var s=function(o,l){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,p){d.__proto__=p}||function(d,p){for(var f in p)p.hasOwnProperty(f)&&(d[f]=p[f])},s(o,l)};return function(o,l){s(o,l);function d(){this.constructor=o}o.prototype=l===null?Object.create(l):(d.prototype=l.prototype,new d)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=En(),n=jae(),i=ht();function c(s,o,l){return l===void 0&&(l=t.async),function(d){var p=n.isDate(s),f=p?+s-l.now():Math.abs(s);return d.lift(new u(f,p,o,l))}}e.timeoutWith=c;var u=function(){function s(o,l,d,p){this.waitFor=o,this.absoluteTimeout=l,this.withObservable=d,this.scheduler=p}return s.prototype.call=function(o,l){return l.subscribe(new a(o,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},s}(),a=function(s){r(o,s);function o(l,d,p,f,v){var h=s.call(this,l)||this;return h.absoluteTimeout=d,h.waitFor=p,h.withObservable=f,h.scheduler=v,h.scheduleTimeout(),h}return o.dispatchTimeout=function(l){var d=l.withObservable;l._unsubscribeAndRecycle(),l.add(i.innerSubscribe(d,new i.SimpleInnerSubscriber(l)))},o.prototype.scheduleTimeout=function(){var l=this.action;l?this.action=l.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(o.dispatchTimeout,this.waitFor,this))},o.prototype._next=function(l){this.absoluteTimeout||this.scheduleTimeout(),s.prototype._next.call(this,l)},o.prototype._unsubscribe=function(){this.action=void 0,this.scheduler=null,this.withObservable=null},o}(i.SimpleOuterSubscriber)}),v6r=xe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=En(),t=Dae(),n=Lae(),i=RB();function c(u,a){return a===void 0&&(a=r.async),n.timeoutWith(u,i.throwError(new t.TimeoutError),a)}e.timeout=c}),m6r=xe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=En(),t=Wn();function n(c){return c===void 0&&(c=r.async),t.map(function(u){return new i(u,c.now())})}e.timestamp=n;var i=function(){function c(u,a){this.value=u,this.timestamp=a}return c}();e.Timestamp=i}),y6r=xe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=E2();function t(i,c,u){return u===0?[c]:(i.push(c),i)}function n(){return r.reduce(t,[])}e.toArray=n}),g6r=xe(e=>{"use strict";var r=e&&e.__extends||function(){var a=function(s,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,d){l.__proto__=d}||function(l,d){for(var p in d)d.hasOwnProperty(p)&&(l[p]=d[p])},a(s,o)};return function(s,o){a(s,o);function l(){this.constructor=s}s.prototype=o===null?Object.create(o):(l.prototype=o.prototype,new l)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=yn(),n=ht();function i(a){return function(s){return s.lift(new c(a))}}e.window=i;var c=function(){function a(s){this.windowBoundaries=s}return a.prototype.call=function(s,o){var l=new u(s),d=o.subscribe(l);return d.closed||l.add(n.innerSubscribe(this.windowBoundaries,new n.SimpleInnerSubscriber(l))),d},a}(),u=function(a){r(s,a);function s(o){var l=a.call(this,o)||this;return l.window=new t.Subject,o.next(l.window),l}return s.prototype.notifyNext=function(){this.openWindow()},s.prototype.notifyError=function(o){this._error(o)},s.prototype.notifyComplete=function(){this._complete()},s.prototype._next=function(o){this.window.next(o)},s.prototype._error=function(o){this.window.error(o),this.destination.error(o)},s.prototype._complete=function(){this.window.complete(),this.destination.complete()},s.prototype._unsubscribe=function(){this.window=null},s.prototype.openWindow=function(){var o=this.window;o&&o.complete();var l=this.destination,d=this.window=new t.Subject;l.next(d)},s}(n.SimpleOuterSubscriber)}),b6r=xe(e=>{"use strict";var r=e&&e.__extends||function(){var a=function(s,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,d){l.__proto__=d}||function(l,d){for(var p in d)d.hasOwnProperty(p)&&(l[p]=d[p])},a(s,o)};return function(s,o){a(s,o);function l(){this.constructor=s}s.prototype=o===null?Object.create(o):(l.prototype=o.prototype,new l)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=pr(),n=yn();function i(a,s){return s===void 0&&(s=0),function(o){return o.lift(new c(a,s))}}e.windowCount=i;var c=function(){function a(s,o){this.windowSize=s,this.startWindowEvery=o}return a.prototype.call=function(s,o){return o.subscribe(new u(s,this.windowSize,this.startWindowEvery))},a}(),u=function(a){r(s,a);function s(o,l,d){var p=a.call(this,o)||this;return p.destination=o,p.windowSize=l,p.startWindowEvery=d,p.windows=[new n.Subject],p.count=0,o.next(p.windows[0]),p}return s.prototype._next=function(o){for(var l=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,d=this.destination,p=this.windowSize,f=this.windows,v=f.length,h=0;h<v&&!this.closed;h++)f[h].next(o);var m=this.count-p+1;if(m>=0&&m%l===0&&!this.closed&&f.shift().complete(),++this.count%l===0&&!this.closed){var y=new n.Subject;f.push(y),d.next(y)}},s.prototype._error=function(o){var l=this.windows;if(l)for(;l.length>0&&!this.closed;)l.shift().error(o);this.destination.error(o)},s.prototype._complete=function(){var o=this.windows;if(o)for(;o.length>0&&!this.closed;)o.shift().complete();this.destination.complete()},s.prototype._unsubscribe=function(){this.count=0,this.windows=null},s}(t.Subscriber)}),_6r=xe(e=>{"use strict";var r=e&&e.__extends||function(){var v=function(h,m){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,g){y.__proto__=g}||function(y,g){for(var b in g)g.hasOwnProperty(b)&&(y[b]=g[b])},v(h,m)};return function(h,m){v(h,m);function y(){this.constructor=h}h.prototype=m===null?Object.create(m):(y.prototype=m.prototype,new y)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=yn(),n=En(),i=pr(),c=A2(),u=Ii();function a(v){var h=n.async,m=null,y=Number.POSITIVE_INFINITY;return u.isScheduler(arguments[3])&&(h=arguments[3]),u.isScheduler(arguments[2])?h=arguments[2]:c.isNumeric(arguments[2])&&(y=Number(arguments[2])),u.isScheduler(arguments[1])?h=arguments[1]:c.isNumeric(arguments[1])&&(m=Number(arguments[1])),function(g){return g.lift(new s(v,m,y,h))}}e.windowTime=a;var s=function(){function v(h,m,y,g){this.windowTimeSpan=h,this.windowCreationInterval=m,this.maxWindowSize=y,this.scheduler=g}return v.prototype.call=function(h,m){return m.subscribe(new l(h,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))},v}(),o=function(v){r(h,v);function h(){var m=v!==null&&v.apply(this,arguments)||this;return m._numberOfNextedValues=0,m}return h.prototype.next=function(m){this._numberOfNextedValues++,v.prototype.next.call(this,m)},Object.defineProperty(h.prototype,"numberOfNextedValues",{get:function(){return this._numberOfNextedValues},enumerable:!0,configurable:!0}),h}(t.Subject),l=function(v){r(h,v);function h(m,y,g,b,_){var S=v.call(this,m)||this;S.destination=m,S.windowTimeSpan=y,S.windowCreationInterval=g,S.maxWindowSize=b,S.scheduler=_,S.windows=[];var w=S.openWindow();if(g!==null&&g>=0){var O={subscriber:S,window:w,context:null},x={windowTimeSpan:y,windowCreationInterval:g,subscriber:S,scheduler:_};S.add(_.schedule(f,y,O)),S.add(_.schedule(p,g,x))}else{var N={subscriber:S,window:w,windowTimeSpan:y};S.add(_.schedule(d,y,N))}return S}return h.prototype._next=function(m){for(var y=this.windows,g=y.length,b=0;b<g;b++){var _=y[b];_.closed||(_.next(m),_.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(_))}},h.prototype._error=function(m){for(var y=this.windows;y.length>0;)y.shift().error(m);this.destination.error(m)},h.prototype._complete=function(){for(var m=this.windows;m.length>0;){var y=m.shift();y.closed||y.complete()}this.destination.complete()},h.prototype.openWindow=function(){var m=new o;this.windows.push(m);var y=this.destination;return y.next(m),m},h.prototype.closeWindow=function(m){m.complete();var y=this.windows;y.splice(y.indexOf(m),1)},h}(i.Subscriber);function d(v){var h=v.subscriber,m=v.windowTimeSpan,y=v.window;y&&h.closeWindow(y),v.window=h.openWindow(),this.schedule(v,m)}function p(v){var h=v.windowTimeSpan,m=v.subscriber,y=v.scheduler,g=v.windowCreationInterval,b=m.openWindow(),_=this,S={action:_,subscription:null},w={subscriber:m,window:b,context:S};S.subscription=y.schedule(f,h,w),_.add(S.subscription),_.schedule(v,g)}function f(v){var h=v.subscriber,m=v.window,y=v.context;y&&y.action&&y.subscription&&y.action.remove(y.subscription),h.closeWindow(m)}}),w6r=xe(e=>{"use strict";var r=e&&e.__extends||function(){var o=function(l,d){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,f){p.__proto__=f}||function(p,f){for(var v in f)f.hasOwnProperty(v)&&(p[v]=f[v])},o(l,d)};return function(l,d){o(l,d);function p(){this.constructor=l}l.prototype=d===null?Object.create(d):(p.prototype=d.prototype,new p)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=yn(),n=It(),i=bo(),c=_o();function u(o,l){return function(d){return d.lift(new a(o,l))}}e.windowToggle=u;var a=function(){function o(l,d){this.openings=l,this.closingSelector=d}return o.prototype.call=function(l,d){return d.subscribe(new s(l,this.openings,this.closingSelector))},o}(),s=function(o){r(l,o);function l(d,p,f){var v=o.call(this,d)||this;return v.openings=p,v.closingSelector=f,v.contexts=[],v.add(v.openSubscription=c.subscribeToResult(v,p,p)),v}return l.prototype._next=function(d){var p=this.contexts;if(p)for(var f=p.length,v=0;v<f;v++)p[v].window.next(d)},l.prototype._error=function(d){var p=this.contexts;if(this.contexts=null,p)for(var f=p.length,v=-1;++v<f;){var h=p[v];h.window.error(d),h.subscription.unsubscribe()}o.prototype._error.call(this,d)},l.prototype._complete=function(){var d=this.contexts;if(this.contexts=null,d)for(var p=d.length,f=-1;++f<p;){var v=d[f];v.window.complete(),v.subscription.unsubscribe()}o.prototype._complete.call(this)},l.prototype._unsubscribe=function(){var d=this.contexts;if(this.contexts=null,d)for(var p=d.length,f=-1;++f<p;){var v=d[f];v.window.unsubscribe(),v.subscription.unsubscribe()}},l.prototype.notifyNext=function(d,p,f,v,h){if(d===this.openings){var m=void 0;try{var y=this.closingSelector;m=y(p)}catch(w){return this.error(w)}var g=new t.Subject,b=new n.Subscription,_={window:g,subscription:b};this.contexts.push(_);var S=c.subscribeToResult(this,m,_);S.closed?this.closeWindow(this.contexts.length-1):(S.context=_,b.add(S)),this.destination.next(g)}else this.closeWindow(this.contexts.indexOf(d))},l.prototype.notifyError=function(d){this.error(d)},l.prototype.notifyComplete=function(d){d!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(d.context))},l.prototype.closeWindow=function(d){if(d!==-1){var p=this.contexts,f=p[d],v=f.window,h=f.subscription;p.splice(d,1),v.complete(),h.unsubscribe()}},l}(i.OuterSubscriber)}),S6r=xe(e=>{"use strict";var r=e&&e.__extends||function(){var s=function(o,l){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,p){d.__proto__=p}||function(d,p){for(var f in p)p.hasOwnProperty(f)&&(d[f]=p[f])},s(o,l)};return function(o,l){s(o,l);function d(){this.constructor=o}o.prototype=l===null?Object.create(l):(d.prototype=l.prototype,new d)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=yn(),n=bo(),i=_o();function c(s){return function(o){return o.lift(new u(s))}}e.windowWhen=c;var u=function(){function s(o){this.closingSelector=o}return s.prototype.call=function(o,l){return l.subscribe(new a(o,this.closingSelector))},s}(),a=function(s){r(o,s);function o(l,d){var p=s.call(this,l)||this;return p.destination=l,p.closingSelector=d,p.openWindow(),p}return o.prototype.notifyNext=function(l,d,p,f,v){this.openWindow(v)},o.prototype.notifyError=function(l){this._error(l)},o.prototype.notifyComplete=function(l){this.openWindow(l)},o.prototype._next=function(l){this.window.next(l)},o.prototype._error=function(l){this.window.error(l),this.destination.error(l),this.unsubscribeClosingNotification()},o.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},o.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},o.prototype.openWindow=function(l){l===void 0&&(l=null),l&&(this.remove(l),l.unsubscribe());var d=this.window;d&&d.complete();var p=this.window=new t.Subject;this.destination.next(p);var f;try{var v=this.closingSelector;f=v()}catch(h){this.destination.error(h),this.window.error(h);return}this.add(this.closingNotification=i.subscribeToResult(this,f))},o}(n.OuterSubscriber)}),x6r=xe(e=>{"use strict";var r=e&&e.__extends||function(){var a=function(s,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,d){l.__proto__=d}||function(l,d){for(var p in d)d.hasOwnProperty(p)&&(l[p]=d[p])},a(s,o)};return function(s,o){a(s,o);function l(){this.constructor=s}s.prototype=o===null?Object.create(o):(l.prototype=o.prototype,new l)}}();Object.defineProperty(e,"__esModule",{value:!0});var t=bo(),n=_o();function i(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];return function(o){var l;typeof a[a.length-1]=="function"&&(l=a.pop());var d=a;return o.lift(new c(d,l))}}e.withLatestFrom=i;var c=function(){function a(s,o){this.observables=s,this.project=o}return a.prototype.call=function(s,o){return o.subscribe(new u(s,this.observables,this.project))},a}(),u=function(a){r(s,a);function s(o,l,d){var p=a.call(this,o)||this;p.observables=l,p.project=d,p.toRespond=[];var f=l.length;p.values=new Array(f);for(var v=0;v<f;v++)p.toRespond.push(v);for(var v=0;v<f;v++){var h=l[v];p.add(n.subscribeToResult(p,h,void 0,v))}return p}return s.prototype.notifyNext=function(o,l,d){this.values[d]=l;var p=this.toRespond;if(p.length>0){var f=p.indexOf(d);f!==-1&&p.splice(f,1)}},s.prototype.notifyComplete=function(){},s.prototype._next=function(o){if(this.toRespond.length===0){var l=[o].concat(this.values);this.project?this._tryProject(l):this.destination.next(l)}},s.prototype._tryProject=function(o){var l;try{l=this.project.apply(this,o)}catch(d){this.destination.error(d);return}this.destination.next(l)},s}(t.OuterSubscriber)}),O6r=xe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=VB();function t(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return function(c){return c.lift.call(r.zip.apply(void 0,[c].concat(n)))}}e.zip=t}),D6r=xe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=VB();function t(n){return function(i){return i.lift(new r.ZipOperator(n))}}e.zipAll=t}),md=xe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Bae();e.audit=r.audit;var t=X4r();e.auditTime=t.auditTime;var n=K4r();e.buffer=n.buffer;var i=e5r();e.bufferCount=i.bufferCount;var c=r5r();e.bufferTime=c.bufferTime;var u=t5r();e.bufferToggle=u.bufferToggle;var a=n5r();e.bufferWhen=a.bufferWhen;var s=i5r();e.catchError=s.catchError;var o=a5r();e.combineAll=o.combineAll;var l=s5r();e.combineLatest=l.combineLatest;var d=o5r();e.concat=d.concat;var p=Mae();e.concatAll=p.concatAll;var f=kae();e.concatMap=f.concatMap;var v=c5r();e.concatMapTo=v.concatMapTo;var h=u5r();e.count=h.count;var m=l5r();e.debounce=m.debounce;var y=d5r();e.debounceTime=y.debounceTime;var g=vd();e.defaultIfEmpty=g.defaultIfEmpty;var b=p5r();e.delay=b.delay;var _=f5r();e.delayWhen=_.delayWhen;var S=h5r();e.dematerialize=S.dematerialize;var w=v5r();e.distinct=w.distinct;var O=Tae();e.distinctUntilChanged=O.distinctUntilChanged;var x=m5r();e.distinctUntilKeyChanged=x.distinctUntilKeyChanged;var N=y5r();e.elementAt=N.elementAt;var M=g5r();e.endWith=M.endWith;var I=b5r();e.every=I.every;var q=_5r();e.exhaust=q.exhaust;var z=w5r();e.exhaustMap=z.exhaustMap;var R=S5r();e.expand=R.expand;var j=uu();e.filter=j.filter;var L=x5r();e.finalize=L.finalize;var P=Rae();e.find=P.find;var V=O5r();e.findIndex=V.findIndex;var E=D5r();e.first=E.first;var Z=gae();e.groupBy=Z.groupBy;var ue=N5r();e.ignoreElements=ue.ignoreElements;var ye=C5r();e.isEmpty=ye.isEmpty;var X=A5r();e.last=X.last;var le=Wn();e.map=le.map;var Oe=M5r();e.mapTo=Oe.mapTo;var ne=P5r();e.materialize=ne.materialize;var fe=E5r();e.max=fe.max;var Me=q5r();e.merge=Me.merge;var me=zB();e.mergeAll=me.mergeAll;var Ce=N2();e.mergeMap=Ce.mergeMap,e.flatMap=Ce.flatMap;var Be=I5r();e.mergeMapTo=Be.mergeMapTo;var je=B5r();e.mergeScan=je.mergeScan;var We=k5r();e.min=We.min;var Ge=lu();e.multicast=Ge.multicast;var ie=xae();e.observeOn=ie.observeOn;var pe=j5r();e.onErrorResumeNext=pe.onErrorResumeNext;var te=T5r();e.pairwise=te.pairwise;var ce=R5r();e.partition=ce.partition;var ge=F5r();e.pluck=ge.pluck;var ve=L5r();e.publish=ve.publish;var Pe=U5r();e.publishBehavior=Pe.publishBehavior;var ke=z5r();e.publishLast=ke.publishLast;var Te=J5r();e.publishReplay=Te.publishReplay;var $e=V5r();e.race=$e.race;var Ue=E2();e.reduce=Ue.reduce;var Ze=G5r();e.repeat=Ze.repeat;var Pr=H5r();e.repeatWhen=Pr.repeatWhen;var Qr=W5r();e.retry=Qr.retry;var Gr=$5r();e.retryWhen=Gr.retryWhen;var wt=jB();e.refCount=wt.refCount;var cn=Q5r();e.sample=cn.sample;var Bt=Y5r();e.sampleTime=Bt.sampleTime;var un=WB();e.scan=un.scan;var Dt=Z5r();e.sequenceEqual=Dt.sequenceEqual;var Br=X5r();e.share=Br.share;var gn=K5r();e.shareReplay=gn.shareReplay;var J=e6r();e.single=J.single;var be=r6r();e.skip=be.skip;var qe=t6r();e.skipLast=qe.skipLast;var ze=n6r();e.skipUntil=ze.skipUntil;var lr=i6r();e.skipWhile=lr.skipWhile;var _r=a6r();e.startWith=_r.startWith;var ln=o6r();e.subscribeOn=ln.subscribeOn;var ki=c6r();e.switchAll=ki.switchAll;var us=$B();e.switchMap=us.switchMap;var ls=u6r();e.switchMapTo=ls.switchMapTo;var ds=GB();e.take=ds.take;var ps=HB();e.takeLast=ps.takeLast;var fs=l6r();e.takeUntil=fs.takeUntil;var hs=d6r();e.takeWhile=hs.takeWhile;var vs=p6r();e.tap=vs.tap;var ms=Fae();e.throttle=ms.throttle;var ys=f6r();e.throttleTime=ys.throttleTime;var gs=P2();e.throwIfEmpty=gs.throwIfEmpty;var bs=h6r();e.timeInterval=bs.timeInterval;var _s=v6r();e.timeout=_s.timeout;var ji=Lae();e.timeoutWith=ji.timeoutWith;var it=m6r();e.timestamp=it.timestamp;var ut=y6r();e.toArray=ut.toArray;var Lt=g6r();e.window=Lt.window;var F=b6r();e.windowCount=F.windowCount;var G=_6r();e.windowTime=G.windowTime;var H=w6r();e.windowToggle=H.windowToggle;var W=S6r();e.windowWhen=W.windowWhen;var $=x6r();e.withLatestFrom=$.withLatestFrom;var Q=O6r();e.zip=Q.zip;var he=D6r();e.zipAll=he.zipAll}),N6r=xe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=md();function t(d){return d.pipe(r.concatMap(function(p){return p.split("")}),r.scan(function(p,f){return p.indexOf("}")>=0?f:p+f},""),r.filter(function(p){return p.indexOf("}")>=0}),r.map(function(p){return JSON.parse(p)}))}e.parseControl=t;function n(d){for(var p=[],f=0;f<d.length;f++)f%3===0?p.push(d[f]<<4|d[f+1]>>4):(p.push((d[f]&15)<<8|d[f+1]),f++);return p}e.decodeUnsigned12BitData=n;function i(d){for(var p=[],f=0;f<d.length;f=f+3)p.push(d[f]<<16|d[f+1]<<8|d[f+2]);return p}e.decodeUnsigned24BitData=i;function c(d){return n(d).map(function(p){return .48828125*(p-2048)})}e.decodeEEGSamples=c;function u(d){return i(d)}e.decodePPGSamples=u;function a(d){return{sequenceId:d.getUint16(0),batteryLevel:d.getUint16(2)/512,fuelGaugeVoltage:d.getUint16(4)*2.2,temperature:d.getUint16(8)}}e.parseTelemetry=a;function s(d,p){function f(v){return{x:p*d.getInt16(v),y:p*d.getInt16(v+2),z:p*d.getInt16(v+4)}}return{sequenceId:d.getUint16(0),samples:[f(2),f(8),f(14)]}}function o(d){return s(d,610352e-10)}e.parseAccelerometer=o;function l(d){return s(d,.0074768)}e.parseGyroscope=l}),C6r=xe(e=>{"use strict";var r=e&&e.__awaiter||function(s,o,l,d){return new(l||(l=Promise))(function(p,f){function v(y){try{m(d.next(y))}catch(g){f(g)}}function h(y){try{m(d.throw(y))}catch(g){f(g)}}function m(y){y.done?p(y.value):new l(function(g){g(y.value)}).then(v,h)}m((d=d.apply(s,o||[])).next())})},t=e&&e.__generator||function(s,o){var l={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},d,p,f,v;return v={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(v[Symbol.iterator]=function(){return this}),v;function h(y){return function(g){return m([y,g])}}function m(y){if(d)throw new TypeError("Generator is already executing.");for(;l;)try{if(d=1,p&&(f=y[0]&2?p.return:y[0]?p.throw||((f=p.return)&&f.call(p),0):p.next)&&!(f=f.call(p,y[1])).done)return f;switch(p=0,f&&(y=[y[0]&2,f.value]),y[0]){case 0:case 1:f=y;break;case 4:return l.label++,{value:y[1],done:!1};case 5:l.label++,p=y[1],y=[0];continue;case 7:y=l.ops.pop(),l.trys.pop();continue;default:if(f=l.trys,!(f=f.length>0&&f[f.length-1])&&(y[0]===6||y[0]===2)){l=0;continue}if(y[0]===3&&(!f||y[1]>f[0]&&y[1]<f[3])){l.label=y[1];break}if(y[0]===6&&l.label<f[1]){l.label=f[1],f=y;break}if(f&&l.label<f[2]){l.label=f[2],l.ops.push(y);break}f[2]&&l.ops.pop(),l.trys.pop();continue}y=o.call(s,l)}catch(g){y=[6,g],p=0}finally{d=f=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}};Object.defineProperty(e,"__esModule",{value:!0});var n=M2(),i=md();function c(s){return new TextDecoder().decode(s.subarray(1,1+s[0]))}e.decodeResponse=c;function u(s){var o=new TextEncoder().encode("X"+s+`
`);return o[0]=o.length-1,o}e.encodeCommand=u;function a(s){return r(this,void 0,void 0,function(){var o;return t(this,function(l){switch(l.label){case 0:return[4,s.startNotifications()];case 1:return l.sent(),o=n.fromEvent(s.service.device,"gattserverdisconnected"),[2,n.fromEvent(s,"characteristicvaluechanged").pipe(i.takeUntil(o),i.map(function(d){return d.target.value}))]}})})}e.observableCharacteristic=a}),A6r=xe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=M2(),t=md(),n=QB();function i(c){var u=[],a=null;return c.pipe(t.mergeMap(function(s){if(s.timestamp!==a&&(a=s.timestamp,u.length)){var o=r.from([u.slice()]);return u.splice(0,u.length,s),o}return u.push(s),r.from([])}),t.concat(r.from([u])),t.mergeMap(function(s){var o=s[0].samples.map(function(l,d){for(var p=[NaN,NaN,NaN,NaN,NaN],f=0,v=s;f<v.length;f++){var h=v[f];p[h.electrode]=h.samples[d]}return{data:p,index:s[0].index,timestamp:s[0].timestamp+d*1e3/n.EEG_FREQUENCY}});return r.from(o)}))}e.zipSamples=i}),M6r=xe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=M2(),t=md(),n=QB();function i(c){var u=[],a=null;return c.pipe(t.mergeMap(function(s){if(s.timestamp!==a&&(a=s.timestamp,u.length)){var o=r.from([u.slice()]);return u.splice(0,u.length,s),o}return u.push(s),r.from([])}),t.concat(r.from([u])),t.mergeMap(function(s){var o=s[0].samples.map(function(l,d){for(var p=[NaN,NaN,NaN],f=0,v=s;f<v.length;f++){var h=v[f];p[h.ppgChannel]=h.samples[d]}return{data:p,index:s[0].index,timestamp:s[0].timestamp+d*1e3/n.PPG_FREQUENCY}});return r.from(o)}))}e.zipSamplesPpg=i}),QB=xe(e=>{"use strict";var r=e&&e.__awaiter||function(m,y,g,b){return new(g||(g=Promise))(function(_,S){function w(N){try{x(b.next(N))}catch(M){S(M)}}function O(N){try{x(b.throw(N))}catch(M){S(M)}}function x(N){N.done?_(N.value):new g(function(M){M(N.value)}).then(w,O)}x((b=b.apply(m,y||[])).next())})},t=e&&e.__generator||function(m,y){var g={label:0,sent:function(){if(S[0]&1)throw S[1];return S[1]},trys:[],ops:[]},b,_,S,w;return w={next:O(0),throw:O(1),return:O(2)},typeof Symbol=="function"&&(w[Symbol.iterator]=function(){return this}),w;function O(N){return function(M){return x([N,M])}}function x(N){if(b)throw new TypeError("Generator is already executing.");for(;g;)try{if(b=1,_&&(S=N[0]&2?_.return:N[0]?_.throw||((S=_.return)&&S.call(_),0):_.next)&&!(S=S.call(_,N[1])).done)return S;switch(_=0,S&&(N=[N[0]&2,S.value]),N[0]){case 0:case 1:S=N;break;case 4:return g.label++,{value:N[1],done:!1};case 5:g.label++,_=N[1],N=[0];continue;case 7:N=g.ops.pop(),g.trys.pop();continue;default:if(S=g.trys,!(S=S.length>0&&S[S.length-1])&&(N[0]===6||N[0]===2)){g=0;continue}if(N[0]===3&&(!S||N[1]>S[0]&&N[1]<S[3])){g.label=N[1];break}if(N[0]===6&&g.label<S[1]){g.label=S[1],S=N;break}if(S&&g.label<S[2]){g.label=S[2],g.ops.push(N);break}S[2]&&g.ops.pop(),g.trys.pop();continue}N=y.call(m,g)}catch(M){N=[6,M],_=0}finally{b=S=0}if(N[0]&5)throw N[1];return{value:N[0]?N[1]:void 0,done:!0}}};Object.defineProperty(e,"__esModule",{value:!0});var n=M2(),i=md(),c=N6r(),u=C6r(),a=A6r();e.zipSamples=a.zipSamples;var s=M6r();e.zipSamplesPpg=s.zipSamplesPpg,e.MUSE_SERVICE=65165;var o="273e0001-4c4d-454d-96be-f03bac821358",l="273e000b-4c4d-454d-96be-f03bac821358",d="273e0009-4c4d-454d-96be-f03bac821358",p="273e000a-4c4d-454d-96be-f03bac821358",f=["273e000f-4c4d-454d-96be-f03bac821358","273e0010-4c4d-454d-96be-f03bac821358","273e0011-4c4d-454d-96be-f03bac821358"];e.PPG_FREQUENCY=64,e.PPG_SAMPLES_PER_READING=6;var v=["273e0003-4c4d-454d-96be-f03bac821358","273e0004-4c4d-454d-96be-f03bac821358","273e0005-4c4d-454d-96be-f03bac821358","273e0006-4c4d-454d-96be-f03bac821358","273e0007-4c4d-454d-96be-f03bac821358"];e.EEG_FREQUENCY=256,e.EEG_SAMPLES_PER_READING=12,e.ppgChannelNames=["ambient","infrared","red"],e.channelNames=["TP9","AF7","AF8","TP10","AUX"];var h=function(){function m(){this.enableAux=!1,this.enablePpg=!1,this.deviceName="",this.connectionStatus=new n.BehaviorSubject(!1),this.gatt=null,this.lastIndex=null,this.lastTimestamp=null}return m.prototype.connect=function(y){return r(this,void 0,void 0,function(){var g,b,_,S,w,O,x,N,M,I,q,z,R,j,L,P,V,E,Z,ue,ye,X=this;return t(this,function(le){switch(le.label){case 0:return y?(this.gatt=y,[3,4]):[3,1];case 1:return[4,navigator.bluetooth.requestDevice({filters:[{services:[e.MUSE_SERVICE]}]})];case 2:return g=le.sent(),b=this,[4,g.gatt.connect()];case 3:b.gatt=le.sent(),le.label=4;case 4:return this.deviceName=this.gatt.device.name||null,[4,this.gatt.getPrimaryService(e.MUSE_SERVICE)];case 5:return _=le.sent(),n.fromEvent(this.gatt.device,"gattserverdisconnected").pipe(i.first()).subscribe(function(){X.gatt=null,X.connectionStatus.next(!1)}),S=this,[4,_.getCharacteristic(o)];case 6:return S.controlChar=le.sent(),w=this,[4,u.observableCharacteristic(this.controlChar)];case 7:return w.rawControlData=le.sent().pipe(i.map(function(Oe){return u.decodeResponse(new Uint8Array(Oe.buffer))}),i.share()),this.controlResponses=c.parseControl(this.rawControlData),[4,_.getCharacteristic(l)];case 8:return O=le.sent(),x=this,[4,u.observableCharacteristic(O)];case 9:return x.telemetryData=le.sent().pipe(i.map(c.parseTelemetry)),[4,_.getCharacteristic(d)];case 10:return N=le.sent(),M=this,[4,u.observableCharacteristic(N)];case 11:return M.gyroscopeData=le.sent().pipe(i.map(c.parseGyroscope)),[4,_.getCharacteristic(p)];case 12:return I=le.sent(),q=this,[4,u.observableCharacteristic(I)];case 13:if(q.accelerometerData=le.sent().pipe(i.map(c.parseAccelerometer)),this.eventMarkers=new n.Subject,!this.enablePpg)return[3,18];this.ppgCharacteristics=[],z=[],R=f.length,j=function(Oe){var ne,fe,Me,me;return t(this,function(Ce){switch(Ce.label){case 0:return ne=f[Oe],[4,_.getCharacteristic(ne)];case 1:return fe=Ce.sent(),me=(Me=z).push,[4,u.observableCharacteristic(fe)];case 2:return me.apply(Me,[Ce.sent().pipe(i.map(function(Be){var je=Be.getUint16(0);return{index:je,ppgChannel:Oe,samples:c.decodePPGSamples(new Uint8Array(Be.buffer).subarray(2)),timestamp:X.getTimestamp(je,e.PPG_SAMPLES_PER_READING,e.PPG_FREQUENCY)}}))]),L.ppgCharacteristics.push(fe),[2]}})},L=this,P=0,le.label=14;case 14:return P<R?[5,j(P)]:[3,17];case 15:le.sent(),le.label=16;case 16:return P++,[3,14];case 17:this.ppgReadings=n.merge.apply(void 0,z),le.label=18;case 18:this.eegCharacteristics=[],V=[],E=this.enableAux?v.length:4,Z=function(Oe){var ne,fe,Me,me;return t(this,function(Ce){switch(Ce.label){case 0:return ne=v[Oe],[4,_.getCharacteristic(ne)];case 1:return fe=Ce.sent(),me=(Me=V).push,[4,u.observableCharacteristic(fe)];case 2:return me.apply(Me,[Ce.sent().pipe(i.map(function(Be){var je=Be.getUint16(0);return{electrode:Oe,index:je,samples:c.decodeEEGSamples(new Uint8Array(Be.buffer).subarray(2)),timestamp:X.getTimestamp(je,e.EEG_SAMPLES_PER_READING,e.EEG_FREQUENCY)}}))]),ue.eegCharacteristics.push(fe),[2]}})},ue=this,ye=0,le.label=19;case 19:return ye<E?[5,Z(ye)]:[3,22];case 20:le.sent(),le.label=21;case 21:return ye++,[3,19];case 22:return this.eegReadings=n.merge.apply(void 0,V),this.connectionStatus.next(!0),[2]}})})},m.prototype.sendCommand=function(y){return r(this,void 0,void 0,function(){return t(this,function(g){switch(g.label){case 0:return[4,this.controlChar.writeValue(u.encodeCommand(y))];case 1:return g.sent(),[2]}})})},m.prototype.start=function(){return r(this,void 0,void 0,function(){var y;return t(this,function(g){switch(g.label){case 0:return[4,this.pause()];case 1:return g.sent(),y="p21",this.enablePpg?y="p50":this.enableAux&&(y="p20"),[4,this.controlChar.writeValue(u.encodeCommand(y))];case 2:return g.sent(),[4,this.controlChar.writeValue(u.encodeCommand("s"))];case 3:return g.sent(),[4,this.resume()];case 4:return g.sent(),[2]}})})},m.prototype.pause=function(){return r(this,void 0,void 0,function(){return t(this,function(y){switch(y.label){case 0:return[4,this.sendCommand("h")];case 1:return y.sent(),[2]}})})},m.prototype.resume=function(){return r(this,void 0,void 0,function(){return t(this,function(y){switch(y.label){case 0:return[4,this.sendCommand("d")];case 1:return y.sent(),[2]}})})},m.prototype.deviceInfo=function(){return r(this,void 0,void 0,function(){var y;return t(this,function(g){switch(g.label){case 0:return y=this.controlResponses.pipe(i.filter(function(b){return!!b.fw}),i.take(1)).toPromise(),[4,this.sendCommand("v1")];case 1:return g.sent(),[2,y]}})})},m.prototype.injectMarker=function(y,g){return g===void 0&&(g=new Date().getTime()),r(this,void 0,void 0,function(){return t(this,function(b){switch(b.label){case 0:return[4,this.eventMarkers.next({value:y,timestamp:g})];case 1:return b.sent(),[2]}})})},m.prototype.disconnect=function(){this.gatt&&(this.lastIndex=null,this.lastTimestamp=null,this.gatt.disconnect(),this.connectionStatus.next(!1))},m.prototype.getTimestamp=function(y,g,b){var _=1e3*(1/b)*g;for((this.lastIndex===null||this.lastTimestamp===null)&&(this.lastIndex=y,this.lastTimestamp=new Date().getTime()-_);this.lastIndex-y>4096;)y+=65536;return y===this.lastIndex?this.lastTimestamp:y>this.lastIndex?(this.lastTimestamp+=_*(y-this.lastIndex),this.lastIndex=y,this.lastTimestamp):this.lastTimestamp-_*(this.lastIndex-y)},m}();e.MuseClient=h}),P6r=y4r(QB(),1),E6r=P6r.MuseClient,ho=250,YB={sps:ho,connect:(e={})=>new Promise(async(r,t)=>{let n=`muse${Math.floor(Math.random()*1e15)}`,i=new E6r,c={_id:n,client:i,settings:Object.assign(Object.assign({},YB),e)};i.enableAux=!0,await i.connect(),await i.start();let u;i.eegReadings.subscribe(a=>{a.origin="eeg",a.electrode===0&&(u=sr.genTimestamps(12,250)),u||(u=sr.genTimestamps(12,250)),a.timestamp=u,c.settings.ondata(a)}),i.telemetryData.subscribe(a=>{a.origin="telemetry",c.settings.ondata(a)}),i.gyroscopeData.subscribe(a=>{a.origin="gyro",c.settings.ondata(a)}),i.accelerometerData.subscribe(a=>{a.origin="accelerometer",c.settings.ondata(a)}),i.enablePPG&&i.ppgData.subscribe(a=>{a.origin="ppg",c.settings.ondata(a)}),c.settings.onconnect&&c.settings.onconnect(c),r(c)}),codec:e=>{let r=e.origin;if(r==="eeg")return{[e.electrode]:e.samples,timestamp:Date.now()};if(r==="gyro"){let t={gx:[],gy:[],gz:[],timestamp:Date.now()};return e.samples.forEach(n=>{t.gx.push(n.x),t.gy.push(n.y),t.gz.push(n.z)}),t}else if(r==="accelerometer"){let t={ax:[],ay:[],az:[],timestamp:Date.now()};return e.samples.forEach(n=>{t.ax.push(n.x),t.ay.push(n.y),t.az.push(n.z)}),t}else{if(r==="ppg")return{[`ppg${e.ppgChannel}`]:e.samples,timestamp:Date.now()};if(r==="telemetry")return e}},disconnect:e=>{e.client.disconnect(),e.settings.ondisconnect(e)},onconnect:e=>{console.log("muse connected!",e)},ondisconnect:e=>{console.log("muse disconnected!",e)},ondata:e=>{console.log(e)}},Vl={sps:ho,useDCBlock:!0,useBandpass:!0,bandpassLower:3,bandpassUpper:45},q6r={0:JSON.parse(JSON.stringify(Vl)),1:JSON.parse(JSON.stringify(Vl)),2:JSON.parse(JSON.stringify(Vl)),3:JSON.parse(JSON.stringify(Vl)),4:JSON.parse(JSON.stringify(Vl))},I6r={lines:{0:{nSec:10,sps:ho,units:"uV"},1:{nSec:10,sps:ho,units:"uV"},2:{nSec:10,sps:ho,units:"uV"},3:{nSec:10,sps:ho,units:"uV"},4:{nSec:10,sps:ho,units:"uV"},ax:{nSec:10,sps:100,units:"mg"},ay:{nSec:10,sps:100,units:"mg"},az:{nSec:10,sps:100,units:"mg"},gx:{nSec:10,sps:100,units:"rps"},gy:{nSec:10,sps:100,units:"rps"},gz:{nSec:10,sps:100,units:"rps"}},generateNewLines:!0},B6r=Object.create,ZB=Object.defineProperty,k6r=Object.defineProperties,j6r=Object.getOwnPropertyDescriptor,T6r=Object.getOwnPropertyDescriptors,R6r=Object.getOwnPropertyNames,v2=Object.getOwnPropertySymbols,F6r=Object.getPrototypeOf,XB=Object.prototype.hasOwnProperty,Uae=Object.prototype.propertyIsEnumerable,sne=(e,r,t)=>r in e?ZB(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,nB=(e,r)=>{for(var t in r||(r={}))XB.call(r,t)&&sne(e,t,r[t]);if(v2)for(var t of v2(r))Uae.call(r,t)&&sne(e,t,r[t]);return e},iB=(e,r)=>k6r(e,T6r(r)),L6r=(e,r)=>{var t={};for(var n in e)XB.call(e,n)&&r.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&v2)for(var n of v2(e))r.indexOf(n)<0&&Uae.call(e,n)&&(t[n]=e[n]);return t},U6r=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports),z6r=(e,r,t,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let i of R6r(r))!XB.call(e,i)&&i!==t&&ZB(e,i,{get:()=>r[i],enumerable:!(n=j6r(r,i))||n.enumerable});return e},J6r=(e,r,t)=>(t=e!=null?B6r(F6r(e)):{},z6r(r||!e||!e.__esModule?ZB(t,"default",{value:e,enumerable:!0}):t,e)),one=(e,r,t)=>new Promise((n,i)=>{var c=s=>{try{a(t.next(s))}catch(o){i(o)}},u=s=>{try{a(t.throw(s))}catch(o){i(o)}},a=s=>s.done?n(s.value):Promise.resolve(s.value).then(c,u);a((t=t.apply(e,r)).next())}),V6r=U6r((e,r)=>{var t,n,i,c,u,a,s,o,l,d,p,f,v,h,m,y,g,b,_,S,w,O,x,N,M;(function(I){var q=typeof global=="object"?global:typeof self=="object"?self:typeof this=="object"?this:{};typeof define=="function"&&define.amd?define("tslib",["exports"],function(R){I(z(q,z(R)))}):typeof r=="object"&&typeof r.exports=="object"?I(z(q,z(r.exports))):I(z(q));function z(R,j){return R!==q&&(typeof Object.create=="function"?Object.defineProperty(R,"__esModule",{value:!0}):R.__esModule=!0),function(L,P){return R[L]=j?j(L,P):P}}})(function(I){var q=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(R,j){R.__proto__=j}||function(R,j){for(var L in j)Object.prototype.hasOwnProperty.call(j,L)&&(R[L]=j[L])};t=function(R,j){if(typeof j!="function"&&j!==null)throw new TypeError("Class extends value "+String(j)+" is not a constructor or null");q(R,j);function L(){this.constructor=R}R.prototype=j===null?Object.create(j):(L.prototype=j.prototype,new L)},n=Object.assign||function(R){for(var j,L=1,P=arguments.length;L<P;L++){j=arguments[L];for(var V in j)Object.prototype.hasOwnProperty.call(j,V)&&(R[V]=j[V])}return R},i=function(R,j){var L={};for(var P in R)Object.prototype.hasOwnProperty.call(R,P)&&j.indexOf(P)<0&&(L[P]=R[P]);if(R!=null&&typeof Object.getOwnPropertySymbols=="function")for(var V=0,P=Object.getOwnPropertySymbols(R);V<P.length;V++)j.indexOf(P[V])<0&&Object.prototype.propertyIsEnumerable.call(R,P[V])&&(L[P[V]]=R[P[V]]);return L},c=function(R,j,L,P){var V=arguments.length,E=V<3?j:P===null?P=Object.getOwnPropertyDescriptor(j,L):P,Z;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(R,j,L,P);else for(var ue=R.length-1;ue>=0;ue--)(Z=R[ue])&&(E=(V<3?Z(E):V>3?Z(j,L,E):Z(j,L))||E);return V>3&&E&&Object.defineProperty(j,L,E),E},u=function(R,j){return function(L,P){j(L,P,R)}},a=function(R,j){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(R,j)},s=function(R,j,L,P){function V(E){return E instanceof L?E:new L(function(Z){Z(E)})}return new(L||(L=Promise))(function(E,Z){function ue(le){try{X(P.next(le))}catch(Oe){Z(Oe)}}function ye(le){try{X(P.throw(le))}catch(Oe){Z(Oe)}}function X(le){le.done?E(le.value):V(le.value).then(ue,ye)}X((P=P.apply(R,j||[])).next())})},o=function(R,j){var L={label:0,sent:function(){if(E[0]&1)throw E[1];return E[1]},trys:[],ops:[]},P,V,E,Z;return Z={next:ue(0),throw:ue(1),return:ue(2)},typeof Symbol=="function"&&(Z[Symbol.iterator]=function(){return this}),Z;function ue(X){return function(le){return ye([X,le])}}function ye(X){if(P)throw new TypeError("Generator is already executing.");for(;L;)try{if(P=1,V&&(E=X[0]&2?V.return:X[0]?V.throw||((E=V.return)&&E.call(V),0):V.next)&&!(E=E.call(V,X[1])).done)return E;switch(V=0,E&&(X=[X[0]&2,E.value]),X[0]){case 0:case 1:E=X;break;case 4:return L.label++,{value:X[1],done:!1};case 5:L.label++,V=X[1],X=[0];continue;case 7:X=L.ops.pop(),L.trys.pop();continue;default:if(E=L.trys,!(E=E.length>0&&E[E.length-1])&&(X[0]===6||X[0]===2)){L=0;continue}if(X[0]===3&&(!E||X[1]>E[0]&&X[1]<E[3])){L.label=X[1];break}if(X[0]===6&&L.label<E[1]){L.label=E[1],E=X;break}if(E&&L.label<E[2]){L.label=E[2],L.ops.push(X);break}E[2]&&L.ops.pop(),L.trys.pop();continue}X=j.call(R,L)}catch(le){X=[6,le],V=0}finally{P=E=0}if(X[0]&5)throw X[1];return{value:X[0]?X[1]:void 0,done:!0}}},l=function(R,j){for(var L in R)L!=="default"&&!Object.prototype.hasOwnProperty.call(j,L)&&M(j,R,L)},M=Object.create?function(R,j,L,P){P===void 0&&(P=L);var V=Object.getOwnPropertyDescriptor(j,L);(!V||("get"in V?!j.__esModule:V.writable||V.configurable))&&(V={enumerable:!0,get:function(){return j[L]}}),Object.defineProperty(R,P,V)}:function(R,j,L,P){P===void 0&&(P=L),R[P]=j[L]},d=function(R){var j=typeof Symbol=="function"&&Symbol.iterator,L=j&&R[j],P=0;if(L)return L.call(R);if(R&&typeof R.length=="number")return{next:function(){return R&&P>=R.length&&(R=void 0),{value:R&&R[P++],done:!R}}};throw new TypeError(j?"Object is not iterable.":"Symbol.iterator is not defined.")},p=function(R,j){var L=typeof Symbol=="function"&&R[Symbol.iterator];if(!L)return R;var P=L.call(R),V,E=[],Z;try{for(;(j===void 0||j-- >0)&&!(V=P.next()).done;)E.push(V.value)}catch(ue){Z={error:ue}}finally{try{V&&!V.done&&(L=P.return)&&L.call(P)}finally{if(Z)throw Z.error}}return E},f=function(){for(var R=[],j=0;j<arguments.length;j++)R=R.concat(p(arguments[j]));return R},v=function(){for(var R=0,j=0,L=arguments.length;j<L;j++)R+=arguments[j].length;for(var P=Array(R),V=0,j=0;j<L;j++)for(var E=arguments[j],Z=0,ue=E.length;Z<ue;Z++,V++)P[V]=E[Z];return P},h=function(R,j,L){if(L||arguments.length===2)for(var P=0,V=j.length,E;P<V;P++)(E||!(P in j))&&(E||(E=Array.prototype.slice.call(j,0,P)),E[P]=j[P]);return R.concat(E||Array.prototype.slice.call(j))},m=function(R){return this instanceof m?(this.v=R,this):new m(R)},y=function(R,j,L){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var P=L.apply(R,j||[]),V,E=[];return V={},Z("next"),Z("throw"),Z("return"),V[Symbol.asyncIterator]=function(){return this},V;function Z(ne){P[ne]&&(V[ne]=function(fe){return new Promise(function(Me,me){E.push([ne,fe,Me,me])>1||ue(ne,fe)})})}function ue(ne,fe){try{ye(P[ne](fe))}catch(Me){Oe(E[0][3],Me)}}function ye(ne){ne.value instanceof m?Promise.resolve(ne.value.v).then(X,le):Oe(E[0][2],ne)}function X(ne){ue("next",ne)}function le(ne){ue("throw",ne)}function Oe(ne,fe){ne(fe),E.shift(),E.length&&ue(E[0][0],E[0][1])}},g=function(R){var j,L;return j={},P("next"),P("throw",function(V){throw V}),P("return"),j[Symbol.iterator]=function(){return this},j;function P(V,E){j[V]=R[V]?function(Z){return(L=!L)?{value:m(R[V](Z)),done:V==="return"}:E?E(Z):Z}:E}},b=function(R){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var j=R[Symbol.asyncIterator],L;return j?j.call(R):(R=typeof d=="function"?d(R):R[Symbol.iterator](),L={},P("next"),P("throw"),P("return"),L[Symbol.asyncIterator]=function(){return this},L);function P(E){L[E]=R[E]&&function(Z){return new Promise(function(ue,ye){Z=R[E](Z),V(ue,ye,Z.done,Z.value)})}}function V(E,Z,ue,ye){Promise.resolve(ye).then(function(X){E({value:X,done:ue})},Z)}},_=function(R,j){return Object.defineProperty?Object.defineProperty(R,"raw",{value:j}):R.raw=j,R};var z=Object.create?function(R,j){Object.defineProperty(R,"default",{enumerable:!0,value:j})}:function(R,j){R.default=j};S=function(R){if(R&&R.__esModule)return R;var j={};if(R!=null)for(var L in R)L!=="default"&&Object.prototype.hasOwnProperty.call(R,L)&&M(j,R,L);return z(j,R),j},w=function(R){return R&&R.__esModule?R:{default:R}},O=function(R,j,L,P){if(L==="a"&&!P)throw new TypeError("Private accessor was defined without a getter");if(typeof j=="function"?R!==j||!P:!j.has(R))throw new TypeError("Cannot read private member from an object whose class did not declare it");return L==="m"?P:L==="a"?P.call(R):P?P.value:j.get(R)},x=function(R,j,L,P,V){if(P==="m")throw new TypeError("Private method is not writable");if(P==="a"&&!V)throw new TypeError("Private accessor was defined without a setter");if(typeof j=="function"?R!==j||!V:!j.has(R))throw new TypeError("Cannot write private member to an object whose class did not declare it");return P==="a"?V.call(R,L):V?V.value=L:j.set(R,L),L},N=function(R,j){if(j===null||typeof j!="object"&&typeof j!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof R=="function"?j===R:R.has(j)},I("__extends",t),I("__assign",n),I("__rest",i),I("__decorate",c),I("__param",u),I("__metadata",a),I("__awaiter",s),I("__generator",o),I("__exportStar",l),I("__createBinding",M),I("__values",d),I("__read",p),I("__spread",f),I("__spreadArrays",v),I("__spreadArray",h),I("__await",m),I("__asyncGenerator",y),I("__asyncDelegator",g),I("__asyncValues",b),I("__makeTemplateObject",_),I("__importStar",S),I("__importDefault",w),I("__classPrivateFieldGet",O),I("__classPrivateFieldSet",x),I("__classPrivateFieldIn",N)})}),G6r=J6r(V6r(),1),{__extends:du,__assign:wit,__rest:Sit,__decorate:xit,__param:Oit,__metadata:Dit,__awaiter:H6r,__generator:zae,__exportStar:Nit,__createBinding:Cit,__values:m2,__read:ou,__spread:Ait,__spreadArrays:Mit,__spreadArray:id,__await:zI,__asyncGenerator:W6r,__asyncDelegator:Pit,__asyncValues:$6r,__makeTemplateObject:Eit,__importStar:qit,__importDefault:Iit,__classPrivateFieldGet:Bit,__classPrivateFieldSet:kit,__classPrivateFieldIn:jit}=G6r.default;function nt(e){return typeof e=="function"}function KB(e){var r=function(n){Error.call(n),n.stack=new Error().stack},t=e(r);return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var JI=KB(function(e){return function(r){e(this),this.message=r?r.length+` errors occurred during unsubscription:
`+r.map(function(t,n){return n+1+") "+t.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=r}});function aB(e,r){if(e){var t=e.indexOf(r);0<=t&&e.splice(t,1)}}var q2=function(){function e(r){this.initialTeardown=r,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var r,t,n,i,c;if(!this.closed){this.closed=!0;var u=this._parentage;if(u)if(this._parentage=null,Array.isArray(u))try{for(var a=m2(u),s=a.next();!s.done;s=a.next()){var o=s.value;o.remove(this)}}catch(h){r={error:h}}finally{try{s&&!s.done&&(t=a.return)&&t.call(a)}finally{if(r)throw r.error}}else u.remove(this);var l=this.initialTeardown;if(nt(l))try{l()}catch(h){c=h instanceof JI?h.errors:[h]}var d=this._finalizers;if(d){this._finalizers=null;try{for(var p=m2(d),f=p.next();!f.done;f=p.next()){var v=f.value;try{cne(v)}catch(h){c=c??[],h instanceof JI?c=id(id([],ou(c)),ou(h.errors)):c.push(h)}}}catch(h){n={error:h}}finally{try{f&&!f.done&&(i=p.return)&&i.call(p)}finally{if(n)throw n.error}}}if(c)throw new JI(c)}},e.prototype.add=function(r){var t;if(r&&r!==this)if(this.closed)cne(r);else{if(r instanceof e){if(r.closed||r._hasParent(this))return;r._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(r)}},e.prototype._hasParent=function(r){var t=this._parentage;return t===r||Array.isArray(t)&&t.includes(r)},e.prototype._addParent=function(r){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(r),t):t?[t,r]:r},e.prototype._removeParent=function(r){var t=this._parentage;t===r?this._parentage=null:Array.isArray(t)&&aB(t,r)},e.prototype.remove=function(r){var t=this._finalizers;t&&aB(t,r),r instanceof e&&r._removeParent(this)},e.EMPTY=function(){var r=new e;return r.closed=!0,r}(),e}(),Jae=q2.EMPTY;function Vae(e){return e instanceof q2||e&&"closed"in e&&nt(e.remove)&&nt(e.add)&&nt(e.unsubscribe)}function cne(e){nt(e)?e():e.unsubscribe()}var wo={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},y2={setTimeout:function(e,r){for(var t=[],n=2;n<arguments.length;n++)t[n-2]=arguments[n];var i=y2.delegate;return i?.setTimeout?i.setTimeout.apply(i,id([e,r],ou(t))):setTimeout.apply(void 0,id([e,r],ou(t)))},clearTimeout:function(e){var r=y2.delegate;return(r?.clearTimeout||clearTimeout)(e)},delegate:void 0};function Gae(e){y2.setTimeout(function(){var r=wo.onUnhandledError;if(r)r(e);else throw e})}function sB(){}var Q6r=function(){return ek("C",void 0,void 0)}();function Y6r(e){return ek("E",void 0,e)}function Z6r(e){return ek("N",e,void 0)}function ek(e,r,t){return{kind:e,value:r,error:t}}var vo=null;function p2(e){if(wo.useDeprecatedSynchronousErrorHandling){var r=!vo;if(r&&(vo={errorThrown:!1,error:null}),e(),r){var t=vo,n=t.errorThrown,i=t.error;if(vo=null,n)throw i}}else e()}function X6r(e){wo.useDeprecatedSynchronousErrorHandling&&vo&&(vo.errorThrown=!0,vo.error=e)}var rk=function(e){du(r,e);function r(t){var n=e.call(this)||this;return n.isStopped=!1,t?(n.destination=t,Vae(t)&&t.add(n)):n.destination=t8r,n}return r.create=function(t,n,i){return new oB(t,n,i)},r.prototype.next=function(t){this.isStopped?GI(Z6r(t),this):this._next(t)},r.prototype.error=function(t){this.isStopped?GI(Y6r(t),this):(this.isStopped=!0,this._error(t))},r.prototype.complete=function(){this.isStopped?GI(Q6r,this):(this.isStopped=!0,this._complete())},r.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},r.prototype._next=function(t){this.destination.next(t)},r.prototype._error=function(t){try{this.destination.error(t)}finally{this.unsubscribe()}},r.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},r}(q2),K6r=Function.prototype.bind;function VI(e,r){return K6r.call(e,r)}var e8r=function(){function e(r){this.partialObserver=r}return e.prototype.next=function(r){var t=this.partialObserver;if(t.next)try{t.next(r)}catch(n){n2(n)}},e.prototype.error=function(r){var t=this.partialObserver;if(t.error)try{t.error(r)}catch(n){n2(n)}else n2(r)},e.prototype.complete=function(){var r=this.partialObserver;if(r.complete)try{r.complete()}catch(t){n2(t)}},e}(),oB=function(e){du(r,e);function r(t,n,i){var c=e.call(this)||this,u;if(nt(t)||!t)u={next:t??void 0,error:n??void 0,complete:i??void 0};else{var a;c&&wo.useDeprecatedNextContext?(a=Object.create(t),a.unsubscribe=function(){return c.unsubscribe()},u={next:t.next&&VI(t.next,a),error:t.error&&VI(t.error,a),complete:t.complete&&VI(t.complete,a)}):u=t}return c.destination=new e8r(u),c}return r}(rk);function n2(e){wo.useDeprecatedSynchronousErrorHandling?X6r(e):Gae(e)}function r8r(e){throw e}function GI(e,r){var t=wo.onStoppedNotification;t&&y2.setTimeout(function(){return t(e,r)})}var t8r={closed:!0,next:sB,error:r8r,complete:sB},tk=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function nk(e){return e}function n8r(e){return e.length===0?nk:e.length===1?e[0]:function(r){return e.reduce(function(t,n){return n(t)},r)}}var qi=function(){function e(r){r&&(this._subscribe=r)}return e.prototype.lift=function(r){var t=new e;return t.source=this,t.operator=r,t},e.prototype.subscribe=function(r,t,n){var i=this,c=a8r(r)?r:new oB(r,t,n);return p2(function(){var u=i,a=u.operator,s=u.source;c.add(a?a.call(c,s):s?i._subscribe(c):i._trySubscribe(c))}),c},e.prototype._trySubscribe=function(r){try{return this._subscribe(r)}catch(t){r.error(t)}},e.prototype.forEach=function(r,t){var n=this;return t=une(t),new t(function(i,c){var u=new oB({next:function(a){try{r(a)}catch(s){c(s),u.unsubscribe()}},error:c,complete:i});n.subscribe(u)})},e.prototype._subscribe=function(r){var t;return(t=this.source)===null||t===void 0?void 0:t.subscribe(r)},e.prototype[tk]=function(){return this},e.prototype.pipe=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];return n8r(r)(this)},e.prototype.toPromise=function(r){var t=this;return r=une(r),new r(function(n,i){var c;t.subscribe(function(u){return c=u},function(u){return i(u)},function(){return n(c)})})},e.create=function(r){return new e(r)},e}();function une(e){var r;return(r=e??wo.Promise)!==null&&r!==void 0?r:Promise}function i8r(e){return e&&nt(e.next)&&nt(e.error)&&nt(e.complete)}function a8r(e){return e&&e instanceof rk||i8r(e)&&Vae(e)}function s8r(e){return nt(e?.lift)}function cs(e){return function(r){if(s8r(r))return r.lift(function(t){try{return e(t,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function wa(e,r,t,n,i){return new o8r(e,r,t,n,i)}var o8r=function(e){du(r,e);function r(t,n,i,c,u,a){var s=e.call(this,t)||this;return s.onFinalize=u,s.shouldUnsubscribe=a,s._next=n?function(o){try{n(o)}catch(l){t.error(l)}}:e.prototype._next,s._error=c?function(o){try{c(o)}catch(l){t.error(l)}finally{this.unsubscribe()}}:e.prototype._error,s._complete=i?function(){try{i()}catch(o){t.error(o)}finally{this.unsubscribe()}}:e.prototype._complete,s}return r.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;e.prototype.unsubscribe.call(this),!n&&((t=this.onFinalize)===null||t===void 0||t.call(this))}},r}(rk),c8r=KB(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),g2=function(e){du(r,e);function r(){var t=e.call(this)||this;return t.closed=!1,t.currentObservers=null,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return r.prototype.lift=function(t){var n=new lne(this,this);return n.operator=t,n},r.prototype._throwIfClosed=function(){if(this.closed)throw new c8r},r.prototype.next=function(t){var n=this;p2(function(){var i,c;if(n._throwIfClosed(),!n.isStopped){n.currentObservers||(n.currentObservers=Array.from(n.observers));try{for(var u=m2(n.currentObservers),a=u.next();!a.done;a=u.next()){var s=a.value;s.next(t)}}catch(o){i={error:o}}finally{try{a&&!a.done&&(c=u.return)&&c.call(u)}finally{if(i)throw i.error}}}})},r.prototype.error=function(t){var n=this;p2(function(){if(n._throwIfClosed(),!n.isStopped){n.hasError=n.isStopped=!0,n.thrownError=t;for(var i=n.observers;i.length;)i.shift().error(t)}})},r.prototype.complete=function(){var t=this;p2(function(){if(t._throwIfClosed(),!t.isStopped){t.isStopped=!0;for(var n=t.observers;n.length;)n.shift().complete()}})},r.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(r.prototype,"observed",{get:function(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0},enumerable:!1,configurable:!0}),r.prototype._trySubscribe=function(t){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,t)},r.prototype._subscribe=function(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)},r.prototype._innerSubscribe=function(t){var n=this,i=this,c=i.hasError,u=i.isStopped,a=i.observers;return c||u?Jae:(this.currentObservers=null,a.push(t),new q2(function(){n.currentObservers=null,aB(a,t)}))},r.prototype._checkFinalizedStatuses=function(t){var n=this,i=n.hasError,c=n.thrownError,u=n.isStopped;i?t.error(c):u&&t.complete()},r.prototype.asObservable=function(){var t=new qi;return t.source=this,t},r.create=function(t,n){return new lne(t,n)},r}(qi),lne=function(e){du(r,e);function r(t,n){var i=e.call(this)||this;return i.destination=t,i.source=n,i}return r.prototype.next=function(t){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.next)===null||i===void 0||i.call(n,t)},r.prototype.error=function(t){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.error)===null||i===void 0||i.call(n,t)},r.prototype.complete=function(){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||n===void 0||n.call(t)},r.prototype._subscribe=function(t){var n,i;return(i=(n=this.source)===null||n===void 0?void 0:n.subscribe(t))!==null&&i!==void 0?i:Jae},r}(g2),u8r=function(e){du(r,e);function r(t){var n=e.call(this)||this;return n._value=t,n}return Object.defineProperty(r.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),r.prototype._subscribe=function(t){var n=e.prototype._subscribe.call(this,t);return!n.closed&&t.next(this._value),n},r.prototype.getValue=function(){var t=this,n=t.hasError,i=t.thrownError,c=t._value;if(n)throw i;return this._throwIfClosed(),c},r.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},r}(g2),l8r=new qi(function(e){return e.complete()}),Hae=function(e){return e&&typeof e.length=="number"&&typeof e!="function"};function d8r(e){return nt(e?.then)}function p8r(e){return nt(e[tk])}function f8r(e){return Symbol.asyncIterator&&nt(e?.[Symbol.asyncIterator])}function h8r(e){return new TypeError("You provided "+(e!==null&&typeof e=="object"?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function v8r(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var m8r=v8r();function y8r(e){return nt(e?.[m8r])}function g8r(e){return W6r(this,arguments,function(){var r,t,n,i;return zae(this,function(c){switch(c.label){case 0:r=e.getReader(),c.label=1;case 1:c.trys.push([1,,9,10]),c.label=2;case 2:return[4,zI(r.read())];case 3:return t=c.sent(),n=t.value,i=t.done,i?[4,zI(void 0)]:[3,5];case 4:return[2,c.sent()];case 5:return[4,zI(n)];case 6:return[4,c.sent()];case 7:return c.sent(),[3,2];case 8:return[3,10];case 9:return r.releaseLock(),[7];case 10:return[2]}})})}function b8r(e){return nt(e?.getReader)}function I2(e){if(e instanceof qi)return e;if(e!=null){if(p8r(e))return _8r(e);if(Hae(e))return w8r(e);if(d8r(e))return S8r(e);if(f8r(e))return Wae(e);if(y8r(e))return x8r(e);if(b8r(e))return O8r(e)}throw h8r(e)}function _8r(e){return new qi(function(r){var t=e[tk]();if(nt(t.subscribe))return t.subscribe(r);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function w8r(e){return new qi(function(r){for(var t=0;t<e.length&&!r.closed;t++)r.next(e[t]);r.complete()})}function S8r(e){return new qi(function(r){e.then(function(t){r.closed||(r.next(t),r.complete())},function(t){return r.error(t)}).then(null,Gae)})}function x8r(e){return new qi(function(r){var t,n;try{for(var i=m2(e),c=i.next();!c.done;c=i.next()){var u=c.value;if(r.next(u),r.closed)return}}catch(a){t={error:a}}finally{try{c&&!c.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}r.complete()})}function Wae(e){return new qi(function(r){D8r(e,r).catch(function(t){return r.error(t)})})}function O8r(e){return Wae(g8r(e))}function D8r(e,r){var t,n,i,c;return H6r(this,void 0,void 0,function(){var u,a;return zae(this,function(s){switch(s.label){case 0:s.trys.push([0,5,6,11]),t=$6r(e),s.label=1;case 1:return[4,t.next()];case 2:if(n=s.sent(),!!n.done)return[3,4];if(u=n.value,r.next(u),r.closed)return[2];s.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return a=s.sent(),i={error:a},[3,11];case 6:return s.trys.push([6,,9,10]),n&&!n.done&&(c=t.return)?[4,c.call(t)]:[3,8];case 7:s.sent(),s.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return r.complete(),[2]}})})}function N8r(e,r,t,n,i){n===void 0&&(n=0),i===void 0&&(i=!1);var c=r.schedule(function(){t(),i?e.add(this.schedule(null,n)):this.unsubscribe()},n);if(e.add(c),!i)return c}var $ae=KB(function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}});function Zl(e,r){return cs(function(t,n){var i=0;t.subscribe(wa(n,function(c){n.next(e.call(r,c,i++))}))})}var C8r=Array.isArray;function A8r(e,r){return C8r(r)?e.apply(void 0,id([],ou(r))):e(r)}function M8r(e){return Zl(function(r){return A8r(e,r)})}function P8r(e,r,t,n,i,c,u,a){var s=[],o=0,l=0,d=!1,p=function(){d&&!s.length&&!o&&r.complete()},f=function(h){return o<n?v(h):s.push(h)},v=function(h){c&&r.next(h),o++;var m=!1;I2(t(h,l++)).subscribe(wa(r,function(y){i?.(y),c?f(y):r.next(y)},function(){m=!0},void 0,function(){if(m)try{o--;for(var y=function(){var g=s.shift();u?N8r(r,u,function(){return v(g)}):v(g)};s.length&&o<n;)y();p()}catch(g){r.error(g)}}))};return e.subscribe(wa(r,f,function(){d=!0,p()})),function(){a?.()}}function ik(e,r,t){return t===void 0&&(t=1/0),nt(r)?ik(function(n,i){return Zl(function(c,u){return r(n,c,i,u)})(I2(e(n,i)))},t):(typeof r=="number"&&(t=r),cs(function(n,i){return P8r(n,i,e,t)}))}var E8r=["addListener","removeListener"],q8r=["addEventListener","removeEventListener"],I8r=["on","off"];function cB(e,r,t,n){if(nt(t)&&(n=t,t=void 0),n)return cB(e,r,t).pipe(M8r(n));var i=ou(j8r(e)?q8r.map(function(a){return function(s){return e[a](r,s,t)}}):B8r(e)?E8r.map(dne(e,r)):k8r(e)?I8r.map(dne(e,r)):[],2),c=i[0],u=i[1];if(!c&&Hae(e))return ik(function(a){return cB(a,r,t)})(I2(e));if(!c)throw new TypeError("Invalid event target");return new qi(function(a){var s=function(){for(var o=[],l=0;l<arguments.length;l++)o[l]=arguments[l];return a.next(1<o.length?o:o[0])};return c(s),function(){return u(s)}})}function dne(e,r){return function(t){return function(n){return e[t](r,n)}}}function B8r(e){return nt(e.addListener)&&nt(e.removeListener)}function k8r(e){return nt(e.on)&&nt(e.off)}function j8r(e){return nt(e.addEventListener)&&nt(e.removeEventListener)}function Qae(e,r){return cs(function(t,n){var i=0;t.subscribe(wa(n,function(c){return e.call(r,c,i++)&&n.next(c)}))})}function T8r(e){return cs(function(r,t){var n=!1;r.subscribe(wa(t,function(i){n=!0,t.next(i)},function(){n||t.next(e),t.complete()}))})}function R8r(e){return e<=0?function(){return l8r}:cs(function(r,t){var n=0;r.subscribe(wa(t,function(i){++n<=e&&(t.next(i),e<=n&&t.complete())}))})}function F8r(e){return e===void 0&&(e=L8r),cs(function(r,t){var n=!1;r.subscribe(wa(t,function(i){n=!0,t.next(i)},function(){return n?t.complete():t.error(e())}))})}function L8r(){return new $ae}function U8r(e,r){var t=arguments.length>=2;return function(n){return n.pipe(e?Qae(function(i,c){return e(i,c,n)}):nk,R8r(1),t?T8r(r):F8r(function(){return new $ae}))}}function z8r(e){return cs(function(r,t){I2(e).subscribe(wa(t,function(){return t.complete()},sB)),!t.closed&&r.subscribe(t)})}function J8r(e,r,t){var n=nt(e)||r||t?{next:e,error:r,complete:t}:e;return n?cs(function(i,c){var u;(u=n.subscribe)===null||u===void 0||u.call(n);var a=!0;i.subscribe(wa(c,function(s){var o;(o=n.next)===null||o===void 0||o.call(n,s),c.next(s)},function(){var s;a=!1,(s=n.complete)===null||s===void 0||s.call(n),c.complete()},function(s){var o;a=!1,(o=n.error)===null||o===void 0||o.call(n,s),c.error(s)},function(){var s,o;a&&((s=n.unsubscribe)===null||s===void 0||s.call(n)),(o=n.finalize)===null||o===void 0||o.call(n)}))}):nk}var pne="1",fne="2",hne="3",vne="4",mne="5",yne="6",gne="7",bne="8",_ne="q",wne="w",Sne="e",xne="r",One="t",Dne="y",Nne="u",Cne="i",Ane="!",Mne="@",Pne="#",Ene="$",qne="%",Ine="^",Bne="&",kne="*",jne="Q",Tne="W",Rne="E",Fne="R",Lne="T",Une="Y",zne="U",Jne="I",Vne="p",Gne="0",Hne="=",Wne="-",$ne="]",Qne="[",ak="0",sk="1",ok="6",ck="7",uk="2",lk="3",dk="4",pk="5",Yae="1",Zae="0",Xae="1",Kae="2",ese="3",rse="4",tse="5",nse="6",ise="7",ase="8",sse="Q",ose="W",cse="E",use="R",lse="T",dse="Y",pse="U",fse="I",fk="0",hk="1",vk="2",mk="3",yk="4",gk="5",bk="6",hse="X",vse="1",mse="0",yse="x",gse="1",bse="0",_se="1",wse="0",B2="normal",_k="shorted",wk="biasMethod",Sk="mvdd",xk="temp",Ok="testSig",Dk="biasDrp",Nk="biasDrn",Yne="d",V8r="D",Sse="Z",xse="z",uB="1",lB="0",Zne="G",Xne="H",Kne="J",eie="K",rie="L",tie="A",nie="S",iie="F",aie="a",G8r="j",sie="1hour",oie="2hour",cie="4hour",uie="12hour",lie="24hour",die="5min",pie="15min",fie="30min",hie="14sec",H8r="b",W8r="s",$8r="?",vie="CH1SET",mie="CH2SET",yie="CH3SET",gie="CH4SET",bie="CH5SET",_ie="CH6SET",wie="CH7SET",Sie="CH8SET",Q8r="v",Y8r="c",Z8r="C",X8r="",K8r="daisy removed",eRr="16",rRr="daisy attached16",tRr="no daisy to attach!8",nRr="g",iRr="f",aRr="`",sRr="<",oRr=",",Ose="/",Dse="0",Nse="1",Cse="2",Ase="3",cRr="/",Mse="analog",Pse="default",Ese="debug",qse="digital",Ise="~",Bse="0",kse="1",jse="2",Tse="3",Rse="4",Fse="5",Lse="6",Use="0",zse="1",Jse="2",Vse="3",Gse="4",Hse="5",Wse="6",$se="7",uRr="~",lRr="n",dRr="N",pRr="{",fRr="}",hRr=";",vRr=":",Xl="cyton",HI="cytonBLE",f2="daisy",mRr="default",Kl="ganglion",WI="none",yRr="60Hz",gRr="50Hz",bRr="none",_Rr="random",wRr="fullBuffers",SRr="oneByOne",xRr="none",ORr="Invalid Packet Byte Length",DRr="Invalid Start Byte",NRr="Invalid Stop Byte",CRr="Invalid data - try again",ARr="Invalid type - check comments for input type",MRr="Missing register setting",PRr="Missing property in JSON",ERr="Scan already under way",qRr="No scan started",IRr="Please turn blue tooth on.",BRr="'this.sync.curSyncObj' must not be null",kRr="Missed the time sync sent confirmation. Try sync again",jRr="Undefined or Null Input",xie="bad",Oie="none",Die="good",TRr="init",Nie="ok",RRr="OpenBCISimulator",FRr="v1",LRr="v2",URr="v3",zRr="Daisy",JRr="v2",VRr="Failure",GRr="$$$",HRr="Success",WRr="rawAux",$Rr="standard",QRr="default",YRr="fast",ZRr="accelerometer",XRr="blePoweredOn",KRr="close",eFr="droppedPacket",rFr="eot",tFr="error",nFr="ganglionFound",iFr="hardSet",aFr="impedance",sFr="impedanceArray",oFr="message",cFr="query",uFr="rawDataPacket",lFr="ready",dFr="rfduino",pFr="sample",fFr="scanStopped",hFr="synced",vFr="wifiShield",mFr={max:100,min:1},yFr={max:200,min:101},gFr=201,bFr=202,_Fr=203,wFr=204,SFr=205,xFr=206,OFr=207,DFr=20,NFr=2,CFr={auxByte:20,byteId:0,dataStart:1,dataStop:19},AFr={byteId:0,dataStart:1,dataStop:20},Qse=51,Yse=1.2,Ck="Ganglion",MFr="t",PFr="T",EFr="z",qFr="Z",IFr=Yse/(8388607*Qse*1.5),BFr="fe84",kFr="2d30c082f39f4ce6923f3484ea480596",jFr="2d30c083f39f4ce6923f3484ea480596",TFr="2d30c084f39f4ce6923f3484ea480596",RFr="2220",FFr="2221",LFr="2222",UFr="2223",zFr=3,JFr="connect",VFr="disconnect",GFr="discover",HFr="servicesDiscover",WFr="characteristicsDiscover",$Fr="read",QFr="discover",YFr="scanStart",ZFr="scanStop",XFr="stateChange",KFr="poweredOn",eLr="ble",rLr="serial",tLr="wifi",Ak=`
LIS3DH Registers
0x07.0
0x08.0
0x09.0
0x0A.0
0x0B.0
0x0C.0
0x0D.0
0x0E.0
0x0F.33

0x1F.0
0x20.8
0x21.0
0x22.0
0x23.18
0x24.0
0x25.0
0x26.0
0x27.0
0x28.0
0x29.0
0x2A.0
0x2B.0
0x2C.0
0x2D.0
0x2E.0
0x2F.20
0x30.0
0x31.0
0x32.0
0x33.0

0x38.0
0x39.0
0x3A.0
0x3B.0
0x3C.0
0x3D.0
`,Mk=`
LIS3DH Registers
0x07 00
0x08 00
0x09 00
0x0A 00
0x0B 00
0x0C 00
0x0D 00
0x0E 00
0x0F 33

0x1F 00
0x20 08
0x21 00
0x22 00
0x23 18
0x24 00
0x25 00
0x26 00
0x27 00
0x28 00
0x29 00
0x2A 00
0x2B 00
0x2C 00
0x2D 00
0x2E 00
0x2F 20
0x30 00
0x31 00
0x32 00
0x33 00

0x38 00
0x39 00
0x3A 00
0x3B 00
0x3C 00
0x3D 00
`,yd=`
Board ADS Registers
ADS_ID, 00, 3E, 0, 0, 1, 1, 1, 1, 1, 0
CONFIG1, 01, 96, 1, 0, 0, 1, 0, 1, 1, 0
CONFIG2, 02, C0, 1, 1, 0, 0, 0, 0, 0, 0
CONFIG3, 03, EC, 1, 1, 1, 0, 1, 1, 0, 0
LOFF, 04, 02, 0, 0, 0, 0, 0, 0, 1, 0
CH1SET, 05, 68, 0, 1, 1, 0, 1, 0, 0, 0
CH2SET, 06, 68, 0, 1, 1, 0, 1, 0, 0, 0
CH3SET, 07, 68, 0, 1, 1, 0, 1, 0, 0, 0
CH4SET, 08, 68, 0, 1, 1, 0, 1, 0, 0, 0
CH5SET, 09, 68, 0, 1, 1, 0, 1, 0, 0, 0
CH6SET, 0A, 68, 0, 1, 1, 0, 1, 0, 0, 0
CH7SET, 0B, 68, 0, 1, 1, 0, 1, 0, 0, 0
CH8SET, 0C, 68, 0, 1, 1, 0, 1, 0, 0, 0
BIAS_SENSP, 0D, FF, 1, 1, 1, 1, 1, 1, 1, 1
BIAS_SENSN, 0E, FF, 1, 1, 1, 1, 1, 1, 1, 1
LOFF_SENSP, 0F, 00, 0, 0, 0, 0, 0, 0, 0, 0
LOFF_SENSN, 10, 00, 0, 0, 0, 0, 0, 0, 0, 0
LOFF_FLIP, 11, 00, 0, 0, 0, 0, 0, 0, 0, 0
LOFF_STATP, 12, 00, 0, 0, 0, 0, 0, 0, 0, 0
LOFF_STATN, 13, 00, 0, 0, 0, 0, 0, 0, 0, 0
GPIO, 14, 0F, 0, 0, 0, 0, 1, 1, 1, 1
MISC1, 15, 00, 0, 0, 0, 0, 0, 0, 0, 0
MISC2, 16, 00, 0, 0, 0, 0, 0, 0, 0, 0
CONFIG4, 17, 00, 0, 0, 0, 0, 0, 0, 0, 0
`,Pk=`
Daisy ADS Registers
ADS_ID, 00, 3E, 0, 0, 1, 1, 1, 1, 1, 0
CONFIG1, 01, 96, 1, 0, 0, 1, 0, 1, 1, 0
CONFIG2, 02, C0, 1, 1, 0, 0, 0, 0, 0, 0
CONFIG3, 03, EC, 1, 1, 1, 0, 1, 1, 0, 0
LOFF, 04, 02, 0, 0, 0, 0, 0, 0, 1, 0
CH1SET, 05, 68, 0, 1, 1, 0, 1, 0, 0, 0
CH2SET, 06, 68, 0, 1, 1, 0, 1, 0, 0, 0
CH3SET, 07, 68, 0, 1, 1, 0, 1, 0, 0, 0
CH4SET, 08, 68, 0, 1, 1, 0, 1, 0, 0, 0
CH5SET, 09, 68, 0, 1, 1, 0, 1, 0, 0, 0
CH6SET, 0A, 68, 0, 1, 1, 0, 1, 0, 0, 0
CH7SET, 0B, 68, 0, 1, 1, 0, 1, 0, 0, 0
CH8SET, 0C, 68, 0, 1, 1, 0, 1, 0, 0, 0
BIAS_SENSP, 0D, FF, 1, 1, 1, 1, 1, 1, 1, 1
BIAS_SENSN, 0E, FF, 1, 1, 1, 1, 1, 1, 1, 1
LOFF_SENSP, 0F, 00, 0, 0, 0, 0, 0, 0, 0, 0
LOFF_SENSN, 10, 00, 0, 0, 0, 0, 0, 0, 0, 0
LOFF_FLIP, 11, 00, 0, 0, 0, 0, 0, 0, 0, 0
LOFF_STATP, 12, 00, 0, 0, 0, 0, 0, 0, 0, 0
LOFF_STATN, 13, 00, 0, 0, 0, 0, 0, 0, 0, 0
GPIO, 14, 0F, 0, 0, 0, 0, 1, 1, 1, 1
MISC1, 15, 00, 0, 0, 0, 0, 0, 0, 0, 0
MISC2, 16, 00, 0, 0, 0, 0, 0, 0, 0, 0
CONFIG4, 17, 00, 0, 0, 0, 0, 0, 0, 0, 0
`,nLr="MISC1",iLr="BIAS_SENSP",aLr=["CH1SET","CH2SET","CH3SET","CH4SET","CH5SET","CH6SET","CH7SET","CH8SET"],sLr=yd.length+Ak.length,oLr=yd.length+Pk.length+Ak.length,cLr=yd.length+Mk.length,uLr=yd.length+Pk.length+Mk.length,Zse={OBCIChannelOff1:pne,OBCIChannelOff2:fne,OBCIChannelOff3:hne,OBCIChannelOff4:vne,OBCIChannelOff5:mne,OBCIChannelOff6:yne,OBCIChannelOff7:gne,OBCIChannelOff8:bne,OBCIChannelOff9:_ne,OBCIChannelOff10:wne,OBCIChannelOff11:Sne,OBCIChannelOff12:xne,OBCIChannelOff13:One,OBCIChannelOff14:Dne,OBCIChannelOff15:Nne,OBCIChannelOff16:Cne,commandChannelOff:function(e){return new Promise(function(r,t){switch(e){case 1:r(pne);break;case 2:r(fne);break;case 3:r(hne);break;case 4:r(vne);break;case 5:r(mne);break;case 6:r(yne);break;case 7:r(gne);break;case 8:r(bne);break;case 9:r(_ne);break;case 10:r(wne);break;case 11:r(Sne);break;case 12:r(xne);break;case 13:r(One);break;case 14:r(Dne);break;case 15:r(Nne);break;case 16:r(Cne);break;default:t(Error("Error [commandChannelOff]: Invalid Channel Number"));break}})},OBCIChannelOn1:Ane,OBCIChannelOn2:Mne,OBCIChannelOn3:Pne,OBCIChannelOn4:Ene,OBCIChannelOn5:qne,OBCIChannelOn6:Ine,OBCIChannelOn7:Bne,OBCIChannelOn8:kne,OBCIChannelOn9:jne,OBCIChannelOn10:Tne,OBCIChannelOn11:Rne,OBCIChannelOn12:Fne,OBCIChannelOn13:Lne,OBCIChannelOn14:Une,OBCIChannelOn15:zne,OBCIChannelOn16:Jne,commandChannelOn:function(e){return new Promise(function(r,t){switch(e){case 1:r(Ane);break;case 2:r(Mne);break;case 3:r(Pne);break;case 4:r(Ene);break;case 5:r(qne);break;case 6:r(Ine);break;case 7:r(Bne);break;case 8:r(kne);break;case 9:r(jne);break;case 10:r(Tne);break;case 11:r(Rne);break;case 12:r(Fne);break;case 13:r(Lne);break;case 14:r(Une);break;case 15:r(zne);break;case 16:r(Jne);break;default:t(Error("Error [commandChannelOn]: Invalid Channel Number"));break}})},OBCITestSignalConnectToDC:Vne,OBCITestSignalConnectToGround:Gne,OBCITestSignalConnectToPulse1xFast:Hne,OBCITestSignalConnectToPulse1xSlow:Wne,OBCITestSignalConnectToPulse2xFast:$ne,OBCITestSignalConnectToPulse2xSlow:Qne,getTestSignalCommand:e=>new Promise((r,t)=>{switch(e){case"dc":r(Vne);break;case"ground":r(Gne);break;case"pulse1xFast":r(Hne);break;case"pulse1xSlow":r(Wne);break;case"pulse2xFast":r($ne);break;case"pulse2xSlow":r(Qne);break;case"none":r(Yne);break;default:t(Error("Invalid selection! Check your spelling."));break}}),OBCIChannelCmdADCNormal:ak,OBCIChannelCmdADCShorted:sk,OBCIChannelCmdADCBiasDRP:ok,OBCIChannelCmdADCBiasDRN:ck,OBCIChannelCmdADCBiasMethod:uk,OBCIChannelCmdADCMVDD:lk,OBCIChannelCmdADCTemp:dk,OBCIChannelCmdADCTestSig:pk,OBCIChannelCmdBiasInclude:Yae,OBCIChannelCmdBiasRemove:Zae,OBCIChannelCmdChannel1:Xae,OBCIChannelCmdChannel2:Kae,OBCIChannelCmdChannel3:ese,OBCIChannelCmdChannel4:rse,OBCIChannelCmdChannel5:tse,OBCIChannelCmdChannel6:nse,OBCIChannelCmdChannel7:ise,OBCIChannelCmdChannel8:ase,OBCIChannelCmdChannel9:sse,OBCIChannelCmdChannel10:ose,OBCIChannelCmdChannel11:cse,OBCIChannelCmdChannel12:use,OBCIChannelCmdChannel13:lse,OBCIChannelCmdChannel14:dse,OBCIChannelCmdChannel15:pse,OBCIChannelCmdChannel16:fse,commandChannelForCmd:Ek,OBCIChannelCmdGain1:fk,OBCIChannelCmdGain2:hk,OBCIChannelCmdGain4:vk,OBCIChannelCmdGain6:mk,OBCIChannelCmdGain8:yk,OBCIChannelCmdGain12:gk,OBCIChannelCmdGain24:bk,commandForGain:Kse,gainForCommand:yLr,OBCIChannelCmdLatch:hse,OBCIChannelCmdPowerOff:vse,OBCIChannelCmdPowerOn:mse,OBCIChannelCmdSet:yse,OBCIChannelCmdSRB1Connect:gse,OBCIChannelCmdSRB1Diconnect:bse,OBCIChannelCmdSRB2Connect:_se,OBCIChannelCmdSRB2Diconnect:wse,channelSettingsObjectDefault:Cie,channelSettingsArrayInit:e=>{for(var r=[],t=0;t<e;t++)r.push(Cie(t));return r},OBCIStringADCNormal:B2,OBCIStringADCShorted:_k,OBCIStringADCBiasMethod:wk,OBCIStringADCMvdd:Sk,OBCIStringADCTemp:xk,OBCIStringADCTestSig:Ok,OBCIStringADCBiasDrp:Dk,OBCIStringADCBiasDrn:Nk,commandForADCString:Xse,inputTypeForCommand:mLr,OBCIChannelDefaultAllSet:Yne,OBCIChannelDefaultAllGet:V8r,OBCIChannelImpedanceLatch:Sse,OBCIChannelImpedanceSet:xse,OBCIChannelImpedanceTestSignalApplied:uB,OBCIChannelImpedanceTestSignalAppliedNot:lB,OBCISDLogForHour1:Zne,OBCISDLogForHour2:Xne,OBCISDLogForHour4:Kne,OBCISDLogForHour12:eie,OBCISDLogForHour24:rie,OBCISDLogForMin5:tie,OBCISDLogForMin15:nie,OBCISDLogForMin30:iie,OBCISDLogForSec14:aie,OBCISDLogStop:G8r,OBCIStringSDHour1:sie,OBCIStringSDHour2:oie,OBCIStringSDHour4:cie,OBCIStringSDHour12:uie,OBCIStringSDHour24:lie,OBCIStringSDMin5:die,OBCIStringSDMin15:pie,OBCIStringSDMin30:fie,OBCIStringSDSec14:hie,sdSettingForString:e=>new Promise((r,t)=>{switch(e){case sie:r(Zne);break;case oie:r(Xne);break;case cie:r(Kne);break;case uie:r(eie);break;case lie:r(rie);break;case die:r(tie);break;case pie:r(nie);break;case fie:r(iie);break;case hie:r(aie);break;default:t(Error(TypeError));break}}),OBCIStreamStart:H8r,OBCIStreamStop:W8r,OBCIAccelStart:lRr,OBCIAccelStop:dRr,OBCIMiscQueryRegisterSettings:$8r,OBCIMiscQueryRegisterSettingsChannel1:vie,OBCIMiscQueryRegisterSettingsChannel2:mie,OBCIMiscQueryRegisterSettingsChannel3:yie,OBCIMiscQueryRegisterSettingsChannel4:gie,OBCIMiscQueryRegisterSettingsChannel5:bie,OBCIMiscQueryRegisterSettingsChannel6:_ie,OBCIMiscQueryRegisterSettingsChannel7:wie,OBCIMiscQueryRegisterSettingsChannel8:Sie,channelSettingsKeyForChannel:e=>new Promise((r,t)=>{switch(e){case 1:r(new Buffer(vie));break;case 2:r(new Buffer(mie));break;case 3:r(new Buffer(yie));break;case 4:r(new Buffer(gie));break;case 5:r(new Buffer(bie));break;case 6:r(new Buffer(_ie));break;case 7:r(new Buffer(wie));break;case 8:r(new Buffer(Sie));break;default:t(Error("Invalid channel number"));break}}),OBCIMiscSoftReset:Q8r,OBCIChannelMaxNumber8:Y8r,OBCIChannelMaxNumber16:Z8r,OBCIChannelMaxNumber8NoDaisyToRemove:X8r,OBCIChannelMaxNumber8SuccessDaisyRemoved:K8r,OBCIChannelMaxNumber16DaisyAlreadyAttached:eRr,OBCIChannelMaxNumber16DaisyAttached:rRr,OBCIChannelMaxNumber16NoDaisyAttached:tRr,OBCIFilterDisable:nRr,OBCIFilterEnable:iRr,OBCITrigger:aRr,OBCINumberOfChannelsCyton:8,OBCINumberOfChannelsCytonBLE:2,OBCINumberOfChannelsDaisy:16,OBCINumberOfChannelsDefault:8,OBCINumberOfChannelsGanglion:4,OBCIBoardCyton:Xl,OBCIBoardCytonBLE:HI,OBCIBoardDaisy:f2,OBCIBoardDefault:mRr,OBCIBoardGanglion:Kl,OBCIBoardNone:WI,numberOfChannelsForBoardType:e=>{switch(e){case f2:return 16;case Kl:return 4;case WI:return 0;case HI:return 2;case Xl:default:return 8}},boardTypeForNumberOfChannels:e=>{switch(e){case 16:return f2;case 4:return Kl;case 0:return WI;case 2:return HI;case 8:default:return Xl}},OBCISampleRate1000:1e3,OBCISampleRate125:125,OBCISampleRate12800:12800,OBCISampleRate1600:1600,OBCISampleRate16000:16e3,OBCISampleRate200:200,OBCISampleRate2000:2e3,OBCISampleRate250:250,OBCISampleRate25600:25600,OBCISampleRate3200:3200,OBCISampleRate400:400,OBCISampleRate4000:4e3,OBCISampleRate500:500,OBCISampleRate6400:6400,OBCISampleRate800:800,OBCISampleRate8000:8e3,OBCISampleNumberMax:255,OBCIPacketSize:33,OBCIPacketSizeBLECyton:20,OBCIPacketSizeBLERaw:12,OBCIByteStart:160,OBCIByteStop:192,OBCIErrorInvalidByteLength:ORr,OBCIErrorInvalidByteStart:DRr,OBCIErrorInvalidByteStop:NRr,OBCIErrorInvalidData:CRr,OBCIErrorInvalidType:ARr,OBCIErrorMissingRegisterSetting:MRr,OBCIErrorMissingRequiredProperty:PRr,OBCIErrorNobleAlreadyScanning:ERr,OBCIErrorNobleNotAlreadyScanning:qRr,OBCIErrorNobleNotInPoweredOnState:IRr,OBCIErrorTimeSyncIsNull:BRr,OBCIErrorTimeSyncNoComma:kRr,OBCIErrorUndefinedOrNullInput:jRr,OBCIMasterBufferSize:4096,OBCILeadOffDriveInAmps:6e-9,OBCILeadOffFrequencyHz:31.5,getChannelSetter:lLr,getImpedanceSetter:dLr,getSampleRateSetter:pLr,getBoardModeSetter:fLr,OBCIWriteIntervalDelayMSLong:50,OBCIWriteIntervalDelayMSNone:0,OBCIWriteIntervalDelayMSShort:10,OBCISyncTimeSent:oRr,OBCISyncTimeSet:sRr,OBCIRadioKey:240,OBCIRadioCmdChannelGet:0,OBCIRadioCmdChannelSet:1,OBCIRadioCmdChannelSetOverride:2,OBCIRadioCmdPollTimeGet:3,OBCIRadioCmdPollTimeSet:4,OBCIRadioCmdBaudRateSetDefault:5,OBCIRadioCmdBaudRateSetFast:6,OBCIRadioCmdSystemStatus:7,OBCIImpedanceTextBad:xie,OBCIImpedanceTextGood:Die,OBCIImpedanceTextInit:TRr,OBCIImpedanceTextOk:Nie,OBCIImpedanceTextNone:Oie,OBCIImpedanceThresholdBadMax:1e6,OBCIImpedanceSeriesResistor:2200,getTextForRawImpedance:e=>e>0&&e<5e3?Die:e>5001&&e<1e4?Nie:e>10001&&e<1e6?xie:Oie,OBCISimulatorPortName:RRr,OBCIStreamPacketStandardAccel:0,OBCIStreamPacketStandardRawAux:1,OBCIStreamPacketUserDefinedType:2,OBCIStreamPacketAccelTimeSyncSet:3,OBCIStreamPacketAccelTimeSynced:4,OBCIStreamPacketRawAuxTimeSyncSet:5,OBCIStreamPacketRawAuxTimeSynced:6,OBCIStreamPacketImpedance:7,isNumber:ad,isBoolean:mo,isString:k2,isUndefined:hLr,isNull:vLr,OBCIPacketPositionStartByte:0,OBCIPacketPositionStopByte:32,OBCIPacketPositionStartAux:26,OBCIPacketPositionStopAux:31,OBCIPacketPositionChannelDataStart:2,OBCIPacketPositionChannelDataStop:25,OBCIPacketPositionSampleNumber:1,OBCIPacketPositionTimeSyncAuxStart:26,OBCIPacketPositionTimeSyncAuxStop:28,OBCIPacketPositionTimeSyncTimeStart:28,OBCIPacketPositionTimeSyncTimeStop:32,OBCISimulatorLineNoiseHz60:yRr,OBCISimulatorLineNoiseHz50:gRr,OBCISimulatorLineNoiseNone:bRr,OBCISimulatorFragmentationRandom:_Rr,OBCISimulatorFragmentationFullBuffers:wRr,OBCISimulatorFragmentationOneByOne:SRr,OBCISimulatorFragmentationNone:xRr,OBCIFirmwareV1:FRr,OBCIFirmwareV2:LRr,OBCIFirmwareV3:URr,OBCIAccelAxisX:7,OBCIAccelAxisY:8,OBCIAccelAxisZ:9,OBCIStreamPacketTimeByteSize:4,OBCIParseDaisy:zRr,OBCIParseFailure:VRr,OBCIParseFirmware:JRr,OBCIParseEOT:GRr,OBCIParseSuccess:HRr,OBCIParsingChannelSettings:2,OBCIParsingEOT:4,OBCIParsingNormal:3,OBCIParsingReset:0,OBCIParsingTimeSyncSent:1,OBCITimeoutProcessBytes:500,OBCISimulatorRawAux:WRr,OBCISimulatorStandard:$Rr,OBCIRadioChannelMax:25,OBCIRadioChannelMin:1,OBCIRadioPollTimeMax:255,OBCIRadioPollTimeMin:0,OBCITimeSyncArraySize:10,OBCITimeSyncMultiplierWithSyncConf:.9,OBCITimeSyncMultiplierWithoutSyncConf:.75,OBCITimeSyncThresholdTransFailureMS:10,OBCIBoardModeSet:Ose,OBCIBoardModeCmdDefault:Dse,OBCIBoardModeCmdDebug:Nse,OBCIBoardModeCmdAnalog:Cse,OBCIBoardModeCmdDigital:Ase,OBCIBoardModeCmdGetCur:cRr,OBCIBoardModeAnalog:Mse,OBCIBoardModeDefault:Pse,OBCIBoardModeDebug:Ese,OBCIBoardModeDigital:qse,OBCISampleRateSet:Ise,OBCISampleRateCmdCyton16000:Bse,OBCISampleRateCmdCyton8000:kse,OBCISampleRateCmdCyton4000:jse,OBCISampleRateCmdCyton2000:Tse,OBCISampleRateCmdCyton1000:Rse,OBCISampleRateCmdCyton500:Fse,OBCISampleRateCmdCyton250:Lse,OBCISampleRateCmdGang25600:Use,OBCISampleRateCmdGang12800:zse,OBCISampleRateCmdGang6400:Jse,OBCISampleRateCmdGang3200:Vse,OBCISampleRateCmdGang1600:Gse,OBCISampleRateCmdGang800:Hse,OBCISampleRateCmdGang400:Wse,OBCISampleRateCmdGang200:$se,OBCISampleRateCmdGetCur:uRr,OBCIWifiAttach:pRr,OBCIWifiRemove:fRr,OBCIWifiReset:hRr,OBCIWifiStatus:vRr,OBCIRadioBaudRateDefault:115200,OBCIRadioBaudRateDefaultStr:QRr,OBCIRadioBaudRateFast:230400,OBCIRadioBaudRateFastStr:YRr,OBCIEmitterAccelerometer:ZRr,OBCIEmitterBlePoweredUp:XRr,OBCIEmitterClose:KRr,OBCIEmitterDroppedPacket:eFr,OBCIEmitterEot:rFr,OBCIEmitterError:tFr,OBCIEmitterGanglionFound:nFr,OBCIEmitterHardSet:iFr,OBCIEmitterImpedance:aFr,OBCIEmitterImpedanceArray:sFr,OBCIEmitterMessage:oFr,OBCIEmitterQuery:cFr,OBCIEmitterRawDataPacket:uFr,OBCIEmitterReady:lFr,OBCIEmitterRFduino:dFr,OBCIEmitterSample:pFr,OBCIEmitterScanStopped:fFr,OBCIEmitterSynced:hFr,OBCIEmitterWifiShield:vFr,OBCIGanglionAccelAxisX:1,OBCIGanglionAccelAxisY:2,OBCIGanglionAccelAxisZ:3,OBCIGanglionBleSearchTime:2e4,OBCIGanglionByteIdUncompressed:0,OBCIGanglionByteId18Bit:mFr,OBCIGanglionByteId19Bit:yFr,OBCIGanglionByteIdImpedanceChannel1:gFr,OBCIGanglionByteIdImpedanceChannel2:bFr,OBCIGanglionByteIdImpedanceChannel3:_Fr,OBCIGanglionByteIdImpedanceChannel4:wFr,OBCIGanglionByteIdImpedanceChannelReference:SFr,OBCIGanglionByteIdMultiPacket:xFr,OBCIGanglionByteIdMultiPacketStop:OFr,OBCIGanglionMCP3912Gain:Qse,OBCIGanglionMCP3912Vref:Yse,OBCIGanglionPacketSize:DFr,OBCIGanglionPacket18Bit:CFr,OBCIGanglionPacket19Bit:AFr,OBCIGanglionPrefix:Ck,OBCIGanglionSamplesPerPacket:NFr,OBCIGanglionSyntheticDataEnable:MFr,OBCIGanglionSyntheticDataDisable:PFr,OBCIGanglionImpedanceStart:EFr,OBCIGanglionImpedanceStop:qFr,OBCIGanglionScaleFactorPerCountVolts:IFr,SimbleeUuidService:BFr,SimbleeUuidReceive:kFr,SimbleeUuidSend:jFr,SimbleeUuidDisconnect:TFr,RFduinoUuidService:RFr,RFduinoUuidReceive:FFr,RFduinoUuidSend:LFr,RFduinoUuidSendTwo:UFr,OBCICytonBLESamplesPerPacket:zFr,OBCIGanglionAccelScaleFactor:.016,OBCINobleEmitterPeripheralConnect:JFr,OBCINobleEmitterPeripheralDisconnect:VFr,OBCINobleEmitterPeripheralDiscover:GFr,OBCINobleEmitterPeripheralServicesDiscover:HFr,OBCINobleEmitterServiceCharacteristicsDiscover:WFr,OBCINobleEmitterServiceRead:$Fr,OBCINobleEmitterDiscover:QFr,OBCINobleEmitterScanStart:YFr,OBCINobleEmitterScanStop:ZFr,OBCINobleEmitterStateChange:XFr,OBCINobleStatePoweredOn:KFr,getPeripheralLocalNames:_Lr,getPeripheralWithLocalName:wLr,getVersionNumber:SLr,isPeripheralGanglion:xLr,commandSampleRateForCmdCyton:eoe,commandSampleRateForCmdGanglion:roe,commandBoardModeForMode:toe,rawDataToSampleObjectDefault:gLr,OBCIProtocolBLE:eLr,OBCIProtocolSerial:rLr,OBCIProtocolWifi:tLr,OBCIRegisterQueryAccelerometerFirmwareV1:Ak,OBCIRegisterQueryAccelerometerFirmwareV3:Mk,OBCIRegisterQueryCyton:yd,OBCIRegisterQueryCytonDaisy:Pk,OBCIRegisterQueryNameMISC1:nLr,OBCIRegisterQueryNameBIASSENSP:iLr,OBCIRegisterQueryNameCHnSET:aLr,OBCIRegisterQuerySizeCytonFirmwareV1:sLr,OBCIRegisterQuerySizeCytonDaisyFirmwareV1:oLr,OBCIRegisterQuerySizeCytonFirmwareV3:cLr,OBCIRegisterQuerySizeCytonDaisyFirmwareV3:uLr};function lLr(e,r,t,n,i,c,u){var a,s,o,l;return new Promise(function(d,p){ad(e)||p(Error("channelNumber must be of type 'number' ")),mo(r)||p(Error("powerDown must be of type 'boolean' ")),ad(t)||p(Error("gain must be of type 'number' ")),k2(n)||p(Error("inputType must be of type 'string' ")),mo(i)||p(Error("bias must be of type 'boolean' ")),mo(c)||p(Error("srb1 must be of type 'boolean' ")),mo(u)||p(Error("srb2 must be of type 'boolean' "));var f=Ek(e).catch(y=>p(y));a=r?vse:mse;var v=Kse(t).catch(y=>p(y)),h=Xse(n).catch(y=>p(y));s=i?Yae:Zae,o=c?_se:wse,l=u?gse:bse;var m={channelNumber:e,powerDown:r,gain:t,inputType:n,bias:i,srb2:c,srb1:u};Promise.all([f,v,h]).then(function(y){var g=[yse,y[0],a,y[1],y[2],s,o,l,hse];d({commandArray:g,newChannelSettingsObject:m})})})}function dLr(e,r,t){var n,i;return new Promise((c,u)=>{ad(e)||u(Error("channelNumber must be of type 'number' ")),mo(r)||u(Error("pInputApplied must be of type 'boolean' ")),mo(t)||u(Error("nInputApplied must be of type 'boolean' ")),i=r?uB:lB,n=t?uB:lB,Ek(e).then(a=>{var s=[xse,a,i,n,Sse];c(s)}).catch(a=>u(a))})}function pLr(e,r){return new Promise((t,n)=>{if(!k2(e))return n(Error("board type must be of type 'string' "));if(!ad(r))return n(Error("sampleRate must be of type 'number' "));r=Math.floor(r);let i;if(e===Xl||e===f2)i=eoe;else if(e===Kl)i=roe;else return n(Error(`boardType must be either ${Xl} or ${Kl}`));i(r).then(c=>{var u=[Ise,c];t(u)}).catch(c=>n(c))})}function fLr(e){return new Promise((r,t)=>{if(!k2(e))return t(Error("board mode must be of type 'string' "));toe(e).then(n=>{var i=[Ose,n];r(i)}).catch(n=>t(n))})}function ad(e){return typeof e=="number"}function mo(e){return typeof e=="boolean"}function k2(e){return typeof e=="string"}function hLr(e){return typeof e>"u"}function vLr(e){return e===null}function Xse(e){return new Promise(function(r,t){switch(e){case B2:r(ak);break;case _k:r(sk);break;case wk:r(uk);break;case Sk:r(lk);break;case xk:r(dk);break;case Ok:r(pk);break;case Dk:r(ok);break;case Nk:r(ck);break;default:t(Error("Invalid ADC string"));break}})}function mLr(e){switch(String(e)){case ak:return B2;case sk:return _k;case uk:return wk;case lk:return Sk;case dk:return xk;case pk:return Ok;case ok:return Dk;case ck:return Nk;default:throw new Error("Invalid input type, must be less than 8")}}function Kse(e){return new Promise(function(r,t){switch(e){case 1:r(fk);break;case 2:r(hk);break;case 4:r(vk);break;case 6:r(mk);break;case 8:r(yk);break;case 12:r(gk);break;case 24:r(bk);break;default:t(Error("Invalid gain setting of "+e+" gain must be (1,2,4,6,8,12,24)"));break}})}function yLr(e){switch(String(e)){case fk:return 1;case hk:return 2;case vk:return 4;case mk:return 6;case yk:return 8;case gk:return 12;case bk:return 24;default:throw new Error(`Invalid gain setting of ${e} gain must be (0,1,2,3,4,5,6)`)}}function Ek(e){return new Promise(function(r,t){switch(e){case 1:r(Xae);break;case 2:r(Kae);break;case 3:r(ese);break;case 4:r(rse);break;case 5:r(tse);break;case 6:r(nse);break;case 7:r(ise);break;case 8:r(ase);break;case 9:r(sse);break;case 10:r(ose);break;case 11:r(cse);break;case 12:r(use);break;case 13:r(lse);break;case 14:r(dse);break;case 15:r(pse);break;case 16:r(fse);break;default:t(Error("Invalid channel number"));break}})}function Cie(e){return{channelNumber:e,powerDown:!1,gain:24,inputType:B2,bias:!0,srb2:!0,srb1:!1}}function gLr(e){return e===void 0&&(e=8),{accelArray:[0,0,0],channelSettings:Zse.channelSettingsArrayInit(e),decompressedSamples:bLr(e),lastSampleNumber:0,rawDataPacket:Buffer.alloc(33),rawDataPackets:[],scale:!0,sendCounts:!1,timeOffset:0,verbose:!1}}function bLr(e){let r=[];for(let t=0;t<3;t++)r.push(new Array(e));return r}function eoe(e){return new Promise(function(r,t){switch(e){case 16e3:r(Bse);break;case 8e3:r(kse);break;case 4e3:r(jse);break;case 2e3:r(Tse);break;case 1e3:r(Rse);break;case 500:r(Fse);break;case 250:r(Lse);break;default:t(Error("Invalid sample rate"));break}})}function roe(e){return new Promise(function(r,t){switch(e){case 25600:r(Use);break;case 12800:r(zse);break;case 6400:r(Jse);break;case 3200:r(Vse);break;case 1600:r(Gse);break;case 800:r(Hse);break;case 400:r(Wse);break;case 200:r($se);break;default:t(Error("Invalid sample rate"));break}})}function toe(e){return new Promise(function(r,t){switch(e){case Pse:r(Dse);break;case Ese:r(Nse);break;case Mse:r(Cse);break;case qse:r(Ase);break;default:t(Error("Invalid sample rate"));break}})}function _Lr(e){return new Promise((r,t)=>{var n=[];return e.forEach(i=>{n.push(i.advertisement.localName)}),n.length>0?r(n):t(Error(`No peripherals discovered with prefix equal to ${Ck}`))})}function wLr(e,r){return new Promise((t,n)=>typeof e!="object"?n(Error("pArray must be of type Object")):(e.forEach(i=>{if(i.advertisement.hasOwnProperty("localName")&&i.advertisement.localName===r)return t(i)}),n(Error(`No peripheral found with localName: ${r}`))))}function SLr(e){return Number(e[1])}function xLr(e){return!!(e&&e.hasOwnProperty("advertisement")&&e.advertisement!==null&&e.advertisement.hasOwnProperty("localName")&&e.advertisement.localName!==void 0&&e.advertisement.localName!==null&&e.advertisement.localName.indexOf(Ck)>-1)}var se=Zse,fo=4.5,au=.002/Math.pow(2,4),noe=3,Hn={extractRawDataPackets:e=>{if(!e)return{buffer:e,rawDataPackets:[]};let r=e.length,t=[];if(r<se.OBCIPacketSize)return{buffer:e,rawDataPackets:t};let n=0;for(;n<=r-se.OBCIPacketSize;){if(e[n]===se.OBCIByteStart&&rd(e[n+se.OBCIPacketSize-1])){let i;i=Uint8Array.from(e.slice(n,n+se.OBCIPacketSize)),t.push(i);let c;n>0?c=Uint8Array.concat([Uint8Array.from(e.slice(0,n)),Uint8Array.from(e.slice(n+se.OBCIPacketSize))]):c=Uint8Array.from(e.slice(se.OBCIPacketSize)),c.length===0?e=null:e=Uint8Array.from(c),n=-1,r-=se.OBCIPacketSize}n++}return{buffer:e,rawDataPackets:t}},extractRawBLEDataPackets:e=>{let r=[];if(se.isNull(e)||e.byteLength!==se.OBCIPacketSizeBLECyton)return r;let t=[0,0,0];t[0]=e[1],t[1]=t[0]+1,t[1]>255&&(t[1]-=256),t[2]=t[1]+1,t[2]>255&&(t[2]-=256);for(let n=0;n<se.OBCICytonBLESamplesPerPacket;n++){let i=Hn.samplePacketZero(t[n]);i[0]=se.OBCIByteStart,i[se.OBCIPacketPositionStopByte]=e[0],e.copy(i,se.OBCIPacketPositionChannelDataStart,se.OBCIPacketPositionChannelDataStart+n*6,se.OBCIPacketPositionChannelDataStart+6+n*6),r.push(i)}return r},transformRawDataPacketToSample:coe,transformRawDataPacketsToSample:MLr,convertGanglionArrayToBuffer:PLr,getRawPacketType:poe,getFromTimePacketAccel:uoe,getFromTimePacketTime:Ik,getFromTimePacketRawAux:Bk,ganglionFillRawDataPacket:ELr,parsePacketStandardAccel:qLr,parsePacketStandardRawAux:ILr,parsePacketTimeSyncedAccel:BLr,parsePacketTimeSyncedRawAux:kLr,parsePacketImpedance:jLr,convertSampleToPacketStandard:e=>{let r=new Uint8Array(se.OBCIPacketSize);r.fill(0),r[0]=se.OBCIByteStart,r[1]=e.sampleNumber;for(let t=0;t<se.OBCINumberOfChannelsDefault;t++)ed(e.channelData[t]).copy(r,2+t*3);for(let t=0;t<3;t++)Pie(e.auxData[t]).copy(r,se.OBCIPacketSize-1-6+t*2);return r[se.OBCIPacketSize-1]=se.OBCIByteStop,r},convertSampleToPacketRawAux:(e,r)=>{let t=new Uint8Array(se.OBCIPacketSize);t.fill(0),t[0]=se.OBCIByteStart,t[1]=e.sampleNumber;for(let n=0;n<se.OBCINumberOfChannelsDefault;n++)ed(e.channelData[n]).copy(t,2+n*3);return r.copy(t,26),t[se.OBCIPacketSize-1]=on(se.OBCIStreamPacketStandardRawAux),t},convertSampleToPacketAccelTimeSyncSet:(e,r)=>{let t=qie(e,r);return t[se.OBCIPacketPositionStopByte]=on(se.OBCIStreamPacketAccelTimeSyncSet),t},convertSampleToPacketAccelTimeSynced:qie,convertSampleToPacketRawAuxTimeSyncSet:(e,r,t)=>{let n=Eie(e,r,t);return n[se.OBCIPacketPositionStopByte]=on(se.OBCIStreamPacketRawAuxTimeSyncSet),n},convertSampleToPacketRawAuxTimeSynced:Eie,debugPrettyPrint:e=>{if(e==null)console.log("== Sample is undefined ==");else{console.log("-- Sample --"),console.log("---- Start Byte: "+e.startByte),console.log("---- Sample Number: "+e.sampleNumber);for(let r=0;r<8;r++)console.log("---- Channel Data "+(r+1)+": "+e.channelData[r]);if(e.accelData)for(let r=0;r<3;r++)console.log("---- Accel Data "+r+": "+e.accelData[r]);e.auxData&&console.log("---- Aux Data "+e.auxData),console.log("---- Stop Byte: "+e.stopByte)}},samplePrintHeader:()=>`All voltages in Volts!sampleNumber, channel1, channel2, channel3, channel4, channel5, channel6, channel7, channel8, aux1, aux2, aux3
`,samplePrintLine:e=>new Promise((r,t)=>{e==null&&t(Error("undefined sample")),r(e.sampleNumber+","+e.channelData[0].toFixed(8)+","+e.channelData[1].toFixed(8)+","+e.channelData[2].toFixed(8)+","+e.channelData[3].toFixed(8)+","+e.channelData[4].toFixed(8)+","+e.channelData[5].toFixed(8)+","+e.channelData[6].toFixed(8)+","+e.channelData[7].toFixed(8)+","+e.auxData[0].toFixed(8)+","+e.auxData[1].toFixed(8)+","+e.auxData[2].toFixed(8)+`
`)}),floatTo3ByteBuffer:ed,floatTo2ByteBuffer:Pie,impedanceCalculationForChannel:(e,r)=>{let t=Math.sqrt(2);return new Promise((n,i)=>{e==null&&i(Error("Sample Object cannot be null or undefined")),(e.channelData===void 0||e.channelData===null)&&i(Error("Channel cannot be null or undefined")),(r<1||r>se.OBCINumberOfChannelsDefault)&&i(Error("Channel number invalid."));let c=r-1;e.channelData[c]<0&&(e.channelData[c]*=-1);let u=t*e.channelData[c]/se.OBCILeadOffDriveInAmps;n(u)})},impedanceCalculationForAllChannels:e=>{let r=Math.sqrt(2);return new Promise((t,n)=>{e==null&&n(Error("Sample Object cannot be null or undefined")),(e.channelData===void 0||e.channelData===null)&&n(Error("Channel cannot be null or undefined"));let i=[],c=e.channelData.length;for(let u=0;u<c;u++){e.channelData[u]<0&&(e.channelData[u]*=-1);let a=r*e.channelData[u]/se.OBCILeadOffDriveInAmps;i.push(a)}e.impedances=i,t(e)})},interpret16bitAsInt32:e=>{let r=0;return e[0]>127&&(r=65535),r<<16|e[0]<<8|e[1]},interpret24bitAsInt32:e=>{let r=0;return e[0]>127&&(r=255),r<<24|e[0]<<16|e[1]<<8|e[2]},impedanceArray:e=>{let r=[];for(let t=0;t<e;t++)r.push(Mie(t+1));return r},impedanceObject:Mie,impedanceSummarize:e=>{e.raw>se.OBCIImpedanceThresholdBadMax?e.text=se.OBCIImpedanceTextNone:e.text=se.getTextForRawImpedance(e.raw)},newSample:foe,newSampleNoScale:hoe,scaleFactorAux:au,impedanceCalculateArray:(e,r)=>{if(r.buffer.push(e.channelData),r.count++,r.count>=r.window){let t=[];for(let n=0;n<e.channelData.length;n++){let i=0;for(let a=0;a<r.window;a++)r.buffer[n][a]>i&&(i=r.buffer[n][a]);let c=0;for(let a=0;a<r.window;a++)r.buffer[n][a]<c&&(c=r.buffer[n][a]);let u=i-c;t.push(u/2/se.OBCILeadOffDriveInAmps)}return r.count=0,t}return null},impedanceTestObjDefault:e=>{let r=e||{};return r.active=!1,r.buffer=[],r.count=0,r.isTestingPInput=!1,r.isTestingNInput=!1,r.onChannel=0,r.sampleNumber=0,r.continuousMode=!1,r.impedanceForChannel=0,r.window=40,r},samplePacket:e=>new Uint8Array([160,ya(e),0,0,1,0,0,2,0,0,3,0,0,4,0,0,5,0,0,6,0,0,7,0,0,8,0,0,0,1,0,2,on(se.OBCIStreamPacketStandardAccel)]),samplePacketZero:e=>new Uint8Array([160,ya(e),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,on(se.OBCIStreamPacketStandardAccel)]),samplePacketReal:e=>new Uint8Array([160,ya(e),143,242,64,143,223,244,144,43,182,143,191,191,127,255,255,127,255,255,148,37,52,32,182,125,0,224,0,224,15,112,on(se.OBCIStreamPacketStandardAccel)]),samplePacketStandardRawAux:e=>new Uint8Array([160,ya(e),0,0,1,0,0,2,0,0,3,0,0,4,0,0,5,0,0,6,0,0,7,0,0,8,0,1,2,3,4,5,on(se.OBCIStreamPacketStandardRawAux)]),samplePacketAccelTimeSyncSet:e=>new Uint8Array([160,ya(e),0,0,1,0,0,2,0,0,3,0,0,4,0,0,5,0,0,6,0,0,7,0,0,8,0,1,0,0,0,1,on(se.OBCIStreamPacketAccelTimeSyncSet)]),samplePacketAccelTimeSynced:e=>new Uint8Array([160,ya(e),0,0,1,0,0,2,0,0,3,0,0,4,0,0,5,0,0,6,0,0,7,0,0,8,0,1,0,0,0,1,on(se.OBCIStreamPacketAccelTimeSynced)]),samplePacketRawAuxTimeSyncSet:e=>new Uint8Array([160,ya(e),0,0,1,0,0,2,0,0,3,0,0,4,0,0,5,0,0,6,0,0,7,0,0,8,0,1,0,0,0,1,on(se.OBCIStreamPacketRawAuxTimeSyncSet)]),samplePacketRawAuxTimeSynced:e=>new Uint8Array([160,ya(e),0,0,1,0,0,2,0,0,3,0,0,4,0,0,5,0,0,6,0,0,7,0,0,8,0,1,0,0,0,1,on(se.OBCIStreamPacketRawAuxTimeSynced)]),samplePacketImpedance:e=>new Uint8Array([160,e,54,52,49,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,on(se.OBCIStreamPacketImpedance)]),samplePacketUserDefined:()=>new Uint8Array([160,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,on(se.OBCIStreamPacketUserDefinedType)]),samplePacketCytonBLE:e=>new Uint8Array([192,ya(e),0,0,1,0,0,2,0,0,10,0,0,20,0,0,100,0,0,200]),getBiasSetFromADSRegisterQuery:pB,getBooleanFromRegisterQuery:sd,getChannelDataArray:gd,getChannelDataArrayNoScale:bd,getDataArrayAccel:loe,getDataArrayAccelNoScale:doe,getFirmware:ULr,getSRB1FromADSRegisterQuery:dB,getNumFromThreeCSVADSRegisterQuery:fB,isEven:voe,isOdd:LLr,isStopByte:rd,isTimeSyncSetConfirmationInBuffer:JLr,makeDaisySampleObject:RLr,makeDaisySampleObjectWifi:FLr,makeTailByteFromPacketType:on,newSyncObject:ALr,setChSetFromADSRegisterQuery:hB,stripToEOTBuffer:zLr,syncChannelSettingsWithRawData:TLr,droppedPacketCheck:(e,r)=>{if(e===se.OBCISampleNumberMax&&r===0||r-e===1)return null;let t=[];if(e>r){let n=se.OBCISampleNumberMax-e;for(let i=0;i<n;i++)t.push(e+i+1);e=-1}for(let n=1;n<r-e;n++)t.push(e+n);return t},convert18bitAsInt32:ga,convert19bitAsInt32:ba,decompressDeltas18Bit:soe,decompressDeltas19Bit:ooe,sampleCompressedData:e=>new Uint8Array([e,0,0,0,0,8,0,5,0,0,72,0,9,240,1,176,0,48,0,8]),sampleBLERaw:()=>new Uint8Array([0,0,1,0,0,2,0,0,3,0,0,4]),sampleImpedanceChannel1:()=>new Uint8Array([se.OBCIGanglionByteIdImpedanceChannel1,0,0,1]),sampleImpedanceChannel2:()=>new Uint8Array([se.OBCIGanglionByteIdImpedanceChannel2,0,0,1]),sampleImpedanceChannel3:()=>new Uint8Array([se.OBCIGanglionByteIdImpedanceChannel3,0,0,1]),sampleImpedanceChannel4:()=>new Uint8Array([se.OBCIGanglionByteIdImpedanceChannel4,0,0,1]),sampleImpedanceChannelReference:()=>new Uint8Array([se.OBCIGanglionByteIdImpedanceChannelReference,0,0,1]),sampleMultiBytePacket:e=>{let r=new Uint8Array([se.OBCIGanglionByteIdMultiPacket]);return Uint8Array.concat([r,e])},sampleMultiBytePacketStop:e=>{let r=new Uint8Array([se.OBCIGanglionByteIdMultiPacketStop]);return Uint8Array.concat([r,e])},sampleOtherData:e=>{let r=new Uint8Array([255]);return Uint8Array.concat([r,e])},sampleUncompressedData:()=>new Uint8Array([0,0,0,1,0,0,2,0,0,3,0,0,4,1,2,3,4,5,6,7]),parseGanglion:OLr,processMultiBytePacket:qk,processMultiBytePacketStop:ioe};function OLr(e){let r=parseInt(e.rawDataPacket[0]);if(r<=se.OBCIGanglionByteId19Bit.max)return aoe(e);switch(r){case se.OBCIGanglionByteIdMultiPacket:return qk(e);case se.OBCIGanglionByteIdMultiPacketStop:return ioe(e);case se.OBCIGanglionByteIdImpedanceChannel1:case se.OBCIGanglionByteIdImpedanceChannel2:case se.OBCIGanglionByteIdImpedanceChannel3:case se.OBCIGanglionByteIdImpedanceChannel4:case se.OBCIGanglionByteIdImpedanceChannelReference:return NLr(e);default:return null}}function DLr(e){e.lastSampleNumber=parseInt(e.rawDataPacket[0]);let r=[];if(e.lastSampleNumber<=se.OBCIGanglionByteId18Bit.max)switch(Aie(e,soe(e.rawDataPacket.slice(se.OBCIGanglionPacket18Bit.dataStart,se.OBCIGanglionPacket18Bit.dataStop))),r.push(Yl(e.lastSampleNumber*2-1,e.decompressedSamples[1],e.sendCounts)),r.push(Yl(e.lastSampleNumber*2,e.decompressedSamples[2],e.sendCounts)),e.lastSampleNumber%10){case se.OBCIGanglionAccelAxisX:e.accelArray[0]=e.sendCounts?e.rawDataPacket.readInt8(se.OBCIGanglionPacket18Bit.auxByte-1):e.rawDataPacket.readInt8(se.OBCIGanglionPacket18Bit.auxByte-1)*se.OBCIGanglionAccelScaleFactor;break;case se.OBCIGanglionAccelAxisY:e.accelArray[1]=e.sendCounts?e.rawDataPacket.readInt8(se.OBCIGanglionPacket18Bit.auxByte-1):e.rawDataPacket.readInt8(se.OBCIGanglionPacket18Bit.auxByte-1)*se.OBCIGanglionAccelScaleFactor;break;case se.OBCIGanglionAccelAxisZ:e.accelArray[2]=e.sendCounts?e.rawDataPacket.readInt8(se.OBCIGanglionPacket18Bit.auxByte-1):e.rawDataPacket.readInt8(se.OBCIGanglionPacket18Bit.auxByte-1)*se.OBCIGanglionAccelScaleFactor,e.sendCounts?r[0].accelData=e.accelArray:r[0].accelDataCounts=e.accelArray;break;default:break}else Aie(e,ooe(e.rawDataPacket.slice(se.OBCIGanglionPacket19Bit.dataStart,se.OBCIGanglionPacket19Bit.dataStop))),r.push(Yl((e.lastSampleNumber-100)*2-1,e.decompressedSamples[1],e.sendCounts)),r.push(Yl((e.lastSampleNumber-100)*2,e.decompressedSamples[2],e.sendCounts));for(let t=0;t<se.OBCINumberOfChannelsGanglion;t++)e.decompressedSamples[0][t]=e.decompressedSamples[2][t];return r}function NLr(e){let r=parseInt(e.rawDataPacket[0]),t;switch(r){case se.OBCIGanglionByteIdImpedanceChannel1:t=1;break;case se.OBCIGanglionByteIdImpedanceChannel2:t=2;break;case se.OBCIGanglionByteIdImpedanceChannel3:t=3;break;case se.OBCIGanglionByteIdImpedanceChannel4:t=4;break;case se.OBCIGanglionByteIdImpedanceChannelReference:t=0;break}let n={channelNumber:t,impedanceValue:0},i=e.rawDataPacket.length;for(;Number.isNaN(Number(e.rawDataPacket.slice(1,i)))&&i!==0;)i--;return i!==0&&(n.impedanceValue=Number(e.rawDataPacket.slice(1,i))),n}function qk(e){e.multiPacketBuffer?e.multiPacketBuffer=Uint8Array.concat([Uint8Array.from(e.multiPacketBuffer),Uint8Array.from(e.rawDataPacket.slice(se.OBCIGanglionPacket19Bit.dataStart,se.OBCIGanglionPacket19Bit.dataStop))]):e.multiPacketBuffer=e.rawDataPacket.slice(se.OBCIGanglionPacket19Bit.dataStart,se.OBCIGanglionPacket19Bit.dataStop)}function ioe(e){qk(e);let r=e.multiPacketBuffer.toString();return e.multiPacketBuffer=null,{message:r}}function Aie(e,r){for(let t=1;t<3;t++)for(let n=0;n<4;n++)e.decompressedSamples[t][n]=e.decompressedSamples[t-1][n]-r[t-1][n]}function Yl(e,r,t){let n;if(t)n=hoe(e),n.channelDataCounts=r;else{n=foe(e);for(let i=0;i<se.OBCINumberOfChannelsGanglion;i++)n.channelData.push(r[i]*se.OBCIGanglionScaleFactorPerCountVolts)}return n.timestamp=Date.now(),n}function aoe(e){return parseInt(e.rawDataPacket[0])===se.OBCIGanglionByteIdUncompressed?CLr(e):DLr(e)}function CLr(e){e.lastSampleNumber=se.OBCIGanglionByteIdUncompressed;for(let r=0;r<4;r++)e.decompressedSamples[0][r]=Hn.interpret24bitAsInt32(e.rawDataPacket.slice(1+r*3,1+r*3+3));return[Yl(0,e.decompressedSamples[0],e.sendCounts)]}function ga(e){let r=0;return e[2]&1>0&&(r=16383),r<<18|e[0]<<16|e[1]<<8|e[2]}function ba(e){let r=0;return e[2]&1>0&&(r=8191),r<<19|e[0]<<16|e[1]<<8|e[2]}function soe(e){let r=new Array(se.OBCIGanglionSamplesPerPacket);r[0]=[0,0,0,0],r[1]=[0,0,0,0];let t=[];for(let i=0;i<se.OBCIGanglionSamplesPerPacket;i++)t.push([0,0,0,0]);let n;return n=new Uint8Array([e[0]>>6,(e[0]&63)<<2|e[1]>>6,(e[1]&63)<<2|e[2]>>6]),t[0][0]=ga(n),n=new Uint8Array([(e[2]&63)>>4,e[2]<<4|e[3]>>4,e[3]<<4|e[4]>>4]),t[0][1]=ga(n),n=new Uint8Array([(e[4]&15)>>2,e[4]<<6|e[5]>>2,e[5]<<6|e[6]>>2]),t[0][2]=ga(n),n=new Uint8Array([e[6]&3,e[7],e[8]]),t[0][3]=ga(n),n=new Uint8Array([e[9]>>6,(e[9]&63)<<2|e[10]>>6,(e[10]&63)<<2|e[11]>>6]),t[1][0]=ga(n),n=new Uint8Array([(e[11]&63)>>4,e[11]<<4|e[12]>>4,e[12]<<4|e[13]>>4]),t[1][1]=ga(n),n=new Uint8Array([(e[13]&15)>>2,e[13]<<6|e[14]>>2,e[14]<<6|e[15]>>2]),t[1][2]=ga(n),n=new Uint8Array([e[15]&3,e[16],e[17]]),t[1][3]=ga(n),t}function ooe(e){let r=new Array(se.OBCIGanglionSamplesPerPacket);r[0]=[0,0,0,0],r[1]=[0,0,0,0];let t=[];for(let i=0;i<se.OBCIGanglionSamplesPerPacket;i++)t.push([0,0,0,0]);let n;return n=new Uint8Array([e[0]>>5,(e[0]&31)<<3|e[1]>>5,(e[1]&31)<<3|e[2]>>5]),t[0][0]=ba(n),n=new Uint8Array([(e[2]&31)>>2,e[2]<<6|e[3]>>2,e[3]<<6|e[4]>>2]),t[0][1]=ba(n),n=new Uint8Array([(e[4]&3)<<1|e[5]>>7,(e[5]&127)<<1|e[6]>>7,(e[6]&127)<<1|e[7]>>7]),t[0][2]=ba(n),n=new Uint8Array([(e[7]&127)>>4,(e[7]&15)<<4|e[8]>>4,(e[8]&15)<<4|e[9]>>4]),t[0][3]=ba(n),n=new Uint8Array([(e[9]&15)>>1,e[9]<<7|e[10]>>1,e[10]<<7|e[11]>>1]),t[1][0]=ba(n),n=new Uint8Array([(e[11]&1)<<2|e[12]>>6,e[12]<<2|e[13]>>6,e[13]<<2|e[14]>>6]),t[1][1]=ba(n),n=new Uint8Array([(e[14]&56)>>3,(e[14]&7)<<5|(e[15]&248)>>3,(e[15]&7)<<5|(e[16]&248)>>3]),t[1][2]=ba(n),n=new Uint8Array([e[16]&7,e[17],e[18]]),t[1][3]=ba(n),t}function Mie(e){return{channel:e,P:{raw:-1,text:se.OBCIImpedanceTextInit},N:{raw:-1,text:se.OBCIImpedanceTextInit}}}function ALr(){return{boardTime:0,correctedTransmissionTime:!1,error:null,timeSyncSent:0,timeSyncSentConfirmation:0,timeSyncSetPacket:0,timeRoundTrip:0,timeTransmission:0,timeOffset:0,timeOffsetMaster:0,valid:!1}}function MLr(e){let r=[];for(let t=0;t<e.rawDataPackets.length;t++){e.rawDataPacket=e.rawDataPackets[t];let n=coe(e);r.push(n),n.hasOwnProperty("sampleNumber")?e.lastSampleNumber=n.sampleNumber:n.hasOwnProperty("impedanceValue")||(e.lastSampleNumber=e.rawDataPacket[se.OBCIPacketPositionSampleNumber])}return r}function coe(e){let r;try{switch(poe(e.rawDataPacket[se.OBCIPacketPositionStopByte])){case se.OBCIStreamPacketStandardAccel:r=Hn.parsePacketStandardAccel(e);break;case se.OBCIStreamPacketStandardRawAux:r=Hn.parsePacketStandardRawAux(e);break;case se.OBCIStreamPacketAccelTimeSyncSet:case se.OBCIStreamPacketAccelTimeSynced:r=Hn.parsePacketTimeSyncedAccel(e);break;case se.OBCIStreamPacketRawAuxTimeSyncSet:case se.OBCIStreamPacketRawAuxTimeSynced:r=Hn.parsePacketTimeSyncedRawAux(e);break;case se.OBCIStreamPacketImpedance:r=Hn.parsePacketImpedance(e);break;default:r={error:`bad stop byte ${e.rawDataPacket.slice(32,33).toString("hex")}`,valid:!1,rawDataPacket:e.rawDataPacket},e.verbose&&console.log(r.error);break}}catch(t){r={error:t,valid:!1,rawDataPacket:e.rawDataPacket},e.verbose&&console.log(t)}return r}function PLr(e,r){for(let t=0;t<se.OBCINumberOfChannelsGanglion;t++)r.writeInt16BE(e[t]>>8,t*3),r.writeInt8(e[t]&255,t*3+2)}function ELr(e){if(se.isUndefined(e)||se.isUndefined(e.rawDataPacket)||se.isNull(e.rawDataPacket)||se.isUndefined(e.data)||se.isNull(e.data))throw new Error(se.OBCIErrorUndefinedOrNullInput);if(!e.hasOwnProperty("sampleNumber"))throw new Error(se.OBCIErrorUndefinedOrNullInput);if(e.rawDataPacket.byteLength!==se.OBCIPacketSize)throw new Error(se.OBCIErrorInvalidByteLength);if(e.data.byteLength!==se.OBCIPacketSizeBLERaw)throw new Error(se.OBCIErrorInvalidByteLength);e.data.copy(e.rawDataPacket,se.OBCIPacketPositionChannelDataStart),e.rawDataPacket[se.OBCIPacketPositionSampleNumber]=e.sampleNumber,e.rawDataPacket[se.OBCIPacketPositionStartByte]=se.OBCIByteStart,e.rawDataPacket[se.OBCIPacketPositionStopByte]=se.OBCIStreamPacketStandardRawAux}function qLr(e){if(se.isUndefined(e)||se.isUndefined(e.rawDataPacket)||se.isNull(e.rawDataPacket))throw new Error(se.OBCIErrorUndefinedOrNullInput);if(e.rawDataPacket.byteLength!==se.OBCIPacketSize)throw new Error(se.OBCIErrorInvalidByteLength);if(e.rawDataPacket[0]!==se.OBCIByteStart)throw new Error(se.OBCIErrorInvalidByteStart);let r={};return(se.isUndefined(e.scale)||se.isNull(e.scale))&&(e.scale=!0),e.scale?r.accelData=loe(e.rawDataPacket.slice(se.OBCIPacketPositionStartAux,se.OBCIPacketPositionStopAux+1)):r.accelDataCounts=doe(e.rawDataPacket.slice(se.OBCIPacketPositionStartAux,se.OBCIPacketPositionStopAux+1)),e.scale?r.channelData=gd(e):r.channelDataCounts=bd(e),r.auxData=Uint8Array.from(e.rawDataPacket.slice(se.OBCIPacketPositionStartAux,se.OBCIPacketPositionStopAux+1)),r.sampleNumber=e.rawDataPacket[se.OBCIPacketPositionSampleNumber],r.startByte=e.rawDataPacket[0],r.stopByte=e.rawDataPacket[se.OBCIPacketPositionStopByte],r.valid=!0,r.timestamp=Date.now(),r.boardTime=0,r}function ILr(e){if(se.isUndefined(e)||se.isUndefined(e.rawDataPacket)||se.isNull(e.rawDataPacket))throw new Error(se.OBCIErrorUndefinedOrNullInput);if(e.rawDataPacket.byteLength!==se.OBCIPacketSize)throw new Error(se.OBCIErrorInvalidByteLength);if(e.rawDataPacket[0]!==se.OBCIByteStart)throw new Error(se.OBCIErrorInvalidByteStart);let r={};return(se.isUndefined(e.scale)||se.isNull(e.scale))&&(e.scale=!0),e.scale?r.channelData=gd(e):r.channelDataCounts=bd(e),r.auxData=Uint8Array.from(e.rawDataPacket.slice(se.OBCIPacketPositionStartAux,se.OBCIPacketPositionStopAux+1)),r.sampleNumber=e.rawDataPacket[se.OBCIPacketPositionSampleNumber],r.startByte=e.rawDataPacket[0],r.stopByte=e.rawDataPacket[se.OBCIPacketPositionStopByte],r.valid=!0,r.timestamp=Date.now(),r.boardTime=0,r}function BLr(e){if(se.isUndefined(e)||se.isUndefined(e.rawDataPacket)||se.isNull(e.rawDataPacket))throw new Error(se.OBCIErrorUndefinedOrNullInput);if(e.rawDataPacket.byteLength!==se.OBCIPacketSize)throw new Error(se.OBCIErrorInvalidByteLength);if(e.rawDataPacket[0]!==se.OBCIByteStart)throw new Error(se.OBCIErrorInvalidByteStart);let r={};return r.sampleNumber=e.rawDataPacket[se.OBCIPacketPositionSampleNumber],r.startByte=e.rawDataPacket[0],r.stopByte=e.rawDataPacket[se.OBCIPacketPositionStopByte],r.boardTime=Ik(e.rawDataPacket),e.hasOwnProperty("timeOffset")?r.timestamp=r.boardTime+e.timeOffset:r.timestamp=Date.now(),r.auxData=Bk(e.rawDataPacket),(se.isUndefined(e.scale)||se.isNull(e.scale))&&(e.scale=!0),e.scale?r.channelData=gd(e):r.channelDataCounts=bd(e),uoe(e)&&(e.scale?r.accelData=e.accelArray:r.accelDataCounts=e.accelArray),r.valid=!0,r}function kLr(e){if(se.isUndefined(e)||se.isUndefined(e.rawDataPacket)||se.isNull(e.rawDataPacket))throw new Error(se.OBCIErrorUndefinedOrNullInput);if(e.rawDataPacket.byteLength!==se.OBCIPacketSize)throw new Error(se.OBCIErrorInvalidByteLength);if(e.rawDataPacket[0]!==se.OBCIByteStart)throw new Error(se.OBCIErrorInvalidByteStart);let r={};return r.sampleNumber=e.rawDataPacket[se.OBCIPacketPositionSampleNumber],r.startByte=e.rawDataPacket[0],r.stopByte=e.rawDataPacket[se.OBCIPacketPositionStopByte],r.boardTime=Ik(e.rawDataPacket),e.hasOwnProperty("timeOffset")?r.timestamp=r.boardTime+e.timeOffset:r.timestamp=Date.now(),r.auxData=Bk(e.rawDataPacket),(se.isUndefined(e.scale)||se.isNull(e.scale))&&(e.scale=!0),e.scale?r.channelData=gd(e):r.channelDataCounts=bd(e),r.valid=!0,r}function jLr(e){if(se.isUndefined(e)||se.isUndefined(e.rawDataPacket)||se.isNull(e.rawDataPacket))throw new Error(se.OBCIErrorUndefinedOrNullInput);if(e.rawDataPacket.byteLength!==se.OBCIPacketSize)throw new Error(se.OBCIErrorInvalidByteLength);let r={};return r.channelNumber=e.rawDataPacket[1],r.channelNumber===5&&(r.channelNumber=0),r.impedanceValue=Number(e.rawDataPacket.toString().match(/\d+/)[0]),r}function sd(e,r,t){let n=e.match(r);if(n){let i=parseInt(e.charAt(n.index+t));if(Number.isNaN(i))throw new Error(se.OBCIErrorInvalidData);return Boolean(i)}else throw new Error(se.OBCIErrorMissingRegisterSetting)}function dB(e){return sd(e,se.OBCIRegisterQueryNameMISC1,21)}function pB(e,r){return sd(e,se.OBCIRegisterQueryNameBIASSENSP,20+r*3)}function fB(e,r,t){let n=e.match(r);if(n){let i=parseInt(e.charAt(n.index+t)),c=parseInt(e.charAt(n.index+t+3)),u=parseInt(e.charAt(n.index+t+6));if(!Number.isNaN(i)&&!Number.isNaN(c)&&!Number.isNaN(u))return i<<2|c<<1|u;throw new Error(se.OBCIErrorInvalidData)}else throw new Error(se.OBCIErrorMissingRegisterSetting)}function hB(e,r){let t=se.OBCIRegisterQueryNameCHnSET[r.channelNumber];t===void 0&&(t=se.OBCIRegisterQueryNameCHnSET[r.channelNumber-se.OBCINumberOfChannelsCyton]),r.powerDown=sd(e,t,16),r.gain=se.gainForCommand(fB(e,t,19)),r.inputType=se.inputTypeForCommand(fB(e,t,31)),r.srb2=sd(e,t,28)}function TLr(e){if(se.isUndefined(e)||se.isUndefined(e.channelSettings)||se.isNull(e.channelSettings)||se.isUndefined(e.data)||se.isNull(e.data))throw new Error(se.OBCIErrorUndefinedOrNullInput);if(!Array.isArray(e.channelSettings))throw new Error(`${se.OBCIErrorInvalidType} channelSettings`);if(e.channelSettings.length===se.OBCINumberOfChannelsCyton){if(e.data.toString().match(/Daisy ADS/))throw new Error("raw data mismatch - expected only cyton register info but also found daisy");if(e.data.toString().match(/Board ADS/)==null)throw new Error(se.OBCIErrorInvalidData)}else{if(e.data.toString().match(/Daisy ADS/)==null)throw new Error("raw data mismatch - expected daisy register info but none found");if(e.data.toString().match(/Board ADS/)==null)throw new Error("no Board ADS info found")}e.channelSettings.forEach(u=>{if(!u.hasOwnProperty("channelNumber")||!u.hasOwnProperty("powerDown")||!u.hasOwnProperty("gain")||!u.hasOwnProperty("inputType")||!u.hasOwnProperty("bias")||!u.hasOwnProperty("srb2")||!u.hasOwnProperty("srb1"))throw new Error(se.OBCIErrorMissingRequiredProperty)});let r=null,t=!1,n=!1,i=e.data.toString().match(/Board ADS/),c=e.data.toString().slice(i.index,se.OBCIRegisterQueryCyton.length);if(dB(c)&&(t=!0),e.channelSettings.length>se.OBCINumberOfChannelsCyton){let u=e.data.toString().match(/Daisy ADS/);r=e.data.toString().slice(u.index,u.index+se.OBCIRegisterQueryCytonDaisy.length),dB(c)&&(n=!0)}e.channelSettings.forEach(u=>{u.channelNumber<se.OBCINumberOfChannelsCyton?(hB(c,u),u.bias=pB(c,u.channelNumber),u.srb1=t):(hB(r,u),u.bias=pB(r,u.channelNumber-se.OBCINumberOfChannelsCyton),u.srb1=n)})}function Ik(e){let r=se.OBCIPacketSize-1;if(e.byteLength!==se.OBCIPacketSize)throw new Error(se.OBCIErrorInvalidByteLength);return e.readUInt32BE(r-se.OBCIStreamPacketTimeByteSize)}function uoe(e){let r=se.OBCIPacketSize-1-se.OBCIStreamPacketTimeByteSize-2;if(e.rawDataPacket.byteLength!==se.OBCIPacketSize)throw new Error(se.OBCIErrorInvalidByteLength);let t=e.rawDataPacket[se.OBCIPacketPositionSampleNumber],n=Hn.interpret16bitAsInt32(e.rawDataPacket.slice(r,r+2));switch(t%10){case se.OBCIAccelAxisX:return e.accelArray[0]=e.scale?n*au:n,!1;case se.OBCIAccelAxisY:return e.accelArray[1]=e.scale?n*au:n,!1;case se.OBCIAccelAxisZ:return e.accelArray[2]=e.scale?n*au:n,!0;default:return!1}}function Bk(e){if(e.byteLength!==se.OBCIPacketSize)throw new Error(se.OBCIErrorInvalidByteLength);return Uint8Array.from(e.slice(se.OBCIPacketPositionTimeSyncAuxStart,se.OBCIPacketPositionTimeSyncAuxStop))}function loe(e){let r=[];for(let t=0;t<noe;t++){let n=t*2;r.push(Hn.interpret16bitAsInt32(e.slice(n,n+2))*au)}return r}function doe(e){let r=[];for(let t=0;t<noe;t++){let n=t*2;r.push(Hn.interpret16bitAsInt32(e.slice(n,n+2)))}return r}function gd(e){if(!Array.isArray(e.channelSettings))throw new Error("Error [getChannelDataArray]: Channel Settings must be an array!");e.hasOwnProperty("protocol")||(e.protocol=se.OBCIProtocolSerial);let r=[],t=e.channelSettings.length,n=e.rawDataPacket[se.OBCIPacketPositionSampleNumber],i=t===se.OBCINumberOfChannelsDaisy,c=se.OBCINumberOfChannelsCyton;i||(c=e.channelSettings.length);for(let u=0;u<c;u++){if(!e.channelSettings[u].hasOwnProperty("gain"))throw new Error(`Error [getChannelDataArray]: Invalid channel settings object at index ${u}`);if(!se.isNumber(e.channelSettings[u].gain))throw new Error("Error [getChannelDataArray]: Property gain of channelSettingsObject not or type Number");let a=0;if(e.protocol===se.OBCIProtocolSerial)voe(n)&&i?a=fo/e.channelSettings[u+se.OBCINumberOfChannelsDefault].gain/(Math.pow(2,23)-1):a=fo/e.channelSettings[u].gain/(Math.pow(2,23)-1);else if(e.protocol===se.OBCIProtocolWifi)i?e.lastSampleNumber===n?a=fo/e.channelSettings[u+se.OBCINumberOfChannelsDefault].gain/(Math.pow(2,23)-1):a=fo/e.channelSettings[u].gain/(Math.pow(2,23)-1):e.channelSettings.length===se.OBCINumberOfChannelsCyton?a=fo/e.channelSettings[u].gain/(Math.pow(2,23)-1):a=se.OBCIGanglionScaleFactorPerCountVolts;else if(e.protocol===se.OBCIProtocolBLE)a=fo/e.channelSettings[u].gain/(Math.pow(2,23)-1);else throw new Error("Error [getChannelDataArray]: Invalid protocol must be wifi or serial");r.push(a*Hn.interpret24bitAsInt32(e.rawDataPacket.slice(u*3+se.OBCIPacketPositionChannelDataStart,u*3+se.OBCIPacketPositionChannelDataStart+3)))}return r}function bd(e){if(!Array.isArray(e.channelSettings))throw new Error("Error [getChannelDataArrayNoScale]: Channel Settings must be an array!");let r=[],t=e.channelSettings.length;t>se.OBCINumberOfChannelsDefault&&(t=se.OBCINumberOfChannelsDefault);for(let n=0;n<t;n++)r.push(Hn.interpret24bitAsInt32(e.rawDataPacket.slice(n*3+se.OBCIPacketPositionChannelDataStart,n*3+se.OBCIPacketPositionChannelDataStart+3)));return r}function poe(e){return e&15}function ya(e){return e||e===0?e>255&&(e=255):e=69,e}function foe(e){return e||e===0?e>255&&(e=255):e=0,{startByte:se.OBCIByteStart,sampleNumber:e,channelData:[],accelData:[],auxData:null,stopByte:se.OBCIByteStop,boardTime:0,timestamp:0,valid:!0}}function hoe(e){return e||e===0?e>255&&(e=255):e=0,{startByte:se.OBCIByteStart,sampleNumber:e,channelDataCounts:[],accelDataCounts:[],auxData:null,stopByte:se.OBCIByteStop,boardTime:0,timestamp:0,valid:!0}}function ed(e){let r=new Uint8Array(3);r.fill(0);let t=e/(fo/24/(Math.pow(2,23)-1));return t=Math.floor(t),r[2]=t&255,r[1]=(t&255<<8)>>8,r[0]=(t&255<<16)>>16,r}function Pie(e){let r=new Uint8Array(2);r.fill(0);let t=e/au;return t=Math.floor(t),r[1]=t&255,r[0]=(t&255<<8)>>8,r}function RLr(e,r){let t={};return e.hasOwnProperty("channelData")&&(t.channelData=e.channelData.concat(r.channelData)),e.hasOwnProperty("channelDataCounts")&&(t.channelDataCounts=e.channelDataCounts.concat(r.channelDataCounts)),t.sampleNumber=Math.floor(r.sampleNumber/2),t.auxData={lower:e.auxData,upper:r.auxData},t.stopByte=e.stopByte,t.timestamp=(e.timestamp+r.timestamp)/2,t._timestamps={lower:e.timestamp,upper:r.timestamp},e.hasOwnProperty("accelData")&&(e.accelData[0]>0||e.accelData[1]>0||e.accelData[2]>0?t.accelData=e.accelData:t.accelData=r.accelData),e.hasOwnProperty("accelDataCounts")&&(e.accelDataCounts[0]>0||e.accelDataCounts[1]>0||e.accelDataCounts[2]>0?t.accelDataCounts=e.accelDataCounts:t.accelDataCounts=r.accelDataCounts),t.valid=!0,t}function FLr(e,r){let t={};return e.hasOwnProperty("channelData")&&(t.channelData=e.channelData.concat(r.channelData)),e.hasOwnProperty("channelDataCounts")&&(t.channelDataCounts=e.channelDataCounts.concat(r.channelDataCounts)),t.sampleNumber=r.sampleNumber,t.auxData={lower:e.auxData,upper:r.auxData},e.hasOwnProperty("timestamp")&&(t.timestamp=e.timestamp),t.stopByte=e.stopByte,t._timestamps={lower:e.timestamp,upper:r.timestamp},e.hasOwnProperty("accelData")&&(e.accelData[0]>0||e.accelData[1]>0||e.accelData[2]>0?t.accelData=e.accelData:t.accelData=r.accelData),e.hasOwnProperty("accelDataCounts")&&(e.accelDataCounts[0]>0||e.accelDataCounts[1]>0||e.accelDataCounts[2]>0?t.accelDataCounts=e.accelDataCounts:t.accelDataCounts=r.accelDataCounts),t.valid=!0,t}function voe(e){return e%2===0}function LLr(e){return e%2===1}function ULr(e){let r=/v\d.\d*.\d*/,t=e.toString().match(r);if(t){let n=t[0].split(".");return{major:Number(n[0][1]),minor:Number(n[1]),patch:Number(n[2]),raw:t[0]}}else return t}function zLr(e){let r=e.indexOf(se.OBCIParseEOT);if(r>=0)r+=se.OBCIParseEOT.length;else return e;return r<e.byteLength?Uint8Array.from(e.slice(r)):null}function JLr(e){if(e){let r=e.length;switch(r){case 0:return!1;case 1:return e[0]===se.OBCISyncTimeSent.charCodeAt(0);case 2:return e[1]===se.OBCIByteStart?e[0]===se.OBCISyncTimeSent.charCodeAt(0):rd(e[0])?e[1]===se.OBCISyncTimeSent.charCodeAt(0):!1;default:if(e[0]===se.OBCISyncTimeSent.charCodeAt(0)&&e[1]===se.OBCIByteStart)return!0;for(let t=1;t<r;t++)if(t===r-1){if(rd(e[t-1]))return e[t]===se.OBCISyncTimeSent.charCodeAt(0)}else if(rd(e[t-1])&&e[t+1]===se.OBCIByteStart)return e[t]===se.OBCISyncTimeSent.charCodeAt(0);return!1}}}function Eie(e,r,t){let n=new Uint8Array(se.OBCIPacketSize);n.fill(0),n[0]=se.OBCIByteStart,n[1]=e.sampleNumber;for(let i=0;i<se.OBCINumberOfChannelsDefault;i++)ed(e.channelData[i]).copy(n,2+i*3);return t.copy(n,26),n.writeInt32BE(r,28),n[se.OBCIPacketSize-1]=on(se.OBCIStreamPacketRawAuxTimeSynced),n}function qie(e,r){let t=new Uint8Array(se.OBCIPacketSize);t.fill(0),t[0]=se.OBCIByteStart,t[1]=e.sampleNumber;for(let n=0;n<se.OBCINumberOfChannelsDefault;n++)ed(e.channelData[n]).copy(t,2+n*3);return t.writeInt32BE(r,28),t[se.OBCIPacketSize-1]=on(se.OBCIStreamPacketAccelTimeSynced),t}function on(e){return(e<0||e>15)&&(e=0),se.OBCIByteStop|e}function rd(e){return(e&240)===se.OBCIByteStop}var VLr=e=>{var r=e,{channelData:t}=r,n=L6r(r,["channelData"]);return iB(nB({},n),{data:t})},GLr="ganglion",HLr={reader:"2d30c082-f39f-4ce6-923f-3484ea480596",writer:"2d30c083-f39f-4ce6-923f-3484ea480596",connection:"2d30c084-f39f-4ce6-923f-3484ea480596"},WLr="characteristicvaluechanged",$Lr="gattserverdisconnected",QLr={filters:[{namePrefix:"Ganglion-"}],optionalServices:[65156]},YLr={start:"b",accelData:"n"};function ZLr(e){let r=parseInt(e.rawDataPacket[0]);if(r<=se.OBCIGanglionByteId19Bit.max)return aoe(e);switch(r){case se.OBCIGanglionByteIdMultiPacket:return processMultiBytePacket(e);case se.OBCIGanglionByteIdMultiPacketStop:return processMultiBytePacketStop(e);case se.OBCIGanglionByteIdImpedanceChannel1:case se.OBCIGanglionByteIdImpedanceChannel2:case se.OBCIGanglionByteIdImpedanceChannel3:case se.OBCIGanglionByteIdImpedanceChannel4:case se.OBCIGanglionByteIdImpedanceChannelReference:return processImpedanceData(e);default:return null}}var XLr=class{constructor(e={}){this.options=e,this.gatt=null,this.device=null,this.deviceName=null,this.service=null,this.characteristics=null,this.onDisconnect$=new g2,this.boardName=GLr,this.channelSize=4;function r(i){return{channelNumber:i,powerDown:!1,gain:24,inputType:"normal",bias:!0,srb2:!0,srb1:!1}}let t=i=>{for(var c=[],u=0;u<i;u++)c.push(r(u));return c};function n(i){let c=[];for(let u=0;u<3;u++)c.push(new Array(i));return c}this.rawDataPacketToSample={accelArray:[0,0,0],channelSettings:t(4),decompressedSamples:n(4),lastSampleNumber:0,rawDataPacket:new Uint8Array(33).buffer,rawDataPackets:[],scale:!0,sendCounts:!1,timeOffset:0,verbose:!1},this.connectionStatus=new u8r(!1),this.stream=new g2().pipe(Zl(i=>this.eventToBufferMapper(i)),J8r(i=>this.setRawDataPacket(i)),Zl(()=>ZLr(this.rawDataPacketToSample)),ik(i=>i),Zl(VLr),z8r(this.onDisconnect$)),this.accelData=this.stream.pipe(Qae(i=>i.accelData.length))}eventToBufferMapper(e){return new Uint8Array(e.target.value.buffer)}setRawDataPacket(e){this.rawDataPacketToSample.rawDataPacket=e}connect(){return one(this,null,function*(){this.device=yield navigator.bluetooth.requestDevice(QLr),this.addDisconnectedEvent(),this.gatt=yield this.device.gatt.connect(),this.deviceName=this.gatt.device.name,this.service=yield this.gatt.getPrimaryService(65156),this.setCharacteristics(yield this.service.getCharacteristics()),this.connectionStatus.next(!0)})}setCharacteristics(e){this.characteristics=Object.entries(HLr).reduce((r,[t,n])=>iB(nB({},r),{[t]:e.find(i=>i.uuid===n)}),{})}start(){return one(this,null,function*(){let{reader:e,writer:r}=this.characteristics,t=Object.entries(YLr).reduce((n,[i,c])=>iB(nB({},n),{[i]:new TextEncoder().encode(c)}),{});e.startNotifications(),e.addEventListener(WLr,n=>{this.stream.next(n)}),this.options.accelData&&(yield r.writeValue(t.accelData),e.readValue()),yield r.writeValue(t.start),e.readValue()})}addDisconnectedEvent(){cB(this.device,$Lr).pipe(U8r()).subscribe(()=>{this.gatt=null,this.device=null,this.deviceName=null,this.service=null,this.characteristics=null,this.connectionStatus.next(!1)})}disconnect(){!this.gatt||(this.onDisconnect$.next(),this.gatt.disconnect())}},su=250,kk={sps:su,connect:(e={})=>new Promise(async(r,t)=>{let n=`ganglion${Math.floor(Math.random()*1e15)}`,i=new XLr,c={_id:n,client:i,settings:Object.assign(Object.assign({},kk),e)};await i.connect(),await i.start(),i.stream.subscribe(u=>{u.origin="eeg",c.settings.ondata(u)}),i.accelData.subscribe(u=>{u.origin="accelerometer",c.settings.ondata(u)}),c.settings.onconnect&&c.settings.onconnect(c),r(c)}),codec:e=>{let r=e.origin;if(r==="eeg")return{0:e.data[0],1:e.data[1],2:e.data[2],3:e.data[3],timestamp:Date.now()};if(r==="accelerometer")return{ax:e.data[0],ay:e.data[1],az:e.data[2],timestamp:Date.now()}},disconnect:e=>{e.client.disconnect(),e.settings.ondisconnect(e)},onconnect:e=>{console.log("ganglion connected!",e)},ondisconnect:e=>{console.log("ganglion disconnected!",e)},ondata:e=>{console.log(e)}},i2={sps:su,useDCBlock:!0,useBandpass:!0,bandpassLower:3,bandpassUpper:45},KLr={0:JSON.parse(JSON.stringify(i2)),1:JSON.parse(JSON.stringify(i2)),2:JSON.parse(JSON.stringify(i2)),3:JSON.parse(JSON.stringify(i2))},a2={nSec:10,sps:su,units:"mV"},eUr={lines:{0:JSON.parse(JSON.stringify(a2)),1:JSON.parse(JSON.stringify(a2)),2:JSON.parse(JSON.stringify(a2)),3:JSON.parse(JSON.stringify(a2)),ax:{nSec:10,sps:su,units:"mg"},ay:{nSec:10,sps:su,units:"mg"},az:{nSec:10,sps:su,units:"mg"}},generateNewLines:!0};function td(e){let r;e.getInt8?r=new Uint8Array(e.buffer):e.buffer?r=e:r=new Uint8Array(e);let t={0:new Array(9),1:new Array(9),2:new Array(9),3:new Array(9),4:new Array(9),5:new Array(9),6:new Array(9),7:new Array(9),timestamp:Date.now()};for(let n=0;n<9;n++){let i=n*25;t[0][n]=sr.bytesToInt24(r[i],r[i+1],r[i+2]),t[1][n]=sr.bytesToInt24(r[i+3],r[i+4],r[i+5]),t[2][n]=sr.bytesToInt24(r[i+6],r[i+7],r[i+8]),t[3][n]=sr.bytesToInt24(r[i+9],r[i+10],r[i+11]),t[4][n]=sr.bytesToInt24(r[i+12],r[i+13],r[i+14]),t[5][n]=sr.bytesToInt24(r[i+15],r[i+16],r[i+17]),t[6][n]=sr.bytesToInt24(r[i+18],r[i+19],r[i+20]),t[7][n]=sr.bytesToInt24(r[i+21],r[i+22],r[i+23])}return t}var Tit=new TextDecoder,moe=250,rs={nSec:10,sps:moe,units:"mV"},Rit={lines:{0:JSON.parse(JSON.stringify(rs)),1:JSON.parse(JSON.stringify(rs)),2:JSON.parse(JSON.stringify(rs)),3:JSON.parse(JSON.stringify(rs)),4:JSON.parse(JSON.stringify(rs)),5:JSON.parse(JSON.stringify(rs)),6:JSON.parse(JSON.stringify(rs)),7:JSON.parse(JSON.stringify(rs))}},rUr=32,tUr=24,nUr=1.2,ts={sps:moe,useDCBlock:!1,useBandpass:!1,bandpassLower:3,bandpassUpper:45,useScaling:!0,scalar:.96*1e3*nUr/(rUr*(Math.pow(2,tUr)-1))},Fit={0:JSON.parse(JSON.stringify(ts)),1:JSON.parse(JSON.stringify(ts)),2:JSON.parse(JSON.stringify(ts)),3:JSON.parse(JSON.stringify(ts)),4:JSON.parse(JSON.stringify(ts)),5:JSON.parse(JSON.stringify(ts)),6:JSON.parse(JSON.stringify(ts)),7:JSON.parse(JSON.stringify(ts))};function iUr(e){let r;e.buffer?r=e:r=new Uint8Array(e);let t={};for(let i=0;i<8;i++){let c=1+3*i;t[i]=sr.bytesToInt24(r[c],r[c+1],r[c+2])}let n=25;return t.ax=sr.bytesToInt16(r[n],r[n+1]),t.ay=sr.bytesToInt16(r[n+2],r[n+3]),t.az=sr.bytesToInt16(r[n+4],r[n+5]),t.gx=sr.bytesToInt16(r[n+6],r[n+7]),t.gy=sr.bytesToInt16(r[n+8],r[n+9]),t.gz=sr.bytesToInt16(r[n+10],r[n+11]),t.timestamp=Date.now(),t}var jk=250,$I={baudRate:115200,codec:iUr,sps:jk},Mn={nSec:10,sps:jk,units:"mV"},Lit={lines:{0:JSON.parse(JSON.stringify(Mn)),1:JSON.parse(JSON.stringify(Mn)),2:JSON.parse(JSON.stringify(Mn)),3:JSON.parse(JSON.stringify(Mn)),4:JSON.parse(JSON.stringify(Mn)),5:JSON.parse(JSON.stringify(Mn)),6:JSON.parse(JSON.stringify(Mn)),7:JSON.parse(JSON.stringify(Mn)),ax:JSON.parse(JSON.stringify(Mn)),ay:JSON.parse(JSON.stringify(Mn)),az:JSON.parse(JSON.stringify(Mn)),gx:JSON.parse(JSON.stringify(Mn)),gy:JSON.parse(JSON.stringify(Mn)),gz:JSON.parse(JSON.stringify(Mn))},generateNewLines:!0},an={sps:jk,useDCBlock:!0,useBandpass:!0,bandpassLower:3,bandpassUpper:45,useScaling:!0,scalar:1e3*4.5/(24*(Math.pow(2,23)-1))},Uit={0:JSON.parse(JSON.stringify(an)),1:JSON.parse(JSON.stringify(an)),2:JSON.parse(JSON.stringify(an)),3:JSON.parse(JSON.stringify(an)),4:JSON.parse(JSON.stringify(an)),5:JSON.parse(JSON.stringify(an)),6:JSON.parse(JSON.stringify(an)),7:JSON.parse(JSON.stringify(an)),8:JSON.parse(JSON.stringify(an)),9:JSON.parse(JSON.stringify(an)),10:JSON.parse(JSON.stringify(an)),11:JSON.parse(JSON.stringify(an)),12:JSON.parse(JSON.stringify(an)),13:JSON.parse(JSON.stringify(an)),14:JSON.parse(JSON.stringify(an)),15:JSON.parse(JSON.stringify(an))};function aUr(e){let r;e.getInt8?r=new Uint8Array(e.buffer):e.buffer?r=e:r=new Uint8Array(e);let t={};for(let i=0;i<128;i++){let c=i*3+1;t[i]=sr.bytesToInt24(r[c],r[c+1],r[c+2])}let n=385;return t.ax=sr.bytesToInt16(r[n],r[n+1]),t.ay=sr.bytesToInt16(r[n+2],r[n+3]),t.az=sr.bytesToInt16(r[n+4],r[n+5]),t.gx=sr.bytesToInt16(r[n+6],r[n+7]),t.gy=sr.bytesToInt16(r[n+8],r[n+9]),t.gz=sr.bytesToInt16(r[n+10],r[n+11]),t.timestamp=Date.now(),t}var ss=250,sUr={baudRate:921600,bufferSize:2e3,frequency:1.9,codec:aUr,sps:ss},oUr={lines:{ax:{nSec:10,sps:ss},ay:{nSec:10,sps:ss},az:{nSec:10,sps:ss},gx:{nSec:10,sps:ss},gy:{nSec:10,sps:ss},gz:{nSec:10,sps:ss}}},cUr={};for(let e=0;e<128;e++)oUr.lines[e]={sps:ss,nSec:10,units:"mV"},cUr[e]={sps:250,useDCBlock:!0,useBandpass:!0,bandpassLower:3,bandpassUpper:45,scalar:1e3*2.5/(32*(Math.pow(2,24)-1))};function yoe(e){let r;e.getInt8?r=new Uint8Array(e.buffer):e.buffer?r=e:r=new Uint8Array(e);let t={};for(let i=0;i<32;i++){let c=i*3+1;t[i]=sr.bytesToInt24(r[c],r[c+1],r[c+2])}let n=97;return t.ax=sr.bytesToInt16(r[n],r[n+1]),t.ay=sr.bytesToInt16(r[n+2],r[n+3]),t.az=sr.bytesToInt16(r[n+4],r[n+5]),t.gx=sr.bytesToInt16(r[n+6],r[n+7]),t.gy=sr.bytesToInt16(r[n+8],r[n+9]),t.gz=sr.bytesToInt16(r[n+10],r[n+11]),t.timestamp=Date.now(),t}var od=512,uUr={baudRate:921600,bufferSize:2e3,frequency:1.9,codec:yoe,sps:od},lUr={baudRate:1e6,bufferSize:2e3,frequency:1.9,codec:yoe,sps:od},Xc={nSec:10,sps:od},dUr={lines:{ax:JSON.parse(JSON.stringify(Xc)),ay:JSON.parse(JSON.stringify(Xc)),az:JSON.parse(JSON.stringify(Xc)),gx:JSON.parse(JSON.stringify(Xc)),gy:JSON.parse(JSON.stringify(Xc)),gz:JSON.parse(JSON.stringify(Xc))}},pUr={};for(let e=0;e<32;e++)dUr.lines[e]={sps:od,nSec:10,units:"mV"},pUr[e]={sps:od,useDCBlock:!0,useBandpass:!0,bandpassLower:3,bandpassUpper:45,useScaling:!0,scalar:1e3*2.5/(8*(Math.pow(2,24)-1))};var fUr=new TextDecoder;function goe(e){let r={timestamp:0,red:0,infrared:0,heg:0,ambient:0,temperature:0},t=fUr.decode(e),n=t.split("|");if(n.length===3)r.timestamp=Date.now(),r.red=parseInt(n[0]),r.infrared=parseInt(n[1]),r.heg=parseFloat(n[2]);else return n.length>=2?(r.timestamp=Date.now(),r.red=parseInt(n[1]),r.infrared=parseInt(n[2]),r.heg=parseFloat(n[3]),n[4]&&(r.ambient=parseFloat(n[4])),n[5]&&(r.temperature=parseFloat(n[5])),r):t}var vB=40,Tk={baudRate:115200,write:`t
`,codec:goe,sps:vB},boe=Object.assign({},Tk);boe.sps=19;var hUr={sps:vB,services:{["6E400001-B5A3-F393-E0A9-E50E24DCCA9E".toLowerCase()]:{"6e400002-b5a3-f393-e0a9-e50e24dcca9e":{write:"t"},"6e400003-b5a3-f393-e0a9-e50e24dcca9e":{notify:!0,notifyCallback:void 0,codec:goe,sps:vB}},["6E400004-B5A3-F393-E0A9-E50E24DCCA9E".toLowerCase()]:{["6E400005-B5A3-F393-E0A9-E50E24DCCA9E".toLowerCase()]:{read:!0},["6E400006-B5A3-F393-E0A9-E50E24DCCA9E".toLowerCase()]:{write:void 0,notify:!0,notifyCallback:void 0},["6E400007-B5A3-F393-E0A9-E50E24DCCA9E".toLowerCase()]:{read:!0}}},androidWebBLE:"o"},_oe=Object.assign({},Tk);_oe.sps=19;function woe(e){let r;e.getInt8?r=new Uint8Array(e.buffer):e.buffer?r=e:r=new Uint8Array(e);let t={red:new Array(32),ir:new Array(32),max_dietemp:sr.get2sCompliment(r[193],8)+.0625*r[194],timestamp:Date.now()},n=0;for(;n<32;){let i=n*6;n%2===0?(t.ir[n]=(r[i+1]<<16|r[i+2]<<8|r[i+3])&524287,t.ir[n+1]=(r[i+4]<<16|r[i+5]<<8|r[i+6])&524287):(t.red[n-1]=(r[i+1]<<16|r[i+2]<<8|r[i+3])&524287,t.red[n]=(r[i+4]<<16|r[i+5]<<8|r[i+6])&524287),n++}return t}function Soe(e){let r;e.getInt8?r=new Uint8Array(e.buffer):e.buffer?r=e:r=new Uint8Array(e);let t={ax:new Array(20),ay:new Array(20),az:new Array(20),gx:new Array(20),gy:new Array(20),gz:new Array(20),mpu_dietemp:(sr.bytesToInt16(r[241],r[242])+521)/340+35,timestamp:Date.now()};for(let n=0;n<20;n++){let i=n*12;t.ax[n]=sr.bytesToInt16(r[i+1],r[i+2]),t.ay[n]=sr.bytesToInt16(r[i+3],r[i+4]),t.az[n]=sr.bytesToInt16(r[i+5],r[i+6]),t.gx[n]=sr.bytesToInt16(r[i+7],r[i+8]),t.gy[n]=sr.bytesToInt16(r[i+9],r[i+10]),t.gz[n]=sr.bytesToInt16(r[i+11],r[i+12])}return t}function vUr(e){let r;e.getInt8?r=new Uint8Array(e.buffer):e.buffer?r=e:r=new Uint8Array(e);let t={0:new Array,1:new Array,2:new Array,3:new Array,4:new Array,5:new Array,6:new Array,7:new Array,timestamp:Date.now()};for(let n=0;n<7;n++){let i=n*26+1;if(!r[i+23])break;t[0][n]=sr.bytesToUInt24(r[i],r[i+1],r[i+2]),t[1][n]=sr.bytesToUInt24(r[i+3],r[i+4],r[i+5]),t[2][n]=sr.bytesToUInt24(r[i+6],r[i+7],r[i+8]),t[3][n]=sr.bytesToUInt24(r[i+9],r[i+10],r[i+11]),t[4][n]=sr.bytesToUInt24(r[i+12],r[i+13],r[i+14]),t[5][n]=sr.bytesToUInt24(r[i+15],r[i+16],r[i+17]),t[6][n]=sr.bytesToUInt24(r[i+18],r[i+19],r[i+20]),t[7][n]=sr.bytesToUInt24(r[i+21],r[i+22],r[i+23])}return t}var mB=250,mUr={services:{["82046698-6313-4BB1-9645-6BA28BF86DF5".toLowerCase()]:{["8204669A-6313-4BB1-9645-6BA28BF86DF5".toLowerCase()]:{notify:!0,notifyCallback:void 0,codec:vUr,sps:mB}},["82E12914-9AFA-4648-BD1B-8E2B3DC6DAAF".toLowerCase()]:{["82E12915-9AFA-4648-BD1B-8E2B3DC6DAAF".toLowerCase()]:{write:void 0},["82E12916-9AFA-4648-BD1B-8E2B3DC6DAAF".toLowerCase()]:{read:!0}}},sps:mB},ns={nSec:10,sps:mB,units:"mV"},zit={lines:{0:JSON.parse(JSON.stringify(ns)),1:JSON.parse(JSON.stringify(ns)),2:JSON.parse(JSON.stringify(ns)),3:JSON.parse(JSON.stringify(ns)),4:JSON.parse(JSON.stringify(ns)),5:JSON.parse(JSON.stringify(ns)),6:JSON.parse(JSON.stringify(ns)),7:JSON.parse(JSON.stringify(ns))}},hi={2:{type:"POOR_SIGNAL",format:"<B",byteLength:1},144:{type:"heg",format:"<i",byteLength:4},145:{type:"filteredHEG",format:"<i",byteLength:4},147:{type:"rawdata4",format:"<iiii",byteLength:4*4},148:{type:"rawdata6",format:"<iiiiii",byteLength:4*6},160:{type:"sampleNumber",format:"<i",byteLength:4},176:{type:"debug0",format:"<i",byteLength:4},177:{type:"debug1",format:"<i",byteLength:4},178:{type:"debug2",format:"<i",byteLength:4},179:{type:"debug3",format:"<i",byteLength:4},180:{type:"debug4",format:"<iiiiii",byteLength:4*6},181:{type:"debug4",format:"<iiiiii",byteLength:4*6},182:{type:"rawdata27",format:"<B"+"i".repeat(26),byteLength:1+4*26}};function yUr(e){let r={},t=0;for(;t<e.length;)if(hi[e[t]]&&t+1+hi[e[t]].byteLength<=e.length){let n=e.slice(t+1,t+1+hi[e[t]].byteLength).buffer,i=sr.struct(hi[e[t]].format).unpack(n),c=hi[e[t]].type;c==="unfilteredHEG"||c==="heg"?i=i[0]/256:(c==="POOR_SIGNAL"||c==="sampleNumber"||c==="debug0"||c==="debug1"||c==="debug2"||c==="debug3")&&(i=i[0]),r[hi[e[t]].type]?Array.isArray(i)?r[hi[e[t]].type].push(...i):r[hi[e[t]].type].push(i):Array.isArray(i)?r[hi[e[t]].type]=i:r[hi[e[t]].type]=[i],t+=hi[e[t]].byteLength+1}else t++;return r.timestamp=Date.now(),r}var gUr={baudRate:38400,bufferSize:400,write:`protocol 3
`,buffering:{searchBytes:new Uint8Array([170,170])},codec:yUr,sps:10.101},bUr=1013.25,xoe=e=>{let r;e.getInt8?r=new Uint8Array(e.buffer):e.buffer?r=e:r=new Uint8Array(e);let t={temp:[],pressure:[],humidity:[],altitude:[]};for(let n=0;n<3;n++){let i=n*24,c=sr.bytesToUInt32(r[0+i],r[1+i],r[2+i],r[3+i]),u=sr.bytesToUInt32(r[4+i],r[5+i],r[6+i],r[7+i]);t.temp.push(c+u/Math.pow(10,Math.ceil(Math.log10(u))));let a=sr.bytesToUInt32(r[8+i],r[9+i],r[10+i],r[11+i]),s=sr.bytesToUInt32(r[12+i],r[13+i],r[14+i],r[15+i]);t.pressure.push(a+s/Math.pow(10,Math.ceil(Math.log10(s))));let o=sr.bytesToUInt32(r[16+i],r[17+i],r[18+i],r[19+i]),l=sr.bytesToUInt32(r[20+i],r[21+i],r[22+i],r[23+i]);t.humidity.push(o+l/Math.pow(10,Math.ceil(Math.log10(l)))),t.altitude.push(SUr(t.pressure[n],t.temp[n]))}return t},_Ur=1/5.257,wUr=1/.0065;function SUr(e,r){return(Math.pow(bUr/e,_Ur)-1)*(r+273.15)*wUr}function xUr(e){let r;e.getInt8?r=new Uint8Array(e.buffer):e.buffer?r=e:r=new Uint8Array(e);let t={};if(r[0]===2)Object.assign(t,td(r.subarray(2)));else if(r[0]===3){let n=td(r.subarray(2));Object.keys(n).forEach((i,c)=>{t[c+8]=n[i]})}else r[0]===4?Object.assign(t,Soe(r.subarray(2))):r[0]===5?Object.assign(t,woe(r.subarray(2))):r[0]===6?Object.assign(t,xoe(r.subarray(2))):Object.assign(t,td(r));return t}var OUr={baudRate:115200,buffering:{searchBytes:new Uint8Array([240,240])},codec:xUr,sps:250},DUr={sps:250,services:{"0000cafe-b0ba-8bad-f00d-deadbeef0000":{"0001cafe-b0ba-8bad-f00d-deadbeef0000":{write:void 0},"0002cafe-b0ba-8bad-f00d-deadbeef0000":{notify:!0,notifyCallback:void 0,codec:td,sps:250},"0003cafe-b0ba-8bad-f00d-deadbeef0000":{notify:!0,notifyCallback:void 0,codec:woe,sps:100},"0004cafe-b0ba-8bad-f00d-deadbeef0000":{notify:!0,notifyCallback:void 0,codec:Soe,sps:100},"0005cafe-b0ba-8bad-f00d-deadbeef0000":{notify:!0,notifyCallback:void 0,codec:td,sps:250},"0006cafe-b0ba-8bad-f00d-deadbeef0000":{notify:!0,notifyCallback:void 0,codec:xoe,sps:3.33}}}},is={nSec:10,sps:250,units:"mV"},Jit={lines:{0:JSON.parse(JSON.stringify(is)),1:JSON.parse(JSON.stringify(is)),2:JSON.parse(JSON.stringify(is)),3:JSON.parse(JSON.stringify(is)),4:JSON.parse(JSON.stringify(is)),5:JSON.parse(JSON.stringify(is)),6:JSON.parse(JSON.stringify(is)),7:JSON.parse(JSON.stringify(is))},generateNewLines:!0,cleanGeneration:!1},NUr=32,CUr=24,AUr=1.2,sn={sps:250,useDCBlock:!1,useBandpass:!1,bandpassLower:3,bandpassUpper:45,useScaling:!0,scalar:.96*1e3*AUr/(NUr*(Math.pow(2,CUr)-1))},Vit={0:JSON.parse(JSON.stringify(sn)),1:JSON.parse(JSON.stringify(sn)),2:JSON.parse(JSON.stringify(sn)),3:JSON.parse(JSON.stringify(sn)),4:JSON.parse(JSON.stringify(sn)),5:JSON.parse(JSON.stringify(sn)),6:JSON.parse(JSON.stringify(sn)),7:JSON.parse(JSON.stringify(sn)),8:JSON.parse(JSON.stringify(sn)),9:JSON.parse(JSON.stringify(sn)),10:JSON.parse(JSON.stringify(sn)),11:JSON.parse(JSON.stringify(sn)),12:JSON.parse(JSON.stringify(sn)),13:JSON.parse(JSON.stringify(sn)),14:JSON.parse(JSON.stringify(sn)),15:JSON.parse(JSON.stringify(sn))},MUr=new TextDecoder;function Ooe(e){let r={timestamp:0,left_red:0,left_infrared:0,left_heg:0,center_red:0,center_infrared:0,center_heg:0,right_red:0,right_infrared:0,right_heg:0},t=MUr.decode(e),n=t.split("|");return n.length>=5?(r.timestamp=Date.now(),r.left_red=parseInt(n[1]),r.left_infrared=parseInt(n[2]),r.left_heg=parseFloat(n[3]),r.center_red=parseInt(n[4]),r.center_infrared=parseInt(n[5]),r.center_heg=parseFloat(n[6]),r.right_red=parseInt(n[7]),r.right_infrared=parseInt(n[8]),r.right_heg=parseFloat(n[9]),r):t}var PUr={baudRate:115200,codec:Ooe},EUr={services:{["6E400001-B5A3-F393-E0A9-E50E24DCCA9E".toLowerCase()]:{"6e400002-b5a3-f393-e0a9-e50e24dcca9e":{write:"t"},"6e400003-b5a3-f393-e0a9-e50e24dcca9e":{notify:!0,notifyCallback:void 0,codec:Ooe}},["6E400004-B5A3-F393-E0A9-E50E24DCCA9E".toLowerCase()]:{["6E400005-B5A3-F393-E0A9-E50E24DCCA9E".toLowerCase()]:{read:!0},["6E400006-B5A3-F393-E0A9-E50E24DCCA9E".toLowerCase()]:{write:void 0,notify:!0,notifyCallback:void 0},["6E400007-B5A3-F393-E0A9-E50E24DCCA9E".toLowerCase()]:{read:!0}}},androidWebBLE:"o"};function qUr(e){let r={red:e.getInt32(2),ir:e.getInt32(6),ir2:e.getInt32(10),timestamp:Date.now()};return r.heg=r.red/(.5*(r.ir+r.ir2)),r}var Iie=40,IUr={namePrefix:"blueberry",services:{"0f0e0d0c-0b0a-0908-0706-050403020100":{"1f1e1d1c-1b1a-1918-1716-151413121110":{write:void 0},"3f3e3d3c-3b3a-3938-3736-353433323130":{notify:!0,notifyCallback:void 0,codec:qUr,sps:Iie}}},sps:Iie};function BUr(e){let r={sred:e.getInt32(2),sir:e.getInt32(6),sir2:e.getInt32(10),timestamp:Date.now()};return r.sheg=r.sred/(.5*(r.sir+r.sir2)),r}function kUr(e){let r={red:e.getInt32(2),ir:e.getInt32(6),ir2:e.getInt32(10),timestamp:Date.now()};return r.heg=r.sred/(.5*(r.ir+r.ir2)),r}var QI=40,jUr={namePrefix:"blueberry",services:{"0f0e0d0c-0b0a-0908-0706-050403020100":{"1f1e1d1c-1b1a-1918-1716-151413121110":{write:void 0},"4f4e4d4c-4b6a-6968-6766-656463426160":{notify:!0,notifyCallback:void 0,codec:kUr,sps:QI},"4f4e4d4c-4b5a-5958-5756-555453425150":{notify:!0,notifyCallback:void 0,codec:BUr,sps:QI}}},sps:QI},s2={sps:250,useDCBlock:!0,useBandpass:!0,bandpassLower:3,bandpassUpper:45},Git={0:JSON.parse(JSON.stringify(s2)),1:JSON.parse(JSON.stringify(s2)),2:JSON.parse(JSON.stringify(s2)),3:JSON.parse(JSON.stringify(s2))},o2={nSec:10,sps:250,units:"mV"},Hit={lines:{0:JSON.parse(JSON.stringify(o2)),1:JSON.parse(JSON.stringify(o2)),2:JSON.parse(JSON.stringify(o2)),3:JSON.parse(JSON.stringify(o2)),ax:{nSec:10,sps:250,units:"mg"},ay:{nSec:10,sps:250,units:"mg"},az:{nSec:10,sps:250,units:"mg"}},generateNewLines:!0},Gl={sps:250,useDCBlock:!0,useBandpass:!0,bandpassLower:3,bandpassUpper:45},Wit={0:JSON.parse(JSON.stringify(Gl)),1:JSON.parse(JSON.stringify(Gl)),2:JSON.parse(JSON.stringify(Gl)),3:JSON.parse(JSON.stringify(Gl)),4:JSON.parse(JSON.stringify(Gl))};function TUr(e){return{hr:e.getInt8(1),timestamp:Date.now()}}var RUr={services:{heart_rate:{heart_rate_measurement:{notify:!0,notifyCallback:void 0,codec:TUr}}}},Doe={sps:250,simulate:{0:{sps:250,freq:1,amplitude:1,offset:0},1:{sps:250,freq:10,amplitude:1,offset:0},2:{sps:250,freq:100,amplitude:.5,offset:.5},3:{sps:250,freq:25,amplitude:1,offset:0}},connect:(e={})=>new Promise(async(r,t)=>{let n={_id:`simulated${Math.floor(Math.random()*1e15)}`,settings:Object.assign(Object.assign({},Doe),e)};n.settings.looping=!0;let i=50,c=Date.now(),u=()=>{if(n.settings.looping){let a={},s=Date.now(),o=s-c;for(let l in n.settings.simulate){let d=Math.floor(n.settings.simulate[l].sps*o/1e3);a[l]=new Array(d).fill(0),a[l]=a[l].map((p,f)=>Math.sin(2*Math.PI*n.settings.simulate[l].freq*.001*(c+o*(f+1)/d))*n.settings.simulate[l].amplitude+n.settings.simulate[l].offset)}c=s,a.timestamp=c,n.settings.ondata(a),setTimeout(()=>{u()},i)}};u(),n.settings.onconnect&&n.settings.onconnect(n),r(n)}),codec:e=>e,disconnect:e=>{console.log(e),e.settings.looping=!1,e.settings.ondisconnect(e)},onconnect:e=>{console.log("muse connected!",e)},ondisconnect:e=>{console.log("muse disconnected!",e)},ondata:e=>{console.log(e)}},FUr={BLE:{nrf5x:DUr,hegduino:hUr,hegduinoV1:_oe,cognixionONE:mUr,statechanger:EUr,blueberry:IUr,blueberry2:jUr,heart_rate:RUr},USB:{nrf5x:OUr,freeEEG32:uUr,freeEEG32_optical:lUr,freeEEG128:sUr,hegduino:Tk,hegduinoV1:boe,cyton:$I,cyton_daisy:$I,peanut:gUr,statechanger:PUr,cognixionONE:$I},BLE_OTHER:{},USB_OTHER:{},OTHER:{simulator:Doe}},$it=new TextDecoder,Noe={BLE_OTHER:{muse:YB,ganglion:kk}},Rk={};Object.assign(Rk,FUr);Object.assign(Rk,Noe);var Coe={};yo(Coe,{default:()=>LUr});var LUr=e=>{if(e.timestamp&&Object.defineProperty(e,"timestamp",{value:e.timestamp,enumerable:!1}),"electrode"in e)return{[e.electrode[0]]:e.samples};if(e.timestamp)return e},UUr=Bie,zUr={style:{zIndex:100,position:"absolute",top:"0",right:"0",left:"0"}},JUr={connectmode:{options:[{value:"OTHER",show:"selectOther"},{value:"BLE",show:"selectBLE"},{value:"USB",show:"selectUSB"},{value:"BLE_OTHER",show:"selectBLEOther"}]},selectUSB:{options:{cyton:"Open BCI Cyton",cyton_daisy:"Open BCI Cyton x2 (daisy chain mode)",freeeeg32:"FreeEEG32",freeeeg32_optical:"FreeEEG32 optical cable",freeeeg128:"FreeEEG128",nrf5x:"nRF5x board"}},selectBLE:{options:{nrf5x:"nRF5x board"}},selectBLEOther:{options:{muse:"Muse",ganglion:"Ganglion"}},selectOther:{options:{simulator:"Simulator"}},connect:{thirdPartyDecoder:dae},preprocess:Coe},VUr={preprocess:{ondata:!0},output:{ondata:!1,preprocess:!0}};console.log("thirdPartyDecoder",KN,Fk);var GUr=tq,HUr={style:{zIndex:100,position:"absolute",top:"0",right:"0",left:"0"}},WUr={connectmode:{options:[{value:"OTHER",show:"selectOther"},{value:"BLE",show:"selectBLE"},{value:"USB",show:"selectUSB"},{value:"BLE_OTHER",show:"selectBLEOther"}]},selectUSB:{options:{cyton:"Open BCI Cyton",cyton_daisy:"Open BCI Cyton x2 (daisy chain mode)",freeeeg32:"FreeEEG32",freeeeg32_optical:"FreeEEG32 optical cable",freeeeg128:"FreeEEG128",nrf5x:"nRF5x board"}},selectBLE:{options:{nrf5x:"nRF5x board"}},selectBLEOther:{options:{muse:"Muse",ganglion:"Ganglion"}},selectOther:{options:{simulator:"Simulator"}},connect:{thirdPartyDecoder:KN},preprocess:kI},$Ur={preprocess:{ondata:!0},output:{ondata:!1,preprocess:!0}};var QUr=(e,r)=>e+r,vat={device:{__compose:[Lk]},calculations:{engagement:void 0,default:function(e){let r=["theta","alpha","beta"],t=Uk.default.transpose(e),i=Uk.default.bandpower(t,this.sps,r).map(u=>u.reduce(QUr)/u.length),c=i[2]/(i[1]+i[0]);this.engagement=c}}},mat={"calculations.sps":"device.connect.sps",calculations:{"device.output":{data:[],onKey:function(e,r){let t=parseInt(e);this.data[t]?(this.toReturn=[...this.data],this.data=[],this.data[e]=r[e]):this.data[e]=r[e]},__format:function(e){if(Object.keys(e).forEach(r=>this.onKey(r,e)),this.toReturn){let r=this.toReturn;return delete this.toReturn,[r]}}}}};export{vat as __children,mat as __listeners};
/*!
 *  decimal.js v10.4.2
 *  An arbitrary-precision Decimal type for JavaScript.
 *  https://github.com/MikeMcl/decimal.js
 *  Copyright (c) 2022 Michael Mclaughlin <M8ch88l@gmail.com>
 *  MIT Licence
 */
/*! Capacitor: https://capacitorjs.com/ - MIT License */
/**
 * @license Complex.js v2.1.1 12/05/2020
 *
 * Copyright (c) 2020, Robert Eisele (robert@xarg.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/
/**
 * @license Fraction.js v4.2.0 05/03/2022
 * https://www.xarg.org/2014/03/rational-numbers-in-javascript/
 *
 * Copyright (c) 2021, Robert Eisele (robert@xarg.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/
//# sourceMappingURL=index.esm.js.map
